const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CTSVSP-8.js","assets/projectEnvVariables-Dc7Ax8fr.js"])))=>i.map(i=>d[i]);
var Rie=Object.defineProperty;var Iie=(t,e,r)=>e in t?Rie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Kt=(t,e,r)=>Iie(t,typeof e!="symbol"?e+"":e,r);import{g as Fie}from"./projectEnvVariables-Dc7Ax8fr.js";function $ie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xk={exports:{}},wy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v7;function Bie(){if(v7)return wy;v7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:s}}return wy.Fragment=e,wy.jsx=r,wy.jsxs=r,wy}var w7;function Hie(){return w7||(w7=1,Xk.exports=Bie()),Xk.exports}var i=Hie(),Jk={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7;function zie(){if(j7)return sn;j7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function N(X,U,J){this.props=X,this.context=U,this.refs=b,this.updater=J||v}N.prototype.isReactComponent={},N.prototype.setState=function(X,U){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,U,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function k(){}k.prototype=N.prototype;function S(X,U,J){this.props=X,this.context=U,this.refs=b,this.updater=J||v}var A=S.prototype=new k;A.constructor=S,w(A,N.prototype),A.isPureReactComponent=!0;var _=Array.isArray;function O(){}var I={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function R(X,U,J){var ee=J.ref;return{$$typeof:t,type:X,key:U,ref:ee!==void 0?ee:null,props:J}}function B(X,U){return R(X.type,U,X.props)}function D(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function M(X){var U={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(J){return U[J]})}var H=/\/+/g;function G(X,U){return typeof X=="object"&&X!==null&&X.key!=null?M(""+X.key):U.toString(36)}function Y(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(O,O):(X.status="pending",X.then(function(U){X.status==="pending"&&(X.status="fulfilled",X.value=U)},function(U){X.status==="pending"&&(X.status="rejected",X.reason=U)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function W(X,U,J,ee,ne){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var Ae=!1;if(X===null)Ae=!0;else switch(ue){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(X.$$typeof){case t:case e:Ae=!0;break;case f:return Ae=X._init,W(Ae(X._payload),U,J,ee,ne)}}if(Ae)return ne=ne(X),Ae=ee===""?"."+G(X,0):ee,_(ne)?(J="",Ae!=null&&(J=Ae.replace(H,"$&/")+"/"),W(ne,U,J,"",function(Ce){return Ce})):ne!=null&&(D(ne)&&(ne=B(ne,J+(ne.key==null||X&&X.key===ne.key?"":(""+ne.key).replace(H,"$&/")+"/")+Ae)),U.push(ne)),1;Ae=0;var ke=ee===""?".":ee+":";if(_(X))for(var je=0;je<X.length;je++)ee=X[je],ue=ke+G(ee,je),Ae+=W(ee,U,J,ue,ne);else if(je=p(X),typeof je=="function")for(X=je.call(X),je=0;!(ee=X.next()).done;)ee=ee.value,ue=ke+G(ee,je++),Ae+=W(ee,U,J,ue,ne);else if(ue==="object"){if(typeof X.then=="function")return W(Y(X),U,J,ee,ne);throw U=String(X),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function $(X,U,J){if(X==null)return X;var ee=[],ne=0;return W(X,ee,"","",function(ue){return U.call(J,ue,ne++)}),ee}function q(X){if(X._status===-1){var U=X._result;U=U(),U.then(function(J){(X._status===0||X._status===-1)&&(X._status=1,X._result=J)},function(J){(X._status===0||X._status===-1)&&(X._status=2,X._result=J)}),X._status===-1&&(X._status=0,X._result=U)}if(X._status===1)return X._result.default;throw X._result}var Z=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},ce={map:$,forEach:function(X,U,J){$(X,function(){U.apply(this,arguments)},J)},count:function(X){var U=0;return $(X,function(){U++}),U},toArray:function(X){return $(X,function(U){return U})||[]},only:function(X){if(!D(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return sn.Activity=m,sn.Children=ce,sn.Component=N,sn.Fragment=r,sn.Profiler=a,sn.PureComponent=S,sn.StrictMode=n,sn.Suspense=c,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,sn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return I.H.useMemoCache(X)}},sn.cache=function(X){return function(){return X.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(X,U,J){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ee=w({},X.props),ne=X.key;if(U!=null)for(ue in U.key!==void 0&&(ne=""+U.key),U)!L.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(ee[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)ee.children=J;else if(1<ue){for(var Ae=Array(ue),ke=0;ke<ue;ke++)Ae[ke]=arguments[ke+2];ee.children=Ae}return R(X.type,ne,ee)},sn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:s,_context:X},X},sn.createElement=function(X,U,J){var ee,ne={},ue=null;if(U!=null)for(ee in U.key!==void 0&&(ue=""+U.key),U)L.call(U,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ne[ee]=U[ee]);var Ae=arguments.length-2;if(Ae===1)ne.children=J;else if(1<Ae){for(var ke=Array(Ae),je=0;je<Ae;je++)ke[je]=arguments[je+2];ne.children=ke}if(X&&X.defaultProps)for(ee in Ae=X.defaultProps,Ae)ne[ee]===void 0&&(ne[ee]=Ae[ee]);return R(X,ue,ne)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(X){return{$$typeof:l,render:X}},sn.isValidElement=D,sn.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:q}},sn.memo=function(X,U){return{$$typeof:u,type:X,compare:U===void 0?null:U}},sn.startTransition=function(X){var U=I.T,J={};I.T=J;try{var ee=X(),ne=I.S;ne!==null&&ne(J,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(O,Z)}catch(ue){Z(ue)}finally{U!==null&&J.types!==null&&(U.types=J.types),I.T=U}},sn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},sn.use=function(X){return I.H.use(X)},sn.useActionState=function(X,U,J){return I.H.useActionState(X,U,J)},sn.useCallback=function(X,U){return I.H.useCallback(X,U)},sn.useContext=function(X){return I.H.useContext(X)},sn.useDebugValue=function(){},sn.useDeferredValue=function(X,U){return I.H.useDeferredValue(X,U)},sn.useEffect=function(X,U){return I.H.useEffect(X,U)},sn.useEffectEvent=function(X){return I.H.useEffectEvent(X)},sn.useId=function(){return I.H.useId()},sn.useImperativeHandle=function(X,U,J){return I.H.useImperativeHandle(X,U,J)},sn.useInsertionEffect=function(X,U){return I.H.useInsertionEffect(X,U)},sn.useLayoutEffect=function(X,U){return I.H.useLayoutEffect(X,U)},sn.useMemo=function(X,U){return I.H.useMemo(X,U)},sn.useOptimistic=function(X,U){return I.H.useOptimistic(X,U)},sn.useReducer=function(X,U,J){return I.H.useReducer(X,U,J)},sn.useRef=function(X){return I.H.useRef(X)},sn.useState=function(X){return I.H.useState(X)},sn.useSyncExternalStore=function(X,U,J){return I.H.useSyncExternalStore(X,U,J)},sn.useTransition=function(){return I.H.useTransition()},sn.version="19.2.0",sn}var N7;function zv(){return N7||(N7=1,Jk.exports=zie()),Jk.exports}var y=zv();const he=Kn(y),Y2=$ie({__proto__:null,default:he},[y]);var Qk={exports:{}},jy={},Zk={exports:{}},eC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S7;function qie(){return S7||(S7=1,(function(t){function e(W,$){var q=W.length;W.push($);e:for(;0<q;){var Z=q-1>>>1,ce=W[Z];if(0<a(ce,$))W[Z]=$,W[q]=ce,q=Z;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var $=W[0],q=W.pop();if(q!==$){W[0]=q;e:for(var Z=0,ce=W.length,X=ce>>>1;Z<X;){var U=2*(Z+1)-1,J=W[U],ee=U+1,ne=W[ee];if(0>a(J,q))ee<ce&&0>a(ne,J)?(W[Z]=ne,W[ee]=q,Z=ee):(W[Z]=J,W[U]=q,Z=U);else if(ee<ce&&0>a(ne,q))W[Z]=ne,W[ee]=q,Z=ee;else break e}}return $}function a(W,$){var q=W.sortIndex-$.sortIndex;return q!==0?q:W.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,g=3,p=!1,v=!1,w=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(W){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=W)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function _(W){if(w=!1,A(W),!v)if(r(c)!==null)v=!0,O||(O=!0,M());else{var $=r(u);$!==null&&Y(_,$.startTime-W)}}var O=!1,I=-1,L=5,R=-1;function B(){return b?!0:!(t.unstable_now()-R<L)}function D(){if(b=!1,O){var W=t.unstable_now();R=W;var $=!0;try{e:{v=!1,w&&(w=!1,k(I),I=-1),p=!0;var q=g;try{t:{for(A(W),m=r(c);m!==null&&!(m.expirationTime>W&&B());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,g=m.priorityLevel;var ce=Z(m.expirationTime<=W);if(W=t.unstable_now(),typeof ce=="function"){m.callback=ce,A(W),$=!0;break t}m===r(c)&&n(c),A(W)}else n(c);m=r(c)}if(m!==null)$=!0;else{var X=r(u);X!==null&&Y(_,X.startTime-W),$=!1}}break e}finally{m=null,g=q,p=!1}$=void 0}}finally{$?M():O=!1}}}var M;if(typeof S=="function")M=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=D,M=function(){G.postMessage(null)}}else M=function(){N(D,0)};function Y(W,$){I=N(function(){W(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var q=g;g=$;try{return W()}finally{g=q}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(W,$){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=g;g=W;try{return $()}finally{g=q}},t.unstable_scheduleCallback=function(W,$,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,W){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,W={id:f++,callback:$,priorityLevel:W,startTime:q,expirationTime:ce,sortIndex:-1},q>Z?(W.sortIndex=q,e(u,W),r(c)===null&&W===r(u)&&(w?(k(I),I=-1):w=!0,Y(_,q-Z))):(W.sortIndex=ce,e(c,W),v||p||(v=!0,O||(O=!0,M()))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var $=g;return function(){var q=g;g=$;try{return W.apply(this,arguments)}finally{g=q}}}})(eC)),eC}var k7;function Uie(){return k7||(k7=1,Zk.exports=qie()),Zk.exports}var tC={exports:{}},ro={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C7;function Wie(){if(C7)return ro;C7=1;var t=zv();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:u,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ro.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ro.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,f)},ro.flushSync=function(c){var u=o.T,f=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=u,n.p=f,n.d.f()}},ro.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},ro.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ro.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:p}):f==="script"&&n.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ro.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},ro.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin);n.d.L(c,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ro.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},ro.requestFormReset=function(c){n.d.r(c)},ro.unstable_batchedUpdates=function(c,u){return c(u)},ro.useFormState=function(c,u,f){return o.H.useFormState(c,u,f)},ro.useFormStatus=function(){return o.H.useHostTransitionStatus()},ro.version="19.2.0",ro}var _7;function DG(){if(_7)return tC.exports;_7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tC.exports=Wie(),tC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A7;function Vie(){if(A7)return jy;A7=1;var t=Uie(),e=zv(),r=DG();function n(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function o(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function l(d){if(d.tag===31){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function c(d){if(s(d)!==d)throw Error(n(188))}function u(d){var h=d.alternate;if(!h){if(h=s(d),h===null)throw Error(n(188));return h!==d?null:d}for(var x=d,j=h;;){var T=x.return;if(T===null)break;var F=T.alternate;if(F===null){if(j=T.return,j!==null){x=j;continue}break}if(T.child===F.child){for(F=T.child;F;){if(F===x)return c(T),d;if(F===j)return c(T),h;F=F.sibling}throw Error(n(188))}if(x.return!==j.return)x=T,j=F;else{for(var te=!1,ye=T.child;ye;){if(ye===x){te=!0,x=T,j=F;break}if(ye===j){te=!0,j=T,x=F;break}ye=ye.sibling}if(!te){for(ye=F.child;ye;){if(ye===x){te=!0,x=F,j=T;break}if(ye===j){te=!0,j=F,x=T;break}ye=ye.sibling}if(!te)throw Error(n(189))}}if(x.alternate!==j)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:h}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=f(d),h!==null)return h;d=d.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}var H=Symbol.for("react.client.reference");function G(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===H?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case w:return"Fragment";case N:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case v:return"Portal";case S:return d.displayName||"Context";case k:return(d._context.displayName||"Context")+".Consumer";case A:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case I:return h=d.displayName||null,h!==null?h:G(d.type)||"Memo";case L:h=d._payload,d=d._init;try{return G(d(h))}catch{}}return null}var Y=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Z=[],ce=-1;function X(d){return{current:d}}function U(d){0>ce||(d.current=Z[ce],Z[ce]=null,ce--)}function J(d,h){ce++,Z[ce]=d.current,d.current=h}var ee=X(null),ne=X(null),ue=X(null),Ae=X(null);function ke(d,h){switch(J(ue,h),J(ne,d),J(ee,null),h.nodeType){case 9:case 11:d=(d=h.documentElement)&&(d=d.namespaceURI)?q8(d):0;break;default:if(d=h.tagName,h=h.namespaceURI)h=q8(h),d=U8(h,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}U(ee),J(ee,d)}function je(){U(ee),U(ne),U(ue)}function Ce(d){d.memoizedState!==null&&J(Ae,d);var h=ee.current,x=U8(h,d.type);h!==x&&(J(ne,d),J(ee,x))}function Be(d){ne.current===d&&(U(ee),U(ne)),Ae.current===d&&(U(Ae),xy._currentValue=q)}var fe,ge;function ae(d){if(fe===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);fe=h&&h[1]||"",ge=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+d+ge}var ie=!1;function ht(d,h){if(!d||ie)return"";ie=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(h){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(St){var xt=St}Reflect.construct(d,[],Ft)}else{try{Ft.call()}catch(St){xt=St}d.call(Ft.prototype)}}else{try{throw Error()}catch(St){xt=St}(Ft=d())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(St){if(St&&xt&&typeof St.stack=="string")return[St.stack,xt.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=j.DetermineComponentFrameRoot(),te=F[0],ye=F[1];if(te&&ye){var $e=te.split(`
`),pt=ye.split(`
`);for(T=j=0;j<$e.length&&!$e[j].includes("DetermineComponentFrameRoot");)j++;for(;T<pt.length&&!pt[T].includes("DetermineComponentFrameRoot");)T++;if(j===$e.length||T===pt.length)for(j=$e.length-1,T=pt.length-1;1<=j&&0<=T&&$e[j]!==pt[T];)T--;for(;1<=j&&0<=T;j--,T--)if($e[j]!==pt[T]){if(j!==1||T!==1)do if(j--,T--,0>T||$e[j]!==pt[T]){var Et=`
`+$e[j].replace(" at new "," at ");return d.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",d.displayName)),Et}while(1<=j&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?ae(x):""}function ut(d,h){switch(d.tag){case 26:case 27:case 5:return ae(d.type);case 16:return ae("Lazy");case 13:return d.child!==h&&h!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return ht(d.type,!1);case 11:return ht(d.type.render,!1);case 1:return ht(d.type,!0);case 31:return ae("Activity");default:return""}}function Pe(d){try{var h="",x=null;do h+=ut(d,x),x=d,d=d.return;while(d);return h}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}var Ke=Object.prototype.hasOwnProperty,yt=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Tt=t.unstable_shouldYield,_t=t.unstable_requestPaint,Se=t.unstable_now,gt=t.unstable_getCurrentPriorityLevel,at=t.unstable_ImmediatePriority,Nt=t.unstable_UserBlockingPriority,kt=t.unstable_NormalPriority,Ee=t.unstable_LowPriority,vt=t.unstable_IdlePriority,bt=t.log,Je=t.unstable_setDisableYieldValue,Le=null,et=null;function lt(d){if(typeof bt=="function"&&Je(d),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Le,d)}catch{}}var be=Math.clz32?Math.clz32:ft,me=Math.log,qe=Math.LN2;function ft(d){return d>>>=0,d===0?32:31-(me(d)/qe|0)|0}var Ge=256,we=262144,K=4194304;function ve(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Re(d,h,x){var j=d.pendingLanes;if(j===0)return 0;var T=0,F=d.suspendedLanes,te=d.pingedLanes;d=d.warmLanes;var ye=j&134217727;return ye!==0?(j=ye&~F,j!==0?T=ve(j):(te&=ye,te!==0?T=ve(te):x||(x=ye&~d,x!==0&&(T=ve(x))))):(ye=j&~F,ye!==0?T=ve(ye):te!==0?T=ve(te):x||(x=j&~d,x!==0&&(T=ve(x)))),T===0?0:h!==0&&h!==T&&(h&F)===0&&(F=T&-T,x=h&-h,F>=x||F===32&&(x&4194048)!==0)?h:T}function Ue(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function st(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var d=K;return K<<=1,(K&62914560)===0&&(K=4194304),d}function Fe(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function ze(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Rt(d,h,x,j,T,F){var te=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var ye=d.entanglements,$e=d.expirationTimes,pt=d.hiddenUpdates;for(x=te&~x;0<x;){var Et=31-be(x),Ft=1<<Et;ye[Et]=0,$e[Et]=-1;var xt=pt[Et];if(xt!==null)for(pt[Et]=null,Et=0;Et<xt.length;Et++){var St=xt[Et];St!==null&&(St.lane&=-536870913)}x&=~Ft}j!==0&&Ht(d,j,0),F!==0&&T===0&&d.tag!==0&&(d.suspendedLanes|=F&~(te&~h))}function Ht(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var j=31-be(h);d.entangledLanes|=h,d.entanglements[j]=d.entanglements[j]|1073741824|x&261930}function Ut(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var j=31-be(x),T=1<<j;T&h|d[j]&h&&(d[j]|=h),x&=~T}}function it(d,h){var x=h&-h;return x=(x&42)!==0?1:jt(x),(x&(d.suspendedLanes|h))!==0?0:x}function jt(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Wt(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function gr(){var d=$.p;return d!==0?d:(d=window.event,d===void 0?32:h7(d.type))}function fn(d,h){var x=$.p;try{return $.p=d,h()}finally{$.p=x}}var gn=Math.random().toString(36).slice(2),nr="__reactFiber$"+gn,Ur="__reactProps$"+gn,Kr="__reactContainer$"+gn,Zt="__reactEvents$"+gn,Ze="__reactListeners$"+gn,tt="__reactHandles$"+gn,Mt="__reactResources$"+gn,de="__reactMarker$"+gn;function Ye(d){delete d[nr],delete d[Ur],delete d[Zt],delete d[Ze],delete d[tt]}function wt(d){var h=d[nr];if(h)return h;for(var x=d.parentNode;x;){if(h=x[Kr]||x[nr]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=J8(d);d!==null;){if(x=d[nr])return x;d=J8(d)}return h}d=x,x=d.parentNode}return null}function or(d){if(d=d[nr]||d[Kr]){var h=d.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return d}return null}function Jr(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(n(33))}function Ot(d){var h=d[Mt];return h||(h=d[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function tr(d){d[de]=!0}var Mr=new Set,jr={};function cr(d,h){Fr(d,h),Fr(d+"Capture",h)}function Fr(d,h){for(jr[d]=h,d=0;d<h.length;d++)Mr.add(h[d])}var ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Fs={};function ma(d){return Ke.call(Fs,d)?!0:Ke.call(Hr,d)?!1:ha.test(d)?Fs[d]=!0:(Hr[d]=!0,!1)}function wn(d,h,x){if(ma(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var j=h.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function An(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function en(d,h,x,j){if(j===null)d.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+j)}}function In(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Cc(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Js(d,h,x){var j=Object.getOwnPropertyDescriptor(d.constructor.prototype,h);if(!d.hasOwnProperty(h)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var T=j.get,F=j.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return T.call(this)},set:function(te){x=""+te,F.call(this,te)}}),Object.defineProperty(d,h,{enumerable:j.enumerable}),{getValue:function(){return x},setValue:function(te){x=""+te},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function yo(d){if(!d._valueTracker){var h=Cc(d)?"checked":"value";d._valueTracker=Js(d,h,""+d[h])}}function Qs(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),j="";return d&&(j=Cc(d)?d.checked?"true":"false":d.value),d=j,d!==x?(h.setValue(d),!0):!1}function qo(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Ra=/[\n"\\]/g;function Wi(d){return d.replace(Ra,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function bd(d,h,x,j,T,F,te,ye){d.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?d.type=te:d.removeAttribute("type"),h!=null?te==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+In(h)):d.value!==""+In(h)&&(d.value=""+In(h)):te!=="submit"&&te!=="reset"||d.removeAttribute("value"),h!=null?vd(d,te,In(h)):x!=null?vd(d,te,In(x)):j!=null&&d.removeAttribute("value"),T==null&&F!=null&&(d.defaultChecked=!!F),T!=null&&(d.checked=T&&typeof T!="function"&&typeof T!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?d.name=""+In(ye):d.removeAttribute("name")}function Uf(d,h,x,j,T,F,te,ye){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(d.type=F),h!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||h!=null)){yo(d);return}x=x!=null?""+In(x):"",h=h!=null?""+In(h):x,ye||h===d.value||(d.value=h),d.defaultValue=h}j=j??T,j=typeof j!="function"&&typeof j!="symbol"&&!!j,d.checked=ye?d.checked:!!j,d.defaultChecked=!!j,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(d.name=te),yo(d)}function vd(d,h,x){h==="number"&&qo(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function ns(d,h,x,j){if(d=d.options,h){h={};for(var T=0;T<x.length;T++)h["$"+x[T]]=!0;for(x=0;x<d.length;x++)T=h.hasOwnProperty("$"+d[x].value),d[x].selected!==T&&(d[x].selected=T),T&&j&&(d[x].defaultSelected=!0)}else{for(x=""+In(x),h=null,T=0;T<d.length;T++){if(d[T].value===x){d[T].selected=!0,j&&(d[T].defaultSelected=!0);return}h!==null||d[T].disabled||(h=d[T])}h!==null&&(h.selected=!0)}}function wd(d,h,x){if(h!=null&&(h=""+In(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+In(x):""}function se(d,h,x,j){if(h==null){if(j!=null){if(x!=null)throw Error(n(92));if(Y(j)){if(1<j.length)throw Error(n(93));j=j[0]}x=j}x==null&&(x=""),h=x}x=In(h),d.defaultValue=x,j=d.textContent,j===x&&j!==""&&j!==null&&(d.value=j),yo(d)}function re(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var Ie=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qt(d,h,x){var j=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":j?d.setProperty(h,x):typeof x!="number"||x===0||Ie.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function cn(d,h,x){if(h!=null&&typeof h!="object")throw Error(n(62));if(d=d.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||h!=null&&h.hasOwnProperty(j)||(j.indexOf("--")===0?d.setProperty(j,""):j==="float"?d.cssFloat="":d[j]="");for(var T in h)j=h[T],h.hasOwnProperty(T)&&x[T]!==j&&Qt(d,T,j)}else for(var F in h)h.hasOwnProperty(F)&&Qt(d,F,h[F])}function xn(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(d){return is.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Mi(){}var Rl=null;function jd(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var $r=null,yu=null;function Jp(d){var h=or(d);if(h&&(d=h.stateNode)){var x=d[Ur]||null;e:switch(d=h.stateNode,h.type){case"input":if(bd(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Wi(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var j=x[h];if(j!==d&&j.form===d.form){var T=j[Ur]||null;if(!T)throw Error(n(90));bd(j,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<x.length;h++)j=x[h],j.form===d.form&&Qs(j)}break e;case"textarea":wd(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&ns(d,!!x.multiple,h,!1)}}}var xm=!1;function Qp(d,h,x){if(xm)return d(h,x);xm=!0;try{var j=d(h);return j}finally{if(xm=!1,($r!==null||yu!==null)&&(B1(),$r&&(h=$r,d=yu,yu=$r=null,Jp(h),d)))for(h=0;h<d.length;h++)Jp(d[h])}}function bo(d,h){var x=d.stateNode;if(x===null)return null;var j=x[Ur]||null;if(j===null)return null;x=j[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(d=d.type,j=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!j;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,h,typeof x));return x}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=!1;if(ss)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){ym=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{ym=!1}var vo=null,Sd=null,Il=null;function kd(){if(Il)return Il;var d,h=Sd,x=h.length,j,T="value"in vo?vo.value:vo.textContent,F=T.length;for(d=0;d<x&&h[d]===T[d];d++);var te=x-d;for(j=1;j<=te&&h[x-j]===T[F-j];j++);return Il=T.slice(d,1<j?1-j:void 0)}function _c(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function Wf(){return!0}function Vf(){return!1}function Vi(d){function h(x,j,T,F,te){this._reactName=x,this._targetInst=T,this.type=j,this.nativeEvent=F,this.target=te,this.currentTarget=null;for(var ye in d)d.hasOwnProperty(ye)&&(x=d[ye],this[ye]=x?x(F):F[ye]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Wf:Vf,this.isPropagationStopped=Vf,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),h}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Vi(wo),Ac=m({},wo,{view:0,detail:0}),Gf=Vi(Ac),Cd,Tc,bu,_d=m({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==bu&&(bu&&d.type==="mousemove"?(Cd=d.screenX-bu.screenX,Tc=d.screenY-bu.screenY):Tc=Cd=0,bu=d),Cd)},movementY:function(d){return"movementY"in d?d.movementY:Tc}}),$l=Vi(_d),Mc=m({},_d,{dataTransfer:0}),Zp=Vi(Mc),e0=m({},Ac,{relatedTarget:0}),Oc=Vi(e0),t0=m({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),z=Vi(t0),oe=m({},wo,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Oe=Vi(oe),He=m({},wo,{data:0}),rt=Vi(He),Pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=xr[d])?!!h[d]:!1}function Wr(){return Nr}var tn=m({},Ac,{key:function(d){if(d.key){var h=Pt[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=_c(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Bt[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(d){return d.type==="keypress"?_c(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?_c(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),zn=Vi(tn),Ia=m({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=Vi(Ia),pa=m({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Oi=Vi(pa),ui=m({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ls=Vi(ui),Uo=m({},_d,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=Vi(Uo),r0=m({},wo,{newState:0,oldState:0}),Yf=Vi(r0),Ad=[9,13,27,32],Bl=ss&&"CompositionEvent"in window,hl=null;ss&&"documentMode"in document&&(hl=document.documentMode);var Td=ss&&"TextEvent"in window&&!hl,vu=ss&&(!Bl||hl&&8<hl&&11>=hl),cs=" ",wu=!1;function ju(d,h){switch(d){case"keyup":return Ad.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Hl=!1;function Va(d,h){switch(d){case"compositionend":return Kf(h);case"keypress":return h.which!==32?null:(wu=!0,cs);case"textInput":return d=h.data,d===cs&&wu?null:d;default:return null}}function Ec(d,h){if(Hl)return d==="compositionend"||!Bl&&ju(d,h)?(d=kd(),Il=Sd=vo=null,Hl=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return vu&&h.locale!=="ko"?null:h.data;default:return null}}var Xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!Xf[d.type]:h==="textarea"}function jo(d,h,x,j){$r?yu?yu.push(j):yu=[j]:$r=j,h=G1(h,"onChange"),0<h.length&&(x=new Fl("onChange","change",null,x,j),d.push({event:x,listeners:h}))}var ml=null,Dc=null;function vm(d){I8(d,0)}function pl(d){var h=Jr(d);if(Qs(h))return d}function Nu(d,h){if(d==="change")return h}var eo=!1;if(ss){var $s;if(ss){var zl="oninput"in document;if(!zl){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),zl=typeof ql.oninput=="function"}$s=zl}else $s=!1;eo=$s&&(!document.documentMode||9<document.documentMode)}function Pc(){ml&&(ml.detachEvent("onpropertychange",Jf),Dc=ml=null)}function Jf(d){if(d.propertyName==="value"&&pl(Dc)){var h=[];jo(h,Dc,d,jd(d)),Qp(vm,h)}}function Qf(d,h,x){d==="focusin"?(Pc(),ml=h,Dc=x,ml.attachEvent("onpropertychange",Jf)):d==="focusout"&&Pc()}function ri(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return pl(Dc)}function n0(d,h){if(d==="click")return pl(h)}function Ul(d,h){if(d==="input"||d==="change")return pl(h)}function Wl(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var us=typeof Object.is=="function"?Object.is:Wl;function Lc(d,h){if(us(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),j=Object.keys(h);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var T=x[j];if(!Ke.call(h,T)||!us(d[T],h[T]))return!1}return!0}function Zf(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function eh(d,h){var x=Zf(d);d=0;for(var j;x;){if(x.nodeType===3){if(j=d+x.textContent.length,d<=h&&j>=h)return{node:x,offset:h-d};d=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Zf(x)}}function Rc(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?Rc(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function Ic(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=qo(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=qo(d.document)}return h}function Vl(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}var Md=ss&&"documentMode"in document&&11>=document.documentMode,No=null,Fc=null,Ns=null,Wo=!1;function qn(d,h,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Wo||No==null||No!==qo(j)||(j=No,"selectionStart"in j&&Vl(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Ns&&Lc(Ns,j)||(Ns=j,j=G1(Fc,"onSelect"),0<j.length&&(h=new Fl("onSelect","select",null,h,x),d.push({event:h,listeners:j}),h.target=No)))}function Pn(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var ga={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},ni={},Gl={};ss&&(Gl=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function gl(d){if(ni[d])return ni[d];if(!ga[d])return d;var h=ga[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in Gl)return ni[d]=h[x];return d}var Od=gl("animationend"),wm=gl("animationiteration"),Bx=gl("animationstart"),g1=gl("transitionrun"),x1=gl("transitionstart"),y1=gl("transitioncancel"),Hx=gl("transitionend"),zx=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Vo(d,h){zx.set(d,h),cr(h,[d])}var jm=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},So=[],Dd=0,a0=0;function Nm(){for(var d=Dd,h=a0=Dd=0;h<d;){var x=So[h];So[h++]=null;var j=So[h];So[h++]=null;var T=So[h];So[h++]=null;var F=So[h];if(So[h++]=null,j!==null&&T!==null){var te=j.pending;te===null?T.next=T:(T.next=te.next,te.next=T),j.pending=T}F!==0&&km(x,T,F)}}function Sm(d,h,x,j){So[Dd++]=d,So[Dd++]=h,So[Dd++]=x,So[Dd++]=j,a0|=j,d.lanes|=j,d=d.alternate,d!==null&&(d.lanes|=j)}function i0(d,h,x,j){return Sm(d,h,x,j),Ss(d)}function $c(d,h){return Sm(d,null,null,h),Ss(d)}function km(d,h,x){d.lanes|=x;var j=d.alternate;j!==null&&(j.lanes|=x);for(var T=!1,F=d.return;F!==null;)F.childLanes|=x,j=F.alternate,j!==null&&(j.childLanes|=x),F.tag===22&&(d=F.stateNode,d===null||d._visibility&1||(T=!0)),d=F,F=F.return;return d.tag===3?(F=d.stateNode,T&&h!==null&&(T=31-be(x),d=F.hiddenUpdates,j=d[T],j===null?d[T]=[h]:j.push(h),h.lane=x|536870912),F):null}function Ss(d){if(50<uy)throw uy=0,vk=null,Error(n(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var ds={};function s0(d,h,x,j){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(d,h,x,j){return new s0(d,h,x,j)}function o0(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Go(d,h){var x=d.alternate;return x===null?(x=ks(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function Cm(d,h){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function th(d,h,x,j,T,F){var te=0;if(j=d,typeof d=="function")o0(d)&&(te=1);else if(typeof d=="string")te=Sie(d,x,ee.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case R:return d=ks(31,x,h,T),d.elementType=R,d.lanes=F,d;case w:return Su(x.children,T,F,h);case b:te=8,T|=24;break;case N:return d=ks(12,x,h,T|2),d.elementType=N,d.lanes=F,d;case _:return d=ks(13,x,h,T),d.elementType=_,d.lanes=F,d;case O:return d=ks(19,x,h,T),d.elementType=O,d.lanes=F,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case S:te=10;break e;case k:te=9;break e;case A:te=11;break e;case I:te=14;break e;case L:te=16,j=null;break e}te=29,x=Error(n(130,d===null?"null":typeof d,"")),j=null}return h=ks(te,x,h,T),h.elementType=d,h.type=j,h.lanes=F,h}function Su(d,h,x,j){return d=ks(7,d,j,h),d.lanes=x,d}function _m(d,h,x){return d=ks(6,d,null,h),d.lanes=x,d}function l0(d){var h=ks(18,null,null,0);return h.stateNode=d,h}function rh(d,h,x){return h=ks(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}var c0=new WeakMap;function Yo(d,h){if(typeof d=="object"&&d!==null){var x=c0.get(d);return x!==void 0?x:(h={value:d,source:h,stack:Pe(h)},c0.set(d,h),h)}return{value:d,source:h,stack:Pe(h)}}var nh=[],Pd=0,u0=null,Am=0,Ko=[],Xo=0,ku=null,Jo=1,Qo="";function ko(d,h){nh[Pd++]=Am,nh[Pd++]=u0,u0=d,Am=h}function b1(d,h,x){Ko[Xo++]=Jo,Ko[Xo++]=Qo,Ko[Xo++]=ku,ku=d;var j=Jo;d=Qo;var T=32-be(j)-1;j&=~(1<<T),x+=1;var F=32-be(h)+T;if(30<F){var te=T-T%5;F=(j&(1<<te)-1).toString(32),j>>=te,T-=te,Jo=1<<32-be(h)+T|x<<T|j,Qo=F+d}else Jo=1<<F|x<<T|j,Qo=d}function qx(d){d.return!==null&&(ko(d,1),b1(d,1,0))}function d0(d){for(;d===u0;)u0=nh[--Pd],nh[Pd]=null,Am=nh[--Pd],nh[Pd]=null;for(;d===ku;)ku=Ko[--Xo],Ko[Xo]=null,Qo=Ko[--Xo],Ko[Xo]=null,Jo=Ko[--Xo],Ko[Xo]=null}function v1(d,h){Ko[Xo++]=Jo,Ko[Xo++]=Qo,Ko[Xo++]=ku,Jo=h.id,Qo=h.overflow,ku=d}var fs=null,Sa=null,jn=!1,Bs=null,Ga=!1,xl=Error(n(519));function Cu(d){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ah(Yo(h,d)),xl}function Ux(d){var h=d.stateNode,x=d.type,j=d.memoizedProps;switch(h[nr]=d,h[Ur]=j,x){case"dialog":Sn("cancel",h),Sn("close",h);break;case"iframe":case"object":case"embed":Sn("load",h);break;case"video":case"audio":for(x=0;x<fy.length;x++)Sn(fy[x],h);break;case"source":Sn("error",h);break;case"img":case"image":case"link":Sn("error",h),Sn("load",h);break;case"details":Sn("toggle",h);break;case"input":Sn("invalid",h),Uf(h,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0);break;case"select":Sn("invalid",h);break;case"textarea":Sn("invalid",h),se(h,j.value,j.defaultValue,j.children)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||j.suppressHydrationWarning===!0||H8(h.textContent,x)?(j.popover!=null&&(Sn("beforetoggle",h),Sn("toggle",h)),j.onScroll!=null&&Sn("scroll",h),j.onScrollEnd!=null&&Sn("scrollend",h),j.onClick!=null&&(h.onclick=Mi),h=!0):h=!1,h||Cu(d,!0)}function Bc(d){for(fs=d.return;fs;)switch(fs.tag){case 5:case 31:case 13:Ga=!1;return;case 27:case 3:Ga=!0;return;default:fs=fs.return}}function hs(d){if(d!==fs)return!1;if(!jn)return Bc(d),jn=!0,!1;var h=d.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||Lk(d.type,d.memoizedProps)),x=!x),x&&Sa&&Cu(d),Bc(d),h===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Sa=X8(d)}else if(h===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Sa=X8(d)}else h===27?(h=Sa,yh(d.type)?(d=Bk,Bk=null,Sa=d):Sa=h):Sa=fs?Jl(d.stateNode.nextSibling):null;return!0}function Ld(){Sa=fs=null,jn=!1}function Wx(){var d=Bs;return d!==null&&(al===null?al=d:al.push.apply(al,d),Bs=null),d}function ah(d){Bs===null?Bs=[d]:Bs.push(d)}var f0=X(null),_u=null,Yl=null;function Au(d,h,x){J(f0,h._currentValue),h._currentValue=x}function Zo(d){d._currentValue=f0.current,U(f0)}function ih(d,h,x){for(;d!==null;){var j=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,j!==null&&(j.childLanes|=h)):j!==null&&(j.childLanes&h)!==h&&(j.childLanes|=h),d===x)break;d=d.return}}function Rd(d,h,x,j){var T=d.child;for(T!==null&&(T.return=d);T!==null;){var F=T.dependencies;if(F!==null){var te=T.child;F=F.firstContext;e:for(;F!==null;){var ye=F;F=T;for(var $e=0;$e<h.length;$e++)if(ye.context===h[$e]){F.lanes|=x,ye=F.alternate,ye!==null&&(ye.lanes|=x),ih(F.return,x,d),j||(te=null);break e}F=ye.next}}else if(T.tag===18){if(te=T.return,te===null)throw Error(n(341));te.lanes|=x,F=te.alternate,F!==null&&(F.lanes|=x),ih(te,x,d),te=null}else te=T.child;if(te!==null)te.return=T;else for(te=T;te!==null;){if(te===d){te=null;break}if(T=te.sibling,T!==null){T.return=te.return,te=T;break}te=te.return}T=te}}function Tu(d,h,x,j){d=null;for(var T=h,F=!1;T!==null;){if(!F){if((T.flags&524288)!==0)F=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var te=T.alternate;if(te===null)throw Error(n(387));if(te=te.memoizedProps,te!==null){var ye=T.type;us(T.pendingProps.value,te.value)||(d!==null?d.push(ye):d=[ye])}}else if(T===Ae.current){if(te=T.alternate,te===null)throw Error(n(387));te.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(d!==null?d.push(xy):d=[xy])}T=T.return}d!==null&&Rd(h,d,x,j),h.flags|=262144}function h0(d){for(d=d.firstContext;d!==null;){if(!us(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Mu(d){_u=d,Yl=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ms(d){return w1(_u,d)}function m0(d,h){return _u===null&&Mu(d),w1(d,h)}function w1(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},Yl===null){if(d===null)throw Error(n(308));Yl=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else Yl=Yl.next=h;return x}var $S=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,j){d.push(j)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},BS=t.unstable_scheduleCallback,HS=t.unstable_NormalPriority,ai={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new $S,data:new Map,refCount:0}}function Tm(d){d.refCount--,d.refCount===0&&BS(HS,function(){d.controller.abort()})}var Mm=null,p0=0,C=0,P=null;function V(d,h){if(Mm===null){var x=Mm=[];p0=0,C=Ck(),P={status:"pending",value:void 0,then:function(j){x.push(j)}}}return p0++,h.then(Q,Q),h}function Q(){if(--p0===0&&Mm!==null){P!==null&&(P.status="fulfilled");var d=Mm;Mm=null,C=0,P=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function le(d,h){var x=[],j={status:"pending",value:null,reason:null,then:function(T){x.push(T)}};return d.then(function(){j.status="fulfilled",j.value=h;for(var T=0;T<x.length;T++)(0,x[T])(h)},function(T){for(j.status="rejected",j.reason=T,T=0;T<x.length;T++)(0,x[T])(void 0)}),j}var pe=W.S;W.S=function(d,h){d8=Se(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&V(d,h),pe!==null&&pe(d,h)};var xe=X(null);function Ne(){var d=xe.current;return d!==null?d:Ca.pooledCache}function _e(d,h){h===null?J(xe,xe.current):J(xe,h.pool)}function Me(){var d=Ne();return d===null?null:{parent:ai._currentValue,pool:d}}var We=Error(n(460)),dt=Error(n(474)),Te=Error(n(542)),Xe={then:function(){}};function ot(d){return d=d.status,d==="fulfilled"||d==="rejected"}function At(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(Mi,Mi),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Vt(d),d;default:if(typeof h.status=="string")h.then(Mi,Mi);else{if(d=Ca,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=h,d.status="pending",d.then(function(j){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=j}},function(j){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=j}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Vt(d),d}throw Ct=h,We}}function ct(d){try{var h=d._init;return h(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(Ct=x,We):x}}var Ct=null;function Lt(){if(Ct===null)throw Error(n(459));var d=Ct;return Ct=null,d}function Vt(d){if(d===We||d===Te)throw Error(n(483))}var $t=null,br=0;function ur(d){var h=br;return br+=1,$t===null&&($t=[]),At($t,d,h)}function Qr(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function mr(d,h){throw h.$$typeof===g?Error(n(525)):(d=Object.prototype.toString.call(h),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function vn(d){function h(nt,Ve){if(d){var mt=nt.deletions;mt===null?(nt.deletions=[Ve],nt.flags|=16):mt.push(Ve)}}function x(nt,Ve){if(!d)return null;for(;Ve!==null;)h(nt,Ve),Ve=Ve.sibling;return null}function j(nt){for(var Ve=new Map;nt!==null;)nt.key!==null?Ve.set(nt.key,nt):Ve.set(nt.index,nt),nt=nt.sibling;return Ve}function T(nt,Ve){return nt=Go(nt,Ve),nt.index=0,nt.sibling=null,nt}function F(nt,Ve,mt){return nt.index=mt,d?(mt=nt.alternate,mt!==null?(mt=mt.index,mt<Ve?(nt.flags|=67108866,Ve):mt):(nt.flags|=67108866,Ve)):(nt.flags|=1048576,Ve)}function te(nt){return d&&nt.alternate===null&&(nt.flags|=67108866),nt}function ye(nt,Ve,mt,It){return Ve===null||Ve.tag!==6?(Ve=_m(mt,nt.mode,It),Ve.return=nt,Ve):(Ve=T(Ve,mt),Ve.return=nt,Ve)}function $e(nt,Ve,mt,It){var Dr=mt.type;return Dr===w?Et(nt,Ve,mt.props.children,It,mt.key):Ve!==null&&(Ve.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===L&&ct(Dr)===Ve.type)?(Ve=T(Ve,mt.props),Qr(Ve,mt),Ve.return=nt,Ve):(Ve=th(mt.type,mt.key,mt.props,null,nt.mode,It),Qr(Ve,mt),Ve.return=nt,Ve)}function pt(nt,Ve,mt,It){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==mt.containerInfo||Ve.stateNode.implementation!==mt.implementation?(Ve=rh(mt,nt.mode,It),Ve.return=nt,Ve):(Ve=T(Ve,mt.children||[]),Ve.return=nt,Ve)}function Et(nt,Ve,mt,It,Dr){return Ve===null||Ve.tag!==7?(Ve=Su(mt,nt.mode,It,Dr),Ve.return=nt,Ve):(Ve=T(Ve,mt),Ve.return=nt,Ve)}function Ft(nt,Ve,mt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=_m(""+Ve,nt.mode,mt),Ve.return=nt,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case p:return mt=th(Ve.type,Ve.key,Ve.props,null,nt.mode,mt),Qr(mt,Ve),mt.return=nt,mt;case v:return Ve=rh(Ve,nt.mode,mt),Ve.return=nt,Ve;case L:return Ve=ct(Ve),Ft(nt,Ve,mt)}if(Y(Ve)||M(Ve))return Ve=Su(Ve,nt.mode,mt,null),Ve.return=nt,Ve;if(typeof Ve.then=="function")return Ft(nt,ur(Ve),mt);if(Ve.$$typeof===S)return Ft(nt,m0(nt,Ve),mt);mr(nt,Ve)}return null}function xt(nt,Ve,mt,It){var Dr=Ve!==null?Ve.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Dr!==null?null:ye(nt,Ve,""+mt,It);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case p:return mt.key===Dr?$e(nt,Ve,mt,It):null;case v:return mt.key===Dr?pt(nt,Ve,mt,It):null;case L:return mt=ct(mt),xt(nt,Ve,mt,It)}if(Y(mt)||M(mt))return Dr!==null?null:Et(nt,Ve,mt,It,null);if(typeof mt.then=="function")return xt(nt,Ve,ur(mt),It);if(mt.$$typeof===S)return xt(nt,Ve,m0(nt,mt),It);mr(nt,mt)}return null}function St(nt,Ve,mt,It,Dr){if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return nt=nt.get(mt)||null,ye(Ve,nt,""+It,Dr);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case p:return nt=nt.get(It.key===null?mt:It.key)||null,$e(Ve,nt,It,Dr);case v:return nt=nt.get(It.key===null?mt:It.key)||null,pt(Ve,nt,It,Dr);case L:return It=ct(It),St(nt,Ve,mt,It,Dr)}if(Y(It)||M(It))return nt=nt.get(mt)||null,Et(Ve,nt,It,Dr,null);if(typeof It.then=="function")return St(nt,Ve,mt,ur(It),Dr);if(It.$$typeof===S)return St(nt,Ve,mt,m0(Ve,It),Dr);mr(Ve,It)}return null}function yr(nt,Ve,mt,It){for(var Dr=null,Vn=null,Sr=Ve,dn=Ve=0,Mn=null;Sr!==null&&dn<mt.length;dn++){Sr.index>dn?(Mn=Sr,Sr=null):Mn=Sr.sibling;var Gn=xt(nt,Sr,mt[dn],It);if(Gn===null){Sr===null&&(Sr=Mn);break}d&&Sr&&Gn.alternate===null&&h(nt,Sr),Ve=F(Gn,Ve,dn),Vn===null?Dr=Gn:Vn.sibling=Gn,Vn=Gn,Sr=Mn}if(dn===mt.length)return x(nt,Sr),jn&&ko(nt,dn),Dr;if(Sr===null){for(;dn<mt.length;dn++)Sr=Ft(nt,mt[dn],It),Sr!==null&&(Ve=F(Sr,Ve,dn),Vn===null?Dr=Sr:Vn.sibling=Sr,Vn=Sr);return jn&&ko(nt,dn),Dr}for(Sr=j(Sr);dn<mt.length;dn++)Mn=St(Sr,nt,dn,mt[dn],It),Mn!==null&&(d&&Mn.alternate!==null&&Sr.delete(Mn.key===null?dn:Mn.key),Ve=F(Mn,Ve,dn),Vn===null?Dr=Mn:Vn.sibling=Mn,Vn=Mn);return d&&Sr.forEach(function(Nh){return h(nt,Nh)}),jn&&ko(nt,dn),Dr}function zr(nt,Ve,mt,It){if(mt==null)throw Error(n(151));for(var Dr=null,Vn=null,Sr=Ve,dn=Ve=0,Mn=null,Gn=mt.next();Sr!==null&&!Gn.done;dn++,Gn=mt.next()){Sr.index>dn?(Mn=Sr,Sr=null):Mn=Sr.sibling;var Nh=xt(nt,Sr,Gn.value,It);if(Nh===null){Sr===null&&(Sr=Mn);break}d&&Sr&&Nh.alternate===null&&h(nt,Sr),Ve=F(Nh,Ve,dn),Vn===null?Dr=Nh:Vn.sibling=Nh,Vn=Nh,Sr=Mn}if(Gn.done)return x(nt,Sr),jn&&ko(nt,dn),Dr;if(Sr===null){for(;!Gn.done;dn++,Gn=mt.next())Gn=Ft(nt,Gn.value,It),Gn!==null&&(Ve=F(Gn,Ve,dn),Vn===null?Dr=Gn:Vn.sibling=Gn,Vn=Gn);return jn&&ko(nt,dn),Dr}for(Sr=j(Sr);!Gn.done;dn++,Gn=mt.next())Gn=St(Sr,nt,dn,Gn.value,It),Gn!==null&&(d&&Gn.alternate!==null&&Sr.delete(Gn.key===null?dn:Gn.key),Ve=F(Gn,Ve,dn),Vn===null?Dr=Gn:Vn.sibling=Gn,Vn=Gn);return d&&Sr.forEach(function(Lie){return h(nt,Lie)}),jn&&ko(nt,dn),Dr}function va(nt,Ve,mt,It){if(typeof mt=="object"&&mt!==null&&mt.type===w&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case p:e:{for(var Dr=mt.key;Ve!==null;){if(Ve.key===Dr){if(Dr=mt.type,Dr===w){if(Ve.tag===7){x(nt,Ve.sibling),It=T(Ve,mt.props.children),It.return=nt,nt=It;break e}}else if(Ve.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===L&&ct(Dr)===Ve.type){x(nt,Ve.sibling),It=T(Ve,mt.props),Qr(It,mt),It.return=nt,nt=It;break e}x(nt,Ve);break}else h(nt,Ve);Ve=Ve.sibling}mt.type===w?(It=Su(mt.props.children,nt.mode,It,mt.key),It.return=nt,nt=It):(It=th(mt.type,mt.key,mt.props,null,nt.mode,It),Qr(It,mt),It.return=nt,nt=It)}return te(nt);case v:e:{for(Dr=mt.key;Ve!==null;){if(Ve.key===Dr)if(Ve.tag===4&&Ve.stateNode.containerInfo===mt.containerInfo&&Ve.stateNode.implementation===mt.implementation){x(nt,Ve.sibling),It=T(Ve,mt.children||[]),It.return=nt,nt=It;break e}else{x(nt,Ve);break}else h(nt,Ve);Ve=Ve.sibling}It=rh(mt,nt.mode,It),It.return=nt,nt=It}return te(nt);case L:return mt=ct(mt),va(nt,Ve,mt,It)}if(Y(mt))return yr(nt,Ve,mt,It);if(M(mt)){if(Dr=M(mt),typeof Dr!="function")throw Error(n(150));return mt=Dr.call(mt),zr(nt,Ve,mt,It)}if(typeof mt.then=="function")return va(nt,Ve,ur(mt),It);if(mt.$$typeof===S)return va(nt,Ve,m0(nt,mt),It);mr(nt,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,Ve!==null&&Ve.tag===6?(x(nt,Ve.sibling),It=T(Ve,mt),It.return=nt,nt=It):(x(nt,Ve),It=_m(mt,nt.mode,It),It.return=nt,nt=It),te(nt)):x(nt,Ve)}return function(nt,Ve,mt,It){try{br=0;var Dr=va(nt,Ve,mt,It);return $t=null,Dr}catch(Sr){if(Sr===We||Sr===Te)throw Sr;var Vn=ks(29,Sr,null,nt.mode);return Vn.lanes=It,Vn.return=nt,Vn}finally{}}}var ka=vn(!0),an=vn(!1),dr=!1;function er(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fa(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Br(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function ln(d,h,x){var j=d.updateQueue;if(j===null)return null;if(j=j.shared,(Qn&2)!==0){var T=j.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),j.pending=h,h=Ss(d),km(d,null,x),h}return Sm(d,j,h,x),Ss(d)}function Xn(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var j=h.lanes;j&=d.pendingLanes,x|=j,h.lanes=x,Ut(d,x)}}function Ei(d,h){var x=d.updateQueue,j=d.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var T=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var te={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?T=F=te:F=F.next=te,x=x.next}while(x!==null);F===null?T=F=h:F=F.next=h}else T=F=h;x={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:F,shared:j.shared,callbacks:j.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var ps=!1;function xa(){if(ps){var d=P;if(d!==null)throw d}}function di(d,h,x,j){ps=!1;var T=d.updateQueue;dr=!1;var F=T.firstBaseUpdate,te=T.lastBaseUpdate,ye=T.shared.pending;if(ye!==null){T.shared.pending=null;var $e=ye,pt=$e.next;$e.next=null,te===null?F=pt:te.next=pt,te=$e;var Et=d.alternate;Et!==null&&(Et=Et.updateQueue,ye=Et.lastBaseUpdate,ye!==te&&(ye===null?Et.firstBaseUpdate=pt:ye.next=pt,Et.lastBaseUpdate=$e))}if(F!==null){var Ft=T.baseState;te=0,Et=pt=$e=null,ye=F;do{var xt=ye.lane&-536870913,St=xt!==ye.lane;if(St?(Tn&xt)===xt:(j&xt)===xt){xt!==0&&xt===C&&(ps=!0),Et!==null&&(Et=Et.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var yr=d,zr=ye;xt=h;var va=x;switch(zr.tag){case 1:if(yr=zr.payload,typeof yr=="function"){Ft=yr.call(va,Ft,xt);break e}Ft=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=zr.payload,xt=typeof yr=="function"?yr.call(va,Ft,xt):yr,xt==null)break e;Ft=m({},Ft,xt);break e;case 2:dr=!0}}xt=ye.callback,xt!==null&&(d.flags|=64,St&&(d.flags|=8192),St=T.callbacks,St===null?T.callbacks=[xt]:St.push(xt))}else St={lane:xt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Et===null?(pt=Et=St,$e=Ft):Et=Et.next=St,te|=xt;if(ye=ye.next,ye===null){if(ye=T.shared.pending,ye===null)break;St=ye,ye=St.next,St.next=null,T.lastBaseUpdate=St,T.shared.pending=null}}while(!0);Et===null&&($e=Ft),T.baseState=$e,T.firstBaseUpdate=pt,T.lastBaseUpdate=Et,F===null&&(T.shared.lanes=0),hh|=te,d.lanes=te,d.memoizedState=Ft}}function Cs(d,h){if(typeof d!="function")throw Error(n(191,d));d.call(h)}function fi(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)Cs(x[d],h)}var hn=X(null),Fn=X(0);function $a(d,h){d=Vd,J(Fn,d),J(hn,h),Vd=d|h.baseLanes}function Un(){J(Fn,Vd),J(hn,hn.current)}function Di(){Vd=Fn.current,U(hn),U(Fn)}var Ba=X(null),$n=null;function ii(d){var h=d.alternate;J(Ln,Ln.current&1),J(Ba,d),$n===null&&(h===null||hn.current!==null||h.memoizedState!==null)&&($n=d)}function Jn(d){J(Ln,Ln.current),J(Ba,d),$n===null&&($n=d)}function hi(d){d.tag===22?(J(Ln,Ln.current),J(Ba,d),$n===null&&($n=d)):mi()}function mi(){J(Ln,Ln.current),J(Ba,Ba.current)}function oa(d){U(Ba),$n===d&&($n=null),U(Ln)}var Ln=X(0);function _s(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Fk(x)||$k(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Ya=0,Or=null,Er=null,Bn=null,to=!1,el=!1,Hs=!1,pi=0,Ou=0,Eu=null,g0=0;function ya(){throw Error(n(321))}function Vx(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!us(d[x],h[x]))return!1;return!0}function Gx(d,h,x,j,T,F){return Ya=F,Or=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,W.H=d===null||d.memoizedState===null?jL:KS,Hs=!1,F=x(j,T),Hs=!1,el&&(F=Hc(h,x,j,T)),x0(d),F}function x0(d){W.H=ty;var h=Er!==null&&Er.next!==null;if(Ya=0,Bn=Er=Or=null,to=!1,Ou=0,Eu=null,h)throw Error(n(300));d===null||Yi||(d=d.dependencies,d!==null&&h0(d)&&(Yi=!0))}function Hc(d,h,x,j){Or=d;var T=0;do{if(el&&(Eu=null),Ou=0,el=!1,25<=T)throw Error(n(301));if(T+=1,Bn=Er=null,d.updateQueue!=null){var F=d.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}W.H=NL,F=h(x,j)}while(el);return F}function zS(){var d=W.H,h=d.useState()[0];return h=typeof h.then=="function"?Du(h):h,d=d.useState()[0],(Er!==null?Er.memoizedState:null)!==d&&(Or.flags|=1024),h}function Yx(){var d=pi!==0;return pi=0,d}function Kx(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function y0(d){if(to){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}to=!1}Ya=0,Bn=Er=Or=null,el=!1,Ou=pi=0,Eu=null}function Gi(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Or.memoizedState=Bn=d:Bn=Bn.next=d,Bn}function Ka(){if(Er===null){var d=Or.alternate;d=d!==null?d.memoizedState:null}else d=Er.next;var h=Bn===null?Or.memoizedState:Bn.next;if(h!==null)Bn=h,Er=d;else{if(d===null)throw Or.alternate===null?Error(n(467)):Error(n(310));Er=d,d={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Bn===null?Or.memoizedState=Bn=d:Bn=Bn.next=d}return Bn}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(d){var h=Ou;return Ou+=1,Eu===null&&(Eu=[]),d=At(Eu,d,h),h=Or,(Bn===null?h.memoizedState:Bn.next)===null&&(h=h.alternate,W.H=h===null||h.memoizedState===null?jL:KS),d}function oh(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Du(d);if(d.$$typeof===S)return ms(d)}throw Error(n(438,String(d)))}function Id(d){var h=null,x=Or.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var j=Or.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(h={data:j.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Om(),Or.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),j=0;j<d;j++)x[j]=B;return h.index++,x}function Kl(d,h){return typeof h=="function"?h(d):h}function b0(d){var h=Ka();return lh(h,Er,d)}function lh(d,h,x){var j=d.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=x;var T=d.baseQueue,F=j.pending;if(F!==null){if(T!==null){var te=T.next;T.next=F.next,F.next=te}h.baseQueue=T=F,j.pending=null}if(F=d.baseState,T===null)d.memoizedState=F;else{h=T.next;var ye=te=null,$e=null,pt=h,Et=!1;do{var Ft=pt.lane&-536870913;if(Ft!==pt.lane?(Tn&Ft)===Ft:(Ya&Ft)===Ft){var xt=pt.revertLane;if(xt===0)$e!==null&&($e=$e.next={lane:0,revertLane:0,gesture:null,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Ft===C&&(Et=!0);else if((Ya&xt)===xt){pt=pt.next,xt===C&&(Et=!0);continue}else Ft={lane:0,revertLane:pt.revertLane,gesture:null,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},$e===null?(ye=$e=Ft,te=F):$e=$e.next=Ft,Or.lanes|=xt,hh|=xt;Ft=pt.action,Hs&&x(F,Ft),F=pt.hasEagerState?pt.eagerState:x(F,Ft)}else xt={lane:Ft,revertLane:pt.revertLane,gesture:pt.gesture,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},$e===null?(ye=$e=xt,te=F):$e=$e.next=xt,Or.lanes|=Ft,hh|=Ft;pt=pt.next}while(pt!==null&&pt!==h);if($e===null?te=F:$e.next=ye,!us(F,d.memoizedState)&&(Yi=!0,Et&&(x=P,x!==null)))throw x;d.memoizedState=F,d.baseState=te,d.baseQueue=$e,j.lastRenderedState=F}return T===null&&(j.lanes=0),[d.memoizedState,j.dispatch]}function v0(d){var h=Ka(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var j=x.dispatch,T=x.pending,F=h.memoizedState;if(T!==null){x.pending=null;var te=T=T.next;do F=d(F,te.action),te=te.next;while(te!==T);us(F,h.memoizedState)||(Yi=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),x.lastRenderedState=F}return[F,j]}function w0(d,h,x){var j=Or,T=Ka(),F=jn;if(F){if(x===void 0)throw Error(n(407));x=x()}else x=h();var te=!us((Er||T).memoizedState,x);if(te&&(T.memoizedState=x,Yi=!0),T=T.queue,qS(Jx.bind(null,j,T,d),[d]),T.getSnapshot!==h||te||Bn!==null&&Bn.memoizedState.tag&1){if(j.flags|=2048,$d(9,{destroy:void 0},Xx.bind(null,j,T,x,h),null),Ca===null)throw Error(n(349));F||(Ya&127)!==0||zc(j,h,x)}return x}function zc(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=Or.updateQueue,h===null?(h=Om(),Or.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function Xx(d,h,x,j){h.value=x,h.getSnapshot=j,j1(h)&&Qx(d)}function Jx(d,h,x){return x(function(){j1(h)&&Qx(d)})}function j1(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!us(d,x)}catch{return!0}}function Qx(d){var h=$c(d,2);h!==null&&il(h,d,2)}function Pu(d){var h=Gi();if(typeof d=="function"){var x=d;if(d=x(),Hs){lt(!0);try{x()}finally{lt(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:d},h}function N1(d,h,x,j){return d.baseState=x,lh(d,Er,typeof j=="function"?j:Kl)}function S1(d,h,x,j,T){if(A1(d))throw Error(n(485));if(d=h.action,d!==null){var F={payload:T,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){F.listeners.push(te)}};W.T!==null?x(!0):F.isTransition=!1,j(F),x=h.pending,x===null?(F.next=h.pending=F,k1(h,F)):(F.next=x.next,h.pending=x.next=F)}}function k1(d,h){var x=h.action,j=h.payload,T=d.state;if(h.isTransition){var F=W.T,te={};W.T=te;try{var ye=x(T,j),$e=W.S;$e!==null&&$e(te,ye),Zx(d,h,ye)}catch(pt){Fd(d,h,pt)}finally{F!==null&&te.types!==null&&(F.types=te.types),W.T=F}}else try{F=x(T,j),Zx(d,h,F)}catch(pt){Fd(d,h,pt)}}function Zx(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){C1(d,h,j)},function(j){return Fd(d,h,j)}):C1(d,h,x)}function C1(d,h,x){h.status="fulfilled",h.value=x,j0(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,k1(d,x)))}function Fd(d,h,x){var j=d.pending;if(d.pending=null,j!==null){j=j.next;do h.status="rejected",h.reason=x,j0(h),h=h.next;while(h!==j)}d.action=null}function j0(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function Em(d,h){return h}function Xl(d,h){if(jn){var x=Ca.formState;if(x!==null){e:{var j=Or;if(jn){if(Sa){t:{for(var T=Sa,F=Ga;T.nodeType!==8;){if(!F){T=null;break t}if(T=Jl(T.nextSibling),T===null){T=null;break t}}F=T.data,T=F==="F!"||F==="F"?T:null}if(T){Sa=Jl(T.nextSibling),j=T.data==="F!";break e}}Cu(j)}j=!1}j&&(h=x[0])}}return x=Gi(),x.memoizedState=x.baseState=h,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:h},x.queue=j,x=bL.bind(null,Or,j),j.dispatch=x,j=Pu(!1),F=YS.bind(null,Or,!1,j.queue),j=Gi(),T={state:h,dispatch:null,action:d,pending:null},j.queue=T,x=S1.bind(null,Or,T,F,x),T.dispatch=x,j.memoizedState=d,[h,x,!1]}function qc(d){var h=Ka();return Uc(h,Er,d)}function Uc(d,h,x){if(h=lh(d,h,Em)[0],d=b0(Kl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var j=Du(h)}catch(te){throw te===We?Te:te}else j=h;h=Ka();var T=h.queue,F=T.dispatch;return x!==h.memoizedState&&(Or.flags|=2048,$d(9,{destroy:void 0},N0.bind(null,T,x),null)),[j,F,d]}function N0(d,h){d.action=h}function S0(d){var h=Ka(),x=Er;if(x!==null)return Uc(h,x,d);Ka(),h=h.memoizedState,x=Ka();var j=x.queue.dispatch;return x.memoizedState=d,[h,j,!1]}function $d(d,h,x,j){return d={tag:d,create:x,deps:j,inst:h,next:null},h=Or.updateQueue,h===null&&(h=Om(),Or.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(j=x.next,x.next=d,d.next=j,h.lastEffect=d),d}function _1(){return Ka().memoizedState}function ch(d,h,x,j){var T=Gi();Or.flags|=d,T.memoizedState=$d(1|h,{destroy:void 0},x,j===void 0?null:j)}function uh(d,h,x,j){var T=Ka();j=j===void 0?null:j;var F=T.memoizedState.inst;Er!==null&&j!==null&&Vx(j,Er.memoizedState.deps)?T.memoizedState=$d(h,F,x,j):(Or.flags|=d,T.memoizedState=$d(1|h,F,x,j))}function iL(d,h){ch(8390656,8,d,h)}function qS(d,h){uh(2048,8,d,h)}function Tae(d){Or.flags|=4;var h=Or.updateQueue;if(h===null)h=Om(),Or.updateQueue=h,h.events=[d];else{var x=h.events;x===null?h.events=[d]:x.push(d)}}function sL(d){var h=Ka().memoizedState;return Tae({ref:h,nextImpl:d}),function(){if((Qn&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function oL(d,h){return uh(4,2,d,h)}function lL(d,h){return uh(4,4,d,h)}function cL(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function uL(d,h,x){x=x!=null?x.concat([d]):null,uh(4,4,cL.bind(null,h,d),x)}function US(){}function dL(d,h){var x=Ka();h=h===void 0?null:h;var j=x.memoizedState;return h!==null&&Vx(h,j[1])?j[0]:(x.memoizedState=[d,h],d)}function fL(d,h){var x=Ka();h=h===void 0?null:h;var j=x.memoizedState;if(h!==null&&Vx(h,j[1]))return j[0];if(j=d(),Hs){lt(!0);try{d()}finally{lt(!1)}}return x.memoizedState=[j,h],j}function WS(d,h,x){return x===void 0||(Ya&1073741824)!==0&&(Tn&261930)===0?d.memoizedState=h:(d.memoizedState=x,d=h8(),Or.lanes|=d,hh|=d,x)}function hL(d,h,x,j){return us(x,h)?x:hn.current!==null?(d=WS(d,x,j),us(d,h)||(Yi=!0),d):(Ya&42)===0||(Ya&1073741824)!==0&&(Tn&261930)===0?(Yi=!0,d.memoizedState=x):(d=h8(),Or.lanes|=d,hh|=d,h)}function mL(d,h,x,j,T){var F=$.p;$.p=F!==0&&8>F?F:8;var te=W.T,ye={};W.T=ye,YS(d,!1,h,x);try{var $e=T(),pt=W.S;if(pt!==null&&pt(ye,$e),$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var Et=le($e,j);ey(d,h,Et,vl(d))}else ey(d,h,j,vl(d))}catch(Ft){ey(d,h,{then:function(){},status:"rejected",reason:Ft},vl())}finally{$.p=F,te!==null&&ye.types!==null&&(te.types=ye.types),W.T=te}}function Mae(){}function VS(d,h,x,j){if(d.tag!==5)throw Error(n(476));var T=pL(d).queue;mL(d,T,h,q,x===null?Mae:function(){return gL(d),x(j)})}function pL(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:q},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function gL(d){var h=pL(d);h.next===null&&(h=d.alternate.memoizedState),ey(d,h.next.queue,{},vl())}function GS(){return ms(xy)}function xL(){return Ka().memoizedState}function yL(){return Ka().memoizedState}function Oae(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=vl();d=Br(x);var j=ln(h,d,x);j!==null&&(il(j,h,x),Xn(j,h,x)),h={cache:sh()},d.payload=h;return}h=h.return}}function Eae(d,h,x){var j=vl();x={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},A1(d)?vL(h,x):(x=i0(d,h,x,j),x!==null&&(il(x,d,j),wL(x,h,j)))}function bL(d,h,x){var j=vl();ey(d,h,x,j)}function ey(d,h,x,j){var T={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(A1(d))vL(h,T);else{var F=d.alternate;if(d.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var te=h.lastRenderedState,ye=F(te,x);if(T.hasEagerState=!0,T.eagerState=ye,us(ye,te))return Sm(d,h,T,0),Ca===null&&Nm(),!1}catch{}finally{}if(x=i0(d,h,T,j),x!==null)return il(x,d,j),wL(x,h,j),!0}return!1}function YS(d,h,x,j){if(j={lane:2,revertLane:Ck(),gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},A1(d)){if(h)throw Error(n(479))}else h=i0(d,x,j,2),h!==null&&il(h,d,2)}function A1(d){var h=d.alternate;return d===Or||h!==null&&h===Or}function vL(d,h){el=to=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function wL(d,h,x){if((x&4194048)!==0){var j=h.lanes;j&=d.pendingLanes,x|=j,h.lanes=x,Ut(d,x)}}var ty={readContext:ms,use:oh,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useLayoutEffect:ya,useInsertionEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useSyncExternalStore:ya,useId:ya,useHostTransitionStatus:ya,useFormState:ya,useActionState:ya,useOptimistic:ya,useMemoCache:ya,useCacheRefresh:ya};ty.useEffectEvent=ya;var jL={readContext:ms,use:oh,useCallback:function(d,h){return Gi().memoizedState=[d,h===void 0?null:h],d},useContext:ms,useEffect:iL,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,ch(4194308,4,cL.bind(null,h,d),x)},useLayoutEffect:function(d,h){return ch(4194308,4,d,h)},useInsertionEffect:function(d,h){ch(4,2,d,h)},useMemo:function(d,h){var x=Gi();h=h===void 0?null:h;var j=d();if(Hs){lt(!0);try{d()}finally{lt(!1)}}return x.memoizedState=[j,h],j},useReducer:function(d,h,x){var j=Gi();if(x!==void 0){var T=x(h);if(Hs){lt(!0);try{x(h)}finally{lt(!1)}}}else T=h;return j.memoizedState=j.baseState=T,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:T},j.queue=d,d=d.dispatch=Eae.bind(null,Or,d),[j.memoizedState,d]},useRef:function(d){var h=Gi();return d={current:d},h.memoizedState=d},useState:function(d){d=Pu(d);var h=d.queue,x=bL.bind(null,Or,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:US,useDeferredValue:function(d,h){var x=Gi();return WS(x,d,h)},useTransition:function(){var d=Pu(!1);return d=mL.bind(null,Or,d.queue,!0,!1),Gi().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var j=Or,T=Gi();if(jn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=h(),Ca===null)throw Error(n(349));(Tn&127)!==0||zc(j,h,x)}T.memoizedState=x;var F={value:x,getSnapshot:h};return T.queue=F,iL(Jx.bind(null,j,F,d),[d]),j.flags|=2048,$d(9,{destroy:void 0},Xx.bind(null,j,F,x,h),null),x},useId:function(){var d=Gi(),h=Ca.identifierPrefix;if(jn){var x=Qo,j=Jo;x=(j&~(1<<32-be(j)-1)).toString(32)+x,h="_"+h+"R_"+x,x=pi++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=g0++,h="_"+h+"r_"+x.toString(32)+"_";return d.memoizedState=h},useHostTransitionStatus:GS,useFormState:Xl,useActionState:Xl,useOptimistic:function(d){var h=Gi();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=YS.bind(null,Or,!0,x),x.dispatch=h,[d,h]},useMemoCache:Id,useCacheRefresh:function(){return Gi().memoizedState=Oae.bind(null,Or)},useEffectEvent:function(d){var h=Gi(),x={impl:d};return h.memoizedState=x,function(){if((Qn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},KS={readContext:ms,use:oh,useCallback:dL,useContext:ms,useEffect:qS,useImperativeHandle:uL,useInsertionEffect:oL,useLayoutEffect:lL,useMemo:fL,useReducer:b0,useRef:_1,useState:function(){return b0(Kl)},useDebugValue:US,useDeferredValue:function(d,h){var x=Ka();return hL(x,Er.memoizedState,d,h)},useTransition:function(){var d=b0(Kl)[0],h=Ka().memoizedState;return[typeof d=="boolean"?d:Du(d),h]},useSyncExternalStore:w0,useId:xL,useHostTransitionStatus:GS,useFormState:qc,useActionState:qc,useOptimistic:function(d,h){var x=Ka();return N1(x,Er,d,h)},useMemoCache:Id,useCacheRefresh:yL};KS.useEffectEvent=sL;var NL={readContext:ms,use:oh,useCallback:dL,useContext:ms,useEffect:qS,useImperativeHandle:uL,useInsertionEffect:oL,useLayoutEffect:lL,useMemo:fL,useReducer:v0,useRef:_1,useState:function(){return v0(Kl)},useDebugValue:US,useDeferredValue:function(d,h){var x=Ka();return Er===null?WS(x,d,h):hL(x,Er.memoizedState,d,h)},useTransition:function(){var d=v0(Kl)[0],h=Ka().memoizedState;return[typeof d=="boolean"?d:Du(d),h]},useSyncExternalStore:w0,useId:xL,useHostTransitionStatus:GS,useFormState:S0,useActionState:S0,useOptimistic:function(d,h){var x=Ka();return Er!==null?N1(x,Er,d,h):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:Id,useCacheRefresh:yL};NL.useEffectEvent=sL;function XS(d,h,x,j){h=d.memoizedState,x=x(j,h),x=x==null?h:m({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var JS={enqueueSetState:function(d,h,x){d=d._reactInternals;var j=vl(),T=Br(j);T.payload=h,x!=null&&(T.callback=x),h=ln(d,T,j),h!==null&&(il(h,d,j),Xn(h,d,j))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var j=vl(),T=Br(j);T.tag=1,T.payload=h,x!=null&&(T.callback=x),h=ln(d,T,j),h!==null&&(il(h,d,j),Xn(h,d,j))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=vl(),j=Br(x);j.tag=2,h!=null&&(j.callback=h),h=ln(d,j,x),h!==null&&(il(h,d,x),Xn(h,d,x))}};function SL(d,h,x,j,T,F,te){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(j,F,te):h.prototype&&h.prototype.isPureReactComponent?!Lc(x,j)||!Lc(T,F):!0}function kL(d,h,x,j){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,j),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,j),h.state!==d&&JS.enqueueReplaceState(h,h.state,null)}function Dm(d,h){var x=h;if("ref"in h){x={};for(var j in h)j!=="ref"&&(x[j]=h[j])}if(d=d.defaultProps){x===h&&(x=m({},x));for(var T in d)x[T]===void 0&&(x[T]=d[T])}return x}function CL(d){jm(d)}function _L(d){console.error(d)}function AL(d){jm(d)}function T1(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(j){setTimeout(function(){throw j})}}function TL(d,h,x){try{var j=d.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function QS(d,h,x){return x=Br(x),x.tag=3,x.payload={element:null},x.callback=function(){T1(d,h)},x}function ML(d){return d=Br(d),d.tag=3,d}function OL(d,h,x,j){var T=x.type.getDerivedStateFromError;if(typeof T=="function"){var F=j.value;d.payload=function(){return T(F)},d.callback=function(){TL(h,x,j)}}var te=x.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(d.callback=function(){TL(h,x,j),typeof T!="function"&&(mh===null?mh=new Set([this]):mh.add(this));var ye=j.stack;this.componentDidCatch(j.value,{componentStack:ye!==null?ye:""})})}function Dae(d,h,x,j,T){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(h=x.alternate,h!==null&&Tu(h,x,T,!0),x=Ba.current,x!==null){switch(x.tag){case 31:case 13:return $n===null?H1():x.alternate===null&&gi===0&&(gi=3),x.flags&=-257,x.flags|=65536,x.lanes=T,j===Xe?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([j]):h.add(j),Nk(d,j,T)),!1;case 22:return x.flags|=65536,j===Xe?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([j]):x.add(j)),Nk(d,j,T)),!1}throw Error(n(435,x.tag))}return Nk(d,j,T),H1(),!1}if(jn)return h=Ba.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,j!==xl&&(d=Error(n(422),{cause:j}),ah(Yo(d,x)))):(j!==xl&&(h=Error(n(423),{cause:j}),ah(Yo(h,x))),d=d.current.alternate,d.flags|=65536,T&=-T,d.lanes|=T,j=Yo(j,x),T=QS(d.stateNode,j,T),Ei(d,T),gi!==4&&(gi=2)),!1;var F=Error(n(520),{cause:j});if(F=Yo(F,x),cy===null?cy=[F]:cy.push(F),gi!==4&&(gi=2),h===null)return!0;j=Yo(j,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=T&-T,x.lanes|=d,d=QS(x.stateNode,j,d),Ei(x,d),!1;case 1:if(h=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(mh===null||!mh.has(F))))return x.flags|=65536,T&=-T,x.lanes|=T,T=ML(T),OL(T,d,x,j),Ei(x,T),!1}x=x.return}while(x!==null);return!1}var ZS=Error(n(461)),Yi=!1;function zs(d,h,x,j){h.child=d===null?an(h,null,x,j):ka(h,d.child,x,j)}function EL(d,h,x,j,T){x=x.render;var F=h.ref;if("ref"in j){var te={};for(var ye in j)ye!=="ref"&&(te[ye]=j[ye])}else te=j;return Mu(h),j=Gx(d,h,x,te,F,T),ye=Yx(),d!==null&&!Yi?(Kx(d,h,T),Bd(d,h,T)):(jn&&ye&&qx(h),h.flags|=1,zs(d,h,j,T),h.child)}function DL(d,h,x,j,T){if(d===null){var F=x.type;return typeof F=="function"&&!o0(F)&&F.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=F,PL(d,h,F,j,T)):(d=th(x.type,null,j,h,h.mode,T),d.ref=h.ref,d.return=h,h.child=d)}if(F=d.child,!ok(d,T)){var te=F.memoizedProps;if(x=x.compare,x=x!==null?x:Lc,x(te,j)&&d.ref===h.ref)return Bd(d,h,T)}return h.flags|=1,d=Go(F,j),d.ref=h.ref,d.return=h,h.child=d}function PL(d,h,x,j,T){if(d!==null){var F=d.memoizedProps;if(Lc(F,j)&&d.ref===h.ref)if(Yi=!1,h.pendingProps=j=F,ok(d,T))(d.flags&131072)!==0&&(Yi=!0);else return h.lanes=d.lanes,Bd(d,h,T)}return ek(d,h,x,j,T)}function LL(d,h,x,j){var T=j.children,F=d!==null?d.memoizedState:null;if(d===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),j.mode==="hidden"){if((h.flags&128)!==0){if(F=F!==null?F.baseLanes|x:x,d!==null){for(j=h.child=d.child,T=0;j!==null;)T=T|j.lanes|j.childLanes,j=j.sibling;j=T&~F}else j=0,h.child=null;return RL(d,h,F,x,j)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&_e(h,F!==null?F.cachePool:null),F!==null?$a(h,F):Un(),hi(h);else return j=h.lanes=536870912,RL(d,h,F!==null?F.baseLanes|x:x,x,j)}else F!==null?(_e(h,F.cachePool),$a(h,F),mi(),h.memoizedState=null):(d!==null&&_e(h,null),Un(),mi());return zs(d,h,T,x),h.child}function ry(d,h){return d!==null&&d.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function RL(d,h,x,j,T){var F=Ne();return F=F===null?null:{parent:ai._currentValue,pool:F},h.memoizedState={baseLanes:x,cachePool:F},d!==null&&_e(h,null),Un(),hi(h),d!==null&&Tu(d,h,j,!0),h.childLanes=T,null}function M1(d,h){return h=E1({mode:h.mode,children:h.children},d.mode),h.ref=d.ref,d.child=h,h.return=d,h}function IL(d,h,x){return ka(h,d.child,null,x),d=M1(h,h.pendingProps),d.flags|=2,oa(h),h.memoizedState=null,d}function Pae(d,h,x){var j=h.pendingProps,T=(h.flags&128)!==0;if(h.flags&=-129,d===null){if(jn){if(j.mode==="hidden")return d=M1(h,j),h.lanes=536870912,ry(null,d);if(Jn(h),(d=Sa)?(d=K8(d,Ga),d=d!==null&&d.data==="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:ku!==null?{id:Jo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=l0(d),x.return=h,h.child=x,fs=h,Sa=null)):d=null,d===null)throw Cu(h);return h.lanes=536870912,null}return M1(h,j)}var F=d.memoizedState;if(F!==null){var te=F.dehydrated;if(Jn(h),T)if(h.flags&256)h.flags&=-257,h=IL(d,h,x);else if(h.memoizedState!==null)h.child=d.child,h.flags|=128,h=null;else throw Error(n(558));else if(Yi||Tu(d,h,x,!1),T=(x&d.childLanes)!==0,Yi||T){if(j=Ca,j!==null&&(te=it(j,x),te!==0&&te!==F.retryLane))throw F.retryLane=te,$c(d,te),il(j,d,te),ZS;H1(),h=IL(d,h,x)}else d=F.treeContext,Sa=Jl(te.nextSibling),fs=h,jn=!0,Bs=null,Ga=!1,d!==null&&v1(h,d),h=M1(h,j),h.flags|=4096;return h}return d=Go(d.child,{mode:j.mode,children:j.children}),d.ref=h.ref,h.child=d,d.return=h,d}function O1(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(d===null||d.ref!==x)&&(h.flags|=4194816)}}function ek(d,h,x,j,T){return Mu(h),x=Gx(d,h,x,j,void 0,T),j=Yx(),d!==null&&!Yi?(Kx(d,h,T),Bd(d,h,T)):(jn&&j&&qx(h),h.flags|=1,zs(d,h,x,T),h.child)}function FL(d,h,x,j,T,F){return Mu(h),h.updateQueue=null,x=Hc(h,j,x,T),x0(d),j=Yx(),d!==null&&!Yi?(Kx(d,h,F),Bd(d,h,F)):(jn&&j&&qx(h),h.flags|=1,zs(d,h,x,F),h.child)}function $L(d,h,x,j,T){if(Mu(h),h.stateNode===null){var F=ds,te=x.contextType;typeof te=="object"&&te!==null&&(F=ms(te)),F=new x(j,F),h.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=JS,h.stateNode=F,F._reactInternals=h,F=h.stateNode,F.props=j,F.state=h.memoizedState,F.refs={},er(h),te=x.contextType,F.context=typeof te=="object"&&te!==null?ms(te):ds,F.state=h.memoizedState,te=x.getDerivedStateFromProps,typeof te=="function"&&(XS(h,x,te,j),F.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(te=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),te!==F.state&&JS.enqueueReplaceState(F,F.state,null),di(h,j,F,T),xa(),F.state=h.memoizedState),typeof F.componentDidMount=="function"&&(h.flags|=4194308),j=!0}else if(d===null){F=h.stateNode;var ye=h.memoizedProps,$e=Dm(x,ye);F.props=$e;var pt=F.context,Et=x.contextType;te=ds,typeof Et=="object"&&Et!==null&&(te=ms(Et));var Ft=x.getDerivedStateFromProps;Et=typeof Ft=="function"||typeof F.getSnapshotBeforeUpdate=="function",ye=h.pendingProps!==ye,Et||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ye||pt!==te)&&kL(h,F,j,te),dr=!1;var xt=h.memoizedState;F.state=xt,di(h,j,F,T),xa(),pt=h.memoizedState,ye||xt!==pt||dr?(typeof Ft=="function"&&(XS(h,x,Ft,j),pt=h.memoizedState),($e=dr||SL(h,x,$e,j,xt,pt,te))?(Et||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(h.flags|=4194308)):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=j,h.memoizedState=pt),F.props=j,F.state=pt,F.context=te,j=$e):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),j=!1)}else{F=h.stateNode,Fa(d,h),te=h.memoizedProps,Et=Dm(x,te),F.props=Et,Ft=h.pendingProps,xt=F.context,pt=x.contextType,$e=ds,typeof pt=="object"&&pt!==null&&($e=ms(pt)),ye=x.getDerivedStateFromProps,(pt=typeof ye=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(te!==Ft||xt!==$e)&&kL(h,F,j,$e),dr=!1,xt=h.memoizedState,F.state=xt,di(h,j,F,T),xa();var St=h.memoizedState;te!==Ft||xt!==St||dr||d!==null&&d.dependencies!==null&&h0(d.dependencies)?(typeof ye=="function"&&(XS(h,x,ye,j),St=h.memoizedState),(Et=dr||SL(h,x,Et,j,xt,St,$e)||d!==null&&d.dependencies!==null&&h0(d.dependencies))?(pt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(j,St,$e),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(j,St,$e)),typeof F.componentDidUpdate=="function"&&(h.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof F.componentDidUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=1024),h.memoizedProps=j,h.memoizedState=St),F.props=j,F.state=St,F.context=$e,j=Et):(typeof F.componentDidUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=1024),j=!1)}return F=j,O1(d,h),j=(h.flags&128)!==0,F||j?(F=h.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:F.render(),h.flags|=1,d!==null&&j?(h.child=ka(h,d.child,null,T),h.child=ka(h,null,x,T)):zs(d,h,x,T),h.memoizedState=F.state,d=h.child):d=Bd(d,h,T),d}function BL(d,h,x,j){return Ld(),h.flags|=256,zs(d,h,x,j),h.child}var tk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rk(d){return{baseLanes:d,cachePool:Me()}}function nk(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=bl),d}function HL(d,h,x){var j=h.pendingProps,T=!1,F=(h.flags&128)!==0,te;if((te=F)||(te=d!==null&&d.memoizedState===null?!1:(Ln.current&2)!==0),te&&(T=!0,h.flags&=-129),te=(h.flags&32)!==0,h.flags&=-33,d===null){if(jn){if(T?ii(h):mi(),(d=Sa)?(d=K8(d,Ga),d=d!==null&&d.data!=="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:ku!==null?{id:Jo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=l0(d),x.return=h,h.child=x,fs=h,Sa=null)):d=null,d===null)throw Cu(h);return $k(d)?h.lanes=32:h.lanes=536870912,null}var ye=j.children;return j=j.fallback,T?(mi(),T=h.mode,ye=E1({mode:"hidden",children:ye},T),j=Su(j,T,x,null),ye.return=h,j.return=h,ye.sibling=j,h.child=ye,j=h.child,j.memoizedState=rk(x),j.childLanes=nk(d,te,x),h.memoizedState=tk,ry(null,j)):(ii(h),ak(h,ye))}var $e=d.memoizedState;if($e!==null&&(ye=$e.dehydrated,ye!==null)){if(F)h.flags&256?(ii(h),h.flags&=-257,h=ik(d,h,x)):h.memoizedState!==null?(mi(),h.child=d.child,h.flags|=128,h=null):(mi(),ye=j.fallback,T=h.mode,j=E1({mode:"visible",children:j.children},T),ye=Su(ye,T,x,null),ye.flags|=2,j.return=h,ye.return=h,j.sibling=ye,h.child=j,ka(h,d.child,null,x),j=h.child,j.memoizedState=rk(x),j.childLanes=nk(d,te,x),h.memoizedState=tk,h=ry(null,j));else if(ii(h),$k(ye)){if(te=ye.nextSibling&&ye.nextSibling.dataset,te)var pt=te.dgst;te=pt,j=Error(n(419)),j.stack="",j.digest=te,ah({value:j,source:null,stack:null}),h=ik(d,h,x)}else if(Yi||Tu(d,h,x,!1),te=(x&d.childLanes)!==0,Yi||te){if(te=Ca,te!==null&&(j=it(te,x),j!==0&&j!==$e.retryLane))throw $e.retryLane=j,$c(d,j),il(te,d,j),ZS;Fk(ye)||H1(),h=ik(d,h,x)}else Fk(ye)?(h.flags|=192,h.child=d.child,h=null):(d=$e.treeContext,Sa=Jl(ye.nextSibling),fs=h,jn=!0,Bs=null,Ga=!1,d!==null&&v1(h,d),h=ak(h,j.children),h.flags|=4096);return h}return T?(mi(),ye=j.fallback,T=h.mode,$e=d.child,pt=$e.sibling,j=Go($e,{mode:"hidden",children:j.children}),j.subtreeFlags=$e.subtreeFlags&65011712,pt!==null?ye=Go(pt,ye):(ye=Su(ye,T,x,null),ye.flags|=2),ye.return=h,j.return=h,j.sibling=ye,h.child=j,ry(null,j),j=h.child,ye=d.child.memoizedState,ye===null?ye=rk(x):(T=ye.cachePool,T!==null?($e=ai._currentValue,T=T.parent!==$e?{parent:$e,pool:$e}:T):T=Me(),ye={baseLanes:ye.baseLanes|x,cachePool:T}),j.memoizedState=ye,j.childLanes=nk(d,te,x),h.memoizedState=tk,ry(d.child,j)):(ii(h),x=d.child,d=x.sibling,x=Go(x,{mode:"visible",children:j.children}),x.return=h,x.sibling=null,d!==null&&(te=h.deletions,te===null?(h.deletions=[d],h.flags|=16):te.push(d)),h.child=x,h.memoizedState=null,x)}function ak(d,h){return h=E1({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function E1(d,h){return d=ks(22,d,null,h),d.lanes=0,d}function ik(d,h,x){return ka(h,d.child,null,x),d=ak(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function zL(d,h,x){d.lanes|=h;var j=d.alternate;j!==null&&(j.lanes|=h),ih(d.return,h,x)}function sk(d,h,x,j,T,F){var te=d.memoizedState;te===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:T,treeForkCount:F}:(te.isBackwards=h,te.rendering=null,te.renderingStartTime=0,te.last=j,te.tail=x,te.tailMode=T,te.treeForkCount=F)}function qL(d,h,x){var j=h.pendingProps,T=j.revealOrder,F=j.tail;j=j.children;var te=Ln.current,ye=(te&2)!==0;if(ye?(te=te&1|2,h.flags|=128):te&=1,J(Ln,te),zs(d,h,j,x),j=jn?Am:0,!ye&&d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&zL(d,x,h);else if(d.tag===19)zL(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(T){case"forwards":for(x=h.child,T=null;x!==null;)d=x.alternate,d!==null&&_s(d)===null&&(T=x),x=x.sibling;x=T,x===null?(T=h.child,h.child=null):(T=x.sibling,x.sibling=null),sk(h,!1,T,x,F,j);break;case"backwards":case"unstable_legacy-backwards":for(x=null,T=h.child,h.child=null;T!==null;){if(d=T.alternate,d!==null&&_s(d)===null){h.child=T;break}d=T.sibling,T.sibling=x,x=T,T=d}sk(h,!0,x,null,F,j);break;case"together":sk(h,!1,null,null,void 0,j);break;default:h.memoizedState=null}return h.child}function Bd(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),hh|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(Tu(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(n(153));if(h.child!==null){for(d=h.child,x=Go(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=Go(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function ok(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&h0(d)))}function Lae(d,h,x){switch(h.tag){case 3:ke(h,h.stateNode.containerInfo),Au(h,ai,d.memoizedState.cache),Ld();break;case 27:case 5:Ce(h);break;case 4:ke(h,h.stateNode.containerInfo);break;case 10:Au(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Jn(h),null;break;case 13:var j=h.memoizedState;if(j!==null)return j.dehydrated!==null?(ii(h),h.flags|=128,null):(x&h.child.childLanes)!==0?HL(d,h,x):(ii(h),d=Bd(d,h,x),d!==null?d.sibling:null);ii(h);break;case 19:var T=(d.flags&128)!==0;if(j=(x&h.childLanes)!==0,j||(Tu(d,h,x,!1),j=(x&h.childLanes)!==0),T){if(j)return qL(d,h,x);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),J(Ln,Ln.current),j)break;return null;case 22:return h.lanes=0,LL(d,h,x,h.pendingProps);case 24:Au(h,ai,d.memoizedState.cache)}return Bd(d,h,x)}function UL(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)Yi=!0;else{if(!ok(d,x)&&(h.flags&128)===0)return Yi=!1,Lae(d,h,x);Yi=(d.flags&131072)!==0}else Yi=!1,jn&&(h.flags&1048576)!==0&&b1(h,Am,h.index);switch(h.lanes=0,h.tag){case 16:e:{var j=h.pendingProps;if(d=ct(h.elementType),h.type=d,typeof d=="function")o0(d)?(j=Dm(d,j),h.tag=1,h=$L(null,h,d,j,x)):(h.tag=0,h=ek(null,h,d,j,x));else{if(d!=null){var T=d.$$typeof;if(T===A){h.tag=11,h=EL(null,h,d,j,x);break e}else if(T===I){h.tag=14,h=DL(null,h,d,j,x);break e}}throw h=G(d)||d,Error(n(306,h,""))}}return h;case 0:return ek(d,h,h.type,h.pendingProps,x);case 1:return j=h.type,T=Dm(j,h.pendingProps),$L(d,h,j,T,x);case 3:e:{if(ke(h,h.stateNode.containerInfo),d===null)throw Error(n(387));j=h.pendingProps;var F=h.memoizedState;T=F.element,Fa(d,h),di(h,j,null,x);var te=h.memoizedState;if(j=te.cache,Au(h,ai,j),j!==F.cache&&Rd(h,[ai],x,!0),xa(),j=te.element,F.isDehydrated)if(F={element:j,isDehydrated:!1,cache:te.cache},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){h=BL(d,h,j,x);break e}else if(j!==T){T=Yo(Error(n(424)),h),ah(T),h=BL(d,h,j,x);break e}else{switch(d=h.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Sa=Jl(d.firstChild),fs=h,jn=!0,Bs=null,Ga=!0,x=an(h,null,j,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Ld(),j===T){h=Bd(d,h,x);break e}zs(d,h,j,x)}h=h.child}return h;case 26:return O1(d,h),d===null?(x=t7(h.type,null,h.pendingProps,null))?h.memoizedState=x:jn||(x=h.type,d=h.pendingProps,j=Y1(ue.current).createElement(x),j[nr]=h,j[Ur]=d,qs(j,x,d),tr(j),h.stateNode=j):h.memoizedState=t7(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return Ce(h),d===null&&jn&&(j=h.stateNode=Q8(h.type,h.pendingProps,ue.current),fs=h,Ga=!0,T=Sa,yh(h.type)?(Bk=T,Sa=Jl(j.firstChild)):Sa=T),zs(d,h,h.pendingProps.children,x),O1(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&jn&&((T=j=Sa)&&(j=die(j,h.type,h.pendingProps,Ga),j!==null?(h.stateNode=j,fs=h,Sa=Jl(j.firstChild),Ga=!1,T=!0):T=!1),T||Cu(h)),Ce(h),T=h.type,F=h.pendingProps,te=d!==null?d.memoizedProps:null,j=F.children,Lk(T,F)?j=null:te!==null&&Lk(T,te)&&(h.flags|=32),h.memoizedState!==null&&(T=Gx(d,h,zS,null,null,x),xy._currentValue=T),O1(d,h),zs(d,h,j,x),h.child;case 6:return d===null&&jn&&((d=x=Sa)&&(x=fie(x,h.pendingProps,Ga),x!==null?(h.stateNode=x,fs=h,Sa=null,d=!0):d=!1),d||Cu(h)),null;case 13:return HL(d,h,x);case 4:return ke(h,h.stateNode.containerInfo),j=h.pendingProps,d===null?h.child=ka(h,null,j,x):zs(d,h,j,x),h.child;case 11:return EL(d,h,h.type,h.pendingProps,x);case 7:return zs(d,h,h.pendingProps,x),h.child;case 8:return zs(d,h,h.pendingProps.children,x),h.child;case 12:return zs(d,h,h.pendingProps.children,x),h.child;case 10:return j=h.pendingProps,Au(h,h.type,j.value),zs(d,h,j.children,x),h.child;case 9:return T=h.type._context,j=h.pendingProps.children,Mu(h),T=ms(T),j=j(T),h.flags|=1,zs(d,h,j,x),h.child;case 14:return DL(d,h,h.type,h.pendingProps,x);case 15:return PL(d,h,h.type,h.pendingProps,x);case 19:return qL(d,h,x);case 31:return Pae(d,h,x);case 22:return LL(d,h,x,h.pendingProps);case 24:return Mu(h),j=ms(ai),d===null?(T=Ne(),T===null&&(T=Ca,F=sh(),T.pooledCache=F,F.refCount++,F!==null&&(T.pooledCacheLanes|=x),T=F),h.memoizedState={parent:j,cache:T},er(h),Au(h,ai,T)):((d.lanes&x)!==0&&(Fa(d,h),di(h,null,null,x),xa()),T=d.memoizedState,F=h.memoizedState,T.parent!==j?(T={parent:j,cache:j},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),Au(h,ai,j)):(j=F.cache,Au(h,ai,j),j!==T.cache&&Rd(h,[ai],x,!0))),zs(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Hd(d){d.flags|=4}function lk(d,h,x,j,T){if((h=(d.mode&32)!==0)&&(h=!1),h){if(d.flags|=16777216,(T&335544128)===T)if(d.stateNode.complete)d.flags|=8192;else if(x8())d.flags|=8192;else throw Ct=Xe,dt}else d.flags&=-16777217}function WL(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!s7(h))if(x8())d.flags|=8192;else throw Ct=Xe,dt}function D1(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?De():536870912,d.lanes|=h,A0|=h)}function ny(d,h){if(!jn)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:j.sibling=null}}function Ha(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,j=0;if(h)for(var T=d.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags&65011712,j|=T.flags&65011712,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=j,d.childLanes=x,h}function Rae(d,h,x){var j=h.pendingProps;switch(d0(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(h),null;case 1:return Ha(h),null;case 3:return x=h.stateNode,j=null,d!==null&&(j=d.memoizedState.cache),h.memoizedState.cache!==j&&(h.flags|=2048),Zo(ai),je(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(hs(h)?Hd(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Wx())),Ha(h),null;case 26:var T=h.type,F=h.memoizedState;return d===null?(Hd(h),F!==null?(Ha(h),WL(h,F)):(Ha(h),lk(h,T,null,j,x))):F?F!==d.memoizedState?(Hd(h),Ha(h),WL(h,F)):(Ha(h),h.flags&=-16777217):(d=d.memoizedProps,d!==j&&Hd(h),Ha(h),lk(h,T,d,j,x)),null;case 27:if(Be(h),x=ue.current,T=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==j&&Hd(h);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Ha(h),null}d=ee.current,hs(h)?Ux(h):(d=Q8(T,j,x),h.stateNode=d,Hd(h))}return Ha(h),null;case 5:if(Be(h),T=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==j&&Hd(h);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Ha(h),null}if(F=ee.current,hs(h))Ux(h);else{var te=Y1(ue.current);switch(F){case 1:F=te.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:F=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":F=te.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":F=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":F=te.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof j.is=="string"?te.createElement("select",{is:j.is}):te.createElement("select"),j.multiple?F.multiple=!0:j.size&&(F.size=j.size);break;default:F=typeof j.is=="string"?te.createElement(T,{is:j.is}):te.createElement(T)}}F[nr]=h,F[Ur]=j;e:for(te=h.child;te!==null;){if(te.tag===5||te.tag===6)F.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===h)break e;for(;te.sibling===null;){if(te.return===null||te.return===h)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}h.stateNode=F;e:switch(qs(F,T,j),T){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}j&&Hd(h)}}return Ha(h),lk(h,h.type,d===null?null:d.memoizedProps,h.pendingProps,x),null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==j&&Hd(h);else{if(typeof j!="string"&&h.stateNode===null)throw Error(n(166));if(d=ue.current,hs(h)){if(d=h.stateNode,x=h.memoizedProps,j=null,T=fs,T!==null)switch(T.tag){case 27:case 5:j=T.memoizedProps}d[nr]=h,d=!!(d.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||H8(d.nodeValue,x)),d||Cu(h,!0)}else d=Y1(d).createTextNode(j),d[nr]=h,h.stateNode=d}return Ha(h),null;case 31:if(x=h.memoizedState,d===null||d.memoizedState!==null){if(j=hs(h),x!==null){if(d===null){if(!j)throw Error(n(318));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[nr]=h}else Ld(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ha(h),d=!1}else x=Wx(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return h.flags&256?(oa(h),h):(oa(h),null);if((h.flags&128)!==0)throw Error(n(558))}return Ha(h),null;case 13:if(j=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(T=hs(h),j!==null&&j.dehydrated!==null){if(d===null){if(!T)throw Error(n(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[nr]=h}else Ld(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ha(h),T=!1}else T=Wx(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=T),T=!0;if(!T)return h.flags&256?(oa(h),h):(oa(h),null)}return oa(h),(h.flags&128)!==0?(h.lanes=x,h):(x=j!==null,d=d!==null&&d.memoizedState!==null,x&&(j=h.child,T=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(T=j.alternate.memoizedState.cachePool.pool),F=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(F=j.memoizedState.cachePool.pool),F!==T&&(j.flags|=2048)),x!==d&&x&&(h.child.flags|=8192),D1(h,h.updateQueue),Ha(h),null);case 4:return je(),d===null&&Mk(h.stateNode.containerInfo),Ha(h),null;case 10:return Zo(h.type),Ha(h),null;case 19:if(U(Ln),j=h.memoizedState,j===null)return Ha(h),null;if(T=(h.flags&128)!==0,F=j.rendering,F===null)if(T)ny(j,!1);else{if(gi!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(F=_s(d),F!==null){for(h.flags|=128,ny(j,!1),d=F.updateQueue,h.updateQueue=d,D1(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)Cm(x,d),x=x.sibling;return J(Ln,Ln.current&1|2),jn&&ko(h,j.treeForkCount),h.child}d=d.sibling}j.tail!==null&&Se()>F1&&(h.flags|=128,T=!0,ny(j,!1),h.lanes=4194304)}else{if(!T)if(d=_s(F),d!==null){if(h.flags|=128,T=!0,d=d.updateQueue,h.updateQueue=d,D1(h,d),ny(j,!0),j.tail===null&&j.tailMode==="hidden"&&!F.alternate&&!jn)return Ha(h),null}else 2*Se()-j.renderingStartTime>F1&&x!==536870912&&(h.flags|=128,T=!0,ny(j,!1),h.lanes=4194304);j.isBackwards?(F.sibling=h.child,h.child=F):(d=j.last,d!==null?d.sibling=F:h.child=F,j.last=F)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Se(),d.sibling=null,x=Ln.current,J(Ln,T?x&1|2:x&1),jn&&ko(h,j.treeForkCount),d):(Ha(h),null);case 22:case 23:return oa(h),Di(),j=h.memoizedState!==null,d!==null?d.memoizedState!==null!==j&&(h.flags|=8192):j&&(h.flags|=8192),j?(x&536870912)!==0&&(h.flags&128)===0&&(Ha(h),h.subtreeFlags&6&&(h.flags|=8192)):Ha(h),x=h.updateQueue,x!==null&&D1(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),j=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(j=h.memoizedState.cachePool.pool),j!==x&&(h.flags|=2048),d!==null&&U(xe),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Zo(ai),Ha(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function Iae(d,h){switch(d0(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Zo(ai),je(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return Be(h),null;case 31:if(h.memoizedState!==null){if(oa(h),h.alternate===null)throw Error(n(340));Ld()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 13:if(oa(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Ld()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return U(Ln),null;case 4:return je(),null;case 10:return Zo(h.type),null;case 22:case 23:return oa(h),Di(),d!==null&&U(xe),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return Zo(ai),null;case 25:return null;default:return null}}function VL(d,h){switch(d0(h),h.tag){case 3:Zo(ai),je();break;case 26:case 27:case 5:Be(h);break;case 4:je();break;case 31:h.memoizedState!==null&&oa(h);break;case 13:oa(h);break;case 19:U(Ln);break;case 10:Zo(h.type);break;case 22:case 23:oa(h),Di(),d!==null&&U(xe);break;case 24:Zo(ai)}}function ay(d,h){try{var x=h.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var T=j.next;x=T;do{if((x.tag&d)===d){j=void 0;var F=x.create,te=x.inst;j=F(),te.destroy=j}x=x.next}while(x!==T)}}catch(ye){ca(h,h.return,ye)}}function dh(d,h,x){try{var j=h.updateQueue,T=j!==null?j.lastEffect:null;if(T!==null){var F=T.next;j=F;do{if((j.tag&d)===d){var te=j.inst,ye=te.destroy;if(ye!==void 0){te.destroy=void 0,T=h;var $e=x,pt=ye;try{pt()}catch(Et){ca(T,$e,Et)}}}j=j.next}while(j!==F)}}catch(Et){ca(h,h.return,Et)}}function GL(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{fi(h,x)}catch(j){ca(d,d.return,j)}}}function YL(d,h,x){x.props=Dm(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(j){ca(d,h,j)}}function iy(d,h){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var j=d.stateNode;break;case 30:j=d.stateNode;break;default:j=d.stateNode}typeof x=="function"?d.refCleanup=x(j):x.current=j}}catch(T){ca(d,h,T)}}function Lu(d,h){var x=d.ref,j=d.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(T){ca(d,h,T)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(T){ca(d,h,T)}else x.current=null}function KL(d){var h=d.type,x=d.memoizedProps,j=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(T){ca(d,d.return,T)}}function ck(d,h,x){try{var j=d.stateNode;iie(j,d.type,x,h),j[Ur]=h}catch(T){ca(d,d.return,T)}}function XL(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&yh(d.type)||d.tag===4}function uk(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||XL(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&yh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function dk(d,h,x){var j=d.tag;if(j===5||j===6)d=d.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(d),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Mi));else if(j!==4&&(j===27&&yh(d.type)&&(x=d.stateNode,h=null),d=d.child,d!==null))for(dk(d,h,x),d=d.sibling;d!==null;)dk(d,h,x),d=d.sibling}function P1(d,h,x){var j=d.tag;if(j===5||j===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(j!==4&&(j===27&&yh(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(P1(d,h,x),d=d.sibling;d!==null;)P1(d,h,x),d=d.sibling}function JL(d){var h=d.stateNode,x=d.memoizedProps;try{for(var j=d.type,T=h.attributes;T.length;)h.removeAttributeNode(T[0]);qs(h,j,x),h[nr]=d,h[Ur]=x}catch(F){ca(d,d.return,F)}}var zd=!1,Ki=!1,fk=!1,QL=typeof WeakSet=="function"?WeakSet:Set,As=null;function Fae(d,h){if(d=d.containerInfo,Dk=tw,d=Ic(d),Vl(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var T=j.anchorOffset,F=j.focusNode;j=j.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var te=0,ye=-1,$e=-1,pt=0,Et=0,Ft=d,xt=null;t:for(;;){for(var St;Ft!==x||T!==0&&Ft.nodeType!==3||(ye=te+T),Ft!==F||j!==0&&Ft.nodeType!==3||($e=te+j),Ft.nodeType===3&&(te+=Ft.nodeValue.length),(St=Ft.firstChild)!==null;)xt=Ft,Ft=St;for(;;){if(Ft===d)break t;if(xt===x&&++pt===T&&(ye=te),xt===F&&++Et===j&&($e=te),(St=Ft.nextSibling)!==null)break;Ft=xt,xt=Ft.parentNode}Ft=St}x=ye===-1||$e===-1?null:{start:ye,end:$e}}else x=null}x=x||{start:0,end:0}}else x=null;for(Pk={focusedElem:d,selectionRange:x},tw=!1,As=h;As!==null;)if(h=As,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,As=d;else for(;As!==null;){switch(h=As,F=h.alternate,d=h.flags,h.tag){case 0:if((d&4)!==0&&(d=h.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)T=d[x],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&F!==null){d=void 0,x=h,T=F.memoizedProps,F=F.memoizedState,j=x.stateNode;try{var yr=Dm(x.type,T);d=j.getSnapshotBeforeUpdate(yr,F),j.__reactInternalSnapshotBeforeUpdate=d}catch(zr){ca(x,x.return,zr)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)Ik(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":Ik(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=h.sibling,d!==null){d.return=h.return,As=d;break}As=h.return}}function ZL(d,h,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:Ud(d,x),j&4&&ay(5,x);break;case 1:if(Ud(d,x),j&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(te){ca(x,x.return,te)}else{var T=Dm(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(T,h,d.__reactInternalSnapshotBeforeUpdate)}catch(te){ca(x,x.return,te)}}j&64&&GL(x),j&512&&iy(x,x.return);break;case 3:if(Ud(d,x),j&64&&(d=x.updateQueue,d!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{fi(d,h)}catch(te){ca(x,x.return,te)}}break;case 27:h===null&&j&4&&JL(x);case 26:case 5:Ud(d,x),h===null&&j&4&&KL(x),j&512&&iy(x,x.return);break;case 12:Ud(d,x);break;case 31:Ud(d,x),j&4&&r8(d,x);break;case 13:Ud(d,x),j&4&&n8(d,x),j&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=Gae.bind(null,x),hie(d,x))));break;case 22:if(j=x.memoizedState!==null||zd,!j){h=h!==null&&h.memoizedState!==null||Ki,T=zd;var F=Ki;zd=j,(Ki=h)&&!F?Wd(d,x,(x.subtreeFlags&8772)!==0):Ud(d,x),zd=T,Ki=F}break;case 30:break;default:Ud(d,x)}}function e8(d){var h=d.alternate;h!==null&&(d.alternate=null,e8(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Ye(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Xa=null,tl=!1;function qd(d,h,x){for(x=x.child;x!==null;)t8(d,h,x),x=x.sibling}function t8(d,h,x){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Le,x)}catch{}switch(x.tag){case 26:Ki||Lu(x,h),qd(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Ki||Lu(x,h);var j=Xa,T=tl;yh(x.type)&&(Xa=x.stateNode,tl=!1),qd(d,h,x),my(x.stateNode),Xa=j,tl=T;break;case 5:Ki||Lu(x,h);case 6:if(j=Xa,T=tl,Xa=null,qd(d,h,x),Xa=j,tl=T,Xa!==null)if(tl)try{(Xa.nodeType===9?Xa.body:Xa.nodeName==="HTML"?Xa.ownerDocument.body:Xa).removeChild(x.stateNode)}catch(F){ca(x,h,F)}else try{Xa.removeChild(x.stateNode)}catch(F){ca(x,h,F)}break;case 18:Xa!==null&&(tl?(d=Xa,G8(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),R0(d)):G8(Xa,x.stateNode));break;case 4:j=Xa,T=tl,Xa=x.stateNode.containerInfo,tl=!0,qd(d,h,x),Xa=j,tl=T;break;case 0:case 11:case 14:case 15:dh(2,x,h),Ki||dh(4,x,h),qd(d,h,x);break;case 1:Ki||(Lu(x,h),j=x.stateNode,typeof j.componentWillUnmount=="function"&&YL(x,h,j)),qd(d,h,x);break;case 21:qd(d,h,x);break;case 22:Ki=(j=Ki)||x.memoizedState!==null,qd(d,h,x),Ki=j;break;default:qd(d,h,x)}}function r8(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{R0(d)}catch(x){ca(h,h.return,x)}}}function n8(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{R0(d)}catch(x){ca(h,h.return,x)}}function $ae(d){switch(d.tag){case 31:case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new QL),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new QL),h;default:throw Error(n(435,d.tag))}}function L1(d,h){var x=$ae(d);h.forEach(function(j){if(!x.has(j)){x.add(j);var T=Yae.bind(null,d,j);j.then(T,T)}})}function rl(d,h){var x=h.deletions;if(x!==null)for(var j=0;j<x.length;j++){var T=x[j],F=d,te=h,ye=te;e:for(;ye!==null;){switch(ye.tag){case 27:if(yh(ye.type)){Xa=ye.stateNode,tl=!1;break e}break;case 5:Xa=ye.stateNode,tl=!1;break e;case 3:case 4:Xa=ye.stateNode.containerInfo,tl=!0;break e}ye=ye.return}if(Xa===null)throw Error(n(160));t8(F,te,T),Xa=null,tl=!1,F=T.alternate,F!==null&&(F.return=null),T.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)a8(h,d),h=h.sibling}var Wc=null;function a8(d,h){var x=d.alternate,j=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:rl(h,d),nl(d),j&4&&(dh(3,d,d.return),ay(3,d),dh(5,d,d.return));break;case 1:rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),j&64&&zd&&(d=d.updateQueue,d!==null&&(j=d.callbacks,j!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var T=Wc;if(rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),j&4){var F=x!==null?x.memoizedState:null;if(j=d.memoizedState,x===null)if(j===null)if(d.stateNode===null){e:{j=d.type,x=d.memoizedProps,T=T.ownerDocument||T;t:switch(j){case"title":F=T.getElementsByTagName("title")[0],(!F||F[de]||F[nr]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=T.createElement(j),T.head.insertBefore(F,T.querySelector("head > title"))),qs(F,j,x),F[nr]=d,tr(F),j=F;break e;case"link":var te=a7("link","href",T).get(j+(x.href||""));if(te){for(var ye=0;ye<te.length;ye++)if(F=te[ye],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){te.splice(ye,1);break t}}F=T.createElement(j),qs(F,j,x),T.head.appendChild(F);break;case"meta":if(te=a7("meta","content",T).get(j+(x.content||""))){for(ye=0;ye<te.length;ye++)if(F=te[ye],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){te.splice(ye,1);break t}}F=T.createElement(j),qs(F,j,x),T.head.appendChild(F);break;default:throw Error(n(468,j))}F[nr]=d,tr(F),j=F}d.stateNode=j}else i7(T,d.type,d.stateNode);else d.stateNode=n7(T,j,d.memoizedProps);else F!==j?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,j===null?i7(T,d.type,d.stateNode):n7(T,j,d.memoizedProps)):j===null&&d.stateNode!==null&&ck(d,d.memoizedProps,x.memoizedProps)}break;case 27:rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),x!==null&&j&4&&ck(d,d.memoizedProps,x.memoizedProps);break;case 5:if(rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),d.flags&32){T=d.stateNode;try{re(T,"")}catch(yr){ca(d,d.return,yr)}}j&4&&d.stateNode!=null&&(T=d.memoizedProps,ck(d,T,x!==null?x.memoizedProps:T)),j&1024&&(fk=!0);break;case 6:if(rl(h,d),nl(d),j&4){if(d.stateNode===null)throw Error(n(162));j=d.memoizedProps,x=d.stateNode;try{x.nodeValue=j}catch(yr){ca(d,d.return,yr)}}break;case 3:if(J1=null,T=Wc,Wc=K1(h.containerInfo),rl(h,d),Wc=T,nl(d),j&4&&x!==null&&x.memoizedState.isDehydrated)try{R0(h.containerInfo)}catch(yr){ca(d,d.return,yr)}fk&&(fk=!1,i8(d));break;case 4:j=Wc,Wc=K1(d.stateNode.containerInfo),rl(h,d),nl(d),Wc=j;break;case 12:rl(h,d),nl(d);break;case 31:rl(h,d),nl(d),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,L1(d,j)));break;case 13:rl(h,d),nl(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(I1=Se()),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,L1(d,j)));break;case 22:T=d.memoizedState!==null;var $e=x!==null&&x.memoizedState!==null,pt=zd,Et=Ki;if(zd=pt||T,Ki=Et||$e,rl(h,d),Ki=Et,zd=pt,nl(d),j&8192)e:for(h=d.stateNode,h._visibility=T?h._visibility&-2:h._visibility|1,T&&(x===null||$e||zd||Ki||Pm(d)),x=null,h=d;;){if(h.tag===5||h.tag===26){if(x===null){$e=x=h;try{if(F=$e.stateNode,T)te=F.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{ye=$e.stateNode;var Ft=$e.memoizedProps.style,xt=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null;ye.style.display=xt==null||typeof xt=="boolean"?"":(""+xt).trim()}}catch(yr){ca($e,$e.return,yr)}}}else if(h.tag===6){if(x===null){$e=h;try{$e.stateNode.nodeValue=T?"":$e.memoizedProps}catch(yr){ca($e,$e.return,yr)}}}else if(h.tag===18){if(x===null){$e=h;try{var St=$e.stateNode;T?Y8(St,!0):Y8($e.stateNode,!1)}catch(yr){ca($e,$e.return,yr)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}j&4&&(j=d.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,L1(d,x))));break;case 19:rl(h,d),nl(d),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,L1(d,j)));break;case 30:break;case 21:break;default:rl(h,d),nl(d)}}function nl(d){var h=d.flags;if(h&2){try{for(var x,j=d.return;j!==null;){if(XL(j)){x=j;break}j=j.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var T=x.stateNode,F=uk(d);P1(d,F,T);break;case 5:var te=x.stateNode;x.flags&32&&(re(te,""),x.flags&=-33);var ye=uk(d);P1(d,ye,te);break;case 3:case 4:var $e=x.stateNode.containerInfo,pt=uk(d);dk(d,pt,$e);break;default:throw Error(n(161))}}catch(Et){ca(d,d.return,Et)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function i8(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;i8(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function Ud(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)ZL(d,h.alternate,h),h=h.sibling}function Pm(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:dh(4,h,h.return),Pm(h);break;case 1:Lu(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&YL(h,h.return,x),Pm(h);break;case 27:my(h.stateNode);case 26:case 5:Lu(h,h.return),Pm(h);break;case 22:h.memoizedState===null&&Pm(h);break;case 30:Pm(h);break;default:Pm(h)}d=d.sibling}}function Wd(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var j=h.alternate,T=d,F=h,te=F.flags;switch(F.tag){case 0:case 11:case 15:Wd(T,F,x),ay(4,F);break;case 1:if(Wd(T,F,x),j=F,T=j.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(pt){ca(j,j.return,pt)}if(j=F,T=j.updateQueue,T!==null){var ye=j.stateNode;try{var $e=T.shared.hiddenCallbacks;if($e!==null)for(T.shared.hiddenCallbacks=null,T=0;T<$e.length;T++)Cs($e[T],ye)}catch(pt){ca(j,j.return,pt)}}x&&te&64&&GL(F),iy(F,F.return);break;case 27:JL(F);case 26:case 5:Wd(T,F,x),x&&j===null&&te&4&&KL(F),iy(F,F.return);break;case 12:Wd(T,F,x);break;case 31:Wd(T,F,x),x&&te&4&&r8(T,F);break;case 13:Wd(T,F,x),x&&te&4&&n8(T,F);break;case 22:F.memoizedState===null&&Wd(T,F,x),iy(F,F.return);break;case 30:break;default:Wd(T,F,x)}h=h.sibling}}function hk(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Tm(x))}function mk(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Tm(d))}function Vc(d,h,x,j){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)s8(d,h,x,j),h=h.sibling}function s8(d,h,x,j){var T=h.flags;switch(h.tag){case 0:case 11:case 15:Vc(d,h,x,j),T&2048&&ay(9,h);break;case 1:Vc(d,h,x,j);break;case 3:Vc(d,h,x,j),T&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Tm(d)));break;case 12:if(T&2048){Vc(d,h,x,j),d=h.stateNode;try{var F=h.memoizedProps,te=F.id,ye=F.onPostCommit;typeof ye=="function"&&ye(te,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch($e){ca(h,h.return,$e)}}else Vc(d,h,x,j);break;case 31:Vc(d,h,x,j);break;case 13:Vc(d,h,x,j);break;case 23:break;case 22:F=h.stateNode,te=h.alternate,h.memoizedState!==null?F._visibility&2?Vc(d,h,x,j):sy(d,h):F._visibility&2?Vc(d,h,x,j):(F._visibility|=2,k0(d,h,x,j,(h.subtreeFlags&10256)!==0||!1)),T&2048&&hk(te,h);break;case 24:Vc(d,h,x,j),T&2048&&mk(h.alternate,h);break;default:Vc(d,h,x,j)}}function k0(d,h,x,j,T){for(T=T&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var F=d,te=h,ye=x,$e=j,pt=te.flags;switch(te.tag){case 0:case 11:case 15:k0(F,te,ye,$e,T),ay(8,te);break;case 23:break;case 22:var Et=te.stateNode;te.memoizedState!==null?Et._visibility&2?k0(F,te,ye,$e,T):sy(F,te):(Et._visibility|=2,k0(F,te,ye,$e,T)),T&&pt&2048&&hk(te.alternate,te);break;case 24:k0(F,te,ye,$e,T),T&&pt&2048&&mk(te.alternate,te);break;default:k0(F,te,ye,$e,T)}h=h.sibling}}function sy(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,j=h,T=j.flags;switch(j.tag){case 22:sy(x,j),T&2048&&hk(j.alternate,j);break;case 24:sy(x,j),T&2048&&mk(j.alternate,j);break;default:sy(x,j)}h=h.sibling}}var oy=8192;function C0(d,h,x){if(d.subtreeFlags&oy)for(d=d.child;d!==null;)o8(d,h,x),d=d.sibling}function o8(d,h,x){switch(d.tag){case 26:C0(d,h,x),d.flags&oy&&d.memoizedState!==null&&kie(x,Wc,d.memoizedState,d.memoizedProps);break;case 5:C0(d,h,x);break;case 3:case 4:var j=Wc;Wc=K1(d.stateNode.containerInfo),C0(d,h,x),Wc=j;break;case 22:d.memoizedState===null&&(j=d.alternate,j!==null&&j.memoizedState!==null?(j=oy,oy=16777216,C0(d,h,x),oy=j):C0(d,h,x));break;default:C0(d,h,x)}}function l8(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function ly(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var j=h[x];As=j,u8(j,d)}l8(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)c8(d),d=d.sibling}function c8(d){switch(d.tag){case 0:case 11:case 15:ly(d),d.flags&2048&&dh(9,d,d.return);break;case 3:ly(d);break;case 12:ly(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,R1(d)):ly(d);break;default:ly(d)}}function R1(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var j=h[x];As=j,u8(j,d)}l8(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:dh(8,h,h.return),R1(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,R1(h));break;default:R1(h)}d=d.sibling}}function u8(d,h){for(;As!==null;){var x=As;switch(x.tag){case 0:case 11:case 15:dh(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Tm(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,As=j;else e:for(x=d;As!==null;){j=As;var T=j.sibling,F=j.return;if(e8(j),j===x){As=null;break e}if(T!==null){T.return=F,As=T;break e}As=F}}}var Bae={getCacheForType:function(d){var h=ms(ai),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x},cacheSignal:function(){return ms(ai).controller.signal}},Hae=typeof WeakMap=="function"?WeakMap:Map,Qn=0,Ca=null,Nn=null,Tn=0,la=0,yl=null,fh=!1,_0=!1,pk=!1,Vd=0,gi=0,hh=0,Lm=0,gk=0,bl=0,A0=0,cy=null,al=null,xk=!1,I1=0,d8=0,F1=1/0,$1=null,mh=null,gs=0,ph=null,T0=null,Gd=0,yk=0,bk=null,f8=null,uy=0,vk=null;function vl(){return(Qn&2)!==0&&Tn!==0?Tn&-Tn:W.T!==null?Ck():gr()}function h8(){if(bl===0)if((Tn&536870912)===0||jn){var d=we;we<<=1,(we&3932160)===0&&(we=262144),bl=d}else bl=536870912;return d=Ba.current,d!==null&&(d.flags|=32),bl}function il(d,h,x){(d===Ca&&(la===2||la===9)||d.cancelPendingCommit!==null)&&(M0(d,0),gh(d,Tn,bl,!1)),ze(d,x),((Qn&2)===0||d!==Ca)&&(d===Ca&&((Qn&2)===0&&(Lm|=x),gi===4&&gh(d,Tn,bl,!1)),Ru(d))}function m8(d,h,x){if((Qn&6)!==0)throw Error(n(327));var j=!x&&(h&127)===0&&(h&d.expiredLanes)===0||Ue(d,h),T=j?Uae(d,h):jk(d,h,!0),F=j;do{if(T===0){_0&&!j&&gh(d,h,0,!1);break}else{if(x=d.current.alternate,F&&!zae(x)){T=jk(d,h,!1),F=!1;continue}if(T===2){if(F=h,d.errorRecoveryDisabledLanes&F)var te=0;else te=d.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){h=te;e:{var ye=d;T=cy;var $e=ye.current.memoizedState.isDehydrated;if($e&&(M0(ye,te).flags|=256),te=jk(ye,te,!1),te!==2){if(pk&&!$e){ye.errorRecoveryDisabledLanes|=F,Lm|=F,T=4;break e}F=al,al=T,F!==null&&(al===null?al=F:al.push.apply(al,F))}T=te}if(F=!1,T!==2)continue}}if(T===1){M0(d,0),gh(d,h,0,!0);break}e:{switch(j=d,F=T,F){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:gh(j,h,bl,!fh);break e;case 2:al=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(T=I1+300-Se(),10<T)){if(gh(j,h,bl,!fh),Re(j,0,!0)!==0)break e;Gd=h,j.timeoutHandle=W8(p8.bind(null,j,x,al,$1,xk,h,bl,Lm,A0,fh,F,"Throttled",-0,0),T);break e}p8(j,x,al,$1,xk,h,bl,Lm,A0,fh,F,null,-0,0)}}break}while(!0);Ru(d)}function p8(d,h,x,j,T,F,te,ye,$e,pt,Et,Ft,xt,St){if(d.timeoutHandle=-1,Ft=h.subtreeFlags,Ft&8192||(Ft&16785408)===16785408){Ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},o8(h,F,Ft);var yr=(F&62914560)===F?I1-Se():(F&4194048)===F?d8-Se():0;if(yr=Cie(Ft,yr),yr!==null){Gd=F,d.cancelPendingCommit=yr(N8.bind(null,d,h,F,x,j,T,te,ye,$e,Et,Ft,null,xt,St)),gh(d,F,te,!pt);return}}N8(d,h,F,x,j,T,te,ye,$e)}function zae(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var T=x[j],F=T.getSnapshot;T=T.value;try{if(!us(F(),T))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function gh(d,h,x,j){h&=~gk,h&=~Lm,d.suspendedLanes|=h,d.pingedLanes&=~h,j&&(d.warmLanes|=h),j=d.expirationTimes;for(var T=h;0<T;){var F=31-be(T),te=1<<F;j[F]=-1,T&=~te}x!==0&&Ht(d,x,h)}function B1(){return(Qn&6)===0?(dy(0),!1):!0}function wk(){if(Nn!==null){if(la===0)var d=Nn.return;else d=Nn,Yl=_u=null,y0(d),$t=null,br=0,d=Nn;for(;d!==null;)VL(d.alternate,d),d=d.return;Nn=null}}function M0(d,h){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,lie(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Gd=0,wk(),Ca=d,Nn=x=Go(d.current,null),Tn=h,la=0,yl=null,fh=!1,_0=Ue(d,h),pk=!1,A0=bl=gk=Lm=hh=gi=0,al=cy=null,xk=!1,(h&8)!==0&&(h|=h&32);var j=d.entangledLanes;if(j!==0)for(d=d.entanglements,j&=h;0<j;){var T=31-be(j),F=1<<T;h|=d[T],j&=~F}return Vd=h,Nm(),x}function g8(d,h){Or=null,W.H=ty,h===We||h===Te?(h=Lt(),la=3):h===dt?(h=Lt(),la=4):la=h===ZS?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,yl=h,Nn===null&&(gi=1,T1(d,Yo(h,d.current)))}function x8(){var d=Ba.current;return d===null?!0:(Tn&4194048)===Tn?$n===null:(Tn&62914560)===Tn||(Tn&536870912)!==0?d===$n:!1}function y8(){var d=W.H;return W.H=ty,d===null?ty:d}function b8(){var d=W.A;return W.A=Bae,d}function H1(){gi=4,fh||(Tn&4194048)!==Tn&&Ba.current!==null||(_0=!0),(hh&134217727)===0&&(Lm&134217727)===0||Ca===null||gh(Ca,Tn,bl,!1)}function jk(d,h,x){var j=Qn;Qn|=2;var T=y8(),F=b8();(Ca!==d||Tn!==h)&&($1=null,M0(d,h)),h=!1;var te=gi;e:do try{if(la!==0&&Nn!==null){var ye=Nn,$e=yl;switch(la){case 8:wk(),te=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(h=!0);var pt=la;if(la=0,yl=null,O0(d,ye,$e,pt),x&&_0){te=0;break e}break;default:pt=la,la=0,yl=null,O0(d,ye,$e,pt)}}qae(),te=gi;break}catch(Et){g8(d,Et)}while(!0);return h&&d.shellSuspendCounter++,Yl=_u=null,Qn=j,W.H=T,W.A=F,Nn===null&&(Ca=null,Tn=0,Nm()),te}function qae(){for(;Nn!==null;)v8(Nn)}function Uae(d,h){var x=Qn;Qn|=2;var j=y8(),T=b8();Ca!==d||Tn!==h?($1=null,F1=Se()+500,M0(d,h)):_0=Ue(d,h);e:do try{if(la!==0&&Nn!==null){h=Nn;var F=yl;t:switch(la){case 1:la=0,yl=null,O0(d,h,F,1);break;case 2:case 9:if(ot(F)){la=0,yl=null,w8(h);break}h=function(){la!==2&&la!==9||Ca!==d||(la=7),Ru(d)},F.then(h,h);break e;case 3:la=7;break e;case 4:la=5;break e;case 7:ot(F)?(la=0,yl=null,w8(h)):(la=0,yl=null,O0(d,h,F,7));break;case 5:var te=null;switch(Nn.tag){case 26:te=Nn.memoizedState;case 5:case 27:var ye=Nn;if(te?s7(te):ye.stateNode.complete){la=0,yl=null;var $e=ye.sibling;if($e!==null)Nn=$e;else{var pt=ye.return;pt!==null?(Nn=pt,z1(pt)):Nn=null}break t}}la=0,yl=null,O0(d,h,F,5);break;case 6:la=0,yl=null,O0(d,h,F,6);break;case 8:wk(),gi=6;break e;default:throw Error(n(462))}}Wae();break}catch(Et){g8(d,Et)}while(!0);return Yl=_u=null,W.H=j,W.A=T,Qn=x,Nn!==null?0:(Ca=null,Tn=0,Nm(),gi)}function Wae(){for(;Nn!==null&&!Tt();)v8(Nn)}function v8(d){var h=UL(d.alternate,d,Vd);d.memoizedProps=d.pendingProps,h===null?z1(d):Nn=h}function w8(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=FL(x,h,h.pendingProps,h.type,void 0,Tn);break;case 11:h=FL(x,h,h.pendingProps,h.type.render,h.ref,Tn);break;case 5:y0(h);default:VL(x,h),h=Nn=Cm(h,Vd),h=UL(x,h,Vd)}d.memoizedProps=d.pendingProps,h===null?z1(d):Nn=h}function O0(d,h,x,j){Yl=_u=null,y0(h),$t=null,br=0;var T=h.return;try{if(Dae(d,T,h,x,Tn)){gi=1,T1(d,Yo(x,d.current)),Nn=null;return}}catch(F){if(T!==null)throw Nn=T,F;gi=1,T1(d,Yo(x,d.current)),Nn=null;return}h.flags&32768?(jn||j===1?d=!0:_0||(Tn&536870912)!==0?d=!1:(fh=d=!0,(j===2||j===9||j===3||j===6)&&(j=Ba.current,j!==null&&j.tag===13&&(j.flags|=16384))),j8(h,d)):z1(h)}function z1(d){var h=d;do{if((h.flags&32768)!==0){j8(h,fh);return}d=h.return;var x=Rae(h.alternate,h,Vd);if(x!==null){Nn=x;return}if(h=h.sibling,h!==null){Nn=h;return}Nn=h=d}while(h!==null);gi===0&&(gi=5)}function j8(d,h){do{var x=Iae(d.alternate,d);if(x!==null){x.flags&=32767,Nn=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){Nn=d;return}Nn=d=x}while(d!==null);gi=6,Nn=null}function N8(d,h,x,j,T,F,te,ye,$e){d.cancelPendingCommit=null;do q1();while(gs!==0);if((Qn&6)!==0)throw Error(n(327));if(h!==null){if(h===d.current)throw Error(n(177));if(F=h.lanes|h.childLanes,F|=a0,Rt(d,x,F,te,ye,$e),d===Ca&&(Nn=Ca=null,Tn=0),T0=h,ph=d,Gd=x,yk=F,bk=T,f8=j,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Kae(kt,function(){return A8(),null})):(d.callbackNode=null,d.callbackPriority=0),j=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||j){j=W.T,W.T=null,T=$.p,$.p=2,te=Qn,Qn|=4;try{Fae(d,h,x)}finally{Qn=te,$.p=T,W.T=j}}gs=1,S8(),k8(),C8()}}function S8(){if(gs===1){gs=0;var d=ph,h=T0,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=W.T,W.T=null;var j=$.p;$.p=2;var T=Qn;Qn|=4;try{a8(h,d);var F=Pk,te=Ic(d.containerInfo),ye=F.focusedElem,$e=F.selectionRange;if(te!==ye&&ye&&ye.ownerDocument&&Rc(ye.ownerDocument.documentElement,ye)){if($e!==null&&Vl(ye)){var pt=$e.start,Et=$e.end;if(Et===void 0&&(Et=pt),"selectionStart"in ye)ye.selectionStart=pt,ye.selectionEnd=Math.min(Et,ye.value.length);else{var Ft=ye.ownerDocument||document,xt=Ft&&Ft.defaultView||window;if(xt.getSelection){var St=xt.getSelection(),yr=ye.textContent.length,zr=Math.min($e.start,yr),va=$e.end===void 0?zr:Math.min($e.end,yr);!St.extend&&zr>va&&(te=va,va=zr,zr=te);var nt=eh(ye,zr),Ve=eh(ye,va);if(nt&&Ve&&(St.rangeCount!==1||St.anchorNode!==nt.node||St.anchorOffset!==nt.offset||St.focusNode!==Ve.node||St.focusOffset!==Ve.offset)){var mt=Ft.createRange();mt.setStart(nt.node,nt.offset),St.removeAllRanges(),zr>va?(St.addRange(mt),St.extend(Ve.node,Ve.offset)):(mt.setEnd(Ve.node,Ve.offset),St.addRange(mt))}}}}for(Ft=[],St=ye;St=St.parentNode;)St.nodeType===1&&Ft.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<Ft.length;ye++){var It=Ft[ye];It.element.scrollLeft=It.left,It.element.scrollTop=It.top}}tw=!!Dk,Pk=Dk=null}finally{Qn=T,$.p=j,W.T=x}}d.current=h,gs=2}}function k8(){if(gs===2){gs=0;var d=ph,h=T0,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=W.T,W.T=null;var j=$.p;$.p=2;var T=Qn;Qn|=4;try{ZL(d,h.alternate,h)}finally{Qn=T,$.p=j,W.T=x}}gs=3}}function C8(){if(gs===4||gs===3){gs=0,_t();var d=ph,h=T0,x=Gd,j=f8;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?gs=5:(gs=0,T0=ph=null,_8(d,d.pendingLanes));var T=d.pendingLanes;if(T===0&&(mh=null),Wt(x),h=h.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Le,h,void 0,(h.current.flags&128)===128)}catch{}if(j!==null){h=W.T,T=$.p,$.p=2,W.T=null;try{for(var F=d.onRecoverableError,te=0;te<j.length;te++){var ye=j[te];F(ye.value,{componentStack:ye.stack})}}finally{W.T=h,$.p=T}}(Gd&3)!==0&&q1(),Ru(d),T=d.pendingLanes,(x&261930)!==0&&(T&42)!==0?d===vk?uy++:(uy=0,vk=d):uy=0,dy(0)}}function _8(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,Tm(h)))}function q1(){return S8(),k8(),C8(),A8()}function A8(){if(gs!==5)return!1;var d=ph,h=yk;yk=0;var x=Wt(Gd),j=W.T,T=$.p;try{$.p=32>x?32:x,W.T=null,x=bk,bk=null;var F=ph,te=Gd;if(gs=0,T0=ph=null,Gd=0,(Qn&6)!==0)throw Error(n(331));var ye=Qn;if(Qn|=4,c8(F.current),s8(F,F.current,te,x),Qn=ye,dy(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Le,F)}catch{}return!0}finally{$.p=T,W.T=j,_8(d,h)}}function T8(d,h,x){h=Yo(x,h),h=QS(d.stateNode,h,2),d=ln(d,h,2),d!==null&&(ze(d,2),Ru(d))}function ca(d,h,x){if(d.tag===3)T8(d,d,x);else for(;h!==null;){if(h.tag===3){T8(h,d,x);break}else if(h.tag===1){var j=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(mh===null||!mh.has(j))){d=Yo(x,d),x=ML(2),j=ln(h,x,2),j!==null&&(OL(x,j,h,d),ze(j,2),Ru(j));break}}h=h.return}}function Nk(d,h,x){var j=d.pingCache;if(j===null){j=d.pingCache=new Hae;var T=new Set;j.set(h,T)}else T=j.get(h),T===void 0&&(T=new Set,j.set(h,T));T.has(x)||(pk=!0,T.add(x),d=Vae.bind(null,d,h,x),h.then(d,d))}function Vae(d,h,x){var j=d.pingCache;j!==null&&j.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Ca===d&&(Tn&x)===x&&(gi===4||gi===3&&(Tn&62914560)===Tn&&300>Se()-I1?(Qn&2)===0&&M0(d,0):gk|=x,A0===Tn&&(A0=0)),Ru(d)}function M8(d,h){h===0&&(h=De()),d=$c(d,h),d!==null&&(ze(d,h),Ru(d))}function Gae(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),M8(d,x)}function Yae(d,h){var x=0;switch(d.tag){case 31:case 13:var j=d.stateNode,T=d.memoizedState;T!==null&&(x=T.retryLane);break;case 19:j=d.stateNode;break;case 22:j=d.stateNode._retryCache;break;default:throw Error(n(314))}j!==null&&j.delete(h),M8(d,x)}function Kae(d,h){return yt(d,h)}var U1=null,E0=null,Sk=!1,W1=!1,kk=!1,xh=0;function Ru(d){d!==E0&&d.next===null&&(E0===null?U1=E0=d:E0=E0.next=d),W1=!0,Sk||(Sk=!0,Jae())}function dy(d,h){if(!kk&&W1){kk=!0;do for(var x=!1,j=U1;j!==null;){if(d!==0){var T=j.pendingLanes;if(T===0)var F=0;else{var te=j.suspendedLanes,ye=j.pingedLanes;F=(1<<31-be(42|d)+1)-1,F&=T&~(te&~ye),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,P8(j,F))}else F=Tn,F=Re(j,j===Ca?F:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(F&3)===0||Ue(j,F)||(x=!0,P8(j,F));j=j.next}while(x);kk=!1}}function Xae(){O8()}function O8(){W1=Sk=!1;var d=0;xh!==0&&oie()&&(d=xh);for(var h=Se(),x=null,j=U1;j!==null;){var T=j.next,F=E8(j,h);F===0?(j.next=null,x===null?U1=T:x.next=T,T===null&&(E0=x)):(x=j,(d!==0||(F&3)!==0)&&(W1=!0)),j=T}gs!==0&&gs!==5||dy(d),xh!==0&&(xh=0)}function E8(d,h){for(var x=d.suspendedLanes,j=d.pingedLanes,T=d.expirationTimes,F=d.pendingLanes&-62914561;0<F;){var te=31-be(F),ye=1<<te,$e=T[te];$e===-1?((ye&x)===0||(ye&j)!==0)&&(T[te]=st(ye,h)):$e<=h&&(d.expiredLanes|=ye),F&=~ye}if(h=Ca,x=Tn,x=Re(d,d===h?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),j=d.callbackNode,x===0||d===h&&(la===2||la===9)||d.cancelPendingCommit!==null)return j!==null&&j!==null&&Qe(j),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||Ue(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(j!==null&&Qe(j),Wt(x)){case 2:case 8:x=Nt;break;case 32:x=kt;break;case 268435456:x=vt;break;default:x=kt}return j=D8.bind(null,d),x=yt(x,j),d.callbackPriority=h,d.callbackNode=x,h}return j!==null&&j!==null&&Qe(j),d.callbackPriority=2,d.callbackNode=null,2}function D8(d,h){if(gs!==0&&gs!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(q1()&&d.callbackNode!==x)return null;var j=Tn;return j=Re(d,d===Ca?j:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),j===0?null:(m8(d,j,h),E8(d,Se()),d.callbackNode!=null&&d.callbackNode===x?D8.bind(null,d):null)}function P8(d,h){if(q1())return null;m8(d,h,!0)}function Jae(){cie(function(){(Qn&6)!==0?yt(at,Xae):O8()})}function Ck(){if(xh===0){var d=C;d===0&&(d=Ge,Ge<<=1,(Ge&261888)===0&&(Ge=256)),xh=d}return xh}function L8(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Ti(""+d)}function R8(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function Qae(d,h,x,j,T){if(h==="submit"&&x&&x.stateNode===T){var F=L8((T[Ur]||null).action),te=j.submitter;te&&(h=(h=te[Ur]||null)?L8(h.formAction):te.getAttribute("formAction"),h!==null&&(F=h,te=null));var ye=new Fl("action","action",null,j,T);d.push({event:ye,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(xh!==0){var $e=te?R8(T,te):new FormData(T);VS(x,{pending:!0,data:$e,method:T.method,action:F},null,$e)}}else typeof F=="function"&&(ye.preventDefault(),$e=te?R8(T,te):new FormData(T),VS(x,{pending:!0,data:$e,method:T.method,action:F},F,$e))},currentTarget:T}]})}}for(var _k=0;_k<Ed.length;_k++){var Ak=Ed[_k],Zae=Ak.toLowerCase(),eie=Ak[0].toUpperCase()+Ak.slice(1);Vo(Zae,"on"+eie)}Vo(Od,"onAnimationEnd"),Vo(wm,"onAnimationIteration"),Vo(Bx,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(g1,"onTransitionRun"),Vo(x1,"onTransitionStart"),Vo(y1,"onTransitionCancel"),Vo(Hx,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tie=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fy));function I8(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var j=d[x],T=j.event;j=j.listeners;e:{var F=void 0;if(h)for(var te=j.length-1;0<=te;te--){var ye=j[te],$e=ye.instance,pt=ye.currentTarget;if(ye=ye.listener,$e!==F&&T.isPropagationStopped())break e;F=ye,T.currentTarget=pt;try{F(T)}catch(Et){jm(Et)}T.currentTarget=null,F=$e}else for(te=0;te<j.length;te++){if(ye=j[te],$e=ye.instance,pt=ye.currentTarget,ye=ye.listener,$e!==F&&T.isPropagationStopped())break e;F=ye,T.currentTarget=pt;try{F(T)}catch(Et){jm(Et)}T.currentTarget=null,F=$e}}}}function Sn(d,h){var x=h[Zt];x===void 0&&(x=h[Zt]=new Set);var j=d+"__bubble";x.has(j)||(F8(h,d,2,!1),x.add(j))}function Tk(d,h,x){var j=0;h&&(j|=4),F8(x,d,j,h)}var V1="_reactListening"+Math.random().toString(36).slice(2);function Mk(d){if(!d[V1]){d[V1]=!0,Mr.forEach(function(x){x!=="selectionchange"&&(tie.has(x)||Tk(x,!1,d),Tk(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[V1]||(h[V1]=!0,Tk("selectionchange",!1,h))}}function F8(d,h,x,j){switch(h7(h)){case 2:var T=Tie;break;case 8:T=Mie;break;default:T=Wk}x=T.bind(null,h,x,d),T=void 0,!ym||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),j?T!==void 0?d.addEventListener(h,x,{capture:!0,passive:T}):d.addEventListener(h,x,!0):T!==void 0?d.addEventListener(h,x,{passive:T}):d.addEventListener(h,x,!1)}function Ok(d,h,x,j,T){var F=j;if((h&1)===0&&(h&2)===0&&j!==null)e:for(;;){if(j===null)return;var te=j.tag;if(te===3||te===4){var ye=j.stateNode.containerInfo;if(ye===T)break;if(te===4)for(te=j.return;te!==null;){var $e=te.tag;if(($e===3||$e===4)&&te.stateNode.containerInfo===T)return;te=te.return}for(;ye!==null;){if(te=wt(ye),te===null)return;if($e=te.tag,$e===5||$e===6||$e===26||$e===27){j=F=te;continue e}ye=ye.parentNode}}j=j.return}Qp(function(){var pt=F,Et=jd(x),Ft=[];e:{var xt=zx.get(d);if(xt!==void 0){var St=Fl,yr=d;switch(d){case"keypress":if(_c(x)===0)break e;case"keydown":case"keyup":St=zn;break;case"focusin":yr="focus",St=Oc;break;case"focusout":yr="blur",St=Oc;break;case"beforeblur":case"afterblur":St=Oc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Oi;break;case Od:case wm:case Bx:St=z;break;case Hx:St=ls;break;case"scroll":case"scrollend":St=Gf;break;case"wheel":St=Zs;break;case"copy":case"cut":case"paste":St=Oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=ti;break;case"toggle":case"beforetoggle":St=Yf}var zr=(h&4)!==0,va=!zr&&(d==="scroll"||d==="scrollend"),nt=zr?xt!==null?xt+"Capture":null:xt;zr=[];for(var Ve=pt,mt;Ve!==null;){var It=Ve;if(mt=It.stateNode,It=It.tag,It!==5&&It!==26&&It!==27||mt===null||nt===null||(It=bo(Ve,nt),It!=null&&zr.push(hy(Ve,It,mt))),va)break;Ve=Ve.return}0<zr.length&&(xt=new St(xt,yr,null,x,Et),Ft.push({event:xt,listeners:zr}))}}if((h&7)===0){e:{if(xt=d==="mouseover"||d==="pointerover",St=d==="mouseout"||d==="pointerout",xt&&x!==Rl&&(yr=x.relatedTarget||x.fromElement)&&(wt(yr)||yr[Kr]))break e;if((St||xt)&&(xt=Et.window===Et?Et:(xt=Et.ownerDocument)?xt.defaultView||xt.parentWindow:window,St?(yr=x.relatedTarget||x.toElement,St=pt,yr=yr?wt(yr):null,yr!==null&&(va=s(yr),zr=yr.tag,yr!==va||zr!==5&&zr!==27&&zr!==6)&&(yr=null)):(St=null,yr=pt),St!==yr)){if(zr=$l,It="onMouseLeave",nt="onMouseEnter",Ve="mouse",(d==="pointerout"||d==="pointerover")&&(zr=ti,It="onPointerLeave",nt="onPointerEnter",Ve="pointer"),va=St==null?xt:Jr(St),mt=yr==null?xt:Jr(yr),xt=new zr(It,Ve+"leave",St,x,Et),xt.target=va,xt.relatedTarget=mt,It=null,wt(Et)===pt&&(zr=new zr(nt,Ve+"enter",yr,x,Et),zr.target=mt,zr.relatedTarget=va,It=zr),va=It,St&&yr)t:{for(zr=rie,nt=St,Ve=yr,mt=0,It=nt;It;It=zr(It))mt++;It=0;for(var Dr=Ve;Dr;Dr=zr(Dr))It++;for(;0<mt-It;)nt=zr(nt),mt--;for(;0<It-mt;)Ve=zr(Ve),It--;for(;mt--;){if(nt===Ve||Ve!==null&&nt===Ve.alternate){zr=nt;break t}nt=zr(nt),Ve=zr(Ve)}zr=null}else zr=null;St!==null&&$8(Ft,xt,St,zr,!1),yr!==null&&va!==null&&$8(Ft,va,yr,zr,!0)}}e:{if(xt=pt?Jr(pt):window,St=xt.nodeName&&xt.nodeName.toLowerCase(),St==="select"||St==="input"&&xt.type==="file")var Vn=Nu;else if(bm(xt))if(eo)Vn=Ul;else{Vn=ri;var Sr=Qf}else St=xt.nodeName,!St||St.toLowerCase()!=="input"||xt.type!=="checkbox"&&xt.type!=="radio"?pt&&xn(pt.elementType)&&(Vn=Nu):Vn=n0;if(Vn&&(Vn=Vn(d,pt))){jo(Ft,Vn,x,Et);break e}Sr&&Sr(d,xt,pt),d==="focusout"&&pt&&xt.type==="number"&&pt.memoizedProps.value!=null&&vd(xt,"number",xt.value)}switch(Sr=pt?Jr(pt):window,d){case"focusin":(bm(Sr)||Sr.contentEditable==="true")&&(No=Sr,Fc=pt,Ns=null);break;case"focusout":Ns=Fc=No=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,qn(Ft,x,Et);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":qn(Ft,x,Et)}var dn;if(Bl)e:{switch(d){case"compositionstart":var Mn="onCompositionStart";break e;case"compositionend":Mn="onCompositionEnd";break e;case"compositionupdate":Mn="onCompositionUpdate";break e}Mn=void 0}else Hl?ju(d,x)&&(Mn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Mn="onCompositionStart");Mn&&(vu&&x.locale!=="ko"&&(Hl||Mn!=="onCompositionStart"?Mn==="onCompositionEnd"&&Hl&&(dn=kd()):(vo=Et,Sd="value"in vo?vo.value:vo.textContent,Hl=!0)),Sr=G1(pt,Mn),0<Sr.length&&(Mn=new rt(Mn,d,null,x,Et),Ft.push({event:Mn,listeners:Sr}),dn?Mn.data=dn:(dn=Kf(x),dn!==null&&(Mn.data=dn)))),(dn=Td?Va(d,x):Ec(d,x))&&(Mn=G1(pt,"onBeforeInput"),0<Mn.length&&(Sr=new rt("onBeforeInput","beforeinput",null,x,Et),Ft.push({event:Sr,listeners:Mn}),Sr.data=dn)),Qae(Ft,d,pt,x,Et)}I8(Ft,h)})}function hy(d,h,x){return{instance:d,listener:h,currentTarget:x}}function G1(d,h){for(var x=h+"Capture",j=[];d!==null;){var T=d,F=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||F===null||(T=bo(d,x),T!=null&&j.unshift(hy(d,T,F)),T=bo(d,h),T!=null&&j.push(hy(d,T,F))),d.tag===3)return j;d=d.return}return[]}function rie(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function $8(d,h,x,j,T){for(var F=h._reactName,te=[];x!==null&&x!==j;){var ye=x,$e=ye.alternate,pt=ye.stateNode;if(ye=ye.tag,$e!==null&&$e===j)break;ye!==5&&ye!==26&&ye!==27||pt===null||($e=pt,T?(pt=bo(x,F),pt!=null&&te.unshift(hy(x,pt,$e))):T||(pt=bo(x,F),pt!=null&&te.push(hy(x,pt,$e)))),x=x.return}te.length!==0&&d.push({event:h,listeners:te})}var nie=/\r\n?/g,aie=/\u0000|\uFFFD/g;function B8(d){return(typeof d=="string"?d:""+d).replace(nie,`
`).replace(aie,"")}function H8(d,h){return h=B8(h),B8(d)===h}function ba(d,h,x,j,T,F){switch(x){case"children":typeof j=="string"?h==="body"||h==="textarea"&&j===""||re(d,j):(typeof j=="number"||typeof j=="bigint")&&h!=="body"&&re(d,""+j);break;case"className":An(d,"class",j);break;case"tabIndex":An(d,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":An(d,x,j);break;case"style":cn(d,j,F);break;case"data":if(h!=="object"){An(d,"data",j);break}case"src":case"href":if(j===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){d.removeAttribute(x);break}j=Ti(""+j),d.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(h!=="input"&&ba(d,h,"name",T.name,T,null),ba(d,h,"formEncType",T.formEncType,T,null),ba(d,h,"formMethod",T.formMethod,T,null),ba(d,h,"formTarget",T.formTarget,T,null)):(ba(d,h,"encType",T.encType,T,null),ba(d,h,"method",T.method,T,null),ba(d,h,"target",T.target,T,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){d.removeAttribute(x);break}j=Ti(""+j),d.setAttribute(x,j);break;case"onClick":j!=null&&(d.onclick=Mi);break;case"onScroll":j!=null&&Sn("scroll",d);break;case"onScrollEnd":j!=null&&Sn("scrollend",d);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"multiple":d.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":d.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){d.removeAttribute("xlink:href");break}x=Ti(""+j),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,""+j):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":j===!0?d.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,j):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?d.setAttribute(x,j):d.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?d.removeAttribute(x):d.setAttribute(x,j);break;case"popover":Sn("beforetoggle",d),Sn("toggle",d),wn(d,"popover",j);break;case"xlinkActuate":en(d,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":en(d,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":en(d,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":en(d,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":en(d,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":en(d,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":en(d,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":en(d,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":en(d,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":wn(d,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=as.get(x)||x,wn(d,x,j))}}function Ek(d,h,x,j,T,F){switch(x){case"style":cn(d,j,F);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"children":typeof j=="string"?re(d,j):(typeof j=="number"||typeof j=="bigint")&&re(d,""+j);break;case"onScroll":j!=null&&Sn("scroll",d);break;case"onScrollEnd":j!=null&&Sn("scrollend",d);break;case"onClick":j!=null&&(d.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(T=x.endsWith("Capture"),h=x.slice(2,T?x.length-7:void 0),F=d[Ur]||null,F=F!=null?F[x]:null,typeof F=="function"&&d.removeEventListener(h,F,T),typeof j=="function")){typeof F!="function"&&F!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,j,T);break e}x in d?d[x]=j:j===!0?d.setAttribute(x,""):wn(d,x,j)}}}function qs(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sn("error",d),Sn("load",d);var j=!1,T=!1,F;for(F in x)if(x.hasOwnProperty(F)){var te=x[F];if(te!=null)switch(F){case"src":j=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ba(d,h,F,te,x,null)}}T&&ba(d,h,"srcSet",x.srcSet,x,null),j&&ba(d,h,"src",x.src,x,null);return;case"input":Sn("invalid",d);var ye=F=te=T=null,$e=null,pt=null;for(j in x)if(x.hasOwnProperty(j)){var Et=x[j];if(Et!=null)switch(j){case"name":T=Et;break;case"type":te=Et;break;case"checked":$e=Et;break;case"defaultChecked":pt=Et;break;case"value":F=Et;break;case"defaultValue":ye=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(n(137,h));break;default:ba(d,h,j,Et,x,null)}}Uf(d,F,ye,$e,pt,te,T,!1);return;case"select":Sn("invalid",d),j=te=F=null;for(T in x)if(x.hasOwnProperty(T)&&(ye=x[T],ye!=null))switch(T){case"value":F=ye;break;case"defaultValue":te=ye;break;case"multiple":j=ye;default:ba(d,h,T,ye,x,null)}h=F,x=te,d.multiple=!!j,h!=null?ns(d,!!j,h,!1):x!=null&&ns(d,!!j,x,!0);return;case"textarea":Sn("invalid",d),F=T=j=null;for(te in x)if(x.hasOwnProperty(te)&&(ye=x[te],ye!=null))switch(te){case"value":j=ye;break;case"defaultValue":T=ye;break;case"children":F=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(91));break;default:ba(d,h,te,ye,x,null)}se(d,j,T,F);return;case"option":for($e in x)if(x.hasOwnProperty($e)&&(j=x[$e],j!=null))switch($e){case"selected":d.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ba(d,h,$e,j,x,null)}return;case"dialog":Sn("beforetoggle",d),Sn("toggle",d),Sn("cancel",d),Sn("close",d);break;case"iframe":case"object":Sn("load",d);break;case"video":case"audio":for(j=0;j<fy.length;j++)Sn(fy[j],d);break;case"image":Sn("error",d),Sn("load",d);break;case"details":Sn("toggle",d);break;case"embed":case"source":case"link":Sn("error",d),Sn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in x)if(x.hasOwnProperty(pt)&&(j=x[pt],j!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ba(d,h,pt,j,x,null)}return;default:if(xn(h)){for(Et in x)x.hasOwnProperty(Et)&&(j=x[Et],j!==void 0&&Ek(d,h,Et,j,x,void 0));return}}for(ye in x)x.hasOwnProperty(ye)&&(j=x[ye],j!=null&&ba(d,h,ye,j,x,null))}function iie(d,h,x,j){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,F=null,te=null,ye=null,$e=null,pt=null,Et=null;for(St in x){var Ft=x[St];if(x.hasOwnProperty(St)&&Ft!=null)switch(St){case"checked":break;case"value":break;case"defaultValue":$e=Ft;default:j.hasOwnProperty(St)||ba(d,h,St,null,j,Ft)}}for(var xt in j){var St=j[xt];if(Ft=x[xt],j.hasOwnProperty(xt)&&(St!=null||Ft!=null))switch(xt){case"type":F=St;break;case"name":T=St;break;case"checked":pt=St;break;case"defaultChecked":Et=St;break;case"value":te=St;break;case"defaultValue":ye=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(n(137,h));break;default:St!==Ft&&ba(d,h,xt,St,j,Ft)}}bd(d,te,ye,$e,pt,Et,F,T);return;case"select":St=te=ye=xt=null;for(F in x)if($e=x[F],x.hasOwnProperty(F)&&$e!=null)switch(F){case"value":break;case"multiple":St=$e;default:j.hasOwnProperty(F)||ba(d,h,F,null,j,$e)}for(T in j)if(F=j[T],$e=x[T],j.hasOwnProperty(T)&&(F!=null||$e!=null))switch(T){case"value":xt=F;break;case"defaultValue":ye=F;break;case"multiple":te=F;default:F!==$e&&ba(d,h,T,F,j,$e)}h=ye,x=te,j=St,xt!=null?ns(d,!!x,xt,!1):!!j!=!!x&&(h!=null?ns(d,!!x,h,!0):ns(d,!!x,x?[]:"",!1));return;case"textarea":St=xt=null;for(ye in x)if(T=x[ye],x.hasOwnProperty(ye)&&T!=null&&!j.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:ba(d,h,ye,null,j,T)}for(te in j)if(T=j[te],F=x[te],j.hasOwnProperty(te)&&(T!=null||F!=null))switch(te){case"value":xt=T;break;case"defaultValue":St=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==F&&ba(d,h,te,T,j,F)}wd(d,xt,St);return;case"option":for(var yr in x)if(xt=x[yr],x.hasOwnProperty(yr)&&xt!=null&&!j.hasOwnProperty(yr))switch(yr){case"selected":d.selected=!1;break;default:ba(d,h,yr,null,j,xt)}for($e in j)if(xt=j[$e],St=x[$e],j.hasOwnProperty($e)&&xt!==St&&(xt!=null||St!=null))switch($e){case"selected":d.selected=xt&&typeof xt!="function"&&typeof xt!="symbol";break;default:ba(d,h,$e,xt,j,St)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zr in x)xt=x[zr],x.hasOwnProperty(zr)&&xt!=null&&!j.hasOwnProperty(zr)&&ba(d,h,zr,null,j,xt);for(pt in j)if(xt=j[pt],St=x[pt],j.hasOwnProperty(pt)&&xt!==St&&(xt!=null||St!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,h));break;default:ba(d,h,pt,xt,j,St)}return;default:if(xn(h)){for(var va in x)xt=x[va],x.hasOwnProperty(va)&&xt!==void 0&&!j.hasOwnProperty(va)&&Ek(d,h,va,void 0,j,xt);for(Et in j)xt=j[Et],St=x[Et],!j.hasOwnProperty(Et)||xt===St||xt===void 0&&St===void 0||Ek(d,h,Et,xt,j,St);return}}for(var nt in x)xt=x[nt],x.hasOwnProperty(nt)&&xt!=null&&!j.hasOwnProperty(nt)&&ba(d,h,nt,null,j,xt);for(Ft in j)xt=j[Ft],St=x[Ft],!j.hasOwnProperty(Ft)||xt===St||xt==null&&St==null||ba(d,h,Ft,xt,j,St)}function z8(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sie(){if(typeof performance.getEntriesByType=="function"){for(var d=0,h=0,x=performance.getEntriesByType("resource"),j=0;j<x.length;j++){var T=x[j],F=T.transferSize,te=T.initiatorType,ye=T.duration;if(F&&ye&&z8(te)){for(te=0,ye=T.responseEnd,j+=1;j<x.length;j++){var $e=x[j],pt=$e.startTime;if(pt>ye)break;var Et=$e.transferSize,Ft=$e.initiatorType;Et&&z8(Ft)&&($e=$e.responseEnd,te+=Et*($e<ye?1:(ye-pt)/($e-pt)))}if(--j,h+=8*(F+te)/(T.duration/1e3),d++,10<d)break}}if(0<d)return h/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var Dk=null,Pk=null;function Y1(d){return d.nodeType===9?d:d.ownerDocument}function q8(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U8(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function Lk(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Rk=null;function oie(){var d=window.event;return d&&d.type==="popstate"?d===Rk?!1:(Rk=d,!0):(Rk=null,!1)}var W8=typeof setTimeout=="function"?setTimeout:void 0,lie=typeof clearTimeout=="function"?clearTimeout:void 0,V8=typeof Promise=="function"?Promise:void 0,cie=typeof queueMicrotask=="function"?queueMicrotask:typeof V8<"u"?function(d){return V8.resolve(null).then(d).catch(uie)}:W8;function uie(d){setTimeout(function(){throw d})}function yh(d){return d==="head"}function G8(d,h){var x=h,j=0;do{var T=x.nextSibling;if(d.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"||x==="/&"){if(j===0){d.removeChild(T),R0(h);return}j--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")j++;else if(x==="html")my(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,my(x);for(var F=x.firstChild;F;){var te=F.nextSibling,ye=F.nodeName;F[de]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&F.rel.toLowerCase()==="stylesheet"||x.removeChild(F),F=te}}else x==="body"&&my(d.ownerDocument.body);x=T}while(x);R0(h)}function Y8(d,h){var x=d;d=0;do{var j=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),j&&j.nodeType===8)if(x=j.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=j}while(x)}function Ik(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Ik(x),Ye(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function die(d,h,x,j){for(;d.nodeType===1;){var T=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!j&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(j){if(!d[de])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(F=d.getAttribute("rel"),F==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(F!==T.rel||d.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||d.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||d.getAttribute("title")!==(T.title==null?null:T.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(F=d.getAttribute("src"),(F!==(T.src==null?null:T.src)||d.getAttribute("type")!==(T.type==null?null:T.type)||d.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&F&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var F=T.name==null?null:""+T.name;if(T.type==="hidden"&&d.getAttribute("name")===F)return d}else return d;if(d=Jl(d.nextSibling),d===null)break}return null}function fie(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=Jl(d.nextSibling),d===null))return null;return d}function K8(d,h){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!h||(d=Jl(d.nextSibling),d===null))return null;return d}function Fk(d){return d.data==="$?"||d.data==="$~"}function $k(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function hie(d,h){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=h;else if(d.data!=="$?"||x.readyState!=="loading")h();else{var j=function(){h(),x.removeEventListener("DOMContentLoaded",j)};x.addEventListener("DOMContentLoaded",j),d._reactRetry=j}}function Jl(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return d}var Bk=null;function X8(d){d=d.nextSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(h===0)return Jl(d.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}d=d.nextSibling}return null}function J8(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return d;h--}else x!=="/$"&&x!=="/&"||h++}d=d.previousSibling}return null}function Q8(d,h,x){switch(h=Y1(x),d){case"html":if(d=h.documentElement,!d)throw Error(n(452));return d;case"head":if(d=h.head,!d)throw Error(n(453));return d;case"body":if(d=h.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function my(d){for(var h=d.attributes;h.length;)d.removeAttributeNode(h[0]);Ye(d)}var Ql=new Map,Z8=new Set;function K1(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Yd=$.d;$.d={f:mie,r:pie,D:gie,C:xie,L:yie,m:bie,X:wie,S:vie,M:jie};function mie(){var d=Yd.f(),h=B1();return d||h}function pie(d){var h=or(d);h!==null&&h.tag===5&&h.type==="form"?gL(h):Yd.r(d)}var D0=typeof document>"u"?null:document;function e7(d,h,x){var j=D0;if(j&&typeof h=="string"&&h){var T=Wi(h);T='link[rel="'+d+'"][href="'+T+'"]',typeof x=="string"&&(T+='[crossorigin="'+x+'"]'),Z8.has(T)||(Z8.add(T),d={rel:d,crossOrigin:x,href:h},j.querySelector(T)===null&&(h=j.createElement("link"),qs(h,"link",d),tr(h),j.head.appendChild(h)))}}function gie(d){Yd.D(d),e7("dns-prefetch",d,null)}function xie(d,h){Yd.C(d,h),e7("preconnect",d,h)}function yie(d,h,x){Yd.L(d,h,x);var j=D0;if(j&&d&&h){var T='link[rel="preload"][as="'+Wi(h)+'"]';h==="image"&&x&&x.imageSrcSet?(T+='[imagesrcset="'+Wi(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(T+='[imagesizes="'+Wi(x.imageSizes)+'"]')):T+='[href="'+Wi(d)+'"]';var F=T;switch(h){case"style":F=P0(d);break;case"script":F=L0(d)}Ql.has(F)||(d=m({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),Ql.set(F,d),j.querySelector(T)!==null||h==="style"&&j.querySelector(py(F))||h==="script"&&j.querySelector(gy(F))||(h=j.createElement("link"),qs(h,"link",d),tr(h),j.head.appendChild(h)))}}function bie(d,h){Yd.m(d,h);var x=D0;if(x&&d){var j=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+Wi(j)+'"][href="'+Wi(d)+'"]',F=T;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=L0(d)}if(!Ql.has(F)&&(d=m({rel:"modulepreload",href:d},h),Ql.set(F,d),x.querySelector(T)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(gy(F)))return}j=x.createElement("link"),qs(j,"link",d),tr(j),x.head.appendChild(j)}}}function vie(d,h,x){Yd.S(d,h,x);var j=D0;if(j&&d){var T=Ot(j).hoistableStyles,F=P0(d);h=h||"default";var te=T.get(F);if(!te){var ye={loading:0,preload:null};if(te=j.querySelector(py(F)))ye.loading=5;else{d=m({rel:"stylesheet",href:d,"data-precedence":h},x),(x=Ql.get(F))&&Hk(d,x);var $e=te=j.createElement("link");tr($e),qs($e,"link",d),$e._p=new Promise(function(pt,Et){$e.onload=pt,$e.onerror=Et}),$e.addEventListener("load",function(){ye.loading|=1}),$e.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,X1(te,h,j)}te={type:"stylesheet",instance:te,count:1,state:ye},T.set(F,te)}}}function wie(d,h){Yd.X(d,h);var x=D0;if(x&&d){var j=Ot(x).hoistableScripts,T=L0(d),F=j.get(T);F||(F=x.querySelector(gy(T)),F||(d=m({src:d,async:!0},h),(h=Ql.get(T))&&zk(d,h),F=x.createElement("script"),tr(F),qs(F,"link",d),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},j.set(T,F))}}function jie(d,h){Yd.M(d,h);var x=D0;if(x&&d){var j=Ot(x).hoistableScripts,T=L0(d),F=j.get(T);F||(F=x.querySelector(gy(T)),F||(d=m({src:d,async:!0,type:"module"},h),(h=Ql.get(T))&&zk(d,h),F=x.createElement("script"),tr(F),qs(F,"link",d),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},j.set(T,F))}}function t7(d,h,x,j){var T=(T=ue.current)?K1(T):null;if(!T)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=P0(x.href),x=Ot(T).hoistableStyles,j=x.get(h),j||(j={type:"style",instance:null,count:0,state:null},x.set(h,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=P0(x.href);var F=Ot(T).hoistableStyles,te=F.get(d);if(te||(T=T.ownerDocument||T,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(d,te),(F=T.querySelector(py(d)))&&!F._p&&(te.instance=F,te.state.loading=5),Ql.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Ql.set(d,x),F||Nie(T,d,x,te.state))),h&&j===null)throw Error(n(528,""));return te}if(h&&j!==null)throw Error(n(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=L0(x),x=Ot(T).hoistableScripts,j=x.get(h),j||(j={type:"script",instance:null,count:0,state:null},x.set(h,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function P0(d){return'href="'+Wi(d)+'"'}function py(d){return'link[rel="stylesheet"]['+d+"]"}function r7(d){return m({},d,{"data-precedence":d.precedence,precedence:null})}function Nie(d,h,x,j){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?j.loading=1:(h=d.createElement("link"),j.preload=h,h.addEventListener("load",function(){return j.loading|=1}),h.addEventListener("error",function(){return j.loading|=2}),qs(h,"link",x),tr(h),d.head.appendChild(h))}function L0(d){return'[src="'+Wi(d)+'"]'}function gy(d){return"script[async]"+d}function n7(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var j=d.querySelector('style[data-href~="'+Wi(x.href)+'"]');if(j)return h.instance=j,tr(j),j;var T=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(d.ownerDocument||d).createElement("style"),tr(j),qs(j,"style",T),X1(j,x.precedence,d),h.instance=j;case"stylesheet":T=P0(x.href);var F=d.querySelector(py(T));if(F)return h.state.loading|=4,h.instance=F,tr(F),F;j=r7(x),(T=Ql.get(T))&&Hk(j,T),F=(d.ownerDocument||d).createElement("link"),tr(F);var te=F;return te._p=new Promise(function(ye,$e){te.onload=ye,te.onerror=$e}),qs(F,"link",j),h.state.loading|=4,X1(F,x.precedence,d),h.instance=F;case"script":return F=L0(x.src),(T=d.querySelector(gy(F)))?(h.instance=T,tr(T),T):(j=x,(T=Ql.get(F))&&(j=m({},x),zk(j,T)),d=d.ownerDocument||d,T=d.createElement("script"),tr(T),qs(T,"link",j),d.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(j=h.instance,h.state.loading|=4,X1(j,x.precedence,d));return h.instance}function X1(d,h,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=j.length?j[j.length-1]:null,F=T,te=0;te<j.length;te++){var ye=j[te];if(ye.dataset.precedence===h)F=ye;else if(F!==T)break}F?F.parentNode.insertBefore(d,F.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function Hk(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function zk(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var J1=null;function a7(d,h,x){if(J1===null){var j=new Map,T=J1=new Map;T.set(x,j)}else T=J1,j=T.get(x),j||(j=new Map,T.set(x,j));if(j.has(d))return j;for(j.set(d,null),x=x.getElementsByTagName(d),T=0;T<x.length;T++){var F=x[T];if(!(F[de]||F[nr]||d==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var te=F.getAttribute(h)||"";te=d+te;var ye=j.get(te);ye?ye.push(F):j.set(te,[F])}}return j}function i7(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function Sie(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function s7(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function kie(d,h,x,j){if(x.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var T=P0(j.href),F=h.querySelector(py(T));if(F){h=F._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(d.count++,d=Q1.bind(d),h.then(d,d)),x.state.loading|=4,x.instance=F,tr(F);return}F=h.ownerDocument||h,j=r7(j),(T=Ql.get(T))&&Hk(j,T),F=F.createElement("link"),tr(F);var te=F;te._p=new Promise(function(ye,$e){te.onload=ye,te.onerror=$e}),qs(F,"link",j),x.instance=F}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=Q1.bind(d),h.addEventListener("load",x),h.addEventListener("error",x))}}var qk=0;function Cie(d,h){return d.stylesheets&&d.count===0&&ew(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var j=setTimeout(function(){if(d.stylesheets&&ew(d,d.stylesheets),d.unsuspend){var F=d.unsuspend;d.unsuspend=null,F()}},6e4+h);0<d.imgBytes&&qk===0&&(qk=62500*sie());var T=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&ew(d,d.stylesheets),d.unsuspend)){var F=d.unsuspend;d.unsuspend=null,F()}},(d.imgBytes>qk?50:800)+h);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(j),clearTimeout(T)}}:null}function Q1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ew(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Z1=null;function ew(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Z1=new Map,h.forEach(_ie,d),Z1=null,Q1.call(d))}function _ie(d,h){if(!(h.state.loading&4)){var x=Z1.get(d);if(x)var j=x.get(null);else{x=new Map,Z1.set(d,x);for(var T=d.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<T.length;F++){var te=T[F];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(x.set(te.dataset.precedence,te),j=te)}j&&x.set(null,j)}T=h.instance,te=T.getAttribute("data-precedence"),F=x.get(te)||j,F===j&&x.set(null,T),x.set(te,T),this.count++,j=Q1.bind(this),T.addEventListener("load",j),T.addEventListener("error",j),F?F.parentNode.insertBefore(T,F.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(T,d.firstChild)),h.state.loading|=4}}var xy={$$typeof:S,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Aie(d,h,x,j,T,F,te,ye,$e){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=j,this.onUncaughtError=T,this.onCaughtError=F,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$e,this.incompleteTransitions=new Map}function o7(d,h,x,j,T,F,te,ye,$e,pt,Et,Ft){return d=new Aie(d,h,x,te,$e,pt,Et,Ft,ye),h=1,F===!0&&(h|=24),F=ks(3,null,null,h),d.current=F,F.stateNode=d,h=sh(),h.refCount++,d.pooledCache=h,h.refCount++,F.memoizedState={element:j,isDehydrated:x,cache:h},er(F),d}function l7(d){return d?(d=ds,d):ds}function c7(d,h,x,j,T,F){T=l7(T),j.context===null?j.context=T:j.pendingContext=T,j=Br(h),j.payload={element:x},F=F===void 0?null:F,F!==null&&(j.callback=F),x=ln(d,j,h),x!==null&&(il(x,d,h),Xn(x,d,h))}function u7(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function Uk(d,h){u7(d,h),(d=d.alternate)&&u7(d,h)}function d7(d){if(d.tag===13||d.tag===31){var h=$c(d,67108864);h!==null&&il(h,d,67108864),Uk(d,67108864)}}function f7(d){if(d.tag===13||d.tag===31){var h=vl();h=jt(h);var x=$c(d,h);x!==null&&il(x,d,h),Uk(d,h)}}var tw=!0;function Tie(d,h,x,j){var T=W.T;W.T=null;var F=$.p;try{$.p=2,Wk(d,h,x,j)}finally{$.p=F,W.T=T}}function Mie(d,h,x,j){var T=W.T;W.T=null;var F=$.p;try{$.p=8,Wk(d,h,x,j)}finally{$.p=F,W.T=T}}function Wk(d,h,x,j){if(tw){var T=Vk(j);if(T===null)Ok(d,h,j,rw,x),m7(d,j);else if(Eie(T,d,h,x,j))j.stopPropagation();else if(m7(d,j),h&4&&-1<Oie.indexOf(d)){for(;T!==null;){var F=or(T);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var te=ve(F.pendingLanes);if(te!==0){var ye=F;for(ye.pendingLanes|=2,ye.entangledLanes|=2;te;){var $e=1<<31-be(te);ye.entanglements[1]|=$e,te&=~$e}Ru(F),(Qn&6)===0&&(F1=Se()+500,dy(0))}}break;case 31:case 13:ye=$c(F,2),ye!==null&&il(ye,F,2),B1(),Uk(F,2)}if(F=Vk(j),F===null&&Ok(d,h,j,rw,x),F===T)break;T=F}T!==null&&j.stopPropagation()}else Ok(d,h,j,null,x)}}function Vk(d){return d=jd(d),Gk(d)}var rw=null;function Gk(d){if(rw=null,d=wt(d),d!==null){var h=s(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=o(h),d!==null)return d;d=null}else if(x===31){if(d=l(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return rw=d,null}function h7(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case at:return 2;case Nt:return 8;case kt:case Ee:return 32;case vt:return 268435456;default:return 32}default:return 32}}var Yk=!1,bh=null,vh=null,wh=null,yy=new Map,by=new Map,jh=[],Oie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m7(d,h){switch(d){case"focusin":case"focusout":bh=null;break;case"dragenter":case"dragleave":vh=null;break;case"mouseover":case"mouseout":wh=null;break;case"pointerover":case"pointerout":yy.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":by.delete(h.pointerId)}}function vy(d,h,x,j,T,F){return d===null||d.nativeEvent!==F?(d={blockedOn:h,domEventName:x,eventSystemFlags:j,nativeEvent:F,targetContainers:[T]},h!==null&&(h=or(h),h!==null&&d7(h)),d):(d.eventSystemFlags|=j,h=d.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),d)}function Eie(d,h,x,j,T){switch(h){case"focusin":return bh=vy(bh,d,h,x,j,T),!0;case"dragenter":return vh=vy(vh,d,h,x,j,T),!0;case"mouseover":return wh=vy(wh,d,h,x,j,T),!0;case"pointerover":var F=T.pointerId;return yy.set(F,vy(yy.get(F)||null,d,h,x,j,T)),!0;case"gotpointercapture":return F=T.pointerId,by.set(F,vy(by.get(F)||null,d,h,x,j,T)),!0}return!1}function p7(d){var h=wt(d.target);if(h!==null){var x=s(h);if(x!==null){if(h=x.tag,h===13){if(h=o(x),h!==null){d.blockedOn=h,fn(d.priority,function(){f7(x)});return}}else if(h===31){if(h=l(x),h!==null){d.blockedOn=h,fn(d.priority,function(){f7(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function nw(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=Vk(d.nativeEvent);if(x===null){x=d.nativeEvent;var j=new x.constructor(x.type,x);Rl=j,x.target.dispatchEvent(j),Rl=null}else return h=or(x),h!==null&&d7(h),d.blockedOn=x,!1;h.shift()}return!0}function g7(d,h,x){nw(d)&&x.delete(h)}function Die(){Yk=!1,bh!==null&&nw(bh)&&(bh=null),vh!==null&&nw(vh)&&(vh=null),wh!==null&&nw(wh)&&(wh=null),yy.forEach(g7),by.forEach(g7)}function aw(d,h){d.blockedOn===h&&(d.blockedOn=null,Yk||(Yk=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Die)))}var iw=null;function x7(d){iw!==d&&(iw=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iw===d&&(iw=null);for(var h=0;h<d.length;h+=3){var x=d[h],j=d[h+1],T=d[h+2];if(typeof j!="function"){if(Gk(j||x)===null)continue;break}var F=or(x);F!==null&&(d.splice(h,3),h-=3,VS(F,{pending:!0,data:T,method:x.method,action:j},j,T))}}))}function R0(d){function h($e){return aw($e,d)}bh!==null&&aw(bh,d),vh!==null&&aw(vh,d),wh!==null&&aw(wh,d),yy.forEach(h),by.forEach(h);for(var x=0;x<jh.length;x++){var j=jh[x];j.blockedOn===d&&(j.blockedOn=null)}for(;0<jh.length&&(x=jh[0],x.blockedOn===null);)p7(x),x.blockedOn===null&&jh.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var T=x[j],F=x[j+1],te=T[Ur]||null;if(typeof F=="function")te||x7(x);else if(te){var ye=null;if(F&&F.hasAttribute("formAction")){if(T=F,te=F[Ur]||null)ye=te.formAction;else if(Gk(T)!==null)continue}else ye=te.action;typeof ye=="function"?x[j+1]=ye:(x.splice(j,3),j-=3),x7(x)}}}function y7(){function d(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(te){return T=te})},focusReset:"manual",scroll:"manual"})}function h(){T!==null&&(T(),T=null),j||setTimeout(x,20)}function x(){if(!j&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var j=!1,T=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){j=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),T!==null&&(T(),T=null)}}}function Kk(d){this._internalRoot=d}sw.prototype.render=Kk.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(n(409));var x=h.current,j=vl();c7(x,j,d,h,null,null)},sw.prototype.unmount=Kk.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;c7(d.current,2,null,d,null,null),B1(),h[Kr]=null}};function sw(d){this._internalRoot=d}sw.prototype.unstable_scheduleHydration=function(d){if(d){var h=gr();d={blockedOn:null,target:d,priority:h};for(var x=0;x<jh.length&&h!==0&&h<jh[x].priority;x++);jh.splice(x,0,d),x===0&&p7(d)}};var b7=e.version;if(b7!=="19.2.0")throw Error(n(527,b7,"19.2.0"));$.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(h),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var Pie={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ow=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ow.isDisabled&&ow.supportsFiber)try{Le=ow.inject(Pie),et=ow}catch{}}return jy.createRoot=function(d,h){if(!a(d))throw Error(n(299));var x=!1,j="",T=CL,F=_L,te=AL;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(te=h.onRecoverableError)),h=o7(d,1,!1,null,null,x,j,null,T,F,te,y7),d[Kr]=h.current,Mk(d),new Kk(h)},jy.hydrateRoot=function(d,h,x){if(!a(d))throw Error(n(299));var j=!1,T="",F=CL,te=_L,ye=AL,$e=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(te=x.onCaughtError),x.onRecoverableError!==void 0&&(ye=x.onRecoverableError),x.formState!==void 0&&($e=x.formState)),h=o7(d,1,!0,h,x??null,j,T,$e,F,te,ye,y7),h.context=l7(null),x=h.current,j=vl(),j=jt(j),T=Br(j),T.callback=null,ln(x,T,j),x=j,h.current.lanes=x,ze(h,x),Ru(h),d[Kr]=h.current,Mk(d),new sw(h)},jy.version="19.2.0",jy}var T7;function Gie(){if(T7)return Qk.exports;T7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qk.exports=Vie(),Qk.exports}var Yie=Gie();const Kie=Kn(Yie);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M7="popstate";function Xie(t={}){function e(n,a){let{pathname:s,search:o,hash:l}=n.location;return eM("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Lb(a)}return Qie(e,r,null,t)}function ci(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function od(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jie(){return Math.random().toString(36).substring(2,10)}function O7(t,e){return{usr:t.state,key:t.key,idx:e}}function eM(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vx(e):e,state:r,key:e&&e.key||n||Jie()}}function Lb({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vx(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Qie(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",c=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let b=f(),N=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:N})}function g(b,N){l="PUSH";let k=eM(w.location,b,N);u=f()+1;let S=O7(k,u),A=w.createHref(k);try{o.pushState(S,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(A)}s&&c&&c({action:l,location:w.location,delta:1})}function p(b,N){l="REPLACE";let k=eM(w.location,b,N);u=f();let S=O7(k,u),A=w.createHref(k);o.replaceState(S,"",A),s&&c&&c({action:l,location:w.location,delta:0})}function v(b){return Zie(b)}let w={get action(){return l},get location(){return t(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(M7,m),c=b,()=>{a.removeEventListener(M7,m),c=null}},createHref(b){return e(a,b)},createURL:v,encodeLocation(b){let N=v(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:p,go(b){return o.go(b)}};return w}function Zie(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ci(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Lb(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function PG(t,e,r="/"){return ese(t,e,r,!1)}function ese(t,e,r,n){let a=typeof e=="string"?vx(e):e,s=Cf(a.pathname||"/",r);if(s==null)return null;let o=LG(t);tse(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fse(s);l=use(o[c],u,n)}return l}function LG(t,e=[],r=[],n="",a=!1){let s=(o,l,c=a,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;ci(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=pf([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(ci(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),LG(o.children,e,g,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:lse(m,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let u of RG(o.path))s(o,l,!0,u)}),e}function RG(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=RG(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function tse(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:cse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var rse=/^:[\w-]+$/,nse=3,ase=2,ise=1,sse=10,ose=-2,E7=t=>t==="*";function lse(t,e){let r=t.split("/"),n=r.length;return r.some(E7)&&(n+=ose),e&&(n+=ase),r.filter(a=>!E7(a)).reduce((a,s)=>a+(rse.test(s)?nse:s===""?ise:sse),n)}function cse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function use(t,e,r=!1){let{routesMeta:n}=t,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=K2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=K2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:pf([s,m.pathname]),pathnameBase:gse(pf([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=pf([s,m.pathnameBase]))}return o}function K2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=dse(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:m},g)=>{if(f==="*"){let v=l[g]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[g];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function dse(t,e=!1,r=!0){od(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function fse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return od(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hse(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?vx(t):t;return{pathname:r?r.startsWith("/")?r:mse(r,e):e,search:xse(n),hash:yse(a)}}function mse(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rC(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pse(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function IG(t){let e=pse(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function FG(t,e,r,n=!1){let a;typeof t=="string"?a=vx(t):(a={...t},ci(!a.pathname||!a.pathname.includes("?"),rC("?","pathname","search",a)),ci(!a.pathname||!a.pathname.includes("#"),rC("#","pathname","hash",a)),ci(!a.search||!a.search.includes("#"),rC("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=hse(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var pf=t=>t.join("/").replace(/\/\/+/g,"/"),gse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $G=["POST","PUT","PATCH","DELETE"];new Set($G);var vse=["GET",...$G];new Set(vse);var wx=y.createContext(null);wx.displayName="DataRouter";var bN=y.createContext(null);bN.displayName="DataRouterState";y.createContext(!1);var BG=y.createContext({isTransitioning:!1});BG.displayName="ViewTransition";var wse=y.createContext(new Map);wse.displayName="Fetchers";var jse=y.createContext(null);jse.displayName="Await";var fd=y.createContext(null);fd.displayName="Navigation";var qv=y.createContext(null);qv.displayName="Location";var hu=y.createContext({outlet:null,matches:[],isDataRoute:!1});hu.displayName="Route";var tE=y.createContext(null);tE.displayName="RouteError";function Nse(t,{relative:e}={}){ci(Uv(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(fd),{hash:a,pathname:s,search:o}=Wv(t,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:pf([r,s])),n.createHref({pathname:l,search:o,hash:a})}function Uv(){return y.useContext(qv)!=null}function Ui(){return ci(Uv(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(qv).location}var HG="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zG(t){y.useContext(fd).static||y.useLayoutEffect(t)}function ar(){let{isDataRoute:t}=y.useContext(hu);return t?Fse():Sse()}function Sse(){ci(Uv(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(wx),{basename:e,navigator:r}=y.useContext(fd),{matches:n}=y.useContext(hu),{pathname:a}=Ui(),s=JSON.stringify(IG(n)),o=y.useRef(!1);return zG(()=>{o.current=!0}),y.useCallback((c,u={})=>{if(od(o.current,HG),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=FG(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:pf([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,a,t])}var kse=y.createContext(null);function Cse(t){let e=y.useContext(hu).outlet;return y.useMemo(()=>e&&y.createElement(kse.Provider,{value:t},e),[e,t])}function Ls(){let{matches:t}=y.useContext(hu),e=t[t.length-1];return e?e.params:{}}function Wv(t,{relative:e}={}){let{matches:r}=y.useContext(hu),{pathname:n}=Ui(),a=JSON.stringify(IG(r));return y.useMemo(()=>FG(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function _se(t,e){return qG(t,e)}function qG(t,e,r,n,a){var k;ci(Uv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(fd),{matches:o}=y.useContext(hu),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";UG(u,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Ui(),p;if(e){let S=typeof e=="string"?vx(e):e;ci(f==="/"||((k=S.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=g;let v=p.pathname||"/",w=v;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=PG(t,{pathname:w});od(m||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),od(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Ese(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:pf([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:pf([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,a);return e&&N?y.createElement(qv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function Ase(){let t=Ise(),e=bse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:a},r):null,o)}var Tse=y.createElement(Ase,null),Mse=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(hu.Provider,{value:this.props.routeContext},y.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ose({routeContext:t,match:e,children:r}){let n=y.useContext(wx);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(hu.Provider,{value:t},r)}function Ese(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ci(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:m,errors:g}=r,p=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,m)=>{let g,p=!1,v=null,w=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Tse,l&&(c<0&&m===0?(UG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===m&&(p=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,m+1)),N=()=>{let k;return g?k=v:p?k=w:f.route.Component?k=y.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=u,y.createElement(Ose,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(Mse,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):N()},null)}function rE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dse(t){let e=y.useContext(wx);return ci(e,rE(t)),e}function Pse(t){let e=y.useContext(bN);return ci(e,rE(t)),e}function Lse(t){let e=y.useContext(hu);return ci(e,rE(t)),e}function nE(t){let e=Lse(t),r=e.matches[e.matches.length-1];return ci(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Rse(){return nE("useRouteId")}function Ise(){var n;let t=y.useContext(tE),e=Pse("useRouteError"),r=nE("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Fse(){let{router:t}=Dse("useNavigate"),e=nE("useNavigate"),r=y.useRef(!1);return zG(()=>{r.current=!0}),y.useCallback(async(a,s={})=>{od(r.current,HG),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var D7={};function UG(t,e,r){!e&&!D7[t]&&(D7[t]=!0,od(!1,r))}y.memo($se);function $se({routes:t,future:e,state:r,unstable_onError:n}){return qG(t,void 0,r,n,e)}function Bse(t){return Cse(t.context)}function Yt(t){ci(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hse({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){ci(!Uv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=vx(r));let{pathname:c="/",search:u="",hash:f="",state:m=null,key:g="default"}=r,p=y.useMemo(()=>{let v=Cf(c,o);return v==null?null:{location:{pathname:v,search:u,hash:f,state:m,key:g},navigationType:n}},[o,c,u,f,m,g,n]);return od(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(fd.Provider,{value:l},y.createElement(qv.Provider,{children:e,value:p}))}function zse({children:t,location:e}){return _se(tM(t),e)}function tM(t,e=[]){let r=[];return y.Children.forEach(t,(n,a)=>{if(!y.isValidElement(n))return;let s=[...e,a];if(n.type===y.Fragment){r.push.apply(r,tM(n.props.children,s));return}ci(n.type===Yt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ci(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tM(n.props.children,s)),r.push(o)}),r}var x2="get",y2="application/x-www-form-urlencoded";function vN(t){return t!=null&&typeof t.tagName=="string"}function qse(t){return vN(t)&&t.tagName.toLowerCase()==="button"}function Use(t){return vN(t)&&t.tagName.toLowerCase()==="form"}function Wse(t){return vN(t)&&t.tagName.toLowerCase()==="input"}function Vse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gse(t,e){return t.button===0&&(!e||e==="_self")&&!Vse(t)}var cw=null;function Yse(){if(cw===null)try{new FormData(document.createElement("form"),0),cw=!1}catch{cw=!0}return cw}var Kse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nC(t){return t!=null&&!Kse.has(t)?(od(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${y2}"`),null):t}function Xse(t,e){let r,n,a,s,o;if(Use(t)){let l=t.getAttribute("action");n=l?Cf(l,e):null,r=t.getAttribute("method")||x2,a=nC(t.getAttribute("enctype"))||y2,s=new FormData(t)}else if(qse(t)||Wse(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Cf(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||x2,a=nC(t.getAttribute("formenctype"))||nC(l.getAttribute("enctype"))||y2,s=new FormData(l,t),!Yse()){let{name:u,type:f,value:m}=t;if(f==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,m)}}else{if(vN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=x2,n=null,a=y2,o=t}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jse(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Cf(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Qse(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zse(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eoe(t,e,r){let n=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await Qse(s,r);return o.links?o.links():[]}return[]}));return aoe(n.flat(1).filter(Zse).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function P7(t,e,r,n,a,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{var m;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function toe(t,e,{includeHydrateFallback:r}={}){return roe(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function roe(t){return[...new Set(t)]}function noe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function aoe(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let s=JSON.stringify(noe(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function WG(){let t=y.useContext(wx);return aE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ioe(){let t=y.useContext(bN);return aE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iE=y.createContext(void 0);iE.displayName="FrameworkContext";function VG(){let t=y.useContext(iE);return aE(t,"You must render this element inside a <HydratedRouter> element"),t}function soe(t,e){let r=y.useContext(iE),[n,a]=y.useState(!1),[s,o]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=e,g=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(k=>{o(k.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),y.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let p=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Ny(l,p),onBlur:Ny(c,v),onMouseEnter:Ny(u,p),onMouseLeave:Ny(f,v),onTouchStart:Ny(m,p)}]:[!1,g,{}]}function Ny(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function ooe({page:t,...e}){let{router:r}=WG(),n=y.useMemo(()=>PG(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?y.createElement(coe,{page:t,matches:n,...e}):null}function loe(t){let{manifest:e,routeModules:r}=VG(),[n,a]=y.useState([]);return y.useEffect(()=>{let s=!1;return eoe(t,e,r).then(o=>{s||a(o)}),()=>{s=!0}},[t,e,r]),n}function coe({page:t,matches:e,...r}){let n=Ui(),{manifest:a,routeModules:s}=VG(),{basename:o}=WG(),{loaderData:l,matches:c}=ioe(),u=y.useMemo(()=>P7(t,e,c,a,n,"data"),[t,e,c,a,n]),f=y.useMemo(()=>P7(t,e,c,a,n,"assets"),[t,e,c,a,n]),m=y.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(e.forEach(N=>{var S;let k=a.routes[N.route.id];!k||!k.hasLoader||(!u.some(A=>A.route.id===N.route.id)&&N.route.id in l&&((S=s[N.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?w=!0:v.add(N.route.id))}),v.size===0)return[];let b=Jse(t,o,"data");return w&&v.size>0&&b.searchParams.set("_routes",e.filter(N=>v.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[o,l,n,a,u,e,t,s]),g=y.useMemo(()=>toe(f,a),[f,a]),p=loe(f);return y.createElement(y.Fragment,null,m.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:w})=>y.createElement("link",{key:v,nonce:r.nonce,...w})))}function uoe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var GG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GG&&(window.__reactRouterVersion="7.9.3")}catch{}function doe({basename:t,children:e,window:r}){let n=y.useRef();n.current==null&&(n.current=Xie({window:r,v5Compat:!0}));let a=n.current,[s,o]=y.useState({action:a.action,location:a.location}),l=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>a.listen(l),[a,l]),y.createElement(Hse,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var YG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zh=y.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:m,...g},p){let{basename:v}=y.useContext(fd),w=typeof u=="string"&&YG.test(u),b,N=!1;if(typeof u=="string"&&w&&(b=u,GG))try{let R=new URL(window.location.href),B=u.startsWith("//")?new URL(R.protocol+u):new URL(u),D=Cf(B.pathname,v);B.origin===R.origin&&D!=null?u=D+B.search+B.hash:N=!0}catch{od(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Nse(u,{relative:a}),[S,A,_]=soe(n,g),O=poe(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function I(R){e&&e(R),R.defaultPrevented||O(R)}let L=y.createElement("a",{...g,..._,href:b||k,onClick:N||s?e:I,ref:uoe(p,A),target:c,"data-discover":!w&&r==="render"?"true":void 0});return S&&!w?y.createElement(y.Fragment,null,L,y.createElement(ooe,{page:k})):L});Zh.displayName="Link";var foe=y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:c,...u},f){let m=Wv(o,{relative:u.relative}),g=Ui(),p=y.useContext(bN),{navigator:v,basename:w}=y.useContext(fd),b=p!=null&&voe(m)&&l===!0,N=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,k=g.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&w&&(S=Cf(S,w)||S);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=k===N||!a&&k.startsWith(N)&&k.charAt(A)==="/",O=S!=null&&(S===N||!a&&S.startsWith(N)&&S.charAt(N.length)==="/"),I={isActive:_,isPending:O,isTransitioning:b},L=_?e:void 0,R;typeof n=="function"?R=n(I):R=[n,_?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(I):s;return y.createElement(Zh,{...u,"aria-current":L,className:R,ref:f,style:B,to:o,viewTransition:l},typeof c=="function"?c(I):c)});foe.displayName="NavLink";var hoe=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:s,method:o=x2,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:m,...g},p)=>{let v=yoe(),w=boe(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&YG.test(l),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,_=(A==null?void 0:A.getAttribute("formmethod"))||o;v(A||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:a,state:s,relative:u,preventScrollReset:f,viewTransition:m})};return y.createElement("form",{ref:p,method:b,action:w,onSubmit:n?c:k,...g,"data-discover":!N&&t==="render"?"true":void 0})});hoe.displayName="Form";function moe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KG(t){let e=y.useContext(wx);return ci(e,moe(t)),e}function poe(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=ar(),c=Ui(),u=Wv(t,{relative:s});return y.useCallback(f=>{if(Gse(f,e)){f.preventDefault();let m=r!==void 0?r:Lb(c)===Lb(u);l(t,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,n,e,t,a,s,o])}var goe=0,xoe=()=>`__${String(++goe)}__`;function yoe(){let{router:t}=KG("useSubmit"),{basename:e}=y.useContext(fd),r=Rse();return y.useCallback(async(n,a={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=Xse(n,e);if(a.navigate===!1){let f=a.fetcherKey||xoe();await t.fetch(f,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function boe(t,{relative:e}={}){let{basename:r}=y.useContext(fd),n=y.useContext(hu);ci(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Wv(t||".",{relative:e})},o=Ui();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:pf([r,s.pathname])),Lb(s)}function voe(t,{relative:e}={}){let r=y.useContext(BG);ci(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=KG("useViewTransitionState"),a=Wv(t,{relative:e});if(!r.isTransitioning)return!1;let s=Cf(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Cf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return K2(a.pathname,o)!=null||K2(a.pathname,s)!=null}var sE=DG();const XG=Kn(sE),L7=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function woe(t,e){var a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,O,I,L,R,B,D,M,H,G;const r=((a=t.stoptime)==null?void 0:a.name)||((o=(s=e==null?void 0:e.stoptimes)==null?void 0:s.data.find(Y=>String(Y.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(u=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(Y=>String(Y.id)===String(t.itemtrouble_id)))!=null&&u.name,(f=t.jenisaktifitas)!=null&&f.name||(g=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(Y=>String(Y.id)===String(t.jenisaktifitas_id)))!=null&&g.name,(p=t.kegiatan)!=null&&p.name||(w=(v=e==null?void 0:e.kegiatans)==null?void 0:v.data.find(Y=>String(Y.id)===String(t.kegiatan_id)))!=null&&w.name;const n=((b=t.unitsp)==null?void 0:b.name)||((k=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(Y=>String(Y.id)===String(t.unitsp_id)))==null?void 0:k.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((A=t.group)==null?void 0:A.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((O=t.mesin)==null?void 0:O.name)||"-",stopJam:((I=t.startstop)==null?void 0:I.stop_time_hh)??null,stopMenit:((L=t.startstop)==null?void 0:L.stop_time_mm)??null,startJam:((R=t.startstop)==null?void 0:R.start_time_hh)??null,startMenit:((B=t.startstop)==null?void 0:B.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((D=t.itemtrouble)==null?void 0:D.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((M=t.jenisaktifitas)==null?void 0:M.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((H=t.jenisaktifitas)==null?void 0:H.name)||"-",kegiatan:((G=t.kegiatan)==null?void 0:G.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const Sy=Fie(),JG=y.createContext(null),Rm=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,roles:t.roles||[],customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null,position:t.position}},joe=({children:t})=>{const[e,r]=y.useState(null),[n,a]=y.useState(null),[s,o]=y.useState(!1),[l,c]=y.useState(null),[u,f]=y.useState(!0),[m,g]=y.useState(!0),[p,v]=y.useState(null),w=ar(),b=y.useRef(!1),N=y.useCallback(async()=>{o(!0);try{const se=n||localStorage.getItem("token");se&&await fetch(`${Sy.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),a(null),r(null),c(null),o(!1),w("/login")}},[n,w]),k=y.useCallback(async()=>{if(b.current)return new Promise(re=>{const Ie=setInterval(()=>{b.current||(clearInterval(Ie),re(localStorage.getItem("token")))},100)});b.current=!0;const se=localStorage.getItem("refreshToken");if(!se)return await N(),null;try{const re=await fetch(`${Sy.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({refresh_token:se})});if(!re.ok){if(re.status===401)return await N(),null;throw new Error("Token refresh failed")}const Ie=await re.json(),Qt=Ie.access_token,cn=Ie.refresh_token||se;return localStorage.setItem("token",Qt),localStorage.setItem("refreshToken",cn),a(Qt),r(xn=>xn?{...xn,access_token:Qt,refresh_token:cn}:null),Qt}catch{return await N(),null}finally{b.current=!1}},[N]),S=y.useCallback(async(se,re={})=>{let Ie=n||localStorage.getItem("token");const Qt=async cn=>{var Ti;if(!cn)throw new Error("No token found");const xn=new Headers(re.headers||{});((Ti=xn.get("Content-Type"))!=null&&Ti.includes("application/json")||!xn.has("Content-Type"))&&xn.set("Content-Type","application/json"),xn.set("Authorization",`Bearer ${cn}`);const as=await fetch(`${Sy.envVariables.VITE_REACT_API_URL}${se}`,{...re,headers:xn});if(as.status===204||as.statusText==="No Content")return null;if(!as.ok){let Mi;try{Mi=await as.json()}catch{Mi=await as.text()}throw new Error(Mi.message||`HTTP error! Status: ${as.status}`)}let is;try{return is=await as.text(),is?JSON.parse(is):null}catch{return is}};try{return await Qt(Ie)}catch(cn){if(cn instanceof Error&&cn.message.includes("status: 401")){const xn=await k();if(xn)return await Qt(xn)}throw cn}},[n,k]),A=y.useCallback(async()=>{const se=await S("/user/profile?includes_trashed=true"),re=Rm(se);return r(re),localStorage.setItem("user",JSON.stringify(re)),re},[S]),_=y.useCallback(async()=>{const se=localStorage.getItem("token"),re=localStorage.getItem("user"),Ie=localStorage.getItem("refreshToken");if(se&&Ie){a(se);try{if(re){const cn=JSON.parse(re);r(Rm(cn))}const Qt=await A();r(Qt)}catch{await N()}}},[A,N]),O=y.useCallback(async()=>{const[se,re,Ie,Qt,cn,xn,as,is,Ti]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:se,shifts:Ie,groups:re,stoptimes:Ti,units:Qt,itemtroubles:xn,jenisaktivitas:as,kegiatans:is,unitspareparts:cn}},[S]),I=y.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(se){throw se}},[S]),L=y.useCallback(async se=>{const re=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                    xmlns:tem="http://tempuri.org/" 
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
              <AddAsset xmlns="http://tempuri.org/">
                  <asset>
                      <Name>${se.name}</Name>
                      <Category>${se.category}</Category>
                      <Location>${se.location}</Location>
                      <PurchaseDate>${se.purchase_date}</PurchaseDate>
                      <Description>${se.description}</Description>
                      <Type>${se.type||""}</Type>
                      <Make>${se.make||""}</Make>
                      <Model>${se.model||""}</Model>
                      <Status>${se.status||""}</Status>
                      <LastMaintenance ${se.last_maintenance?"":'xsi:nil="true"'}>${se.last_maintenance||""}</LastMaintenance>
                      <NextMaintenance>${se.next_maintenance||""}</NextMaintenance>
                      <WorkOrders>${se.work_orders||""}</WorkOrders>
                      <Health>${se.health||""}</Health>
                  </asset>
              </AddAsset>
          </soap:Body>
      </soap:Envelope>`;try{const Ie=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:re});if(console.log("ERP SOAP Add Asset Response:",Ie),typeof Ie=="string"&&Ie.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Ie}catch(Ie){throw console.error("Error adding asset:",Ie),Ie}},[S]),R=y.useCallback(async se=>{const re=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${se.id}</assetId>
            <assetName>${se.name}</assetName>
            <assetCategory>${se.category}</assetCategory>
            <assetLocation>${se.location}</assetLocation>
            <purchaseDate>${se.purchase_date}</purchaseDate>
            <description>${se.description}</description>
            <assetType>${se.type||""}</assetType>
            <assetMake>${se.make||""}</assetMake>
            <assetModel>${se.model||""}</assetModel>
            <assetStatus>${se.status||""}</assetStatus>
            <lastMaintenance>${se.last_maintenance||""}</lastMaintenance>
            <nextMaintenance>${se.next_maintenance||""}</nextMaintenance>
            <workOrders>${se.work_orders||""}</workOrders>
            <health>${se.health||""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{const Ie=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:re});if(console.log("ERP SOAP Edit Asset Response:",Ie),typeof Ie=="string"&&Ie.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Ie}catch(Ie){throw console.error("Error editing asset:",Ie),Ie}},[S]),B=y.useCallback(async se=>{const re=`<?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
             <assetId>${se}</assetId>
            </DeleteAsset>
          </soap:Body>
        </soap:Envelope>`;try{const Ie=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:re});if(console.log("ERP SOAP Delete Asset Response:",Ie),typeof Ie=="string"&&Ie.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Ie}catch(Ie){throw console.error("Error deleting asset:",Ie),Ie}},[S]),D=y.useCallback(async()=>{try{const se=await S("/history?includes_trashed=true");return se&&se.history&&Array.isArray(se.history)?se.history:Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected audit trail response format:",se),[])}catch(se){return console.error("Failed to fetch audit trail:",se),[]}},[S]),M=y.useCallback(se=>{var Ie;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(se))return se.some(Qt=>{var xn;const cn=/^\d+$/.test(Qt)?L7(Qt):Qt;return cn?(xn=e.permissions)==null?void 0:xn.includes(cn):!1});const re=/^\d+$/.test(se)?L7(se):se;return re&&((Ie=e.permissions)==null?void 0:Ie.includes(re))||!1},[e]);y.useEffect(()=>{(async()=>{g(!0);try{if(await _(),n){const re=await O();c(re)}}catch{await N()}finally{g(!1),f(!1)}})()},[n,_,O,N]);const H=async(se,re,Ie,Qt,cn,xn,as,is)=>{const Ti=await fetch(`${Sy.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:se,nik:Ie,email:re,password:Qt,department:cn,position:xn,role_id:as||null,customPermissions:is?is.map(Number):[]})}),Mi=await Ti.json();if(!Ti.ok)throw new Error(Mi.message||"User creation failed");return Mi},G=y.useCallback(async(se,re)=>{g(!0);try{const Ie=await fetch(`${Sy.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:se,password:re})});if(!Ie.ok){const xn=await Ie.json();throw new Error(xn.message||"Login failed")}const Qt=await Ie.json(),cn=Rm({...Qt.user,access_token:Qt.access_token,refresh_token:Qt.refresh_token,permissions:Qt.user.permissions||Qt.user.allPermissions||[]});localStorage.setItem("token",Qt.access_token),localStorage.setItem("refreshToken",Qt.refresh_token),localStorage.setItem("user",JSON.stringify(cn)),a(Qt.access_token),r(cn);try{const xn=await O();c(xn)}catch{}w("/dashboard")}catch(Ie){throw Ie}finally{g(!1)}},[w,O]),Y=y.useCallback(async se=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),W=y.useCallback(async(se="")=>{try{const re=await S(se?`/mhs?search=${encodeURIComponent(se)}?includes_trashed=true`:"/mhs?includes_trashed=true"),Ie=await O(),Qt=re.data||re;if(!Array.isArray(Qt))throw new Error("Invalid response format");return Qt.map(cn=>woe(cn,Ie))}catch{return[]}},[S,O]),$=y.useCallback(async se=>await S(`/mhs/${se}?includes_trashed=true`),[S]),q=y.useCallback(async(se,re)=>await S(`/mhs/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),[S]),Z=y.useCallback(async se=>await S(`/mhs/${se}?includes_trashed=true`,{method:"DELETE"}),[S]),ce=y.useCallback(async se=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),X=y.useCallback(async()=>{try{const se=await S("/ayam?includes_trashed=true");return console.log("Raw work orders response:",se),se&&se.success===!0&&Array.isArray(se.data)?se.data:Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected work orders response format:",se),[])}catch(se){return console.error("Failed to fetch work orders:",se),[]}},[S]),U=y.useCallback(async se=>{const re=await S(`/ayam/${se}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",re),re},[S]),J=y.useCallback(async se=>{if(!se.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${se.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})).data},[S]),ee=y.useCallback(async se=>await S(`/ayam/${se}?includes_trashed=true`,{method:"DELETE"}),[S]),ne=y.useCallback(async se=>(await X()).filter(Ie=>(Ie.requester_id===parseInt(se)||Ie.assigned_to_id===parseInt(se))&&(Ie.handling_status==="New"||Ie.handling_status==="Progress")),[X]),ue=y.useCallback(async(se,re)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:se,new_password:re,new_password_confirmation:re})})},[S]),Ae=y.useCallback(async()=>{try{const se=await S("/users?includes_trashed=true");let re;return se&&se.success!==void 0?re=se.data||[]:Array.isArray(se)?re=se:re=[],re.map(Ie=>Rm(Ie))}catch(se){return console.error("Failed to fetch users:",se),[]}},[S]);y.useCallback(async se=>{const re=await S(`/users/${se}?includes_trashed=true`);return Rm(re)},[S]);const ke=y.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(re=>Rm(re)),[S]),je=y.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(re=>({id:String(re.id),name:re.name,description:re.description||`${re.name} role`,permissions:re.permissions.map(String),isSuperadmin:re.name==="superadmin"})),[S]),Ce=y.useCallback(async se=>{const re=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:se.name,description:se.description,permissions:se.permissions.map(Number)})});return{id:String(re.id),name:re.name,description:re.description,permissions:re.permissions.map(String)}},[S]),Be=y.useCallback(async(se,re)=>{var Qt;const Ie=await S(`/roles/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:re.name,description:re.description,permissions:(Qt=re.permissions)==null?void 0:Qt.map(Number)})});return{id:String(Ie.id),name:Ie.name,description:Ie.description,permissions:Ie.permissions.map(String)}},[S]),fe=y.useCallback(async se=>{await S(`/roles/${se}?includes_trashed=true`,{method:"DELETE"})},[S]),ge=y.useCallback(async(se,re)=>{const Ie=await S(`/users/${se}?includes_trashed=true`),Qt=await S(`/users/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Ie.name,nik:Ie.nik,email:Ie.email,department:Ie.department,roleId:re.roleId||null,customPermissions:re.customPermissions||[]})});return Rm(Qt)},[S]),ae=y.useCallback(async se=>{await S(`/users/${se}?includes_trashed=true`,{method:"DELETE"})},[S]),ie=y.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(se){return console.error("Failed to fetch service groups:",se),[]}},[S]),ht=y.useCallback(async se=>{try{return(await S(`/service-groups/${se}?includes_trashed=true`)).data}catch(re){throw console.error(`Failed to fetch service group with id ${se}:`,re),re}},[S]),ut=y.useCallback(async se=>{try{const re=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!re)throw new Error("No response from server");if(re.success===!1)throw new Error(re.message||"Failed to create service group");const Ie=re.data||re;return{id:Ie.id,group_name:Ie.group_name,group_description:Ie.group_description}}catch(re){throw console.error("Error adding service group:",re),new Error(`Failed to add service group: ${re instanceof Error?re.message:String(re)}`)}},[S]),Pe=y.useCallback(async(se,re)=>{try{const Ie=await S(`/service-groups/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,group_name:Qt.group_name,group_description:Qt.group_description}}catch(Ie){throw console.error(`Failed to update service group with id ${se}:`,Ie),new Error(`Failed to update service group: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Ke=y.useCallback(async se=>{try{await S(`/service-groups/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete service group with id ${se}:`,re),new Error(`Failed to delete service group: ${re instanceof Error?re.message:String(re)}`)}},[S]),yt=y.useCallback(async se=>{try{return(await S("/service-catalogues?includes_trashed=true")).data.map(Ie=>({id:Ie.id,service_name:Ie.service_name,service_description:Ie.service_description,service_type:Ie.service_type,priority:Ie.priority,service_owner:Ie.service_owner,sla:Ie.sla,impact:Ie.impact,created_at:Ie.created_at,updated_at:Ie.updated_at}))}catch(re){return console.error("Failed to fetch services:",re),[]}},[S]),Qe=y.useCallback(async se=>{try{const re=await S(`/service-catalogues?owner=${se}&includes_trashed=true`);return re.data||re}catch(re){return console.error("Failed to fetch services by owner:",re),[]}},[S]),Tt=y.useCallback(async se=>{try{const re=await S("/service-catalogues?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),Ie=re.data||re;return{id:Ie.id,service_name:Ie.service_name,service_description:Ie.service_description,service_type:Ie.service_type,priority:Ie.priority,service_owner:Ie.service_owner,sla:Ie.sla,impact:Ie.impact,created_at:Ie.created_at,updated_at:Ie.updated_at}}catch(re){throw console.error("Error adding service catalogue:",re),new Error(`Failed to add service catalogue: ${re instanceof Error?re.message:String(re)}`)}},[S]),_t=y.useCallback(async(se,re)=>{try{const Ie=await S(`/service-catalogues/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,service_name:Qt.service_name,service_description:Qt.service_description,service_type:Qt.service_type,priority:Qt.priority,service_owner:Qt.service_owner,sla:Qt.sla,impact:Qt.impact,created_at:Qt.created_at,updated_at:Qt.updated_at}}catch(Ie){throw console.error(`Failed to update service catalogue with id ${se}:`,Ie),new Error(`Failed to update service catalogue: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Se=y.useCallback(async se=>{try{await S(`/service-catalogues/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete service catalogue with id ${se}:`,re),new Error(`Failed to delete service catalogue: ${re instanceof Error?re.message:String(re)}`)}},[S]),gt=y.useCallback(se=>{v(se)},[]),at=y.useCallback(async()=>{try{const se=await S("/department?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch departments:",se),[]}},[S]),Nt=y.useCallback(async se=>(await S(`/department/${se}?includes_trashed=true`)).data,[S]),kt=y.useCallback(async se=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),Ee=y.useCallback(async(se,re)=>{try{const Ie=await S(`/department/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,name:Qt.name,head_id:Qt.head_id}}catch(Ie){throw console.error(`Failed to update service group with id ${se}:`,Ie),new Error(`Failed to update service group: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),vt=y.useCallback(async se=>{try{await S(`/department/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete service catalogue with id ${se}:`,re),new Error(`Failed to delete service catalogue: ${re instanceof Error?re.message:String(re)}`)}},[S]),bt=y.useCallback(async()=>{try{const se=await S("/stoptime?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected stop times response format:",se),[])}catch(se){return console.error("Failed to fetch stop times:",se),[]}},[S]),Je=y.useCallback(async se=>{try{const re=await S(`/stoptime/${se}`);if(console.log("StopTimes by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch stop time with id ${se}:`,re),new Error(`Failed to fetch stop time: ${re instanceof Error?re.message:String(re)}`)}},[S]),Le=y.useCallback(async se=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding stop time:",re),new Error(`Failed to add stop time: ${re instanceof Error?re.message:String(re)}`)}},[S]),et=y.useCallback(async(se,re)=>{try{const Ie=await S(`/stoptime/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update stop time response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update stop time with id ${se}:`,Ie),new Error(`Failed to update stop time: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),lt=y.useCallback(async se=>{try{await S(`/stoptime/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete stop time with id ${se}:`,re),new Error(`Failed to delete stop time: ${re instanceof Error?re.message:String(re)}`)}},[S]),be=y.useCallback(async()=>{try{const se=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected jenis aktifitas response format:",se),[])}catch(se){return console.error("Failed to fetch jenis aktifitas:",se),[]}},[S]),me=y.useCallback(async se=>{try{const re=await S(`/jenisaktifitas/${se}`);if(console.log("Jenis Aktifitas by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch jenis aktifitas with id ${se}:`,re),new Error(`Failed to fetch jenis aktifitas: ${re instanceof Error?re.message:String(re)}`)}},[S]),qe=y.useCallback(async se=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding jenis aktifitas:",re),new Error(`Failed to add jenis aktifitas: ${re instanceof Error?re.message:String(re)}`)}},[S]),ft=y.useCallback(async(se,re)=>{try{const Ie=await S(`/jenisaktifitas/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update jenis aktifitas response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update jenis aktifitas with id ${se}:`,Ie),new Error(`Failed to update jenis aktifitas: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Ge=y.useCallback(async se=>{try{await S(`/jenisaktifitas/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete jenis aktifitas with id ${se}:`,re),new Error(`Failed to delete jenis aktifitas: ${re instanceof Error?re.message:String(re)}`)}},[S]),we=y.useCallback(async()=>{try{const se=await S("/kegiatan?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected activity response format:",se),[])}catch(se){return console.error("Failed to fetch activity:",se),[]}},[S]),K=y.useCallback(async se=>{try{const re=await S(`/kegiatan/${se}?includes_trashed=true`);if(console.log("Activity by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch activity with id ${se}:`,re),new Error(`Failed to fetch activity: ${re instanceof Error?re.message:String(re)}`)}},[S]),ve=y.useCallback(async se=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding activity:",re),new Error(`Failed to add activity: ${re instanceof Error?re.message:String(re)}`)}},[S]),Re=y.useCallback(async(se,re)=>{try{const Ie=await S(`/kegiatan/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update activity response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update activity with id ${se}:`,Ie),new Error(`Failed to update activity: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Ue=y.useCallback(async se=>{try{await S(`/kegiatan/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete activity with id ${se}:`,re),new Error(`Failed to delete activity: ${re instanceof Error?re.message:String(re)}`)}},[S]),st=y.useCallback(async()=>{try{const se=await S("/itemtrouble?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected trouble item response format:",se),[])}catch(se){return console.error("Failed to fetch trouble item:",se),[]}},[S]),De=y.useCallback(async se=>{try{const re=await S(`/itemtrouble/${se}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch trouble item with id ${se}:`,re),new Error(`Failed to fetch trouble item: ${re instanceof Error?re.message:String(re)}`)}},[S]),Fe=y.useCallback(async se=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding trouble item:",re),new Error(`Failed to add trouble item: ${re instanceof Error?re.message:String(re)}`)}},[S]),ze=y.useCallback(async(se,re)=>{try{const Ie=await S(`/itemtrouble/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update trouble item response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update trouble item with id ${se}:`,Ie),new Error(`Failed to update trouble item: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Rt=y.useCallback(async se=>{try{await S(`/itemtrouble/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete trouble item with id ${se}:`,re),new Error(`Failed to delete trouble item: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ht=y.useCallback(async()=>{try{const se=await S("/unit?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected Work Unit response format:",se),[])}catch(se){return console.error("Failed to fetch Work Unit:",se),[]}},[S]),Ut=y.useCallback(async se=>{try{const re=await S(`/unit/${se}?includes_trashed=true`);if(console.log("Work Unit by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch work unit with id ${se}:`,re),new Error(`Failed to fetch work unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),it=y.useCallback(async se=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding work unit:",re),new Error(`Failed to add work unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),jt=y.useCallback(async(se,re)=>{try{const Ie=await S(`/unit/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update work unit response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update work unit with id ${se}:`,Ie),new Error(`Failed to update work unit: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Wt=y.useCallback(async se=>{try{await S(`/unit/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work unit with id ${se}:`,re),new Error(`Failed to delete work unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),gr=y.useCallback(async()=>{try{const se=await S("/group?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected Work Group response format:",se),[])}catch(se){return console.error("Failed to fetch Work Group:",se),[]}},[S]),fn=y.useCallback(async se=>{try{const re=await S(`/group/${se}?includes_trashed=true`);if(console.log("Work Group by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch work group with id ${se}:`,re),new Error(`Failed to fetch work group: ${re instanceof Error?re.message:String(re)}`)}},[S]),gn=y.useCallback(async se=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding work group:",re),new Error(`Failed to add work group: ${re instanceof Error?re.message:String(re)}`)}},[S]),nr=y.useCallback(async(se,re)=>{try{const Ie=await S(`/group/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update work group response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update work group with id ${se}:`,Ie),new Error(`Failed to update work group: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Ur=y.useCallback(async se=>{try{await S(`/group/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work group with id ${se}:`,re),new Error(`Failed to delete work group: ${re instanceof Error?re.message:String(re)}`)}},[S]),Kr=y.useCallback(async()=>{try{const se=await S("/shift?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected Work Shift response format:",se),[])}catch(se){return console.error("Failed to fetch Work Shift:",se),[]}},[S]),Zt=y.useCallback(async se=>{try{const re=await S(`/shift/${se}?includes_trashed=true`);if(console.log("Work Shift by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch work shift with id ${se}:`,re),new Error(`Failed to fetch work shift: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ze=y.useCallback(async se=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding work shift:",re),new Error(`Failed to add work shift: ${re instanceof Error?re.message:String(re)}`)}},[S]),tt=y.useCallback(async(se,re)=>{try{const Ie=await S(`/shift/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update work shift response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update work shift with id ${se}:`,Ie),new Error(`Failed to update work shift: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Mt=y.useCallback(async se=>{try{await S(`/shift/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work shift with id ${se}:`,re),new Error(`Failed to delete work shift: ${re instanceof Error?re.message:String(re)}`)}},[S]),de=y.useCallback(async se=>{try{const re=await S(`/unit/${se}?includes_trashed=true`);if(console.log("Unit by ID response:",re),re&&typeof re=="object")return re.success!==void 0&&re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch unit with id ${se}:`,re),new Error(`Failed to fetch unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ye=y.useCallback(async se=>{try{const re=await S(`/mesin/${se}?includes_trashed=true`);if(console.log("Mesin by ID response:",re),re&&typeof re=="object")return re.success!==void 0&&re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch mesin with id ${se}:`,re),new Error(`Failed to fetch mesin: ${re instanceof Error?re.message:String(re)}`)}},[S]),wt=y.useCallback(async()=>{try{const se=await S("/unit?includes_trashed=true");let re=[];return Array.isArray(se)?re=se:se&&Array.isArray(se.data)&&(re=se.data),await Promise.all(re.map(async Qt=>{try{const cn=await S(`/unit/${Qt.id}?includes_trashed=true`);let xn=cn;return cn&&cn.success!==void 0&&cn.data&&(xn=cn.data),{id:xn.id,name:xn.name,created_at:xn.created_at,updated_at:xn.updated_at,deleted_at:xn.deleted_at,mesin:xn.mesin||[]}}catch(cn){return console.error(`Failed to get detail for unit ${Qt.id}:`,cn),{id:Qt.id,name:Qt.name,created_at:Qt.created_at,updated_at:Qt.updated_at,deleted_at:Qt.deleted_at,mesin:[]}}}))}catch(se){return console.error("Failed to fetch units with machines:",se),[]}},[S]),or=y.useCallback(async()=>{try{const se=await S("/interval?includes_trashed=true");let re=[];Array.isArray(se)?re=se:se&&Array.isArray(se.data)&&(re=se.data);const Ie=await wt(),Qt=await S("/mesin?includes_trashed=true");let cn=[];return Array.isArray(Qt)?cn=Qt:Qt&&Array.isArray(Qt.data)&&(cn=Qt.data),{unit:Ie,mesin:cn,unitsWithMachines:Ie,intervals:re}}catch(se){return console.error("Error fetching master monitoring data:",se),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,wt]),Jr=y.useCallback(async()=>{try{const se=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(se))return se;if(se&&se.success!==void 0){if(se.success&&Array.isArray(se.data))return se.data;if(se.success&&Array.isArray(se.result))return se.result}return se&&Array.isArray(se.data)?se.data:se&&Array.isArray(se.result)?se.result:(console.warn("Unexpected monitoring schedule response format:",se),[])}catch(se){throw console.error("Error fetching monitoring schedule:",se),new Error(`Failed to fetch monitoring schedule: ${se instanceof Error?se.message:String(se)}`)}},[S]),Ot=y.useCallback(async se=>{try{const re=await S(`/monitoring-schedules/${se}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",re),re&&re.success!==void 0){if(re.success&&re.data)return re.data;if(!re.success)throw new Error(re.message||"Failed to fetch monitoring schedule")}if(re&&re.id_monitoring_schedule)return re;if(Array.isArray(re)&&re.length>0)return re[0];throw new Error("Invalid response format")}catch(re){if(console.error(`Failed to fetch monitoring schedule with id ${se}:`,re),re instanceof Error){if(re.message.includes("404"))throw new Error(`Monitoring schedule with id ${se} not found`);if(re.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${re instanceof Error?re.message:String(re)}`)}},[S]),tr=y.useCallback(async se=>{try{const re=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!re)throw new Error("No response from server");if(re.success===!1)throw new Error(re.message||"Failed to create monitoring schedule");const Ie=re.data||re.result||re;if(!Ie)throw new Error("Invalid response format");return Ie}catch(re){if(console.error("Error adding monitoring schedule:",re),re instanceof Error){if(re.message.includes("401"))throw new Error("Unauthorized - Please login again");if(re.message.includes("404"))throw new Error("Endpoint not found");if(re.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${re instanceof Error?re.message:String(re)}`)}},[S]),Mr=y.useCallback(async se=>{try{const re=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});return Array.isArray(re)?re:re&&Array.isArray(re.data)?re.data:(console.warn("Unexpected response format from monitoring-activities POST:",re),[])}catch(re){throw console.error("Error adding monitoring activities:",re),new Error(`Failed to add monitoring activities: ${re instanceof Error?re.message:String(re)}`)}},[S]),jr=y.useCallback(async se=>{try{const re=se.map(Qt=>({id_monitoring_activity:Qt.id,...Qt.data})),Ie=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});return Array.isArray(Ie)?Ie:Ie&&Array.isArray(Ie.data)?Ie.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",Ie),[])}catch(re){throw console.error("Error updating monitoring activities:",re),new Error(`Failed to update monitoring activities: ${re instanceof Error?re.message:String(re)}`)}},[S]),cr=y.useCallback(async se=>{try{const re=await S(`/mesin/${se}?includes_trashed=true`);return console.log("Mesin detail response:",re),re&&re.success!==void 0?re.data:re}catch(re){throw console.error(`Failed to fetch mesin detail with id ${se}:`,re),new Error(`Failed to fetch mesin detail: ${re instanceof Error?re.message:String(re)}`)}},[S]),Fr=y.useCallback(async()=>{try{const se=await S("/vendor?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch vendor:",se),[]}},[S]),ha=y.useCallback(async se=>(await S(`/vendor/${se}?includes_trashed=true`)).data,[S]),Hr=y.useCallback(async se=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),Fs=y.useCallback(async(se,re)=>{try{const Ie=await S(`/vendor/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,name:Qt.name,address:Qt.address,contact_person:Qt.contact_person,email:Qt.email,telp:Qt.telp,HP:Qt.HP}}catch(Ie){throw console.error(`Failed to update vendor with id ${se}:`,Ie),new Error(`Failed to update vendor: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),ma=y.useCallback(async se=>{try{await S(`/vendor/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete vendor with id ${se}:`,re),new Error(`Failed to delete vendor: ${re instanceof Error?re.message:String(re)}`)}},[S]),wn=y.useCallback(async()=>{try{const se=await S("/approval-templates?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch approval templates:",se),[]}},[S]),An=y.useCallback(async se=>await S(`/approval-templates/${se}?includes_trashed=true`),[S]),en=y.useCallback(async se=>{const re=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});return re.data||re},[S]),In=y.useCallback(async(se,re)=>{const Ie=await S(`/approval-templates/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});return Ie.data||Ie},[S]),Cc=y.useCallback(async se=>{await S(`/approval-templates/${se}?includes_trashed=true`,{method:"DELETE"})},[S]),Js=y.useCallback(async(se,re)=>{const Ie=await S(`/approval-templates/${se}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});return Ie.data||Ie},[S]),yo=y.useCallback(async(se,re,Ie)=>{const Qt=await S(`/template-approvers/${re}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie)});return Qt.data||Qt},[S]),Qs=y.useCallback(async(se,re)=>{await S(`/template-approvers/${re}?includes_trashed=true`,{method:"DELETE"})},[S]),qo=y.useCallback(async se=>(await S(`/approval-templates/${se}?includes_trashed=true`)).approvers||[],[S]),Ra=y.useCallback(async se=>{const re=await S(`/approval-templates/${se}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return re.data||re},[S]),Wi=y.useCallback(async(se,re)=>{const Ie=await S(`/schedules/${se}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:re})});return Ie&&Ie.message?{success:!0,message:Ie.message,data:Ie.data||Ie}:Ie},[S]),bd=y.useCallback(async()=>{try{const se=await S("/workarea?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch workarea:",se),[]}},[S]),Uf=y.useCallback(async se=>(await S(`/workarea/${se}?includes_trashed=true`)).data,[S]),vd=y.useCallback(async se=>await S("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),ns=y.useCallback(async(se,re)=>{try{const Ie=await S(`/workarea/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,work_area:Qt.work_area}}catch(Ie){throw console.error(`Failed to update work area with id ${se}:`,Ie),new Error(`Failed to update work area: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),wd=y.useCallback(async se=>{try{await S(`/workarea/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work area with id ${se}:`,re),new Error(`Failed to delete work area: ${re instanceof Error?re.message:String(re)}`)}},[S]);return i.jsx(JG.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:G,register:H,logout:N,isLoggingOut:s,fetchWithAuth:S,getAllMasterData:O,submitMachineHistory:Y,getMachineHistories:W,getMachineHistoryById:$,updateMachineHistory:q,deleteMachineHistory:Z,masterData:l,isMasterDataLoading:u,addWorkOrderIT:ce,getWorkOrdersIT:X,updateWorkOrderIT:J,deleteWorkOrder:ee,getWorkOrderById:U,departments:[],services:[],serviceGroups:[],getServices:yt,getServicesByOwner:Qe,addServiceCatalogue:Tt,updateServiceCatalogue:_t,deleteServiceCatalogue:Se,getServiceGroups:ie,getServiceGroup:ht,addServiceGroup:ut,updateServiceGroup:Pe,deleteServiceGroup:Ke,changePassword:ue,fetchUser:A,fetchedUsers:ke,getUsers:Ae,hasPermission:M,setEditingUser:gt,getRoles:je,createRole:Ce,updateRole:Be,deleteRole:fe,updateUserPermissions:ge,deleteUser:ae,isAuthLoading:m,getAssetsData:I,addAsset:L,editAsset:R,deleteAsset:B,getWorkOrdersForUser:ne,getAuditTrail:D,getDepartment:at,getDepartmentById:Nt,addDepartment:kt,updateDepartment:Ee,deleteDepartment:vt,getMonitoringSchedules:Jr,addMonitoringSchedule:tr,addMonitoringActivities:Mr,updateMonitoringActivity:jr,getStopTimes:bt,getStopTimesById:Je,addStopTimes:Le,updateStopTimes:et,deleteStopTimes:lt,getActivityTypes:be,getActivityTypesById:me,addActivityTypes:qe,updateActivityTypes:ft,deleteActivityTypes:Ge,getActivity:we,getActivityById:K,addActivity:ve,updateActivity:Re,deleteActivity:Ue,getTroubleItem:st,getTroubleItemById:De,addTroubleItem:Fe,updateTroubleItem:ze,deleteTroubleItem:Rt,getWorkUnit:Ht,getWorkUnitById:Ut,addWorkUnit:it,updateWorkUnit:jt,deleteWorkUnit:Wt,getWorkGroup:gr,getWorkGroupById:fn,addWorkGroup:gn,updateWorkGroup:nr,deleteWorkGroup:Ur,getWorkShift:Kr,getWorkShiftById:Zt,addWorkShift:Ze,updateWorkShift:tt,deleteWorkShift:Mt,getUnit:de,getMesin:Ye,getUnitsWithMachines:wt,getAllMasterMonitoring:or,getMesinDetail:cr,getMonitoringScheduleById:Ot,getVendor:Fr,getVendorById:ha,addVendor:Hr,updateVendor:Fs,deleteVendor:ma,getApprovalTemplates:wn,getApprovalTemplateById:An,createApprovalTemplate:en,updateApprovalTemplate:In,deleteApprovalTemplate:Cc,addApproverToTemplate:Js,updateApprover:yo,deleteApprover:Qs,getTemplateApprovers:qo,setApprovalTemplateActive:Ra,approveSchedule:Wi,getWorkArea:bd,getWorkAreaById:Uf,addWorkArea:vd,updateWorkArea:ns,deleteWorkArea:wd},children:t})},ir=()=>{const t=y.useContext(JG);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Mg="/assets/logo-wida-OsCBOu3a.png";var QG={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R7=he.createContext&&he.createContext(QG),Noe=["attr","size","title"];function Soe(t,e){if(t==null)return{};var r=koe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function koe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X2.apply(this,arguments)}function I7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(r),!0).forEach(function(n){Coe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Coe(t,e,r){return e=_oe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _oe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZG(t){return t&&t.map((e,r)=>he.createElement(e.tag,J2({key:r},e.attr),ZG(e.child)))}function Sc(t){return e=>he.createElement(Toe,X2({attr:J2({},t.attr)},e),ZG(t.child))}function Toe(t){var e=r=>{var{attr:n,size:a,title:s}=t,o=Soe(t,Noe),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),he.createElement("svg",X2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:J2(J2({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&he.createElement("title",null,s),t.children)};return R7!==void 0?he.createElement(R7.Consumer,null,r=>e(r)):e(QG)}function uw(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function oE(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function Moe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Ooe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Eoe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function b2(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function v2(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Doe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function F7(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function $7(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Poe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Loe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const dw=["Hello","Bonjour","Holla"," ","Salam","","Hallo","Namaste",""],Roe=()=>{const[t,e]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState(""),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(dw[0]),[v,w]=y.useState(!1),{login:b}=ir(),N=ar();y.useEffect(()=>{m(!0);let O;const I=setInterval(()=>{w(!0),O=setTimeout(()=>{p(L=>{const B=(dw.indexOf(L)+1)%dw.length;return dw[B]}),w(!1)},500)},3e3);return()=>{clearInterval(I),clearTimeout(O)}},[]);const k={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=v?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},A=async O=>{O.preventDefault(),l(""),u(!0);try{await b(t,r),N("/dashboard")}catch(I){l(I instanceof Error?I.message:"Login failed")}finally{u(!1)}},_=()=>{s(!a)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:i.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${f?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[i.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${f?"opacity-100":"opacity-0"}`,children:[i.jsx("img",{src:Mg,alt:"Logo Wida",className:"h-10 w-auto"}),i.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),i.jsx("h1",{style:{...k,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${f?"opacity-100":"opacity-0"}`,children:g}),i.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),i.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${f?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&i.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{children:o})]}),i.jsxs("form",{onSubmit:A,className:"space-y-6","aria-label":"Login Form",children:[i.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:O=>e(O.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),i.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",type:a?"text":"password",placeholder:"",value:r,onChange:O=>n(O.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),i.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":a?"Hide password":"Show password",children:a?i.jsx(b2,{size:18}):i.jsx(v2,{size:18})})]}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),i.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),i.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${f?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),i.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${f?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",i.jsx(Zh,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),i.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:i.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${f?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),i.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${f?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),i.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),i.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[i.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),i.jsx("div",{className:"text-purple-300 animate-pulse-light",children:i.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),i.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[i.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:i.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),i.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),i.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:i.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},lE=y.createContext({});function cE(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const uE=typeof window<"u",eY=uE?y.useLayoutEffect:y.useEffect,wN=y.createContext(null);function dE(t,e){t.indexOf(e)===-1&&t.push(e)}function fE(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const _f=(t,e,r)=>r>e?e:r<t?t:r;let hE=()=>{};const Af={},tY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rY(t){return typeof t=="object"&&t!==null}const nY=t=>/^0[^.\s]+$/u.test(t);function mE(t){let e;return()=>(e===void 0&&(e=t()),e)}const pc=t=>t,Ioe=(t,e)=>r=>e(t(r)),Vv=(...t)=>t.reduce(Ioe),Rb=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class pE{constructor(){this.subscriptions=[]}add(e){return dE(this.subscriptions,e),()=>fE(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zu=t=>t*1e3,fc=t=>t/1e3;function aY(t,e){return e?t*(1e3/e):0}const iY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Foe=1e-7,$oe=12;function Boe(t,e,r,n,a){let s,o,l=0;do o=e+(r-e)/2,s=iY(o,n,a)-t,s>0?r=o:e=o;while(Math.abs(s)>Foe&&++l<$oe);return o}function Gv(t,e,r,n){if(t===e&&r===n)return pc;const a=s=>Boe(s,0,1,t,r);return s=>s===0||s===1?s:iY(a(s),e,n)}const sY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oY=t=>e=>1-t(1-e),lY=Gv(.33,1.53,.69,.99),gE=oY(lY),cY=sY(gE),uY=t=>(t*=2)<1?.5*gE(t):.5*(2-Math.pow(2,-10*(t-1))),xE=t=>1-Math.sin(Math.acos(t)),dY=oY(xE),fY=sY(xE),Hoe=Gv(.42,0,1,1),zoe=Gv(0,0,.58,1),hY=Gv(.42,0,.58,1),qoe=t=>Array.isArray(t)&&typeof t[0]!="number",mY=t=>Array.isArray(t)&&typeof t[0]=="number",Uoe={linear:pc,easeIn:Hoe,easeInOut:hY,easeOut:zoe,circIn:xE,circInOut:fY,circOut:dY,backIn:gE,backInOut:cY,backOut:lY,anticipate:uY},Woe=t=>typeof t=="string",B7=t=>{if(mY(t)){hE(t.length===4);const[e,r,n,a]=t;return Gv(e,r,n,a)}else if(Woe(t))return Uoe[t];return t},fw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Voe(t,e){let r=new Set,n=new Set,a=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),t()),f(l)}const u={schedule:(f,m=!1,g=!1)=>{const v=g&&a?r:n;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,s&&(s=!1,u.process(f))}};return u}const Goe=40;function pY(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=fw.reduce((S,A)=>(S[A]=Voe(s),S),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:f,update:m,preRender:g,render:p,postRender:v}=o,w=()=>{const S=Af.useManualTiming?a.timestamp:performance.now();r=!1,Af.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(S-a.timestamp,Goe),1)),a.timestamp=S,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),f.process(a),m.process(a),g.process(a),p.process(a),v.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(w))},b=()=>{r=!0,n=!0,a.isProcessing||t(w)};return{schedule:fw.reduce((S,A)=>{const _=o[A];return S[A]=(O,I=!1,L=!1)=>(r||b(),_.schedule(O,I,L)),S},{}),cancel:S=>{for(let A=0;A<fw.length;A++)o[fw[A]].cancel(S)},state:a,steps:o}}const{schedule:Za,cancel:em,state:Vs,steps:aC}=pY(typeof requestAnimationFrame<"u"?requestAnimationFrame:pc,!0);let w2;function Yoe(){w2=void 0}const ol={now:()=>(w2===void 0&&ol.set(Vs.isProcessing||Af.useManualTiming?Vs.timestamp:performance.now()),w2),set:t=>{w2=t,queueMicrotask(Yoe)}},gY=t=>e=>typeof e=="string"&&e.startsWith(t),yE=gY("--"),Koe=gY("var(--"),bE=t=>Koe(t)?Xoe.test(t.split("/*")[0].trim()):!1,Xoe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ib={...jx,transform:t=>_f(0,1,t)},hw={...jx,default:1},cb=t=>Math.round(t*1e5)/1e5,vE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Joe(t){return t==null}const Qoe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wE=(t,e)=>r=>!!(typeof r=="string"&&Qoe.test(r)&&r.startsWith(t)||e&&!Joe(r)&&Object.prototype.hasOwnProperty.call(r,e)),xY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,s,o,l]=n.match(vE);return{[t]:parseFloat(a),[e]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Zoe=t=>_f(0,255,t),iC={...jx,transform:t=>Math.round(Zoe(t))},Jm={test:wE("rgb","red"),parse:xY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+iC.transform(t)+", "+iC.transform(e)+", "+iC.transform(r)+", "+cb(Ib.transform(n))+")"};function ele(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const rM={test:wE("#"),parse:ele,transform:Jm.transform},Yv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ah=Yv("deg"),ed=Yv("%"),Xr=Yv("px"),tle=Yv("vh"),rle=Yv("vw"),H7={...ed,parse:t=>ed.parse(t)/100,transform:t=>ed.transform(t*100)},tg={test:wE("hsl","hue"),parse:xY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ed.transform(cb(e))+", "+ed.transform(cb(r))+", "+cb(Ib.transform(n))+")"},Ji={test:t=>Jm.test(t)||rM.test(t)||tg.test(t),parse:t=>Jm.test(t)?Jm.parse(t):tg.test(t)?tg.parse(t):rM.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Jm.transform(t):tg.transform(t),getAnimatableNone:t=>{const e=Ji.parse(t);return e.alpha=0,Ji.transform(e)}},nle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ale(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(vE))==null?void 0:e.length)||0)+(((r=t.match(nle))==null?void 0:r.length)||0)>0}const yY="number",bY="color",ile="var",sle="var(",z7="${}",ole=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fb(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=e.replace(ole,c=>(Ji.test(c)?(n.color.push(s),a.push(bY),r.push(Ji.parse(c))):c.startsWith(sle)?(n.var.push(s),a.push(ile),r.push(c)):(n.number.push(s),a.push(yY),r.push(parseFloat(c))),++s,z7)).split(z7);return{values:r,split:l,indexes:n,types:a}}function vY(t){return Fb(t).values}function wY(t){const{split:e,types:r}=Fb(t),n=e.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],a[o]!==void 0){const l=r[o];l===yY?s+=cb(a[o]):l===bY?s+=Ji.transform(a[o]):s+=a[o]}return s}}const lle=t=>typeof t=="number"?0:Ji.test(t)?Ji.getAnimatableNone(t):t;function cle(t){const e=vY(t);return wY(t)(e.map(lle))}const tm={test:ale,parse:vY,createTransformer:wY,getAnimatableNone:cle};function sC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ule({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,s=0,o=0;if(!e)a=s=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=sC(c,l,t+1/3),s=sC(c,l,t),o=sC(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Q2(t,e){return r=>r>0?e:t}const oi=(t,e,r)=>t+(e-t)*r,oC=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},dle=[rM,Jm,tg],fle=t=>dle.find(e=>e.test(t));function q7(t){const e=fle(t);if(!e)return!1;let r=e.parse(t);return e===tg&&(r=ule(r)),r}const U7=(t,e)=>{const r=q7(t),n=q7(e);if(!r||!n)return Q2(t,e);const a={...r};return s=>(a.red=oC(r.red,n.red,s),a.green=oC(r.green,n.green,s),a.blue=oC(r.blue,n.blue,s),a.alpha=oi(r.alpha,n.alpha,s),Jm.transform(a))},nM=new Set(["none","hidden"]);function hle(t,e){return nM.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function mle(t,e){return r=>oi(t,e,r)}function jE(t){return typeof t=="number"?mle:typeof t=="string"?bE(t)?Q2:Ji.test(t)?U7:xle:Array.isArray(t)?jY:typeof t=="object"?Ji.test(t)?U7:ple:Q2}function jY(t,e){const r=[...t],n=r.length,a=t.map((s,o)=>jE(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}}function ple(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=jE(t[a])(t[a],e[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function gle(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][n[s]],l=t.values[o]??0;r[a]=l,n[s]++}return r}const xle=(t,e)=>{const r=tm.createTransformer(e),n=Fb(t),a=Fb(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?nM.has(t)&&!a.values.length||nM.has(e)&&!n.values.length?hle(t,e):Vv(jY(gle(n,a),a.values),r):Q2(t,e)};function NY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?oi(t,e,r):jE(t)(t,e)}const yle=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Za.update(e,r),stop:()=>em(e),now:()=>Vs.isProcessing?Vs.timestamp:ol.now()}},SY=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let s=0;s<a;s++)n+=Math.round(t(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Z2=2e4;function NE(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Z2;)e+=r,n=t.next(e);return e>=Z2?1/0:e}function ble(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(NE(n),Z2);return{type:"keyframes",ease:s=>n.next(a*s).value/e,duration:fc(a)}}const vle=5;function kY(t,e,r){const n=Math.max(e-vle,0);return aY(r-t(n),e-n)}const bi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lC=.001;function wle({duration:t=bi.duration,bounce:e=bi.bounce,velocity:r=bi.velocity,mass:n=bi.mass}){let a,s,o=1-e;o=_f(bi.minDamping,bi.maxDamping,o),t=_f(bi.minDuration,bi.maxDuration,fc(t)),o<1?(a=u=>{const f=u*o,m=f*t,g=f-r,p=aM(u,o),v=Math.exp(-m);return lC-g/p*v},s=u=>{const m=u*o*t,g=m*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-m),w=aM(Math.pow(u,2),o);return(-a(u)+lC>0?-1:1)*((g-p)*v)/w}):(a=u=>{const f=Math.exp(-u*t),m=(u-r)*t+1;return-lC+f*m},s=u=>{const f=Math.exp(-u*t),m=(r-u)*(t*t);return f*m});const l=5/t,c=Nle(a,s,l);if(t=Zu(t),isNaN(c))return{stiffness:bi.stiffness,damping:bi.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const jle=12;function Nle(t,e,r){let n=r;for(let a=1;a<jle;a++)n=n-t(n)/e(n);return n}function aM(t,e){return t*Math.sqrt(1-e*e)}const Sle=["duration","bounce"],kle=["stiffness","damping","mass"];function W7(t,e){return e.some(r=>t[r]!==void 0)}function Cle(t){let e={velocity:bi.velocity,stiffness:bi.stiffness,damping:bi.damping,mass:bi.mass,isResolvedFromDuration:!1,...t};if(!W7(t,kle)&&W7(t,Sle))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*_f(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bi.mass,stiffness:a,damping:s}}else{const r=wle(t);e={...e,...r,mass:bi.mass},e.isResolvedFromDuration=!0}return e}function ej(t=bi.visualDuration,e=bi.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:m,velocity:g,isResolvedFromDuration:p}=Cle({...r,velocity:-fc(r.velocity||0)}),v=g||0,w=u/(2*Math.sqrt(c*f)),b=o-s,N=fc(Math.sqrt(c/f)),k=Math.abs(b)<5;n||(n=k?bi.restSpeed.granular:bi.restSpeed.default),a||(a=k?bi.restDelta.granular:bi.restDelta.default);let S;if(w<1){const _=aM(N,w);S=O=>{const I=Math.exp(-w*N*O);return o-I*((v+w*N*b)/_*Math.sin(_*O)+b*Math.cos(_*O))}}else if(w===1)S=_=>o-Math.exp(-N*_)*(b+(v+N*b)*_);else{const _=N*Math.sqrt(w*w-1);S=O=>{const I=Math.exp(-w*N*O),L=Math.min(_*O,300);return o-I*((v+w*N*b)*Math.sinh(L)+_*b*Math.cosh(L))/_}}const A={calculatedDuration:p&&m||null,next:_=>{const O=S(_);if(p)l.done=_>=m;else{let I=_===0?v:0;w<1&&(I=_===0?Zu(v):kY(S,_,O));const L=Math.abs(I)<=n,R=Math.abs(o-O)<=a;l.done=L&&R}return l.value=l.done?o:O,l},toString:()=>{const _=Math.min(NE(A),Z2),O=SY(I=>A.next(_*I).value,_,30);return _+"ms "+O},toTransition:()=>{}};return A}ej.applyToOptions=t=>{const e=ble(t,100,ej);return t.ease=e.ease,t.duration=Zu(e.duration),t.type="keyframes",t};function iM({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const m=t[0],g={done:!1,value:m},p=L=>l!==void 0&&L<l||c!==void 0&&L>c,v=L=>l===void 0?c:c===void 0||Math.abs(l-L)<Math.abs(c-L)?l:c;let w=r*e;const b=m+w,N=o===void 0?b:o(b);N!==b&&(w=N-m);const k=L=>-w*Math.exp(-L/n),S=L=>N+k(L),A=L=>{const R=k(L),B=S(L);g.done=Math.abs(R)<=u,g.value=g.done?N:B};let _,O;const I=L=>{p(g.value)&&(_=L,O=ej({keyframes:[g.value,v(g.value)],velocity:kY(S,L,g.value),damping:a,stiffness:s,restDelta:u,restSpeed:f}))};return I(0),{calculatedDuration:null,next:L=>{let R=!1;return!O&&_===void 0&&(R=!0,A(L),I(L)),_!==void 0&&L>=_?O.next(L-_):(!R&&A(L),g)}}}function _le(t,e,r){const n=[],a=r||Af.mix||NY,s=t.length-1;for(let o=0;o<s;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||pc:e;l=Vv(c,l)}n.push(l)}return n}function Ale(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const s=t.length;if(hE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=_le(e,n,a),c=l.length,u=f=>{if(o&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=Rb(t[m],t[m+1],f);return l[m](g)};return r?f=>u(_f(t[0],t[s-1],f)):u}function Tle(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=Rb(0,e,n);t.push(oi(r,1,a))}}function Mle(t){const e=[0];return Tle(e,t.length-1),e}function Ole(t,e){return t.map(r=>r*e)}function Ele(t,e){return t.map(()=>e||hY).splice(0,t.length-1)}function ub({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=qoe(n)?n.map(B7):B7(n),s={done:!1,value:e[0]},o=Ole(r&&r.length===e.length?r:Mle(e),t),l=Ale(o,e,{ease:Array.isArray(a)?a:Ele(e,a)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const Dle=t=>t!==null;function SE(t,{repeat:e,repeatType:r="loop"},n,a=1){const s=t.filter(Dle),l=a<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const Ple={decay:iM,inertia:iM,tween:ub,keyframes:ub,spring:ej};function CY(t){typeof t.type=="string"&&(t.type=Ple[t.type])}class kE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Lle=t=>t/100;class CE extends kE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==ol.now()&&this.tick(ol.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CY(e);const{type:r=ub,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=r||ub;c!==ub&&typeof l[0]!="number"&&(this.mixKeyframes=Vv(Lle,NY(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=NE(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:p,type:v,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let S=this.currentTime,A=n;if(m){const L=Math.min(this.currentTime,a)/l;let R=Math.floor(L),B=L%1;!B&&L>=1&&(B=1),B===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(g==="reverse"?(B=1-B,p&&(B-=p/l)):g==="mirror"&&(A=o)),S=_f(0,1,B)*l}const _=k?{done:!1,value:f[0]}:A.next(S);s&&(_.value=s(_.value));let{done:O}=_;!k&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return I&&v!==iM&&(_.value=SE(f,this.options,b,this.speed)),w&&w(_.value),I&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return fc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fc(e)}get time(){return fc(this.currentTime)}set time(e){var r;e=Zu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ol.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=fc(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:e=yle,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ol.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Rle(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qm=t=>t*180/Math.PI,sM=t=>{const e=Qm(Math.atan2(t[1],t[0]));return oM(e)},Ile={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sM,rotateZ:sM,skewX:t=>Qm(Math.atan(t[1])),skewY:t=>Qm(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oM=t=>(t=t%360,t<0&&(t+=360),t),V7=sM,G7=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Y7=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Fle={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:G7,scaleY:Y7,scale:t=>(G7(t)+Y7(t))/2,rotateX:t=>oM(Qm(Math.atan2(t[6],t[5]))),rotateY:t=>oM(Qm(Math.atan2(-t[2],t[0]))),rotateZ:V7,rotate:V7,skewX:t=>Qm(Math.atan(t[4])),skewY:t=>Qm(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function lM(t){return t.includes("scale")?1:0}function cM(t,e){if(!t||t==="none")return lM(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Fle,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Ile,a=l}if(!a)return lM(e);const s=n[e],o=a[1].split(",").map(Ble);return typeof s=="function"?s(o):o[s]}const $le=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return cM(r,e)};function Ble(t){return parseFloat(t.trim())}const Nx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sx=new Set(Nx),K7=t=>t===jx||t===Xr,Hle=new Set(["x","y","z"]),zle=Nx.filter(t=>!Hle.has(t));function qle(t){const e=[];return zle.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const up={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cM(e,"x"),y:(t,{transform:e})=>cM(e,"y")};up.translateX=up.x;up.translateY=up.y;const dp=new Set;let uM=!1,dM=!1,fM=!1;function _Y(){if(dM){const t=Array.from(dp).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=qle(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,o])=>{var l;(l=n.getValue(s))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}dM=!1,uM=!1,dp.forEach(t=>t.complete(fM)),dp.clear()}function AY(){dp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dM=!0)})}function Ule(){fM=!0,AY(),_Y(),fM=!1}class _E{constructor(e,r,n,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(dp.add(this),uM||(uM=!0,Za.read(AY),Za.resolveKeyframes(_Y))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const s=a==null?void 0:a.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&s===void 0&&a.set(e[0])}Rle(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),dp.delete(this)}cancel(){this.state==="scheduled"&&(dp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wle=t=>t.startsWith("--");function Vle(t,e,r){Wle(e)?t.style.setProperty(e,r):t.style[e]=r}const Gle=mE(()=>window.ScrollTimeline!==void 0),Yle={};function Kle(t,e){const r=mE(t);return()=>Yle[e]??r()}const TY=Kle(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qy=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,X7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qy([0,.65,.55,1]),circOut:Qy([.55,0,1,.45]),backIn:Qy([.31,.01,.66,-.59]),backOut:Qy([.33,1.53,.69,.99])};function MY(t,e){if(t)return typeof t=="function"?TY()?SY(t,e):"ease-out":mY(t)?Qy(t):Array.isArray(t)?t.map(r=>MY(r,e)||X7.easeOut):X7[t]}function Xle(t,e,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const f={[e]:r};c&&(f.offset=c);const m=MY(l,a);Array.isArray(m)&&(f.easing=m);const g={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(f,g)}function OY(t){return typeof t=="function"&&"applyToOptions"in t}function Jle({type:t,...e}){return OY(t)&&TY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qle extends kE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,hE(typeof e.type!="string");const u=Jle(e);this.animation=Xle(r,n,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=SE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Vle(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fc(e)}get time(){return fc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Gle()?(this.animation.timeline=e,pc):r(this)}}const EY={anticipate:uY,backInOut:cY,circInOut:fY};function Zle(t){return t in EY}function ece(t){typeof t.ease=="string"&&Zle(t.ease)&&(t.ease=EY[t.ease])}const J7=10;class tce extends Qle{constructor(e){ece(e),CY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new CE({...o,autoplay:!1}),c=Zu(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-J7).value,l.sample(c).value,J7),l.stop()}}const Q7=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(tm.test(t)||t==="0")&&!t.startsWith("url("));function rce(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function nce(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Q7(a,e),l=Q7(s,e);return!o||!l?!1:rce(t)||(r==="spring"||OY(r))&&n}function hM(t){t.duration=0,t.type="keyframes"}const ace=new Set(["opacity","clipPath","filter","transform"]),ice=mE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sce(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return ice()&&r&&ace.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&s!==0&&o!=="inertia"}const oce=40;class lce extends kE{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:f,...m}){var v;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ol.now();const g={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:f,...m},p=(f==null?void 0:f.KeyframeResolver)||_E;this.keyframeResolver=new p(l,(w,b,N)=>this.onKeyframesResolved(w,b,g,!N),c,u,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:f}=n;this.resolvedAt=ol.now(),nce(e,s,o,l)||((Af.instantAnimations||!c)&&(f==null||f(SE(e,n,r))),e[0]=e[e.length-1],hM(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!u&&sce(g)?new tce({...g,element:g.motionValue.owner.current}):new CE(g);p.finished.then(()=>this.notifyFinished()).catch(pc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Ule()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const cce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uce(t){const e=cce.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function DY(t,e,r=1){const[n,a]=uce(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return tY(o)?parseFloat(o):o}return bE(a)?DY(a,e,r+1):a}function AE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const PY=new Set(["width","height","top","left","right","bottom",...Nx]),dce={test:t=>t==="auto",parse:t=>t},LY=t=>e=>e.test(t),RY=[jx,Xr,ed,Ah,rle,tle,dce],Z7=t=>RY.find(LY(t));function fce(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nY(t):!0}const hce=new Set(["brightness","contrast","saturate","opacity"]);function mce(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(vE)||[];if(!n)return t;const a=r.replace(n,"");let s=hce.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+a+")"}const pce=/\b([a-z-]*)\(.*?\)/gu,mM={...tm,getAnimatableNone:t=>{const e=t.match(pce);return e?e.map(mce).join(" "):t}},eR={...jx,transform:Math.round},gce={rotate:Ah,rotateX:Ah,rotateY:Ah,rotateZ:Ah,scale:hw,scaleX:hw,scaleY:hw,scaleZ:hw,skew:Ah,skewX:Ah,skewY:Ah,distance:Xr,translateX:Xr,translateY:Xr,translateZ:Xr,x:Xr,y:Xr,z:Xr,perspective:Xr,transformPerspective:Xr,opacity:Ib,originX:H7,originY:H7,originZ:Xr},TE={borderWidth:Xr,borderTopWidth:Xr,borderRightWidth:Xr,borderBottomWidth:Xr,borderLeftWidth:Xr,borderRadius:Xr,radius:Xr,borderTopLeftRadius:Xr,borderTopRightRadius:Xr,borderBottomRightRadius:Xr,borderBottomLeftRadius:Xr,width:Xr,maxWidth:Xr,height:Xr,maxHeight:Xr,top:Xr,right:Xr,bottom:Xr,left:Xr,padding:Xr,paddingTop:Xr,paddingRight:Xr,paddingBottom:Xr,paddingLeft:Xr,margin:Xr,marginTop:Xr,marginRight:Xr,marginBottom:Xr,marginLeft:Xr,backgroundPositionX:Xr,backgroundPositionY:Xr,...gce,zIndex:eR,fillOpacity:Ib,strokeOpacity:Ib,numOctaves:eR},xce={...TE,color:Ji,backgroundColor:Ji,outlineColor:Ji,fill:Ji,stroke:Ji,borderColor:Ji,borderTopColor:Ji,borderRightColor:Ji,borderBottomColor:Ji,borderLeftColor:Ji,filter:mM,WebkitFilter:mM},IY=t=>xce[t];function FY(t,e){let r=IY(t);return r!==mM&&(r=tm),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const yce=new Set(["auto","none","0"]);function bce(t,e,r){let n=0,a;for(;n<t.length&&!a;){const s=t[n];typeof s=="string"&&!yce.has(s)&&Fb(s).values.length&&(a=t[n]),n++}if(a&&r)for(const s of e)t[s]=FY(r,a)}class vce extends _E{constructor(e,r,n,a,s){super(e,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),bE(u))){const f=DY(u,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!PY.has(n)||e.length!==2)return;const[a,s]=e,o=Z7(a),l=Z7(s);if(o!==l)if(K7(o)&&K7(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else up[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||fce(e[a]))&&n.push(a);n.length&&bce(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=up[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=up[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function wce(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const $Y=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function BY(t){return rY(t)&&"offsetHeight"in t}const tR=30,jce=t=>!isNaN(parseFloat(t));class Nce{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=ol.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ol.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new pE);const n=this.events[e].add(r);return e==="change"?()=>{n(),Za.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ol.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tR);return aY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Og(t,e){return new Nce(t,e)}const{schedule:ME}=pY(queueMicrotask,!1),Jc={x:!1,y:!1};function HY(){return Jc.x||Jc.y}function Sce(t){return t==="x"||t==="y"?Jc[t]?null:(Jc[t]=!0,()=>{Jc[t]=!1}):Jc.x||Jc.y?null:(Jc.x=Jc.y=!0,()=>{Jc.x=Jc.y=!1})}function zY(t,e){const r=wce(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function rR(t){return!(t.pointerType==="touch"||HY())}function kce(t,e,r={}){const[n,a,s]=zY(t,r),o=l=>{if(!rR(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const f=m=>{rR(m)&&(u(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const qY=(t,e)=>e?t===e?!0:qY(t,e.parentElement):!1,OE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Cce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _ce(t){return Cce.has(t.tagName)||t.tabIndex!==-1}const j2=new WeakSet;function nR(t){return e=>{e.key==="Enter"&&t(e)}}function cC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ace=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=nR(()=>{if(j2.has(r))return;cC(r,"down");const a=nR(()=>{cC(r,"up")}),s=()=>cC(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function aR(t){return OE(t)&&!HY()}function Tce(t,e,r={}){const[n,a,s]=zY(t,r),o=l=>{const c=l.currentTarget;if(!aR(l))return;j2.add(c);const u=e(c,l),f=(p,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),j2.has(c)&&j2.delete(c),aR(p)&&typeof u=="function"&&u(p,{success:v})},m=p=>{f(p,c===window||c===document||r.useGlobalTarget||qY(c,p.target))},g=p=>{f(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",g,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),BY(l)&&(l.addEventListener("focus",u=>Ace(u,a)),!_ce(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function UY(t){return rY(t)&&"ownerSVGElement"in t}function Mce(t){return UY(t)&&t.tagName==="svg"}const ho=t=>!!(t&&t.getVelocity),Oce=[...RY,Ji,tm],Ece=t=>Oce.find(LY(t)),EE=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function iR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dce(...t){return e=>{let r=!1;const n=t.map(a=>{const s=iR(a,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():iR(t[a],null)}}}}function Pce(...t){return y.useCallback(Dce(...t),t)}class Lce extends y.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=BY(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Rce({children:t,isPresent:e,anchorX:r,root:n}){const a=y.useId(),s=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(EE),c=Pce(s,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:u,height:f,top:m,left:g,right:p}=o.current;if(e||!s.current||!u||!f)return;const v=r==="left"?`left: ${g}`:`right: ${p}`;s.current.dataset.motionPopId=a;const w=document.createElement("style");l&&(w.nonce=l);const b=n??document.head;return b.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${m}px !important;
          }
        `),()=>{b.contains(w)&&b.removeChild(w)}},[e]),i.jsx(Lce,{isPresent:e,childRef:s,sizeRef:o,children:y.cloneElement(t,{ref:c})})}const Ice=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=cE(Fce),f=y.useId();let m=!0,g=y.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return s&&m&&(g={...g}),y.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=i.jsx(Rce,{isPresent:r,anchorX:l,root:c,children:t})),i.jsx(wN.Provider,{value:g,children:t})};function Fce(){return new Map}function WY(t=!0){const e=y.useContext(wN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,s=y.useId();y.useEffect(()=>{if(t)return a(s)},[t]);const o=y.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const mw=t=>t.key||"";function sR(t){const e=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&e.push(r)}),e}const sr=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,f]=WY(o),m=y.useMemo(()=>sR(t),[t]),g=o&&!u?[]:m.map(mw),p=y.useRef(!0),v=y.useRef(m),w=cE(()=>new Map),[b,N]=y.useState(m),[k,S]=y.useState(m);eY(()=>{p.current=!1,v.current=m;for(let O=0;O<k.length;O++){const I=mw(k[O]);g.includes(I)?w.delete(I):w.get(I)!==!0&&w.set(I,!1)}},[k,g.length,g.join("-")]);const A=[];if(m!==b){let O=[...m];for(let I=0;I<k.length;I++){const L=k[I],R=mw(L);g.includes(R)||(O.splice(I,0,L),A.push(L))}return s==="wait"&&A.length&&(O=A),S(sR(O)),N(m),null}const{forceRender:_}=y.useContext(lE);return i.jsx(i.Fragment,{children:k.map(O=>{const I=mw(O),L=o&&!u?!1:m===k||g.includes(I),R=()=>{if(w.has(I))w.set(I,!0);else return;let B=!0;w.forEach(D=>{D||(B=!1)}),B&&(_==null||_(),S(v.current),o&&(f==null||f()),n&&n())};return i.jsx(Ice,{isPresent:L,initial:!p.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:L?void 0:R,anchorX:l,children:O},I)})})},VY=y.createContext({strict:!1}),oR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eg={};for(const t in oR)Eg[t]={isEnabled:e=>oR[t].some(r=>!!e[r])};function $ce(t){for(const e in t)Eg[e]={...Eg[e],...t[e]}}const Bce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Bce.has(t)}let GY=t=>!tj(t);function Hce(t){typeof t=="function"&&(GY=e=>e.startsWith("on")?!tj(e):t(e))}try{Hce(require("@emotion/is-prop-valid").default)}catch{}function zce(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(GY(a)||r===!0&&tj(a)||!e&&!tj(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const jN=y.createContext({});function NN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $b(t){return typeof t=="string"||Array.isArray(t)}const DE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PE=["initial",...DE];function SN(t){return NN(t.animate)||PE.some(e=>$b(t[e]))}function YY(t){return!!(SN(t)||t.variants)}function qce(t,e){if(SN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||$b(r)?r:void 0,animate:$b(n)?n:void 0}}return t.inherit!==!1?e:{}}function Uce(t){const{initial:e,animate:r}=qce(t,y.useContext(jN));return y.useMemo(()=>({initial:e,animate:r}),[lR(e),lR(r)])}function lR(t){return Array.isArray(t)?t.join(" "):t}const Bb={};function Wce(t){for(const e in t)Bb[e]=t[e],yE(e)&&(Bb[e].isCSSVariable=!0)}function KY(t,{layout:e,layoutId:r}){return Sx.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Bb[t]||t==="opacity")}const Vce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gce=Nx.length;function Yce(t,e,r){let n="",a=!0;for(let s=0;s<Gce;s++){const o=Nx[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=$Y(l,TE[o]);if(!c){a=!1;const f=Vce[o]||o;n+=`${f}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function LE(t,e,r){const{style:n,vars:a,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Sx.has(c)){o=!0;continue}else if(yE(c)){a[c]=u;continue}else{const f=$Y(u,TE[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=Yce(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const RE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XY(t,e,r){for(const n in e)!ho(e[n])&&!KY(n,r)&&(t[n]=e[n])}function Kce({transformTemplate:t},e){return y.useMemo(()=>{const r=RE();return LE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Xce(t,e){const r=t.style||{},n={};return XY(n,r,t),Object.assign(n,Kce(t,e)),n}function Jce(t,e){const r={},n=Xce(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Qce={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zce={offset:"strokeDashoffset",array:"strokeDasharray"};function eue(t,e,r=1,n=0,a=!0){t.pathLength=1;const s=a?Qce:Zce;t[s.offset]=Xr.transform(-n);const o=Xr.transform(e),l=Xr.transform(r);t[s.array]=`${o} ${l}`}function JY(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},c,u,f){if(LE(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&eue(m,a,s,o,!1)}const QY=()=>({...RE(),attrs:{}}),ZY=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tue(t,e,r,n){const a=y.useMemo(()=>{const s=QY();return JY(s,e,ZY(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};XY(s,t.style,t),a.style={...s,...a.style}}return a}const rue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IE(t){return typeof t!="string"||t.includes("-")?!1:!!(rue.indexOf(t)>-1||/[A-Z]/u.test(t))}function nue(t,e,r,{latestValues:n},a,s=!1){const l=(IE(t)?tue:Jce)(e,n,a,t),c=zce(e,typeof t=="string",s),u=t!==y.Fragment?{...c,...l,ref:r}:{},{children:f}=e,m=y.useMemo(()=>ho(f)?f.get():f,[f]);return y.createElement(t,{...u,children:m})}function cR(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function FE(t,e,r,n){if(typeof e=="function"){const[a,s]=cR(n);e=e(r!==void 0?r:t.custom,a,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,s]=cR(n);e=e(r!==void 0?r:t.custom,a,s)}return e}function N2(t){return ho(t)?t.get():t}function aue({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:iue(r,n,a,t),renderState:e()}}function iue(t,e,r,n){const a={},s=n(t,{});for(const g in s)a[g]=N2(s[g]);let{initial:o,animate:l}=t;const c=SN(t),u=YY(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!NN(m)){const g=Array.isArray(m)?m:[m];for(let p=0;p<g.length;p++){const v=FE(t,g[p]);if(v){const{transitionEnd:w,transition:b,...N}=v;for(const k in N){let S=N[k];if(Array.isArray(S)){const A=f?S.length-1:0;S=S[A]}S!==null&&(a[k]=S)}for(const k in w)a[k]=w[k]}}}return a}const eK=t=>(e,r)=>{const n=y.useContext(jN),a=y.useContext(wN),s=()=>aue(t,e,n,a);return r?s():cE(s)};function $E(t,e,r){var s;const{style:n}=t,a={};for(const o in n)(ho(n[o])||e.style&&ho(e.style[o])||KY(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const sue=eK({scrapeMotionValuesFromProps:$E,createRenderState:RE});function tK(t,e,r){const n=$E(t,e,r);for(const a in t)if(ho(t[a])||ho(e[a])){const s=Nx.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=t[a]}return n}const oue=eK({scrapeMotionValuesFromProps:tK,createRenderState:QY}),lue=Symbol.for("motionComponentSymbol");function rg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cue(t,e,r){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):rg(r)&&(r.current=n))},[e])}const BE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uue="framerAppearId",rK="data-"+BE(uue),nK=y.createContext({});function due(t,e,r,n,a){var w,b;const{visualElement:s}=y.useContext(jN),o=y.useContext(VY),l=y.useContext(wN),c=y.useContext(EE).reducedMotion,u=y.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,m=y.useContext(nK);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&fue(u.current,r,a,m);const g=y.useRef(!1);y.useInsertionEffect(()=>{f&&g.current&&f.update(r,l)});const p=r[rK],v=y.useRef(!!p&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return eY(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,p)}),v.current=!1),f.enteringChildren=void 0)}),f}function fue(t,e,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:aK(t.parent)),t.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&rg(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:u})}function aK(t){if(t)return t.options.allowProjection!==!1?t.projection:aK(t.parent)}function uC(t,{forwardMotionProps:e=!1}={},r,n){r&&$ce(r);const a=IE(t)?oue:sue;function s(l,c){let u;const f={...y.useContext(EE),...l,layoutId:hue(l)},{isStatic:m}=f,g=Uce(l),p=a(l,m);if(!m&&uE){mue();const v=pue(f);u=v.MeasureLayout,g.visualElement=due(t,p,f,n,v.ProjectionNode)}return i.jsxs(jN.Provider,{value:g,children:[u&&g.visualElement?i.jsx(u,{visualElement:g.visualElement,...f}):null,nue(t,l,cue(p,g.visualElement,c),p,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(s);return o[lue]=t,o}function hue({layoutId:t}){const e=y.useContext(lE).id;return e&&t!==void 0?e+"-"+t:t}function mue(t,e){y.useContext(VY).strict}function pue(t){const{drag:e,layout:r}=Eg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function gue(t,e){if(typeof Proxy>"u")return uC;const r=new Map,n=(s,o)=>uC(s,o,t,e),a=(s,o)=>n(s,o);return new Proxy(a,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,uC(o,void 0,t,e)),r.get(o))})}function iK({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function xue({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yue(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function dC(t){return t===void 0||t===1}function pM({scale:t,scaleX:e,scaleY:r}){return!dC(t)||!dC(e)||!dC(r)}function zm(t){return pM(t)||sK(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sK(t){return uR(t.x)||uR(t.y)}function uR(t){return t&&t!=="0%"}function rj(t,e,r){const n=t-r,a=e*n;return r+a}function dR(t,e,r,n,a){return a!==void 0&&(t=rj(t,a,n)),rj(t,r,n)+e}function gM(t,e=0,r=1,n,a){t.min=dR(t.min,e,r,n,a),t.max=dR(t.max,e,r,n,a)}function oK(t,{x:e,y:r}){gM(t.x,e.translate,e.scale,e.originPoint),gM(t.y,r.translate,r.scale,r.originPoint)}const fR=.999999999999,hR=1.0000000000001;function bue(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ag(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,oK(t,o)),n&&zm(s.latestValues)&&ag(t,s.latestValues))}e.x<hR&&e.x>fR&&(e.x=1),e.y<hR&&e.y>fR&&(e.y=1)}function ng(t,e){t.min=t.min+e,t.max=t.max+e}function mR(t,e,r,n,a=.5){const s=oi(t.min,t.max,a);gM(t,e,r,s,n)}function ag(t,e){mR(t.x,e.x,e.scaleX,e.scale,e.originX),mR(t.y,e.y,e.scaleY,e.scale,e.originY)}function lK(t,e){return iK(yue(t.getBoundingClientRect(),e))}function vue(t,e,r){const n=lK(t,r),{scroll:a}=e;return a&&(ng(n.x,a.offset.x),ng(n.y,a.offset.y)),n}const pR=()=>({translate:0,scale:1,origin:0,originPoint:0}),ig=()=>({x:pR(),y:pR()}),gR=()=>({min:0,max:0}),Pi=()=>({x:gR(),y:gR()}),xM={current:null},cK={current:!1};function wue(){if(cK.current=!0,!!uE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xM.current=t.matches;t.addEventListener("change",e),e()}else xM.current=!1}const jue=new WeakMap;function Nue(t,e,r){for(const n in e){const a=e[n],s=r[n];if(ho(a))t.addValue(n,a);else if(ho(s))t.addValue(n,Og(a,{owner:t}));else if(s!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,Og(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const xR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sue{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_E,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ol.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Za.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=SN(r),this.isVariantNode=YY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const p=m[g];c[g]!==void 0&&ho(p)&&p.set(c[g])}}mount(e){var r;this.current=e,jue.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),cK.current||wue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xM.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),em(this.notifyUpdate),em(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Sx.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Za.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Eg){const r=Eg[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<xR.length;n++){const a=xR[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=e[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Nue(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Og(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(tY(n)||nY(n))?n=parseFloat(n):!Ece(n)&&tm.test(r)&&(n=FY(e,r)),this.setBaseTarget(e,ho(n)?n.get():n)),ho(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=FE(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ho(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new pE),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){ME.render(this.render)}}class uK extends Sue{constructor(){super(...arguments),this.KeyframeResolver=vce}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ho(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function dK(t,{style:e,vars:r},n,a){const s=t.style;let o;for(o in e)s[o]=e[o];a==null||a.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function kue(t){return window.getComputedStyle(t)}class Cue extends uK{constructor(){super(...arguments),this.type="html",this.renderInstance=dK}readValueFromInstance(e,r){var n;if(Sx.has(r))return(n=this.projection)!=null&&n.isProjecting?lM(r):$le(e,r);{const a=kue(e),s=(yE(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return lK(e,r)}build(e,r,n){LE(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return $E(e,r,n)}}const fK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _ue(t,e,r,n){dK(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(fK.has(a)?a:BE(a),e.attrs[a])}class Aue extends uK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pi}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Sx.has(r)){const n=IY(r);return n&&n.default||0}return r=fK.has(r)?r:BE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return tK(e,r,n)}build(e,r,n){JY(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){_ue(e,r,n,a)}mount(e){this.isSVGTag=ZY(e.tagName),super.mount(e)}}const Tue=(t,e)=>IE(t)?new Aue(e):new Cue(e,{allowProjection:t!==y.Fragment});function hg(t,e,r){const n=t.getProps();return FE(n,e,r!==void 0?r:n.custom,t)}const yM=t=>Array.isArray(t);function Mue(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Og(r))}function Oue(t){return yM(t)?t[t.length-1]||0:t}function Eue(t,e){const r=hg(t,e);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const o in s){const l=Oue(s[o]);Mue(t,o,l)}}function Due(t){return!!(ho(t)&&t.add)}function bM(t,e){const r=t.getValue("willChange");if(Due(r))return r.add(e);if(!r&&Af.WillChange){const n=new Af.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function hK(t){return t.props[rK]}const Pue=t=>t!==null;function Lue(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Pue),s=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[s]}const Rue={type:"spring",stiffness:500,damping:25,restSpeed:10},Iue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Fue={type:"keyframes",duration:.8},$ue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bue=(t,{keyframes:e})=>e.length>2?Fue:Sx.has(t)?t.startsWith("scale")?Iue(e[1]):Rue:$ue;function Hue({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const HE=(t,e,r,n={},a,s)=>o=>{const l=AE(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Zu(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:a};Hue(l)||Object.assign(f,Bue(t,f)),f.duration&&(f.duration=Zu(f.duration)),f.repeatDelay&&(f.repeatDelay=Zu(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(hM(f),f.delay===0&&(m=!0)),(Af.instantAnimations||Af.skipAnimations)&&(m=!0,hM(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const g=Lue(f.keyframes,l);if(g!==void 0){Za.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new CE(f):new lce(f)};function zue({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function mK(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(s=n);const c=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||u&&zue(u,f))continue;const p={delay:r,...AE(s||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===v&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=hK(t);if(N){const k=window.MotionHandoffAnimation(N,f,Za);k!==null&&(p.startTime=k,w=!0)}}bM(t,f),m.start(HE(f,m,g,t.shouldReduceMotion&&PY.has(f)?{type:!1}:p,t,w));const b=m.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Za.update(()=>{o&&Eue(t,o)})}),c}function pK(t,e,r,n=0,a=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(s,o):a===1?s*n:l-s*n}function vM(t,e,r={}){var c;const n=hg(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(mK(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=a;return que(t,e,u,f,m,g,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,f]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function que(t,e,r=0,n=0,a=0,s=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(vM(c,e,{...o,delay:r+(typeof n=="function"?0:n)+pK(t.variantChildren,c,n,a,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Uue(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(s=>vM(t,s,r));n=Promise.all(a)}else if(typeof e=="string")n=vM(t,e,r);else{const a=typeof e=="function"?hg(t,e,r.custom):e;n=Promise.all(mK(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function gK(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Wue=PE.length;function xK(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?xK(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Wue;r++){const n=PE[r],a=t.props[n];($b(a)||a===!1)&&(e[n]=a)}return e}const Vue=[...DE].reverse(),Gue=DE.length;function Yue(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Uue(t,r,n)))}function Kue(t){let e=Yue(t),r=yR(),n=!0;const a=c=>(u,f)=>{var g;const m=hg(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:p,transitionEnd:v,...w}=m;u={...u,...w,...v}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,f=xK(t.parent)||{},m=[],g=new Set;let p={},v=1/0;for(let b=0;b<Gue;b++){const N=Vue[b],k=r[N],S=u[N]!==void 0?u[N]:f[N],A=$b(S),_=N===c?k.isActive:null;_===!1&&(v=b);let O=S===f[N]&&S!==u[N]&&A;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...p},!k.isActive&&_===null||!S&&!k.prevProp||NN(S)||typeof S=="boolean")continue;const I=Xue(k.prevProp,S);let L=I||N===c&&k.isActive&&!O&&A||b>v&&A,R=!1;const B=Array.isArray(S)?S:[S];let D=B.reduce(a(N),{});_===!1&&(D={});const{prevResolvedValues:M={}}=k,H={...M,...D},G=$=>{L=!0,g.has($)&&(R=!0,g.delete($)),k.needsAnimating[$]=!0;const q=t.getValue($);q&&(q.liveStyle=!1)};for(const $ in H){const q=D[$],Z=M[$];if(p.hasOwnProperty($))continue;let ce=!1;yM(q)&&yM(Z)?ce=!gK(q,Z):ce=q!==Z,ce?q!=null?G($):g.add($):q!==void 0&&g.has($)?G($):k.protectedKeys[$]=!0}k.prevProp=S,k.prevResolvedValues=D,k.isActive&&(p={...p,...D}),n&&t.blockInitialAnimation&&(L=!1);const Y=O&&I;L&&(!Y||R)&&m.push(...B.map($=>{const q={type:N};if(typeof $=="string"&&n&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,ce=hg(Z,$);if(Z.enteringChildren&&ce){const{delayChildren:X}=ce.transition||{};q.delay=pK(Z.enteringChildren,t,X)}}return{animation:$,options:q}}))}if(g.size){const b={};if(typeof u.initial!="boolean"){const N=hg(t,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(b.transition=N.transition)}g.forEach(N=>{const k=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),b[N]=k??null}),m.push({animation:b})}let w=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(m):Promise.resolve()}function l(c,u){var m;if(r[c].isActive===u)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var p;return(p=g.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=yR(),n=!0}}}function Xue(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gK(e,t):!1}function Im(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yR(){return{animate:Im(!0),whileInView:Im(),whileHover:Im(),whileTap:Im(),whileDrag:Im(),whileFocus:Im(),exit:Im()}}class cm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Jue extends cm{constructor(e){super(e),e.animationState||(e.animationState=Kue(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();NN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Que=0;class Zue extends cm{constructor(){super(...arguments),this.id=Que++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ede={animation:{Feature:Jue},exit:{Feature:Zue}};function Hb(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Kv(t){return{point:{x:t.pageX,y:t.pageY}}}const tde=t=>e=>OE(e)&&t(e,Kv(e));function db(t,e,r,n){return Hb(t,e,tde(r),n)}const yK=1e-4,rde=1-yK,nde=1+yK,bK=.01,ade=0-bK,ide=0+bK;function Oo(t){return t.max-t.min}function sde(t,e,r){return Math.abs(t-e)<=r}function bR(t,e,r,n=.5){t.origin=n,t.originPoint=oi(e.min,e.max,t.origin),t.scale=Oo(r)/Oo(e),t.translate=oi(r.min,r.max,t.origin)-t.originPoint,(t.scale>=rde&&t.scale<=nde||isNaN(t.scale))&&(t.scale=1),(t.translate>=ade&&t.translate<=ide||isNaN(t.translate))&&(t.translate=0)}function fb(t,e,r,n){bR(t.x,e.x,r.x,n?n.originX:void 0),bR(t.y,e.y,r.y,n?n.originY:void 0)}function vR(t,e,r){t.min=r.min+e.min,t.max=t.min+Oo(e)}function ode(t,e,r){vR(t.x,e.x,r.x),vR(t.y,e.y,r.y)}function wR(t,e,r){t.min=e.min-r.min,t.max=t.min+Oo(e)}function hb(t,e,r){wR(t.x,e.x,r.x),wR(t.y,e.y,r.y)}function ac(t){return[t("x"),t("y")]}const vK=({current:t})=>t?t.ownerDocument.defaultView:null,jR=(t,e)=>Math.abs(t-e);function lde(t,e){const r=jR(t.x,e.x),n=jR(t.y,e.y);return Math.sqrt(r**2+n**2)}class wK{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=hC(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=lde(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:w}=g,{timestamp:b}=Vs;this.history.push({...w,timestamp:b});const{onStart:N,onMove:k}=this.handlers;p||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,p)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=fC(p,this.transformPagePoint),Za.update(this.updatePoint,!0)},this.handlePointerUp=(g,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=hC(g.type==="pointercancel"?this.lastMoveEventInfo:fC(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,N),w&&w(g,N)},!OE(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Kv(e),c=fC(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Vs;this.history=[{...u,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,hC(c,this.history)),this.removeListeners=Vv(db(this.contextWindow,"pointermove",this.handlePointerMove),db(this.contextWindow,"pointerup",this.handlePointerUp),db(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),em(this.updatePoint)}}function fC(t,e){return e?{point:e(t.point)}:t}function NR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hC({point:t},e){return{point:t,delta:NR(t,jK(e)),offset:NR(t,cde(e)),velocity:ude(e,.1)}}function cde(t){return t[0]}function jK(t){return t[t.length-1]}function ude(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=jK(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Zu(e)));)r--;if(!n)return{x:0,y:0};const s=fc(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dde(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?oi(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?oi(r,t,n.max):Math.min(t,r)),t}function SR(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function fde(t,{top:e,left:r,bottom:n,right:a}){return{x:SR(t.x,r,a),y:SR(t.y,e,n)}}function kR(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function hde(t,e){return{x:kR(t.x,e.x),y:kR(t.y,e.y)}}function mde(t,e){let r=.5;const n=Oo(t),a=Oo(e);return a>n?r=Rb(e.min,e.max-n,t.min):n>a&&(r=Rb(t.min,t.max-a,e.min)),_f(0,1,r)}function pde(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const wM=.35;function gde(t=wM){return t===!1?t=0:t===!0&&(t=wM),{x:CR(t,"left","right"),y:CR(t,"top","bottom")}}function CR(t,e,r){return{min:_R(t,e),max:_R(t,r)}}function _R(t,e){return typeof t=="number"?t:t[e]||0}const xde=new WeakMap;class yde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Kv(m).point)},o=(m,g)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Sce(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ac(N=>{let k=this.getAxisMotionValue(N).get()||0;if(ed.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[N];A&&(k=Oo(A)*(parseFloat(k)/100))}}this.originPoint[N]=k}),w&&Za.postRender(()=>w(m,g)),bM(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:N}=g;if(v&&this.currentDirection===null){this.currentDirection=bde(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),b&&b(m,g)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ac(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new wK(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:vK(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Za.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!pw(e,a,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=dde(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;e&&rg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=fde(n.layoutBox,e):this.constraints=!1,this.elastic=gde(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ac(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pde(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!rg(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=vue(n,a.root,this.visualElement.getTransformPagePoint());let o=hde(a.layout.layoutBox,s);if(r){const l=r(xue(o));this.hasMutatedConstraints=!!l,l&&(o=iK(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ac(f=>{if(!pw(f,r,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const g=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return bM(this.visualElement,e),n.start(HE(e,n,0,r,this.visualElement,!1))}stopAnimation(){ac(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ac(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ac(r=>{const{drag:n}=this.getProps();if(!pw(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(e[r]-oi(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!rg(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ac(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=mde({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ac(o=>{if(!pw(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(oi(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;xde.set(this.visualElement,this);const e=this.visualElement.current,r=db(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();rg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Za.read(n);const o=Hb(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ac(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=wM,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function pw(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function bde(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class vde extends cm{constructor(e){super(e),this.removeGroupControls=pc,this.removeListeners=pc,this.controls=new yde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pc}unmount(){this.removeGroupControls(),this.removeListeners()}}const AR=t=>(e,r)=>{t&&Za.postRender(()=>t(e,r))};class wde extends cm{constructor(){super(...arguments),this.removePointerDownListener=pc}onPointerDown(e){this.session=new wK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:AR(e),onStart:AR(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&Za.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=db(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const S2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ky={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xr.test(t))t=parseFloat(t);else return t;const r=TR(t,e.target.x),n=TR(t,e.target.y);return`${r}% ${n}%`}},jde={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=tm.parse(t);if(a.length>5)return n;const s=tm.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const u=oi(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}};let mC=!1;class Nde extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=e;Wce(Sde),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),mC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),S2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,mC=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Za.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ME.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;mC=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NK(t){const[e,r]=WY(),n=y.useContext(lE);return i.jsx(Nde,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(nK),isPresent:e,safeToRemove:r})}const Sde={borderRadius:{...ky,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ky,borderTopRightRadius:ky,borderBottomLeftRadius:ky,borderBottomRightRadius:ky,boxShadow:jde};function kde(t,e,r){const n=ho(t)?t:Og(t);return n.start(HE("",n,e,r)),n.animation}const Cde=(t,e)=>t.depth-e.depth;class _de{constructor(){this.children=[],this.isDirty=!1}add(e){dE(this.children,e),this.isDirty=!0}remove(e){fE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cde),this.isDirty=!1,this.children.forEach(e)}}function Ade(t,e){const r=ol.now(),n=({timestamp:a})=>{const s=a-r;s>=e&&(em(n),t(s-e))};return Za.setup(n,!0),()=>em(n)}const SK=["TopLeft","TopRight","BottomLeft","BottomRight"],Tde=SK.length,MR=t=>typeof t=="string"?parseFloat(t):t,OR=t=>typeof t=="number"||Xr.test(t);function Mde(t,e,r,n,a,s){a?(t.opacity=oi(0,r.opacity??1,Ode(n)),t.opacityExit=oi(e.opacity??1,0,Ede(n))):s&&(t.opacity=oi(e.opacity??1,r.opacity??1,n));for(let o=0;o<Tde;o++){const l=`border${SK[o]}Radius`;let c=ER(e,l),u=ER(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||OR(c)===OR(u)?(t[l]=Math.max(oi(MR(c),MR(u),n),0),(ed.test(u)||ed.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=oi(e.rotate||0,r.rotate||0,n))}function ER(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ode=kK(0,.5,dY),Ede=kK(.5,.95,pc);function kK(t,e,r){return n=>n<t?0:n>e?1:r(Rb(t,e,n))}function DR(t,e){t.min=e.min,t.max=e.max}function Zl(t,e){DR(t.x,e.x),DR(t.y,e.y)}function PR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LR(t,e,r,n,a){return t-=e,t=rj(t,1/r,n),a!==void 0&&(t=rj(t,1/a,n)),t}function Dde(t,e=0,r=1,n=.5,a,s=t,o=t){if(ed.test(e)&&(e=parseFloat(e),e=oi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=oi(s.min,s.max,n);t===s&&(l-=e),t.min=LR(t.min,e,r,l,a),t.max=LR(t.max,e,r,l,a)}function RR(t,e,[r,n,a],s,o){Dde(t,e[r],e[n],e[a],e.scale,s,o)}const Pde=["x","scaleX","originX"],Lde=["y","scaleY","originY"];function IR(t,e,r,n){RR(t.x,e,Pde,r?r.x:void 0,n?n.x:void 0),RR(t.y,e,Lde,r?r.y:void 0,n?n.y:void 0)}function FR(t){return t.translate===0&&t.scale===1}function CK(t){return FR(t.x)&&FR(t.y)}function $R(t,e){return t.min===e.min&&t.max===e.max}function Rde(t,e){return $R(t.x,e.x)&&$R(t.y,e.y)}function BR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _K(t,e){return BR(t.x,e.x)&&BR(t.y,e.y)}function HR(t){return Oo(t.x)/Oo(t.y)}function zR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ide{constructor(){this.members=[]}add(e){dE(this.members,e),e.scheduleRender()}remove(e){if(fE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fde(t,e,r){let n="";const a=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:m,rotateY:g,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),g&&(n+=`rotateY(${g}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const pC=["","X","Y","Z"],$de=1e3;let Bde=0;function gC(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function AK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=hK(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Za,!(a||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&AK(n)}function TK({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Bde++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qde),this.nodes.forEach(Gde),this.nodes.forEach(Yde),this.nodes.forEach(Ude)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _de)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UY(o)&&!Mce(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;Za.read(()=>{m=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,f&&f(),f=Ade(g,250),S2.hasAnimatedSinceResize&&(S2.hasAnimatedSinceResize=!1,this.nodes.forEach(WR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Zde,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),N=!this.targetLayout||!_K(this.targetLayout,p),k=!m&&g;if(this.options.layoutRoot||this.resumeFrom||k||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...AE(v,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,k)}else m||WR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),em(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kde),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(UR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vde),this.nodes.forEach(Hde),this.nodes.forEach(zde)):this.nodes.forEach(UR),this.clearAllSnapshots();const l=ol.now();Vs.delta=_f(0,1e3/60,l-Vs.timestamp),Vs.timestamp=l,Vs.isProcessing=!0,aC.update.process(Vs),aC.preRender.process(Vs),aC.render.process(Vs),Vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ME.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wde),this.sharedNodes.forEach(Xde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Za.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Za.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oo(this.snapshot.measuredBox.x)&&!Oo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!CK(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||zm(this.latestValues)||f)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),efe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Pi();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(tfe))){const{scroll:f}=this.root;f&&(ng(l.x,f.offset.x),ng(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Pi();if(Zl(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Zl(l,o),ng(l.x,m.offset.x),ng(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Pi();Zl(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ag(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),zm(f.latestValues)&&ag(c,f.latestValues)}return zm(this.latestValues)&&ag(c,this.latestValues),c}removeTransform(o){const l=Pi();Zl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zm(u.latestValues))continue;pM(u.latestValues)&&u.updateSnapshot();const f=Pi(),m=u.measurePageBox();Zl(f,m),IR(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return zm(this.latestValues)&&IR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Vs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pi(),this.relativeTargetOrigin=Pi(),hb(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pi(),this.targetWithTransforms=Pi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ode(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zl(this.target,this.layout.layoutBox),oK(this.target,this.targetDelta)):Zl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pi(),this.relativeTargetOrigin=Pi(),hb(this.relativeTargetOrigin,this.target,p.target),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pM(this.parent.latestValues)||sK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Zl(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;bue(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pi());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PR(this.prevProjectionDelta.x,this.projectionDelta.x),PR(this.prevProjectionDelta.y,this.projectionDelta.y)),fb(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!zR(this.projectionDelta.x,this.prevProjectionDelta.x)||!zR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ig(),this.projectionDelta=ig(),this.projectionDeltaWithTransform=ig()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},m=ig();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Pi(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,b=this.getStack(),N=!b||b.members.length<=1,k=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(Qde));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const _=A/1e3;VR(m.x,o.x,_),VR(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hb(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jde(this.relativeTarget,this.relativeTargetOrigin,g,_),S&&Rde(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Pi()),Zl(S,this.relativeTarget)),w&&(this.animationValues=f,Mde(f,u,this.latestValues,_,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(em(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Za.update(()=>{S2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Og(0)),this.currentAnimation=kde(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($de),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&MK(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pi();const m=Oo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=Oo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Zl(l,c),ag(l,f),fb(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ide),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&gC("z",o,u,this.animationValues);for(let f=0;f<pC.length;f++)gC(`rotate${pC[f]}`,o,u,this.animationValues),gC(`skew${pC[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=N2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=N2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!zm(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=Fde(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:g,y:p}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Bb){if(f[v]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:N}=Bb[v],k=m==="none"?f[v]:w(f[v],u);if(b){const S=b.length;for(let A=0;A<S;A++)o[b[A]]=k}else N?this.options.visualElement.renderState.vars[v]=k:o[v]=k}this.options.layoutId&&(o.pointerEvents=u===this?N2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(qR),this.root.sharedNodes.clear()}}}function Hde(t){t.updateLayout()}function zde(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ac(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],p=Oo(g);g.min=n[m].min,g.max=g.min+p}):MK(s,e.layoutBox,n)&&ac(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],p=Oo(n[m]);g.max=g.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+p)});const l=ig();fb(l,n,e.layoutBox);const c=ig();o?fb(c,t.applyTransform(a,!0),e.measuredBox):fb(c,n,e.layoutBox);const u=!CK(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:p}=m;if(g&&p){const v=Pi();hb(v,e.layoutBox,g.layoutBox);const w=Pi();hb(w,n,p.layoutBox),_K(v,w)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ude(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wde(t){t.clearSnapshot()}function qR(t){t.clearMeasurements()}function UR(t){t.isLayoutDirty=!1}function Vde(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gde(t){t.resolveTargetDelta()}function Yde(t){t.calcProjection()}function Kde(t){t.resetSkewAndRotation()}function Xde(t){t.removeLeadSnapshot()}function VR(t,e,r){t.translate=oi(e.translate,0,r),t.scale=oi(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function GR(t,e,r,n){t.min=oi(e.min,r.min,n),t.max=oi(e.max,r.max,n)}function Jde(t,e,r,n){GR(t.x,e.x,r.x,n),GR(t.y,e.y,r.y,n)}function Qde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Zde={duration:.45,ease:[.4,0,.1,1]},YR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),KR=YR("applewebkit/")&&!YR("chrome/")?Math.round:pc;function XR(t){t.min=KR(t.min),t.max=KR(t.max)}function efe(t){XR(t.x),XR(t.y)}function MK(t,e,r){return t==="position"||t==="preserve-aspect"&&!sde(HR(e),HR(r),.2)}function tfe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rfe=TK({attachResizeListener:(t,e)=>Hb(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xC={current:void 0},OK=TK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xC.current){const t=new rfe({});t.mount(window),t.setOptions({layoutScroll:!0}),xC.current=t}return xC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nfe={pan:{Feature:wde},drag:{Feature:vde,ProjectionNode:OK,MeasureLayout:NK}};function JR(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&Za.postRender(()=>s(e,Kv(e)))}class afe extends cm{mount(){const{current:e}=this.node;e&&(this.unmount=kce(e,(r,n)=>(JR(this.node,n,"Start"),a=>JR(this.node,a,"End"))))}unmount(){}}class ife extends cm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vv(Hb(this.node.current,"focus",()=>this.onFocus()),Hb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QR(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&Za.postRender(()=>s(e,Kv(e)))}class sfe extends cm{mount(){const{current:e}=this.node;e&&(this.unmount=Tce(e,(r,n)=>(QR(this.node,n,"Start"),(a,{success:s})=>QR(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jM=new WeakMap,yC=new WeakMap,ofe=t=>{const e=jM.get(t.target);e&&e(t)},lfe=t=>{t.forEach(ofe)};function cfe({root:t,...e}){const r=t||document;yC.has(r)||yC.set(r,{});const n=yC.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(lfe,{root:t,...e})),n[a]}function ufe(t,e,r){const n=cfe(e);return jM.set(t,r),n.observe(t),()=>{jM.delete(t),n.unobserve(t)}}const dfe={some:0,all:1};class ffe extends cm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:dfe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=u?f:m;g&&g(c)};return ufe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(hfe(e,r))&&this.startObserver()}unmount(){}}function hfe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const mfe={inView:{Feature:ffe},tap:{Feature:sfe},focus:{Feature:ife},hover:{Feature:afe}},pfe={layout:{ProjectionNode:OK,MeasureLayout:NK}},gfe={...ede,...mfe,...nfe,...pfe},E=gue(gfe,Tue);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yfe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),ZR=t=>{const e=yfe(t);return e.charAt(0).toUpperCase()+e.slice(1)},EK=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),bfe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...vfe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:EK("lucide",a),...!s&&!bfe(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>y.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(wfe,{ref:s,iconNode:e,className:EK(`lucide-${xfe(ZR(t))}`,`lucide-${t}`,n),...a}));return r.displayName=ZR(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hc=qt("activity",jfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Sfe=qt("align-center",Nfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],Cfe=qt("align-justify",kfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Afe=qt("align-left",_fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Mfe=qt("align-right",Tfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Efe=qt("archive",Ofe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dn=qt("arrow-left",Dfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lfe=qt("arrow-right",Pfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zE=qt("bell",Rfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Ffe=qt("bold",Ife);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],of=qt("book-open",$fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Hfe=qt("box",Bfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],DK=qt("boxes",zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Sp=qt("building",qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],La=qt("calendar",Ufe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Vfe=qt("camera",Wfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Xv=qt("chart-bar",Gfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],cu=qt("chart-no-axes-column",Yfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ja=qt("chevron-down",Kfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],If=qt("chevron-left",Xfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Na=qt("chevron-right",Jfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nj=qt("chevron-up",Qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],eI=qt("circle-alert",Zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wr=qt("circle-check-big",ehe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],PK=qt("circle-play",the);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qE=qt("circle-x",rhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Cn=qt("clipboard",nhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kr=qt("clock",ahe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],she=qt("code",ihe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],lhe=qt("component",ohe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],uhe=qt("computer",che);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fhe=qt("credit-card",dhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],kN=qt("database",hhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],UE=qt("external-link",mhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Io=qt("eye",phe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Uh=qt("file-text",ghe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],yhe=qt("file",xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],vhe=qt("folder-plus",bhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],LK=qt("folder",whe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Nhe=qt("frown",jhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],po=qt("funnel",She);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],RK=qt("git-branch",khe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_he=qt("globe",Che);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],The=qt("hammer",Ahe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Ohe=qt("heading-1",Mhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Dhe=qt("heading-2",Ehe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Lhe=qt("heading-3",Phe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dg=qt("history",Rhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],bn=qt("hourglass",Ihe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Jv=qt("house",Fhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qi=qt("info",$he);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Hhe=qt("italic",Bhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Pg=qt("key",zhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Uhe=qt("layers",qhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],IK=qt("life-buoy",Whe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Ghe=qt("link",Vhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],zb=qt("list-check",Yhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],NM=qt("list-checks",Khe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Jhe=qt("list-ordered",Xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],kx=qt("list-plus",Qhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],FK=qt("list",Zhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],aj=qt("loader",eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rme=qt("lock",tme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ame=qt("log-out",nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cx=qt("mail",ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yc=qt("map-pin",sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],mg=qt("message-square",ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],_x=qt("monitor",lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],$K=qt("moon",cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Qa=qt("package",ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],fme=qt("paint-bucket",dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],mme=qt("palette",hme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],bc=qt("paperclip",pme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],td=qt("phone",gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],yme=qt("pilcrow",xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qi=qt("plus",bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],tI=qt("printer",vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],jme=qt("receipt",wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Sme=qt("redo-2",Nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cme=qt("refresh-cw",kme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],Ame=qt("remove-formatting",_me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],Mme=qt("save-all",Tme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rn=qt("save",Ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_i=qt("search",Eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$i=qt("settings",Dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Lme=qt("shopping-cart",Pme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BK=qt("square-check-big",Rme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Si=qt("square-pen",Ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],$me=qt("strikethrough",Fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],SM=qt("sun",Bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],Pl=qt("tool-case",Hme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ma=qt("trash-2",zme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lf=qt("trending-up",qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yr=qt("triangle-alert",Ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],HK=qt("type",Wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Gme=qt("undo-2",Vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],go=qt("upload",Yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rI=qt("user-check",Kme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ij=qt("user-cog",Xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Qme=qt("user-plus",Jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],un=qt("user",Zme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zi=qt("users",epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],pg=qt("warehouse",tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],ia=qt("wrench",rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zt=qt("x",npe),xs=he.memo(({icon:t,text:e,to:r,expanded:n})=>{const a=ar(),o=Ui().pathname===r;return i.jsxs(E.button,{onClick:()=>a(r),whileHover:{backgroundColor:o?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${o?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
      `,children:[i.jsx("span",{className:`text-xl transition-colors duration-200 ${o?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&i.jsx(E.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),ape=()=>{const[t,e]=y.useState(()=>{const c=localStorage.getItem("sidebarOpen");return c?JSON.parse(c):!1}),[r,n]=y.useState(window.innerWidth<768),{user:a,hasPermission:s}=ir(),o=y.useRef(null);y.useEffect(()=>{const c=o.current;if(c){const u=sessionStorage.getItem("sidebarScrollPos");u&&(c.scrollTop=parseInt(u,10));const f=()=>{sessionStorage.setItem("sidebarScrollPos",c.scrollTop.toString())};return c.addEventListener("scroll",f),()=>{c.removeEventListener("scroll",f)}}},[]);const l=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(c=>!c)};return i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:i.jsx(sr,{children:(!r||t)&&i.jsxs(E.div,{initial:{width:r?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:`bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden ${r?"fixed z-50 h-full":""}`,children:[i.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:Mg,alt:"Logo Wida",className:"h-9 w-auto"}),i.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):i.jsx("img",{src:Mg,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),i.jsx("button",{onClick:l,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?i.jsx(If,{className:"text-xl"}):i.jsx(Na,{className:"text-xl"})})]}),i.jsxs("nav",{ref:o,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[s("1")&&i.jsx(xs,{icon:i.jsx(Jv,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),s("23")&&i.jsx(xs,{icon:i.jsx(zb,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(Dg,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(Dg,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),s("23")&&i.jsx(xs,{icon:i.jsx(yc,{}),text:"Work Location",to:"/worklocation",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(zi,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),s("15")&&i.jsx(xs,{icon:i.jsx(Pg,{}),text:"User Management",to:"/permissions",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(ia,{}),text:"Spare Part",to:"/sparepart",expanded:t}),s("3")&&i.jsx(xs,{icon:i.jsx(Qa,{}),text:"Assets",to:"/assets",expanded:t}),s("3")&&i.jsx(xs,{icon:i.jsx(Qa,{}),text:"Vendors",to:"/vendors",expanded:t}),s("3")&&i.jsx(xs,{icon:i.jsx(IK,{}),text:"Services",to:"/services",expanded:t}),s("3")&&i.jsx(xs,{icon:i.jsx(Pl,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),s("31")&&i.jsx(xs,{icon:i.jsx(Xv,{}),text:"Machine History",to:"/machinehistory",expanded:t}),s("31")&&i.jsx(xs,{icon:i.jsx(_x,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),s("7")&&i.jsx(xs,{icon:i.jsx(Cn,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),s("23")&&i.jsx(xs,{icon:i.jsx(lhe,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(Lme,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(jme,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),s("23")&&i.jsx(xs,{icon:i.jsx(Efe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(a==null?void 0:a.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),i.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})," "]})]})})]})})})},rr=he.memo(ape),nI=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:i.jsx(Yr,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:i.jsx(La,{className:"text-blue-500"})}],aI={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},hr=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:a,toggleSidebar:s})=>{const{user:o,logout:l}=ir(),c=ar(),u=Ui(),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(!1),b=y.useRef(null),N=y.useRef(null);y.useEffect(()=>{const _=O=>{b.current&&!b.current.contains(O.target)&&m(!1),N.current&&!N.current.contains(O.target)&&p(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=u.pathname.split("/").filter(L=>L!==""),O=[];O.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let I="";for(let L=0;L<_.length;L++){const R=_[L];if(I+=`/${R}`,/^\d+$/.test(R)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R))continue;const B=aI[I]||R.charAt(0).toUpperCase()+R.slice(1).replace(/([A-Z])/g," $1");O.push({label:B,path:I,isClickable:L<_.length-1&&aI[I]!==void 0})}return O})(),A=n.props.className||"";return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[a&&i.jsx(E.button,{onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:i.jsx(Na,{className:"text-xl"})}),he.cloneElement(n,{className:`text-xl text-blue-600 ${A}`}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})]}),i.jsxs("div",{className:"flex items-center space-x-3 relative",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!v),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":v?"Switch to light mode":"Switch to dark mode",children:v?i.jsx(SM,{className:"text-yellow-400 text-xl"}):i.jsx($K,{className:"text-xl"})}),i.jsxs("div",{className:"relative",ref:b,children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!f),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[i.jsx(zE,{className:"text-xl"}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),i.jsx(sr,{children:f&&i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),i.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:nI.length>0?nI.map(_=>i.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&i.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):i.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),i.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:i.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),i.jsxs("div",{className:"relative",ref:N,children:[i.jsxs(E.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>p(!g),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[i.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),i.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),i.jsx(ja,{className:"text-gray-500 text-base"})]}),i.jsx(sr,{children:g&&i.jsxs(E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[i.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),i.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),i.jsxs("button",{onClick:()=>{c("/settings"),p(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[i.jsx($i,{size:16,className:"mr-2"})," Settings"]}),i.jsx("hr",{className:"my-1 border-gray-100"}),i.jsxs("button",{onClick:()=>{c("/logout")},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[i.jsx(ame,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),i.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:i.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,O)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[O===0?i.jsx(Jv,{size:16,className:"text-gray-400"}):i.jsx(Na,{size:16,className:"text-gray-400"}),_.isClickable?i.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):i.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})},gw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},iI=()=>{var D;const[t,e]=y.useState(!1),[r,n]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[a,s]=y.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=ir(),[u,f]=y.useState(null),m=ar(),[g,p]=y.useState(!1),[v,w]=y.useState(window.innerWidth<768),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=y.useRef(null),_=y.useRef(null);y.useEffect(()=>{const M=()=>{w(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useEffect(()=>{const M=H=>{A.current&&!A.current.contains(H.target)&&N(!1),_.current&&!_.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const O=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:i.jsx(lf,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:i.jsx(Yr,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:i.jsx(wr,{className:"text-blue-500"}),date:"Jul 28, 2023"}],I=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],L={total:142,running:118,maintenance:15,breakdown:5,idle:4},R={total:86,overdue:5},B=()=>{p(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(M=>!M)};return y.useEffect(()=>{s(1),(async()=>{try{const H=await l("/protected-data");f(H)}catch(H){console.error("Failed to fetch data:",H)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Jv,{}),isMobile:v,toggleSidebar:B}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((D=o==null?void 0:o.roles)==null?void 0:D[0]),"!"]}),i.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(gw,{title:"Total Assets",value:L.total.toString(),change:"+8%",icon:i.jsx(Qa,{})}),i.jsx(gw,{title:"Assets Running",value:L.running.toString(),change:"+5%",icon:i.jsx(wr,{})}),i.jsx(gw,{title:"Work Orders",value:R.total.toString(),change:"-3%",icon:i.jsx(Cn,{})}),i.jsx(gw,{title:"Overdue Tasks",value:R.overdue.toString(),change:"+2%",icon:i.jsx(kr,{})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs(E.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-4",children:O.map(M=>i.jsxs(E.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[i.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:M.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-800",children:M.title}),i.jsx("p",{className:"text-sm text-gray-600",children:M.description}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.date})]})]},M.id))})]}),i.jsxs(E.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(cu,{className:"mx-auto text-4xl mb-2"}),i.jsx("p",{children:"Asset Status Chart"})]})}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(L.running/L.total*100),"%)"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(L.maintenance/L.total*100),"%)"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(L.breakdown/L.total*100),"%)"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(L.idle/L.total*100),"%)"]})]})]})]})]}),i.jsxs("div",{children:[i.jsxs(E.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-4",children:I.map(M=>i.jsx(E.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(E.img,{whileHover:{rotate:5},src:M.avatar,alt:M.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center flex-wrap",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:M.name}),i.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:M.role})]}),i.jsx("p",{className:"text-sm mt-1 text-gray-700",children:M.comment}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.time})]})]})},M.id))})]}),i.jsxs(E.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),i.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:i.jsx(Cn,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:i.jsx(Qa,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:i.jsx(mg,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:i.jsx(cu,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((M,H)=>i.jsxs(E.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:M.onClick,children:[i.jsx("span",{children:M.text}),M.icon]},H))})]})]})]})]})]})]})},ipe=()=>i.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:i.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),Co=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:a}=ir(),s=ar(),o=Ui();return y.useEffect(()=>{if(!a){if(!e){s("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&s("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,s,o,a]),a?i.jsx(ipe,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?i.jsx(Bse,{}):null},spe=()=>{const[t,e]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(""),[o,l]=y.useState(!1),c=async u=>{u.preventDefault(),n(""),s(""),l(!0);try{await new Promise(f=>setTimeout(f,1e3)),s(`Password reset link sent to ${t}`),e("")}catch(f){n(f instanceof Error?f.message:"Failed to send reset link")}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"rounded-lg flex items-center justify-center",children:i.jsx("img",{src:Mg,alt:"Logo Wida",className:"h-20 w-auto"})}),i.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),i.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&i.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{children:r})]}),a&&i.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{children:a})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:u=>e(u.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),i.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),i.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",i.jsx(Zh,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},ope=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:i.jsx("div",{className:"w-full max-w-4xl",children:i.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"rounded-lg flex items-center justify-center",children:i.jsx("img",{src:Mg,alt:"Logo Wida",className:"h-20 w-auto"})}),i.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),i.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),i.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),i.jsx("p",{children:"We collect personal information when you register, including:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Full name and contact details"}),i.jsx("li",{children:"Professional credentials (for healthcare providers)"}),i.jsx("li",{children:"Usage data and cookies"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),i.jsx("p",{children:"Your data helps us:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Provide pharmaceutical services"}),i.jsx("li",{children:"Secure your account with authentication"}),i.jsx("li",{children:"Improve our platform"}),i.jsx("li",{children:"Comply with legal requirements"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),i.jsx("p",{children:"We implement security measures including:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Encryption of sensitive data"}),i.jsx("li",{children:"Regular security audits"}),i.jsx("li",{children:"Access controls to personal information"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),i.jsx("p",{children:"We only share data with:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Verified healthcare partners (with consent)"}),i.jsx("li",{children:"Legal authorities when required"}),i.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),i.jsx("p",{children:"You may request to:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Access your personal data"}),i.jsx("li",{children:"Correct inaccurate information"}),i.jsx("li",{children:"Delete your account data"}),i.jsx("li",{children:"Opt-out of marketing communications"})]})]}),i.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[i.jsx(Zh,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),lpe=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],cpe=()=>{const{logout:t,isLoggingOut:e}=ir(),[r,n]=y.useState(null),[a,s]=y.useState(!1),[o]=y.useState(lpe[0]),[l,c]=y.useState(!1);y.useEffect(()=>{s(!0);let p;return c(!0),p=setTimeout(()=>{c(!1)},500),()=>{clearTimeout(p)}},[]);const u={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},f=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(p){n("Failed to logout. Please try again."),console.error("Logout error:",p)}},g=()=>{window.history.back()};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:i.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[i.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${a?"opacity-100":"opacity-0"}`,children:[i.jsx("img",{src:Mg,alt:"Logo Wida",className:"h-10 w-auto"}),i.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),i.jsx("h1",{style:{...u,...f},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${a?"opacity-100":"opacity-0"}`,children:o}),i.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),i.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${a?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?i.jsx(i.Fragment,{children:i.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:i.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):i.jsxs(i.Fragment,{children:[r&&i.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{children:r})]}),i.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[i.jsx(Poe,{className:"mr-2"}),"Yes, Sign Out Now"]}),i.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:i.jsxs("button",{onClick:g,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[i.jsx(oE,{className:"mr-2"}),"No, Stay Logged In"]})})]}),i.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${a?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",i.jsx(Zh,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(Doe,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),i.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:i.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${a?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),i.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${a?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),i.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),i.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[i.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),i.jsx("div",{className:"text-purple-300 animate-pulse-light",children:i.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),i.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[i.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:i.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),i.jsx("p",{children:"Security check on exit completed"})]})]}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:i.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},xw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[r," from last month"]})]})},upe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,dpe=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[a,s]=y.useState(t);y.useEffect(()=>{s(t)},[t]);const o=u=>{u.preventDefault(),r(a)},l=({title:u,children:f,icon:m})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[m&&i.jsx("div",{className:"mr-3 text-blue-600",children:m}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u})]})}),i.jsx("div",{className:"p-6",children:f})]}),c=({label:u,value:f,icon:m,fullWidth:g=!1,priority:p="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${g?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${v[p]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[m&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:m}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:u}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:f})]})]})})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.name}),i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${a.status==="running"?"bg-green-100 text-green-800 border border-green-300":a.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":a.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"w-4 h-4"}),"Asset ID: ",a.id]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($i,{className:"w-4 h-4"}),"Type: ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]})})}),i.jsx(l,{title:"Basic Information",icon:i.jsx(Qa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(c,{label:"Asset ID",value:a.id,icon:i.jsx(Pg,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Asset Name",value:a.name,icon:i.jsx(Qa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Asset Type",value:a.type.charAt(0).toUpperCase()+a.type.slice(1),icon:i.jsx($i,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Make",value:a.make,icon:i.jsx(ia,{className:"w-4 h-4"})}),i.jsx(c,{label:"Model",value:a.model,icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(c,{label:"Location",value:a.location,icon:i.jsx(Jv,{className:"w-4 h-4"})})]})}),i.jsx(l,{title:"Status & Maintenance",icon:i.jsx(Cn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(c,{label:"Current Status",value:a.status.charAt(0).toUpperCase()+a.status.slice(1),icon:i.jsx(wr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Last Maintenance",value:a.lastMaintenance,icon:i.jsx(La,{className:"w-4 h-4"})}),i.jsx(c,{label:"Next Maintenance",value:a.nextMaintenance,icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Work Orders",value:a.workOrders.toString(),icon:i.jsx(Cn,{className:"w-4 h-4"})}),i.jsx(c,{label:"Health Status",value:`${a.health}`,icon:i.jsx(cu,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(l,{title:"Technical Details",icon:i.jsx(ia,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Make:"})," ",a.make]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Model:"})," ",a.model]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Health Status:"})," ",a.health]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",a.workOrders]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status.charAt(0).toUpperCase()+a.status.slice(1)]})]})]})]})}),i.jsx(l,{title:"Maintenance Timeline",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),i.jsx("span",{className:"text-sm text-green-600",children:a.lastMaintenance})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),i.jsx("span",{className:"text-sm text-blue-600",children:a.nextMaintenance})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),i.jsx("span",{className:"text-sm text-yellow-600",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]})}),i.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&i.jsx(E.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},fpe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(()=>{const Je=localStorage.getItem("sidebarOpen");return Je?JSON.parse(Je):!1}),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState("all"),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(!1),[b,N]=y.useState(null),[k,S]=y.useState(!1),[A,_]=y.useState(1),[O]=y.useState(5),{user:I,fetchWithAuth:L,hasPermission:R,getAssetsData:B,deleteAsset:D}=ir(),[M,H]=y.useState(null),G=ar(),[Y,W]=y.useState(!1),[$,q]=y.useState(window.innerWidth<768),[Z,ce]=y.useState(!1),[X,U]=y.useState(!1),J=y.useRef(null),ee=y.useRef(null),[ne,ue]=y.useState([]),[Ae,ke]=y.useState(!1),[je,Ce]=y.useState(null),[Be,fe]=y.useState(!1),[ge,ae]=y.useState(null),ie=(Je,Le)=>{ae({id:Je,name:Le}),fe(!0)},ht=async()=>{if(ge){if(console.log("Attempting to delete asset with ID:",ge.id),!ge.id){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await D(ge.id),ue(ne.filter(Je=>String(Je.id)!==ge.id)),console.log(`Asset with ID: ${ge.id} deleted successfully.`),fe(!1),ae(null)}catch(Je){console.error("Failed to delete asset:",Je),alert("Failed to delete asset.")}}},ut=()=>{fe(!1),ae(null)};y.useEffect(()=>{const Je=()=>{q(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Je),()=>window.removeEventListener("resize",Je)},[]),y.useEffect(()=>{const Je=Le=>{J.current&&!J.current.contains(Le.target)&&ce(!1),ee.current&&!ee.current.contains(Le.target)&&U(!1)};return document.addEventListener("mousedown",Je),()=>{document.removeEventListener("mousedown",Je)}},[]);const Pe=async()=>{ke(!0),Ce(null);try{const Je=await B();ue(Je)}catch(Je){Ce("Failed to load data from ERP."),console.error("Error fetching ERP data:",Je)}finally{ke(!1)}},Ke=()=>{W(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Je=>!Je)},yt=ne.filter(Je=>{const Le=String(Je.id),et=a.toLowerCase();return Je.name.toLowerCase().includes(et)||Le.toLowerCase().includes(et)||Je.category.toLowerCase().includes(et)||Je.location.toLowerCase().includes(et)}),Qe=A*O,Tt=Qe-O,_t=yt.slice(Tt,Qe),Se=Math.ceil(yt.length/O),gt=Je=>_(Je);y.useEffect(()=>{_(1),(async()=>{try{const Le=await L("/protected-data");H(Le)}catch(Le){console.error("Failed to fetch data:",Le)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[a,o,c,r,t,L]);const at=Je=>{N(Je),w(!0),S(!1)},kt=(()=>{if(ne.length===0)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const Je=ne.length,Le=new Date,et=ne.filter(qe=>qe.status==="Aktif"||qe.status!==null).length,lt=ne.filter(qe=>qe.nextMaintenance?new Date(qe.nextMaintenance)<=Le:!1).length,be=ne.filter(qe=>qe.health==="Buruk"||qe.health==="Critical").length,me=lt+be;return{total:Je,active:et,maintenance:lt,critical:be,maintenanceDue:lt,needsAttention:me}})(),Ee=kt.total>0?Math.round(kt.active/kt.total*100):0,vt=kt.total>0?Math.round(kt.maintenance/kt.total*100):0,bt=kt.total>0?Math.round(kt.critical/kt.total*100):0;return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Qa,{}),isMobile:$,toggleSidebar:Ke}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(E.button,{onClick:Pe,disabled:Ae,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${Ae?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(kN,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:Ae?"Loading...":"Load Data from ERP"})]}),i.jsxs(E.button,{onClick:()=>G("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Asset"})]}),i.jsxs(E.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Import"})]}),i.jsxs(E.button,{onClick:()=>m(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(po,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Filters"}),f?i.jsx(nj,{}):i.jsx(ja,{})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(xw,{title:"Total Assets",value:kt.total.toString(),change:`${kt.total} units`,icon:i.jsx(Qa,{})}),i.jsx(xw,{title:"Active Assets",value:kt.active.toString(),change:`${Ee}% operational`,icon:i.jsx(wr,{})}),i.jsx(xw,{title:"Due Maintenance",value:kt.maintenance.toString(),change:`${vt}% need service`,icon:i.jsx(ia,{})}),i.jsx(xw,{title:"Critical Issues",value:kt.critical.toString(),change:`${bt}% critical`,icon:i.jsx(Yr,{})})]}),i.jsx(E.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:Je=>s(Je.target.value)})]}),i.jsx(sr,{children:f&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Je=>l(Je.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"maintenance",children:"Maintenance"}),i.jsx("option",{value:"breakdown",children:"Breakdown"}),i.jsx("option",{value:"idle",children:"Idle"})]}),i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:Je=>u(Je.target.value),children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"mechanical",children:"Mechanical"}),i.jsx("option",{value:"electrical",children:"Electrical"}),i.jsx("option",{value:"vehicle",children:"Vehicle"}),i.jsx("option",{value:"building",children:"Building"})]})]})})]})}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[Ae&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),je&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx(Yr,{className:"text-red-500 mr-2"}),je]})})}),!Ae&&ne.length===0&&!je&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx(Qa,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),_t.length>0&&_t.map((Je,Le)=>{const et=Tt+Le;return i.jsxs(E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:et+1})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"ml-0",children:[" ",i.jsx("div",{className:"text-base font-medium text-gray-900",children:Je.name}),i.jsx("div",{className:"text-sm text-gray-600",children:Je.category})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:Je.location})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:Je.purchaseDate})," "]}),i.jsxs("td",{className:"px-6 py-4",children:[" ",i.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:Je.description})," "]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(E.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>G(`/assets/assetsdata/editasset/${Je.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:i.jsx(Si,{className:"w-5 h-5"})}),i.jsx(E.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>ie(String(Je.id),Je.name),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:i.jsx(Ma,{className:"w-5 h-5"})}),i.jsx(E.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>at(Je),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:i.jsx(Io,{className:"w-5 h-5"})})]})})]},Je.id)})]})]})})}),yt.length>O&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Tt+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(Qe,yt.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:yt.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(A-1),disabled:A===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Se},(Je,Le)=>i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(Le+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${A===Le+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Le+1},Le+1)),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(A+1),disabled:A===Se,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),b&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k?"Edit Asset":"Asset Details"}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{w(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:i.jsx(dpe,{asset:b,isEditing:k,onSave:()=>{},onCancel:()=>{w(!1),N(null),S(!1)}})})]})}),i.jsx(upe,{isOpen:Be,onClose:ut,title:"Confirm Delete",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(Yr,{className:"text-yellow-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",i.jsx("strong",{children:ge==null?void 0:ge.name})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ut,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ht,className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},hpe=()=>{var D;const{user:t,hasPermission:e,logout:r}=ir(),n=ar();Ui();const[a,s]=y.useState(!1),[o,l]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[c,u]=y.useState(window.innerWidth<768),[f,m]=y.useState("profile"),[g,p]=y.useState(!1),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=y.useRef(null);y.useEffect(()=>{const M=()=>{u(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useEffect(()=>{const M=H=>{k.current&&!k.current.contains(H.target)&&N(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const[S,A]=y.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(M=>!M)},O=M=>{const{name:H,value:G,type:Y}=M.target,W=Y==="checkbox"?M.target.checked:void 0;A($=>({...$,[H]:Y==="checkbox"?W:G}))},I=()=>{p(!1)},L=({title:M,children:H})=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:M}),H]}),R=({label:M,value:H,children:G,editable:Y=!0,onEdit:W})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[i.jsxs("div",{className:"mb-2 sm:mb-0",children:[i.jsx("p",{className:"font-medium text-gray-700",children:M}),H!==void 0&&i.jsx("p",{className:"text-sm text-gray-600",children:typeof H=="boolean"?H?"Enabled":"Disabled":H})]}),Y&&i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),G]}),B=({isOpen:M,onClose:H,title:G,children:Y,actions:W})=>M?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:G}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:H,className:"text-gray-500 hover:text-gray-700",children:i.jsx(zt,{size:20})})]}),i.jsx("div",{className:"p-6",children:Y}),W&&i.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:W})]})}):null;return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx($i,{}),isMobile:c,toggleSidebar:_}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),i.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[i.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:i.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:i.jsx(un,{}),label:"Profile"},{id:"security",icon:i.jsx(rme,{}),label:"Security"},{id:"notifications",icon:i.jsx(zE,{}),label:"Notifications"},{id:"preferences",icon:i.jsx(SM,{}),label:"Preferences"},{id:"billing",icon:i.jsx(fhe,{}),label:"Billing"},{id:"team",icon:i.jsx(zi,{}),label:"Team Settings"},{id:"integrations",icon:i.jsx(_he,{}),label:"Integrations"},{id:"data",icon:i.jsx(kN,{}),label:"Data Management"}].map(M=>i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(M.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${f===M.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[i.jsx("span",{className:"text-xl mr-3 text-blue-500",children:M.icon}),i.jsx("span",{className:"text-base",children:M.label})]},M.id))})})}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[f==="profile"&&i.jsx(L,{title:"Profile Information",children:g?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",name:"name",value:S.name,onChange:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"text",name:"nik",value:S.email,onChange:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(R,{label:"Name",value:t==null?void 0:t.name,editable:!1}),i.jsx(R,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),i.jsx(R,{label:"Role",value:(D=t==null?void 0:t.roles)==null?void 0:D[0],editable:!1}),i.jsx(R,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),f==="security"&&i.jsxs(L,{title:"Security Settings",children:[i.jsx(R,{label:"Password",value:"",onEdit:()=>n("/settings/change-password")}),i.jsx(R,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),i.jsx(R,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),f==="notifications"&&i.jsxs(L,{title:"Notification Preferences",children:[i.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:O,className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsx(R,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),f==="preferences"&&i.jsxs(L,{title:"Preferences",children:[i.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),i.jsx(sr,{mode:"wait",children:i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(!a),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a?i.jsx(SM,{className:"text-yellow-400"}):i.jsx($K,{})},a?"sun-card":"moon-card")})]}),i.jsx(R,{label:"Language",value:"English",onEdit:()=>{}}),i.jsx(R,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),f==="billing"&&i.jsxs(L,{title:"Billing Information",children:[i.jsx(R,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),i.jsx(R,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),i.jsx(R,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),f==="team"&&i.jsxs(L,{title:"Team Settings",children:[i.jsx(R,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),i.jsx(R,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),i.jsx(R,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),f==="integrations"&&i.jsxs(L,{title:"Integrations",children:[i.jsx(R,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),i.jsx(R,{label:"Slack",value:"Not connected",onEdit:()=>{}}),i.jsx(R,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),f==="data"&&i.jsxs(L,{title:"Data Management",children:[i.jsx(R,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),i.jsx(R,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>w(!0)})]})]})]})]})})]}),i.jsxs(B,{isOpen:v,onClose:()=>w(!1),title:"Delete Account",children:[i.jsx("div",{className:"text-gray-700 mb-6",children:i.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function zK(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=zK(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Cr(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=zK(t))&&(n&&(n+=" "),n+=e);return n}const qK=6048e5,mpe=864e5,CN=6e4,_N=36e5,ppe=1e3,sI=Symbol.for("constructDateFrom");function fa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&sI in t?t[sI](e):t instanceof Date?new t.constructor(e):new Date(e)}function _r(t,e){return fa(e||t,t)}function iu(t,e,r){const n=_r(t,r==null?void 0:r.in);return isNaN(e)?fa((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function uu(t,e,r){const n=_r(t,r==null?void 0:r.in);if(isNaN(e))return fa(t,NaN);if(!e)return n;const a=n.getDate(),s=fa(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function UK(t,e,r){return fa(t,+_r(t)+e)}function gpe(t,e,r){return UK(t,e*_N)}let xpe={};function zp(){return xpe}function Tf(t,e){var l,c,u,f;const r=zp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=_r(t,e==null?void 0:e.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Lg(t,e){return Tf(t,{...e,weekStartsOn:1})}function WK(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getFullYear(),a=fa(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Lg(a),o=fa(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Lg(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function sj(t){const e=_r(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ff(t,...e){const r=fa.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function kp(t,e){const r=_r(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Rg(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e),s=kp(n),o=kp(a),l=+s-sj(s),c=+o-sj(o);return Math.round((l-c)/mpe)}function ype(t,e){const r=WK(t,e),n=fa(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Lg(n)}function kM(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*CN),n}function WE(t,e,r){return uu(t,e*3,r)}function bpe(t,e,r){return UK(t,e*1e3)}function oj(t,e,r){return iu(t,e*7,r)}function gf(t,e,r){return uu(t,e*12,r)}function oI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(a=>{!n&&typeof a=="object"&&(n=fa.bind(null,a));const s=_r(a,n);(!r||r<s||isNaN(+s))&&(r=s)}),fa(n,r||NaN)}function lI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(a=>{!n&&typeof a=="object"&&(n=fa.bind(null,a));const s=_r(a,n);(!r||r>s||isNaN(+s))&&(r=s)}),fa(n,r||NaN)}function vpe(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e);return+kp(n)==+kp(a)}function xf(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lj(t){return!(!xf(t)&&typeof t!="number"||isNaN(+_r(t)))}function cj(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function fp(t,e){const r=_r(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function uj(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e),s=n.getFullYear()-a.getFullYear(),o=fp(n)-fp(a);return s*4+o}function dj(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e);return n.getFullYear()-a.getFullYear()}function wpe(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e),s=cI(n,a),o=Math.abs(Rg(n,a));n.setDate(n.getDate()-s*o);const l=+(cI(n,a)===-s),c=s*(o-l);return c===0?0:c}function cI(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function VK(t,e){const r=_r(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function GK(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function CM(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function YK(t,e){const r=_r(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function KK(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function AN(t,e){const r=_r(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jpe(t,e){var l,c;const r=zp(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=_r(t,e==null?void 0:e.in),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Npe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Spe=(t,e,r)=>{let n;const a=Npe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const kpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ape={date:bC({formats:kpe,defaultWidth:"full"}),time:bC({formats:Cpe,defaultWidth:"full"}),dateTime:bC({formats:_pe,defaultWidth:"full"})},Tpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mpe=(t,e,r,n)=>Tpe[t];function Cy(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const Ope={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Epe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ppe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ipe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Fpe={ordinalNumber:Ipe,era:Cy({values:Ope,defaultWidth:"wide"}),quarter:Cy({values:Epe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cy({values:Dpe,defaultWidth:"wide"}),day:Cy({values:Ppe,defaultWidth:"wide"}),dayPeriod:Cy({values:Lpe,defaultWidth:"wide",formattingValues:Rpe,defaultFormattingWidth:"wide"})};function _y(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Bpe(l,m=>m.test(o)):$pe(l,m=>m.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function $pe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Bpe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Hpe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const zpe=/^(\d+)(th|st|nd|rd)?/i,qpe=/\d+/i,Upe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wpe={any:[/^b/i,/^(a|c)/i]},Vpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gpe={any:[/1/i,/2/i,/3/i,/4/i]},Ype={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e0e={ordinalNumber:Hpe({matchPattern:zpe,parsePattern:qpe,valueCallback:t=>parseInt(t,10)}),era:_y({matchPatterns:Upe,defaultMatchWidth:"wide",parsePatterns:Wpe,defaultParseWidth:"any"}),quarter:_y({matchPatterns:Vpe,defaultMatchWidth:"wide",parsePatterns:Gpe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_y({matchPatterns:Ype,defaultMatchWidth:"wide",parsePatterns:Kpe,defaultParseWidth:"any"}),day:_y({matchPatterns:Xpe,defaultMatchWidth:"wide",parsePatterns:Jpe,defaultParseWidth:"any"}),dayPeriod:_y({matchPatterns:Qpe,defaultMatchWidth:"any",parsePatterns:Zpe,defaultParseWidth:"any"})},XK={code:"en-US",formatDistance:Spe,formatLong:Ape,formatRelative:Mpe,localize:Fpe,match:e0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t0e(t,e){const r=_r(t,e==null?void 0:e.in);return Rg(r,AN(r))+1}function VE(t,e){const r=_r(t,e==null?void 0:e.in),n=+Lg(r)-+ype(r);return Math.round(n/qK)+1}function GE(t,e){var f,m,g,p;const r=_r(t,e==null?void 0:e.in),n=r.getFullYear(),a=zp(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(g=a.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=fa((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Tf(o,e),c=fa((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Tf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function r0e(t,e){var l,c,u,f;const r=zp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,a=GE(t,e),s=fa((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Tf(s,e)}function JK(t,e){const r=_r(t,e==null?void 0:e.in),n=+Tf(r,e)-+r0e(r,e);return Math.round(n/qK)+1}function da(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Sh={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return da(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):da(r+1,2)},d(t,e){return da(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return da(t.getHours()%12||12,e.length)},H(t,e){return da(t.getHours(),e.length)},m(t,e){return da(t.getMinutes(),e.length)},s(t,e){return da(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return da(a,e.length)}},I0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Sh.y(t,e)},Y:function(t,e,r,n){const a=GE(t,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return da(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):da(s,e.length)},R:function(t,e){const r=WK(t);return da(r,e.length)},u:function(t,e){const r=t.getFullYear();return da(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return da(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return da(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Sh.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return da(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=JK(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):da(a,e.length)},I:function(t,e,r){const n=VE(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):da(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Sh.d(t,e)},D:function(t,e,r){const n=t0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):da(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return da(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return da(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return da(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=I0.noon:n===0?a=I0.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=I0.evening:n>=12?a=I0.afternoon:n>=4?a=I0.morning:a=I0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Sh.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Sh.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):da(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):da(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sh.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Sh.s(t,e)},S:function(t,e){return Sh.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fI(n);case"XXXX":case"XX":return qm(n);case"XXXXX":case"XXX":default:return qm(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return fI(n);case"xxxx":case"xx":return qm(n);case"xxxxx":case"xxx":default:return qm(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dI(n,":");case"OOOO":default:return"GMT"+qm(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dI(n,":");case"zzzz":default:return"GMT"+qm(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return da(n,e.length)},T:function(t,e,r){return da(+t,e.length)}};function dI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+da(s,2)}function fI(t,e){return t%60===0?(t>0?"-":"+")+da(Math.abs(t)/60,2):qm(t,e)}function qm(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=da(Math.trunc(n/60),2),s=da(n%60,2);return r+a+e+s}const hI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},QK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},n0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return hI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",hI(n,e)).replace("{{time}}",QK(a,e))},_M={p:QK,P:n0e},a0e=/^D+$/,i0e=/^Y+$/,s0e=["D","DD","YY","YYYY"];function o0e(t){return a0e.test(t)}function l0e(t){return i0e.test(t)}function c0e(t,e,r){const n=u0e(t,e,r);if(console.warn(n),s0e.includes(t))throw new RangeError(n)}function u0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const d0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h0e=/^'([^]*?)'?$/,m0e=/''/g,p0e=/[a-zA-Z]/;function mI(t,e,r){var f,m,g,p,v,w,b,N;const n=zp(),a=(r==null?void 0:r.locale)??n.locale??XK,s=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,l=_r(t,r==null?void 0:r.in);if(!lj(l))throw new RangeError("Invalid time value");let c=e.match(f0e).map(k=>{const S=k[0];if(S==="p"||S==="P"){const A=_M[S];return A(k,a.formatLong)}return k}).join("").match(d0e).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const S=k[0];if(S==="'")return{isToken:!1,value:g0e(k)};if(uI[S])return{isToken:!0,value:k};if(S.match(p0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(k=>{if(!k.isToken)return k.value;const S=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&l0e(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&o0e(S))&&c0e(S,e,String(t));const A=uI[S[0]];return A(l,S,a.localize,u)}).join("")}function g0e(t){const e=t.match(h0e);return e?e[1].replace(m0e,"'"):t}function pI(t,e){return _r(t,e==null?void 0:e.in).getDate()}function x0e(t,e){return _r(t,e==null?void 0:e.in).getDay()}function y0e(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getFullYear(),a=r.getMonth(),s=fa(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function b0e(){return Object.assign({},zp())}function yf(t,e){return _r(t,e==null?void 0:e.in).getHours()}function v0e(t,e){const r=_r(t,e==null?void 0:e.in).getDay();return r===0?7:r}function bf(t,e){return _r(t,e==null?void 0:e.in).getMinutes()}function fo(t,e){return _r(t,e==null?void 0:e.in).getMonth()}function Wh(t){return _r(t).getSeconds()}function AM(t){return+_r(t)}function yn(t,e){return _r(t,e==null?void 0:e.in).getFullYear()}function rm(t,e){return+_r(t)>+_r(e)}function Yu(t,e){return+_r(t)<+_r(e)}function w0e(t,e){return+_r(t)==+_r(e)}function j0e(t,e){const r=N0e(e)?new e(0):fa(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function N0e(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const S0e=10;class ZK{constructor(){Kt(this,"subPriority",0)}validate(e,r){return!0}}class k0e extends ZK{constructor(e,r,n,a,s){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class C0e extends ZK{constructor(r,n){super();Kt(this,"priority",S0e);Kt(this,"subPriority",-1);this.context=r||(a=>fa(n,a))}set(r,n){return n.timestampIsSet?r:fa(r,j0e(r,this.context))}}class ta{run(e,r,n,a){const s=this.parse(e,r,n,a);return s?{setter:new k0e(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,r,n){return!0}}class _0e extends ta{constructor(){super(...arguments);Kt(this,"priority",140);Kt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Bi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hi(t,e){return t&&{value:e(t.value),rest:t.rest}}function li(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Gu(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*_N+s*CN+o*ppe),rest:e.slice(r[0].length)}}function eX(t){return li(Bi.anyDigitsSigned,t)}function ki(t,e){switch(t){case 1:return li(Bi.singleDigit,e);case 2:return li(Bi.twoDigits,e);case 3:return li(Bi.threeDigits,e);case 4:return li(Bi.fourDigits,e);default:return li(new RegExp("^\\d{1,"+t+"}"),e)}}function fj(t,e){switch(t){case 1:return li(Bi.singleDigitSigned,e);case 2:return li(Bi.twoDigitsSigned,e);case 3:return li(Bi.threeDigitsSigned,e);case 4:return li(Bi.fourDigitsSigned,e);default:return li(new RegExp("^-?\\d{1,"+t+"}"),e)}}function YE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tX(t,e){const r=e>0,n=r?e:1-e;let a;if(n<=50)a=t||100;else{const s=n+50,o=Math.trunc(s/100)*100,l=t>=s%100;a=t+o-(l?100:0)}return r?a:1-a}function rX(t){return t%400===0||t%4===0&&t%100!==0}class A0e extends ta{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Hi(ki(4,r),s);case"yo":return Hi(a.ordinalNumber(r,{unit:"year"}),s);default:return Hi(ki(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const s=r.getFullYear();if(a.isTwoDigitYear){const l=tX(a.year,s);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class T0e extends ta{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Hi(ki(4,r),s);case"Yo":return Hi(a.ordinalNumber(r,{unit:"year"}),s);default:return Hi(ki(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,s){const o=GE(r,s);if(a.isTwoDigitYear){const c=tX(a.year,o);return r.setFullYear(c,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Tf(r,s)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Tf(r,s)}}class M0e extends ta{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return fj(n==="R"?4:n.length,r)}set(r,n,a){const s=fa(r,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Lg(s)}}class O0e extends ta{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return fj(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class E0e extends ta{constructor(){super(...arguments);Kt(this,"priority",120);Kt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return ki(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class D0e extends ta{constructor(){super(...arguments);Kt(this,"priority",120);Kt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return ki(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class P0e extends ta{constructor(){super(...arguments);Kt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Kt(this,"priority",110)}parse(r,n,a){const s=o=>o-1;switch(n){case"M":return Hi(li(Bi.month,r),s);case"MM":return Hi(ki(2,r),s);case"Mo":return Hi(a.ordinalNumber(r,{unit:"month"}),s);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class L0e extends ta{constructor(){super(...arguments);Kt(this,"priority",110);Kt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const s=o=>o-1;switch(n){case"L":return Hi(li(Bi.month,r),s);case"LL":return Hi(ki(2,r),s);case"Lo":return Hi(a.ordinalNumber(r,{unit:"month"}),s);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function R0e(t,e,r){const n=_r(t,r==null?void 0:r.in),a=JK(n,r)-e;return n.setDate(n.getDate()-a*7),_r(n,r==null?void 0:r.in)}class I0e extends ta{constructor(){super(...arguments);Kt(this,"priority",100);Kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return li(Bi.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return ki(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,s){return Tf(R0e(r,a,s),s)}}function F0e(t,e,r){const n=_r(t,r==null?void 0:r.in),a=VE(n,r)-e;return n.setDate(n.getDate()-a*7),n}class $0e extends ta{constructor(){super(...arguments);Kt(this,"priority",100);Kt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return li(Bi.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return ki(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Lg(F0e(r,a))}}const B0e=[31,28,31,30,31,30,31,31,30,31,30,31],H0e=[31,29,31,30,31,30,31,31,30,31,30,31];class z0e extends ta{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"subPriority",1);Kt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return li(Bi.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return ki(n.length,r)}}validate(r,n){const a=r.getFullYear(),s=rX(a),o=r.getMonth();return s?n>=1&&n<=H0e[o]:n>=1&&n<=B0e[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class q0e extends ta{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"subpriority",1);Kt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return li(Bi.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return ki(n.length,r)}}validate(r,n){const a=r.getFullYear();return rX(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function KE(t,e,r){var m,g,p,v;const n=zp(),a=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,s=_r(t,r==null?void 0:r.in),o=s.getDay(),c=(e%7+7)%7,u=7-a,f=e<0||e>6?e-(o+u)%7:(c+u)%7-(o+u)%7;return iu(s,f,r)}class U0e extends ta{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=KE(r,a,s),r.setHours(0,0,0,0),r}}class W0e extends ta{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,s){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Hi(ki(n.length,r),o);case"eo":return Hi(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=KE(r,a,s),r.setHours(0,0,0,0),r}}class V0e extends ta{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,s){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Hi(ki(n.length,r),o);case"co":return Hi(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=KE(r,a,s),r.setHours(0,0,0,0),r}}function G0e(t,e,r){const n=_r(t,r==null?void 0:r.in),a=v0e(n,r),s=e-a;return iu(n,s,r)}class Y0e extends ta{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return ki(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Hi(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return Hi(a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Hi(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Hi(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=G0e(r,a),r.setHours(0,0,0,0),r}}class K0e extends ta{constructor(){super(...arguments);Kt(this,"priority",80);Kt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(YE(a),0,0,0),r}}class X0e extends ta{constructor(){super(...arguments);Kt(this,"priority",80);Kt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(YE(a),0,0,0),r}}class J0e extends ta{constructor(){super(...arguments);Kt(this,"priority",80);Kt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(YE(a),0,0,0),r}}class Q0e extends ta{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return li(Bi.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return ki(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const s=r.getHours()>=12;return s&&a<12?r.setHours(a+12,0,0,0):!s&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class Z0e extends ta{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return li(Bi.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return ki(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class ege extends ta{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return li(Bi.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return ki(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class tge extends ta{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return li(Bi.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return ki(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const s=a<=24?a%24:a;return r.setHours(s,0,0,0),r}}class rge extends ta{constructor(){super(...arguments);Kt(this,"priority",60);Kt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return li(Bi.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return ki(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class nge extends ta{constructor(){super(...arguments);Kt(this,"priority",50);Kt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return li(Bi.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return ki(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class age extends ta{constructor(){super(...arguments);Kt(this,"priority",30);Kt(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=s=>Math.trunc(s*Math.pow(10,-n.length+3));return Hi(ki(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class ige extends ta{constructor(){super(...arguments);Kt(this,"priority",10);Kt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Gu(Vu.basicOptionalMinutes,r);case"XX":return Gu(Vu.basic,r);case"XXXX":return Gu(Vu.basicOptionalSeconds,r);case"XXXXX":return Gu(Vu.extendedOptionalSeconds,r);case"XXX":default:return Gu(Vu.extended,r)}}set(r,n,a){return n.timestampIsSet?r:fa(r,r.getTime()-sj(r)-a)}}class sge extends ta{constructor(){super(...arguments);Kt(this,"priority",10);Kt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Gu(Vu.basicOptionalMinutes,r);case"xx":return Gu(Vu.basic,r);case"xxxx":return Gu(Vu.basicOptionalSeconds,r);case"xxxxx":return Gu(Vu.extendedOptionalSeconds,r);case"xxx":default:return Gu(Vu.extended,r)}}set(r,n,a){return n.timestampIsSet?r:fa(r,r.getTime()-sj(r)-a)}}class oge extends ta{constructor(){super(...arguments);Kt(this,"priority",40);Kt(this,"incompatibleTokens","*")}parse(r){return eX(r)}set(r,n,a){return[fa(r,a*1e3),{timestampIsSet:!0}]}}class lge extends ta{constructor(){super(...arguments);Kt(this,"priority",20);Kt(this,"incompatibleTokens","*")}parse(r){return eX(r)}set(r,n,a){return[fa(r,a),{timestampIsSet:!0}]}}const cge={G:new _0e,y:new A0e,Y:new T0e,R:new M0e,u:new O0e,Q:new E0e,q:new D0e,M:new P0e,L:new L0e,w:new I0e,I:new $0e,d:new z0e,D:new q0e,E:new U0e,e:new W0e,c:new V0e,i:new Y0e,a:new K0e,b:new X0e,B:new J0e,h:new Q0e,H:new Z0e,K:new ege,k:new tge,m:new rge,s:new nge,S:new age,X:new ige,x:new sge,t:new oge,T:new lge},uge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fge=/^'([^]*?)'?$/,hge=/''/g,mge=/\S/,pge=/[a-zA-Z]/;function gge(t,e,r,n){var b,N,k,S,A,_,O,I;const a=()=>fa((n==null?void 0:n.in)||r,NaN),s=b0e(),o=(n==null?void 0:n.locale)??s.locale??XK,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:N.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(k=s.locale)==null?void 0:k.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:_.weekStartsOn)??s.weekStartsOn??((I=(O=s.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0;if(!e)return t?a():_r(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:o},f=[new C0e(n==null?void 0:n.in,r)],m=e.match(dge).map(L=>{const R=L[0];if(R in _M){const B=_M[R];return B(L,o.formatLong)}return L}).join("").match(uge),g=[];for(let L of m){const R=L[0],B=cge[R];if(B){const{incompatibleTokens:D}=B;if(Array.isArray(D)){const H=g.find(G=>D.includes(G.token)||G.token===R);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${L}\` at the same time`)}else if(B.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${L}\` and any other token at the same time`);g.push({token:R,fullToken:L});const M=B.run(t,L,o.match,u);if(!M)return a();f.push(M.setter),t=M.rest}else{if(R.match(pge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(L==="''"?L="'":R==="'"&&(L=xge(L)),t.indexOf(L)===0)t=t.slice(L.length);else return a()}}if(t.length>0&&mge.test(t))return a();const p=f.map(L=>L.priority).sort((L,R)=>R-L).filter((L,R,B)=>B.indexOf(L)===R).map(L=>f.filter(R=>R.priority===L).sort((R,B)=>B.subPriority-R.subPriority)).map(L=>L[0]);let v=_r(r,n==null?void 0:n.in);if(isNaN(+v))return a();const w={};for(const L of p){if(!L.validate(v,u))return a();const R=L.set(v,w,u);Array.isArray(R)?(v=R[0],Object.assign(w,R[1])):v=R}return v}function xge(t){return t.match(fge)[1].replace(hge,"'")}function yge(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function bge(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e);return+CM(n)==+CM(a)}function vge(t,e,r){const[n,a]=Ff(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()}function qb(t,e,r){const n=+_r(t,r==null?void 0:r.in),[a,s]=[+_r(e.start,r==null?void 0:r.in),+_r(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=a&&n<=s}function wge(t,e,r){return iu(t,-1,r)}function jge(t,e){const r=()=>fa(e==null?void 0:e.in,NaN),a=Cge(t);let s;if(a.date){const u=_ge(a.date,2);s=Age(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const o=+s;let l=0,c;if(a.time&&(l=Tge(a.time),isNaN(l)))return r();if(a.timezone){if(c=Mge(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),f=_r(0,e==null?void 0:e.in);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return _r(o+l+c,e==null?void 0:e.in)}const yw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Nge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Sge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Cge(t){const e={},r=t.split(yw.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],yw.timeZoneDelimiter.test(e.date)&&(e.date=t.split(yw.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=yw.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function _ge(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Age(t,e){if(e===null)return new Date(NaN);const r=t.match(Nge);if(!r)return new Date(NaN);const n=!!r[4],a=Ay(r[1]),s=Ay(r[2])-1,o=Ay(r[3]),l=Ay(r[4]),c=Ay(r[5])-1;if(n)return Lge(e,l,c)?Oge(e,l,c):new Date(NaN);{const u=new Date(0);return!Dge(e,s,o)||!Pge(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,o)),u)}}function Ay(t){return t?parseInt(t):1}function Tge(t){const e=t.match(Sge);if(!e)return NaN;const r=vC(e[1]),n=vC(e[2]),a=vC(e[3]);return Rge(r,n,a)?r*_N+n*CN+a*1e3:NaN}function vC(t){return t&&parseFloat(t.replace(",","."))||0}function Mge(t){if(t==="Z")return 0;const e=t.match(kge);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Ige(n,a)?r*(n*_N+a*CN):NaN}function Oge(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Ege=[31,null,31,30,31,30,31,31,30,31,30,31];function nX(t){return t%400===0||t%4===0&&t%100!==0}function Dge(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Ege[e]||(nX(t)?29:28))}function Pge(t,e){return e>=1&&e<=(nX(t)?366:365)}function Lge(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Rge(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Ige(t,e){return e>=0&&e<=59}function oc(t,e,r){const n=_r(t,r==null?void 0:r.in),a=n.getFullYear(),s=n.getDate(),o=fa(t,0);o.setFullYear(a,e,15),o.setHours(0,0,0,0);const l=y0e(o);return n.setMonth(e,Math.min(s,l)),n}function k2(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setHours(e),n}function C2(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setMinutes(e),n}function Y0(t,e,r){const n=_r(t,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,s=e-a;return oc(n,n.getMonth()+s*3)}function _2(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setSeconds(e),n}function zu(t,e,r){const n=_r(t,r==null?void 0:r.in);return isNaN(+n)?fa(t,NaN):(n.setFullYear(e),n)}function hp(t,e,r){return uu(t,-e,r)}function aX(t,e,r){return WE(t,-1,r)}function gI(t,e,r){return oj(t,-1,r)}function Ig(t,e,r){return gf(t,-e,r)}function TN(){return typeof window<"u"}function Ax(t){return iX(t)?(t.nodeName||"").toLowerCase():"#document"}function Tl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hd(t){var e;return(e=(iX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iX(t){return TN()?t instanceof Node||t instanceof Tl(t).Node:!1}function Eo(t){return TN()?t instanceof Element||t instanceof Tl(t).Element:!1}function ld(t){return TN()?t instanceof HTMLElement||t instanceof Tl(t).HTMLElement:!1}function xI(t){return!TN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tl(t).ShadowRoot}const Fge=new Set(["inline","contents"]);function Qv(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=vc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Fge.has(a)}const $ge=new Set(["table","td","th"]);function Bge(t){return $ge.has(Ax(t))}const Hge=[":popover-open",":modal"];function MN(t){return Hge.some(e=>{try{return t.matches(e)}catch{return!1}})}const zge=["transform","translate","scale","rotate","perspective"],qge=["transform","translate","scale","rotate","perspective","filter"],Uge=["paint","layout","strict","content"];function XE(t){const e=JE(),r=Eo(t)?vc(t):t;return zge.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||qge.some(n=>(r.willChange||"").includes(n))||Uge.some(n=>(r.contain||"").includes(n))}function Wge(t){let e=nm(t);for(;ld(e)&&!Fg(e);){if(XE(e))return e;if(MN(e))return null;e=nm(e)}return null}function JE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vge=new Set(["html","body","#document"]);function Fg(t){return Vge.has(Ax(t))}function vc(t){return Tl(t).getComputedStyle(t)}function ON(t){return Eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nm(t){if(Ax(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xI(t)&&t.host||hd(t);return xI(e)?e.host:e}function sX(t){const e=nm(t);return Fg(e)?t.ownerDocument?t.ownerDocument.body:t.body:ld(e)&&Qv(e)?e:sX(e)}function Ub(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=sX(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),o=Tl(a);if(s){const l=TM(o);return e.concat(o,o.visualViewport||[],Qv(a)?a:[],l&&r?Ub(l):[])}return e.concat(a,Ub(a,[],r))}function TM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const $g=Math.min,mp=Math.max,hj=Math.round,bw=Math.floor,rd=t=>({x:t,y:t}),Gge={left:"right",right:"left",bottom:"top",top:"bottom"},Yge={start:"end",end:"start"};function Kge(t,e,r){return mp(t,$g(e,r))}function EN(t,e){return typeof t=="function"?t(e):t}function Bg(t){return t.split("-")[0]}function Zv(t){return t.split("-")[1]}function Xge(t){return t==="x"?"y":"x"}function QE(t){return t==="y"?"height":"width"}const Jge=new Set(["top","bottom"]);function Zm(t){return Jge.has(Bg(t))?"y":"x"}function ZE(t){return Xge(Zm(t))}function Qge(t,e,r){r===void 0&&(r=!1);const n=Zv(t),a=ZE(t),s=QE(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mj(o)),[o,mj(o)]}function Zge(t){const e=mj(t);return[MM(t),e,MM(e)]}function MM(t){return t.replace(/start|end/g,e=>Yge[e])}const yI=["left","right"],bI=["right","left"],exe=["top","bottom"],txe=["bottom","top"];function rxe(t,e,r){switch(t){case"top":case"bottom":return r?e?bI:yI:e?yI:bI;case"left":case"right":return e?exe:txe;default:return[]}}function nxe(t,e,r,n){const a=Zv(t);let s=rxe(Bg(t),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),e&&(s=s.concat(s.map(MM)))),s}function mj(t){return t.replace(/left|right|bottom|top/g,e=>Gge[e])}function axe(t){return{top:0,right:0,bottom:0,left:0,...t}}function oX(t){return typeof t!="number"?axe(t):{top:t,right:t,bottom:t,left:t}}function pj(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}var ixe=typeof document<"u",sxe=function(){},gj=ixe?y.useLayoutEffect:sxe;const oxe={...Y2},lxe=oxe.useInsertionEffect,cxe=lxe||(t=>t());function uxe(t){const e=y.useRef(()=>{});return cxe(()=>{e.current=t}),y.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function vI(t,e,r){let{reference:n,floating:a}=t;const s=Zm(e),o=ZE(e),l=QE(o),c=Bg(e),u=s==="y",f=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-a.width,y:m};break;default:p={x:n.x,y:n.y}}switch(Zv(e)){case"start":p[o]-=g*(r&&u?-1:1);break;case"end":p[o]+=g*(r&&u?-1:1);break}return p}const dxe=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:f,y:m}=vI(u,n,c),g=n,p={},v=0;for(let w=0;w<l.length;w++){const{name:b,fn:N}=l[w],{x:k,y:S,data:A,reset:_}=await N({x:f,y:m,initialPlacement:n,placement:g,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});f=k??f,m=S??m,p={...p,[b]:{...p[b],...A}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):_.rects),{x:f,y:m}=vI(u,g,c)),w=-1)}return{x:f,y:m,placement:g,strategy:a,middlewareData:p}};async function fxe(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:p=0}=EN(e,t),v=oX(p),b=l[g?m==="floating"?"reference":"floating":m],N=pj(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),k=m==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},_=pj(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:S,strategy:c}):k);return{top:(N.top-_.top+v.top)/A.y,bottom:(_.bottom-N.bottom+v.bottom)/A.y,left:(N.left-_.left+v.left)/A.x,right:(_.right-N.right+v.right)/A.x}}const hxe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:f=0}=EN(t,e)||{};if(u==null)return{};const m=oX(f),g={x:r,y:n},p=ZE(a),v=QE(p),w=await o.getDimensions(u),b=p==="y",N=b?"top":"left",k=b?"bottom":"right",S=b?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[p]-g[p]-s.floating[v],_=g[p]-s.reference[p],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=O?O[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=l.floating[S]||s.floating[v]);const L=A/2-_/2,R=I/2-w[v]/2-1,B=$g(m[N],R),D=$g(m[k],R),M=B,H=I-w[v]-D,G=I/2-w[v]/2+L,Y=Kge(M,G,H),W=!c.arrow&&Zv(a)!=null&&G!==Y&&s.reference[v]/2-(G<M?B:D)-w[v]/2<0,$=W?G<M?G-M:G-H:0;return{[p]:g[p]+$,data:{[p]:Y,centerOffset:G-Y-$,...W&&{alignmentOffset:$}},reset:W}}}),mxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...b}=EN(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const N=Bg(a),k=Zm(l),S=Bg(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=g||(S||!w?[mj(l)]:Zge(l)),O=v!=="none";!g&&O&&_.push(...nxe(l,w,v,A));const I=[l,..._],L=await fxe(e,b),R=[];let B=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&R.push(L[N]),m){const G=Qge(a,o,A);R.push(L[G[0]],L[G[1]])}if(B=[...B,{placement:a,overflows:R}],!R.every(G=>G<=0)){var D,M;const G=(((D=s.flip)==null?void 0:D.index)||0)+1,Y=I[G];if(Y&&(!(m==="alignment"?k!==Zm(Y):!1)||B.every(q=>Zm(q.placement)===k?q.overflows[0]>0:!0)))return{data:{index:G,overflows:B},reset:{placement:Y}};let W=(M=B.filter($=>$.overflows[0]<=0).sort(($,q)=>$.overflows[1]-q.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(p){case"bestFit":{var H;const $=(H=B.filter(q=>{if(O){const Z=Zm(q.placement);return Z===k||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,ce)=>Z+ce,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:H[0];$&&(W=$);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}},pxe=new Set(["left","top"]);async function gxe(t,e){const{placement:r,platform:n,elements:a}=t,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Bg(r),l=Zv(r),c=Zm(r)==="y",u=pxe.has(o)?-1:1,f=s&&c?-1:1,m=EN(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*f,y:g*u}:{x:g*u,y:p*f}}const xxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=e,c=await gxe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}};function lX(t){const e=vc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=ld(t),s=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=hj(r)!==s||hj(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function eD(t){return Eo(t)?t:t.contextElement}function gg(t){const e=eD(t);if(!ld(e))return rd(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=lX(e);let o=(s?hj(r.width):r.width)/n,l=(s?hj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yxe=rd(0);function cX(t){const e=Tl(t);return!JE()||!e.visualViewport?yxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bxe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Tl(t)?!1:e}function Cp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),s=eD(t);let o=rd(1);e&&(n?Eo(n)&&(o=gg(n)):o=gg(t));const l=bxe(s,r,n)?cX(s):rd(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(s){const g=Tl(s),p=n&&Eo(n)?Tl(n):n;let v=g,w=TM(v);for(;w&&n&&p!==v;){const b=gg(w),N=w.getBoundingClientRect(),k=vc(w),S=N.left+(w.clientLeft+parseFloat(k.paddingLeft))*b.x,A=N.top+(w.clientTop+parseFloat(k.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,m*=b.y,c+=S,u+=A,v=Tl(w),w=TM(v)}}return pj({width:f,height:m,x:c,y:u})}function DN(t,e){const r=ON(t).scrollLeft;return e?e.left+r:Cp(hd(t)).left+r}function uX(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-DN(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function vxe(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const s=a==="fixed",o=hd(n),l=e?MN(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=rd(1);const f=rd(0),m=ld(n);if((m||!m&&!s)&&((Ax(n)!=="body"||Qv(o))&&(c=ON(n)),ld(n))){const p=Cp(n);u=gg(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const g=o&&!m&&!s?uX(o,c):rd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function wxe(t){return Array.from(t.getClientRects())}function jxe(t){const e=hd(t),r=ON(t),n=t.ownerDocument.body,a=mp(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=mp(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+DN(t);const l=-r.scrollTop;return vc(n).direction==="rtl"&&(o+=mp(e.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}const wI=25;function Nxe(t,e){const r=Tl(t),n=hd(t),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const f=JE();(!f||f&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=DN(n);if(u<=0){const f=n.ownerDocument,m=f.body,g=getComputedStyle(m),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-m.clientWidth-p);v<=wI&&(s-=v)}else u<=wI&&(s+=u);return{width:s,height:o,x:l,y:c}}const Sxe=new Set(["absolute","fixed"]);function kxe(t,e){const r=Cp(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,s=ld(t)?gg(t):rd(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function jI(t,e,r){let n;if(e==="viewport")n=Nxe(t,r);else if(e==="document")n=jxe(hd(t));else if(Eo(e))n=kxe(e,r);else{const a=cX(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return pj(n)}function dX(t,e){const r=nm(t);return r===e||!Eo(r)||Fg(r)?!1:vc(r).position==="fixed"||dX(r,e)}function Cxe(t,e){const r=e.get(t);if(r)return r;let n=Ub(t,[],!1).filter(l=>Eo(l)&&Ax(l)!=="body"),a=null;const s=vc(t).position==="fixed";let o=s?nm(t):t;for(;Eo(o)&&!Fg(o);){const l=vc(o),c=XE(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Sxe.has(a.position)||Qv(o)&&!c&&dX(t,o))?n=n.filter(f=>f!==o):a=l,o=nm(o)}return e.set(t,n),n}function _xe(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?MN(e)?[]:Cxe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const m=jI(e,f,a);return u.top=mp(m.top,u.top),u.right=$g(m.right,u.right),u.bottom=$g(m.bottom,u.bottom),u.left=mp(m.left,u.left),u},jI(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Axe(t){const{width:e,height:r}=lX(t);return{width:e,height:r}}function Txe(t,e,r){const n=ld(e),a=hd(e),s=r==="fixed",o=Cp(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=rd(0);function u(){c.x=DN(a)}if(n||!n&&!s)if((Ax(e)!=="body"||Qv(a))&&(l=ON(e)),n){const p=Cp(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else a&&u();s&&!n&&a&&u();const f=a&&!n&&!s?uX(a,l):rd(0),m=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function wC(t){return vc(t).position==="static"}function NI(t,e){if(!ld(t)||vc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return hd(t)===r&&(r=r.ownerDocument.body),r}function fX(t,e){const r=Tl(t);if(MN(t))return r;if(!ld(t)){let a=nm(t);for(;a&&!Fg(a);){if(Eo(a)&&!wC(a))return a;a=nm(a)}return r}let n=NI(t,e);for(;n&&Bge(n)&&wC(n);)n=NI(n,e);return n&&Fg(n)&&wC(n)&&!XE(n)?r:n||Wge(t)||r}const Mxe=async function(t){const e=this.getOffsetParent||fX,r=this.getDimensions,n=await r(t.floating);return{reference:Txe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Oxe(t){return vc(t).direction==="rtl"}const Exe={convertOffsetParentRelativeRectToViewportRelativeRect:vxe,getDocumentElement:hd,getClippingRect:_xe,getOffsetParent:fX,getElementRects:Mxe,getClientRects:wxe,getDimensions:Axe,getScale:gg,isElement:Eo,isRTL:Oxe};function hX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dxe(t,e){let r=null,n;const a=hd(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:f,top:m,width:g,height:p}=u;if(l||e(),!g||!p)return;const v=bw(m),w=bw(a.clientWidth-(f+g)),b=bw(a.clientHeight-(m+p)),N=bw(f),S={rootMargin:-v+"px "+-w+"px "+-b+"px "+-N+"px",threshold:mp(0,$g(1,c))||1};let A=!0;function _(O){const I=O[0].intersectionRatio;if(I!==c){if(!A)return o();I?o(!1,I):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!hX(u,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(_,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(t)}return o(!0),s}function mX(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=eD(t),f=a||s?[...u?Ub(u):[],...Ub(e)]:[];f.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),s&&N.addEventListener("resize",r)});const m=u&&l?Dxe(u,r):null;let g=-1,p=null;o&&(p=new ResizeObserver(N=>{let[k]=N;k&&k.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let v,w=c?Cp(t):null;c&&b();function b(){const N=Cp(t);w&&!hX(w,N)&&r(),w=N,v=requestAnimationFrame(b)}return r(),()=>{var N;f.forEach(k=>{a&&k.removeEventListener("scroll",r),s&&k.removeEventListener("resize",r)}),m==null||m(),(N=p)==null||N.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Pxe=xxe,Lxe=mxe,SI=hxe,Rxe=(t,e,r)=>{const n=new Map,a={platform:Exe,...r},s={...a.platform,_c:n};return dxe(t,e,{...a,platform:s})};var Ixe=typeof document<"u",Fxe=function(){},A2=Ixe?y.useLayoutEffect:Fxe;function xj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!xj(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&t.$$typeof)&&!xj(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kI(t,e){const r=pX(t);return Math.round(e*r)/r}function jC(t){const e=y.useRef(t);return A2(()=>{e.current=t}),e}function $xe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[f,m]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=y.useState(n);xj(g,n)||p(n);const[v,w]=y.useState(null),[b,N]=y.useState(null),k=y.useCallback(q=>{q!==O.current&&(O.current=q,w(q))},[]),S=y.useCallback(q=>{q!==I.current&&(I.current=q,N(q))},[]),A=s||v,_=o||b,O=y.useRef(null),I=y.useRef(null),L=y.useRef(f),R=c!=null,B=jC(c),D=jC(a),M=jC(u),H=y.useCallback(()=>{if(!O.current||!I.current)return;const q={placement:e,strategy:r,middleware:g};D.current&&(q.platform=D.current),Rxe(O.current,I.current,q).then(Z=>{const ce={...Z,isPositioned:M.current!==!1};G.current&&!xj(L.current,ce)&&(L.current=ce,sE.flushSync(()=>{m(ce)}))})},[g,e,r,D,M]);A2(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[u]);const G=y.useRef(!1);A2(()=>(G.current=!0,()=>{G.current=!1}),[]),A2(()=>{if(A&&(O.current=A),_&&(I.current=_),A&&_){if(B.current)return B.current(A,_,H);H()}},[A,_,H,B,R]);const Y=y.useMemo(()=>({reference:O,floating:I,setReference:k,setFloating:S}),[k,S]),W=y.useMemo(()=>({reference:A,floating:_}),[A,_]),$=y.useMemo(()=>{const q={position:r,left:0,top:0};if(!W.floating)return q;const Z=kI(W.floating,f.x),ce=kI(W.floating,f.y);return l?{...q,transform:"translate("+Z+"px, "+ce+"px)",...pX(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:ce}},[r,l,W.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:H,refs:Y,elements:W,floatingStyles:$}),[f,H,Y,W,$])}const Bxe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?SI({element:n.current,padding:a}).fn(r):{}:n?SI({element:n,padding:a}).fn(r):{}}}},Hxe=(t,e)=>({...Pxe(t),options:[t,e]}),zxe=(t,e)=>({...Lxe(t),options:[t,e]}),qxe=(t,e)=>({...Bxe(t),options:[t,e]}),Uxe={...Y2};let CI=!1,Wxe=0;const _I=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Wxe++;function Vxe(){const[t,e]=y.useState(()=>CI?_I():void 0);return gj(()=>{t==null&&e(_I())},[]),y.useEffect(()=>{CI=!0},[]),t}const Gxe=Uxe.useId,gX=Gxe||Vxe,Yxe=y.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:o}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:f=0,staticOffset:m,stroke:g,d:p,style:{transform:v,...w}={},...b}=e,N=gX(),[k,S]=y.useState(!1);if(gj(()=>{if(!a)return;vc(a).direction==="rtl"&&S(!0)},[a]),!a)return null;const[A,_]=n.split("-"),O=A==="top"||A==="bottom";let I=m;(O&&o!=null&&o.x||!O&&o!=null&&o.y)&&(I=null);const L=f*2,R=L/2,B=l/2*(u/-8+1),D=c/2*u/4,M=!!p,H=I&&_==="end"?"bottom":"top";let G=I&&_==="end"?"right":"left";I&&k&&(G=_==="end"?"left":"right");const Y=(s==null?void 0:s.x)!=null?I||s.x:"",W=(s==null?void 0:s.y)!=null?I||s.y:"",$=p||"M0,0"+(" H"+l)+(" L"+(l-B)+","+(c-D))+(" Q"+l/2+","+c+" "+B+","+(c-D))+" Z",q={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[A];return i.jsxs("svg",{...b,"aria-hidden":!0,ref:r,width:M?l:l+L,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[G]:Y,[H]:W,[A]:O||M?"100%":"calc(100% - "+L/2+"px)",transform:[q,v].filter(Z=>!!Z).join(" "),...w},children:[L>0&&i.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:g,strokeWidth:L+(p?0:1),d:$}),i.jsx("path",{stroke:L&&!p?b.fill:"none",d:$}),i.jsx("clipPath",{id:N,children:i.jsx("rect",{x:-R,y:R*(M?-1:1),width:l+L,height:l})})]})});function Kxe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(a=>a(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const Xxe=y.createContext(null),Jxe=y.createContext(null),Qxe=()=>{var t;return((t=y.useContext(Xxe))==null?void 0:t.id)||null},Zxe=()=>y.useContext(Jxe);function eye(t){const{open:e=!1,onOpenChange:r,elements:n}=t,a=gX(),s=y.useRef({}),[o]=y.useState(()=>Kxe()),l=Qxe()!=null,[c,u]=y.useState(n.reference),f=uxe((p,v,w)=>{s.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:w,nested:l}),r==null||r(p,v,w)}),m=y.useMemo(()=>({setPositionReference:u}),[]),g=y.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return y.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:g,events:o,floatingId:a,refs:m}),[e,f,g,o,a,m])}function tye(t){t===void 0&&(t={});const{nodeId:e}=t,r=eye({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,a=n.elements,[s,o]=y.useState(null),[l,c]=y.useState(null),f=(a==null?void 0:a.domReference)||s,m=y.useRef(null),g=Zxe();gj(()=>{f&&(m.current=f)},[f]);const p=$xe({...t,elements:{...a,...l&&{reference:l}}}),v=y.useCallback(S=>{const A=Eo(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(A),p.refs.setReference(A)},[p.refs]),w=y.useCallback(S=>{(Eo(S)||S===null)&&(m.current=S,o(S)),(Eo(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!Eo(S))&&p.refs.setReference(S)},[p.refs]),b=y.useMemo(()=>({...p.refs,setReference:w,setPositionReference:v,domReference:m}),[p.refs,w,v]),N=y.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),k=y.useMemo(()=>({...p,...n,refs:b,elements:N,nodeId:e}),[p,b,N,e,n]);return gj(()=>{n.dataRef.current.floatingContext=k;const S=g==null?void 0:g.nodesRef.current.find(A=>A.id===e);S&&(S.context=k)}),y.useMemo(()=>({...p,context:k,refs:b,elements:N}),[p,b,N,k])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var OM=function(e,r){return OM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},OM(e,r)};function Xs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");OM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var En=function(){return En=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},En.apply(this,arguments)};function Ku(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var rye=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,a=n===void 0?!1:n,s=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return he.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},o)},nye=function(t,e){var r=y.useRef(null),n=y.useRef(t);n.current=t;var a=y.useCallback(function(s){var o,l=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,s))},[e]);return y.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},PN=function(t){var e=t.children,r=t.onClickOutside,n=t.className,a=t.containerRef,s=t.style,o=t.ignoreClass,l=nye(r,o);return he.createElement("div",{className:n,style:s,ref:function(c){l.current=c,a&&(a.current=c)}},e)},lr;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(lr||(lr={}));function xX(){var t=typeof window<"u"?window:globalThis;return t}var e1=12;function sa(t){if(t==null)return new Date;var e=typeof t=="string"?jge(t):_r(t);return LN(e)?e:new Date}function NC(t,e,r,n,a){a===void 0&&(a=sa());for(var s=Hg(r)||Hg(tD()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var u=c[l],f=gge(t,u,a,{locale:s});if(LN(f)&&(!n||t===Wa(f,u,r)))return f}return null}function LN(t,e){return lj(t)&&!Yu(t,new Date("1/1/1800"))}function Wa(t,e,r){if(r==="en")return mI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Hg(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Hg(tD()),mI(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function sc(t,e){var r=e.dateFormat,n=e.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return t&&Wa(t,a,n)||""}var yX=" - ";function aye(t,e,r){if(!t&&!e)return"";var n=t?sc(t,r):"",a=e?sc(e,r):"",s=r.rangeSeparator||yX;return"".concat(n).concat(s).concat(a)}function iye(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?sc(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=sc(t[1],e);return"".concat(r,", ").concat(n)}var a=t.length-1;return"".concat(r," (+").concat(a,")")}function SC(t,e){var r=e.hour,n=r===void 0?0:r,a=e.minute,s=a===void 0?0:a,o=e.second,l=o===void 0?0:o;return k2(C2(_2(t,l),s),n)}function sye(t){return VE(t)}function oye(t,e){return Wa(t,"ddd",e)}function T2(t){return kp(t)}function Vh(t,e,r){var n=Hg(e||tD());return Tf(t,{locale:n,weekStartsOn:r})}function vf(t){return YK(t)}function Zy(t){return AN(t)}function AI(t){return CM(t)}function TI(){return kp(sa())}function MI(t){return VK(t)}function lye(t){return jpe(t)}function cye(t){return GK(t)}function qu(t,e){return t&&e?vge(t,e):!t&&!e}function Ao(t,e){return t&&e?yge(t,e):!t&&!e}function yj(t,e){return t&&e?bge(t,e):!t&&!e}function On(t,e){return t&&e?vpe(t,e):!t&&!e}function ep(t,e){return t&&e?w0e(t,e):!t&&!e}function Um(t,e,r){var n,a=kp(e),s=VK(r);try{n=qb(t,{start:a,end:s})}catch{n=!1}return n}function tD(){var t=xX();return t.__localeId__}function Hg(t){if(typeof t=="string"){var e=xX();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function uye(t,e,r){return e(Wa(t,"EEEE",r))}function dye(t,e){return Wa(t,"EEEEEE",e)}function fye(t,e){return Wa(t,"EEE",e)}function rD(t,e){return Wa(oc(sa(),t),"LLLL",e)}function bX(t,e){return Wa(oc(sa(),t),"LLL",e)}function hye(t,e){return Wa(Y0(sa(),t),"QQQ",e)}function cc(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return t1(t,{minDate:n,maxDate:a})||s&&s.some(function(f){return f instanceof Date?On(t,f):On(t,f.date)})||o&&o.some(function(f){var m=f.start,g=f.end;return qb(t,{start:m,end:g})})||l&&!l.some(function(f){return On(t,f)})||c&&!c.some(function(f){var m=f.start,g=f.end;return qb(t,{start:m,end:g})})||u&&!u(sa(t))||!1}function nD(t,e){var r=e===void 0?{}:e,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var o=s.start,l=s.end;return qb(t,{start:o,end:l})}):n&&n.some(function(s){var o;return s instanceof Date?On(t,s):On(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function vX(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate;return t1(t,{minDate:n?YK(n):void 0,maxDate:a?GK(a):void 0})||(s==null?void 0:s.some(function(c){return Ao(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ao(t,c)})||l&&!l(sa(t))||!1}function vw(t,e,r,n){var a=yn(t),s=fo(t),o=yn(e),l=fo(e),c=yn(n);return a===o&&a===c?s<=r&&r<=l:a<o?c===a&&s<=r||c===o&&l>=r||c<o&&c>a:!1}function mye(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates;return t1(t,{minDate:n,maxDate:a})||s&&s.some(function(l){return Ao(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return Ao(l,t)})||!1}function ww(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate;return t1(t,{minDate:n,maxDate:a})||(s==null?void 0:s.some(function(c){return yj(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return yj(t,c)})||l&&!l(sa(t))||!1}function jw(t,e,r){if(!e||!r||!lj(e)||!lj(r))return!1;var n=yn(e),a=yn(r);return n<=t&&a>=t}function M2(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return t1(c,{minDate:n?AN(n):void 0,maxDate:a?KK(a):void 0})||(s==null?void 0:s.some(function(u){return qu(c,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return qu(c,u)})||l&&!l(sa(c))||!1}function Nw(t,e,r,n){var a=yn(t),s=fp(t),o=yn(e),l=fp(e),c=yn(n);return a===o&&a===c?s<=r&&r<=l:a<o?c===a&&s<=r||c===o&&l>=r||c<o&&c>a:!1}function t1(t,e){var r,n=e===void 0?{}:e,a=n.minDate,s=n.maxDate;return(r=a&&Rg(t,a)<0||s&&Rg(t,s)>0)!==null&&r!==void 0?r:!1}function OI(t,e){return e.some(function(r){return yf(r)===yf(t)&&bf(r)===bf(t)&&Wh(r)===Wh(t)})}function EI(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&OI(t,n)||a&&!OI(t,a)||s&&!s(t)||!1}function DI(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=sa();a=k2(a,yf(t)),a=C2(a,bf(t)),a=_2(a,Wh(t));var s=sa();s=k2(s,yf(r)),s=C2(s,bf(r)),s=_2(s,Wh(r));var o=sa();o=k2(o,yf(n)),o=C2(o,bf(n)),o=_2(o,Wh(n));var l;try{l=!qb(a,{start:s,end:o})}catch{l=!1}return l}function PI(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,s=hp(t,1);return n&&cj(n,s)>0||a&&a.every(function(o){return cj(o,s)>0})||!1}function LI(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,s=uu(t,1);return n&&cj(s,n)>0||a&&a.every(function(o){return cj(s,o)>0})||!1}function pye(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,s=AN(t),o=aX(s);return n&&uj(n,o)>0||a&&a.every(function(l){return uj(l,o)>0})||!1}function gye(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,s=KK(t),o=WE(s,1);return n&&uj(o,n)>0||a&&a.every(function(l){return uj(o,l)>0})||!1}function RI(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,s=Ig(t,1);return n&&dj(n,s)>0||a&&a.every(function(o){return dj(o,s)>0})||!1}function xye(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.yearItemNumber,s=a===void 0?e1:a,o=Zy(Ig(t,s)),l=cf(o,s).endPeriod,c=n&&yn(n);return c&&c>l||!1}function II(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,s=gf(t,1);return n&&dj(s,n)>0||a&&a.every(function(o){return dj(s,o)>0})||!1}function yye(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.yearItemNumber,s=a===void 0?e1:a,o=gf(t,s),l=cf(o,s).startPeriod,c=n&&yn(n);return c&&c<l||!1}function wX(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(a){return Rg(a,e)>=0});return lI(n)}else return r?lI(r):e}function jX(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(a){return Rg(a,e)<=0});return oI(n)}else return r?oI(r):e}function FI(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=t.length;a<s;a++){var o=t[a];if(xf(o)){var l=Wa(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var u=Object.keys(o),f=(r=u[0])!==null&&r!==void 0?r:"",m=o[f];if(typeof f=="string"&&Array.isArray(m))for(var g=0,p=m.length;g<p;g++){var v=m[g];if(v){var l=Wa(v,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(f)||(c.push(f),n.set(l,c))}}}}return n}function bye(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function vye(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var a=n.date,s=n.holidayName;if(xf(a)){var o=Wa(a,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&bye(l.holidayNames,[s]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?Ku(Ku([],c,!0),[s],!1):[s],r.set(o,l)}}}),r}function wye(t,e,r,n,a){for(var s=a.length,o=[],l=0;l<s;l++){var c=t,u=a[l];u&&(c=gpe(c,yf(u)),c=kM(c,bf(u)),c=bpe(c,Wh(u)));var f=kM(t,(r+1)*n);rm(c,e)&&Yu(c,f)&&u!=null&&o.push(u)}return o}function $I(t){return t<10?"0".concat(t):"".concat(t)}function cf(t,e){e===void 0&&(e=e1);var r=Math.ceil(yn(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function jye(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function BI(t){var e=t.getSeconds(),r=t.getMilliseconds();return _r(t.getTime()-e*1e3-r)}function Nye(t,e){return BI(t).getTime()===BI(e).getTime()}function HI(t){if(!xf(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function kC(t,e){if(!xf(t)||!xf(e))throw new Error("Invalid date received");var r=HI(t),n=HI(e);return Yu(r,n)}function NX(t){return t.key===lr.Space}var Sye=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=he.createRef(),n.onTimeChange=function(a){var s,o;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var f=a.split(":"),m=f[0],g=f[1];u.setHours(Number(m)),u.setMinutes(Number(g))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,u)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,o=s.date,l=s.timeString,c=s.customTimeInput;return c?y.cloneElement(c,{date:o,value:a,onChange:n.onTimeChange}):he.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return he.createElement("div",{className:"react-datepicker__input-time-container"},he.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),he.createElement("div",{className:"react-datepicker-time__input-container"},he.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(y.Component),kye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=y.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===lr.Space&&(n.preventDefault(),n.key=lr.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isSameDay=function(n){return On(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return nD(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return On(r.props.day,Vh(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&On(n,Vh(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,s=n.highlightDates;if(!s)return!1;var o=Wa(a,"MM.dd.yyyy");return s.get(o)},r.getHolidaysClass=function(){var n,a=r.props,s=a.day,o=a.holidays;if(!o)return[void 0];var l=Wa(s,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Um(a,s,o)},r.isInSelectingRange=function(){var n,a=r.props,s=a.day,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,f=a.startDate,m=a.swapRange,g=a.endDate,p=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!p||!u&&r.isDisabled())return!1;if(o&&g&&(Yu(p,g)||ep(p,g)))return Um(s,p,g);if(l&&f&&(rm(p,f)||ep(p,f)))return Um(s,f,p);if(c&&f&&!g){if(ep(p,f)||rm(p,f))return Um(s,f,p);if(m&&Yu(p,f))return Um(s,p,f)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.startDate,l=a.selectsStart,c=a.swapRange,u=a.selectsRange,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?On(s,f):u&&c&&o&&f?On(s,Yu(f,o)?f:o):On(s,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=a.swapRange,f=a.startDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?On(s,m):c&&u&&f&&m?On(s,Yu(m,f)?f:m):c?On(s,m):On(s,o)},r.isRangeStart=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:On(s,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:On(o,a)},r.isWeekend=function(){var n=x0e(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===fo(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(fo(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(sa())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Cr("react-datepicker__day",a,"react-datepicker__day--"+oye(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:o;return"".concat(u," ").concat(Wa(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,s=n.holidays,o=s===void 0?new Map:s,l=n.excludeDates,c=Wa(a,"MM.dd.yyyy"),u=[];return o.has(c)&&u.push.apply(u,o.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(f){return f instanceof Date?On(f,a):On(f==null?void 0:f.date,a)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&On(a,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(pI(r.props.day),r.props.day):pI(r.props.day)},r.render=function(){return he.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&he.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(y.Component),Cye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=y.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===lr.Space&&(n.preventDefault(),n.key=lr.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!On(r.props.date,r.props.selected)&&On(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||On(r.props.date,r.props.selected)&&On(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&On(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,s=r.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&On(this.props.date,this.props.selected)};return he.createElement("div",{ref:this.weekNumberEl,className:Cr(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(y.Component),_ye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,s){for(var o,l,c,u=new Date(n),f=0;f<7;f++){var m=new Date(n);m.setDate(m.getDate()+f);var g=!r.isDisabled(m);if(g){u=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,s),r.props.showWeekPicker&&r.handleDayClick(u,s),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):sye(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=iu(n,6),s=new Date(n);s<=a;){if(!r.isDisabled(s))return!1;s=iu(s,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;a.push(he.createElement(Cye,En({key:"W"},e.defaultProps,r.props,{weekNumber:s,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=iu(n,l);return he.createElement(kye,En({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return Vh(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!On(r.startOfWeek(),r.props.selected)&&On(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":On(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return he.createElement("div",{className:Cr(r,n),role:"row"},this.renderDays())},e})(y.Component),Ty,Aye=6,xg={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},CC=(Ty={},Ty[xg.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ty[xg.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ty[xg.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ty),Sw=1;function zI(t,e){return t?xg.FOUR_COLUMNS:e?xg.TWO_COLUMNS:xg.THREE_COLUMNS}var Tye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=Ku([],Array(12),!0).map(function(){return y.createRef()}),r.QUARTER_REFS=Ku([],Array(4),!0).map(function(){return y.createRef()}),r.isDisabled=function(n){return cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return nD(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var s,o;(o=(s=r.props).onDayClick)===null||o===void 0||o.call(s,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,s;(s=(a=r.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ao(oc(s,n),o)},r.isRangeStartQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:yj(Y0(s,n),o)},r.isRangeEndMonth=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ao(oc(s,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:yj(Y0(s,n),l)},r.isInSelectingRangeMonth=function(n){var a,s=r.props,o=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,f=s.startDate,m=s.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!g?!1:l&&m?vw(g,m,n,o):c&&f||u&&f&&!m?vw(f,g,n,o):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,l=s.startDate,c=s.selectsStart,u=oc(o,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?Ao(u,f):Ao(u,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,l=s.endDate,c=s.selectsEnd,u=s.selectsRange,f=oc(o,n),m=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?Ao(f,m):Ao(f,l)},r.isInSelectingRangeQuarter=function(n){var a,s=r.props,o=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,f=s.startDate,m=s.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!g?!1:l&&m?Nw(g,m,n,o):c&&f||u&&f&&!m?Nw(f,g,n,o):!1},r.isWeekInMonth=function(n){var a=r.props.day,s=iu(n,6);return Ao(n,a)||Ao(s,a)},r.isCurrentMonth=function(n,a){return yn(n)===yn(sa())&&a===fo(sa())},r.isCurrentQuarter=function(n,a){return yn(n)===yn(sa())&&a===fp(sa())},r.isSelectedMonth=function(n,a,s){return fo(s)===a&&yn(n)===yn(s)},r.isSelectMonthInList=function(n,a,s){return s.some(function(o){return r.isSelectedMonth(n,a,o)})},r.isSelectedQuarter=function(n,a,s){return fp(n)===a&&yn(n)===yn(s)},r.isMonthSelected=function(){var n=r.props,a=n.day,s=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=fo(a);return l?o==null?void 0:o.some(function(u){return r.isSelectedMonth(a,c,u)}):!!s&&r.isSelectedMonth(a,c,s)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,s=0,o=!1,l=Vh(vf(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(v){return r.props.showWeekPicker?Vh(v,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(v){return r.props.showWeekPicker?Vh(v,r.props.locale,r.props.calendarStartDay):r.props.selected},f=r.props.selected?u(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(he.createElement(_ye,En({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:l,month:fo(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:f,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!o;){s++,l=oj(l,1);var g=a&&s>=Aye,p=!a&&!r.isWeekInMonth(l);if(g||p)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,a){var s=r.isMonthDisabledForLabelDate(a),o=s.isDisabled,l=s.labelDate;o||r.handleDayClick(vf(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),s=a.isDisabled,o=a.labelDate;s||r.handleDayMouseEnter(vf(o))},r.handleMonthNavigation=function(n,a){var s,o,l,c;(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,s){var o,l=r.props,c=l.selected,u=l.preSelection,f=l.setPreSelection,m=l.minDate,g=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(u){var w=zI(p,v),b=r.getVerticalOffset(w),N=(o=CC[w])===null||o===void 0?void 0:o.grid,k=function(I,L,R){var B,D,M=L,H=R;switch(I){case lr.ArrowRight:M=uu(L,Sw),H=R===11?0:R+Sw;break;case lr.ArrowLeft:M=hp(L,Sw),H=R===0?11:R-Sw;break;case lr.ArrowUp:M=hp(L,b),H=!((B=N==null?void 0:N[0])===null||B===void 0)&&B.includes(R)?R+12-b:R-b;break;case lr.ArrowDown:M=uu(L,b),H=!((D=N==null?void 0:N[N.length-1])===null||D===void 0)&&D.includes(R)?R-12+b:R+b;break}return{newCalculatedDate:M,newCalculatedMonth:H}},S=function(I,L,R){for(var B=40,D=I,M=!1,H=0,G=k(D,L,R),Y=G.newCalculatedDate,W=G.newCalculatedMonth;!M;){if(H>=B){Y=L,W=R;break}if(m&&Y<m){D=lr.ArrowRight;var $=k(D,Y,W);Y=$.newCalculatedDate,W=$.newCalculatedMonth}if(g&&Y>g){D=lr.ArrowLeft;var $=k(D,Y,W);Y=$.newCalculatedDate,W=$.newCalculatedMonth}if(mye(Y,r.props)){var $=k(D,Y,W);Y=$.newCalculatedDate,W=$.newCalculatedMonth}else M=!0;H++}return{newCalculatedDate:Y,newCalculatedMonth:W}};if(a===lr.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),f==null||f(c));return}var A=S(a,u,s),_=A.newCalculatedDate,O=A.newCalculatedMonth;switch(a){case lr.ArrowRight:case lr.ArrowLeft:case lr.ArrowUp:case lr.ArrowDown:r.handleMonthNavigation(O,_);break}}},r.getVerticalOffset=function(n){var a,s;return(s=(a=CC[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,a){var s=r.props,o=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=n.key;c!==lr.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var s=Y0(r.props.day,a);ww(s,r.props)||r.handleDayClick(AI(s),n)},r.onQuarterMouseEnter=function(n){var a=Y0(r.props.day,n);ww(a,r.props)||r.handleDayMouseEnter(AI(a))},r.handleQuarterNavigation=function(n,a){var s,o,l,c;r.isDisabled(a)||r.isExcluded(a)||((o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var s,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case lr.Enter:r.onQuarterClick(n,a),(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,r.props.selected);break;case lr.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,WE(r.props.preSelection,1));break;case lr.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,aX(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,s=r.props,o=s.day,l=s.minDate,c=s.maxDate,u=s.excludeDates,f=s.includeDates,m=oc(o,n);return{isDisabled:(a=(l||c||u||f)&&vX(m,r.props))!==null&&a!==void 0?a:!1,labelDate:m}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,f=u?u(oc(s,n)):void 0,m=r.getSelection();return Cr("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(s,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(s,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?vw(o,l,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=fo(r.props.preSelection),s=r.isMonthDisabledForLabelDate(a).isDisabled,o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=fp(r.props.preSelection),s=ww(r.props.day,r.props),o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var a=r.props,s=a.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,f=a.locale,m=oc(u,n),g=r.isDisabled(m)||r.isExcluded(m)?c:o;return"".concat(g," ").concat(Wa(m,"MMMM yyyy",f))},r.getQuarterClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,f=a.maxDate,m=a.excludeDates,g=a.includeDates,p=a.filterDate,v=a.preSelection,w=a.disabledKeyboardNavigation,b=(u||f||m||g||p)&&ww(Y0(s,n),r.props);return Cr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(s,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&v&&r.isSelectedQuarter(s,n,v)&&!b,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?Nw(o,l,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(s,n)})},r.getMonthContent=function(n){var a=r.props,s=a.showFullMonthYearPicker,o=a.renderMonthContent,l=a.locale,c=a.day,u=bX(n,l),f=rD(n,l);return o?o(n,u,f,c):s?f:u},r.getQuarterContent=function(n){var a,s=r.props,o=s.renderQuarterContent,l=s.locale,c=hye(n,l);return(a=o==null?void 0:o(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,s=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(n=CC[zI(o,s)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(f,m){return he.createElement("div",{className:"react-datepicker__month-wrapper",key:m},f.map(function(g,p){return he.createElement("div",{ref:r.MONTH_REFS[g],key:p,onClick:function(v){r.onMonthClick(v,g)},onKeyDown:function(v){NX(v)&&(v.preventDefault(),v.key=lr.Enter),r.onMonthKeyDown(v,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(l,g)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,g,c):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,s=n.selected,o=[1,2,3,4];return he.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return he.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":s?r.isSelectedQuarter(a,l,s):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return Cr("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,s=r.selectsMultiple;if(s)return a;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,s=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",u=n||a;return u?he.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Wa(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):he.createElement("div",{role:"table"},this.props.dayNamesHeader&&he.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),he.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Wa(s,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(y.Component),Mye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var s;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var o=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(s=r.monthOptionButtonsRef[o])===null||s===void 0||s.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return he.createElement("div",{ref:function(s){r.monthOptionButtonsRef[a]=s,r.isSelectedMonth(a)&&(s==null||s.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?he.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return he.createElement(PN,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(y.Component),Oye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,s){return he.createElement("option",{key:a,value:s},a)})},r.renderSelectMode=function(n){return he.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return he.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return he.createElement(Mye,En({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,s=[r.renderReadView(!a,n)];return a&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return bX(s,r.props.locale)}:function(s){return rD(s,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return he.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e})(y.Component);function Eye(t,e){for(var r=[],n=vf(t),a=vf(e);!rm(n,a);)r.push(sa(n)),n=uu(n,1);return r}var Dye=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=AM(a),o=qu(n.props.date,a)&&Ao(n.props.date,a);return he.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?he.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Wa(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Eye(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=Cr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return he.createElement(PN,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(y.Component),Pye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=vf(r.props.minDate),a=vf(r.props.maxDate),s=[];!rm(n,a);){var o=AM(n);s.push(he.createElement("option",{key:o,value:o},Wa(n,r.props.dateFormat,r.props.locale))),n=uu(n,1)}return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return he.createElement("select",{value:AM(vf(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Wa(r.props.date,r.props.dateFormat,r.props.locale);return he.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return he.createElement(Dye,En({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=sa(n);qu(r.props.date,a)&&Ao(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return he.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(y.Component),Lye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var a,s;(r.props.minTime||r.props.maxTime)&&DI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&EI(n,r.props)||(s=(a=r.props).onChange)===null||s===void 0||s.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&Nye(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&DI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&EI(n,r.props)},r.liClasses=function(n){var a,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(yf(n)*3600+bf(n)*60+Wh(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,a){var s,o;n.key===lr.Space&&(n.preventDefault(),n.key=lr.Enter),(n.key===lr.ArrowUp||n.key===lr.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===lr.ArrowDown||n.key===lr.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===lr.Enter&&r.handleClick(a),(o=(s=r.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},r.renderTimes=function(){for(var n,a=[],s=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||sa(),c=T2(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(b,N){return b.getTime()-N.getTime()}),f=60*jye(l),m=f/o,g=0;g<m;g++){var p=kM(c,g*o);if(a.push(p),u){var v=wye(c,p,g,o,u);a=a.concat(v)}}var w=a.reduce(function(b,N){return N.getTime()<=l.getTime()?N:b},a[0]);return a.map(function(b){return he.createElement("li",{key:b.valueOf(),onClick:r.handleClick.bind(r,b),className:r.liClasses(b),ref:function(N){b===w&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,b)},tabIndex:b===w?0:-1,role:"option","aria-selected":r.isSelectedTime(b)?"true":void 0,"aria-disabled":r.isDisabledTime(b)?"true":void 0},Wa(b,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?he.createElement(he.Fragment,null):he.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},he.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,a=this.state.height;return he.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),he.createElement("div",{className:"react-datepicker__time"},he.createElement("div",{className:"react-datepicker__time-box"},he.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(y.Component),qI=3,Rye=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=Ku([],Array(n.props.yearItemNumber),!0).map(function(){return y.createRef()}),n.isDisabled=function(a){return cc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return nD(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var o,l;(l=(o=n.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var o,l,c,u,f=n.props,m=f.date,g=f.yearItemNumber;if(!(m===void 0||g===void 0)){var p=cf(m,g).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,s),a-p<0?n.updateFocusOnPaginate(g-(p-a)):a-p>=g?n.updateFocusOnPaginate(Math.abs(g-(a-p))):(u=(c=n.YEAR_REFS[a-p])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,s){return On(a,s)},n.isCurrentYear=function(a){return a===yn(sa())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&qu(zu(sa(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&qu(zu(sa(),a),n.props.endDate)},n.isInRange=function(a){return jw(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,f=s.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&f?jw(a,n.selectingDate(),f):l&&u||c&&u&&!f?jw(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,u=zu(sa(),a);return c?qu(u,(s=n.selectingDate())!==null&&s!==void 0?s:null):qu(u,l??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,u=o.selectsRange,f=zu(sa(),a);return c||u?qu(f,(s=n.selectingDate())!==null&&s!==void 0?s:null):qu(f,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,o=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,f=s.filterDate,m=s.selected,g=Zy(zu(n.props.date,a)),p=(o||l||c||u||f)&&M2(a,n.props),v=!!m&&On(g,Zy(m)),w=On(g,Zy(n.props.preSelection));return!n.props.inline&&!v&&w&&!p}},n.isSelectedYear=function(a){var s=n.props,o=s.selectsMultiple,l=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(u){return a===yn(u)}):!!l&&a===yn(l)},n.onYearClick=function(a,s){var o=n.props.date;o!==void 0&&n.handleYearClick(Zy(zu(o,s)),a)},n.onYearKeyDown=function(a,s){var o,l,c=a.key,u=n.props,f=u.date,m=u.yearItemNumber,g=u.handleOnKeyDown;if(c!==lr.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case lr.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case lr.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,gf(n.props.preSelection,1));break;case lr.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Ig(n.props.preSelection,1));break;case lr.ArrowUp:{if(f===void 0||m===void 0||n.props.preSelection==null)break;var p=cf(f,m).startPeriod,v=qI,w=s-v;if(w<p){var b=m%v;s>=p&&s<p+b?v=b:v+=b,w=s-v}n.handleYearNavigation(w,Ig(n.props.preSelection,v));break}case lr.ArrowDown:{if(f===void 0||m===void 0||n.props.preSelection==null)break;var N=cf(f,m).endPeriod,v=qI,w=s+v;if(w>N){var b=m%v;s<=N&&s>N-b?v=b:v+=b,w=s+v}n.handleYearNavigation(w,gf(n.props.preSelection,v));break}}g&&g(a)},n.getYearClassNames=function(a){var s=n.props,o=s.date,l=s.minDate,c=s.maxDate,u=s.excludeDates,f=s.includeDates,m=s.filterDate,g=s.yearClassName;return Cr("react-datepicker__year-text","react-datepicker__year-".concat(a),o?g==null?void 0:g(zu(o,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||u||f||m)&&M2(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=yn(n.props.preSelection),o=M2(a,n.props);return a===s&&!o?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var r=this,n=[],a=this.props,s=a.date,o=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(s===void 0)return null;for(var u=cf(s,o),f=u.startPeriod,m=u.endPeriod,g=function(w){n.push(he.createElement("div",{ref:p.YEAR_REFS[w-f],onClick:function(b){r.onYearClick(b,w)},onKeyDown:function(b){NX(b)&&(b.preventDefault(),b.key=lr.Enter),r.onYearKeyDown(b,w)},tabIndex:Number(p.getYearTabIndex(w)),className:p.getYearClassNames(w),onMouseEnter:p.props.usePointerEvent?void 0:function(b){return l(b,w)},onPointerEnter:p.props.usePointerEvent?function(b){return l(b,w)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(b){return c(b,w)},onPointerLeave:p.props.usePointerEvent?function(b){return c(b,w)}:void 0,key:w,"aria-current":p.isCurrentYear(w)?"date":void 0},p.getYearContent(w)))},p=this,v=f;v<=m;v++)g(v);return he.createElement("div",{className:"react-datepicker__year"},he.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(y.Component);function Iye(t,e,r,n){for(var a=[],s=0;s<2*e+1;s++){var o=t+e-s,l=!0;r&&(l=yn(r)<=o),n&&l&&(l=yn(n)>=o),l&&a.push(o)}return a}var Fye=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var u;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var f=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((u=n.yearOptionButtonsRef[f])===null||u===void 0||u.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(m){return he.createElement("div",{ref:function(g){n.yearOptionButtonsRef[m]=g,m===l&&(g==null||g.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),onKeyDown:n.handleOptionKeyDown.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?he.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),u=n.props.minDate?yn(n.props.minDate):null,f=n.props.maxDate?yn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(m){return m===f}))&&c.unshift(he.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},he.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(m){return m===u}))&&c.push(he.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},he.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=a||(s?10:5);return n.state={yearsList:Iye(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=y.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=Cr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return he.createElement(PN,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(y.Component),$ye=(function(t){Xs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?yn(r.props.minDate):1900,a=r.props.maxDate?yn(r.props.maxDate):2100,s=[],o=n;o<=a;o++)s.push(he.createElement("option",{key:o,value:o},o));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return he.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return he.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},he.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),he.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return he.createElement(Fye,En({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var s,o;(o=(s=r.props).onSelect)===null||o===void 0||o.call(s,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return he.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(y.Component),Bye=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],SX="react-datepicker-ignore-onclickoutside",Hye=function(t){var e=(t.className||"").split(/\s+/);return Bye.some(function(r){return e.indexOf(r)>=0})},zye=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,o;Hye(a.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,o=a.selected,l=a.openToDate,c=wX(n.props),u=jX(n.props),f=sa(),m=l||o||s;return m||(c&&Yu(f,c)?c:u&&rm(f,u)?u:f)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:uu(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:hp(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,o){n.props.onSelect(a,s,o),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:zu(sa(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,o,l,c;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!cc(a,n.props))return a;for(var s=vf(a),o=cye(a),l=wpe(o,s),c=null,u=0;u<=l;u++){var f=iu(s,u);if(!cc(f,n.props)){c=f;break}}return c},n.handleMonthChange=function(a){var s,o,l,c=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var o=s.date;return{date:zu(o,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var o=s.date;return{date:oc(o,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(s){var o=s.date;return{date:zu(oc(o,fo(a)),yn(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var s=Vh(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(he.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},he.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),he.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=iu(s,l),u=n.formatWeekday(c,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return he.createElement("div",{key:l,role:"columnheader",className:Cr("react-datepicker__day-name",f)},he.createElement("span",{className:"react-datepicker__sr-only"},Wa(c,"EEEE",n.props.locale)),he.createElement("span",{"aria-hidden":"true"},u))}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?uye(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?fye(a,s):dye(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:Ig(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,o;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=hp(n.state.date,u),m;switch(!0){case n.props.showMonthYearPicker:m=RI(n.state.date,n.props);break;case n.props.showYearPicker:m=xye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=pye(n.state.date,n.props);break;default:m=PI(f,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(v=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,N=b.previousMonthButtonLabel,k=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=b.previousYearButtonLabel,A=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=n.props,O=_.previousMonthAriaLabel,I=O===void 0?typeof k=="string"?k:"Previous Month":O,L=_.previousYearAriaLabel,R=L===void 0?typeof A=="string"?A:"Previous Year":L;return he.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?R:I},he.createElement("span",{className:g.join(" ")},w?A:k))}}},n.increaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:gf(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=II(n.state.date,n.props);break;case n.props.showYearPicker:s=yye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=gye(n.state.date,n.props);break;default:s=LI(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,m=f.nextMonthButtonLabel,g=m===void 0?e.defaultProps.nextMonthButtonLabel:m,p=f.nextYearButtonLabel,v=p===void 0?e.defaultProps.nextYearButtonLabel:p,w=n.props,b=w.nextMonthAriaLabel,N=b===void 0?typeof g=="string"?g:"Next Month":b,k=w.nextYearAriaLabel,S=k===void 0?typeof v=="string"?v:"Next Year":k;return he.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?S:N},he.createElement("span",{className:l.join(" ")},u?v:g))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),he.createElement("h2",{className:s.join(" ")},Wa(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return he.createElement($ye,En({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:yn(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return he.createElement(Oye,En({},e.defaultProps,n.props,{month:fo(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return he.createElement(Pye,En({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(TI(),a),n.props.setPreSelection&&n.props.setPreSelection(TI())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return he.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a){return he.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a))},n.renderDefaultHeader=function(a){var s=a.monthDate,o=a.i;return he.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),he.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(a){var s,o,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=n.props,f=u.showYearPicker,m=u.yearItemNumber,g;if(f){var p=cf(l,m),v=p.startPeriod,w=p.endPeriod;g={startYear:v,endYear:w}}var b=PI(n.state.date,n.props),N=LI(n.state.date,n.props),k=RI(n.state.date,n.props),S=II(n.state.date,n.props);return he.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,En(En(En({},n.state),f&&{visibleYearsRange:g}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:b,nextMonthButtonDisabled:N,prevYearButtonDisabled:k,nextYearButtonDisabled:S})))},n.renderYearHeader=function(a){var s=a.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,u=c===void 0?e.defaultProps.yearItemNumber:c,f=cf(s,u),m=f.startPeriod,g=f.endPeriod;return he.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(g):yn(s))},n.renderHeader=function(a){var s=a.monthDate,o=a.i,l=o===void 0?0:o,c={monthDate:s,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?gf(n.state.date,c):hp(n.state.date,c),f=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,m=0;m<l;++m){var g=m-f+c,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?gf(u,g):uu(u,g),v="month-".concat(m),w=m<l-1,b=m>0;o.push(he.createElement("div",{key:v,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:m}),he.createElement(Tye,En({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:b,dayNamesHeader:n.renderDayNamesHeader(p)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return he.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),he.createElement(Rye,En({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return he.createElement(Lye,En({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,s=a&&LN(a)&&!!n.props.selected,o=s?"".concat($I(a.getHours()),":").concat($I(a.getMinutes())):"";if(n.props.showTimeInput)return he.createElement(Sye,En({},e.defaultProps,n.props,{date:a,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,s=cf(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),o=s.startPeriod,l=s.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=yn(n.state.date):c="".concat(rD(fo(n.state.date),n.props.locale)," ").concat(yn(n.state.date)),he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return he.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=y.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:SX,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:e1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!On(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Ao(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!On(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||rye;return he.createElement(PN,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},he.createElement("div",{style:{display:"contents"},ref:this.containerRef},he.createElement(r,{className:Cr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(y.Component),qye=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,a=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return he.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(he.isValidElement(e)){var o=e;return he.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof a=="function"&&a(l)}})}return he.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},he.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},kX=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return XG.createPortal(this.props.children,this.el)},e})(y.Component),Uye="[tabindex], a, button, input, select, textarea",Wye=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},CX=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Uye),1,-1).filter(Wye)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=y.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?he.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},he.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,he.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(y.Component);function Vye(t){function e(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=y.useRef(null),o=tye(En({open:!a,whileElementsMounted:mX,placement:r.popperPlacement,middleware:Ku([zxe({padding:15}),Hxe(10),qxe({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=En(En({},r),{hidePopper:a,popperProps:En(En({},o),{arrowRef:s})});return he.createElement(t,En({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Gye=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,a=n===void 0?!0:n,s=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,u=t.portalId,f=t.portalHost,m=t.popperProps,g=t.showArrow,p=void 0;if(!a){var v=Cr("react-datepicker-popper",e);p=he.createElement(CX,{enableTabLoop:l},he.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:v,"data-placement":m.placement,onKeyDown:c},s,g&&he.createElement(Yxe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(p=y.createElement(t.popperContainer,{},p)),u&&!a&&(p=he.createElement(kX,{portalId:u,portalHost:f},p));var w=Cr("react-datepicker-wrapper",r);return he.createElement(he.Fragment,null,he.createElement("div",{ref:m.refs.setReference,className:w},o),p)},Yye=Vye(Gye);function Kye(t,e){return t&&e?fo(t)!==fo(e)||yn(t)!==yn(e):t!==e}var _C="Date input not valid.",am=(function(t){Xs(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:sa()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,o){var l=new Date(o.date);return LN(l)?Ku(Ku([],s,!0),[En(En({},o),{date:l})],!1):s},[])},n.calcInitialState=function(){var a,s=n.getPreSelection(),o=wX(n.props),l=jX(n.props),c=o&&Yu(s,T2(o))?o:l&&rm(s,MI(l))?l:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:FI(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,s=n.props,o=s.locale,l=s.startDate,c=s.endDate,u=s.rangeSeparator,f=s.selected,m=s.selectedDates,g=s.selectsMultiple,p=s.selectsRange,v=s.value,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,b=n.state.inputValue;return typeof v=="string"?v:typeof b=="string"?b:p?aye(l,c,{dateFormat:w,locale:o,rangeSeparator:u}):g?iye(m??[],{dateFormat:w,locale:o}):sc(f,{dateFormat:w,locale:o})},n.resetHiddenStatus=function(){n.setState(En(En({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(En(En({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:AC},function(){a||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return xf(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(En(En({},n.state),{inputValue:null}))},n.handleBlur=function(a){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,a)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,o,l,c,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var m=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:Xye});var g=n.props,p=g.selectsRange,v=g.startDate,w=g.endDate,b=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,N=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,k=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(p){var S=n.props.rangeSeparator,A=S.trim(),_=k.split(b.includes(A)?S:A,2).map(function(H){return H.trim()}),O=_[0],I=_[1],L=NC(O??"",b,n.props.locale,N),R=L?NC(I??"",b,n.props.locale,N):null,B=(v==null?void 0:v.getTime())!==(L==null?void 0:L.getTime()),D=(w==null?void 0:w.getTime())!==(R==null?void 0:R.getTime());if(!B&&!D||L&&cc(L,n.props)||R&&cc(R,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[L,R],m)}else{var M=NC(k,b,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(M||!k)&&n.setSelected(M,m,!0)}}},n.handleSelect=function(a,s,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,u=l.startDate,f=l.endDate,m=l.swapRange,g=!c||u&&!f&&(m||!kC(a,u));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&g&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(a,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):g&&n.setOpen(!1)}},n.setSelected=function(a,s,o,l){var c,u,f=a;if(n.props.showYearPicker){if(f!==null&&M2(yn(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&vX(f,n.props))return}else if(f!==null&&cc(f,n.props))return;var m=n.props,g=m.onChange,p=m.selectsRange,v=m.startDate,w=m.endDate,b=m.selectsMultiple,N=m.selectedDates,k=m.minTime,S=m.swapRange;if(!ep(n.props.selected,f)||n.props.allowSameDay||p||b)if(f!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=SC(f,{hour:yf(n.props.selected),minute:bf(n.props.selected),second:Wh(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&k&&(f=SC(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),p){var A=!v&&!w,_=v&&!w,O=!v&&!!w,I=v&&w;A?g==null||g([f,null],s):_?f===null?g==null||g([null,null],s):kC(f,v)?S?g==null||g([f,v],s):g==null||g([f,null],s):g==null||g([v,f],s):O&&(f&&kC(f,w)?g==null||g([f,w],s):g==null||g([f,null],s)),I&&(g==null||g([f,null],s))}else if(b){if(f!==null)if(!(N!=null&&N.length))g==null||g([f],s);else{var L=N.some(function(B){return On(B,f)});if(L){var R=N.filter(function(B){return!On(B,f)});g==null||g(R,s)}else g==null||g(Ku(Ku([],N,!0),[f],!1),s)}}else g==null||g(f,s);o||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,f,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=xf(n.props.minDate),o=xf(n.props.maxDate),l=!0;if(a){var c=T2(a);if(s&&o)l=Um(a,n.props.minDate,n.props.maxDate);else if(s){var u=T2(n.props.minDate);l=rm(a,u)||ep(c,u)}else if(o){var f=MI(n.props.maxDate);l=Yu(a,f)||ep(c,f)}}l&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:SC(l,{hour:yf(a),minute:bf(a)});n.setState({preSelection:c}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.onInputKeyDown=function(a){var s,o,l,c,u,f;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a);var m=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===lr.ArrowDown||m===lr.ArrowUp||m===lr.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===lr.ArrowDown||m===lr.ArrowUp){a.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=sa(n.state.preSelection);m===lr.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===AC?(n.handleSelect(v,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(v)):n.setOpen(!1)):m===lr.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===lr.Tab&&n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:_C})}},n.onPortalKeyDown=function(a){var s=a.key;s===lr.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,o,l,c,u,f,m=n.props,g=m.minDate,p=m.maxDate,v=m.disabledKeyboardNavigation,w=m.showWeekPicker,b=m.shouldCloseOnSelect,N=m.locale,k=m.calendarStartDay,S=m.adjustDateOnChange,A=m.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a),!v){var _=a.key,O=a.shiftKey,I=sa(n.state.preSelection),L=function(Y,W){var $=W;switch(Y){case lr.ArrowRight:$=w?oj(W,1):iu(W,1);break;case lr.ArrowLeft:$=w?gI(W):wge(W);break;case lr.ArrowUp:$=gI(W);break;case lr.ArrowDown:$=oj(W,1);break;case lr.PageUp:$=O?Ig(W,1):hp(W,1);break;case lr.PageDown:$=O?gf(W,1):uu(W,1);break;case lr.Home:$=Vh(W,N,k);break;case lr.End:$=lye(W);break}return $},R=function(Y,W){for(var $=40,q=Y,Z=!1,ce=0,X=L(Y,W);!Z;){if(ce>=$){X=W;break}g&&X<g&&(q=lr.ArrowRight,X=cc(g,n.props)?L(q,X):g),p&&X>p&&(q=lr.ArrowLeft,X=cc(p,n.props)?L(q,X):p),cc(X,n.props)?((q===lr.PageUp||q===lr.Home)&&(q=lr.ArrowRight),(q===lr.PageDown||q===lr.End)&&(q=lr.ArrowLeft),X=L(q,X)):Z=!0,ce++}return X};if(_===lr.Enter){a.preventDefault(),n.handleSelect(I,a),!b&&n.setPreSelection(I);return}else if(_===lr.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:_C});return}var B=null;switch(_){case lr.ArrowLeft:case lr.ArrowRight:case lr.ArrowUp:case lr.ArrowDown:case lr.PageUp:case lr.PageDown:case lr.Home:case lr.End:B=R(_,I);break}if(!B){(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:_C});return}if(a.preventDefault(),n.setState({lastPreSelectChange:AC}),S&&n.setSelected(B),n.setPreSelection(B),A){var D=fo(I),M=fo(B),H=yn(I),G=yn(B);D!==M||H!==G?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var s=a.key;s===lr.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,l=s.onChange;o?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:he.createElement(zye,En({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:vye(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a,s=n.props.locale,o=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return n.props.selectsRange?u="Selected start date: ".concat(sc(n.props.startDate,{dateFormat:c,locale:s}),". ").concat(n.props.endDate?"End date: "+sc(n.props.endDate,{dateFormat:c,locale:s}):""):n.props.showTimeSelectOnly?u="Selected time: ".concat(sc(n.props.selected,{dateFormat:o,locale:s})):n.props.showYearPicker?u="Selected year: ".concat(sc(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?u="Selected month: ".concat(sc(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?u="Selected quarter: ".concat(sc(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):u="Selected date: ".concat(sc(n.props.selected,{dateFormat:c,locale:s})),he.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},n.renderDateInput=function(){var a,s,o=Cr(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),l=n.props.customInput||he.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return y.cloneElement(l,(s={},s[c]=function(u){n.input=u},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Cr(l.props.className,o),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,f=a.clearButtonTitle,m=a.clearButtonClassName,g=m===void 0?"":m,p=a.ariaLabelClose,v=p===void 0?"Close":p,w=a.selectedDates,b=a.readOnly;return s&&!b&&(l!=null||c!=null||u!=null||w!=null&&w.length)?he.createElement("button",{type:"button",className:Cr("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:SX,readOnly:!1,rangeSeparator:yX,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:e1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var a,s,o,l;r.inline&&Kye(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:FI(this.props.highlightDates)}),!n.focused&&!ep(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,s=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),he.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&he.createElement(qye,En({icon:a,className:Cr(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?he.createElement(CX,{enableTabLoop:this.props.enableTabLoop},he.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=he.createElement(kX,En({portalId:this.props.portalId},this.props),n)),he.createElement("div",null,this.renderInputContainer(),n)}return he.createElement(Yye,En({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(y.Component),Xye="input",AC="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:_X,setPrototypeOf:UI,isFrozen:Jye,getPrototypeOf:Qye,getOwnPropertyDescriptor:Zye}=Object;let{freeze:Fo,seal:wc,create:AX}=Object,{apply:EM,construct:DM}=typeof Reflect<"u"&&Reflect;Fo||(Fo=function(e){return e});wc||(wc=function(e){return e});EM||(EM=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return e.apply(r,a)});DM||(DM=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new e(...n)});const kw=$o(Array.prototype.forEach),ebe=$o(Array.prototype.lastIndexOf),WI=$o(Array.prototype.pop),My=$o(Array.prototype.push),tbe=$o(Array.prototype.splice),O2=$o(String.prototype.toLowerCase),TC=$o(String.prototype.toString),MC=$o(String.prototype.match),Oy=$o(String.prototype.replace),rbe=$o(String.prototype.indexOf),nbe=$o(String.prototype.trim),Qc=$o(Object.prototype.hasOwnProperty),_o=$o(RegExp.prototype.test),Ey=abe(TypeError);function $o(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return EM(t,e,n)}}function abe(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return DM(t,r)}}function kn(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O2;UI&&UI(t,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){const s=r(a);s!==a&&(Jye(e)||(e[n]=s),a=s)}t[a]=!0}return t}function ibe(t){for(let e=0;e<t.length;e++)Qc(t,e)||(t[e]=null);return t}function tf(t){const e=AX(null);for(const[r,n]of _X(t))Qc(t,r)&&(Array.isArray(n)?e[r]=ibe(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=tf(n):e[r]=n);return e}function Dy(t,e){for(;t!==null;){const n=Zye(t,e);if(n){if(n.get)return $o(n.get);if(typeof n.value=="function")return $o(n.value)}t=Qye(t)}function r(){return null}return r}const VI=Fo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),OC=Fo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),EC=Fo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sbe=Fo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),DC=Fo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),obe=Fo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),GI=Fo(["#text"]),YI=Fo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),PC=Fo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KI=Fo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Cw=Fo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lbe=wc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cbe=wc(/<%[\w\W]*|[\w\W]*%>/gm),ube=wc(/\$\{[\w\W]*/gm),dbe=wc(/^data-[\-\w.\u00B7-\uFFFF]+$/),fbe=wc(/^aria-[\-\w]+$/),TX=wc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hbe=wc(/^(?:\w+script|data):/i),mbe=wc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),MX=wc(/^html$/i),pbe=wc(/^[a-z][.\w]*(-[.\w]+)+$/i);var XI=Object.freeze({__proto__:null,ARIA_ATTR:fbe,ATTR_WHITESPACE:mbe,CUSTOM_ELEMENT:pbe,DATA_ATTR:dbe,DOCTYPE_NAME:MX,ERB_EXPR:cbe,IS_ALLOWED_URI:TX,IS_SCRIPT_OR_DATA:hbe,MUSTACHE_EXPR:lbe,TMPLIT_EXPR:ube});const Py={element:1,text:3,progressingInstruction:7,comment:8,document:9},gbe=function(){return typeof window>"u"?null:window},xbe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},JI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function OX(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gbe();const e=Mt=>OX(Mt);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==Py.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,a=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:p}=t,v=c.prototype,w=Dy(v,"cloneNode"),b=Dy(v,"remove"),N=Dy(v,"nextSibling"),k=Dy(v,"childNodes"),S=Dy(v,"parentNode");if(typeof o=="function"){const Mt=r.createElement("template");Mt.content&&Mt.content.ownerDocument&&(r=Mt.content.ownerDocument)}let A,_="";const{implementation:O,createNodeIterator:I,createDocumentFragment:L,getElementsByTagName:R}=r,{importNode:B}=n;let D=JI();e.isSupported=typeof _X=="function"&&typeof S=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:H,TMPLIT_EXPR:G,DATA_ATTR:Y,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:Z}=XI;let{IS_ALLOWED_URI:ce}=XI,X=null;const U=kn({},[...VI,...OC,...EC,...DC,...GI]);let J=null;const ee=kn({},[...YI,...PC,...KI,...Cw]);let ne=Object.seal(AX(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ue=null,Ae=null,ke=!0,je=!0,Ce=!1,Be=!0,fe=!1,ge=!0,ae=!1,ie=!1,ht=!1,ut=!1,Pe=!1,Ke=!1,yt=!0,Qe=!1;const Tt="user-content-";let _t=!0,Se=!1,gt={},at=null;const Nt=kn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let kt=null;const Ee=kn({},["audio","video","img","source","image","track"]);let vt=null;const bt=kn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Le="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let lt=et,be=!1,me=null;const qe=kn({},[Je,Le,et],TC);let ft=kn({},["mi","mo","mn","ms","mtext"]),Ge=kn({},["annotation-xml"]);const we=kn({},["title","style","font","a","script"]);let K=null;const ve=["application/xhtml+xml","text/html"],Re="text/html";let Ue=null,st=null;const De=r.createElement("form"),Fe=function(de){return de instanceof RegExp||de instanceof Function},ze=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(st&&st===de)){if((!de||typeof de!="object")&&(de={}),de=tf(de),K=ve.indexOf(de.PARSER_MEDIA_TYPE)===-1?Re:de.PARSER_MEDIA_TYPE,Ue=K==="application/xhtml+xml"?TC:O2,X=Qc(de,"ALLOWED_TAGS")?kn({},de.ALLOWED_TAGS,Ue):U,J=Qc(de,"ALLOWED_ATTR")?kn({},de.ALLOWED_ATTR,Ue):ee,me=Qc(de,"ALLOWED_NAMESPACES")?kn({},de.ALLOWED_NAMESPACES,TC):qe,vt=Qc(de,"ADD_URI_SAFE_ATTR")?kn(tf(bt),de.ADD_URI_SAFE_ATTR,Ue):bt,kt=Qc(de,"ADD_DATA_URI_TAGS")?kn(tf(Ee),de.ADD_DATA_URI_TAGS,Ue):Ee,at=Qc(de,"FORBID_CONTENTS")?kn({},de.FORBID_CONTENTS,Ue):Nt,ue=Qc(de,"FORBID_TAGS")?kn({},de.FORBID_TAGS,Ue):tf({}),Ae=Qc(de,"FORBID_ATTR")?kn({},de.FORBID_ATTR,Ue):tf({}),gt=Qc(de,"USE_PROFILES")?de.USE_PROFILES:!1,ke=de.ALLOW_ARIA_ATTR!==!1,je=de.ALLOW_DATA_ATTR!==!1,Ce=de.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=de.SAFE_FOR_TEMPLATES||!1,ge=de.SAFE_FOR_XML!==!1,ae=de.WHOLE_DOCUMENT||!1,ut=de.RETURN_DOM||!1,Pe=de.RETURN_DOM_FRAGMENT||!1,Ke=de.RETURN_TRUSTED_TYPE||!1,ht=de.FORCE_BODY||!1,yt=de.SANITIZE_DOM!==!1,Qe=de.SANITIZE_NAMED_PROPS||!1,_t=de.KEEP_CONTENT!==!1,Se=de.IN_PLACE||!1,ce=de.ALLOWED_URI_REGEXP||TX,lt=de.NAMESPACE||et,ft=de.MATHML_TEXT_INTEGRATION_POINTS||ft,Ge=de.HTML_INTEGRATION_POINTS||Ge,ne=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&Fe(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&Fe(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&(je=!1),Pe&&(ut=!0),gt&&(X=kn({},GI),J=[],gt.html===!0&&(kn(X,VI),kn(J,YI)),gt.svg===!0&&(kn(X,OC),kn(J,PC),kn(J,Cw)),gt.svgFilters===!0&&(kn(X,EC),kn(J,PC),kn(J,Cw)),gt.mathMl===!0&&(kn(X,DC),kn(J,KI),kn(J,Cw))),de.ADD_TAGS&&(X===U&&(X=tf(X)),kn(X,de.ADD_TAGS,Ue)),de.ADD_ATTR&&(J===ee&&(J=tf(J)),kn(J,de.ADD_ATTR,Ue)),de.ADD_URI_SAFE_ATTR&&kn(vt,de.ADD_URI_SAFE_ATTR,Ue),de.FORBID_CONTENTS&&(at===Nt&&(at=tf(at)),kn(at,de.FORBID_CONTENTS,Ue)),_t&&(X["#text"]=!0),ae&&kn(X,["html","head","body"]),X.table&&(kn(X,["tbody"]),delete ue.tbody),de.TRUSTED_TYPES_POLICY){if(typeof de.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ey('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof de.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ey('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=de.TRUSTED_TYPES_POLICY,_=A.createHTML("")}else A===void 0&&(A=xbe(p,a)),A!==null&&typeof _=="string"&&(_=A.createHTML(""));Fo&&Fo(de),st=de}},Rt=kn({},[...OC,...EC,...sbe]),Ht=kn({},[...DC,...obe]),Ut=function(de){let Ye=S(de);(!Ye||!Ye.tagName)&&(Ye={namespaceURI:lt,tagName:"template"});const wt=O2(de.tagName),or=O2(Ye.tagName);return me[de.namespaceURI]?de.namespaceURI===Le?Ye.namespaceURI===et?wt==="svg":Ye.namespaceURI===Je?wt==="svg"&&(or==="annotation-xml"||ft[or]):!!Rt[wt]:de.namespaceURI===Je?Ye.namespaceURI===et?wt==="math":Ye.namespaceURI===Le?wt==="math"&&Ge[or]:!!Ht[wt]:de.namespaceURI===et?Ye.namespaceURI===Le&&!Ge[or]||Ye.namespaceURI===Je&&!ft[or]?!1:!Ht[wt]&&(we[wt]||!Rt[wt]):!!(K==="application/xhtml+xml"&&me[de.namespaceURI]):!1},it=function(de){My(e.removed,{element:de});try{S(de).removeChild(de)}catch{b(de)}},jt=function(de,Ye){try{My(e.removed,{attribute:Ye.getAttributeNode(de),from:Ye})}catch{My(e.removed,{attribute:null,from:Ye})}if(Ye.removeAttribute(de),de==="is")if(ut||Pe)try{it(Ye)}catch{}else try{Ye.setAttribute(de,"")}catch{}},Wt=function(de){let Ye=null,wt=null;if(ht)de="<remove></remove>"+de;else{const Ot=MC(de,/^[\r\n\t ]+/);wt=Ot&&Ot[0]}K==="application/xhtml+xml"&&lt===et&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");const or=A?A.createHTML(de):de;if(lt===et)try{Ye=new g().parseFromString(or,K)}catch{}if(!Ye||!Ye.documentElement){Ye=O.createDocument(lt,"template",null);try{Ye.documentElement.innerHTML=be?_:or}catch{}}const Jr=Ye.body||Ye.documentElement;return de&&wt&&Jr.insertBefore(r.createTextNode(wt),Jr.childNodes[0]||null),lt===et?R.call(Ye,ae?"html":"body")[0]:ae?Ye.documentElement:Jr},gr=function(de){return I.call(de.ownerDocument||de,de,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},fn=function(de){return de instanceof m&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof f)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},gn=function(de){return typeof l=="function"&&de instanceof l};function nr(Mt,de,Ye){kw(Mt,wt=>{wt.call(e,de,Ye,st)})}const Ur=function(de){let Ye=null;if(nr(D.beforeSanitizeElements,de,null),fn(de))return it(de),!0;const wt=Ue(de.nodeName);if(nr(D.uponSanitizeElement,de,{tagName:wt,allowedTags:X}),ge&&de.hasChildNodes()&&!gn(de.firstElementChild)&&_o(/<[/\w!]/g,de.innerHTML)&&_o(/<[/\w!]/g,de.textContent)||de.nodeType===Py.progressingInstruction||ge&&de.nodeType===Py.comment&&_o(/<[/\w]/g,de.data))return it(de),!0;if(!X[wt]||ue[wt]){if(!ue[wt]&&Zt(wt)&&(ne.tagNameCheck instanceof RegExp&&_o(ne.tagNameCheck,wt)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(wt)))return!1;if(_t&&!at[wt]){const or=S(de)||de.parentNode,Jr=k(de)||de.childNodes;if(Jr&&or){const Ot=Jr.length;for(let tr=Ot-1;tr>=0;--tr){const Mr=w(Jr[tr],!0);Mr.__removalCount=(de.__removalCount||0)+1,or.insertBefore(Mr,N(de))}}}return it(de),!0}return de instanceof c&&!Ut(de)||(wt==="noscript"||wt==="noembed"||wt==="noframes")&&_o(/<\/no(script|embed|frames)/i,de.innerHTML)?(it(de),!0):(fe&&de.nodeType===Py.text&&(Ye=de.textContent,kw([M,H,G],or=>{Ye=Oy(Ye,or," ")}),de.textContent!==Ye&&(My(e.removed,{element:de.cloneNode()}),de.textContent=Ye)),nr(D.afterSanitizeElements,de,null),!1)},Kr=function(de,Ye,wt){if(yt&&(Ye==="id"||Ye==="name")&&(wt in r||wt in De))return!1;if(!(je&&!Ae[Ye]&&_o(Y,Ye))){if(!(ke&&_o(W,Ye))){if(!J[Ye]||Ae[Ye]){if(!(Zt(de)&&(ne.tagNameCheck instanceof RegExp&&_o(ne.tagNameCheck,de)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(de))&&(ne.attributeNameCheck instanceof RegExp&&_o(ne.attributeNameCheck,Ye)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(Ye,de))||Ye==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&_o(ne.tagNameCheck,wt)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(wt))))return!1}else if(!vt[Ye]){if(!_o(ce,Oy(wt,q,""))){if(!((Ye==="src"||Ye==="xlink:href"||Ye==="href")&&de!=="script"&&rbe(wt,"data:")===0&&kt[de])){if(!(Ce&&!_o($,Oy(wt,q,"")))){if(wt)return!1}}}}}}return!0},Zt=function(de){return de!=="annotation-xml"&&MC(de,Z)},Ze=function(de){nr(D.beforeSanitizeAttributes,de,null);const{attributes:Ye}=de;if(!Ye||fn(de))return;const wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let or=Ye.length;for(;or--;){const Jr=Ye[or],{name:Ot,namespaceURI:tr,value:Mr}=Jr,jr=Ue(Ot),cr=Mr;let Fr=Ot==="value"?cr:nbe(cr);if(wt.attrName=jr,wt.attrValue=Fr,wt.keepAttr=!0,wt.forceKeepAttr=void 0,nr(D.uponSanitizeAttribute,de,wt),Fr=wt.attrValue,Qe&&(jr==="id"||jr==="name")&&(jt(Ot,de),Fr=Tt+Fr),ge&&_o(/((--!?|])>)|<\/(style|title|textarea)/i,Fr)){jt(Ot,de);continue}if(jr==="attributename"&&MC(Fr,"href")){jt(Ot,de);continue}if(wt.forceKeepAttr)continue;if(!wt.keepAttr){jt(Ot,de);continue}if(!Be&&_o(/\/>/i,Fr)){jt(Ot,de);continue}fe&&kw([M,H,G],Hr=>{Fr=Oy(Fr,Hr," ")});const ha=Ue(de.nodeName);if(!Kr(ha,jr,Fr)){jt(Ot,de);continue}if(A&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!tr)switch(p.getAttributeType(ha,jr)){case"TrustedHTML":{Fr=A.createHTML(Fr);break}case"TrustedScriptURL":{Fr=A.createScriptURL(Fr);break}}if(Fr!==cr)try{tr?de.setAttributeNS(tr,Ot,Fr):de.setAttribute(Ot,Fr),fn(de)?it(de):WI(e.removed)}catch{jt(Ot,de)}}nr(D.afterSanitizeAttributes,de,null)},tt=function Mt(de){let Ye=null;const wt=gr(de);for(nr(D.beforeSanitizeShadowDOM,de,null);Ye=wt.nextNode();)nr(D.uponSanitizeShadowNode,Ye,null),Ur(Ye),Ze(Ye),Ye.content instanceof s&&Mt(Ye.content);nr(D.afterSanitizeShadowDOM,de,null)};return e.sanitize=function(Mt){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ye=null,wt=null,or=null,Jr=null;if(be=!Mt,be&&(Mt="<!-->"),typeof Mt!="string"&&!gn(Mt))if(typeof Mt.toString=="function"){if(Mt=Mt.toString(),typeof Mt!="string")throw Ey("dirty is not a string, aborting")}else throw Ey("toString is not a function");if(!e.isSupported)return Mt;if(ie||ze(de),e.removed=[],typeof Mt=="string"&&(Se=!1),Se){if(Mt.nodeName){const Mr=Ue(Mt.nodeName);if(!X[Mr]||ue[Mr])throw Ey("root node is forbidden and cannot be sanitized in-place")}}else if(Mt instanceof l)Ye=Wt("<!---->"),wt=Ye.ownerDocument.importNode(Mt,!0),wt.nodeType===Py.element&&wt.nodeName==="BODY"||wt.nodeName==="HTML"?Ye=wt:Ye.appendChild(wt);else{if(!ut&&!fe&&!ae&&Mt.indexOf("<")===-1)return A&&Ke?A.createHTML(Mt):Mt;if(Ye=Wt(Mt),!Ye)return ut?null:Ke?_:""}Ye&&ht&&it(Ye.firstChild);const Ot=gr(Se?Mt:Ye);for(;or=Ot.nextNode();)Ur(or),Ze(or),or.content instanceof s&&tt(or.content);if(Se)return Mt;if(ut){if(Pe)for(Jr=L.call(Ye.ownerDocument);Ye.firstChild;)Jr.appendChild(Ye.firstChild);else Jr=Ye;return(J.shadowroot||J.shadowrootmode)&&(Jr=B.call(n,Jr,!0)),Jr}let tr=ae?Ye.outerHTML:Ye.innerHTML;return ae&&X["!doctype"]&&Ye.ownerDocument&&Ye.ownerDocument.doctype&&Ye.ownerDocument.doctype.name&&_o(MX,Ye.ownerDocument.doctype.name)&&(tr="<!DOCTYPE "+Ye.ownerDocument.doctype.name+`>
`+tr),fe&&kw([M,H,G],Mr=>{tr=Oy(tr,Mr," ")}),A&&Ke?A.createHTML(tr):tr},e.setConfig=function(){let Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze(Mt),ie=!0},e.clearConfig=function(){st=null,ie=!1},e.isValidAttribute=function(Mt,de,Ye){st||ze({});const wt=Ue(Mt),or=Ue(de);return Kr(wt,or,Ye)},e.addHook=function(Mt,de){typeof de=="function"&&My(D[Mt],de)},e.removeHook=function(Mt,de){if(de!==void 0){const Ye=ebe(D[Mt],de);return Ye===-1?void 0:tbe(D[Mt],Ye,1)[0]}return WI(D[Mt])},e.removeHooks=function(Mt){D[Mt]=[]},e.removeAllHooks=function(){D=JI()},e}var md=OX();const ybe=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"}));function bbe(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const _w=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},QI=({isOpen:t,onClose:e,title:r,children:n,className:a,maxWidth:s="max-w-xl"})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s} ${a||"w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),PM=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const a=t*60+e,s=r*60+n;let o=Math.abs(s-a);return o>720&&(o=1440-o),o},LM=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},vbe=({record:t,onClose:e})=>{const r=(m,g)=>{if(m==null||g===null||g===void 0)return"-";const p=m.toString().padStart(2,"0"),v=g.toString().padStart(2,"0");return`${p}:${v}`},n=m=>m==null?"-":typeof m=="object"?m.name||JSON.stringify(m):typeof m=="string"?m.trim()!==""?m.trim():"-":typeof m=="number"?m.toLocaleString("id-ID"):String(m),a=PM(t.stopJam,t.stopMenit,t.startJam,t.startMenit),s=LM(a),o=({status:m})=>{const g={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},l=({activity:m})=>{const g={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},c=({title:m,children:g,icon:p})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[p&&i.jsx("div",{className:"mr-3 text-blue-600",children:p}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m})]})}),i.jsx("div",{className:"p-6",children:g})]}),u=({label:m,value:g,icon:p,fullWidth:v=!1,priority:w="medium"})=>{const b={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${v?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${b[w]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[p&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:p}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:m}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:g})]})]})})})},f=({label:m,htmlContent:g,icon:p,fullWidth:v=!1})=>{if(!g)return i.jsx(u,{label:m,value:"-",icon:p,fullWidth:v,priority:"low"});const w=md.sanitize(g,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${v?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[p&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:p}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:m}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:w}})]})]})})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),i.jsx(l,{activity:t.perbaikanPerawatan}),i.jsx(o,{status:t.stopTime})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),"Duration: ",n(s)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ia,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),i.jsx(c,{title:"Basic Information",icon:i.jsx(Cn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(u,{label:"Date",value:n(t.date),icon:i.jsx(La,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Shift",value:n(t.shift),icon:i.jsx(kr,{className:"w-4 h-4"})}),i.jsx(u,{label:"Group",value:n(t.group),icon:i.jsx(zi,{className:"w-4 h-4"})}),i.jsx(u,{label:"Machine",value:n(t.mesin),icon:i.jsx($i,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Unit",value:n(t.unit),icon:i.jsx(Qa,{className:"w-4 h-4"})}),i.jsx(u,{label:"Running Hour",value:n(t.runningHour),icon:i.jsx(kr,{className:"w-4 h-4"})})]})}),i.jsx(c,{title:"Time Details",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(u,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Duration",value:n(s),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Stop Type",value:n(t.stopTime),icon:i.jsx(Yr,{className:"w-4 h-4"})})]})}),i.jsx(c,{title:"Issue & Problem Details",icon:i.jsx(Yr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(u,{label:"Item Trouble",value:n(t.itemTrouble),icon:i.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Issue Description",value:n(t.jenisGangguan),icon:i.jsx(Yr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(f,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:i.jsx(wr,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(u,{label:"Root Cause",value:n(t.rootCause),icon:i.jsx(_i,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(c,{title:"Maintenance Activity",icon:i.jsx(ia,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(u,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:i.jsx($i,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:i.jsx(ia,{className:"w-4 h-4"})}),i.jsx(u,{label:"Kegiatan",value:n(t.kegiatan),icon:i.jsx(Cn,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(c,{title:"Spare Parts Used",icon:i.jsx(Qa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(u,{label:"Part Code",value:n(t.kodePart),icon:i.jsx(Qa,{className:"w-4 h-4"})}),i.jsx(u,{label:"Part Name",value:n(t.sparePart),icon:i.jsx(Qa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"ID Part",value:n(t.idPart),icon:i.jsx(Pg,{className:"w-4 h-4"})}),i.jsx(u,{label:"Quantity",value:n(t.jumlah),icon:i.jsx(cu,{className:"w-4 h-4"})}),i.jsx(u,{label:"Unit",value:n(t.unitSparePart),icon:i.jsx(Qa,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(c,{title:"Event Timeline",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[i.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),i.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),i.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),i.jsx("span",{className:"text-sm text-green-600",children:n(s)})]})]})}),i.jsx(c,{title:"Technical Summary",icon:i.jsx(cu,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),i.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(s)," downtime"]})]})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:i.jsx(E.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},wbe=()=>{const[t,e]=y.useState(()=>{const Ze=localStorage.getItem("sidebarOpen");return Ze?JSON.parse(Ze):!1}),[r,n]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(1),[k]=y.useState(10),{user:S,getMachineHistories:A,deleteMachineHistory:_,isAuthenticated:O,isMasterDataLoading:I,hasPermission:L}=ir(),[R,B]=y.useState([]),[D,M]=y.useState([]),[H,G]=y.useState(!0),[Y,W]=y.useState(null),[$,q]=y.useState([]),Z=ar(),[ce,X]=y.useState(window.innerWidth<768),[U,J]=y.useState(!1),[ee,ne]=y.useState(null),[ue,Ae]=y.useState(null),[ke,je]=y.useState(null),[Ce,Be]=y.useState([]),[fe,ge]=y.useState(!1),[ae,ie]=y.useState(!1),ht=y.useRef(null),ut=y.useRef(null),[Pe,Ke]=y.useState({key:"date",direction:"descending"}),[yt,Qe]=y.useState(!1),Tt=y.useRef(null),_t=y.useRef(null),[Se,gt]=y.useState(!1),[at,Nt]=y.useState(!1),[kt,Ee]=y.useState(null),[vt,bt]=y.useState(!1),Je=y.useRef(null),[Le,et]=y.useState(!1),lt=y.useRef(null),be=location.pathname==="/machinehistory",me=location.pathname==="/machinehistory/reports",qe=bbe(r,300),ft=y.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),Ge=y.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),we=y.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),K=y.useCallback(async()=>{try{G(!0);const Ze=await A();B(Ze||[]),M(Ze||[]);const tt=Array.from(new Set(Ze.map(Mt=>Mt.mesin))).filter(Boolean).map(Mt=>({id:Mt,name:Mt}));q(tt)}catch(Ze){console.error("Failed to load data:",Ze),B([]),q([])}finally{G(!1)}},[A]),ve=Ze=>{const tt=Ze.target.value;n(tt)};y.useEffect(()=>{N(1)},[]),y.useEffect(()=>{K()},[K]),y.useEffect(()=>{let Ze=[...R];if(qe.trim()){const tt=qe.toLowerCase().trim();Ze=Ze.filter(Mt=>{var Mr,jr,cr,Fr;const de=tt.split(":");let Ye="all",wt=tt;de.length>1&&ft.some(ha=>ha.name.toLowerCase()===de[0].trim())&&(Ye=de[0].trim(),wt=de.slice(1).join(":").trim());const or=(Mr=Mt.mesin)==null?void 0:Mr.toLowerCase().includes(wt),Jr=(jr=Mt.jenisGangguan)==null?void 0:jr.toLowerCase().includes(wt),Ot=(cr=Mt.id)==null?void 0:cr.toLowerCase().includes(wt),tr=(Fr=Mt.itemTrouble)==null?void 0:Fr.toLowerCase().includes(wt);return Ye==="machine name"?or:Ye==="issue description"?Jr:Ye==="record id"?Ot:Ye==="item trouble"?tr:or||Jr||Ot||tr})}if(ue){const tt=new Date(ue);tt.setHours(0,0,0,0),Ze=Ze.filter(Mt=>{const de=new Date(Mt.date);return de.setHours(0,0,0,0),de>=tt})}if(ke){const tt=new Date(ke);tt.setHours(23,59,59,999),Ze=Ze.filter(Mt=>{const de=new Date(Mt.date);return de.setHours(0,0,0,0),de<=tt})}o.length>0&&(Ze=Ze.filter(tt=>o.includes(tt.perbaikanPerawatan))),c.length>0&&(Ze=Ze.filter(tt=>c.includes(tt.mesin))),Ce.length>0&&(Ze=Ze.filter(tt=>Ce.includes(tt.shift))),Pe!==null&&Ze.sort((tt,Mt)=>{const de=De(tt[Pe.key]),Ye=De(Mt[Pe.key]);return de<Ye?Pe.direction==="ascending"?-1:1:de>Ye?Pe.direction==="ascending"?1:-1:0}),M(Ze)},[R,qe,ue,ke,o,c,Ce,Pe,ft,Ge,we]),y.useEffect(()=>{const Ze=()=>{X(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Ze),()=>window.removeEventListener("resize",Ze)},[]),y.useEffect(()=>{const Ze=tt=>{ht.current&&!ht.current.contains(tt.target)&&ge(!1),ut.current&&!ut.current.contains(tt.target)&&ie(!1),Tt.current&&!Tt.current.contains(tt.target)&&!tt.target.closest(".search-suggestions")&&Qe(!1),_t.current&&!_t.current.contains(tt.target)&&!tt.target.closest(".machine-filter-toggle")&&gt(!1),Je.current&&!Je.current.contains(tt.target)&&!tt.target.closest(".status-filter-toggle")&&bt(!1),lt.current&&!lt.current.contains(tt.target)&&!tt.target.closest(".shift-filter-toggle")&&et(!1)};return document.addEventListener("mousedown",Ze),()=>{document.removeEventListener("mousedown",Ze)}},[]);const Re=he.useMemo(()=>{if(!r)return ft;const Ze=r.toLowerCase();return ft.filter(tt=>tt.name.toLowerCase().includes(Ze))},[r,ft]),Ue=Ze=>{var tt;n(`${Ze}: `),Qe(!1),(tt=Tt.current)==null||tt.focus()},st=Ze=>{let tt="ascending";Pe&&Pe.key===Ze&&Pe.direction==="ascending"&&(tt="descending"),Ke({key:Ze,direction:tt})},De=Ze=>typeof Ze=="object"&&Ze!==null?Ze.name||Ze.toString():(Ze==null?void 0:Ze.toString())||"",Fe=async Ze=>{try{await _(Ze),B(R.filter(tt=>tt.id!==Ze)),J(!1),ne(null)}catch(tt){console.error("Failed to delete record:",tt),W("Failed to delete record. Please try again.")}},ze=b*k,Rt=ze-k,Ht=D.slice(Rt,ze),Ut=Math.ceil(D.length/k),it=Ze=>N(Ze),jt=(Ze,tt)=>{if(Ze==null||tt===null||tt===void 0)return"-";const Mt=Ze.toString().padStart(2,"0"),de=tt.toString().padStart(2,"0");return`${Mt}:${de}`},Wt=Ze=>{const tt=PM(Ze.stopJam,Ze.stopMenit,Ze.startJam,Ze.startMenit);return LM(tt)},gr=Ze=>{switch((Ze||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},fn=(Ze,tt)=>{u(tt?Mt=>[...Mt,Ze]:Mt=>Mt.filter(de=>de!==Ze))},gn=(Ze,tt)=>{l(tt?Mt=>[...Mt,Ze]:Mt=>Mt.filter(de=>de!==Ze))},nr=(Ze,tt)=>{Be(tt?Mt=>[...Mt,Ze]:Mt=>Mt.filter(de=>de!==Ze))},Ur=()=>{alert("Import functionality is not yet implemented.")},Kr=Ze=>{w(Ze),p(!0)},Zt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Ze=>!Ze)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:ce,toggleSidebar:Zt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Z("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${be?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Z("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${me?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",i.jsx("span",{className:"text-blue-600",children:"Records"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[L("create_machine_history")&&i.jsxs(E.button,{onClick:()=>Z("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Record"})]}),i.jsxs(E.button,{onClick:Ur,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>m(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(_w,{title:"Total Records",value:D.length.toLocaleString("id-ID"),change:"+8%",icon:i.jsx(Cn,{})}),i.jsx(_w,{title:"Avg Durationtime",value:D.length>0?LM(Math.round(D.reduce((Ze,tt)=>{const Mt=PM(tt.stopJam,tt.stopMenit,tt.startJam,tt.startMenit)||0;return Ze+Mt},0)/D.length)):"0min",change:"-5%",icon:i.jsx(kr,{})}),i.jsx(_w,{title:"Repairs",value:D.filter(Ze=>Ze.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:i.jsx(ia,{})}),i.jsx(_w,{title:"Maintenance",value:D.filter(Ze=>Ze.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:i.jsx(wr,{})})]}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:Tt,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:ve,onFocus:()=>Qe(!0),"aria-label":"Search records"}),i.jsx(sr,{children:yt&&Re.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Re.map(Ze=>i.jsx(E.button,{onClick:()=>Ue(Ze.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:Ze.name})},Ze.id))})})]})}),i.jsx(sr,{children:f&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[i.jsx(La,{className:"text-gray-500 text-base"}),i.jsx(am,{selected:ue,onChange:Ze=>Ae(Ze),selectsStart:!0,startDate:ue,endDate:ke,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),i.jsx("span",{className:"text-gray-400",children:"-"}),i.jsx(am,{selected:ke,onChange:Ze=>je(Ze),selectsEnd:!0,startDate:ue,endDate:ke,minDate:ue||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(ue||ke)&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ae(null),je(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:i.jsx(zt,{className:"text-base"})})]}),i.jsxs("div",{ref:Je,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:Ze=>{Ze.stopPropagation(),bt(!vt)},"aria-expanded":vt,"aria-haspopup":"true","aria-label":"Filter by Type",children:[i.jsx("span",{children:o.length>0?o.length===Ge.length?"All Types":`Selected (${o.length})`:"All Types"}),i.jsx(ja,{className:`transform transition-transform ${vt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:vt&&i.jsxs(E.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===Ge.length&&Ge.length>0,onChange:Ze=>{Ze.target.checked?l(Ge.map(tt=>tt.value)):l([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Ge.map(Ze=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(Ze.value),onChange:tt=>gn(Ze.value,tt.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Ze.label})]},Ze.value))]})})]}),i.jsxs("div",{ref:_t,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>gt(!Se),"aria-expanded":Se,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[i.jsx("span",{children:c.length>0?c.length===$.length&&$.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),i.jsx(ja,{className:`transform transition-transform ${Se?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:Se&&i.jsxs(E.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===$.length&&$.length>0,onChange:Ze=>{Ze.target.checked?u($.map(tt=>tt.name)):u([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),$.map(Ze=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(Ze.name),onChange:tt=>fn(Ze.name,tt.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Ze.name})]},Ze.id))]})})]}),i.jsxs("div",{ref:lt,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:Ze=>{Ze.stopPropagation(),et(!Le)},"aria-expanded":Le,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[i.jsx("span",{children:Ce.length>0?Ce.length===we.length?"All Shifts":`Selected (${Ce.length})`:"All Shifts"}),i.jsx(ja,{className:`transform transition-transform ${Le?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:Le&&i.jsxs(E.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ce.length===we.length&&we.length>0,onChange:Ze=>{Ze.target.checked?Be(we.map(tt=>tt.value)):Be([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),we.map(Ze=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ce.includes(Ze.value),onChange:tt=>nr(Ze.value,tt.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Ze.label})]},Ze.value))]})})]})]})})]}),H?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):D.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Qi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:qe||o.length>0||c.length>0||ue||ke||Ce.length>0?"No records found matching your filters.":"No records available."}),(qe||o.length>0||c.length>0||ue||ke||Ce.length>0)&&i.jsx("button",{onClick:()=>{n(""),l([]),u([]),Ae(null),je(null),Be([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>st("date"),children:["Date",(Pe==null?void 0:Pe.key)==="date"&&i.jsx("span",{className:"ml-1",children:Pe.direction==="ascending"?"":""})]}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ht.map(Ze=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ze.date}),i.jsxs("div",{className:"text-xs text-gray-600",children:[jt(Ze.stopJam,Ze.stopMenit)," - ",jt(Ze.startJam,Ze.startMenit)]})]}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ze.mesin}),i.jsx("div",{className:"text-xs text-gray-600",children:Ze.unit})]}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",Ze.shift,", Group ",Ze.group]})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Wt(Ze)})}),i.jsxs("td",{className:"px-5 py-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ze.itemTrouble}),i.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:Ze.jenisGangguan})]}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx(E.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${gr(Ze.stopTime)}`,children:Ze.stopTime})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(`/machinehistory/edit/${Ze.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${Ze.mesin} on ${Ze.date}`,children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ne(Ze.id),J(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${Ze.mesin} on ${Ze.date}`,children:i.jsx(Ma,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Kr(Ze),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${Ze.mesin} on ${Ze.date}`,children:i.jsx(Io,{className:"inline text-base"})})]})]},Ze.id))})]})})}),D.length>k&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Rt+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(ze,D.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:D.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>it(b-1),disabled:b===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ut},(Ze,tt)=>i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>it(tt+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${b===tt+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${tt+1}`,children:tt+1},tt+1)),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>it(b+1),disabled:b===Ut,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),v&&i.jsx(QI,{isOpen:g,onClose:()=>{p(!1),w(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:i.jsx(vbe,{record:v,onClose:()=>p(!1)})}),i.jsx(QI,{isOpen:U,onClose:()=>J(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>J(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ee&&Fe(ee),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}function jbe(t,e){if(Hn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EX(t){var e=jbe(t,"string");return Hn(e)=="symbol"?e:e+""}function eb(t,e,r){return(e=EX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){eb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nbe(t){if(Array.isArray(t))return t}function Sbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DX(t,e){if(t){if(typeof t=="string")return RM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RM(t,e):void 0}}function kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function su(t,e){return Nbe(t)||Sbe(t,e)||DX(t,e)||kbe()}function Cbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function pd(t,e){if(t==null)return{};var r,n,a=Cbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var _be=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function PX(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,o=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,f=t.onInputChange,m=t.onMenuClose,g=t.onMenuOpen,p=t.value,v=pd(t,_be),w=y.useState(l!==void 0?l:r),b=su(w,2),N=b[0],k=b[1],S=y.useState(c!==void 0?c:a),A=su(S,2),_=A[0],O=A[1],I=y.useState(p!==void 0?p:o),L=su(I,2),R=L[0],B=L[1],D=y.useCallback(function(q,Z){typeof u=="function"&&u(q,Z),B(q)},[u]),M=y.useCallback(function(q,Z){var ce;typeof f=="function"&&(ce=f(q,Z)),k(ce!==void 0?ce:q)},[f]),H=y.useCallback(function(){typeof g=="function"&&g(),O(!0)},[g]),G=y.useCallback(function(){typeof m=="function"&&m(),O(!1)},[m]),Y=l!==void 0?l:N,W=c!==void 0?c:_,$=p!==void 0?p:R;return Rr(Rr({},v),{},{inputValue:Y,menuIsOpen:W,onChange:D,onInputChange:M,onMenuClose:G,onMenuOpen:H,value:$})}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qr.apply(null,arguments)}function Abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EX(n.key),n)}}function Tbe(t,e,r){return e&&e9(t.prototype,e),r&&e9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},IM(t,e)}function Mbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function bj(t){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bj(t)}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function Obe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ebe(t,e){if(e&&(Hn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(t)}function Dbe(t){var e=LX();return function(){var r,n=bj(t);if(e){var a=bj(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ebe(this,r)}}function Pbe(t){if(Array.isArray(t))return RM(t)}function Lbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yg(t){return Pbe(t)||Lbe(t)||DX(t)||Rbe()}function Ibe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Fbe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $be=(function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Fbe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Ibe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t})(),oo="-ms-",vj="-moz-",Zn="-webkit-",RX="comm",aD="rule",iD="decl",Bbe="@import",IX="@keyframes",Hbe="@layer",zbe=Math.abs,RN=String.fromCharCode,qbe=Object.assign;function Ube(t,e){return Gs(t,0)^45?(((e<<2^Gs(t,0))<<2^Gs(t,1))<<2^Gs(t,2))<<2^Gs(t,3):0}function FX(t){return t.trim()}function Wbe(t,e){return(t=e.exec(t))?t[0]:t}function ea(t,e,r){return t.replace(e,r)}function FM(t,e){return t.indexOf(e)}function Gs(t,e){return t.charCodeAt(e)|0}function Wb(t,e,r){return t.slice(e,r)}function Uu(t){return t.length}function sD(t){return t.length}function Aw(t,e){return e.push(t),t}function Vbe(t,e){return t.map(e).join("")}var IN=1,zg=1,$X=0,ul=0,Zi=0,Tx="";function FN(t,e,r,n,a,s,o){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:IN,column:zg,length:o,return:""}}function Ly(t,e){return qbe(FN("",null,null,"",null,null,0),t,{length:-t.length},e)}function Gbe(){return Zi}function Ybe(){return Zi=ul>0?Gs(Tx,--ul):0,zg--,Zi===10&&(zg=1,IN--),Zi}function Ml(){return Zi=ul<$X?Gs(Tx,ul++):0,zg++,Zi===10&&(zg=1,IN++),Zi}function nd(){return Gs(Tx,ul)}function E2(){return ul}function r1(t,e){return Wb(Tx,t,e)}function Vb(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BX(t){return IN=zg=1,$X=Uu(Tx=t),ul=0,[]}function HX(t){return Tx="",t}function D2(t){return FX(r1(ul-1,$M(t===91?t+2:t===40?t+1:t)))}function Kbe(t){for(;(Zi=nd())&&Zi<33;)Ml();return Vb(t)>2||Vb(Zi)>3?"":" "}function Xbe(t,e){for(;--e&&Ml()&&!(Zi<48||Zi>102||Zi>57&&Zi<65||Zi>70&&Zi<97););return r1(t,E2()+(e<6&&nd()==32&&Ml()==32))}function $M(t){for(;Ml();)switch(Zi){case t:return ul;case 34:case 39:t!==34&&t!==39&&$M(Zi);break;case 40:t===41&&$M(t);break;case 92:Ml();break}return ul}function Jbe(t,e){for(;Ml()&&t+Zi!==57;)if(t+Zi===84&&nd()===47)break;return"/*"+r1(e,ul-1)+"*"+RN(t===47?t:Ml())}function Qbe(t){for(;!Vb(nd());)Ml();return r1(t,ul)}function Zbe(t){return HX(P2("",null,null,null,[""],t=BX(t),0,[0],t))}function P2(t,e,r,n,a,s,o,l,c){for(var u=0,f=0,m=o,g=0,p=0,v=0,w=1,b=1,N=1,k=0,S="",A=a,_=s,O=n,I=S;b;)switch(v=k,k=Ml()){case 40:if(v!=108&&Gs(I,m-1)==58){FM(I+=ea(D2(k),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:I+=D2(k);break;case 9:case 10:case 13:case 32:I+=Kbe(v);break;case 92:I+=Xbe(E2()-1,7);continue;case 47:switch(nd()){case 42:case 47:Aw(eve(Jbe(Ml(),E2()),e,r),c);break;default:I+="/"}break;case 123*w:l[u++]=Uu(I)*N;case 125*w:case 59:case 0:switch(k){case 0:case 125:b=0;case 59+f:N==-1&&(I=ea(I,/\f/g,"")),p>0&&Uu(I)-m&&Aw(p>32?r9(I+";",n,r,m-1):r9(ea(I," ","")+";",n,r,m-2),c);break;case 59:I+=";";default:if(Aw(O=t9(I,e,r,u,f,a,l,S,A=[],_=[],m),s),k===123)if(f===0)P2(I,e,O,O,A,s,m,l,_);else switch(g===99&&Gs(I,3)===110?100:g){case 100:case 108:case 109:case 115:P2(t,O,O,n&&Aw(t9(t,O,O,0,0,a,l,S,a,A=[],m),_),a,_,m,l,n?A:_);break;default:P2(I,O,O,O,[""],_,0,l,_)}}u=f=p=0,w=N=1,S=I="",m=o;break;case 58:m=1+Uu(I),p=v;default:if(w<1){if(k==123)--w;else if(k==125&&w++==0&&Ybe()==125)continue}switch(I+=RN(k),k*w){case 38:N=f>0?1:(I+="\f",-1);break;case 44:l[u++]=(Uu(I)-1)*N,N=1;break;case 64:nd()===45&&(I+=D2(Ml())),g=nd(),f=m=Uu(S=I+=Qbe(E2())),k++;break;case 45:v===45&&Uu(I)==2&&(w=0)}}return s}function t9(t,e,r,n,a,s,o,l,c,u,f){for(var m=a-1,g=a===0?s:[""],p=sD(g),v=0,w=0,b=0;v<n;++v)for(var N=0,k=Wb(t,m+1,m=zbe(w=o[v])),S=t;N<p;++N)(S=FX(w>0?g[N]+" "+k:ea(k,/&\f/g,g[N])))&&(c[b++]=S);return FN(t,e,r,a===0?aD:l,c,u,f)}function eve(t,e,r){return FN(t,e,r,RX,RN(Gbe()),Wb(t,2,-2),0)}function r9(t,e,r,n){return FN(t,e,r,iD,Wb(t,0,n),Wb(t,n+1,-1),n)}function bg(t,e){for(var r="",n=sD(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function tve(t,e,r,n){switch(t.type){case Hbe:if(t.children.length)break;case Bbe:case iD:return t.return=t.return||t.value;case RX:return"";case IX:return t.return=t.value+"{"+bg(t.children,n)+"}";case aD:t.value=t.props.join(",")}return Uu(r=bg(t.children,n))?t.return=t.value+"{"+r+"}":""}function rve(t){var e=sD(t);return function(r,n,a,s){for(var o="",l=0;l<e;l++)o+=t[l](r,n,a,s)||"";return o}}function nve(t){return function(e){e.root||(e=e.return)&&t(e)}}function ave(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var ive=function(e,r,n){for(var a=0,s=0;a=s,s=nd(),a===38&&s===12&&(r[n]=1),!Vb(s);)Ml();return r1(e,ul)},sve=function(e,r){var n=-1,a=44;do switch(Vb(a)){case 0:a===38&&nd()===12&&(r[n]=1),e[n]+=ive(ul-1,r,n);break;case 2:e[n]+=D2(a);break;case 4:if(a===44){e[++n]=nd()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=RN(a)}while(a=Ml());return e},ove=function(e,r){return HX(sve(BX(e),r))},n9=new WeakMap,lve=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!n9.get(n))&&!a){n9.set(e,!0);for(var s=[],o=ove(r,s),l=n.props,c=0,u=0;c<o.length;c++)for(var f=0;f<l.length;f++,u++)e.props[u]=s[c]?o[c].replace(/&\f/g,l[f]):l[f]+" "+o[c]}}},cve=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function zX(t,e){switch(Ube(t,e)){case 5103:return Zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Zn+t+vj+t+oo+t+t;case 6828:case 4268:return Zn+t+oo+t+t;case 6165:return Zn+t+oo+"flex-"+t+t;case 5187:return Zn+t+ea(t,/(\w+).+(:[^]+)/,Zn+"box-$1$2"+oo+"flex-$1$2")+t;case 5443:return Zn+t+oo+"flex-item-"+ea(t,/flex-|-self/,"")+t;case 4675:return Zn+t+oo+"flex-line-pack"+ea(t,/align-content|flex-|-self/,"")+t;case 5548:return Zn+t+oo+ea(t,"shrink","negative")+t;case 5292:return Zn+t+oo+ea(t,"basis","preferred-size")+t;case 6060:return Zn+"box-"+ea(t,"-grow","")+Zn+t+oo+ea(t,"grow","positive")+t;case 4554:return Zn+ea(t,/([^-])(transform)/g,"$1"+Zn+"$2")+t;case 6187:return ea(ea(ea(t,/(zoom-|grab)/,Zn+"$1"),/(image-set)/,Zn+"$1"),t,"")+t;case 5495:case 3959:return ea(t,/(image-set\([^]*)/,Zn+"$1$`$1");case 4968:return ea(ea(t,/(.+:)(flex-)?(.*)/,Zn+"box-pack:$3"+oo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zn+t+t;case 4095:case 3583:case 4068:case 2532:return ea(t,/(.+)-inline(.+)/,Zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Uu(t)-1-e>6)switch(Gs(t,e+1)){case 109:if(Gs(t,e+4)!==45)break;case 102:return ea(t,/(.+:)(.+)-([^]+)/,"$1"+Zn+"$2-$3$1"+vj+(Gs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~FM(t,"stretch")?zX(ea(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Gs(t,e+1)!==115)break;case 6444:switch(Gs(t,Uu(t)-3-(~FM(t,"!important")&&10))){case 107:return ea(t,":",":"+Zn)+t;case 101:return ea(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zn+(Gs(t,14)===45?"inline-":"")+"box$3$1"+Zn+"$2$3$1"+oo+"$2box$3")+t}break;case 5936:switch(Gs(t,e+11)){case 114:return Zn+t+oo+ea(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Zn+t+oo+ea(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Zn+t+oo+ea(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Zn+t+oo+t+t}return t}var uve=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case iD:e.return=zX(e.value,e.length);break;case IX:return bg([Ly(e,{value:ea(e.value,"@","@"+Zn)})],a);case aD:if(e.length)return Vbe(e.props,function(s){switch(Wbe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bg([Ly(e,{props:[ea(s,/:(read-\w+)/,":"+vj+"$1")]})],a);case"::placeholder":return bg([Ly(e,{props:[ea(s,/:(plac\w+)/,":"+Zn+"input-$1")]}),Ly(e,{props:[ea(s,/:(plac\w+)/,":"+vj+"$1")]}),Ly(e,{props:[ea(s,/:(plac\w+)/,oo+"input-$1")]})],a)}return""})}},dve=[uve],fve=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var b=w.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=e.stylisPlugins||dve,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var b=w.getAttribute("data-emotion").split(" "),N=1;N<b.length;N++)s[b[N]]=!0;l.push(w)});var c,u=[lve,cve];{var f,m=[tve,nve(function(w){f.insert(w)})],g=rve(u.concat(a,m)),p=function(b){return bg(Zbe(b),g)};c=function(b,N,k,S){f=k,p(b?b+"{"+N.styles+"}":N.styles),S&&(v.inserted[N.name]=!0)}}var v={key:r,sheet:new $be({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return v.sheet.hydrate(l),v},LC={exports:{}},ra={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a9;function hve(){if(a9)return ra;a9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var O=_.$$typeof;switch(O){case e:switch(_=_.type,_){case c:case u:case n:case s:case a:case m:return _;default:switch(_=_&&_.$$typeof,_){case l:case f:case v:case p:case o:return _;default:return O}}case r:return O}}}function A(_){return S(_)===u}return ra.AsyncMode=c,ra.ConcurrentMode=u,ra.ContextConsumer=l,ra.ContextProvider=o,ra.Element=e,ra.ForwardRef=f,ra.Fragment=n,ra.Lazy=v,ra.Memo=p,ra.Portal=r,ra.Profiler=s,ra.StrictMode=a,ra.Suspense=m,ra.isAsyncMode=function(_){return A(_)||S(_)===c},ra.isConcurrentMode=A,ra.isContextConsumer=function(_){return S(_)===l},ra.isContextProvider=function(_){return S(_)===o},ra.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},ra.isForwardRef=function(_){return S(_)===f},ra.isFragment=function(_){return S(_)===n},ra.isLazy=function(_){return S(_)===v},ra.isMemo=function(_){return S(_)===p},ra.isPortal=function(_){return S(_)===r},ra.isProfiler=function(_){return S(_)===s},ra.isStrictMode=function(_){return S(_)===a},ra.isSuspense=function(_){return S(_)===m},ra.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===u||_===s||_===a||_===m||_===g||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===l||_.$$typeof===f||_.$$typeof===b||_.$$typeof===N||_.$$typeof===k||_.$$typeof===w)},ra.typeOf=S,ra}var i9;function mve(){return i9||(i9=1,LC.exports=hve()),LC.exports}var RC,s9;function pve(){if(s9)return RC;s9=1;var t=mve(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=n,s[t.Memo]=a;function o(v){return t.isMemo(v)?a:s[v.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function p(v,w,b){if(typeof w!="string"){if(g){var N=m(w);N&&N!==g&&p(v,N,b)}var k=c(w);u&&(k=k.concat(u(w)));for(var S=o(v),A=o(w),_=0;_<k.length;++_){var O=k[_];if(!r[O]&&!(b&&b[O])&&!(A&&A[O])&&!(S&&S[O])){var I=f(w,O);try{l(v,O,I)}catch{}}}}return v}return RC=p,RC}pve();var gve=!0;function xve(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var qX=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||gve===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},yve=function(e,r,n){qX(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function bve(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wve=/[A-Z]|^ms/g,jve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,UX=function(e){return e.charCodeAt(1)===45},o9=function(e){return e!=null&&typeof e!="boolean"},IC=ave(function(t){return UX(t)?t:t.replace(wve,"-$&").toLowerCase()}),l9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(jve,function(n,a,s){return Wu={name:a,styles:s,next:Wu},a})}return vve[e]!==1&&!UX(e)&&typeof r=="number"&&r!==0?r+"px":r};function Gb(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Wu={name:a.name,styles:a.styles,next:Wu},a.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Wu={name:o.name,styles:o.styles,next:Wu},o=o.next;var l=s.styles+";";return l}return Nve(t,e,r)}case"function":{if(t!==void 0){var c=Wu,u=r(t);return Wu=c,Gb(t,e,u)}break}}var f=r;return f}function Nve(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Gb(t,e,r[a])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var l=o;o9(l)&&(n+=IC(s)+":"+l9(s,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)o9(o[c])&&(n+=IC(s)+":"+l9(s,o[c])+";");else{var u=Gb(t,e,o);switch(s){case"animation":case"animationName":{n+=IC(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var c9=/label:\s*([^\s;{]+)\s*(;|$)/g,Wu;function WX(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Wu=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Gb(r,e,s);else{var o=s;a+=o[0]}for(var l=1;l<t.length;l++)if(a+=Gb(r,e,t[l]),n){var c=s;a+=c[l]}c9.lastIndex=0;for(var u="",f;(f=c9.exec(a))!==null;)u+="-"+f[1];var m=bve(a)+u;return{name:m,styles:a,next:Wu}}var Sve=function(e){return e()},kve=Y2.useInsertionEffect?Y2.useInsertionEffect:!1,Cve=kve||Sve,VX=y.createContext(typeof HTMLElement<"u"?fve({key:"css"}):null);VX.Provider;var _ve=function(e){return y.forwardRef(function(r,n){var a=y.useContext(VX);return e(r,a,n)})},Ave=y.createContext({}),oD={}.hasOwnProperty,BM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Tve=function(e,r){var n={};for(var a in r)oD.call(r,a)&&(n[a]=r[a]);return n[BM]=e,n},Mve=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return qX(r,n,a),Cve(function(){return yve(r,n,a)}),null},Ove=_ve(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[BM],s=[n],o="";typeof t.className=="string"?o=xve(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=WX(s,void 0,y.useContext(Ave));o+=e.key+"-"+l.name;var c={};for(var u in t)oD.call(t,u)&&u!=="css"&&u!==BM&&(c[u]=t[u]);return c.className=o,r&&(c.ref=r),y.createElement(y.Fragment,null,y.createElement(Mve,{cache:e,serialized:l,isStringTag:typeof a=="string"}),y.createElement(a,c))}),Eve=Ove,Lr=function(e,r){var n=arguments;if(r==null||!oD.call(r,"css"))return y.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Eve,s[1]=Tve(e,r);for(var o=2;o<a;o++)s[o]=n[o];return y.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Lr||(Lr={}));function lD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return WX(e)}function Dve(){var t=lD.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Pve(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var HM=y.useLayoutEffect,Lve=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],wj=function(){};function Rve(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Ive(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Rve(t,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var jj=function(e){return Vve(e)?e.filter(Boolean):Hn(e)==="object"&&e!==null?[e]:[]},GX=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=pd(e,Lve);return Rr({},r)},Ni=function(e,r,n){var a=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},o(r,e),l)}};function $N(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Fve(t){return $N(t)?window.innerHeight:t.clientHeight}function YX(t){return $N(t)?window.pageYOffset:t.scrollTop}function Nj(t,e){if($N(t)){window.scrollTo(0,e);return}t.scrollTop=e}function $ve(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Bve(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Tw(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:wj,a=YX(t),s=e-a,o=10,l=0;function c(){l+=o;var u=Bve(l,a,s,r);Nj(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function u9(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Nj(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Nj(t,Math.max(e.offsetTop-a,0))}function Hve(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function d9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function zve(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var KX=!1,qve={get passive(){return KX=!0}},Mw=typeof window<"u"?window:{};Mw.addEventListener&&Mw.removeEventListener&&(Mw.addEventListener("p",wj,qve),Mw.removeEventListener("p",wj,!1));var Uve=KX;function Wve(t){return t!=null}function Vve(t){return Array.isArray(t)}function tb(t,e,r){return t?e:r}var Gve=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(o){var l=su(o,1),c=l[0];return!n.includes(c)});return s.reduce(function(o,l){var c=su(l,2),u=c[0],f=c[1];return o[u]=f,o},{})},Yve=["children","innerProps"],Kve=["children","innerProps"];function Xve(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=$ve(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var f=c.getBoundingClientRect(),m=f.height,g=r.getBoundingClientRect(),p=g.bottom,v=g.height,w=g.top,b=r.offsetParent.getBoundingClientRect(),N=b.top,k=o?window.innerHeight:Fve(c),S=YX(c),A=parseInt(getComputedStyle(r).marginBottom,10),_=parseInt(getComputedStyle(r).marginTop,10),O=N-_,I=k-w,L=O+S,R=m-S-w,B=p-k+S+A,D=S+w-_,M=160;switch(a){case"auto":case"bottom":if(I>=v)return{placement:"bottom",maxHeight:e};if(R>=v&&!o)return s&&Tw(c,B,M),{placement:"bottom",maxHeight:e};if(!o&&R>=n||o&&I>=n){s&&Tw(c,B,M);var H=o?I-A:R-A;return{placement:"bottom",maxHeight:H}}if(a==="auto"||o){var G=e,Y=o?O:L;return Y>=n&&(G=Math.min(Y-A-l,e)),{placement:"top",maxHeight:G}}if(a==="bottom")return s&&Nj(c,B),{placement:"bottom",maxHeight:e};break;case"top":if(O>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return s&&Tw(c,D,M),{placement:"top",maxHeight:e};if(!o&&L>=n||o&&O>=n){var W=e;return(!o&&L>=n||o&&O>=n)&&(W=o?O-_:L-_),s&&Tw(c,D,M),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Jve(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var XX=function(e){return e==="auto"?"bottom":e},Qve=function(e,r){var n,a=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,c=s.colors;return Rr((n={label:"menu"},eb(n,Jve(a),"100%"),eb(n,"position","absolute"),eb(n,"width","100%"),eb(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},JX=y.createContext(null),Zve=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=y.useContext(JX)||{},f=u.setPortalPlacement,m=y.useRef(null),g=y.useState(a),p=su(g,2),v=p[0],w=p[1],b=y.useState(null),N=su(b,2),k=N[0],S=N[1],A=c.spacing.controlHeight;return HM(function(){var _=m.current;if(_){var O=o==="fixed",I=l&&!O,L=Xve({maxHeight:a,menuEl:_,minHeight:n,placement:s,shouldScroll:I,isFixedPosition:O,controlHeight:A});w(L.maxHeight),S(L.placement),f==null||f(L.placement)}},[a,s,o,l,n,f,A]),r({ref:m,placerProps:Rr(Rr({},e),{},{placement:k||XX(s),maxHeight:v})})},e1e=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Lr("div",qr({},Ni(e,"menu",{menu:!0}),{ref:n},a),r)},t1e=e1e,r1e=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Rr({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},n1e=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Lr("div",qr({},Ni(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},QX=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Rr({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},a1e=QX,i1e=QX,s1e=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=pd(e,Yve);return Lr("div",qr({},Ni(Rr(Rr({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},o1e=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=pd(e,Kve);return Lr("div",qr({},Ni(Rr(Rr({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},l1e=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},c1e=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=y.useRef(null),u=y.useRef(null),f=y.useState(XX(o)),m=su(f,2),g=m[0],p=m[1],v=y.useMemo(function(){return{setPortalPlacement:p}},[]),w=y.useState(null),b=su(w,2),N=b[0],k=b[1],S=y.useCallback(function(){if(a){var I=Hve(a),L=l==="fixed"?0:window.pageYOffset,R=I[g]+L;(R!==(N==null?void 0:N.offset)||I.left!==(N==null?void 0:N.rect.left)||I.width!==(N==null?void 0:N.rect.width))&&k({offset:R,rect:I})}},[a,l,g,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);HM(function(){S()},[S]);var A=y.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=mX(a,c.current,S,{elementResize:"ResizeObserver"in window}))},[a,S]);HM(function(){A()},[A]);var _=y.useCallback(function(I){c.current=I,A()},[A]);if(!r&&l!=="fixed"||!N)return null;var O=Lr("div",qr({ref:_},Ni(Rr(Rr({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Lr(JX.Provider,{value:v},r?sE.createPortal(O,r):O)},u1e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},d1e=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Lr("div",qr({},Ni(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},f1e=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Rr({alignItems:"center",display:a&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},h1e=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Lr("div",qr({},Ni(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},m1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},p1e=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},Ni(e,"indicatorsContainer",{indicators:!0}),n),r)},f9,g1e=["size"],x1e=["innerProps","isRtl","size"],y1e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ZX=function(e){var r=e.size,n=pd(e,g1e);return Lr("svg",qr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:y1e},n))},cD=function(e){return Lr(ZX,qr({size:20},e),Lr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},eJ=function(e){return Lr(ZX,qr({size:20},e),Lr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},tJ=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,o=a.colors;return Rr({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},b1e=tJ,v1e=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},Ni(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Lr(eJ,null))},w1e=tJ,j1e=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},Ni(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Lr(cD,null))},N1e=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,o=a.colors;return Rr({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},S1e=function(e){var r=e.innerProps;return Lr("span",qr({},r,Ni(e,"indicatorSeparator",{"indicator-separator":!0})))},k1e=Dve(f9||(f9=Pve([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),C1e=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return Rr({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},FC=function(e){var r=e.delay,n=e.offset;return Lr("span",{css:lD({animation:"".concat(k1e," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},_1e=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,o=pd(e,x1e);return Lr("div",qr({},Ni(Rr(Rr({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Lr(FC,{delay:0,offset:n}),Lr(FC,{delay:160,offset:!0}),Lr(FC,{delay:320,offset:!n}))},A1e=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,c=s.spacing;return Rr({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},T1e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Lr("div",qr({ref:s},Ni(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},M1e=T1e,O1e=["data"],E1e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},D1e=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,f=e.theme,m=e.selectProps;return Lr("div",qr({},Ni(e,"group",{group:!0}),c),Lr(o,qr({},l,{selectProps:m,theme:f,getStyles:a,getClassNames:s,cx:n}),u),Lr("div",null,r))},P1e=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Rr({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},L1e=function(e){var r=GX(e);r.data;var n=pd(r,O1e);return Lr("div",qr({},Ni(e,"groupHeading",{"group-heading":!0}),n))},R1e=D1e,I1e=["innerRef","isDisabled","isHidden","inputClassName"],F1e=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,o=s.spacing,l=s.colors;return Rr(Rr({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},$1e),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},rJ={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$1e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Rr({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},rJ)},B1e=function(e){return Rr({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},rJ)},H1e=function(e){var r=e.cx,n=e.value,a=GX(e),s=a.innerRef,o=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=pd(a,I1e);return Lr("div",qr({},Ni(e,"input",{"input-container":!0}),{"data-value":n||""}),Lr("input",qr({className:r({input:!0},c),ref:s,style:B1e(l),disabled:o},u)))},z1e=H1e,q1e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,o=n.colors;return Rr({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},U1e=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,o=e.cropWithEllipsis;return Rr({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},W1e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,o=n.colors,l=e.isFocused;return Rr({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},nJ=function(e){var r=e.children,n=e.innerProps;return Lr("div",n,r)},V1e=nJ,G1e=nJ;function Y1e(t){var e=t.children,r=t.innerProps;return Lr("div",qr({role:"button"},r),e||Lr(cD,{size:14}))}var K1e=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,f=n.Label,m=n.Remove;return Lr(u,{data:a,innerProps:Rr(Rr({},Ni(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:c},Lr(f,{data:a,innerProps:Rr({},Ni(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Lr(m,{data:a,innerProps:Rr(Rr({},Ni(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},X1e=K1e,J1e=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Rr({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},Q1e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return Lr("div",qr({},Ni(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:o,"aria-disabled":n},l),r)},Z1e=Q1e,ewe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Rr({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},twe=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},Ni(e,"placeholder",{placeholder:!0}),n),r)},rwe=twe,nwe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,o=a.colors;return Rr({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},awe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Lr("div",qr({},Ni(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},iwe=awe,swe={ClearIndicator:j1e,Control:M1e,DropdownIndicator:v1e,DownChevron:eJ,CrossIcon:cD,Group:R1e,GroupHeading:L1e,IndicatorsContainer:p1e,IndicatorSeparator:S1e,Input:z1e,LoadingIndicator:_1e,Menu:t1e,MenuList:n1e,MenuPortal:c1e,LoadingMessage:o1e,NoOptionsMessage:s1e,MultiValue:X1e,MultiValueContainer:V1e,MultiValueLabel:G1e,MultiValueRemove:Y1e,Option:Z1e,Placeholder:rwe,SelectContainer:d1e,SingleValue:iwe,ValueContainer:h1e},owe=function(e){return Rr(Rr({},swe),e.components)},h9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lwe(t,e){return!!(t===e||h9(t)&&h9(e))}function cwe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!lwe(t[r],e[r]))return!1;return!0}function uwe(t,e){e===void 0&&(e=cwe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var o=t.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}var dwe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},fwe=function(e){return Lr("span",qr({css:dwe},e))},m9=fwe,hwe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,f=e.isAppleDevice,m=function(w,b){return w&&w.length?"".concat(w.indexOf(b)+1," of ").concat(w.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&f){var g=c?" disabled":"",p="".concat(u?" selected":"").concat(g);return"".concat(o).concat(p,", ").concat(m(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},mwe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,f=e.isAppleDevice,m=c.ariaLiveMessages,g=c.getOptionLabel,p=c.inputValue,v=c.isMulti,w=c.isOptionDisabled,b=c.isSearchable,N=c.menuIsOpen,k=c.options,S=c.screenReaderStatus,A=c.tabSelectsValue,_=c.isLoading,O=c["aria-label"],I=c["aria-live"],L=y.useMemo(function(){return Rr(Rr({},hwe),m||{})},[m]),R=y.useMemo(function(){var Y="";if(r&&L.onChange){var W=r.option,$=r.options,q=r.removedValue,Z=r.removedValues,ce=r.value,X=function(ke){return Array.isArray(ke)?null:ke},U=q||W||X(ce),J=U?g(U):"",ee=$||Z||void 0,ne=ee?ee.map(g):[],ue=Rr({isDisabled:U&&w(U,l),label:J,labels:ne},r);Y=L.onChange(ue)}return Y},[r,L,w,l,g]),B=y.useMemo(function(){var Y="",W=n||a,$=!!(n&&l&&l.includes(n));if(W&&L.onFocus){var q={focused:W,label:g(W),isDisabled:w(W,l),isSelected:$,options:s,context:W===n?"menu":"value",selectValue:l,isAppleDevice:f};Y=L.onFocus(q)}return Y},[n,a,g,w,L,s,l,f]),D=y.useMemo(function(){var Y="";if(N&&k.length&&!_&&L.onFilter){var W=S({count:s.length});Y=L.onFilter({inputValue:p,resultsMessage:W})}return Y},[s,p,N,L,k,S,_]),M=(r==null?void 0:r.action)==="initial-input-focus",H=y.useMemo(function(){var Y="";if(L.guidance){var W=a?"value":N?"menu":"input";Y=L.guidance({"aria-label":O,context:W,isDisabled:n&&w(n,l),isMulti:v,isSearchable:b,tabSelectsValue:A,isInitialFocus:M})}return Y},[O,n,a,v,w,b,N,L,l,A,M]),G=Lr(y.Fragment,null,Lr("span",{id:"aria-selection"},R),Lr("span",{id:"aria-focused"},B),Lr("span",{id:"aria-results"},D),Lr("span",{id:"aria-guidance"},H));return Lr(y.Fragment,null,Lr(m9,{id:u},M&&G),Lr(m9,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&G))},pwe=mwe,zM=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],gwe=new RegExp("["+zM.map(function(t){return t.letters}).join("")+"]","g"),aJ={};for(var $C=0;$C<zM.length;$C++)for(var BC=zM[$C],HC=0;HC<BC.letters.length;HC++)aJ[BC.letters[HC]]=BC.base;var iJ=function(e){return e.replace(gwe,function(r){return aJ[r]})},xwe=uwe(iJ),p9=function(e){return e.replace(/^\s+|\s+$/g,"")},ywe=function(e){return"".concat(e.label," ").concat(e.value)},bwe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Rr({ignoreCase:!0,ignoreAccents:!0,stringify:ywe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,o=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,f=c?p9(n):n,m=c?p9(l(r)):l(r);return s&&(f=f.toLowerCase(),m=m.toLowerCase()),o&&(f=xwe(f),m=iJ(m)),u==="start"?m.substr(0,f.length)===f:m.indexOf(f)>-1}},vwe=["innerRef"];function wwe(t){var e=t.innerRef,r=pd(t,vwe),n=Gve(r,"onExited","in","enter","exit","appear");return Lr("input",qr({ref:e},n,{css:lD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var jwe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Nwe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,o=y.useRef(!1),l=y.useRef(!1),c=y.useRef(0),u=y.useRef(null),f=y.useCallback(function(b,N){if(u.current!==null){var k=u.current,S=k.scrollTop,A=k.scrollHeight,_=k.clientHeight,O=u.current,I=N>0,L=A-_-S,R=!1;L>N&&o.current&&(n&&n(b),o.current=!1),I&&l.current&&(s&&s(b),l.current=!1),I&&N>L?(r&&!o.current&&r(b),O.scrollTop=A,R=!0,o.current=!0):!I&&-N>S&&(a&&!l.current&&a(b),O.scrollTop=0,R=!0,l.current=!0),R&&jwe(b)}},[r,n,a,s]),m=y.useCallback(function(b){f(b,b.deltaY)},[f]),g=y.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),p=y.useCallback(function(b){var N=c.current-b.changedTouches[0].clientY;f(b,N)},[f]),v=y.useCallback(function(b){if(b){var N=Uve?{passive:!1}:!1;b.addEventListener("wheel",m,N),b.addEventListener("touchstart",g,N),b.addEventListener("touchmove",p,N)}},[p,g,m]),w=y.useCallback(function(b){b&&(b.removeEventListener("wheel",m,!1),b.removeEventListener("touchstart",g,!1),b.removeEventListener("touchmove",p,!1))},[p,g,m]);return y.useEffect(function(){if(e){var b=u.current;return v(b),function(){w(b)}}},[e,v,w]),function(b){u.current=b}}var g9=["boxSizing","height","overflow","paddingRight","position"],x9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function y9(t){t.cancelable&&t.preventDefault()}function b9(t){t.stopPropagation()}function v9(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function w9(){return"ontouchstart"in window||navigator.maxTouchPoints}var j9=!!(typeof window<"u"&&window.document&&window.document.createElement),Ry=0,F0={capture:!1,passive:!1};function Swe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=y.useRef({}),s=y.useRef(null),o=y.useCallback(function(c){if(j9){var u=document.body,f=u&&u.style;if(n&&g9.forEach(function(v){var w=f&&f[v];a.current[v]=w}),n&&Ry<1){var m=parseInt(a.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,p=window.innerWidth-g+m||0;Object.keys(x9).forEach(function(v){var w=x9[v];f&&(f[v]=w)}),f&&(f.paddingRight="".concat(p,"px"))}u&&w9()&&(u.addEventListener("touchmove",y9,F0),c&&(c.addEventListener("touchstart",v9,F0),c.addEventListener("touchmove",b9,F0))),Ry+=1}},[n]),l=y.useCallback(function(c){if(j9){var u=document.body,f=u&&u.style;Ry=Math.max(Ry-1,0),n&&Ry<1&&g9.forEach(function(m){var g=a.current[m];f&&(f[m]=g)}),u&&w9()&&(u.removeEventListener("touchmove",y9,F0),c&&(c.removeEventListener("touchstart",v9,F0),c.removeEventListener("touchmove",b9,F0)))}},[n]);return y.useEffect(function(){if(e){var c=s.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){s.current=c}}var kwe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Cwe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _we(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Nwe({isEnabled:a,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),f=Swe({isEnabled:r}),m=function(p){u(p),f(p)};return Lr(y.Fragment,null,r&&Lr("div",{onClick:kwe,css:Cwe}),e(m))}var Awe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Twe=function(e){var r=e.name,n=e.onFocus;return Lr("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Awe,value:"",onChange:function(){}})},Mwe=Twe;function uD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Owe(){return uD(/^iPhone/i)}function sJ(){return uD(/^Mac/i)}function Ewe(){return uD(/^iPad/i)||sJ()&&navigator.maxTouchPoints>1}function Dwe(){return Owe()||Ewe()}function Pwe(){return sJ()||Dwe()}var Lwe=function(e){return e.label},oJ=function(e){return e.label},lJ=function(e){return e.value},Rwe=function(e){return!!e.isDisabled},Iwe={clearIndicator:w1e,container:u1e,control:A1e,dropdownIndicator:b1e,group:E1e,groupHeading:P1e,indicatorsContainer:m1e,indicatorSeparator:N1e,input:F1e,loadingIndicator:C1e,loadingMessage:i1e,menu:Qve,menuList:r1e,menuPortal:l1e,multiValue:q1e,multiValueLabel:U1e,multiValueRemove:W1e,noOptionsMessage:a1e,option:J1e,placeholder:ewe,singleValue:nwe,valueContainer:f1e},Fwe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},$we=4,cJ=4,Bwe=38,Hwe=cJ*2,zwe={baseUnit:cJ,controlHeight:Bwe,menuGutter:Hwe},zC={borderRadius:$we,colors:Fwe,spacing:zwe},qwe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:d9(),captureMenuScroll:!d9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:bwe(),formatGroupLabel:Lwe,getOptionLabel:oJ,getOptionValue:lJ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Rwe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!zve(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function N9(t,e,r,n){var a=fJ(t,e,r),s=hJ(t,e,r),o=dJ(t,e),l=Sj(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:o,value:l,index:n}}function L2(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,l){return N9(t,o,e,l)}).filter(function(o){return k9(t,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=N9(t,r,e,n);return k9(t,s)?s:void 0}).filter(Wve)}function uJ(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,yg(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function S9(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,yg(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Uwe(t,e){return uJ(L2(t,e))}function k9(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,o=e.label,l=e.value;return(!pJ(t)||!s)&&mJ(t,{label:o,value:l,data:a},n)}function Wwe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function Vwe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var qC=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},dJ=function(e,r){return e.getOptionLabel(r)},Sj=function(e,r){return e.getOptionValue(r)};function fJ(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function hJ(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Sj(t,e);return r.some(function(a){return Sj(t,a)===n})}function mJ(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var pJ=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Gwe=1,dD=(function(t){Mbe(r,t);var e=Dbe(r);function r(n){var a;if(Abe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var f=a.props,m=f.onChange,g=f.name;u.name=g,a.ariaOnChange(c,u),m(c,u)},a.setValue=function(c,u,f){var m=a.props,g=m.closeMenuOnSelect,p=m.isMulti,v=m.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:v}),g&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:f})},a.selectOption=function(c){var u=a.props,f=u.blurInputOnSelect,m=u.isMulti,g=u.name,p=a.state.selectValue,v=m&&a.isOptionSelected(c,p),w=a.isOptionDisabled(c,p);if(v){var b=a.getOptionValue(c);a.setValue(p.filter(function(N){return a.getOptionValue(N)!==b}),"deselect-option",c)}else if(!w)m?a.setValue([].concat(yg(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:g});return}f&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,f=a.state.selectValue,m=a.getOptionValue(c),g=f.filter(function(v){return a.getOptionValue(v)!==m}),p=tb(u,g,g[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(tb(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,f=u[u.length-1],m=u.slice(0,u.length-1),g=tb(c,m,m[0]||null);f&&a.onChange(g,{action:"pop-value",removedValue:f})},a.getFocusedOptionId=function(c){return qC(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return S9(L2(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return Ive.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return dJ(a.props,c)},a.getOptionValue=function(c){return Sj(a.props,c)},a.getStyles=function(c,u){var f=a.props.unstyled,m=Iwe[c](u,f);m.boxSizing="border-box";var g=a.props.styles[c];return g?g(m,u):m},a.getClassNames=function(c,u){var f,m;return(f=(m=a.props.classNames)[c])===null||f===void 0?void 0:f.call(m,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return owe(a.props)},a.buildCategorizedOptions=function(){return L2(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return uJ(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Rr({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,f=u.isMulti,m=u.menuIsOpen;a.focusInput(),m?(a.setState({inputIsHiddenAfterUpdate:!f}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&$N(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,f=u&&u.item(0);f&&(a.initialTouchX=f.clientX,a.initialTouchY=f.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,f=u&&u.item(0);if(f){var m=Math.abs(f.clientX-a.initialTouchX),g=Math.abs(f.clientY-a.initialTouchY),p=5;a.userIsDragging=m>p||g>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,f=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(f,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),f=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:f>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return pJ(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,f=u.isMulti,m=u.backspaceRemovesValue,g=u.escapeClearsValue,p=u.inputValue,v=u.isClearable,w=u.isDisabled,b=u.menuIsOpen,N=u.onKeyDown,k=u.tabSelectsValue,S=u.openMenuOnFocus,A=a.state,_=A.focusedOption,O=A.focusedValue,I=A.selectValue;if(!w&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!f||p)return;a.focusValue("previous");break;case"ArrowRight":if(!f||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(O)a.removeValue(O);else{if(!m)return;f?a.popValue():v&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!b||!k||!_||S&&a.isOptionSelected(_,I))return;a.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(b){if(!_||a.isComposing)return;a.selectOption(_);break}return;case"Escape":b?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):v&&g&&a.clearValue();break;case" ":if(p)return;if(!b){a.openMenu("first");break}if(!_)return;a.selectOption(_);break;case"ArrowUp":b?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":b?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!b)return;a.focusOption("pageup");break;case"PageDown":if(!b)return;a.focusOption("pagedown");break;case"Home":if(!b)return;a.focusOption("first");break;case"End":if(!b)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Gwe),a.state.selectValue=jj(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),l=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=o[l],a.state.focusedOptionId=qC(s,o[l])}return a}return Tbe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&u9(this.menuListRef,this.focusedOptionRef),Pwe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!o&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(u9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),f=a==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(l[0]);m>-1&&(f=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[f],focusedOptionId:this.getFocusedOptionId(u[f])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,f=-1;if(o.length){switch(a){case"previous":c===0?f=0:c===-1?f=u:f=c-1;break;case"next":c>-1&&c<u&&(f=c+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zC):Rr(Rr({},zC),this.props.theme):zC})},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,f=this.setValue,m=this.props,g=m.isMulti,p=m.isRtl,v=m.options,w=this.hasValue();return{clearValue:a,cx:s,getStyles:o,getClassNames:l,getValue:c,hasValue:w,isMulti:g,isRtl:p,options:v,selectOption:u,selectProps:m,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,o=a.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(a,s){return fJ(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return hJ(this.props,a,s)}},{key:"filterOption",value:function(a,s){return mJ(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var a=this.props,s=a.isDisabled,o=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,f=a.form,m=a.menuIsOpen,g=a.required,p=this.getComponents(),v=p.Input,w=this.state,b=w.inputIsHidden,N=w.ariaSelection,k=this.commonProps,S=l||this.getElementId("input"),A=Rr(Rr(Rr({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?y.createElement(v,qr({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:f,type:"text",value:c},A)):y.createElement(wwe,qr({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:wj,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:f,value:""},A))})},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,f=s.SingleValue,m=s.Placeholder,g=this.commonProps,p=this.props,v=p.controlShouldRenderValue,w=p.isDisabled,b=p.isMulti,N=p.inputValue,k=p.placeholder,S=this.state,A=S.selectValue,_=S.focusedValue,O=S.isFocused;if(!this.hasValue()||!v)return N?null:y.createElement(m,qr({},g,{key:"placeholder",isDisabled:w,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),k);if(b)return A.map(function(L,R){var B=L===_,D="".concat(a.getOptionLabel(L),"-").concat(a.getOptionValue(L));return y.createElement(o,qr({},g,{components:{Container:l,Label:c,Remove:u},isFocused:B,isDisabled:w,key:D,index:R,removeProps:{onClick:function(){return a.removeValue(L)},onTouchEnd:function(){return a.removeValue(L)},onMouseDown:function(H){H.preventDefault()}},data:L}),a.formatOptionLabel(L,"value"))});if(N)return null;var I=A[0];return y.createElement(f,qr({},g,{data:I,isDisabled:w}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(s,qr({},o,{innerProps:m,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,f=this.state.isFocused;if(!s||!u)return null;var m={"aria-hidden":"true"};return y.createElement(s,qr({},o,{innerProps:m,isDisabled:c,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,o=a.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return y.createElement(o,qr({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(s,qr({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,f=s.MenuPortal,m=s.LoadingMessage,g=s.NoOptionsMessage,p=s.Option,v=this.commonProps,w=this.state.focusedOption,b=this.props,N=b.captureMenuScroll,k=b.inputValue,S=b.isLoading,A=b.loadingMessage,_=b.minMenuHeight,O=b.maxMenuHeight,I=b.menuIsOpen,L=b.menuPlacement,R=b.menuPosition,B=b.menuPortalTarget,D=b.menuShouldBlockScroll,M=b.menuShouldScrollIntoView,H=b.noOptionsMessage,G=b.onMenuScrollToTop,Y=b.onMenuScrollToBottom;if(!I)return null;var W=function(J,ee){var ne=J.type,ue=J.data,Ae=J.isDisabled,ke=J.isSelected,je=J.label,Ce=J.value,Be=w===ue,fe=Ae?void 0:function(){return a.onOptionHover(ue)},ge=Ae?void 0:function(){return a.selectOption(ue)},ae="".concat(a.getElementId("option"),"-").concat(ee),ie={id:ae,onClick:ge,onMouseMove:fe,onMouseOver:fe,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:ke};return y.createElement(p,qr({},v,{innerProps:ie,data:ue,isDisabled:Ae,isSelected:ke,key:ae,label:je,type:ne,value:Ce,isFocused:Be,innerRef:Be?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(J.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var J=U.data,ee=U.options,ne=U.index,ue="".concat(a.getElementId("group"),"-").concat(ne),Ae="".concat(ue,"-heading");return y.createElement(o,qr({},v,{key:ue,data:J,options:ee,Heading:l,headingProps:{id:Ae,data:U.data},label:a.formatGroupLabel(U.data)}),U.options.map(function(ke){return W(ke,"".concat(ne,"-").concat(ke.index))}))}else if(U.type==="option")return W(U,"".concat(U.index))});else if(S){var q=A({inputValue:k});if(q===null)return null;$=y.createElement(m,v,q)}else{var Z=H({inputValue:k});if(Z===null)return null;$=y.createElement(g,v,Z)}var ce={minMenuHeight:_,maxMenuHeight:O,menuPlacement:L,menuPosition:R,menuShouldScrollIntoView:M},X=y.createElement(Zve,qr({},v,ce),function(U){var J=U.ref,ee=U.placerProps,ne=ee.placement,ue=ee.maxHeight;return y.createElement(c,qr({},v,ce,{innerRef:J,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:S,placement:ne}),y.createElement(_we,{captureEnabled:N,onTopArrive:G,onBottomArrive:Y,lockEnabled:D},function(Ae){return y.createElement(u,qr({},v,{innerRef:function(je){a.getMenuListRef(je),Ae(je)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:a.getElementId("listbox")},isLoading:S,maxHeight:ue,focusedOption:w}),$)}))});return B||R==="fixed"?y.createElement(f,qr({},v,{appendTo:B,controlElement:this.controlRef,menuPlacement:L,menuPosition:R}),X):X}},{key:"renderFormField",value:function(){var a=this,s=this.props,o=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,f=s.required,m=this.state.selectValue;if(f&&!this.hasValue()&&!l)return y.createElement(Mwe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var g=m.map(function(w){return a.getOptionValue(w)}).join(o);return y.createElement("input",{name:u,type:"hidden",value:g})}else{var p=m.length>0?m.map(function(w,b){return y.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:a.getOptionValue(w)})}):y.createElement("input",{name:u,type:"hidden",value:""});return y.createElement("div",null,p)}else{var v=m[0]?this.getOptionValue(m[0]):"";return y.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,f=s.selectValue,m=this.getFocusableOptions();return y.createElement(pwe,qr({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:f,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,o=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,f=u.className,m=u.id,g=u.isDisabled,p=u.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return y.createElement(l,qr({},w,{className:f,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:v}),this.renderLiveRegion(),y.createElement(s,qr({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:v,menuIsOpen:p}),y.createElement(c,qr({},w,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),y.createElement(o,qr({},w,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,f=s.isFocused,m=s.prevWasFocused,g=s.instancePrefix,p=a.options,v=a.value,w=a.menuIsOpen,b=a.inputValue,N=a.isMulti,k=jj(v),S={};if(o&&(v!==o.value||p!==o.options||w!==o.menuIsOpen||b!==o.inputValue)){var A=w?Uwe(a,k):[],_=w?S9(L2(a,k),"".concat(g,"-option")):[],O=l?Wwe(s,k):null,I=Vwe(s,A),L=qC(_,I);S={selectValue:k,focusedOption:I,focusedOptionId:L,focusableOptionsWithIds:_,focusedValue:O,clearFocusValueOnUpdate:!1}}var R=c!=null&&a!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},B=u,D=f&&m;return f&&!D&&(B={value:tb(N,k,k[0]||null),options:k,action:"initial-input-focus"},D=!m),(u==null?void 0:u.action)==="initial-input-focus"&&(B=null),Rr(Rr(Rr({},S),R),{},{prevProps:a,ariaSelection:B,prevWasFocused:D})}}]),r})(y.Component);dD.defaultProps=qwe;var Ywe=y.forwardRef(function(t,e){var r=PX(t);return y.createElement(dD,qr({ref:e},r))}),Wn=Ywe;function Ws(t){this.content=t}Ws.prototype={constructor:Ws,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,a=n.find(t),s=n.content.slice();return a==-1?s.push(r||t,e):(s[a+1]=e,r&&(s[a]=r)),new Ws(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ws(r)},addToStart:function(t,e){return new Ws([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ws(r)},addBefore:function(t,e,r){var n=this.remove(e),a=n.content.slice(),s=n.find(t);return a.splice(s==-1?a.length:s,0,e,r),new Ws(a)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ws.from(t),t.size?new Ws(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ws.from(t),t.size?new Ws(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ws.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ws.from=function(t){if(t instanceof Ws)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ws(e)};function gJ(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let a=t.child(n),s=e.child(n);if(a==s){r+=a.nodeSize;continue}if(!a.sameMarkup(s))return r;if(a.isText&&a.text!=s.text){for(let o=0;a.text[o]==s.text[o];o++)r++;return r}if(a.content.size||s.content.size){let o=gJ(a.content,s.content,r+1);if(o!=null)return o}r+=a.nodeSize}}function xJ(t,e,r,n){for(let a=t.childCount,s=e.childCount;;){if(a==0||s==0)return a==s?null:{a:r,b:n};let o=t.child(--a),l=e.child(--s),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let u=xJ(o.content,l.content,r-1,n-1);if(u)return u}r-=c,n-=c}}class Gt{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,a=0,s){for(let o=0,l=0;l<r;o++){let c=this.content[o],u=l+c.nodeSize;if(u>e&&n(c,a+l,s||null,o)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,r-f),n,a+f)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,a){let s="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?a?typeof a=="function"?a(l):a:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&n&&(o?o=!1:s+=n),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,a=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)a.push(e.content[s]);return new Gt(a,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],a=0;if(r>e)for(let s=0,o=0;o<r;s++){let l=this.content[s],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),a+=l.nodeSize),o=c}return new Gt(n,a)}cutByIndex(e,r){return e==r?Gt.empty:e==0&&r==this.content.length?this:new Gt(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let a=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return a[e]=r,new Gt(a,s)}addToStart(e){return new Gt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Gt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];e(a,n,r),n+=a.nodeSize}}findDiffStart(e,r=0){return gJ(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return xJ(this,e,r,n)}findIndex(e){if(e==0)return Ow(0,e);if(e==this.size)return Ow(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),s=n+a.nodeSize;if(s>=e)return s==e?Ow(r+1,s):Ow(r,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Gt.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Gt(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Gt.empty;let r,n=0;for(let a=0;a<e.length;a++){let s=e[a];n+=s.nodeSize,a&&s.isText&&e[a-1].sameMarkup(s)?(r||(r=e.slice(0,a)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new Gt(r||e,n)}static from(e){if(!e)return Gt.empty;if(e instanceof Gt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Gt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Gt.empty=new Gt([],0);const UC={index:0,offset:0};function Ow(t,e){return UC.index=t,UC.offset=e,UC}function kj(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!kj(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!kj(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Aa=class qM{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let a=0;a<e.length;a++){let s=e[a];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,a));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,a)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&kj(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return qM.none;if(e instanceof qM)return[e];let r=e.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};Aa.none=[];class Cj extends Error{}class fr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=bJ(this.content,e+this.openStart,r);return n&&new fr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new fr(yJ(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return fr.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new fr(Gt.fromJSON(e,r.content),n,a)}static maxOpen(e,r=!0){let n=0,a=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)a++;return new fr(e,n,a)}}fr.empty=new fr(Gt.empty,0,0);function yJ(t,e,r){let{index:n,offset:a}=t.findIndex(e),s=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(a==e||s.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(yJ(s.content,e-a-1,r-a-1)))}function bJ(t,e,r,n){let{index:a,offset:s}=t.findIndex(e),o=t.maybeChild(a);if(s==e||o.isText)return n&&!n.canReplace(a,a,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=bJ(o.content,e-s-1,r,o);return l&&t.replaceChild(a,o.copy(l))}function Kwe(t,e,r){if(r.openStart>t.depth)throw new Cj("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Cj("Inconsistent open depths");return vJ(t,e,r,0)}function vJ(t,e,r,n){let a=t.index(n),s=t.node(n);if(a==e.index(n)&&n<t.depth-r.openStart){let o=vJ(t,e,r,n+1);return s.copy(s.content.replaceChild(a,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return gp(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Xwe(r,t);return gp(s,jJ(t,o,l,e,n))}else return gp(s,_j(t,e,n))}function wJ(t,e){if(!e.type.compatibleContent(t.type))throw new Cj("Cannot join "+e.type.name+" onto "+t.type.name)}function UM(t,e,r){let n=t.node(r);return wJ(n,e.node(r)),n}function pp(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function mb(t,e,r,n){let a=(e||t).node(r),s=0,o=e?e.index(r):a.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(pp(t.nodeAfter,n),s++));for(let l=s;l<o;l++)pp(a.child(l),n);e&&e.depth==r&&e.textOffset&&pp(e.nodeBefore,n)}function gp(t,e){return t.type.checkContent(e),t.copy(e)}function jJ(t,e,r,n,a){let s=t.depth>a&&UM(t,e,a+1),o=n.depth>a&&UM(r,n,a+1),l=[];return mb(null,t,a,l),s&&o&&e.index(a)==r.index(a)?(wJ(s,o),pp(gp(s,jJ(t,e,r,n,a+1)),l)):(s&&pp(gp(s,_j(t,e,a+1)),l),mb(e,r,a,l),o&&pp(gp(o,_j(r,n,a+1)),l)),mb(n,null,a,l),new Gt(l)}function _j(t,e,r){let n=[];if(mb(null,t,r,n),t.depth>r){let a=UM(t,e,r+1);pp(gp(a,_j(t,e,r+1)),n)}return mb(e,null,r,n),new Gt(n)}function Xwe(t,e){let r=e.depth-t.openStart,a=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)a=e.node(s).copy(Gt.from(a));return{start:a.resolveNoCache(t.openStart+r),end:a.resolveNoCache(a.content.size-t.openEnd-r)}}class Yb{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(r);return n?e.child(r).cut(n):a}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)a+=n.child(s).nodeSize;return a}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Aa.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),a=e.maybeChild(r);if(!n){let l=n;n=a,a=l}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!a||!s[o].isInSet(a.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!a||!n[s].isInSet(a.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Aj(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,s=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(s),u=s-c;if(n.push(o,l,a+c),!u||(o=o.child(l),o.isText))break;s=u-1,a+=c+1}return new Yb(r,n,s)}static resolveCached(e,r){let n=C9.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==r)return o}else C9.set(e,n=new Jwe);let a=n.elts[n.i]=Yb.resolve(e,r);return n.i=(n.i+1)%Qwe,a}}class Jwe{constructor(){this.elts=[],this.i=0}}const Qwe=12,C9=new WeakMap;class Aj{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Zwe=Object.create(null);let Gh=class WM{constructor(e,r,n,a=Aa.none){this.type=e,this.attrs=r,this.marks=a,this.content=n||Gt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,a=0){this.content.nodesBetween(e,r,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,a){return this.content.textBetween(e,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&kj(this.attrs,r||e.defaultAttrs||Zwe)&&Aa.sameSet(this.marks,n||Aa.none)}copy(e=null){return e==this.content?this:new WM(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new WM(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return fr.empty;let a=this.resolve(e),s=this.resolve(r),o=n?0:a.sharedDepth(r),l=a.start(o),u=a.node(o).content.cut(a.pos-l,s.pos-l);return new fr(u,a.depth-o,s.depth-o)}replace(e,r,n){return Kwe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(a==e||r.isText)return r;e-=a+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(e){return Yb.resolveCached(this,e)}resolveNoCache(e){return Yb.resolve(this,e)}rangeHasMark(e,r,n){let a=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),NJ(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Gt.empty,a=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,a,s),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=a;c<s;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Aa.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Aa.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let a=Gt.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,a,n);return s.type.checkAttrs(s.attrs),s}};Gh.prototype.text=void 0;class Tj extends Gh{constructor(e,r,n,a){if(super(e,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):NJ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Tj(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Tj(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function NJ(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class _p{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new e2e(e,r);if(n.next==null)return _p.empty;let a=SJ(n);n.next&&n.err("Unexpected trailing text");let s=o2e(s2e(a));return l2e(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let a=this;for(let s=r;a&&s<n;s++)a=a.matchType(e.child(s).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let a=[this];function s(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return Gt.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:m}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);let g=s(m,l.concat(f));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),s=a.match;if(s.matchType(e)){let o=[];for(let l=a;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:c}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!a.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:a}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),e.map((n,a)=>{let s=a+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
`)}}_p.empty=new _p(!0);class e2e{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function SJ(t){let e=[];do e.push(t2e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function t2e(t){let e=[];do e.push(r2e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function r2e(t){let e=i2e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=n2e(t,e);else break;return e}function _9(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function n2e(t,e){let r=_9(t),n=r;return t.eat(",")&&(t.next!="}"?n=_9(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function a2e(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let s in r){let o=r[s];o.isInGroup(e)&&a.push(o)}return a.length==0&&t.err("No node type or group '"+e+"' found"),a}function i2e(t){if(t.eat("(")){let e=SJ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=a2e(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function s2e(t){let e=[[]];return a(s(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let u={term:c,to:l};return e[o].push(u),u}function a(o,l){o.forEach(c=>c.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(s(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=s(o.exprs[c],l);if(c==o.exprs.length-1)return u;a(u,l=r())}else if(o.type=="star"){let c=r();return n(l,c),a(s(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return a(s(o.expr,l),c),a(s(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(s(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let f=r();a(s(o.expr,c),f),c=f}if(o.max==-1)a(s(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let f=r();n(c,f),a(s(o.expr,c),f),c=f}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function kJ(t,e){return e-t}function A9(t,e){let r=[];return n(e),r.sort(kJ);function n(a){let s=t[a];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(a);for(let o=0;o<s.length;o++){let{term:l,to:c}=s[o];!l&&r.indexOf(c)==-1&&n(c)}}}function o2e(t){let e=Object.create(null);return r(A9(t,0));function r(n){let a=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<a.length;f++)a[f][0]==l&&(u=a[f][1]);A9(t,c).forEach(f=>{u||a.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[n.join(",")]=new _p(n.indexOf(t.length-1)>-1);for(let o=0;o<a.length;o++){let l=a[o][1].sort(kJ);s.next.push({type:a[o][0],next:e[l.join(",")]||r(l)})}return s}}function l2e(t,e){for(let r=0,n=[t];r<n.length;r++){let a=n[r],s=!a.validEnd,o=[];for(let l=0;l<a.next.length;l++){let{type:c,next:u}=a.next[l];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),n.indexOf(u)==-1&&n.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CJ(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function _J(t,e){let r=Object.create(null);for(let n in t){let a=e&&e[n];if(a===void 0){let s=t[n];if(s.hasDefault)a=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function AJ(t,e,r,n){for(let a in e)if(!(a in t))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in t){let s=t[a];s.validate&&s.validate(e[a])}}function TJ(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new u2e(t,n,e[n]);return r}let T9=class MJ{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=TJ(e,n.attrs),this.defaultAttrs=CJ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_p.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_J(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gh(this,this.computeAttrs(e),Gt.from(r),Aa.setFrom(n))}createChecked(e=null,r,n){return r=Gt.from(r),this.checkContent(r),new Gh(this,this.computeAttrs(e),r,Aa.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Gt.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let a=this.contentMatch.matchFragment(r),s=a&&a.fillBefore(Gt.empty,!0);return s?new Gh(this,e,r.append(s),Aa.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){AJ(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Aa.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,o)=>n[s]=new MJ(s,r,o));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function c2e(t,e,r){let n=r.split("|");return a=>{let s=a===null?"null":typeof a;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}class u2e{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?c2e(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class BN{constructor(e,r,n,a){this.name=e,this.rank=r,this.schema=n,this.spec=a,this.attrs=TJ(e,a.attrs),this.excluded=null;let s=CJ(this.attrs);this.instance=s?new Aa(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Aa(this,_J(this.attrs,e))}static compile(e,r){let n=Object.create(null),a=0;return e.forEach((s,o)=>n[s]=new BN(s,a++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){AJ(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class OJ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in e)r[a]=e[a];r.nodes=Ws.from(e.nodes),r.marks=Ws.from(e.marks||{}),this.nodes=T9.compile(this.spec.nodes,this),this.marks=BN.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let s=this.nodes[a],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=_p.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?M9(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let a in this.marks){let s=this.marks[a],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:M9(this,o.split(" "))}this.nodeFromJSON=a=>Gh.fromJSON(this,a),this.markFromJSON=a=>Aa.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof T9){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,a)}text(e,r){let n=this.nodes.text;return new Tj(n,n.defaultAttrs,e,Aa.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function M9(t,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],s=t.marks[a],o=s;if(s)r.push(s);else for(let l in t.marks){let c=t.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function d2e(t){return t.tag!=null}function f2e(t){return t.style!=null}class Yh{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(d2e(a))this.tags.push(a);else if(f2e(a)){let s=/[^=]*/.exec(a.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let s=e.nodes[a.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new E9(this,r,!1);return n.addAll(e,Aa.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new E9(this,r,!0);return n.addAll(e,Aa.none,r.from,r.to),fr.maxOpen(n.finish())}matchTag(e,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let s=this.tags[a];if(p2e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,r,n,a){for(let s=a?this.styles.indexOf(a)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(a){let s=a.priority==null?50:a.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<s)break}r.splice(o,0,a)}for(let a in e.marks){let s=e.marks[a].spec.parseDOM;s&&s.forEach(o=>{n(o=D9(o)),o.mark||o.ignore||o.clearMark||(o.mark=a)})}for(let a in e.nodes){let s=e.nodes[a].spec.parseDOM;s&&s.forEach(o=>{n(o=D9(o)),o.node||o.ignore||o.mark||(o.node=a)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Yh(e,Yh.schemaRules(e)))}}const EJ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},h2e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},DJ={ol:!0,ul:!0},Kb=1,VM=2,pb=4;function O9(t,e,r){return e!=null?(e?Kb:0)|(e==="full"?VM:0):t&&t.whitespace=="pre"?Kb|VM:r&~pb}class Ew{constructor(e,r,n,a,s,o){this.type=e,this.attrs=r,this.marks=n,this.solid=a,this.options=o,this.content=[],this.activeMarks=Aa.none,this.match=s||(o&pb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Gt.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Kb)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-a[0].length))}}let r=Gt.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Gt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!EJ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class E9{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,s,o=O9(null,r.preserveWhitespace,0)|(n?pb:0);a?s=new Ew(a.type,a.attrs,Aa.none,!0,r.topMatch||a.type.contentMatch,o):n?s=new Ew(null,null,Aa.none,!0,null,o):s=new Ew(e.schema.topNodeType,null,Aa.none,!0,null,o),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,a=this.top,s=a.options&VM?"full":this.localPreserveWS||(a.options&Kb)>0;if(s==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)s!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=a.content[a.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let a=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;DJ.hasOwnProperty(o)&&this.parser.normalizeLists&&m2e(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:h2e.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,f=this.needsBlock;if(EJ.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=c&&c.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),u&&this.sync(s),this.needsBlock=f}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=a}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let s=this.parser.matchedStyles[a],o=n.getPropertyValue(s);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(s,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(u=>!c.clearMark(u)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,a){let s,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(s=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,r,n,a){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=a==null?null:e.childNodes[a];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,r);this.findAtPoint(e,s)}findPlace(e,r,n){let a,s;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(e);if(u&&(!a||a.length>u.length+l)&&(a=u,s=c,!u.length))break;if(c.solid){if(n)break;l+=2}}if(!a)return null;this.sync(s);for(let o=0;o<a.length;o++)r=this.enterInner(a[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let a=this.findPlace(e,r,n);if(a){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Aa.none;for(let l of a.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):P9(l.type,e.type))&&(o=l.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,r,n,a){let s=this.findPlace(e.create(r),n,!1);return s&&(s=this.enterInner(e,r,n,!0,a)),s}enterInner(e,r,n,a=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=O9(e,s,o.options);o.options&pb&&o.content.length==0&&(l|=pb);let c=Aa.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):P9(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Ew(e,r,c,a,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Kb)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(a?0:1),o=(l,c)=>{for(;l>=0;l--){let u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;c>=s;c--)if(o(l-1,c))return!0;return!1}else{let f=c>0||c==0&&a?this.nodes[c].type:n&&c>=s?n.node(c-s).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function m2e(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&DJ.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function p2e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function D9(t){let e={};for(let r in t)e[r]=t[r];return e}function P9(t,e){let r=e.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==e||s.indexOf(f)<0&&o(f))return!0}};if(o(a.contentMatch))return!0}}class qp{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=WC(r).createDocumentFragment());let a=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,c=0;for(;l<s.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)a=s.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],f=this.serializeMark(u,o.isInline,r);f&&(s.push([u,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:a}=R2(WC(r),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,a)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let a=e.marks.length-1;a>=0;a--){let s=this.serializeMark(e.marks[a],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let a=this.marks[e.type.name];return a&&R2(WC(n),a(e,r),null,e.attrs)}static renderSpec(e,r,n=null,a){return R2(e,r,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new qp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=L9(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return L9(e.marks)}}function L9(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function WC(t){return t.document||window.document}const R9=new WeakMap;function g2e(t){let e=R9.get(t);return e===void 0&&R9.set(t,e=x2e(t)),e}function x2e(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(t),e}function R2(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],s;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=g2e(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=a.indexOf(" ");o>0&&(r=a.slice(0,o),a=a.slice(o+1));let l,c=r?t.createElementNS(r,a):t.createElement(a),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let m in u)if(u[m]!=null){let g=m.indexOf(" ");g>0?c.setAttributeNS(m.slice(0,g),m.slice(g+1),u[m]):m=="style"&&c.style?c.style.cssText=u[m]:c.setAttribute(m,u[m])}}for(let m=f;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:v}=R2(t,g,r,n);if(c.appendChild(p),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const PJ=65535,LJ=Math.pow(2,16);function y2e(t,e){return t+e*LJ}function I9(t){return t&PJ}function b2e(t){return(t-(t&PJ))/LJ}const RJ=1,IJ=2,I2=4,FJ=8;class GM{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&FJ)>0}get deletedBefore(){return(this.delInfo&(RJ|I2))>0}get deletedAfter(){return(this.delInfo&(IJ|I2))>0}get deletedAcross(){return(this.delInfo&I2)>0}}class Cl{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Cl.empty)return Cl.empty}recover(e){let r=0,n=I9(e);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+b2e(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let a=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?a:0);if(c>e)break;let u=this.ranges[l+s],f=this.ranges[l+o],m=c+u;if(e<=m){let g=u?e==c?-1:e==m?1:r:r,p=c+a+(g<0?0:f);if(n)return p;let v=e==(r<0?c:m)?null:y2e(l/3,e-c),w=e==c?IJ:e==m?RJ:I2;return(r<0?e!=c:e!=m)&&(w|=FJ),new GM(p,w,v)}a+=f-u}return n?e+a:new GM(e+a,0,null)}touches(e,r){let n=0,a=I9(r),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let u=this.ranges[l+s],f=c+u;if(e<=f&&l==a*3)return!0;n+=this.ranges[l+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,s=0;a<this.ranges.length;a+=3){let o=this.ranges[a],l=o-(this.inverted?s:0),c=o+(this.inverted?0:s),u=this.ranges[a+r],f=this.ranges[a+n];e(l,l+u,c,c+f),s+=f-u}}invert(){return new Cl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Cl.empty:new Cl(e<0?[0,-e,0]:[0,0,e])}}Cl.empty=new Cl([]);class Xb{constructor(e,r,n=0,a=e?e.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new Xb(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let a=e.getMirror(r);this.appendMap(e._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let a=e.getMirror(r);this.appendMap(e._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let e=new Xb;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let a=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}a|=l.delInfo,e=l.pos}return n?e:new GM(e,a,null)}}const VC=Object.create(null);let xo=class{getMap(){return Cl.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=VC[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in VC)throw new RangeError("Duplicate use of step JSON ID "+e);return VC[e]=r,r.prototype.jsonID=e,r}};class es{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new es(e,null)}static fail(e){return new es(null,e)}static fromReplace(e,r,n,a){try{return es.ok(e.replace(r,n,a))}catch(s){if(s instanceof Cj)return es.fail(s.message);throw s}}}function fD(t,e,r){let n=[];for(let a=0;a<t.childCount;a++){let s=t.child(a);s.content.size&&(s=s.copy(fD(s.content,e,s))),s.isInline&&(s=e(s,r,a)),n.push(s)}return Gt.fromArray(n)}class Fh extends xo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),s=new fr(fD(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),a),r.openStart,r.openEnd);return es.fromReplace(e,this.from,this.to,s)}invert(){return new au(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Fh(r.pos,n.pos,this.mark)}merge(e){return e instanceof Fh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Fh(r.from,r.to,e.markFromJSON(r.mark))}}xo.jsonID("addMark",Fh);class au extends xo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new fr(fD(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),r.openStart,r.openEnd);return es.fromReplace(e,this.from,this.to,n)}invert(){return new Fh(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new au(r.pos,n.pos,this.mark)}merge(e){return e instanceof au&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new au(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new au(r.from,r.to,e.markFromJSON(r.mark))}}xo.jsonID("removeMark",au);class $h extends xo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return es.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return es.fromReplace(e,this.pos,this.pos+1,new fr(Gt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new $h(this.pos,r.marks[a]);return new $h(this.pos,this.mark)}}return new Ap(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new $h(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $h(r.pos,e.markFromJSON(r.mark))}}xo.jsonID("addNodeMark",$h);class Ap extends xo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return es.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return es.fromReplace(e,this.pos,this.pos+1,new fr(Gt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new $h(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ap(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ap(r.pos,e.markFromJSON(r.mark))}}xo.jsonID("removeNodeMark",Ap);class Os extends xo{constructor(e,r,n,a=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=a}apply(e){return this.structure&&YM(e,this.from,this.to)?es.fail("Structure replace would overwrite content"):es.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Cl([this.from,this.to-this.from,this.slice.size])}invert(e){return new Os(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Os(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Os)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?fr.empty:new fr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Os(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?fr.empty:new fr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Os(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Os(r.from,r.to,fr.fromJSON(e,r.slice),!!r.structure)}}xo.jsonID("replace",Os);class Ds extends xo{constructor(e,r,n,a,s,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(YM(e,this.from,this.gapFrom)||YM(e,this.gapTo,this.to)))return es.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return es.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?es.fromReplace(e,this.from,this.to,n):es.fail("Content does not fit in gap")}getMap(){return new Cl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Ds(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||s>n.pos?null:new Ds(r.pos,n.pos,a,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ds(r.from,r.to,r.gapFrom,r.gapTo,fr.fromJSON(e,r.slice),r.insert,!!r.structure)}}xo.jsonID("replaceAround",Ds);function YM(t,e,r){let n=t.resolve(e),a=r-e,s=n.depth;for(;a>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,a--;if(a>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;a>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,a--}}return!1}function v2e(t,e,r,n){let a=[],s=[],o,l;t.doc.nodesBetween(e,r,(c,u,f)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&f.type.allowsMarkType(n.type)){let g=Math.max(u,e),p=Math.min(u+c.nodeSize,r),v=n.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(v)||(o&&o.to==g&&o.mark.eq(m[w])?o.to=p:a.push(o=new au(g,p,m[w])));l&&l.to==g?l.to=p:s.push(l=new Fh(g,p,n))}}),a.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function w2e(t,e,r,n){let a=[],s=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;s++;let c=null;if(n instanceof BN){let u=o.marks,f;for(;f=n.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,r);for(let f=0;f<c.length;f++){let m=c[f],g;for(let p=0;p<a.length;p++){let v=a[p];v.step==s-1&&m.eq(a[p].style)&&(g=v)}g?(g.to=u,g.step=s):a.push({style:m,from:Math.max(l,e),to:u,step:s})}}}),a.forEach(o=>t.step(new au(o.from,o.to,o.style)))}function hD(t,e,r,n=r.contentMatch,a=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<s.childCount;c++){let u=s.child(c),f=l+u.nodeSize,m=n.matchType(u.type);if(!m)o.push(new Os(l,f,fr.empty));else{n=m;for(let g=0;g<u.marks.length;g++)r.allowsMarkType(u.marks[g].type)||t.step(new au(l,f,u.marks[g]));if(a&&u.isText&&r.whitespace!="pre"){let g,p=/\r?\n|\r/g,v;for(;g=p.exec(u.text);)v||(v=new fr(Gt.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new Os(l+g.index,l+g.index+g[0].length,v))}}l=f}if(!n.validEnd){let c=n.fillBefore(Gt.empty,!0);t.replace(l,l,new fr(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function j2e(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Mx(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let a=t.$from.node(n),s=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&a.canReplace(s,o,r))return n;if(n==0||a.type.spec.isolating||!j2e(a,s,o))break}return null}function N2e(t,e,r){let{$from:n,$to:a,depth:s}=e,o=n.before(s+1),l=a.after(s+1),c=o,u=l,f=Gt.empty,m=0;for(let v=s,w=!1;v>r;v--)w||n.index(v)>0?(w=!0,f=Gt.from(n.node(v).copy(f)),m++):c--;let g=Gt.empty,p=0;for(let v=s,w=!1;v>r;v--)w||a.after(v+1)<a.end(v)?(w=!0,g=Gt.from(a.node(v).copy(g)),p++):u++;t.step(new Ds(c,u,o,l,new fr(f.append(g),m,p),f.size-m,!0))}function mD(t,e,r=null,n=t){let a=S2e(t,e),s=a&&k2e(n,e);return s?a.map(F9).concat({type:e,attrs:r}).concat(s.map(F9)):null}function F9(t){return{type:t,attrs:null}}function S2e(t,e){let{parent:r,startIndex:n,endIndex:a}=t,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return r.canReplaceWith(n,a,o)?s:null}function k2e(t,e){let{parent:r,startIndex:n,endIndex:a}=t,s=r.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;c&&u<a;u++)c=c.matchType(r.child(u).type);return!c||!c.validEnd?null:o}function C2e(t,e,r){let n=Gt.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Gt.from(r[o].type.create(r[o].attrs,n))}let a=e.start,s=e.end;t.step(new Ds(a,s,a,s,new fr(n,0,0),r.length,!0))}function _2e(t,e,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof a=="function"?a(o):a;if(o.isTextblock&&!o.hasMarkup(n,c)&&A2e(t.doc,t.mapping.slice(s).map(l),n)){let u=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!v?u=!1:!p&&v&&(u=!0)}u===!1&&BJ(t,o,l,s),hD(t,t.mapping.slice(s).map(l,1),n,void 0,u===null);let f=t.mapping.slice(s),m=f.map(l,1),g=f.map(l+o.nodeSize,1);return t.step(new Ds(m,g,m+1,g-1,new fr(Gt.from(n.create(c,null,o.marks)),0,0),1,!0)),u===!0&&$J(t,o,l,s),!1}})}function $J(t,e,r,n){e.forEach((a,s)=>{if(a.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(a.text);){let c=t.mapping.slice(n).map(r+1+s+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function BJ(t,e,r,n){e.forEach((a,s)=>{if(a.type==a.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function A2e(t,e,r){let n=t.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function T2e(t,e,r,n,a){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let o=r.create(n,null,a||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Ds(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new fr(Gt.from(o),0,0),1,!0))}function wf(t,e,r=1,n){let a=t.resolve(e),s=a.depth-r,o=n&&n[n.length-1]||a.parent;if(s<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!o.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let u=a.depth-1,f=r-2;u>s;u--,f--){let m=a.node(u),g=a.index(u);if(m.type.spec.isolating)return!1;let p=m.content.cutByIndex(g,m.childCount),v=n&&n[f+1];v&&(p=p.replaceChild(0,v.type.create(v.attrs)));let w=n&&n[f]||m;if(!m.canReplace(g+1,m.childCount)||!w.type.validContent(p))return!1}let l=a.indexAfter(s),c=n&&n[0];return a.node(s).canReplaceWith(l,l,c?c.type:a.node(s+1).type)}function M2e(t,e,r=1,n){let a=t.doc.resolve(e),s=Gt.empty,o=Gt.empty;for(let l=a.depth,c=a.depth-r,u=r-1;l>c;l--,u--){s=Gt.from(a.node(l).copy(s));let f=n&&n[u];o=Gt.from(f?f.type.create(f.attrs,o):a.node(l).copy(o))}t.step(new Os(e,e,new fr(s.append(o),r,r),!0))}function um(t,e){let r=t.resolve(e),n=r.index();return HJ(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function O2e(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let a=0;a<e.childCount;a++){let s=e.child(a),o=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function HJ(t,e){return!!(t&&e&&!t.isLeaf&&O2e(t,e))}function HN(t,e,r=-1){let n=t.resolve(e);for(let a=n.depth;;a--){let s,o,l=n.index(a);if(a==n.depth?(s=n.nodeBefore,o=n.nodeAfter):r>0?(s=n.node(a+1),l++,o=n.node(a).maybeChild(l)):(s=n.node(a).maybeChild(l-1),o=n.node(a+1)),s&&!s.isTextblock&&HJ(s,o)&&n.node(a).canReplace(l,l+1))return e;if(a==0)break;e=r<0?n.before(a):n.after(a)}}function E2e(t,e,r){let n=null,{linebreakReplacement:a}=t.doc.type.schema,s=t.doc.resolve(e-r),o=s.node().type;if(a&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(a);f&&!m?n=!1:!f&&m&&(n=!0)}let l=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);BJ(t,f.node(),f.before(),l)}o.inlineContent&&hD(t,e+r-1,o,s.node().contentMatchAt(s.index()),n==null);let c=t.mapping.slice(l),u=c.map(e-r);if(t.step(new Os(u,c.map(e+r,-1),fr.empty,!0)),n===!0){let f=t.doc.resolve(u);$J(t,f.node(),f.before(),t.steps.length)}return t}function D2e(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let s=n.index(a);if(n.node(a).canReplaceWith(s,s,r))return n.before(a+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,r))return n.after(a+1);if(s<n.node(a).childCount)return null}return null}function zJ(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let a=r.content;for(let s=0;s<r.openStart;s++)a=a.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),u=n.node(o),f=!1;if(s==1)f=u.canReplace(c,c,a);else{let m=u.contentMatchAt(c).findWrapping(a.firstChild.type);f=m&&u.canReplaceWith(c,c,m[0])}if(f)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function zN(t,e,r=e,n=fr.empty){if(e==r&&!n.size)return null;let a=t.resolve(e),s=t.resolve(r);return qJ(a,s,n)?new Os(e,r,n):new P2e(a,s,n).fit()}function qJ(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class P2e{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Gt.empty;for(let a=0;a<=e.depth;a++){let s=e.node(a);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Gt.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let s=this.placed,o=n.depth,l=a.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let c=new fr(s,o,l);return e>-1?new Ds(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Os(n.pos,a.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(a=0),s.type.spec.isolating&&a<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let a,s=null;n?(s=GC(this.unplaced.content,n-1).firstChild,a=s.content):a=this.unplaced.content;let o=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],f,m=null;if(r==1&&(o?u.matchType(o.type)||(m=u.fillBefore(Gt.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:l,parent:s,inject:m};if(r==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=GC(e,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new fr(e,r+1,Math.max(n,a.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=GC(e,r);if(a.childCount<=1&&r>0){let s=e.size-r<=r+a.size;this.unplaced=new fr(rb(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new fr(rb(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:a,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,u=0,f=[],{match:m,type:g}=this.frontier[r];if(a){for(let w=0;w<a.childCount;w++)f.push(a.child(w));m=m.matchFragment(a)}let p=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let w=l.child(u),b=m.matchType(w.type);if(!b)break;u++,(u>1||c==0||w.content.size)&&(m=b,f.push(UJ(w.mark(g.allowedMarks(w.marks)),u==1?c:0,u==l.childCount?p:-1)))}let v=u==l.childCount;v||(p=-1),this.placed=nb(this.placed,r,Gt.from(f)),this.frontier[r].match=m,v&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,b=l;w<p;w++){let N=b.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),b=N.content}this.unplaced=v?e==0?fr.empty:new fr(rb(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new fr(rb(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!YC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=YC(e,r,a,n,s);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=YC(e,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:r,fit:o,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=nb(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let a=e.node(n),s=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,s)}return e}openFrontierNode(e,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=nb(this.placed,this.depth,Gt.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Gt.empty,!0);r.childCount&&(this.placed=nb(this.placed,this.frontier.length,r))}}function rb(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(rb(t.firstChild.content,e-1,r)))}function nb(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(nb(t.lastChild.content,e-1,r)))}function GC(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function UJ(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,UJ(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Gt.empty,!0)))),t.copy(n)}function YC(t,e,r,n,a){let s=t.node(e),o=a?t.indexAfter(e):t.index(e);if(o==s.childCount&&!r.compatibleContent(s.type))return null;let l=n.fillBefore(s.content,!0,o);return l&&!L2e(r,s.content,o)?l:null}function L2e(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function R2e(t){return t.spec.defining||t.spec.definingForContent}function I2e(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let a=t.doc.resolve(e),s=t.doc.resolve(r);if(qJ(a,s,n))return t.step(new Os(e,r,n));let o=VJ(a,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(a.depth+1);o.unshift(l);for(let g=a.depth,p=a.pos-1;g>0;g--,p--){let v=a.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(g)>-1?l=g:a.before(g)==p&&o.splice(1,0,-g)}let c=o.indexOf(l),u=[],f=n.openStart;for(let g=n.content,p=0;;p++){let v=g.firstChild;if(u.push(v),p==n.openStart)break;g=v.content}for(let g=f-1;g>=0;g--){let p=u[g],v=R2e(p.type);if(v&&!p.sameMarkup(a.node(Math.abs(l)-1)))f=g;else if(v||!p.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let p=(g+f+1)%(n.openStart+1),v=u[p];if(v)for(let w=0;w<o.length;w++){let b=o[(w+c)%o.length],N=!0;b<0&&(N=!1,b=-b);let k=a.node(b-1),S=a.index(b-1);if(k.canReplaceWith(S,S,v.type,v.marks))return t.replace(a.before(b),N?s.after(b):r,new fr(WJ(n.content,0,n.openStart,p),p,n.openEnd))}}let m=t.steps.length;for(let g=o.length-1;g>=0&&(t.replace(e,r,n),!(t.steps.length>m));g--){let p=o[g];p<0||(e=a.before(p),r=s.after(p))}}function WJ(t,e,r,n,a){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy(WJ(s.content,e+1,r,n,s)))}if(e>n){let s=a.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Gt.empty,!0))}return t}function F2e(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let a=D2e(t.doc,e,n.type);a!=null&&(e=r=a)}t.replaceRange(e,r,new fr(Gt.from(n),0,0))}function $2e(t,e,r){let n=t.doc.resolve(e),a=t.doc.resolve(r),s=VJ(n,a);for(let o=0;o<s.length;o++){let l=s[o],c=o==s.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),a.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),a.indexAfter(l-1))))return t.delete(n.before(l),a.after(l))}for(let o=1;o<=n.depth&&o<=a.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&a.end(o)-r!=a.depth-o&&n.start(o-1)==a.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),a.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function VJ(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let a=n;a>=0;a--){let s=t.start(a);if(s<t.pos-(t.depth-a)||e.end(a)>e.pos+(e.depth-a)||t.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(s==e.start(a)||a==t.depth&&a==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==s-1)&&r.push(a)}return r}class vg extends xo{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return es.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return es.fromReplace(e,this.pos,this.pos+1,new fr(Gt.from(a),0,r.isLeaf?0:1))}getMap(){return Cl.empty}invert(e){return new vg(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new vg(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vg(r.pos,r.attr,r.value)}}xo.jsonID("attr",vg);class Jb extends xo{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let a in e.attrs)r[a]=e.attrs[a];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return es.ok(n)}getMap(){return Cl.empty}invert(e){return new Jb(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Jb(r.attr,r.value)}}xo.jsonID("docAttr",Jb);let qg=class extends Error{};qg=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};qg.prototype=Object.create(Error.prototype);qg.prototype.constructor=qg;qg.prototype.name="TransformError";class GJ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xb}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new qg(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=fr.empty){let a=zN(this.doc,e,r,n);return a&&this.step(a),this}replaceWith(e,r,n){return this.replace(e,r,new fr(Gt.from(n),0,0))}delete(e,r){return this.replace(e,r,fr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return I2e(this,e,r,n),this}replaceRangeWith(e,r,n){return F2e(this,e,r,n),this}deleteRange(e,r){return $2e(this,e,r),this}lift(e,r){return N2e(this,e,r),this}join(e,r=1){return E2e(this,e,r),this}wrap(e,r){return C2e(this,e,r),this}setBlockType(e,r=e,n,a=null){return _2e(this,e,r,n,a),this}setNodeMarkup(e,r,n=null,a){return T2e(this,e,r,n,a),this}setNodeAttribute(e,r,n){return this.step(new vg(e,r,n)),this}setDocAttribute(e,r){return this.step(new Jb(e,r)),this}addNodeMark(e,r){return this.step(new $h(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Aa)r.isInSet(n.marks)&&this.step(new Ap(e,r));else{let a=n.marks,s,o=[];for(;s=r.isInSet(a);)o.push(new Ap(e,s)),a=s.removeFromSet(a);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return M2e(this,e,r,n),this}addMark(e,r,n){return v2e(this,e,r,n),this}removeMark(e,r,n){return w2e(this,e,r,n),this}clearIncompatible(e,r,n){return hD(this,e,r,n),this}}const KC=Object.create(null);class pn{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new B2e(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=fr.empty){let n=r.content.lastChild,a=null;for(let l=0;l<r.openEnd;l++)a=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],f=e.mapping.slice(s);e.replaceRange(f.map(c.pos),f.map(u.pos),l?fr.empty:r),l==0&&H9(e,s,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:o,$to:l}=a[s],c=e.mapping.slice(n),u=c.map(o.pos),f=c.map(l.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,r),H9(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let a=e.parent.inlineContent?new rn(e):K0(e.node(0),e.parent,e.pos,e.index(),r,n);if(a)return a;for(let s=e.depth-1;s>=0;s--){let o=r<0?K0(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):K0(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Ol(e.node(0))}static atStart(e){return K0(e,e,0,0,1)||new Ol(e)}static atEnd(e){return K0(e,e,e.content.size,e.childCount,-1)||new Ol(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=KC[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in KC)throw new RangeError("Duplicate use of selection JSON ID "+e);return KC[e]=r,r.prototype.jsonID=e,r}getBookmark(){return rn.between(this.$anchor,this.$head).getBookmark()}}pn.prototype.visible=!0;class B2e{constructor(e,r){this.$from=e,this.$to=r}}let $9=!1;function B9(t){!$9&&!t.parent.inlineContent&&($9=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class rn extends pn{constructor(e,r=e){B9(e),B9(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return pn.near(n);let a=e.resolve(r.map(this.anchor));return new rn(a.parent.inlineContent?a:n,n)}replace(e,r=fr.empty){if(super.replace(e,r),r==fr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof rn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new rn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let a=e.resolve(r);return new this(a,n==r?a:e.resolve(n))}static between(e,r,n){let a=e.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let s=pn.findFrom(r,n,!0)||pn.findFrom(r,-n,!0);if(s)r=s.$head;else return pn.near(r,n)}return e.parent.inlineContent||(a==0?e=r:(e=(pn.findFrom(e,-n,!0)||pn.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=a<0&&(e=r))),new rn(e,r)}}pn.jsonID("text",rn);class qN{constructor(e,r){this.anchor=e,this.head=r}map(e){return new qN(e.map(this.anchor),e.map(this.head))}resolve(e){return rn.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ir extends pn{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),s=e.resolve(a);return n?pn.near(s):new Ir(s)}content(){return new fr(Gt.from(this.node),0,0)}eq(e){return e instanceof Ir&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new pD(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ir(e.resolve(r.anchor))}static create(e,r){return new Ir(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ir.prototype.visible=!1;pn.jsonID("node",Ir);class pD{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new qN(n,n):new pD(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ir.isSelectable(n)?new Ir(r):pn.near(r)}}class Ol extends pn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=fr.empty){if(r==fr.empty){e.delete(0,e.doc.content.size);let n=pn.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ol(e)}map(e){return new Ol(e)}eq(e){return e instanceof Ol}getBookmark(){return H2e}}pn.jsonID("all",Ol);const H2e={map(){return this},resolve(t){return new Ol(t)}};function K0(t,e,r,n,a,s=!1){if(e.inlineContent)return rn.create(t,r);for(let o=n-(a>0?0:1);a>0?o<e.childCount:o>=0;o+=a){let l=e.child(o);if(l.isAtom){if(!s&&Ir.isSelectable(l))return Ir.create(t,r-(a<0?l.nodeSize:0))}else{let c=K0(t,l,r+a,a<0?l.childCount:0,a,s);if(c)return c}r+=l.nodeSize*a}return null}function H9(t,e,r){let n=t.steps.length-1;if(n<e)return;let a=t.steps[n];if(!(a instanceof Os||a instanceof Ds))return;let s=t.mapping.maps[n],o;s.forEach((l,c,u,f)=>{o==null&&(o=f)}),t.setSelection(pn.near(t.doc.resolve(o),r))}const z9=1,Dw=2,q9=4;class z2e extends GJ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|z9)&~Dw,this.storedMarks=null,this}get selectionSet(){return(this.updated&z9)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Dw,this}ensureMarks(e){return Aa.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Dw)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Dw,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Aa.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let a=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(r);s=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(e,s)),this.selection.empty||this.setSelection(pn.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=q9,this}get scrolledIntoView(){return(this.updated&q9)>0}}function U9(t,e){return!e||!t?t:t.bind(e)}class ab{constructor(e,r,n){this.name=e,this.init=U9(r.init,n),this.apply=U9(r.apply,n)}}const q2e=[new ab("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ab("selection",{init(t,e){return t.selection||pn.atStart(e.doc)},apply(t){return t.selection}}),new ab("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new ab("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class XC{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=q2e.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new ab(n.key,n.spec.state,n))})}}class sg{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),a=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=a?a[o].n:0,u=a?a[o].state:this,f=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,u,n);if(f&&n.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!a){a=[];for(let m=0;m<this.config.plugins.length;m++)a.push(m<o?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),s=!0}a&&(a[o]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new sg(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let s=n[a];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new z2e(this)}static create(e){let r=new XC(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new sg(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(e,n);return n}reconfigure(e){let r=new XC(this.schema,e.plugins),n=r.fields,a=new sg(r);for(let s=0;s<n.length;s++){let o=n[s].name;a[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,a)}return a}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],s=a.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(a,this[a.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new XC(e.schema,e.plugins),s=new sg(a);return a.fields.forEach(o=>{if(o.name=="doc")s.doc=Gh.fromJSON(e.schema,r.doc);else if(o.name=="selection")s.selection=pn.fromJSON(s.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){s[o.name]=u.fromJSON.call(c,e,r[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function YJ(t,e,r){for(let n in t){let a=t[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=YJ(a,e,{})),r[n]=a}return r}class Ai{constructor(e){this.spec=e,this.props={},e.props&&YJ(e.props,this,this.props),this.key=e.key?e.key.key:KJ("plugin")}getState(e){return e[this.key]}}const JC=Object.create(null);function KJ(t){return t in JC?t+"$"+ ++JC[t]:(JC[t]=0,t+"$")}class Rs{constructor(e="key"){this.key=KJ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ys=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ug=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let KM=null;const nf=function(t,e,r){let n=KM||(KM=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},U2e=function(){KM=null},Tp=function(t,e,r,n){return r&&(W9(t,e,r,n,-1)||W9(t,e,r,n,1))},W2e=/^(img|br|input|textarea|hr)$/i;function W9(t,e,r,n,a){for(var s;;){if(t==r&&e==n)return!0;if(e==(a<0?0:uc(t))){let o=t.parentNode;if(!o||o.nodeType!=1||n1(t)||W2e.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ys(t)+(a<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(a<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=a;else return!1;else t=o,e=a<0?uc(t):0}else return!1}}function uc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function V2e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=uc(t)}else if(t.parentNode&&!n1(t))e=Ys(t),t=t.parentNode;else return null}}function G2e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!n1(t))e=Ys(t)+1,t=t.parentNode;else return null}}function Y2e(t,e,r){for(let n=e==0,a=e==uc(t);n||a;){if(t==r)return!0;let s=Ys(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,a=a&&s==uc(t)}}function n1(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const UN=function(t){return t.focusNode&&Tp(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ym(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function K2e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function X2e(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(uc(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(uc(n.startContainer),n.startOffset)}}}const cd=typeof navigator<"u"?navigator:null,V9=typeof document<"u"?document:null,dm=cd&&cd.userAgent||"",XM=/Edge\/(\d+)/.exec(dm),XJ=/MSIE \d/.exec(dm),JM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(dm),cl=!!(XJ||JM||XM),Kh=XJ?document.documentMode:JM?+JM[1]:XM?+XM[1]:0,gc=!cl&&/gecko\/(\d+)/i.test(dm);gc&&+(/Firefox\/(\d+)/.exec(dm)||[0,0])[1];const QM=!cl&&/Chrome\/(\d+)/.exec(dm),mo=!!QM,JJ=QM?+QM[1]:0,Bo=!cl&&!!cd&&/Apple Computer/.test(cd.vendor),Wg=Bo&&(/Mobile\/\w+/.test(dm)||!!cd&&cd.maxTouchPoints>2),lc=Wg||(cd?/Mac/.test(cd.platform):!1),J2e=cd?/Win/.test(cd.platform):!1,uf=/Android \d/.test(dm),a1=!!V9&&"webkitFontSmoothing"in V9.documentElement.style,Q2e=a1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Z2e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Kd(t,e){return typeof t=="number"?t:t[e]}function eje(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function G9(t,e,r){let n=t.someProp("scrollThreshold")||0,a=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Ug(o);continue}let l=o,c=l==s.body,u=c?Z2e(s):eje(l),f=0,m=0;if(e.top<u.top+Kd(n,"top")?m=-(u.top-e.top+Kd(a,"top")):e.bottom>u.bottom-Kd(n,"bottom")&&(m=e.bottom-e.top>u.bottom-u.top?e.top+Kd(a,"top")-u.top:e.bottom-u.bottom+Kd(a,"bottom")),e.left<u.left+Kd(n,"left")?f=-(u.left-e.left+Kd(a,"left")):e.right>u.right-Kd(n,"right")&&(f=e.right-u.right+Kd(a,"right")),f||m)if(c)s.defaultView.scrollBy(f,m);else{let p=l.scrollLeft,v=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let w=l.scrollLeft-p,b=l.scrollTop-v;e={left:e.left-w,top:e.top-b,right:e.right-w,bottom:e.bottom-b}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Ug(o)}}function tje(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,a;for(let s=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,a=c.top;break}}return{refDOM:n,refTop:a,stack:QJ(t.dom)}}function QJ(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Ug(n));return e}function rje({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;ZJ(r,n==0?0:n-e)}function ZJ(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:a,left:s}=t[r];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let $0=null;function nje(t){if(t.setActive)return t.setActive();if($0)return t.focus($0);let e=QJ(t);t.focus($0==null?{get preventScroll(){return $0={preventScroll:!0},!0}}:void 0),$0||($0=!1,ZJ(e,0))}function eQ(t,e){let r,n=2e8,a,s=0,o=e.top,l=e.top,c,u;for(let f=t.firstChild,m=0;f;f=f.nextSibling,m++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=nf(f).getClientRects();else continue;for(let p=0;p<g.length;p++){let v=g[p];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let w=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(w<n){r=f,n=w,a=w&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,f.nodeType==1&&w&&(s=m+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=f,u={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(s=m+1)}}return!r&&c&&(r=c,a=u,n=0),r&&r.nodeType==3?aje(r,a):!r||n&&r.nodeType==1?{node:t,offset:s}:eQ(r,a)}function aje(t,e){let r=t.nodeValue.length,n=document.createRange();for(let a=0;a<r;a++){n.setEnd(t,a+1),n.setStart(t,a);let s=Th(n,1);if(s.top!=s.bottom&&gD(e,s))return{node:t,offset:a+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function gD(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function ije(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function sje(t,e,r){let{node:n,offset:a}=eQ(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,a,s)}function oje(t,e,r,n){let a=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?a=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(a=l.posAfter),o=!0),!l.contentDOM&&a<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return a>-1?a:t.docView.posFromDOM(e,r,-1)}function tQ(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=a;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(gD(e,u))return tQ(o,e,u)}}if((s=(s+1)%n)==a)break}return t}function lje(t,e){let r=t.dom.ownerDocument,n,a=0,s=X2e(r,e.left,e.top);s&&({node:n,offset:a}=s);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!gD(e,u)||(o=tQ(t.dom,e,u),!o))return null}if(Bo)for(let u=o;n&&u;u=Ug(u))u.draggable&&(n=void 0);if(o=ije(o,e),n){if(gc&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let f=n.childNodes[a],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&a++}let u;a1&&a&&n.nodeType==1&&(u=n.childNodes[a-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&a--,n==t.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(l=oje(t,n,a,e))}l==null&&(l=sje(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function Y9(t){return t.top<t.bottom||t.left<t.right}function Th(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Y9(n))return n}return Array.prototype.find.call(r,Y9)||t.getBoundingClientRect()}const cje=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function rQ(t,e,r){let{node:n,offset:a,atom:s}=t.docView.domFromPos(e,r<0?-1:1),o=a1||gc;if(n.nodeType==3)if(o&&(cje.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let c=Th(nf(n,a,a),r);if(gc&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let u=Th(nf(n,a-1,a-1),-1);if(u.top==c.top){let f=Th(nf(n,a,a+1),-1);if(f.top!=c.top)return Iy(f,f.left<u.left)}}return c}else{let c=a,u=a,f=r<0?1:-1;return r<0&&!a?(u++,f=-1):r>=0&&a==n.nodeValue.length?(c--,f=1):r<0?c--:u++,Iy(Th(nf(n,c,u),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&a&&(r<0||a==uc(n))){let c=n.childNodes[a-1];if(c.nodeType==1)return QC(c.getBoundingClientRect(),!1)}if(s==null&&a<uc(n)){let c=n.childNodes[a];if(c.nodeType==1)return QC(c.getBoundingClientRect(),!0)}return QC(n.getBoundingClientRect(),r>=0)}if(s==null&&a&&(r<0||a==uc(n))){let c=n.childNodes[a-1],u=c.nodeType==3?nf(c,uc(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Iy(Th(u,1),!1)}if(s==null&&a<uc(n)){let c=n.childNodes[a];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?nf(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return Iy(Th(u,-1),!0)}return Iy(Th(n.nodeType==3?nf(n):n,-r),r>=0)}function Iy(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function QC(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function nQ(t,e,r){let n=t.state,a=t.root.activeElement;n!=e&&t.updateState(e),a!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),a!=t.dom&&a&&a.focus()}}function uje(t,e,r){let n=e.selection,a=r=="up"?n.$from:n.$to;return nQ(t,e,()=>{let{node:s}=t.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=rQ(t,a.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=nf(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&(r=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const dje=/[\u0590-\u08ac]/;function fje(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,s=!a,o=a==n.parent.content.size,l=t.domSelection();return l?!dje.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?s:o:nQ(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:m}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:v,focusOffset:w}=t.domSelectionRange(),b=v&&!p.contains(v.nodeType==1?v:v.parentNode)||c==v&&u==w;try{l.collapse(f,m),c&&(c!=f||u!=m)&&l.extend&&l.extend(c,u)}catch{}return g!=null&&(l.caretBidiLevel=g),b}):n.pos==n.start()||n.pos==n.end()}let K9=null,X9=null,J9=!1;function hje(t,e,r){return K9==e&&X9==r?J9:(K9=e,X9=r,J9=r=="up"||r=="down"?uje(t,e,r):fje(t,e,r))}const xc=0,Q9=1,tp=2,ud=3;class i1{constructor(e,r,n,a){this.parent=e,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=xc,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=r>Ys(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){a=!1;break}if(s.previousSibling)break}if(a==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){a=!0;break}if(s.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,a=e;a;a=a.parentNode){let s=this.getDesc(a),o;if(s&&(!r||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let a=e;a;a=a.parentNode){let s=this.getDesc(a);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],s=n+a.size;if(n==e&&s!=n){for(;!a.border&&a.children.length;)for(let o=0;o<a.children.length;o++){let l=a.children[o];if(l.size){a=l;break}}return a}if(e<s)return a.descAt(e-n-a.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],l=s+o.size;if(l>e||o instanceof iQ){a=e-s;break}s=l}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof aQ&&s.side>=0;n--);if(r<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&r&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?Ys(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?Ys(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,s=-1;for(let o=n,l=0;;l++){let c=this.children[l],u=o+c.size;if(a==-1&&e<=u){let f=o+c.border;if(e>=f&&r<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,f);e=o;for(let m=l;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){a=Ys(g.dom)+1;break}e-=g.size}a==-1&&(a=0)}if(a>-1&&(u>r||l==this.children.length-1)){r=u;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Ys(m.dom);break}r+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:a,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,a=!1){let s=Math.min(e,r),o=Math.max(e,r);for(let p=0,v=0;p<this.children.length;p++){let w=this.children[p],b=v+w.size;if(s>v&&o<b)return w.setSelection(e-v-w.border,r-v-w.border,n,a);v=b}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),f=n.domSelectionRange(),m=!1;if((gc||Bo)&&e==r){let{node:p,offset:v}=l;if(p.nodeType==3){if(m=!!(v&&p.nodeValue[v-1]==`
`),m&&v==p.nodeValue.length)for(let w=p,b;w;w=w.parentNode){if(b=w.nextSibling){b.nodeName=="BR"&&(l=c={node:b.parentNode,offset:Ys(b)+1});break}let N=w.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let w=p.childNodes[v-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(gc&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let p=f.focusNode.childNodes[f.focusOffset];p&&p.contentEditable=="false"&&(a=!0)}if(!(a||m&&Bo)&&Tp(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Tp(c.node,c.offset,f.focusNode,f.focusOffset))return;let g=!1;if((u.extend||e==r)&&!(m&&gc)){u.collapse(l.node,l.offset);try{e!=r&&u.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>r){let v=l;l=c,c=v}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,a=0;a<this.children.length;a++){let s=this.children[a],o=n+s.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+s.border,c=o-s.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?tp:Q9,e==l&&r==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ud:s.markDirty(e-l,r-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?tp:ud}n=o}this.dirty=tp}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?tp:Q9;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class aQ extends i1{constructor(e,r,n,a){let s,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return a;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==xc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class mje extends i1{constructor(e,r,n,a){super(e,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Mp extends i1{constructor(e,r,n,a,s){super(e,[],n,a),this.mark=r,this.spec=s}static create(e,r,n,a){let s=a.nodeViews[r.type.name],o=s&&s(r,a,n);return(!o||!o.dom)&&(o=qp.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Mp(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ud||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ud&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=xc){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=xc}}slice(e,r,n){let a=Mp.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;r<o&&(s=eO(s,r,o,n)),e>0&&(s=eO(s,0,e,n));for(let l=0;l<s.length;l++)s[l].parent=a;return a.children=s,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xh extends i1{constructor(e,r,n,a,s,o,l,c,u){super(e,[],s,o),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=l}static create(e,r,n,a,s,o){let l=s.nodeViews[r.type.name],c,u=l&&l(r,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,a),f=u&&u.dom,m=u&&u.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=qp.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let g=f;return f=lQ(f,n,r),u?c=new pje(e,r,n,a,f,m||null,g,u,s,o+1):r.isText?new WN(e,r,n,a,f,g,s):new Xh(e,r,n,a,f,m||null,g,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Gt.empty)}return e}matchesNode(e,r,n){return this.dirty==xc&&e.eq(this.node)&&Mj(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,a=r,s=e.composing?this.localCompositionInfo(e,r):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new xje(this,o&&o.node,e);vje(this.node,this.innerDeco,(u,f,m)=>{u.spec.marks?c.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!m&&c.syncToMarks(f==this.node.childCount?Aa.none:this.node.child(f).marks,n,e),c.placeWidget(u,e,a)},(u,f,m,g)=>{c.syncToMarks(u.marks,n,e);let p;c.findNodeMatch(u,f,m,g)||l&&e.state.selection.from>a&&e.state.selection.to<a+u.nodeSize&&(p=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(u,f,m,p,e)||c.updateNextNode(u,f,m,e,g,a)||c.addNode(u,f,m,e,a),a+=u.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==tp)&&(o&&this.protectLocalComposition(e,o),sQ(this.contentDOM,this.children,e),Wg&&wje(this.dom))}localCompositionInfo(e,r){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof rn)||n<r||a>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=jje(this.node.content,o,n-r,a-r);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new mje(this,s,r,a);e.input.compositionNodes.push(o),this.children=eO(this.children,n,n+a.length,e,o)}update(e,r,n,a){return this.dirty==ud||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,a),!0)}updateInner(e,r,n,a){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=xc}updateOuterDeco(e){if(Mj(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=oQ(this.dom,this.nodeDOM,ZM(this.outerDeco,this.node,r),ZM(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Z9(t,e,r,n,a){lQ(n,e,t);let s=new Xh(void 0,t,e,r,n,n,n,a,0);return s.contentDOM&&s.updateChildren(a,0),s}class WN extends Xh{constructor(e,r,n,a,s,o,l){super(e,r,n,a,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,a){return this.dirty==ud||this.dirty!=xc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=xc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=xc,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let a=this.node.cut(e,r),s=document.createTextNode(a.text);return new WN(this.parent,a,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ud)}get domAtom(){return!1}isText(e){return this.node.text==e}}class iQ extends i1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class pje extends Xh{constructor(e,r,n,a,s,o,l,c,u,f){super(e,r,n,a,s,o,l,u,f),this.spec=c}update(e,r,n,a){if(this.dirty==ud)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,a),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,a){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function sQ(t,e,r){let n=t.firstChild,a=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=eF(n),a=!0;n=n.nextSibling}else a=!0,t.insertBefore(l,n);if(o instanceof Mp){let c=n?n.previousSibling:t.lastChild;sQ(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=eF(n),a=!0;a&&r.trackWrites==t&&(r.trackWrites=null)}const gb=function(t){t&&(this.nodeName=t)};gb.prototype=Object.create(null);const rp=[new gb];function ZM(t,e,r){if(t.length==0)return rp;let n=r?rp[0]:new gb,a=[n];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&a.push(n=new gb(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&a.length==1&&a.push(n=new gb(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return a}function oQ(t,e,r,n){if(r==rp&&n==rp)return e;let a=e;for(let s=0;s<n.length;s++){let o=n[s],l=r[s];if(s){let c;l&&l.nodeName==o.nodeName&&a!=t&&(c=a.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=rp[0]),a=c}gje(a,l||rp[0],o)}return a}function gje(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)a.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<a.length;s++)n.indexOf(a[s])==-1&&t.classList.add(a[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)t.style.removeProperty(a[1])}r.style&&(t.style.cssText+=r.style)}}function lQ(t,e,r){return oQ(t,t,rp,ZM(e,r,t.nodeType!=1))}function Mj(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function eF(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xje{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=yje(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let a=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;a<o&&(a==s-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<s;)this.destroyRest(),this.top.dirty=xc,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Mp.create(this.top,e[s],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,r,n,a){let s=-1,o;if(a>=this.preMatch.index&&(o=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,a,s){let o=this.top.children[a];return o.dirty==ud&&o.dom==o.contentDOM&&(o.dirty=tp),o.update(e,r,n,s)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=r}}updateNextNode(e,r,n,a,s,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Xh){let u=this.preMatch.matched.get(c);if(u!=null&&u!=s)return!1;let f=c.dom,m,g=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=ud&&Mj(r,c.outerDeco));if(!g&&c.update(e,r,n,a))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(c,e,r,n,a,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=tp,m.updateChildren(a,o+1),m.dirty=xc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,a,s,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Mj(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let l=Xh.create(this.top,r,n,a,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,a,s){let o=Xh.create(this.top,e,r,n,a,s);o.contentDOM&&o.updateChildren(a,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let s=new aQ(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Mp;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof WN)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bo||mo)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new iQ(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function yje(t,e){let r=e,n=r.children.length,a=t.childCount,s=new Map,o=[];e:for(;a>0;){let l;for(;;)if(n){let u=r.children[n-1];if(u instanceof Mp)r=u,n=u.children.length;else{l=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(a-1))break;--a,s.set(l,a),o.push(l)}}return{index:a,matched:s,matches:o.reverse()}}function bje(t,e){return t.type.side-e.type.side}function vje(t,e,r,n){let a=e.locals(t),s=0;if(a.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);n(f,a,e.forChild(s,f),u),s+=f.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let f,m;for(;o<a.length&&a[o].to==s;){let b=a[o++];b.widget&&(f?(m||(m=[f])).push(b):f=b)}if(f)if(m){m.sort(bje);for(let b=0;b<m.length;b++)r(m[b],u,!!c)}else r(f,u,!!c);let g,p;if(c)p=-1,g=c,c=null;else if(u<t.childCount)p=u,g=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=s&&l.splice(b--,1);for(;o<a.length&&a[o].from<=s&&a[o].to>s;)l.push(a[o++]);let v=s+g.nodeSize;if(g.isText){let b=v;o<a.length&&a[o].from<b&&(b=a[o].from);for(let N=0;N<l.length;N++)l[N].to<b&&(b=l[N].to);b<v&&(c=g.cut(b-s),g=g.cut(0,b-s),v=b,p=-1)}else for(;o<a.length&&a[o].to<v;)o++;let w=g.isInline&&!g.isLeaf?l.filter(b=>!b.inline):l.slice();n(g,w,e.forChild(s,g),p),s=v}}function wje(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function jje(t,e,r,n){for(let a=0,s=0;a<t.childCount&&s<=n;){let o=t.child(a++),l=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;a<t.childCount;){let u=t.child(a++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=r){if(s>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let u=l<n?c.lastIndexOf(e,n-l-1):-1;if(u>=0&&u+e.length+l>=r)return l+u;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function eO(t,e,r,n,a){let s=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],u=l,f=l+=c.size;u>=r||f<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,n)),a&&(s.push(a),a=void 0),f>r&&s.push(c.slice(r-u,c.size,n)))}return s}function xD(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let a=t.docView.nearestDesc(r.focusNode),s=a&&a.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,u;if(UN(r)){for(c=o;a&&!a.node;)a=a.parent;let m=a.node;if(a&&m.isAtom&&Ir.isSelectable(m)&&a.parent&&!(m.isInline&&Y2e(r.focusNode,r.focusOffset,a.dom))){let g=a.posBefore;u=new Ir(o==g?l:n.resolve(g))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=o,g=o;for(let p=0;p<r.rangeCount;p++){let v=r.getRangeAt(p);m=Math.min(m,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[c,o]=g==t.state.selection.anchor?[g,m]:[m,g],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let f=n.resolve(c);if(!u){let m=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=yD(t,f,l,m)}return u}function cQ(t){return t.editable?t.hasFocus():dQ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function jf(t,e=!1){let r=t.state.selection;if(uQ(t,r),!!cQ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&mo){let n=t.domSelectionRange(),a=t.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&Tp(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Sje(t);else{let{anchor:n,head:a}=r,s,o;tF&&!(r instanceof rn)&&(r.$from.parent.inlineContent||(s=rF(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=rF(t,r.to))),t.docView.setSelection(n,a,t,e),tF&&(s&&nF(s),o&&nF(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Nje(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const tF=Bo||mo&&JJ<63;function rF(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),a=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(Bo&&a&&a.contentEditable=="false")return ZC(a);if((!a||a.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(a)return ZC(a);if(s)return ZC(s)}}function ZC(t){return t.contentEditable="true",Bo&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function nF(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Nje(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!cQ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Sje(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Ys(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&cl&&Kh<=11&&(r.disabled=!0,r.disabled=!1)}function uQ(t,e){if(e instanceof Ir){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(aF(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else aF(t)}function aF(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function yD(t,e,r,n){return t.someProp("createSelectionBetween",a=>a(t,e,r))||rn.between(e,r,n)}function iF(t){return t.editable&&!t.hasFocus()?!1:dQ(t)}function dQ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function kje(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Tp(e.node,e.offset,r.anchorNode,r.anchorOffset)}function tO(t,e){let{$anchor:r,$head:n}=t.selection,a=e>0?r.max(n):r.min(n),s=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return s&&pn.findFrom(s,e)}function Oh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function sF(t,e,r){let n=t.state.selection;if(n instanceof rn)if(r.indexOf("s")>-1){let{$head:a}=n,s=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(a.pos+s.nodeSize*(e<0?-1:1));return Oh(t,new rn(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let a=tO(t.state,e);return a&&a instanceof Ir?Oh(t,a):!1}else if(!(lc&&r.indexOf("m")>-1)){let a=n.$head,s=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?a.pos-s.nodeSize:a.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Ir.isSelectable(s)?Oh(t,new Ir(e<0?t.state.doc.resolve(a.pos-s.nodeSize):a)):a1?Oh(t,new rn(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ir&&n.node.isInline)return Oh(t,new rn(e>0?n.$to:n.$from));{let a=tO(t.state,e);return a?Oh(t,a):!1}}}function Oj(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xb(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function B0(t,e){return e<0?Cje(t):_je(t)}function Cje(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a,s,o=!1;for(gc&&r.nodeType==1&&n<Oj(r)&&xb(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(xb(l,-1))a=r,s=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(fQ(r))break;{let l=r.previousSibling;for(;l&&xb(l,-1);)a=r.parentNode,s=Ys(l),l=l.previousSibling;if(l)r=l,n=Oj(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?rO(t,r,n):a&&rO(t,a,s)}function _je(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a=Oj(r),s,o;for(;;)if(n<a){if(r.nodeType!=1)break;let l=r.childNodes[n];if(xb(l,1))s=r,o=++n;else break}else{if(fQ(r))break;{let l=r.nextSibling;for(;l&&xb(l,1);)s=l.parentNode,o=Ys(l)+1,l=l.nextSibling;if(l)r=l,n=0,a=Oj(r);else{if(r=r.parentNode,r==t.dom)break;n=a=0}}}s&&rO(t,s,o)}function fQ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Aje(t,e){for(;t&&e==t.childNodes.length&&!n1(t);)e=Ys(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function Tje(t,e){for(;t&&!e&&!n1(t);)e=Ys(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function rO(t,e,r){if(e.nodeType!=3){let s,o;(o=Aje(e,r))?(e=o,r=0):(s=Tje(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(UN(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&jf(t)},50)}function oF(t,e){let r=t.state.doc.resolve(e);if(!(mo||J2e)&&r.parent.inlineContent){let a=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(s.left-a.left)>1)return s.left<a.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(s.left-a.left)>1)return s.left>a.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function lF(t,e,r){let n=t.state.selection;if(n instanceof rn&&!n.empty||r.indexOf("s")>-1||lc&&r.indexOf("m")>-1)return!1;let{$from:a,$to:s}=n;if(!a.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=tO(t.state,e);if(o&&o instanceof Ir)return Oh(t,o)}if(!a.parent.inlineContent){let o=e<0?a:s,l=n instanceof Ol?pn.near(o,e):pn.findFrom(o,e);return l?Oh(t,l):!1}return!1}function cF(t,e){if(!(t.state.selection instanceof rn))return!0;let{$head:r,$anchor:n,empty:a}=t.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(r.pos-s.nodeSize,r.pos):o.delete(r.pos,r.pos+s.nodeSize),t.dispatch(o),!0}return!1}function uF(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function Mje(t){if(!Bo||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;uF(t,n,"true"),setTimeout(()=>uF(t,n,"false"),20)}return!1}function Oje(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Eje(t,e){let r=e.keyCode,n=Oje(e);if(r==8||lc&&r==72&&n=="c")return cF(t,-1)||B0(t,-1);if(r==46&&!e.shiftKey||lc&&r==68&&n=="c")return cF(t,1)||B0(t,1);if(r==13||r==27)return!0;if(r==37||lc&&r==66&&n=="c"){let a=r==37?oF(t,t.state.selection.from)=="ltr"?-1:1:-1;return sF(t,a,n)||B0(t,a)}else if(r==39||lc&&r==70&&n=="c"){let a=r==39?oF(t,t.state.selection.from)=="ltr"?1:-1:1;return sF(t,a,n)||B0(t,a)}else{if(r==38||lc&&r==80&&n=="c")return lF(t,-1,n)||B0(t,-1);if(r==40||lc&&r==78&&n=="c")return Mje(t)||lF(t,1,n)||B0(t,1);if(n==(lc?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function bD(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:a,openEnd:s}=e;for(;a>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,s--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let o=t.someProp("clipboardSerializer")||qp.fromSchema(t.state.schema),l=yQ(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let u=c.firstChild,f,m=0;for(;u&&u.nodeType==1&&(f=xQ[u.nodeName.toLowerCase()]);){for(let p=f.length-1;p>=0;p--){let v=l.createElement(f[p]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),m++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${a} ${s}${m?` -${m}`:""} ${JSON.stringify(r)}`);let g=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function hQ(t,e,r,n,a){let s=a.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||s||!r);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,s||n,t)}),s)return l=new fr(Gt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",g=>g(e,a,n,t));if(m)l=m;else{let g=a.marks(),{schema:p}=t.state,v=qp.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let b=o.appendChild(document.createElement("p"));w&&b.appendChild(v.serializeNode(p.text(w,g)))})}}else t.someProp("transformPastedHTML",m=>{r=m(r,t)}),o=Rje(r),a1&&Ije(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Yh.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:a,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!Dje.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=Fje(dF(l,+f[1],+f[2]),f[4]);else if(l=fr.maxOpen(Pje(l.content,a),!0),l.openStart||l.openEnd){let m=0,g=0;for(let p=l.content.firstChild;m<l.openStart&&!p.type.spec.isolating;m++,p=p.firstChild);for(let p=l.content.lastChild;g<l.openEnd&&!p.type.spec.isolating;g++,p=p.lastChild);l=dF(l,m,g)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const Dje=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Pje(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.index(r)),s,o=[];if(t.forEach(l=>{if(!o)return;let c=a.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&s.length&&pQ(c,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=gQ(o[o.length-1],s.length));let f=mQ(l,c);o.push(f),a=a.matchType(f.type),s=c}}),o)return Gt.from(o)}return t}function mQ(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Gt.from(t));return t}function pQ(t,e,r,n,a){if(a<t.length&&a<e.length&&t[a]==e[a]){let s=pQ(t,e,r,n.lastChild,a+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(a==t.length-1?r.type:t[a+1]))return n.copy(n.content.append(Gt.from(mQ(r,t,a+1))))}}function gQ(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,gQ(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Gt.empty,!0);return t.copy(r.append(n))}function nO(t,e,r,n,a,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),a<n-1&&(l=nO(l,e,r,n,a+1,s)),a>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=a).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Gt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function dF(t,e,r){return e<t.openStart&&(t=new fr(nO(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new fr(nO(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const xQ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fF=null;function yQ(){return fF||(fF=document.implementation.createHTMLDocument("title"))}let e_=null;function Lje(t){let e=window.trustedTypes;return e?(e_||(e_=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),e_.createHTML(t)):t}function Rje(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=yQ().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),a;if((a=n&&xQ[n[1].toLowerCase()])&&(t=a.map(s=>"<"+s+">").join("")+t+a.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=Lje(t),a)for(let s=0;s<a.length;s++)r=r.querySelector(a[s])||r;return r}function Ije(t){let e=t.querySelectorAll(mo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function Fje(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:a,openStart:s,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;a=Gt.from(c.create(n[l+1],a)),s++,o++}return new fr(a,s,o)}const Ho={},zo={},$je={touchstart:!0,touchmove:!0};class Bje{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Hje(t){for(let e in Ho){let r=Ho[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{qje(t,n)&&!vD(t,n)&&(t.editable||!(n.type in zo))&&r(t,n)},$je[e]?{passive:!0}:void 0)}Bo&&t.dom.addEventListener("input",()=>null),aO(t)}function Bh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function zje(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function aO(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>vD(t,n))})}function vD(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function qje(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Uje(t,e){!vD(t,e)&&Ho[e.type]&&(t.editable||!(e.type in zo))&&Ho[e.type](t,e)}zo.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!vQ(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(uf&&mo&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Wg&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",a=>a(t,Ym(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Eje(t,r)?r.preventDefault():Bh(t,"key")};zo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zo.keypress=(t,e)=>{let r=e;if(vQ(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||lc&&r.metaKey)return;if(t.someProp("handleKeyPress",a=>a(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof rn)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),s=()=>t.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,a,s))&&t.dispatch(s()),r.preventDefault()}};function VN(t){return{left:t.clientX,top:t.clientY}}function Wje(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function wD(t,e,r,n,a){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,r,s.nodeAfter,s.before(o),a,!0):l(t,r,s.node(o),s.before(o),a,!1)))return!0;return!1}function wg(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function Vje(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ir.isSelectable(n)?(wg(t,new Ir(r)),!0):!1}function Gje(t,e){if(e==-1)return!1;let r=t.state.selection,n,a;r instanceof Ir&&(n=r.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(Ir.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?a=s.before(r.$from.depth):a=s.before(o);break}}return a!=null?(wg(t,Ir.create(t.state.doc,a)),!0):!1}function Yje(t,e,r,n,a){return wD(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(a?Gje(t,r):Vje(t,r))}function Kje(t,e,r,n){return wD(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",a=>a(t,e,n))}function Xje(t,e,r,n){return wD(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",a=>a(t,e,n))||Jje(t,r,n)}function Jje(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(wg(t,rn.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let s=a.depth+1;s>0;s--){let o=s>a.depth?a.nodeAfter:a.node(s),l=a.before(s);if(o.inlineContent)wg(t,rn.create(n,l+1,l+1+o.content.size));else if(Ir.isSelectable(o))wg(t,Ir.create(n,l));else continue;return!0}}function jD(t){return Ej(t)}const bQ=lc?"metaKey":"ctrlKey";Ho.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=jD(t),a=Date.now(),s="singleClick";a-t.input.lastClick.time<500&&Wje(r,t.input.lastClick)&&!r[bQ]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:s,button:r.button};let o=t.posAtCoords(VN(r));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Qje(t,o,r,!!n)):(s=="doubleClick"?Kje:Xje)(t,o.pos,o.inside,r)?r.preventDefault():Bh(t,"pointer"))};class Qje{constructor(e,r,n,a){this.view=e,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[bQ],this.allowDefault=n.shiftKey;let s,o;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),o=r.inside;else{let f=e.state.doc.resolve(r.pos);s=f.parent,o=f.depth?f.before():0}const l=a?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Ir&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(VN(e))),this.updateAllowDefault(e),this.allowDefault||!r?Bh(this.view,"pointer"):Yje(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bo&&this.mightDrag&&!this.mightDrag.node.isAtom||mo&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(wg(this.view,pn.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Bh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Bh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ho.touchstart=t=>{t.input.lastTouch=Date.now(),jD(t),Bh(t,"pointer")};Ho.touchmove=t=>{t.input.lastTouch=Date.now(),Bh(t,"pointer")};Ho.contextmenu=t=>jD(t);function vQ(t,e){return t.composing?!0:Bo&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Zje=uf?5e3:-1;zo.compositionstart=zo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof rn&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Ej(t,!0),t.markCursor=null;else if(Ej(t,!e.selection.empty),gc&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let a=n.focusNode,s=n.focusOffset;a&&a.nodeType==1&&s!=0;){let o=s<0?a.lastChild:a.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else a=o,s=-1}}t.input.composing=!0}wQ(t,Zje)};zo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,wQ(t,20))};function wQ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ej(t),e))}function jQ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=t5e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function e5e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=V2e(e.focusNode,e.focusOffset),n=G2e(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!a||!a.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function t5e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ej(t,e=!1){if(!(uf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),jQ(t),e||t.docView&&t.docView.dirty){let r=xD(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function r5e(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Qb=cl&&Kh<15||Wg&&Q2e<604;Ho.copy=zo.cut=(t,e)=>{let r=e,n=t.state.selection,a=r.type=="cut";if(n.empty)return;let s=Qb?null:r.clipboardData,o=n.content(),{dom:l,text:c}=bD(t,o);s?(r.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):r5e(t,l),a&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function n5e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function a5e(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Zb(t,n.value,null,a,e):Zb(t,n.textContent,n.innerHTML,a,e)},50)}function Zb(t,e,r,n,a){let s=hQ(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,a,s||fr.empty)))return!0;if(!s)return!1;let o=n5e(s),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function NQ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}zo.paste=(t,e)=>{let r=e;if(t.composing&&!uf)return;let n=Qb?null:r.clipboardData,a=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Zb(t,NQ(n),n.getData("text/html"),a,r)?r.preventDefault():a5e(t,r)};class SQ{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const i5e=lc?"altKey":"ctrlKey";function kQ(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[i5e]}Ho.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=t.state.selection,s=a.empty?null:t.posAtCoords(VN(r)),o;if(!(s&&s.pos>=a.from&&s.pos<=(a instanceof Ir?a.to-1:a.to))){if(n&&n.mightDrag)o=Ir.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=t.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=Ir.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:u,slice:f}=bD(t,l);(!r.dataTransfer.files.length||!mo||JJ>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Qb?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Qb||r.dataTransfer.setData("text/plain",u),t.dragging=new SQ(f,kQ(t,r),o)};Ho.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zo.dragover=zo.dragenter=(t,e)=>e.preventDefault();zo.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let a=t.posAtCoords(VN(r));if(!a)return;let s=t.state.doc.resolve(a.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=hQ(t,NQ(r.dataTransfer),Qb?null:r.dataTransfer.getData("text/html"),!1,s);let l=!!(n&&kQ(t,r));if(t.someProp("handleDrop",v=>v(t,r,o||fr.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?zJ(t.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let u=t.state.tr;if(l){let{node:v}=n;v?v.replace(u):u.deleteSelection()}let f=u.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=u.doc;if(m?u.replaceRangeWith(f,f,o.content.firstChild):u.replaceRange(f,f,o),u.doc.eq(g))return;let p=u.doc.resolve(f);if(m&&Ir.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Ir(p));else{let v=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((w,b,N,k)=>v=k),u.setSelection(yD(t,p,u.doc.resolve(v)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Ho.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&jf(t)},20))};Ho.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ho.beforeinput=(t,e)=>{if(mo&&uf&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ym(8,"Backspace")))))return;let{$cursor:a}=t.state.selection;a&&a.pos>0&&t.dispatch(t.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let t in zo)Ho[t]=zo[t];function ev(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Dj{constructor(e,r){this.toDOM=e,this.spec=r||xp,this.side=this.spec.side||0}map(e,r,n,a){let{pos:s,deleted:o}=e.mapResult(r.from+a,this.side<0?-1:1);return o?null:new Do(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Dj&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ev(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Jh{constructor(e,r){this.attrs=e,this.spec=r||xp}map(e,r,n,a){let s=e.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new Do(s,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Jh&&ev(this.attrs,e.attrs)&&ev(this.spec,e.spec)}static is(e){return e.type instanceof Jh}destroy(){}}class ND{constructor(e,r){this.attrs=e,this.spec=r||xp}map(e,r,n,a){let s=e.mapResult(r.from+a,1);if(s.deleted)return null;let o=e.mapResult(r.to+a,-1);return o.deleted||o.pos<=s.pos?null:new Do(s.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:a}=e.content.findIndex(r.from),s;return a==r.from&&!(s=e.child(n)).isText&&a+s.nodeSize==r.to}eq(e){return this==e||e instanceof ND&&ev(this.attrs,e.attrs)&&ev(this.spec,e.spec)}destroy(){}}class Do{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Do(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Do(e,e,new Dj(r,n))}static inline(e,r,n,a){return new Do(e,r,new Jh(n,a))}static node(e,r,n,a){return new Do(e,r,new ND(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jh}get widget(){return this.type instanceof Dj}}const X0=[],xp={};class si{constructor(e,r){this.local=e.length?e:X0,this.children=r.length?r:X0}static create(e,r){return r.length?Pj(r,e,0,xp):lo}find(e,r,n){let a=[];return this.findInner(e??0,r??1e9,a,0,n),a}findInner(e,r,n,a,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!s||s(l.spec))&&n.push(l.copy(l.from+a,l.to+a))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,a+l,s)}}map(e,r,n){return this==lo||e.maps.length==0?this:this.mapInner(e,r,0,0,n||xp)}mapInner(e,r,n,a,s){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,a);c&&c.type.valid(r,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?s5e(this.children,o||[],e,r,n,a,s):o?new si(o.sort(yp),X0):lo}add(e,r){return r.length?this==lo?si.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let a,s=0;e.forEach((l,c)=>{let u=c+n,f;if(f=_Q(r,l,u)){for(a||(a=this.children.slice());s<a.length&&a[s]<c;)s+=3;a[s]==c?a[s+2]=a[s+2].addInner(l,f,u+1):a.splice(s,0,c,c+l.nodeSize,Pj(f,l,u+1,xp)),s+=3}});let o=CQ(s?AQ(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new si(o.length?this.local.concat(o).sort(yp):this.local,a||this.children)}remove(e){return e.length==0||this==lo?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,a=this.local;for(let s=0;s<n.length;s+=3){let o,l=n[s]+r,c=n[s+1]+r;for(let f=0,m;f<e.length;f++)(m=e[f])&&m.from>l&&m.to<c&&(e[f]=null,(o||(o=[])).push(m));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[s+2].removeInner(o,l+1);u!=lo?n[s+2]=u:(n.splice(s,3),s-=3)}if(a.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<a.length;l++)a[l].eq(o,r)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new si(a,n):lo}forChild(e,r){if(this==lo)return this;if(r.isLeaf)return si.empty;let n,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let s=e+1,o=s+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>s&&c.type instanceof Jh){let u=Math.max(s,c.from)-s,f=Math.min(o,c.to)-s;u<f&&(a||(a=[])).push(c.copy(u,f))}}if(a){let l=new si(a.sort(yp),X0);return n?new Lh([l,n]):l}return n||lo}eq(e){if(this==e)return!0;if(!(e instanceof si)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return SD(this.localsInner(e))}localsInner(e){if(this==lo)return X0;if(e.inlineContent||!this.local.some(Jh.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Jh||r.push(this.local[n]);return r}forEachSet(e){e(this)}}si.empty=new si([],[]);si.removeOverlap=SD;const lo=si.empty;class Lh{constructor(e){this.members=e}map(e,r){const n=this.members.map(a=>a.map(e,r,xp));return Lh.from(n)}forChild(e,r){if(r.isLeaf)return si.empty;let n=[];for(let a=0;a<this.members.length;a++){let s=this.members[a].forChild(e,r);s!=lo&&(s instanceof Lh?n=n.concat(s.members):n.push(s))}return Lh.from(n)}eq(e){if(!(e instanceof Lh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let a=0;a<this.members.length;a++){let s=this.members[a].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let o=0;o<s.length;o++)r.push(s[o])}}return r?SD(n?r:r.sort(yp)):X0}static from(e){switch(e.length){case 0:return lo;case 1:return e[0];default:return new Lh(e.every(r=>r instanceof si)?e:e.reduce((r,n)=>r.concat(n instanceof si?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function s5e(t,e,r,n,a,s,o){let l=t.slice();for(let u=0,f=s;u<r.maps.length;u++){let m=0;r.maps[u].forEach((g,p,v,w)=>{let b=w-v-(p-g);for(let N=0;N<l.length;N+=3){let k=l[N+1];if(k<0||g>k+f-m)continue;let S=l[N]+f-m;p>=S?l[N+1]=g<=S?-2:-1:g>=f&&b&&(l[N]+=b,l[N+1]+=b)}m+=b}),f=r.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let f=r.map(t[u]+s),m=f-a;if(m<0||m>=n.content.size){c=!0;continue}let g=r.map(t[u+1]+s,-1),p=g-a,{index:v,offset:w}=n.content.findIndex(m),b=n.maybeChild(v);if(b&&w==m&&w+b.nodeSize==p){let N=l[u+2].mapInner(r,b,f+1,t[u]+s+1,o);N!=lo?(l[u]=m,l[u+1]=p,l[u+2]=N):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=o5e(l,t,e,r,a,s,o),f=Pj(u,n,0,o);e=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<f.children.length;m+=3){let p=f.children[m];for(;g<l.length&&l[g]<p;)g+=3;l.splice(g,0,f.children[m],f.children[m+1],f.children[m+2])}}return new si(e.sort(yp),l)}function CQ(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let a=t[n];r.push(new Do(a.from+e,a.to+e,a.type))}return r}function o5e(t,e,r,n,a,s,o){function l(c,u){for(let f=0;f<c.local.length;f++){let m=c.local[f].map(n,a,u);m?r.push(m):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return r}function _Q(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,a=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>r&&o.to<n&&((a||(a=[])).push(o),t[s]=null);return a}function AQ(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Pj(t,e,r,n){let a=[],s=!1;e.forEach((l,c)=>{let u=_Q(t,l,c+r);if(u){s=!0;let f=Pj(u,l,r+c+1,n);f!=lo&&a.push(c,c+l.nodeSize,f)}});let o=CQ(s?AQ(t):t,-r).sort(yp);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||a.length?new si(o,a):lo}function yp(t,e){return t.from-e.from||t.to-e.to}function SD(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let a=r+1;a<e.length;a++){let s=e[a];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[a]=s.copy(s.from,n.to),hF(e,a+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),hF(e,a,n.copy(s.from,n.to)));break}}}return e}function hF(t,e,r){for(;e<t.length&&yp(r,t[e])>0;)e++;t.splice(e,0,r)}function t_(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=lo&&e.push(n)}),t.cursorWrapper&&e.push(si.create(t.state.doc,[t.cursorWrapper.deco])),Lh.from(e)}const l5e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},c5e=cl&&Kh<=11;class u5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class d5e{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new u5e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);cl&&Kh<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),c5e&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,l5e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iF(this.view)){if(this.suppressingSelectionUpdates)return jf(this.view);if(cl&&Kh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Tp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=Ug(s))r.add(s);for(let s=e.anchorNode;s;s=Ug(s))if(r.has(s)){n=s;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&iF(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,l=!1,c=[];if(e.editable)for(let f=0;f<r.length;f++){let m=this.registerMutation(r[f],c);m&&(s=s<0?m.from:Math.min(m.from,s),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(gc&&c.length){let f=c.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,g]=f;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of f){let p=g.parentNode;p&&p.nodeName=="LI"&&(!m||m5e(e,m)!=p)&&g.remove()}}}let u=null;s<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&UN(n)&&(u=xD(e))&&u.eq(pn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,jf(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||a)&&(s>-1&&(e.docView.markDirty(s,o),f5e(e)),this.handleDOMChange(s,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||jf(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let m=e.addedNodes[f];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,s=e.nextSibling;if(cl&&Kh<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:m,nextSibling:g}=e.addedNodes[f];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(a=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let o=a&&a.parentNode==e.target?Ys(a)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?Ys(s):e.target.childNodes.length,u=n.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let mF=new WeakMap,pF=!1;function f5e(t){if(!mF.has(t)&&(mF.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gc,pF)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),pF=!0}}function gF(t,e){let r=e.startContainer,n=e.startOffset,a=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Tp(o.node,o.offset,a,s)&&([r,n,a,s]=[a,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:s}}function h5e(t,e){if(e.getComposedRanges){let a=e.getComposedRanges(t.root)[0];if(a)return gF(t,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?gF(t,r):null}function m5e(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function p5e(t,e,r){let{node:n,fromOffset:a,toOffset:s,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),u,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],UN(c)||u.push({node:c.focusNode,offset:c.focusOffset})),mo&&t.input.lastKeyCode===8)for(let b=s;b>a;b--){let N=n.childNodes[b-1],k=N.pmViewDesc;if(N.nodeName=="BR"&&!k){s=b;break}if(!k||k.size)break}let m=t.state.doc,g=t.someProp("domParser")||Yh.fromSchema(t.state.schema),p=m.resolve(o),v=null,w=g.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:a,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:g5e,context:p});if(u&&u[0].pos!=null){let b=u[0].pos,N=u[1]&&u[1].pos;N==null&&(N=b),v={anchor:b+o,head:N+o}}return{doc:w,sel:v,from:o,to:l}}function g5e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bo&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Bo&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const x5e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function y5e(t,e,r,n,a){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=xD(t,I);if(L&&!t.state.selection.eq(L)){if(mo&&uf&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Ym(13,"Enter"))))return;let R=t.state.tr.setSelection(L);I=="pointer"?R.setMeta("pointer",!0):I=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),t.dispatch(R)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,u=p5e(t,e,r),f=t.state.doc,m=f.slice(u.from,u.to),g,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,p="end"):(g=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let v=w5e(m.content,u.doc.content,u.from,g,p);if(v&&t.input.domChangeCount++,(Wg&&t.input.lastIOSEnter>Date.now()-225||uf)&&a.some(I=>I.nodeType==1&&!x5e.test(I.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",I=>I(t,Ym(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof rn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let I=xF(t,t.state.doc,u.sel);if(I&&!I.eq(t.state.selection)){let L=t.state.tr.setSelection(I);s&&L.setMeta("composition",s),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof rn&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),cl&&Kh<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)==" "&&(v.start--,v.endA--,v.endB--);let w=u.doc.resolveNoCache(v.start-u.from),b=u.doc.resolveNoCache(v.endB-u.from),N=f.resolve(v.start),k=w.sameParent(b)&&w.parent.inlineContent&&N.end()>=v.endA;if((Wg&&t.input.lastIOSEnter>Date.now()-225&&(!k||a.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!k&&w.pos<u.doc.content.size&&(!w.sameParent(b)||!w.parent.inlineContent)&&w.pos<b.pos&&!/\S/.test(u.doc.textBetween(w.pos,b.pos,"","")))&&t.someProp("handleKeyDown",I=>I(t,Ym(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&v5e(f,v.start,v.endA,w,b)&&t.someProp("handleKeyDown",I=>I(t,Ym(8,"Backspace")))){uf&&mo&&t.domObserver.suppressSelectionUpdates();return}mo&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),uf&&!k&&w.start()!=b.start()&&b.parentOffset==0&&w.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,b=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,Ym(13,"Enter"))})},20));let S=v.start,A=v.endA,_=I=>{let L=I||t.state.tr.replace(S,A,u.doc.slice(v.start-u.from,v.endB-u.from));if(u.sel){let R=xF(t,L.doc,u.sel);R&&!(mo&&t.composing&&R.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(R.head==S||R.head==L.mapping.map(A)-1)||cl&&R.empty&&R.head==S)&&L.setSelection(R)}return s&&L.setMeta("composition",s),L.scrollIntoView()},O;if(k){if(w.pos==b.pos){cl&&Kh<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>jf(t),20));let I=_(t.state.tr.delete(S,A)),L=f.resolve(v.start).marksAcross(f.resolve(v.endA));L&&I.ensureMarks(L),t.dispatch(I)}else if(v.endA==v.endB&&(O=b5e(w.parent.content.cut(w.parentOffset,b.parentOffset),N.parent.content.cut(N.parentOffset,v.endA-N.start())))){let I=_(t.state.tr);O.type=="add"?I.addMark(S,A,O.mark):I.removeMark(S,A,O.mark),t.dispatch(I)}else if(w.parent.child(w.index()).isText&&w.index()==b.index()-(b.textOffset?0:1)){let I=w.parent.textBetween(w.parentOffset,b.parentOffset),L=()=>_(t.state.tr.insertText(I,S,A));t.someProp("handleTextInput",R=>R(t,S,A,I,L))||t.dispatch(L())}}else t.dispatch(_())}function xF(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:yD(t,e.resolve(r.anchor),e.resolve(r.head))}function b5e(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,a=r,s=n,o,l,c;for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);for(let f=0;f<r.length;f++)s=r[f].removeFromSet(s);if(a.length==1&&s.length==0)l=a[0],o="add",c=f=>f.mark(l.addToSet(f.marks));else if(a.length==0&&s.length==1)l=s[0],o="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(c(e.child(f)));if(Gt.from(u).eq(t))return{mark:l,type:o}}function v5e(t,e,r,n,a){if(r-e<=a.pos-n.pos||r_(n,!0,!1)<a.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let l=s.nodeAfter;return l!=null&&r==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(r_(s,!0,!0));return!o.parent.isTextblock||o.pos>r||r_(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function r_(t,e,r){let n=t.depth,a=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,a++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,a++}return a}function w5e(t,e,r,n,a){let s=t.findDiffStart(e,r);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(a=="end"){let c=Math.max(0,s-Math.min(o,l));n-=o+c-s}if(o<s&&t.size<e.size){let c=n<=s&&n>=o?s-n:0;s-=c,s&&s<e.size&&yF(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-o),o=s}else if(l<s){let c=n<=s&&n>=l?s-n:0;s-=c,s&&s<t.size&&yF(t.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function yF(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class TQ{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Bje,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(NF),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=wF(this),vF(this),this.nodeViews=jF(this),this.docView=Z9(this.state.doc,bF(this),t_(this),this.dom,this),this.domObserver=new d5e(this,(n,a,s,o)=>y5e(this,n,a,s,o)),this.domObserver.start(),Hje(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&aO(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(NF),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let a=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(jQ(this),o=!0),this.state=e;let l=a.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=jF(this);N5e(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&aO(this),this.editable=wF(this),vF(this);let c=t_(this),u=bF(this),f=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,u,c);(m||!e.selection.eq(a.selection))&&(o=!0);let g=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&tje(this);if(o){this.domObserver.stop();let p=m&&(cl||mo)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&j5e(a.selection,e.selection);if(m){let v=mo?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=e5e(this)),(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Z9(e.doc,u,c,this.dom,this)),v&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&kje(this))?jf(this,p):(uQ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&rje(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ir){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&G9(this,r.getBoundingClientRect(),e)}else G9(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(a=s)}this.dragging=new SQ(e.slice,e.move,a<0?void 0:Ir.create(this.state.doc,a))}someProp(e,r){let n=this._props&&this._props[e],a;if(n!=null&&(a=r?r(n):n))return a;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(a=r?r(l):l))return a}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(a=r?r(l):l))return a}}hasFocus(){if(cl){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&nje(this.dom),jf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return lje(this,e)}coordsAtPos(e,r=1){return rQ(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let a=this.docView.posFromDOM(e,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,r){return hje(this,r||this.state,e)}pasteHTML(e,r){return Zb(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Zb(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return bD(this,e)}destroy(){this.docView&&(zje(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],t_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,U2e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Uje(this,e)}domSelectionRange(){let e=this.domSelection();return e?Bo&&this.root.nodeType===11&&K2e(this.dom.ownerDocument)==this.dom&&h5e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}TQ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function bF(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Do.node(0,t.state.doc.content.size,e)]}function vF(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Do.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function wF(t){return!t.someProp("editable",e=>e(t.state)===!1)}function j5e(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function jF(t){let e=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function N5e(t,e){let r=0,n=0;for(let a in t){if(t[a]!=e[a])return!0;r++}for(let a in e)n++;return r!=n}function NF(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var im={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},S5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),k5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ks=0;Ks<10;Ks++)im[48+Ks]=im[96+Ks]=String(Ks);for(var Ks=1;Ks<=24;Ks++)im[Ks+111]="F"+Ks;for(var Ks=65;Ks<=90;Ks++)im[Ks]=String.fromCharCode(Ks+32),Lj[Ks]=String.fromCharCode(Ks);for(var n_ in im)Lj.hasOwnProperty(n_)||(Lj[n_]=im[n_]);function C5e(t){var e=S5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||k5e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Lj:im)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const _5e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),A5e=typeof navigator<"u"&&/Win/.test(navigator.platform);function T5e(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,a,s,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))_5e?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function M5e(t){let e=Object.create(null);for(let r in t)e[T5e(r)]=t[r];return e}function a_(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function O5e(t){return new Ai({props:{handleKeyDown:MQ(t)}})}function MQ(t){let e=M5e(t);return function(r,n){let a=C5e(n),s,o=e[a_(a,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let l=e[a_(a,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(A5e&&n.ctrlKey&&n.altKey)&&(s=im[n.keyCode])&&s!=a){let l=e[a_(s,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const kD=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function OQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const EQ=(t,e,r)=>{let n=OQ(t,r);if(!n)return!1;let a=CD(n);if(!a){let o=n.blockRange(),l=o&&Mx(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=a.nodeBefore;if(HQ(t,a,e,-1))return!0;if(n.parent.content.size==0&&(Vg(s,"end")||Ir.isSelectable(s)))for(let o=n.depth;;o--){let l=zN(t.doc,n.before(o),n.after(o),fr.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Vg(s,"end")?pn.findFrom(c.doc.resolve(c.mapping.map(a.pos,-1)),-1):Ir.create(c.doc,a.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos-s.nodeSize,a.pos).scrollIntoView()),!0):!1},E5e=(t,e,r)=>{let n=OQ(t,r);if(!n)return!1;let a=CD(n);return a?DQ(t,a,e):!1},D5e=(t,e,r)=>{let n=LQ(t,r);if(!n)return!1;let a=_D(n);return a?DQ(t,a,e):!1};function DQ(t,e,r){let n=e.nodeBefore,a=n,s=e.pos-1;for(;!a.isTextblock;s--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=zN(t.doc,s,c,fr.empty);if(!u||u.from!=s||u instanceof Os&&u.slice.size>=c-s)return!1;if(r){let f=t.tr.step(u);f.setSelection(rn.create(f.doc,s)),r(f.scrollIntoView())}return!0}function Vg(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const PQ=(t,e,r)=>{let{$head:n,empty:a}=t.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=CD(n)}let o=s&&s.nodeBefore;return!o||!Ir.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ir.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function CD(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function LQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const RQ=(t,e,r)=>{let n=LQ(t,r);if(!n)return!1;let a=_D(n);if(!a)return!1;let s=a.nodeAfter;if(HQ(t,a,e,1))return!0;if(n.parent.content.size==0&&(Vg(s,"start")||Ir.isSelectable(s))){let o=zN(t.doc,n.before(),n.after(),fr.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Vg(s,"start")?pn.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):Ir.create(l.doc,l.mapping.map(a.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0):!1},IQ=(t,e,r)=>{let{$head:n,empty:a}=t.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=_D(n)}let o=s&&s.nodeAfter;return!o||!Ir.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ir.create(t.doc,s.pos)).scrollIntoView()),!0)};function _D(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const P5e=(t,e)=>{let r=t.selection,n=r instanceof Ir,a;if(n){if(r.node.isTextblock||!um(t.doc,r.from))return!1;a=r.from}else if(a=HN(t.doc,r.from,-1),a==null)return!1;if(e){let s=t.tr.join(a);n&&s.setSelection(Ir.create(s.doc,a-t.doc.resolve(a).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},L5e=(t,e)=>{let r=t.selection,n;if(r instanceof Ir){if(r.node.isTextblock||!um(t.doc,r.to))return!1;n=r.to}else if(n=HN(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},R5e=(t,e)=>{let{$from:r,$to:n}=t.selection,a=r.blockRange(n),s=a&&Mx(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)},FQ=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function AD(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const I5e=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),s=r.indexAfter(-1),o=AD(a.contentMatchAt(s));if(!o||!a.canReplaceWith(s,s,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(pn.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},$Q=(t,e)=>{let r=t.selection,{$from:n,$to:a}=r;if(r instanceof Ol||n.parent.inlineContent||a.parent.inlineContent)return!1;let s=AD(a.parent.contentMatchAt(a.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(rn.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},BQ=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(wf(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),a=n&&Mx(n);return a==null?!1:(e&&e(t.tr.lift(n,a).scrollIntoView()),!0)};function F5e(t){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof Ir&&e.selection.node.isBlock)return!n.parentOffset||!wf(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,l,c=!1,u=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){c=n.end(p)==n.pos+(n.depth-p),u=n.start(p)==n.pos-(n.depth-p),l=AD(n.node(p-1).contentMatchAt(n.indexAfter(p-1))),s.unshift(c&&l?{type:l}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof rn||e.selection instanceof Ol)&&f.deleteSelection();let m=f.mapping.map(n.pos),g=wf(f.doc,m,s.length,s);if(g||(s[0]=l?{type:l}:null,g=wf(f.doc,m,s.length,s)),!g)return!1;if(f.split(m,s.length,s),!c&&u&&n.node(o).type!=l){let p=f.mapping.map(n.before(o)),v=f.doc.resolve(p);l&&n.node(o-1).canReplaceWith(v.index(),v.index()+1,l)&&f.setNodeMarkup(f.mapping.map(n.before(o)),l)}return r&&r(f.scrollIntoView()),!0}}const $5e=F5e(),B5e=(t,e)=>{let{$from:r,to:n}=t.selection,a,s=r.sharedDepth(n);return s==0?!1:(a=r.before(s),e&&e(t.tr.setSelection(Ir.create(t.doc,a))),!0)};function H5e(t,e,r){let n=e.nodeBefore,a=e.nodeAfter,s=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(a.isTextblock||um(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function HQ(t,e,r,n){let a=e.nodeBefore,s=e.nodeAfter,o,l,c=a.type.spec.isolating||s.type.spec.isolating;if(!c&&H5e(t,e,r))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(r){let p=e.pos+s.nodeSize,v=Gt.empty;for(let N=o.length-1;N>=0;N--)v=Gt.from(o[N].create(null,v));v=Gt.from(a.copy(v));let w=t.tr.step(new Ds(e.pos-1,p,e.pos,p,new fr(v,1,0),o.length,!0)),b=w.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==a.type&&um(w.doc,b.pos)&&w.join(b.pos),r(w.scrollIntoView())}return!0}let f=s.type.spec.isolating||n>0&&c?null:pn.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),g=m&&Mx(m);if(g!=null&&g>=e.depth)return r&&r(t.tr.lift(m,g).scrollIntoView()),!0;if(u&&Vg(s,"start",!0)&&Vg(a,"end")){let p=a,v=[];for(;v.push(p),!p.isTextblock;)p=p.lastChild;let w=s,b=1;for(;!w.isTextblock;w=w.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,w.content)){if(r){let N=Gt.empty;for(let S=v.length-1;S>=0;S--)N=Gt.from(v[S].copy(N));let k=t.tr.step(new Ds(e.pos-v.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new fr(N,v.length,0),0,!0));r(k.scrollIntoView())}return!0}}return!1}function zQ(t){return function(e,r){let n=e.selection,a=t<0?n.$from:n.$to,s=a.depth;for(;a.node(s).isInline;){if(!s)return!1;s--}return a.node(s).isTextblock?(r&&r(e.tr.setSelection(rn.create(e.doc,t<0?a.start(s):a.end(s)))),!0):!1}}const z5e=zQ(-1),q5e=zQ(1);function U5e(t,e=null){return function(r,n){let{$from:a,$to:s}=r.selection,o=a.blockRange(s),l=o&&mD(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function SF(t,e=null){return function(r,n){let a=!1;for(let s=0;s<r.selection.ranges.length&&!a;s++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[s];r.doc.nodesBetween(o,l,(c,u)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)a=!0;else{let f=r.doc.resolve(u),m=f.index();a=f.parent.canReplaceWith(m,m+1,t)}})}if(!a)return!1;if(n){let s=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];s.setBlockType(l,c,t,e)}n(s.scrollIntoView())}return!0}}function TD(...t){return function(e,r,n){for(let a=0;a<t.length;a++)if(t[a](e,r,n))return!0;return!1}}TD(kD,EQ,PQ);TD(kD,RQ,IQ);TD(FQ,$Q,BQ,$5e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function W5e(t,e=null){return function(r,n){let{$from:a,$to:s}=r.selection,o=a.blockRange(s);if(!o)return!1;let l=n?r.tr:null;return V5e(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function V5e(t,e,r,n=null){let a=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new Aj(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Aj(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let l=mD(s,r,n,e);return l?(t&&G5e(t,e,l,a,r),!0):!1}function G5e(t,e,r,n,a){let s=Gt.empty;for(let f=r.length-1;f>=0;f--)s=Gt.from(r[f].type.create(r[f].attrs,s));t.step(new Ds(e.start-(n?2:0),e.end,e.start,e.end,new fr(s,0,0),r.length,!0));let o=0;for(let f=0;f<r.length;f++)r[f].type==a&&(o=f+1);let l=r.length-o,c=e.start+r.length-(n?2:0),u=e.parent;for(let f=e.startIndex,m=e.endIndex,g=!0;f<m;f++,g=!1)!g&&wf(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return t}function Y5e(t){return function(e,r){let{$from:n,$to:a}=e.selection,s=n.blockRange(a,o=>o.childCount>0&&o.firstChild.type==t);return s?r?n.node(s.depth-1).type==t?K5e(e,r,t,s):X5e(e,r,s):!0:!1}}function K5e(t,e,r,n){let a=t.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(a.step(new Ds(s-1,o,s,o,new fr(Gt.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Aj(a.doc.resolve(n.$from.pos),a.doc.resolve(o),n.depth));const l=Mx(n);if(l==null)return!1;a.lift(n,l);let c=a.doc.resolve(a.mapping.map(s,-1)-1);return um(a.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&a.join(c.pos),e(a.scrollIntoView()),!0}function X5e(t,e,r){let n=t.tr,a=r.parent;for(let p=r.end,v=r.endIndex-1,w=r.startIndex;v>w;v--)p-=a.child(v).nodeSize,n.delete(p-1,p+1);let s=n.doc.resolve(r.start),o=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==a.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(c?Gt.empty:Gt.from(a))))return!1;let m=s.pos,g=m+o.nodeSize;return n.step(new Ds(m-(l?1:0),g+(c?1:0),m+1,g-1,new fr((l?Gt.empty:Gt.from(a.copy(Gt.empty))).append(c?Gt.empty:Gt.from(a.copy(Gt.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function J5e(t){return function(e,r){let{$from:n,$to:a}=e.selection,s=n.blockRange(a,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let u=c.lastChild&&c.lastChild.type==l.type,f=Gt.from(u?t.create():null),m=new fr(Gt.from(t.create(null,Gt.from(l.type.create(null,f)))),u?3:1,0),g=s.start,p=s.end;r(e.tr.step(new Ds(g-(u?3:1),p,g,p,m,1,!0)).scrollIntoView())}return!0}}var Q5e=Object.defineProperty,qQ=(t,e)=>{for(var r in e)Q5e(t,r,{get:e[r],enumerable:!0})};function GN(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:a}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,s=r.storedMarks,r}}}var YN=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:a}=r,s=this.buildProps(a);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...u)=>{const f=l(...u)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:s}=n,o=[],l=!!t,c=t||a.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...v)=>{const w=this.buildProps(c,e),b=g(...v)(w);return o.push(b),f}])),run:u};return f}createCan(t){const{rawCommands:e,state:r}=this,n=!1,a=t||r.tr,s=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:s}=n,o={tr:t,editor:n,view:s,state:GN({state:a,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},Z5e=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(a=>a.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(a=>a!==r):delete this.callbacks[e]),this}once(e,r){const n=(...a)=>{this.off(e,n),r.apply(this,a)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function UQ(t,e){const r=new GJ(t);return e.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}var WQ=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&WQ(n)}return t};function Pw(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return WQ(r)}function tv(t,e,r){if(t instanceof Gh||t instanceof Gt)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,a=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Gt.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),tv("",e,r)}if(a){if(r.errorOnInvalidContent){let o=!1,l="";const c=new OJ({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?Yh.fromSchema(c).parseSlice(Pw(t),r.parseOptions):Yh.fromSchema(c).parse(Pw(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Yh.fromSchema(e);return r.slice?s.parseSlice(Pw(t),r.parseOptions).content:s.parse(Pw(t),r.parseOptions)}return tv("",e,r)}function iO(t,e,r={},n={}){return tv(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function eNe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function tNe(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(a,s)=>{r(a)&&n.push({node:a,pos:s})}),n}function rNe(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function KN(t){return e=>rNe(e.$from,t)}function Pr(t,e,r){return t.config[e]===void 0&&t.parent?Pr(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Pr(t.parent,e,r):null}):t.config[e]}function MD(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Pr(e,"addExtensions",r);return n?[e,...MD(n())]:e}).flat(10)}function OD(t,e){const r=qp.fromSchema(e).serializeFragment(t),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function VQ(t){return typeof t=="function"}function ua(t,e=void 0,...r){return VQ(t)?e?t.bind(e)(...r):t(...r):t}function nNe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function rv(t){const e=t.filter(a=>a.type==="extension"),r=t.filter(a=>a.type==="node"),n=t.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function GQ(t){const e=[],{nodeExtensions:r,markExtensions:n}=rv(t),a=[...r,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:a},c=Pr(o,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([g,p])=>{e.push({type:m,name:g,attribute:{...s,...p}})})})})}),a.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Pr(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([f,m])=>{const g={...s,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:f,attribute:g})})}),e}function Ci(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([a,s])=>{if(!n[a]){n[a]=s;return}if(a==="class"){const l=s?String(s).split(" "):[],c=n[a]?n[a].split(" "):[],u=l.filter(f=>!c.includes(f));n[a]=[...c,...u].join(" ")}else if(a==="style"){const l=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],c=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;c.forEach(f=>{const[m,g]=f.split(":").map(p=>p.trim());u.set(m,g)}),l.forEach(f=>{const[m,g]=f.split(":").map(p=>p.trim());u.set(m,g)}),n[a]=Array.from(u.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else n[a]=s}),n},{})}function Rj(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Ci(r,n),{})}function aNe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function kF(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const a=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):aNe(r.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...n,...a}}}}function CF(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&nNe(r)?!1:r!=null))}function iNe(t,e){var r;const n=GQ(t),{nodeExtensions:a,markExtensions:s}=rv(t),o=(r=a.find(u=>Pr(u,"topNode")))==null?void 0:r.name,l=Object.fromEntries(a.map(u=>{const f=n.filter(N=>N.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((N,k)=>{const S=Pr(k,"extendNodeSchema",m);return{...N,...S?S(u):{}}},{}),p=CF({...g,content:ua(Pr(u,"content",m)),marks:ua(Pr(u,"marks",m)),group:ua(Pr(u,"group",m)),inline:ua(Pr(u,"inline",m)),atom:ua(Pr(u,"atom",m)),selectable:ua(Pr(u,"selectable",m)),draggable:ua(Pr(u,"draggable",m)),code:ua(Pr(u,"code",m)),whitespace:ua(Pr(u,"whitespace",m)),linebreakReplacement:ua(Pr(u,"linebreakReplacement",m)),defining:ua(Pr(u,"defining",m)),isolating:ua(Pr(u,"isolating",m)),attrs:Object.fromEntries(f.map(N=>{var k,S;return[N.name,{default:(k=N==null?void 0:N.attribute)==null?void 0:k.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),v=ua(Pr(u,"parseHTML",m));v&&(p.parseDOM=v.map(N=>kF(N,f)));const w=Pr(u,"renderHTML",m);w&&(p.toDOM=N=>w({node:N,HTMLAttributes:Rj(N,f)}));const b=Pr(u,"renderText",m);return b&&(p.toText=b),[u.name,p]})),c=Object.fromEntries(s.map(u=>{const f=n.filter(b=>b.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((b,N)=>{const k=Pr(N,"extendMarkSchema",m);return{...b,...k?k(u):{}}},{}),p=CF({...g,inclusive:ua(Pr(u,"inclusive",m)),excludes:ua(Pr(u,"excludes",m)),group:ua(Pr(u,"group",m)),spanning:ua(Pr(u,"spanning",m)),code:ua(Pr(u,"code",m)),attrs:Object.fromEntries(f.map(b=>{var N,k;return[b.name,{default:(N=b==null?void 0:b.attribute)==null?void 0:N.default,validate:(k=b==null?void 0:b.attribute)==null?void 0:k.validate}]}))}),v=ua(Pr(u,"parseHTML",m));v&&(p.parseDOM=v.map(b=>kF(b,f)));const w=Pr(u,"renderHTML",m);return w&&(p.toDOM=b=>w({mark:b,HTMLAttributes:Rj(b,f)})),[u.name,p]}));return new OJ({topNode:o,nodes:l,marks:c})}function sNe(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function ED(t){return t.sort((r,n)=>{const a=Pr(r,"priority")||100,s=Pr(n,"priority")||100;return a>s?-1:a<s?1:0})}function YQ(t){const e=ED(MD(t)),r=sNe(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function KQ(t,e,r){const{from:n,to:a}=e,{blockSeparator:s=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,a,(c,u,f,m)=>{var g;c.isBlock&&u>n&&(l+=s);const p=o==null?void 0:o[c.type.name];if(p)return f&&(l+=p({node:c,pos:u,parent:f,index:m,range:e})),!1;c.isText&&(l+=(g=c==null?void 0:c.text)==null?void 0:g.slice(Math.max(n,u)-u,a-u))}),l}function oNe(t,e){const r={from:0,to:t.content.size};return KQ(t,r,e)}function XQ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function $f(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function JQ(t,e){const r=$f(e,t.schema),{from:n,to:a,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,a,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function rs(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function lNe(t,e){const r=rs(e,t.schema),{from:n,to:a}=t.selection,s=[];t.doc.nodesBetween(n,a,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function XN(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function QQ(t,e){const r=XN(typeof e=="string"?e:e.name,t.schema);return r==="node"?lNe(t,e):r==="mark"?JQ(t,e):{}}function cNe(t,e=JSON.stringify){const r={};return t.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function uNe(t){const e=cNe(t);return e.length===1?e:e.filter((r,n)=>!e.filter((s,o)=>o!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function ZQ(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((a,s)=>{const o=[];if(a.ranges.length)a.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[s];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=e.slice(s).map(l,-1),f=e.slice(s).map(c),m=e.invert().map(u,-1),g=e.invert().map(f);n.push({oldRange:{from:m,to:g},newRange:{from:u,to:f}})})}),uNe(n)}function DD(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ij(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>r.strict?e[a]===t[a]:DD(e[a])?e[a].test(t[a]):e[a]===t[a]):!0}function eZ(t,e,r={}){return t.find(n=>n.type===e&&Ij(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function _F(t,e,r={}){return!!eZ(t,e,r)}function PD(t,e,r){var n;if(!t||!e)return;let a=t.parent.childAfter(t.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=t.parent.childBefore(t.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!eZ([...a.node.marks],e,r)))return;let o=a.index,l=t.start()+a.offset,c=o+1,u=l+a.node.nodeSize;for(;o>0&&_F([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&_F([...t.parent.child(c).marks],e,r);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function LD(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(a=>{const s=r.resolve(t),o=PD(s,a.type);o&&n.push({mark:a,...o})}):r.nodesBetween(t,e,(a,s)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(o=>({from:s,to:s+a.nodeSize,mark:o})))}),n}var dNe=(t,e,r,n=20)=>{const a=t.doc.resolve(r);let s=n,o=null;for(;s>0&&o===null;){const l=a.node(s);(l==null?void 0:l.type.name)===e?o=l:s-=1}return[o,s]};function i_(t,e){return e.nodes[t]||e.marks[t]||null}function F2(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=t.find(s=>s.type===e&&s.name===n);return a?a.attribute.keepOnSplit:!1}))}var fNe=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(a,s,o,l)=>{var c,u;const f=((u=(c=a.type.spec).toText)==null?void 0:u.call(c,{node:a,pos:s,parent:o,index:l}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,n-s))}),r};function sO(t,e,r={}){const{empty:n,ranges:a}=t.selection,s=e?$f(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Ij(m.attrs,r,{strict:!1}));let o=0;const l=[];if(a.forEach(({$from:m,$to:g})=>{const p=m.pos,v=g.pos;t.doc.nodesBetween(p,v,(w,b)=>{if(!w.isText&&!w.marks.length)return;const N=Math.max(p,b),k=Math.min(v,b+w.nodeSize),S=k-N;o+=S,l.push(...w.marks.map(A=>({mark:A,from:N,to:k})))})}),o===0)return!1;const c=l.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Ij(m.mark.attrs,r,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),u=l.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,g)=>m+g.to-g.from,0);return(c>0?c+u:c)>=o}function sm(t,e,r={}){const{from:n,to:a,empty:s}=t.selection,o=e?rs(e,t.schema):null,l=[];t.doc.nodesBetween(n,a,(m,g)=>{if(m.isText)return;const p=Math.max(n,g),v=Math.min(a,g+m.nodeSize);l.push({node:m,from:p,to:v})});const c=a-n,u=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Ij(m.node.attrs,r,{strict:!1}));return s?!!u.length:u.reduce((m,g)=>m+g.to-g.from,0)>=c}function hNe(t,e,r={}){if(!e)return sm(t,null,r)||sO(t,null,r);const n=XN(e,t.schema);return n==="node"?sm(t,e,r):n==="mark"?sO(t,e,r):!1}var mNe=(t,e)=>{const{$from:r,$to:n,$anchor:a}=t.selection;if(e){const s=KN(l=>l.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return a.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},pNe=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function AF(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function TF(t,e){const{nodeExtensions:r}=rv(e),n=r.find(o=>o.name===t);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},s=ua(Pr(n,"group",a));return typeof s!="string"?!1:s.split(" ").includes("list")}function JN(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let a=!0;return t.content.forEach(s=>{a!==!1&&(JN(s,{ignoreWhitespace:r,checkChildren:e})||(a=!1))}),a}return!1}function tZ(t){return t instanceof Ir}function rZ(t){return t instanceof rn}function np(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function nZ(t,e=null){if(!e)return null;const r=pn.atStart(t),n=pn.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const a=r.from,s=n.to;return e==="all"?rn.create(t,np(0,a,s),np(t.content.size,a,s)):rn.create(t,np(e,a,s),np(e,a,s))}function gNe(t,e,r){const n=t.steps.length-1;if(n<e)return;const a=t.steps[n];if(!(a instanceof Os||a instanceof Ds))return;const s=t.mapping.maps[n];let o=0;s.forEach((l,c,u,f)=>{o===0&&(o=f)}),t.setSelection(pn.near(t.doc.resolve(o),r))}var QN=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},xNe=(t,e)=>{if(DD(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Lw(t){var e;const{editor:r,from:n,to:a,text:s,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const u=c.state.doc.resolve(n);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const m=fNe(u)+s;return o.forEach(g=>{if(f)return;const p=xNe(m,g.find);if(!p)return;const v=c.state.tr,w=GN({state:c.state,transaction:v}),b={from:n-(p[0].length-s.length),to:a},{commands:N,chain:k,can:S}=new YN({editor:r,state:w});g.handler({state:w,range:b,match:p,commands:N,chain:k,can:S})===null||!v.steps.length||(g.undoable&&v.setMeta(l,{transform:v,from:n,to:a,text:s}),c.dispatch(v),f=!0)}),f}function yNe(t){const{editor:e,rules:r}=t,n=new Ai({state:{init(){return null},apply(a,s,o){const l=a.getMeta(n);if(l)return l;const c=a.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=OD(Gt.from(f),o.schema);const{from:m}=c,g=m+f.length;Lw({editor:e,from:m,to:g,text:f,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:s}},props:{handleTextInput(a,s,o,l){return Lw({editor:e,from:s,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:s}=a.state.selection;s&&Lw({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,s){if(s.key!=="Enter")return!1;const{$cursor:o}=a.state.selection;return o?Lw({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function bNe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rw(t){return bNe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function aZ(t,e){const r={...t};return Rw(t)&&Rw(e)&&Object.keys(e).forEach(n=>{Rw(e[n])&&Rw(t[n])?r[n]=aZ(t[n],e[n]):r[n]=e[n]}),r}var RD=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ua(Pr(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ua(Pr(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>aZ(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Bf=class iZ extends RD{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new iZ(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const o=a.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const c=o.find(u=>(u==null?void 0:u.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function vNe(t){return typeof t=="number"}var wNe=class{constructor(t){this.find=t.find,this.handler=t.handler}},jNe=(t,e,r)=>{if(DD(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(a=>{const s=[a.text];return s.index=a.index,s.input=t,s.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(a.replaceWith)),s}):[]};function NNe(t){const{editor:e,state:r,from:n,to:a,rule:s,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:u,can:f}=new YN({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,a,(p,v)=>{var w,b,N,k,S;if((b=(w=p.type)==null?void 0:w.spec)!=null&&b.code||!(p.isText||p.isTextblock||p.isInline))return;const A=(S=(k=(N=p.content)==null?void 0:N.size)!=null?k:p.nodeSize)!=null?S:0,_=Math.max(n,v),O=Math.min(a,v+A);if(_>=O)return;const I=p.isText?p.text||"":p.textBetween(_-v,O-v,void 0,"");jNe(I,s.find,o).forEach(R=>{if(R.index===void 0)return;const B=_+R.index+1,D=B+R[0].length,M={from:r.tr.mapping.map(B),to:r.tr.mapping.map(D)},H=s.handler({state:r,range:M,match:R,commands:c,chain:u,can:f,pasteEvent:o,dropEvent:l});m.push(H)})}),m.every(p=>p!==null)}var Iw=null,SNe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function kNe(t){const{editor:e,rules:r}=t;let n=null,a=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:m,to:g,rule:p,pasteEvt:v})=>{const w=f.tr,b=GN({state:f,transaction:w});if(!(!NNe({editor:e,state:b,from:Math.max(m-1,0),to:g.b-1,rule:p,pasteEvent:v,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return r.map(f=>new Ai({view(m){const g=v=>{var w;n=(w=m.dom.parentElement)!=null&&w.contains(v.target)?m.dom.parentElement:null,n&&(Iw=e)},p=()=>{Iw&&(Iw=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(s=n===m.dom.parentElement,l=g,!s){const p=Iw;p!=null&&p.isEditable&&setTimeout(()=>{const v=p.state.selection;v&&p.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,g)=>{var p;const v=(p=g.clipboardData)==null?void 0:p.getData("text/html");return o=g,a=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,p)=>{const v=m[0],w=v.getMeta("uiEvent")==="paste"&&!a,b=v.getMeta("uiEvent")==="drop"&&!s,N=v.getMeta("applyPasteRules"),k=!!N;if(!w&&!b&&!k)return;if(k){let{text:_}=N;typeof _=="string"?_=_:_=OD(Gt.from(_),p.schema);const{from:O}=N,I=O+_.length,L=SNe(_);return c({rule:f,state:p,from:O,to:{b:I},pasteEvt:L})}const S=g.doc.content.findDiffStart(p.doc.content),A=g.doc.content.findDiffEnd(p.doc.content);if(!(!vNe(S)||!A||S===A.b))return c({rule:f,state:p,from:S,to:A,pasteEvt:o})}}))}var ZN=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=YQ(t),this.schema=iNe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:i_(e.name,this.schema)},n=Pr(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return ED([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:i_(n.name,this.schema)},s=[],o=Pr(n,"addKeyboardShortcuts",a);let l={};if(n.type==="mark"&&Pr(n,"exitable",a)&&(l.ArrowRight=()=>Bf.handleExit({editor:t,mark:n})),o){const g=Object.fromEntries(Object.entries(o()).map(([p,v])=>[p,()=>v({editor:t})]));l={...l,...g}}const c=O5e(l);s.push(c);const u=Pr(n,"addInputRules",a);if(AF(n,t.options.enableInputRules)&&u){const g=u();if(g&&g.length){const p=yNe({editor:t,rules:g}),v=Array.isArray(p)?p:[p];s.push(...v)}}const f=Pr(n,"addPasteRules",a);if(AF(n,t.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const p=kNe({editor:t,rules:g});s.push(...p)}}const m=Pr(n,"addProseMirrorPlugins",a);if(m){const g=m();s.push(...g)}return s})}get attributes(){return GQ(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=rv(this.extensions);return Object.fromEntries(e.filter(r=>!!Pr(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:rs(r.name,this.schema)},s=Pr(r,"addNodeView",a);if(!s)return[];const o=(l,c,u,f,m)=>{const g=Rj(l,n);return s()({node:l,view:c,getPos:u,decorations:f,innerDecorations:m,editor:t,extension:r,HTMLAttributes:g})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=rv(this.extensions);return Object.fromEntries(e.filter(r=>!!Pr(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:$f(r.name,this.schema)},s=Pr(r,"addMarkView",a);if(!s)return[];const o=(l,c,u)=>{const f=Rj(l,n);return s()({mark:l,view:c,inline:u,editor:t,extension:r,HTMLAttributes:f,updateAttributes:m=>{HSe(l,t,m)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:i_(e.name,this.schema)};e.type==="mark"&&((r=ua(Pr(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const a=Pr(e,"onBeforeCreate",n),s=Pr(e,"onCreate",n),o=Pr(e,"onUpdate",n),l=Pr(e,"onSelectionUpdate",n),c=Pr(e,"onTransaction",n),u=Pr(e,"onFocus",n),f=Pr(e,"onBlur",n),m=Pr(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};ZN.resolve=YQ;ZN.sort=ED;ZN.flatten=MD;var CNe={};qQ(CNe,{ClipboardTextSerializer:()=>oZ,Commands:()=>uZ,Delete:()=>dZ,Drop:()=>fZ,Editable:()=>hZ,FocusEvents:()=>pZ,Keymap:()=>gZ,Paste:()=>xZ,Tabindex:()=>yZ,focusEventsPluginKey:()=>mZ});var Oa=class sZ extends RD{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new sZ(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},oZ=Oa.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ai({key:new Rs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:a}=e,{ranges:s}=a,o=Math.min(...s.map(f=>f.$from.pos)),l=Math.max(...s.map(f=>f.$to.pos)),c=XQ(r);return KQ(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),lZ={};qQ(lZ,{blur:()=>_Ne,clearContent:()=>ANe,clearNodes:()=>TNe,command:()=>MNe,createParagraphNear:()=>ONe,cut:()=>ENe,deleteCurrentNode:()=>DNe,deleteNode:()=>PNe,deleteRange:()=>LNe,deleteSelection:()=>RNe,enter:()=>INe,exitCode:()=>FNe,extendMarkRange:()=>$Ne,first:()=>BNe,focus:()=>zNe,forEach:()=>qNe,insertContent:()=>UNe,insertContentAt:()=>VNe,joinBackward:()=>KNe,joinDown:()=>YNe,joinForward:()=>XNe,joinItemBackward:()=>JNe,joinItemForward:()=>QNe,joinTextblockBackward:()=>ZNe,joinTextblockForward:()=>eSe,joinUp:()=>GNe,keyboardShortcut:()=>rSe,lift:()=>nSe,liftEmptyBlock:()=>aSe,liftListItem:()=>iSe,newlineInCode:()=>sSe,resetAttributes:()=>oSe,scrollIntoView:()=>lSe,selectAll:()=>cSe,selectNodeBackward:()=>uSe,selectNodeForward:()=>dSe,selectParentNode:()=>fSe,selectTextblockEnd:()=>hSe,selectTextblockStart:()=>mSe,setContent:()=>pSe,setMark:()=>xSe,setMeta:()=>ySe,setNode:()=>bSe,setNodeSelection:()=>vSe,setTextSelection:()=>wSe,sinkListItem:()=>jSe,splitBlock:()=>NSe,splitListItem:()=>SSe,toggleList:()=>kSe,toggleMark:()=>CSe,toggleNode:()=>_Se,toggleWrap:()=>ASe,undoInputRule:()=>TSe,unsetAllMarks:()=>MSe,unsetMark:()=>OSe,updateAttributes:()=>ESe,wrapIn:()=>DSe,wrapInList:()=>PSe});var _Ne=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),ANe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),TNe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:a}=n;return r&&a.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:f}=e,m=u.resolve(f.map(c)),g=u.resolve(f.map(c+l.nodeSize)),p=m.blockRange(g);if(!p)return;const v=Mx(p);if(l.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(p.start,w)}(v||v===0)&&e.lift(p,v)})}),!0},MNe=t=>e=>t(e),ONe=()=>({state:t,dispatch:e})=>$Q(t,e),ENe=(t,e)=>({editor:r,tr:n})=>{const{state:a}=r,s=a.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new rn(n.doc.resolve(Math.max(o-1,0)))),!0},DNe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const a=t.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===n.type){if(e){const l=a.before(s),c=a.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},PNe=t=>({tr:e,state:r,dispatch:n})=>{const a=rs(t,r.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===a){if(n){const c=s.before(o),u=s.after(o);e.delete(c,u).scrollIntoView()}return!0}return!1},LNe=t=>({tr:e,dispatch:r})=>{const{from:n,to:a}=t;return r&&e.delete(n,a),!0},RNe=()=>({state:t,dispatch:e})=>kD(t,e),INe=()=>({commands:t})=>t.keyboardShortcut("Enter"),FNe=()=>({state:t,dispatch:e})=>I5e(t,e),$Ne=(t,e={})=>({tr:r,state:n,dispatch:a})=>{const s=$f(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:u,to:f}=l;if(a){const m=PD(c,s,e);if(m&&m.from<=u&&m.to>=f){const g=rn.create(o,m.from,m.to);r.setSelection(g)}}return!0},BNe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function HNe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ID(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var zNe=(t=null,e={})=>({editor:r,view:n,tr:a,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(ID()||HNe())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!rZ(r.state.selection))return o(),!0;const l=nZ(a.doc,t)||r.state.selection,c=r.state.selection.eq(l);return s&&(c||a.setSelection(l),c&&a.storedMarks&&a.setStoredMarks(a.storedMarks),o()),!0},qNe=(t,e)=>r=>t.every((n,a)=>e(n,{...r,index:a})),UNe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),WNe=t=>!("type"in t),VNe=(t,e,r)=>({tr:n,dispatch:a,editor:s})=>{var o;if(a){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=b=>{s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{tv(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{l=tv(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(b){return c(b),!1}let{from:f,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,p=!0;if((WNe(l)?l:[l]).forEach(b=>{b.check(),g=g?b.isText&&b.marks.length===0:!1,p=p?b.isBlock:!1}),f===m&&p){const{parent:b}=n.doc.resolve(f);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(f-=1,m+=1)}let w;if(g){if(Array.isArray(e))w=e.map(b=>b.text||"").join("");else if(e instanceof Gt){let b="";e.forEach(N=>{N.text&&(b+=N.text)}),w=b}else typeof e=="object"&&e&&e.text?w=e.text:w=e;n.insertText(w,f,m)}else{w=l;const b=n.doc.resolve(f),N=b.node(),k=b.parentOffset===0,S=N.isText||N.isTextblock,A=N.content.size>0;k&&S&&A&&(f=Math.max(0,f-1)),n.replaceWith(f,m,w)}r.updateSelection&&gNe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:w}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:w})}return!0},GNe=()=>({state:t,dispatch:e})=>P5e(t,e),YNe=()=>({state:t,dispatch:e})=>L5e(t,e),KNe=()=>({state:t,dispatch:e})=>EQ(t,e),XNe=()=>({state:t,dispatch:e})=>RQ(t,e),JNe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=HN(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},QNe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=HN(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},ZNe=()=>({state:t,dispatch:e})=>E5e(t,e),eSe=()=>({state:t,dispatch:e})=>D5e(t,e);function cZ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function tSe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,a,s,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))ID()||cZ()?o=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}var rSe=t=>({editor:e,view:r,tr:n,dispatch:a})=>{const s=tSe(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,l))});return c==null||c.steps.forEach(u=>{const f=u.map(n.mapping);f&&a&&n.maybeStep(f)}),!0},nSe=(t,e={})=>({state:r,dispatch:n})=>{const a=rs(t,r.schema);return sm(r,a,e)?R5e(r,n):!1},aSe=()=>({state:t,dispatch:e})=>BQ(t,e),iSe=t=>({state:e,dispatch:r})=>{const n=rs(t,e.schema);return Y5e(n)(e,r)},sSe=()=>({state:t,dispatch:e})=>FQ(t,e);function MF(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,a)=>(r.includes(a)||(n[a]=t[a]),n),{})}var oSe=(t,e)=>({tr:r,state:n,dispatch:a})=>{let s=null,o=null;const l=XN(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(s=rs(t,n.schema)),l==="mark"&&(o=$f(t,n.schema)),a&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,f)=>{s&&s===u.type&&r.setNodeMarkup(f,void 0,MF(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(m=>{o===m.type&&r.addMark(f,f+u.nodeSize,o.create(MF(m.attrs,e)))})})}),!0):!1},lSe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),cSe=()=>({tr:t,dispatch:e})=>{if(e){const r=new Ol(t.doc);t.setSelection(r)}return!0},uSe=()=>({state:t,dispatch:e})=>PQ(t,e),dSe=()=>({state:t,dispatch:e})=>IQ(t,e),fSe=()=>({state:t,dispatch:e})=>B5e(t,e),hSe=()=>({state:t,dispatch:e})=>q5e(t,e),mSe=()=>({state:t,dispatch:e})=>z5e(t,e),pSe=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:s,dispatch:o,commands:l})=>{const{doc:c}=s;if(n.preserveWhitespace!=="full"){const u=iO(t,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!r),!0}return o&&s.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function gSe(t,e,r){var n;const{selection:a}=e;let s=null;if(rZ(a)&&(s=a.$cursor),s){const l=(n=t.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(u=>u.type.excludes(r)))}const{ranges:o}=a;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,m,g)=>{if(u)return!1;if(f.isInline){const p=!g||g.type.allowsMarkType(r),v=!!r.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(r));u=p&&v}return!u}),u})}var xSe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{const{selection:s}=r,{empty:o,ranges:l}=s,c=$f(t,n.schema);if(a)if(o){const u=JQ(n,c);r.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;n.doc.nodesBetween(f,m,(g,p)=>{const v=Math.max(p,f),w=Math.min(p+g.nodeSize,m);g.marks.find(N=>N.type===c)?g.marks.forEach(N=>{c===N.type&&r.addMark(v,w,c.create({...N.attrs,...e}))}):r.addMark(v,w,c.create(e))})});return gSe(n,r,c)},ySe=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),bSe=(t,e={})=>({state:r,dispatch:n,chain:a})=>{const s=rs(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),s.isTextblock?a().command(({commands:l})=>SF(s,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>SF(s,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vSe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,a=np(t,0,n.content.size),s=Ir.create(n,a);e.setSelection(s)}return!0},wSe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:a,to:s}=typeof t=="number"?{from:t,to:t}:t,o=rn.atStart(n).from,l=rn.atEnd(n).to,c=np(a,o,l),u=np(s,o,l),f=rn.create(n,c,u);e.setSelection(f)}return!0},jSe=t=>({state:e,dispatch:r})=>{const n=rs(t,e.schema);return J5e(n)(e,r)};function OF(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(a=>e==null?void 0:e.includes(a.type.name));t.tr.ensureMarks(n)}}var NSe=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:a})=>{const{selection:s,doc:o}=e,{$from:l,$to:c}=s,u=a.extensionManager.attributes,f=F2(u,l.node().type.name,l.node().attrs);if(s instanceof Ir&&s.node.isBlock)return!l.parentOffset||!wf(o,l.pos)?!1:(n&&(t&&OF(r,a.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:eNe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=m&&g?[{type:g,attrs:f}]:void 0,v=wf(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!v&&wf(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(v=!0,p=g?[{type:g,attrs:f}]:void 0),n){if(v&&(s instanceof rn&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),g&&!m&&!l.parentOffset&&l.parent.type!==g)){const w=e.mapping.map(l.before()),b=e.doc.resolve(w);l.node(-1).canReplaceWith(b.index(),b.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&OF(r,a.extensionManager.splittableMarks),e.scrollIntoView()}return v},SSe=(t,e={})=>({tr:r,state:n,dispatch:a,editor:s})=>{var o;const l=rs(t,n.schema),{$from:c,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(u))return!1;const m=c.node(-1);if(m.type!==l)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){let N=Gt.empty;const k=c.index(-1)?1:c.index(-2)?2:3;for(let L=c.depth-k;L>=c.depth-3;L-=1)N=Gt.from(c.node(L).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,A={...F2(g,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(A))||void 0;N=N.append(Gt.from(l.createAndFill(null,_)||void 0));const O=c.before(c.depth-(k-1));r.replace(O,c.after(-S),new fr(N,4-k,0));let I=-1;r.doc.nodesBetween(O,r.doc.content.size,(L,R)=>{if(I>-1)return!1;L.isTextblock&&L.content.size===0&&(I=R+1)}),I>-1&&r.setSelection(rn.near(r.doc.resolve(I))),r.scrollIntoView()}return!0}const p=u.pos===c.end()?m.contentMatchAt(0).defaultType:null,v={...F2(g,m.type.name,m.attrs),...e},w={...F2(g,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,u.pos);const b=p?[{type:l,attrs:v},{type:p,attrs:w}]:[{type:l,attrs:v}];if(!wf(r.doc,c.pos,2))return!1;if(a){const{selection:N,storedMarks:k}=n,{splittableMarks:S}=s.extensionManager,A=k||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,b).scrollIntoView(),!A||!a)return!0;const _=A.filter(O=>S.includes(O.type.name));r.ensureMarks(_)}return!0},s_=(t,e)=>{const r=KN(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=t.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&um(t.doc,r.pos)&&t.join(r.pos),!0},o_=(t,e)=>{const r=KN(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=t.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&um(t.doc,n)&&t.join(n),!0},kSe=(t,e,r,n={})=>({editor:a,tr:s,state:o,dispatch:l,chain:c,commands:u,can:f})=>{const{extensions:m,splittableMarks:g}=a.extensionManager,p=rs(t,o.schema),v=rs(e,o.schema),{selection:w,storedMarks:b}=o,{$from:N,$to:k}=w,S=N.blockRange(k),A=b||w.$to.parentOffset&&w.$from.marks();if(!S)return!1;const _=KN(O=>TF(O.type.name,m))(w);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===p)return u.liftListItem(v);if(TF(_.node.type.name,m)&&p.validContent(_.node.content)&&l)return c().command(()=>(s.setNodeMarkup(_.pos,p),!0)).command(()=>s_(s,p)).command(()=>o_(s,p)).run()}return!r||!A||!l?c().command(()=>f().wrapInList(p,n)?!0:u.clearNodes()).wrapInList(p,n).command(()=>s_(s,p)).command(()=>o_(s,p)).run():c().command(()=>{const O=f().wrapInList(p,n),I=A.filter(L=>g.includes(L.type.name));return s.ensureMarks(I),O?!0:u.clearNodes()}).wrapInList(p,n).command(()=>s_(s,p)).command(()=>o_(s,p)).run()},CSe=(t,e={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:s=!1}=r,o=$f(t,n.schema);return sO(n,o,e)?a.unsetMark(o,{extendEmptyMarkRange:s}):a.setMark(o,e)},_Se=(t,e,r={})=>({state:n,commands:a})=>{const s=rs(t,n.schema),o=rs(e,n.schema),l=sm(n,s,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?a.setNode(o,c):a.setNode(s,{...c,...r})},ASe=(t,e={})=>({state:r,commands:n})=>{const a=rs(t,r.schema);return sm(r,a,e)?n.lift(a):n.wrapIn(a,e)},TSe=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let s;if(a.spec.isInputRules&&(s=a.getState(t))){if(e){const o=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},MSe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:a}=r;return n||e&&a.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},OSe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=$f(t,n.schema),{$from:u,empty:f,ranges:m}=l;if(!a)return!0;if(f&&o){let{from:g,to:p}=l;const v=(s=u.marks().find(b=>b.type===c))==null?void 0:s.attrs,w=PD(u,c,v);w&&(g=w.from,p=w.to),r.removeMark(g,p,c)}else m.forEach(g=>{r.removeMark(g.$from.pos,g.$to.pos,c)});return r.removeStoredMark(c),!0},ESe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{let s=null,o=null;const l=XN(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(s=rs(t,n.schema)),l==="mark"&&(o=$f(t,n.schema)),a&&r.selection.ranges.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;let m,g,p,v;r.selection.empty?n.doc.nodesBetween(u,f,(w,b)=>{s&&s===w.type&&(p=Math.max(b,u),v=Math.min(b+w.nodeSize,f),m=b,g=w)}):n.doc.nodesBetween(u,f,(w,b)=>{b<u&&s&&s===w.type&&(p=Math.max(b,u),v=Math.min(b+w.nodeSize,f),m=b,g=w),b>=u&&b<=f&&(s&&s===w.type&&r.setNodeMarkup(b,void 0,{...w.attrs,...e}),o&&w.marks.length&&w.marks.forEach(N=>{if(o===N.type){const k=Math.max(b,u),S=Math.min(b+w.nodeSize,f);r.addMark(k,S,o.create({...N.attrs,...e}))}}))}),g&&(m!==void 0&&r.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(w=>{o===w.type&&r.addMark(p,v,o.create({...w.attrs,...e}))}))}),!0):!1},DSe=(t,e={})=>({state:r,dispatch:n})=>{const a=rs(t,r.schema);return U5e(a,e)(r,n)},PSe=(t,e={})=>({state:r,dispatch:n})=>{const a=rs(t,r.schema);return W5e(a,e)(r,n)},uZ=Oa.create({name:"commands",addCommands(){return{...lZ}}}),dZ=Oa.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,a;const s=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const f=UQ(t.before,[t,...e]);ZQ(f).forEach(p=>{f.mapping.mapResult(p.oldRange.from).deletedAfter&&f.mapping.mapResult(p.oldRange.to).deletedBefore&&f.before.nodesBetween(p.oldRange.from,p.oldRange.to,(v,w)=>{const b=w+v.nodeSize-2,N=p.oldRange.from<=w&&b<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:w,to:b,newFrom:f.mapping.map(w),newTo:f.mapping.map(b),deletedRange:p.oldRange,newRange:p.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((p,v)=>{var w,b;if(p instanceof au){const N=g.slice(v).map(p.from,-1),k=g.slice(v).map(p.to),S=g.invert().map(N,-1),A=g.invert().map(k),_=(w=f.doc.nodeAt(N-1))==null?void 0:w.marks.some(I=>I.eq(p.mark)),O=(b=f.doc.nodeAt(k))==null?void 0:b.marks.some(I=>I.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:S,to:A},newRange:{from:N,to:k},partial:!!(O||_),editor:this.editor,transaction:t,combinedTransform:f})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(s,0):s()}}),fZ=Oa.create({name:"drop",addProseMirrorPlugins(){return[new Ai({key:new Rs("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),hZ=Oa.create({name:"editable",addProseMirrorPlugins(){return[new Ai({key:new Rs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),mZ=new Rs("focusEvents"),pZ=Oa.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ai({key:mZ,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),gZ=Oa.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:f,$anchor:m}=c,{pos:g,parent:p}=m,v=m.parent.isTextblock&&g>0?l.doc.resolve(g-1):m,w=v.parent.type.spec.isolating,b=m.pos-m.parentOffset,N=w&&v.parent.childCount===1?b===m.pos:pn.atStart(u).from===g;return!f||!p.type.isTextblock||p.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ID()||cZ()?s:a},addProseMirrorPlugins(){return[new Ai({key:new Rs("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(w=>w.getMeta("composition")))return;const n=t.some(w=>w.docChanged)&&!e.doc.eq(r.doc),a=t.some(w=>w.getMeta("preventClearDocument"));if(!n||a)return;const{empty:s,from:o,to:l}=e.selection,c=pn.atStart(e.doc).from,u=pn.atEnd(e.doc).to;if(s||!(o===c&&l===u)||!JN(r.doc))return;const g=r.tr,p=GN({state:r,transaction:g}),{commands:v}=new YN({editor:this.editor,state:p});if(v.clearNodes(),!!g.steps.length)return g}})]}}),xZ=Oa.create({name:"paste",addProseMirrorPlugins(){return[new Ai({key:new Rs("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),yZ=Oa.create({name:"tabindex",addProseMirrorPlugins(){return[new Ai({key:new Rs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),LSe=class J0{constructor(e,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new J0(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new J0(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new J0(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,o=this.pos+n+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!a&&l.depth<=this.depth)return;const c=new J0(l,this.editor,a,a?r:null);a&&(c.actualDepth=this.depth+1),e.push(new J0(l,this.editor,a,a?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(r).length>0){const s=a.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(s[c]!==r[c])break}}else n=a;a=a.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const s=Object.keys(r);return this.children.forEach(o=>{n&&a.length>0||(o.node.type.name===e&&s.every(c=>r[c]===o.node.attrs[c])&&a.push(o),!(n&&a.length>0)&&(a=a.concat(o.querySelectorAll(e,r,n))))}),a}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},RSe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function ISe(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(a),a}var FSe=class extends Z5e{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:s})=>this.options.onDrop(n,a,s)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=nZ(e,this.options.autofocus);this.editorState=sg.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=ISe(RSe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=VQ(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(a=>{const s=typeof a=="string"?`${a}$`:a.key;r=r.filter(o=>!o.key.startsWith(s))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[hZ,oZ.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),uZ,pZ,gZ,yZ,fZ,xZ,dZ].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new ZN(n,this)}createCommandManager(){this.commandManager=new YN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=iO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=iO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new TQ(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(u)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),a=r.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return QQ(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return hNe(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return OD(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return oNe(this.state.doc,{blockSeparator:e,textSerializers:{...XQ(this.schema),...r}})}get isEmpty(){return JN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new LSe(e,this)}get $doc(){return this.$pos(0)}};function Op(t){return new QN({find:t.find,handler:({state:e,range:r,match:n})=>{const a=ua(t.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:s}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),u=r.from+l.indexOf(o),f=u+o.length;if(LD(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>u).length)return null;f<r.to&&s.delete(f,r.to),u>r.from&&s.delete(r.from+c,u);const g=r.from+c+o.length;s.addMark(r.from+c,g,t.type.create(a||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function $Se(t){return new QN({find:t.find,handler:({state:e,range:r,match:n})=>{const a=ua(t.getAttributes,void 0,n)||{},{tr:s}=e,o=r.from;let l=r.to;const c=t.type.create(a);if(n[1]){const u=n[0].lastIndexOf(n[1]);let f=o+u;f>l?f=l:l=f+n[1].length;const m=n[0][n[0].length-1];s.insertText(m,o+n[0].length-1),s.replaceWith(f,l,c)}else if(n[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(a)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function oO(t){return new QN({find:t.find,handler:({state:e,range:r,match:n})=>{const a=e.doc.resolve(r.from),s=ua(t.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)},undoable:t.undoable})}function Gg(t){return new QN({find:t.find,handler:({state:e,range:r,match:n,chain:a})=>{const s=ua(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),u=c&&mD(c,t.type,s);if(!u)return null;if(o.wrap(c,u),t.keepMarks&&t.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:p}=t.editor.extensionManager,v=g||m.$to.parentOffset&&m.$from.marks();if(v){const w=v.filter(b=>p.includes(b.type.name));o.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(m,s).run()}const f=o.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&um(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&o.join(r.from-1)},undoable:t.undoable})}function BSe(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Ir){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let a=n.depth;for(;a>=0;){const s=n.index(a);if(n.node(a).contentMatchAt(s).matchType(e))return!0;a-=1}return!1}function HSe(t,e,r={}){const{state:n}=e,{doc:a,tr:s}=n,o=t;a.descendants((l,c)=>{const u=s.mapping.map(c),f=s.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(p=>{if(p!==o)return!1;m=p}),!m)return;let g=!1;if(Object.keys(r).forEach(p=>{r[p]!==m.attrs[p]&&(g=!0)}),g){const p=t.type.create({...t.attrs,...r});s.removeMark(u,f,t.type),s.addMark(u,f,p)}}),s.docChanged&&e.view.dispatch(s)}var Ll=class bZ extends RD{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new bZ(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function om(t){return new wNe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:a})=>{const s=ua(t.getAttributes,void 0,n,a);if(s===!1||s===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let u=r.to;if(l){const f=c.search(/\S/),m=r.from+c.indexOf(l),g=m+l.length;if(LD(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(b=>b===t.type&&b!==v.mark.type)).filter(v=>v.to>m).length)return null;g<r.to&&o.delete(g,r.to),m>r.from&&o.delete(r.from+f,m),u=r.from+f+l.length,o.addMark(r.from+f,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var zSe=20,vZ=(t,e=0)=>{const r=[];return!t.children.length||e>zSe||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...vZ(n,e+1))}),r},qSe=t=>{if(!t.children.length)return;const e=vZ(t);e&&e.forEach(r=>{var n,a;const s=r.getAttribute("style"),o=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${o};${s}`)})},USe=Bf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&qSe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(s=>!!s))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),WSe=Oa.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const s=n[a].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),wZ=Oa.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const s=n[a].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),jZ=Oa.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),VSe=Oa.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),GSe=Oa.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),YSe=Oa.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(WSe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(wZ.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(jZ.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(VSe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(GSe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(USe.configure(this.options.textStyle)),t}}),KSe=Oa.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),XSe=KSe,JSe=wZ,QSe=jZ;const ZSe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",eke="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",lO="numeric",cO="ascii",uO="alpha",yb="asciinumeric",ib="alphanumeric",dO="domain",NZ="emoji",tke="scheme",rke="slashscheme",l_="whitespace";function nke(t,e){return t in e||(e[t]=[]),e[t]}function ap(t,e,r){e[lO]&&(e[yb]=!0,e[ib]=!0),e[cO]&&(e[yb]=!0,e[uO]=!0),e[yb]&&(e[ib]=!0),e[uO]&&(e[ib]=!0),e[ib]&&(e[dO]=!0),e[NZ]&&(e[dO]=!0);for(const n in e){const a=nke(n,r);a.indexOf(t)<0&&a.push(t)}}function ake(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function sl(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}sl.groups={};sl.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],s=e.jr[n][1];if(s&&a.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let a=0;a<t.length;a++)this.tt(t[a],e,r,n)},tr(t,e,r,n){n=n||sl.groups;let a;return e&&e.j?a=e:(a=new sl(e),r&&n&&ap(e,r,n)),this.jr.push([t,a]),a},ts(t,e,r,n){let a=this;const s=t.length;if(!s)return a;for(let o=0;o<s-1;o++)a=a.tt(t[o]);return a.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||sl.groups;const a=this;if(e&&e.j)return a.j[t]=e,e;const s=e;let o,l=a.go(t);if(l?(o=new sl,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new sl,s){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(ake(o.t,n),r);ap(s,c,n)}else r&&ap(s,r,n);o.t=s}return a.j[t]=o,o}};const mn=(t,e,r,n,a)=>t.ta(e,r,n,a),xi=(t,e,r,n,a)=>t.tr(e,r,n,a),EF=(t,e,r,n,a)=>t.ts(e,r,n,a),Xt=(t,e,r,n,a)=>t.tt(e,r,n,a),rf="WORD",fO="UWORD",SZ="ASCIINUMERICAL",kZ="ALPHANUMERICAL",nv="LOCALHOST",hO="TLD",mO="UTLD",$2="SCHEME",Q0="SLASH_SCHEME",FD="NUM",pO="WS",$D="NL",bb="OPENBRACE",vb="CLOSEBRACE",Fj="OPENBRACKET",$j="CLOSEBRACKET",Bj="OPENPAREN",Hj="CLOSEPAREN",zj="OPENANGLEBRACKET",qj="CLOSEANGLEBRACKET",Uj="FULLWIDTHLEFTPAREN",Wj="FULLWIDTHRIGHTPAREN",Vj="LEFTCORNERBRACKET",Gj="RIGHTCORNERBRACKET",Yj="LEFTWHITECORNERBRACKET",Kj="RIGHTWHITECORNERBRACKET",Xj="FULLWIDTHLESSTHAN",Jj="FULLWIDTHGREATERTHAN",Qj="AMPERSAND",Zj="APOSTROPHE",e5="ASTERISK",Eh="AT",t5="BACKSLASH",r5="BACKTICK",n5="CARET",Rh="COLON",BD="COMMA",a5="DOLLAR",$u="DOT",i5="EQUALS",HD="EXCLAMATION",ic="HYPHEN",wb="PERCENT",s5="PIPE",o5="PLUS",l5="POUND",jb="QUERY",zD="QUOTE",CZ="FULLWIDTHMIDDLEDOT",qD="SEMI",Bu="SLASH",Nb="TILDE",c5="UNDERSCORE",_Z="EMOJI",u5="SYM";var AZ=Object.freeze({__proto__:null,ALPHANUMERICAL:kZ,AMPERSAND:Qj,APOSTROPHE:Zj,ASCIINUMERICAL:SZ,ASTERISK:e5,AT:Eh,BACKSLASH:t5,BACKTICK:r5,CARET:n5,CLOSEANGLEBRACKET:qj,CLOSEBRACE:vb,CLOSEBRACKET:$j,CLOSEPAREN:Hj,COLON:Rh,COMMA:BD,DOLLAR:a5,DOT:$u,EMOJI:_Z,EQUALS:i5,EXCLAMATION:HD,FULLWIDTHGREATERTHAN:Jj,FULLWIDTHLEFTPAREN:Uj,FULLWIDTHLESSTHAN:Xj,FULLWIDTHMIDDLEDOT:CZ,FULLWIDTHRIGHTPAREN:Wj,HYPHEN:ic,LEFTCORNERBRACKET:Vj,LEFTWHITECORNERBRACKET:Yj,LOCALHOST:nv,NL:$D,NUM:FD,OPENANGLEBRACKET:zj,OPENBRACE:bb,OPENBRACKET:Fj,OPENPAREN:Bj,PERCENT:wb,PIPE:s5,PLUS:o5,POUND:l5,QUERY:jb,QUOTE:zD,RIGHTCORNERBRACKET:Gj,RIGHTWHITECORNERBRACKET:Kj,SCHEME:$2,SEMI:qD,SLASH:Bu,SLASH_SCHEME:Q0,SYM:u5,TILDE:Nb,TLD:hO,UNDERSCORE:c5,UTLD:mO,UWORD:fO,WORD:rf,WS:pO});const Xd=/[a-z]/,Fy=new RegExp("\\p{L}","u"),c_=new RegExp("\\p{Emoji}","u"),Jd=/\d/,u_=/\s/,DF="\r",d_=`
`,ike="",ske="",f_="";let Fw=null,$w=null;function oke(t=[]){const e={};sl.groups=e;const r=new sl;Fw==null&&(Fw=PF(ZSe)),$w==null&&($w=PF(eke)),Xt(r,"'",Zj),Xt(r,"{",bb),Xt(r,"}",vb),Xt(r,"[",Fj),Xt(r,"]",$j),Xt(r,"(",Bj),Xt(r,")",Hj),Xt(r,"<",zj),Xt(r,">",qj),Xt(r,"",Uj),Xt(r,"",Wj),Xt(r,"",Vj),Xt(r,"",Gj),Xt(r,"",Yj),Xt(r,"",Kj),Xt(r,"",Xj),Xt(r,"",Jj),Xt(r,"&",Qj),Xt(r,"*",e5),Xt(r,"@",Eh),Xt(r,"`",r5),Xt(r,"^",n5),Xt(r,":",Rh),Xt(r,",",BD),Xt(r,"$",a5),Xt(r,".",$u),Xt(r,"=",i5),Xt(r,"!",HD),Xt(r,"-",ic),Xt(r,"%",wb),Xt(r,"|",s5),Xt(r,"+",o5),Xt(r,"#",l5),Xt(r,"?",jb),Xt(r,'"',zD),Xt(r,"/",Bu),Xt(r,";",qD),Xt(r,"~",Nb),Xt(r,"_",c5),Xt(r,"\\",t5),Xt(r,"",CZ);const n=xi(r,Jd,FD,{[lO]:!0});xi(n,Jd,n);const a=xi(n,Xd,SZ,{[yb]:!0}),s=xi(n,Fy,kZ,{[ib]:!0}),o=xi(r,Xd,rf,{[cO]:!0});xi(o,Jd,a),xi(o,Xd,o),xi(a,Jd,a),xi(a,Xd,a);const l=xi(r,Fy,fO,{[uO]:!0});xi(l,Xd),xi(l,Jd,s),xi(l,Fy,l),xi(s,Jd,s),xi(s,Xd),xi(s,Fy,s);const c=Xt(r,d_,$D,{[l_]:!0}),u=Xt(r,DF,pO,{[l_]:!0}),f=xi(r,u_,pO,{[l_]:!0});Xt(r,f_,f),Xt(u,d_,c),Xt(u,f_,f),xi(u,u_,f),Xt(f,DF),Xt(f,d_),xi(f,u_,f),Xt(f,f_,f);const m=xi(r,c_,_Z,{[NZ]:!0});Xt(m,"#"),xi(m,c_,m),Xt(m,ike,m);const g=Xt(m,ske);Xt(g,"#"),xi(g,c_,m);const p=[[Xd,o],[Jd,a]],v=[[Xd,null],[Fy,l],[Jd,s]];for(let w=0;w<Fw.length;w++)kh(r,Fw[w],hO,rf,p);for(let w=0;w<$w.length;w++)kh(r,$w[w],mO,fO,v);ap(hO,{tld:!0,ascii:!0},e),ap(mO,{utld:!0,alpha:!0},e),kh(r,"file",$2,rf,p),kh(r,"mailto",$2,rf,p),kh(r,"http",Q0,rf,p),kh(r,"https",Q0,rf,p),kh(r,"ftp",Q0,rf,p),kh(r,"ftps",Q0,rf,p),ap($2,{scheme:!0,ascii:!0},e),ap(Q0,{slashscheme:!0,ascii:!0},e),t=t.sort((w,b)=>w[0]>b[0]?1:-1);for(let w=0;w<t.length;w++){const b=t[w][0],k=t[w][1]?{[tke]:!0}:{[rke]:!0};b.indexOf("-")>=0?k[dO]=!0:Xd.test(b)?Jd.test(b)?k[yb]=!0:k[cO]=!0:k[lO]=!0,EF(r,b,b,k)}return EF(r,"localhost",nv,{ascii:!0}),r.jd=new sl(u5),{start:r,tokens:Object.assign({groups:e},AZ)}}function TZ(t,e){const r=lke(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,a=[];let s=0,o=0;for(;o<n;){let l=t,c=null,u=0,f=null,m=-1,g=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(m=0,g=0,f=l):m>=0&&(m+=r[o].length,g++),u+=r[o].length,s+=r[o].length,o++;s-=m,o-=g,u-=m,a.push({t:f.t,v:e.slice(s-u,s),s:s-u,e:s})}return a}function lke(t){const e=[],r=t.length;let n=0;for(;n<r;){let a=t.charCodeAt(n),s,o=a<55296||a>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function kh(t,e,r,n,a){let s;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new sl(n),s.jr=a.slice(),t.j[c]=s),t=s}return s=new sl(r),s.jr=a.slice(),t.j[e[o-1]]=s,s}function PF(t){const e=[],r=[];let n=0,a="0123456789";for(;n<t.length;){let s=0;for(;a.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+s),10);o>0;o--)r.pop();n+=s}else r.push(t[n]),n++}return e}const av={defaultProtocol:"http",events:null,format:LF,formatHref:LF,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function UD(t,e=null){let r=Object.assign({},av);t&&(r=Object.assign(r,t instanceof UD?t.o:t));const n=r.ignoreTags,a=[];for(let s=0;s<n.length;s++)a.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=a}UD.prototype={o:av,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let a=this.o[t];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:av[t],typeof a=="function"&&n&&(a=a(e,r))):typeof a=="function"&&n&&(a=a(e,r.t,r)),a)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function LF(t){return t}function MZ(t,e){this.t="token",this.v=t,this.tk=e}MZ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=av.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),a=t.get("tagName",r,e),s=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),u=t.get("rel",r,e),f=t.getObj("attributes",r,e),m=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),f&&Object.assign(o,f),{tagName:a,attributes:o,content:s,eventListeners:m}}};function eS(t,e){class r extends MZ{constructor(a,s){super(a,s),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const RF=eS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),IF=eS("text"),cke=eS("nl"),Bw=eS("url",{isLink:!0,toHref(t=av.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==nv&&t[1].t===Rh}}),ec=t=>new sl(t);function uke({groups:t}){const e=t.domain.concat([Qj,e5,Eh,t5,r5,n5,a5,i5,ic,FD,wb,s5,o5,l5,Bu,u5,Nb,c5]),r=[Zj,Rh,BD,$u,HD,wb,jb,zD,qD,zj,qj,bb,vb,$j,Fj,Bj,Hj,Uj,Wj,Vj,Gj,Yj,Kj,Xj,Jj],n=[Qj,Zj,e5,t5,r5,n5,a5,i5,ic,bb,vb,wb,s5,o5,l5,jb,Bu,u5,Nb,c5],a=ec(),s=Xt(a,Nb);mn(s,n,s),mn(s,t.domain,s);const o=ec(),l=ec(),c=ec();mn(a,t.domain,o),mn(a,t.scheme,l),mn(a,t.slashscheme,c),mn(o,n,s),mn(o,t.domain,o);const u=Xt(o,Eh);Xt(s,Eh,u),Xt(l,Eh,u),Xt(c,Eh,u);const f=Xt(s,$u);mn(f,n,s),mn(f,t.domain,s);const m=ec();mn(u,t.domain,m),mn(m,t.domain,m);const g=Xt(m,$u);mn(g,t.domain,m);const p=ec(RF);mn(g,t.tld,p),mn(g,t.utld,p),Xt(u,nv,p);const v=Xt(m,ic);Xt(v,ic,v),mn(v,t.domain,m),mn(p,t.domain,m),Xt(p,$u,g),Xt(p,ic,v);const w=Xt(p,Rh);mn(w,t.numeric,RF);const b=Xt(o,ic),N=Xt(o,$u);Xt(b,ic,b),mn(b,t.domain,o),mn(N,n,s),mn(N,t.domain,o);const k=ec(Bw);mn(N,t.tld,k),mn(N,t.utld,k),mn(k,t.domain,o),mn(k,n,s),Xt(k,$u,N),Xt(k,ic,b),Xt(k,Eh,u);const S=Xt(k,Rh),A=ec(Bw);mn(S,t.numeric,A);const _=ec(Bw),O=ec();mn(_,e,_),mn(_,r,O),mn(O,e,_),mn(O,r,O),Xt(k,Bu,_),Xt(A,Bu,_);const I=Xt(l,Rh),L=Xt(c,Rh),R=Xt(L,Bu),B=Xt(R,Bu);mn(l,t.domain,o),Xt(l,$u,N),Xt(l,ic,b),mn(c,t.domain,o),Xt(c,$u,N),Xt(c,ic,b),mn(I,t.domain,_),Xt(I,Bu,_),Xt(I,jb,_),mn(B,t.domain,_),mn(B,e,_),Xt(B,Bu,_);const D=[[bb,vb],[Fj,$j],[Bj,Hj],[zj,qj],[Uj,Wj],[Vj,Gj],[Yj,Kj],[Xj,Jj]];for(let M=0;M<D.length;M++){const[H,G]=D[M],Y=Xt(_,H);Xt(O,H,Y),Xt(Y,G,_);const W=ec(Bw);mn(Y,e,W);const $=ec();mn(Y,r),mn(W,e,W),mn(W,r,$),mn($,e,W),mn($,r,$),Xt(W,G,_),Xt($,G,_)}return Xt(a,nv,k),Xt(a,$D,cke),{start:a,tokens:AZ}}function dke(t,e,r){let n=r.length,a=0,s=[],o=[];for(;a<n;){let l=t,c=null,u=null,f=0,m=null,g=-1;for(;a<n&&!(c=l.go(r[a].t));)o.push(r[a++]);for(;a<n&&(u=c||l.go(r[a].t));)c=null,l=u,l.accepts()?(g=0,m=l):g>=0&&g++,a++,f++;if(g<0)a-=f,a<n&&(o.push(r[a]),a++);else{o.length>0&&(s.push(h_(IF,e,o)),o=[]),a-=g,f-=g;const p=m.t,v=r.slice(a-f,a);s.push(h_(p,e,v))}}return o.length>0&&s.push(h_(IF,e,o)),s}function h_(t,e,r){const n=r[0].s,a=r[r.length-1].e,s=e.slice(n,a);return new t(s,r)}const fke=typeof console<"u"&&console&&console.warn||(()=>{}),hke="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",za={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function mke(){return sl.groups={},za.scanner=null,za.parser=null,za.tokenQueue=[],za.pluginQueue=[],za.customSchemes=[],za.initialized=!1,za}function FF(t,e=!1){if(za.initialized&&fke(`linkifyjs: already initialized - will not register custom scheme "${t}" ${hke}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);za.customSchemes.push([t,e])}function pke(){za.scanner=oke(za.customSchemes);for(let t=0;t<za.tokenQueue.length;t++)za.tokenQueue[t][1]({scanner:za.scanner});za.parser=uke(za.scanner.tokens);for(let t=0;t<za.pluginQueue.length;t++)za.pluginQueue[t][1]({scanner:za.scanner,parser:za.parser});return za.initialized=!0,za}function WD(t){return za.initialized||pke(),dke(za.parser.start,t,TZ(za.scanner.start,t))}WD.scan=TZ;function OZ(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new UD(r),a=WD(t),s=[];for(let o=0;o<a.length;o++){const l=a[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&s.push(l.toFormattedObject(n))}return s}var VD="[\0- -\u2029]",gke=new RegExp(VD),xke=new RegExp(`${VD}$`),yke=new RegExp(VD,"g");function bke(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function vke(t){return new Ai({key:new Rs("autolink"),appendTransaction:(e,r,n)=>{const a=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!a||s)return;const{tr:o}=n,l=UQ(r.doc,[...e]);if(ZQ(l).forEach(({newRange:u})=>{const f=tNe(n.doc,u,p=>p.isTextblock);let m,g;if(f.length>1)m=f[0],g=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const p=n.doc.textBetween(u.from,u.to," "," ");if(!xke.test(p))return;m=f[0],g=n.doc.textBetween(m.pos,u.to,void 0," ")}if(m&&g){const p=g.split(gke).filter(Boolean);if(p.length<=0)return!1;const v=p[p.length-1],w=m.pos+g.lastIndexOf(v);if(!v)return!1;const b=WD(v).map(N=>N.toObject(t.defaultProtocol));if(!bke(b))return!1;b.filter(N=>N.isLink).map(N=>({...N,from:w+N.start+1,to:w+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{LD(N.from,N.to,n.doc).some(k=>k.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function wke(t){return new Ai({key:new Rs("handleClickLink"),props:{handleClick:(e,r,n)=>{var a,s;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let f=n.target;const m=[];for(;f.nodeName!=="DIV";)m.push(f),f=f.parentNode;o=m.find(g=>g.nodeName==="A")}if(!o)return!1;const l=QQ(e.state,t.type.name),c=(a=o==null?void 0:o.href)!=null?a:l.href,u=(s=o==null?void 0:o.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,u),!0):!1}}})}function jke(t){return new Ai({key:new Rs("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:a}=e,{selection:s}=a,{empty:o}=s;if(o)return!1;let l="";n.content.forEach(u=>{l+=u.textContent});const c=OZ(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Fm(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!t||t.replace(yke,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var EZ=Bf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){FF(t);return}FF(t.scheme,t.optionalSlashes)})},onDestroy(){mke()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Fm(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!Fm(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Fm(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ci(this.options.HTMLAttributes,t),0]:["a",Ci(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Fm(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Fm(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[om({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,a=OZ(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Fm(o,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(vke({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!Fm(a,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(wke({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(jke({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Nke=EZ,m_={exports:{}},p_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $F;function Ske(){if($F)return p_;$F=1;var t=zv();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(m,g){var p=g(),v=n({inst:{value:p,getSnapshot:g}}),w=v[0].inst,b=v[1];return s(function(){w.value=p,w.getSnapshot=g,c(w)&&b({inst:w})},[m,p,g]),a(function(){return c(w)&&b({inst:w}),m(function(){c(w)&&b({inst:w})})},[m]),o(p),p}function c(m){var g=m.getSnapshot;m=m.value;try{var p=g();return!r(m,p)}catch{return!0}}function u(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return p_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,p_}var BF;function DZ(){return BF||(BF=1,m_.exports=Ske()),m_.exports}var PZ=DZ(),g_,HF;function kke(){return HF||(HF=1,g_=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],r.get(a[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),g_}var Cke=kke();const _ke=Kn(Cke);var x_={exports:{}},y_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zF;function Ake(){if(zF)return y_;zF=1;var t=zv(),e=DZ();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(u,f,m,g,p){var v=s(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function N(O){if(!k){if(k=!0,S=O,O=g(O),p!==void 0&&w.hasValue){var I=w.value;if(p(I,O))return A=I}return A=O}if(I=A,n(S,O))return I;var L=g(O);return p!==void 0&&p(I,L)?(S=O,I):(S=O,A=L)}var k=!1,S,A,_=m===void 0?null:m;return[function(){return N(f())},_===null?void 0:function(){return N(_())}]},[f,m,g,p]);var b=a(u,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),c(b),b},y_}var qF;function Tke(){return qF||(qF=1,x_.exports=Ake()),x_.exports}var Mke=Tke(),Oke=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Eke=({contentComponent:t})=>{const e=PZ.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return i.jsx(i.Fragment,{children:Object.values(e)})};function Dke(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:XG.createPortal(n.reactElement,n.element,r)},t.forEach(a=>a())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(a=>a())}}}var Pke=class extends he.Component{constructor(t){var e;super(t),this.editorContentRef=he.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=Dke(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:Oke(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&i.jsx(Eke,{contentComponent:t.contentComponent})]})}},Lke=y.forwardRef((t,e)=>{const r=he.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return he.createElement(Pke,{key:r,innerRef:e,...t})}),Rke=he.memo(Lke),Ike=typeof window<"u"?y.useLayoutEffect:y.useEffect,Fke=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function LZ(t){var e;const[r]=y.useState(()=>new Fke(t.editor)),n=Mke.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:_ke);return Ike(()=>r.watch(t.editor),[t.editor,r]),y.useDebugValue(n),n}var $ke=!1,gO=typeof window>"u",Bke=gO||!!(typeof window<"u"&&window.next),Hke=class RZ{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?gO||Bke?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var a,s;return(s=(a=this.options.current).onBeforeCreate)==null?void 0:s.call(a,...n)},onBlur:(...n)=>{var a,s;return(s=(a=this.options.current).onBlur)==null?void 0:s.call(a,...n)},onCreate:(...n)=>{var a,s;return(s=(a=this.options.current).onCreate)==null?void 0:s.call(a,...n)},onDestroy:(...n)=>{var a,s;return(s=(a=this.options.current).onDestroy)==null?void 0:s.call(a,...n)},onFocus:(...n)=>{var a,s;return(s=(a=this.options.current).onFocus)==null?void 0:s.call(a,...n)},onSelectionUpdate:(...n)=>{var a,s;return(s=(a=this.options.current).onSelectionUpdate)==null?void 0:s.call(a,...n)},onTransaction:(...n)=>{var a,s;return(s=(a=this.options.current).onTransaction)==null?void 0:s.call(a,...n)},onUpdate:(...n)=>{var a,s;return(s=(a=this.options.current).onUpdate)==null?void 0:s.call(a,...n)},onContentError:(...n)=>{var a,s;return(s=(a=this.options.current).onContentError)==null?void 0:s.call(a,...n)},onDrop:(...n)=>{var a,s;return(s=(a=this.options.current).onDrop)==null?void 0:s.call(a,...n)},onPaste:(...n)=>{var a,s;return(s=(a=this.options.current).onPaste)==null?void 0:s.call(a,...n)},onDelete:(...n)=>{var a,s;return(s=(a=this.options.current).onDelete)==null?void 0:s.call(a,...n)}};return new FSe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((a,s)=>{var o;return a===((o=r.extensions)==null?void 0:o[s])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?RZ.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,a)=>n===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function zke(t={},e=[]){const r=y.useRef(t);r.current=t;const[n]=y.useState(()=>new Hke(r)),a=PZ.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return y.useDebugValue(a),y.useEffect(n.onRender(e)),LZ({editor:a,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),a}var qke=y.createContext({editor:null});qke.Consumer;var Uke=y.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Wke=()=>y.useContext(Uke);he.forwardRef((t,e)=>{const{onDragStart:r}=Wke(),n=t.as||"div";return i.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});he.createContext({markViewContentRef:()=>{}});var d5=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},Vke=/^\s*>\s$/,Gke=Ll.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return d5("blockquote",{...Ci(this.options.HTMLAttributes,t),children:d5("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Gg({find:Vke,type:this.type})]}}),Yke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Kke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Xke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Jke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Qke=Bf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return d5("strong",{...Ci(this.options.HTMLAttributes,t),children:d5("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Op({find:Yke,type:this.type}),Op({find:Xke,type:this.type})]},addPasteRules(){return[om({find:Kke,type:this.type}),om({find:Jke,type:this.type})]}}),Zke=/(^|[^`])`([^`]+)`(?!`)$/,eCe=/(^|[^`])`([^`]+)`(?!`)/g,tCe=Bf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Op({find:Zke,type:this.type})]},addPasteRules(){return[om({find:eCe,type:this.type})]}}),b_=4,rCe=/^```([a-z]+)?[\s\n]$/,nCe=/^~~~([a-z]+)?[\s\n]$/,aCe=Ll.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:b_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ci(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:b_,{state:n}=t,{selection:a}=n,{$from:s,empty:o}=a;if(s.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:f}=a,p=n.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(u,f,n.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:b_,{state:n}=t,{selection:a}=n,{$from:s,empty:o}=a;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:u}=s,f=s.start(),m=s.end(),p=n.doc.textBetween(f,m,`
`,`
`).split(`
`);let v=0,w=0;const b=u-f;for(let O=0;O<p.length;O+=1){if(w+p[O].length>=b){v=O;break}w+=p[O].length+1}const k=((c=p[v].match(/^ */))==null?void 0:c[0])||"",S=Math.min(k.length,r);if(S===0)return!0;let A=f;for(let O=0;O<v;O+=1)A+=p[O].length+1;return l.delete(A,A+S),u-A<=S&&l.setSelection(rn.create(l.doc,A)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=a,g=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>{var v;const w=((v=p.match(/^ */))==null?void 0:v[0])||"",b=Math.min(w.length,r);return p.slice(b)}).join(`
`);return l.replaceWith(c,u,n.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:a,empty:s}=r;if(!s||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(pn.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[oO({find:rCe,type:this.type,getAttributes:t=>({language:t[1]})}),oO({find:nCe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ai({key:new Rs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,s=a==null?void 0:a.mode;if(!r||!s)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(rn.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),iCe=Ll.create({name:"doc",topNode:!0,content:"block+"}),sCe=Ll.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ci(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:a,storedMarks:s}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=s||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&c&&o){const m=c.filter(g=>l.includes(g.type.name));u.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oCe=Ll.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ci(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>oO({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),lCe=Ll.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ci(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!BSe(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,a=t();return tZ(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:s,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(rn.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Ir.create(o.doc,c.pos)):o.setSelection(rn.create(o.doc,c.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(o.insert(u,m),o.setSelection(rn.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$Se({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),cCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,uCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,dCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,fCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,hCe=Bf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Op({find:cCe,type:this.type}),Op({find:dCe,type:this.type})]},addPasteRules(){return[om({find:uCe,type:this.type}),om({find:fCe,type:this.type})]}}),mCe=Object.defineProperty,pCe=(t,e)=>{for(var r in e)mCe(t,r,{get:e[r],enumerable:!0})},gCe="listItem",UF="textStyle",WF=/^\s*([-+*])\s$/,IZ=Ll.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gCe,this.editor.getAttributes(UF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Gg({find:WF,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Gg({find:WF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(UF),editor:this.editor})),[t]}}),FZ=Ll.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ci(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xCe={};pCe(xCe,{findListItemPos:()=>s1,getNextListDepth:()=>GD,handleBackspace:()=>xO,handleDelete:()=>yO,hasListBefore:()=>$Z,hasListItemAfter:()=>yCe,hasListItemBefore:()=>BZ,listItemHasSubList:()=>HZ,nextListIsDeeper:()=>zZ,nextListIsHigher:()=>qZ});var s1=(t,e)=>{const{$from:r}=e.selection,n=rs(t,e.schema);let a=null,s=r.depth,o=r.pos,l=null;for(;s>0&&l===null;)a=r.node(s),a.type===n?l=s:(s-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},GD=(t,e)=>{const r=s1(t,e);if(!r)return!1;const[,n]=dNe(e,t,r.$pos.pos+4);return n},$Z=(t,e,r)=>{const{$anchor:n}=t.selection,a=Math.max(0,n.pos-2),s=t.doc.resolve(a).node();return!(!s||!r.includes(s.type.name))},BZ=(t,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==t)},HZ=(t,e,r)=>{if(!r)return!1;const n=rs(t,e.schema);let a=!1;return r.descendants(s=>{s.type===n&&(a=!0)}),a},xO=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!sm(t.state,e)&&$Z(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((g,p)=>{g.type.name===e&&u.push({node:g,pos:p})});const f=u.at(-1);if(!f)return!1;const m=t.state.doc.resolve(c.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!sm(t.state,e)||!pNe(t.state))return!1;const n=s1(e,t.state);if(!n)return!1;const s=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=HZ(e,t.state,s);return BZ(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},zZ=(t,e)=>{const r=GD(t,e),n=s1(t,e);return!n||!r?!1:r>n.depth},qZ=(t,e)=>{const r=GD(t,e),n=s1(t,e);return!n||!r?!1:r<n.depth},yO=(t,e)=>{if(!sm(t.state,e)||!mNe(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:zZ(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():qZ(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},yCe=(t,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==t)},UZ=Oa.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&yO(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&yO(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&xO(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&xO(t,r,n)&&(e=!0)}),e}}}}),bCe="listItem",VF="textStyle",GF=/^(\d+)\.\s$/,WZ=Ll.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Ci(this.options.HTMLAttributes,r),0]:["ol",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bCe,this.editor.getAttributes(VF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Gg({find:GF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Gg({find:GF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(VF)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),vCe=/^\s*(\[([( |x])?\])\s$/,wCe=Ll.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ci(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const a=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=f=>{var m,g;l.ariaLabel=((g=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:g.call(m,f,l.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return u(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const p=r();if(typeof p!="number")return!1;const v=g.doc.nodeAt(p);return g.setNodeMarkup(p,void 0,{...v==null?void 0:v.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,m])=>{a.setAttribute(f,m)}),a.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,o),a.append(s,c),Object.entries(e).forEach(([f,m])=>{a.setAttribute(f,m)}),{dom:a,contentDOM:c,update:f=>f.type!==this.type?!1:(a.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,u(f),!0)}}},addInputRules(){return[Gg({find:vCe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),jCe=Ll.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ci(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Oa.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(IZ.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(FZ.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(UZ.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(WZ.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(wCe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(jCe.configure(this.options.taskList)),t}});var NCe=Ll.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),SCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,kCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,CCe=Bf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Op({find:SCe,type:this.type})]},addPasteRules(){return[om({find:kCe,type:this.type})]}}),_Ce=Ll.create({name:"text",group:"inline"}),ACe=Bf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function TCe(t={}){return new Ai({view(e){return new MCe(e,t)}})}class MCe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let s=o=>{this[a](o)};return e.dom.addEventListener(a,s),{name:a,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,a=this.editorView.dom,s=a.getBoundingClientRect(),o=s.width/a.offsetWidth,l=s.height/a.offsetHeight;if(r){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let p=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(p){let v=p.getBoundingClientRect(),w=m?v.bottom:v.top;m&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;n={left:v.left,right:v.right,top:w-b,bottom:w+b}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;n={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,f=-pageYOffset;else{let m=c.getBoundingClientRect(),g=m.width/c.offsetWidth,p=m.height/c.offsetHeight;u=m.left-c.scrollLeft*g,f=m.top-c.scrollTop*p}this.element.style.left=(n.left-u)/o+"px",this.element.style.top=(n.top-f)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,s=typeof a=="function"?a(this.editorView,r,e):a;if(r&&!s){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=zJ(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class wi extends pn{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return wi.valid(n)?new wi(n):pn.near(n)}content(){return fr.empty}eq(e){return e instanceof wi&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wi(e.resolve(r.pos))}getBookmark(){return new YD(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!OCe(e)||!ECe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&wi.valid(e))return e;let a=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;a+=r;let c=e.doc.resolve(a);if(wi.valid(c))return c}for(;;){let o=r>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ir.isSelectable(s)){e=e.doc.resolve(a+s.nodeSize*r),n=!1;continue e}break}s=o,a+=r;let l=e.doc.resolve(a);if(wi.valid(l))return l}return null}}}wi.prototype.visible=!1;wi.findFrom=wi.findGapCursorFrom;pn.jsonID("gapcursor",wi);class YD{constructor(e){this.pos=e}map(e){return new YD(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return wi.valid(r)?new wi(r):pn.near(r)}}function OCe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function ECe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function DCe(){return new Ai({props:{decorations:ICe,createSelectionBetween(t,e,r){return e.pos==r.pos&&wi.valid(r)?new wi(r):null},handleClick:LCe,handleKeyDown:PCe,handleDOMEvents:{beforeinput:RCe}}})}const PCe=MQ({ArrowLeft:Hw("horiz",-1),ArrowRight:Hw("horiz",1),ArrowUp:Hw("vert",-1),ArrowDown:Hw("vert",1)});function Hw(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,s){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof rn){if(!s.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let u=wi.findGapCursorFrom(l,e,c);return u?(a&&a(n.tr.setSelection(new wi(u))),!0):!1}}function LCe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!wi.valid(n))return!1;let a=t.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&Ir.isSelectable(t.state.doc.nodeAt(a.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wi(n))),!0)}function RCe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wi))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let a=Gt.empty;for(let o=n.length-1;o>=0;o--)a=Gt.from(n[o].createAndFill(null,a));let s=t.state.tr.replace(r.pos,r.pos,new fr(a,0,0));return s.setSelection(rn.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function ICe(t){if(!(t.selection instanceof wi))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",si.create(t.doc,[Do.widget(t.selection.head,e,{key:"gapcursor"})])}var f5=200,Ps=function(){};Ps.prototype.append=function(e){return e.length?(e=Ps.from(e),!this.length&&e||e.length<f5&&this.leafAppend(e)||this.length<f5&&e.leafPrepend(this)||this.appendInner(e)):this};Ps.prototype.prepend=function(e){return e.length?Ps.from(e).append(this):this};Ps.prototype.appendInner=function(e){return new FCe(this,e)};Ps.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ps.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ps.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ps.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Ps.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(s,o){return a.push(e(s,o))},r,n),a};Ps.from=function(e){return e instanceof Ps?e:e&&e.length?new VZ(e):Ps.empty};var VZ=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,s){return a==0&&s==this.length?this:new e(this.values.slice(a,s))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,s,o,l){for(var c=s;c<o;c++)if(a(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(a,s,o,l){for(var c=s-1;c>=o;c--)if(a(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=f5)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=f5)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Ps);Ps.empty=new VZ([]);var FCe=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,s,o){var l=this.left.length;if(a<l&&this.left.forEachInner(n,a,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(n,Math.max(a-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,s,o){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(n,a-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(n,Math.min(a,l),s,o)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var s=this.left.length;return a<=s?this.left.slice(n,a):n>=s?this.right.slice(n-s,a-s):this.left.slice(n,s).append(this.right.slice(0,a-s))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Ps);const $Ce=500;class tu{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,s;r&&(a=this.remapping(n,this.items.length),s=a.maps.length);let o=e.tr,l,c,u=[],f=[];return this.items.forEach((m,g)=>{if(!m.step){a||(a=this.remapping(n,g+1),s=a.maps.length),s--,f.push(m);return}if(a){f.push(new Hu(m.map));let p=m.step.map(a.slice(s)),v;p&&o.maybeStep(p).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],u.push(new Hu(v,void 0,void 0,u.length+f.length))),s--,v&&a.appendMap(v,s)}else o.maybeStep(m.step);if(m.selection)return l=a?m.selection.map(a.slice(s)):m.selection,c=new tu(this.items.slice(0,n).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,a){let s=[],o=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let m=e.steps[f].invert(e.docs[f]),g=new Hu(e.mapping.maps[f],m,r),p;(p=c&&c.merge(g))&&(g=p,f?s.pop():l=l.slice(0,l.length-1)),s.push(g),r&&(o++,r=void 0),a||(c=g)}let u=o-n.depth;return u>HCe&&(l=BCe(l,u),o-=u),new tu(l.append(s),o)}remapping(e,r){let n=new Xb;return this.items.forEach((a,s)=>{let o=a.mirrorOffset!=null&&s-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new tu(this.items.append(e.map(r=>new Hu(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},a);let c=r;this.items.forEach(g=>{let p=s.getMirror(--c);if(p==null)return;o=Math.min(o,p);let v=s.maps[p];if(g.step){let w=e.steps[p].invert(e.docs[p]),b=g.selection&&g.selection.map(s.slice(c+1,p));b&&l++,n.push(new Hu(v,w,b))}else n.push(new Hu(v))},a);let u=[];for(let g=r;g<o;g++)u.push(new Hu(s.maps[g]));let f=this.items.slice(0,a).append(u).append(n),m=new tu(f,l);return m.emptyItemCount()>$Ce&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)a.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(r.slice(n)),u=c&&c.getMap();if(n--,u&&r.appendMap(u,n),c){let f=o.selection&&o.selection.map(r.slice(n));f&&s++;let m=new Hu(u.invert(),c,f),g,p=a.length-1;(g=a.length&&a[p].merge(m))?a[p]=g:a.push(m)}}else o.map&&n--},this.items.length,0),new tu(Ps.from(a.reverse()),s)}}tu.empty=new tu(Ps.empty,0);function BCe(t,e){let r;return t.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),t.slice(r)}class Hu{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Hu(r.getMap().invert(),r,this.selection)}}}class Dh{constructor(e,r,n,a,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=s}}const HCe=20;function zCe(t,e,r,n){let a=r.getMeta(bp),s;if(a)return a.historyState;r.getMeta(WCe)&&(t=new Dh(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(bp))return o.getMeta(bp).redo?new Dh(t.done.addTransform(r,void 0,n,B2(e)),t.undone,YF(r.mapping.maps),t.prevTime,t.prevComposition):new Dh(t.done,t.undone.addTransform(r,void 0,n,B2(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!qCe(r,t.prevRanges)),u=o?v_(t.prevRanges,r.mapping):YF(r.mapping.maps);return new Dh(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,B2(e)),tu.empty,u,r.time,l??t.prevComposition)}else return(s=r.getMeta("rebased"))?new Dh(t.done.rebased(r,s),t.undone.rebased(r,s),v_(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Dh(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),v_(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function qCe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,a)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&a>=e[s]&&(r=!0)}),r}function YF(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,a,s,o)=>e.push(s,o));return e}function v_(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let a=e.map(t[n],1),s=e.map(t[n+1],-1);a<=s&&r.push(a,s)}return r}function UCe(t,e,r){let n=B2(e),a=bp.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),a,n),c=new Dh(r?l:s.remaining,r?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(bp,{redo:r,historyState:c})}let w_=!1,KF=null;function B2(t){let e=t.plugins;if(KF!=e){w_=!1,KF=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){w_=!0;break}}return w_}const bp=new Rs("history"),WCe=new Rs("closeHistory");function VCe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ai({key:bp,state:{init(){return new Dh(tu.empty,tu.empty,null,0,-1)},apply(e,r,n){return zCe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?YZ:n=="historyRedo"?KZ:null;return a?(r.preventDefault(),a(e.state,e.dispatch)):!1}}}})}function GZ(t,e){return(r,n)=>{let a=bp.getState(r);if(!a||(t?a.undone:a.done).eventCount==0)return!1;if(n){let s=UCe(a,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}const YZ=GZ(!1,!0),KZ=GZ(!0,!0);Oa.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Ai({key:new Rs("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const a=this.options.limit;if(a==null||a===0){t=!0;return}const s=this.storage.characters({node:n.doc});if(s>a){const o=s-a,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const u=n.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),s=this.storage.characters({node:e.doc});if(s<=n||a>n&&s>n&&s<=a)return!0;if(a>n&&s>n&&s>a||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-n,u=l-c,f=l;return e.deleteRange(u,f),!(this.storage.characters({node:e.doc})>n)}})]}});var GCe=Oa.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[TCe(this.options)]}});Oa.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ai({key:new Rs("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=e,s=[];if(!r||!n)return si.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(a>=u&&a<=u+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(a>=u&&a<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(Do.node(u,u+c.nodeSize,{class:this.options.className}))}),si.create(t,s)}}})]}});var YCe=Oa.create({name:"gapCursor",addProseMirrorPlugins(){return[DCe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ua(Pr(t,"allowGapCursor",r)))!=null?e:null}}});Oa.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ai({key:new Rs("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!r)return null;const s=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,u=!o.isLeaf&&JN(o);if((c||!this.options.showOnlyCurrent)&&u){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const m=Do.node(l,l+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});a.push(m)}return this.options.includeChildren}),si.create(t,a)}}})]}});Oa.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ai({key:new Rs("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||tZ(r.selection)||t.view.dragging?null:si.create(r.doc,[Do.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function XF({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var KCe=Oa.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Rs(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Ai({key:t,appendTransaction:(r,n,a)=>{const{doc:s,tr:o,schema:l}=a,c=t.getState(a),u=s.content.size,f=l.nodes[this.options.node];if(c)return o.insert(u,f.create())},state:{init:(r,n)=>{const a=n.tr.doc.lastChild;return!XF({node:a,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const a=r.doc.lastChild;return!XF({node:a,types:e})}}})]}}),XCe=Oa.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>YZ(t,e),redo:()=>({state:t,dispatch:e})=>KZ(t,e)}},addProseMirrorPlugins(){return[VCe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),JCe=Oa.create({name:"starterKit",addExtensions(){var t,e,r,n;const a=[];return this.options.bold!==!1&&a.push(Qke.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(Gke.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(IZ.configure(this.options.bulletList)),this.options.code!==!1&&a.push(tCe.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(aCe.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(iCe.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(GCe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(YCe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(sCe.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(oCe.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(XCe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(lCe.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(hCe.configure(this.options.italic)),this.options.listItem!==!1&&a.push(FZ.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(UZ.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&a.push(EZ.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(WZ.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(NCe.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(CCe.configure(this.options.strike)),this.options.text!==!1&&a.push(_Ce.configure(this.options.text)),this.options.underline!==!1&&a.push(ACe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(KCe.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),QCe=JCe,ZCe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,e_e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,t_e=Bf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Ci(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Op({find:ZCe,type:this.type})]},addPasteRules(){return[om({find:e_e,type:this.type})]}}),r_e=t_e;const n_e=[YSe,QCe.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),JSe.configure({types:["textStyle"]}),r_e.configure({multicolor:!0}),QSe.configure({types:["textStyle"]}),Nke.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),XSe.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],a_e=({editor:t,onClose:e})=>{const[r,n]=y.useState(()=>t.getAttributes("link").href||""),[a,s]=y.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=y.useState(()=>{try{const{from:f,to:m}=t.state.selection;return f===m?"":t.state.doc.textBetween(f,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(a).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},u=()=>{t.chain().focus().setTextSelection(a).run(),t.chain().focus().unsetLink().run(),e()};return i.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),i.jsx("input",{type:"url",value:r,onChange:f=>n(f.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&i.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),i.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&i.jsx("button",{onClick:u,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),i.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},i_e=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],a=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,s=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return i.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),i.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>i.jsx("button",{onClick:()=>s(l),className:`w-8 h-8 rounded border border-gray-300 ${a===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),i.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function s_e({editor:t}){const[e,r]=y.useState(!1),[n,a]=y.useState(null),[s,o]=y.useState(!1);if(!t)return null;const l=LZ({editor:t,selector:u=>({isBold:u.editor.isActive("bold")??!1,canBold:u.editor.can().chain().toggleBold().run()??!1,isItalic:u.editor.isActive("italic")??!1,canItalic:u.editor.can().chain().toggleItalic().run()??!1,isStrike:u.editor.isActive("strike")??!1,canStrike:u.editor.can().chain().toggleStrike().run()??!1,isCode:u.editor.isActive("code")??!1,canCode:u.editor.can().chain().toggleCode().run()??!1,isLink:u.editor.isActive("link")??!1,currentColor:u.editor.getAttributes("textStyle").color,currentBackgroundColor:u.editor.getAttributes("highlight").color,currentFontFamily:u.editor.getAttributes("textStyle").fontFamily,isAlignLeft:u.editor.isActive({textAlign:"left"})??!1,isAlignCenter:u.editor.isActive({textAlign:"center"})??!1,isAlignRight:u.editor.isActive({textAlign:"right"})??!1,isAlignJustify:u.editor.isActive({textAlign:"justify"})??!1,canClearMarks:u.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:u.editor.isActive("paragraph")??!1,isHeading1:u.editor.isActive("heading",{level:1})??!1,isHeading2:u.editor.isActive("heading",{level:2})??!1,isHeading3:u.editor.isActive("heading",{level:3})??!1,isBulletList:u.editor.isActive("bulletList")??!1,isOrderedList:u.editor.isActive("orderedList")??!1,canUndo:u.editor.can().chain().undo().run()??!1,canRedo:u.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:i.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:i.jsx(Ffe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:i.jsx(Hhe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:i.jsx($me,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:i.jsx(she,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:i.jsx(Afe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:i.jsx(Sfe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:i.jsx(Mfe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:i.jsx(Cfe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsxs("button",{type:"button",onClick:()=>a("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[i.jsx(mme,{size:18}),l.currentColor&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),i.jsxs("button",{type:"button",onClick:()=>a("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[i.jsx(fme,{size:18}),l.currentBackgroundColor&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[i.jsx("button",{type:"button",onClick:()=>o(!s),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:i.jsx(HK,{size:18})}),s&&i.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(u=>i.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(u).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:u},children:u.split(",")[0]},u)),i.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:i.jsx(Ghe,{size:18})}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:i.jsx(Ame,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:i.jsx(Ma,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:i.jsx(yme,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:i.jsx(Ohe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:i.jsx(Dhe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:i.jsx(Lhe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:i.jsx(FK,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:i.jsx(Jhe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:i.jsx(Gme,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:i.jsx(Sme,{size:18})})]})]})}),e&&i.jsx(a_e,{editor:t,onClose:()=>r(!1)}),n&&i.jsx(i_e,{editor:t,type:n,onClose:()=>a(null)})]})}const Mf=({value:t,onChange:e})=>{const r=zke({extensions:n_e,content:t,onUpdate:({editor:n})=>{const a=n.getHTML();e(a)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?i.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[i.jsx(s_e,{editor:r}),i.jsx(Rke,{editor:r,className:"min-h-[120px]"})]}):i.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},o_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,l_e=()=>{var Ae,ke,je,Ce,Be,fe,ge;const{getAllMasterData:t,submitMachineHistory:e}=ir(),r=ar(),[n,a]=y.useState(!1),[s,o]=y.useState(null),[l,c]=y.useState(null),[u,f]=y.useState(!1),[m,g]=y.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(ae=>!ae)},[v,w]=y.useState(window.innerWidth<768),[b,N]=y.useState([]),[k,S]=y.useState([]),[A,_]=y.useState([]),[O,I]=y.useState([]),[L,R]=y.useState([]),[B,D]=y.useState([]),[M,H]=y.useState([]),[G,Y]=y.useState([]),[W,$]=y.useState([]),q={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[Z,ce]=y.useState(q),X=y.useCallback((ae,ie)=>{if(ae&&typeof ae=="object"&&"value"in ae&&ie)ce(ht=>({...ht,[ie]:ae.value}));else if(ae&&"target"in ae){const{name:ht,value:ut}=ae.target;ce(Pe=>{if(["stopJam","startJam"].includes(ht)){const Ke=ut.replace(/[^\d]/g,""),yt=parseInt(Ke,10);return{...Pe,[ht]:Ke===""?0:Math.max(0,Math.min(23,isNaN(yt)?0:yt))}}if(["stopMenit","startMenit"].includes(ht)){const Ke=ut.replace(/[^\d]/g,""),yt=parseInt(Ke,10);return{...Pe,[ht]:Ke===""?0:Math.max(0,Math.min(59,isNaN(yt)?0:yt))}}return ht==="runningHour"||ht==="jumlah"?{...Pe,[ht]:ut.replace(/[^\d.]/g,"")}:{...Pe,[ht]:ut}})}},[]),U=y.useCallback(ae=>{if(typeof ae=="string"){const ie=ae.replace(/[^\d]/g,""),ht=parseInt(ie,10);return isNaN(ht)?"":ht.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(ae)||ae===null||ae===void 0?"":ae.toLocaleString("id-ID").replace(/,/g,".")},[]),J=async ae=>{ae.preventDefault(),a(!0),o(null),c(null);const ie={...Z,perbaikanPerawatan:Z.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:Z.runningHour?parseInt(String(Z.runningHour).replace(/\./g,""),10):0,jumlah:Z.jumlah?parseInt(String(Z.jumlah).replace(/\./g,""),10):0,stopJam:Z.stopJam===0&&String(Z.stopJam)===""?null:Z.stopJam,stopMenit:Z.stopMenit===0&&String(Z.stopMenit)===""?null:Z.stopMenit,startJam:Z.startJam===0&&String(Z.startJam)===""?null:Z.startJam,startMenit:Z.startMenit===0&&String(Z.startMenit)===""?null:Z.startMenit};try{await e(ie),c("Data history mesin berhasil disimpan!"),f(!0),ee()}catch(ht){o(ht.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",ht)}finally{a(!1)}},ee=y.useCallback(()=>{ce(q),o(null),c(null)},[]),ne=y.useCallback(()=>{f(!1),r("/machinehistory")},[r]);y.useEffect(()=>{(async()=>{var ie,ht,ut,Pe,Ke,yt,Qe,Tt,_t;try{const Se=await t();N(((ie=Se.mesin)==null?void 0:ie.data)||[]),S(((ht=Se.shifts)==null?void 0:ht.data)||[]),_(((ut=Se.groups)==null?void 0:ut.data)||[]),I(((Pe=Se.stoptimes)==null?void 0:Pe.data)||[]),R(((Ke=Se.units)==null?void 0:Ke.data)||[]),D(((yt=Se.itemtroubles)==null?void 0:yt.data)||[]),H(((Qe=Se.jenisaktivitas)==null?void 0:Qe.data)||[]),Y(((Tt=Se.kegiatans)==null?void 0:Tt.data)||[]),$(((_t=Se.unitspareparts)==null?void 0:_t.data)||[])}catch(Se){console.error("Gagal mengambil semua data master:",Se),o(Se.message||"Gagal memuat daftar data master.")}})()},[t]);const ue={control:(ae,ie)=>({...ae,minHeight:"42px",borderColor:ie.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ie.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,ie)=>({...ae,backgroundColor:ie.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:v,toggleSidebar:p}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),i.jsxs(E.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to History"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[s&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:s}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),i.jsxs("form",{onSubmit:J,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"date",id:"date",value:Z.date,onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"shift",id:"shift",options:(k||[]).map(ae=>({value:ae.id,label:ae.name})),value:k.map(ae=>({value:ae.id,label:ae.name})).find(ae=>ae.value===Z.shift),onChange:ae=>X(ae,"shift"),placeholder:"Select Shift",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"group",id:"group",options:(A||[]).map(ae=>({value:ae.id,label:ae.name})),value:A.map(ae=>({value:ae.id,label:ae.name})).find(ae=>ae.value===Z.group),onChange:ae=>X(ae,"group"),placeholder:"Select Group",styles:ue,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-indigo-500"})," Time Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"startJam",id:"startJam",value:Z.startJam===null?"":Z.startJam,onChange:X,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:Z.startMenit===null?"":Z.startMenit,onChange:X,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:Z.stopJam===null?"":Z.stopJam,onChange:X,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:Z.stopMenit===null?"":Z.stopMenit,onChange:X,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"stopTime",id:"stopTime",options:(O||[]).map(ae=>({value:ae.id,label:ae.name})),value:O.find(ae=>ae.id===Z.stopTime)?{value:Z.stopTime,label:((Ae=O.find(ae=>ae.id===Z.stopTime))==null?void 0:Ae.name)||""}:null,onChange:ae=>X(ae,"stopTime"),placeholder:"Select Stop Type",styles:ue,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Machine Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"mesin",id:"mesin",options:(b||[]).map(ae=>({value:ae.id,label:ae.name})),value:b.find(ae=>ae.id===Z.mesin)?{value:Z.mesin,label:((ke=b.find(ae=>ae.id===Z.mesin))==null?void 0:ke.name)||""}:null,onChange:ae=>X(ae,"mesin"),placeholder:"Select Machine",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:U(Z.runningHour),onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"unit",id:"unit",options:(L||[]).map(ae=>({value:ae.id,label:ae.name})),value:L.find(ae=>ae.id===Z.unit)?{value:Z.unit,label:((je=L.find(ae=>ae.id===Z.unit))==null?void 0:je.name)||""}:null,onChange:ae=>X(ae,"unit"),placeholder:"Select Unit",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"itemTrouble",id:"itemTrouble",options:(B||[]).map(ae=>({value:ae.id,label:ae.name})),value:B.find(ae=>ae.id===Z.itemTrouble)?{value:Z.itemTrouble,label:((Ce=B.find(ae=>ae.id===Z.itemTrouble))==null?void 0:Ce.name)||""}:null,onChange:ae=>X(ae,"itemTrouble"),placeholder:"Select Item Trouble",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:Z.jenisGangguan,onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:Z.bentukTindakan,onChange:ae=>{ce(ie=>({...ie,bentukTindakan:ae}))}})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"rootCause",id:"rootCause",value:Z.rootCause,onChange:X,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kx,{className:"mr-2 text-purple-500"})," Activity Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"jenisAktivitas",id:"jenisAktivitas",options:(M||[]).map(ae=>({value:ae.id,label:ae.name})),value:M.find(ae=>ae.id===Z.jenisAktivitas)?{value:Z.jenisAktivitas,label:((Be=M.find(ae=>ae.id===Z.jenisAktivitas))==null?void 0:Be.name)||""}:null,onChange:ae=>X(ae,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"kegiatan",id:"kegiatan",options:(G||[]).map(ae=>({value:ae.id,label:ae.name})),value:G.find(ae=>ae.id===Z.kegiatan)?{value:Z.kegiatan,label:((fe=G.find(ae=>ae.id===Z.kegiatan))==null?void 0:fe.name)||""}:null,onChange:ae=>X(ae,"kegiatan"),placeholder:"Select Activity",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),i.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:Z.kodePart,onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),i.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:Z.sparePart,onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),i.jsx("input",{type:"text",name:"idPart",id:"idPart",value:Z.idPart,onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),i.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:U(Z.jumlah),onChange:X,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),i.jsx(Wn,{name:"unitSparePart",id:"unitSparePart",options:(W||[]).map(ae=>({value:ae.id,label:ae.name})),value:W.find(ae=>ae.id===Z.unitSparePart)?{value:Z.unitSparePart,label:((ge=W.find(ae=>ae.id===Z.unitSparePart))==null?void 0:ge.name)||""}:null,onChange:ae=>X(ae,"unitSparePart"),placeholder:"Select Unit",styles:ue})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:ee,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Ma,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),i.jsx(o_e,{isOpen:u,onClose:ne,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ne,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},c_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,u_e=()=>{var H,G,Y,W,$,q,Z,ce,X,U,J,ee,ne,ue,Ae,ke,je,Ce,Be,fe,ge,ae,ie,ht,ut,Pe,Ke,yt,Qe,Tt,_t,Se,gt,at,Nt,kt;const{id:t}=Ls(),e=ar(),[r,n]=y.useState(()=>{const Ee=localStorage.getItem("sidebarOpen");return Ee?JSON.parse(Ee):!1}),a=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Ee=>!Ee)},[s,o]=y.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:u,isMasterDataLoading:f}=ir(),[m,g]=y.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[p,v]=y.useState(!0),[w,b]=y.useState(!1),[N,k]=y.useState(null),[S,A]=y.useState(null),[_,O]=y.useState(!1);y.useEffect(()=>{(async()=>{var vt,bt,Je,Le,et;try{if(v(!0),f||!u)return;if(t){const be=(await l(t)).data;be?g({date:be.date||"",shift:String(be.shift_id)||"",group:String(be.group_id)||"",stopJam:((vt=be.startstop)==null?void 0:vt.stop_time_hh)??null,stopMenit:((bt=be.startstop)==null?void 0:bt.stop_time_mm)??null,startJam:((Je=be.startstop)==null?void 0:Je.start_time_hh)??null,startMenit:((Le=be.startstop)==null?void 0:Le.start_time_mm)??null,stopTime:String(be.stoptime_id)||"",unit:String(be.unit_id)||"",mesin:String(be.mesin_id)||"",runningHour:be.running_hour??0,itemTrouble:String(be.itemtrouble_id)||"",jenisGangguan:be.jenis_gangguan||"",bentukTindakan:be.bentuk_tindakan||"",perbaikanPerawatan:((et=be.jenisaktifitas)==null?void 0:et.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:be.root_cause||"",jenisAktivitas:String(be.jenisaktifitas_id)||"",kegiatan:String(be.kegiatan_id)||"",kodePart:be.kode_part||"",sparePart:be.spare_part||"",idPart:be.id_part||"",jumlah:be.jumlah??0,unitSparePart:String(be.unitsp_id)||""}):k("Data history mesin tidak ditemukan.")}else k("ID history mesin tidak diberikan untuk pengeditan.")}catch(lt){console.error("Error fetching machine history:",lt),k(lt.message||"Terjadi kesalahan saat memuat data.")}finally{v(!1)}})()},[t,u,f,l]);const I=y.useCallback((Ee,vt)=>{if(Ee&&typeof Ee=="object"&&"value"in Ee&&vt)g(bt=>({...bt,[vt]:Ee.value}));else if(Ee&&"target"in Ee){const{name:bt,value:Je,type:Le}=Ee.target;g(et=>{if(["stopJam","startJam"].includes(bt)){const lt=Je.replace(/[^\d]/g,""),be=parseInt(lt,10);return{...et,[bt]:lt===""?null:Math.max(0,Math.min(23,isNaN(be)?0:be))}}if(["stopMenit","startMenit"].includes(bt)){const lt=Je.replace(/[^\d]/g,""),be=parseInt(lt,10);return{...et,[bt]:lt===""?null:Math.max(0,Math.min(59,isNaN(be)?0:be))}}return bt==="runningHour"||bt==="jumlah"?{...et,[bt]:Je.replace(/[^\d.]/g,"")}:{...et,[bt]:Je}})}},[]),L=y.useCallback(Ee=>{if(Ee===null||isNaN(Number(Ee)))return"";if(typeof Ee=="string"){const vt=Ee.replace(/[^\d]/g,""),bt=parseInt(vt,10);return isNaN(bt)?"":bt.toLocaleString("id-ID").replace(/,/g,".")}return Ee.toLocaleString("id-ID").replace(/,/g,".")},[]),R=async Ee=>{Ee.preventDefault(),b(!0),k(null),A(null);const vt={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const bt=await c(t,vt);A(bt.message||"Machine history updated successfully!"),O(!0)}catch(bt){console.error("Error updating machine history:",bt),k(bt.message||"Failed to update machine history.")}finally{b(!1)}},B=y.useCallback(()=>{g({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),k(null),A(null)},[]),D=y.useCallback(()=>{O(!1),e("/machinehistory")},[e]),M={control:(Ee,vt)=>({...Ee,minHeight:"42px",borderColor:vt.isFocused?"#3B82F6":"#D1D5DB",boxShadow:vt.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Ee=>({...Ee,padding:"0"}),singleValue:Ee=>({...Ee,color:"#374151"}),placeholder:Ee=>({...Ee,color:"#6B7280"}),dropdownIndicator:Ee=>({...Ee,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Ee=>({...Ee,display:"none"}),menu:Ee=>({...Ee,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Ee,vt)=>({...Ee,backgroundColor:vt.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return f||p?i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:i.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[i.jsx(bn,{className:"animate-spin mr-3 text-2xl"}),i.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!u&&!f?i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[i.jsx(zt,{className:"mr-3 text-2xl"}),i.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[i.jsx(zt,{className:"mr-3 text-2xl"}),i.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:s,toggleSidebar:a}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),i.jsxs(E.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to History"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:N}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>k(null)})})]}),i.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"shift",id:"shift",options:((G=(H=u==null?void 0:u.shifts)==null?void 0:H.data)==null?void 0:G.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((W=(Y=u==null?void 0:u.shifts)==null?void 0:Y.data)==null?void 0:W.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.shift)))||null,onChange:Ee=>I(Ee,"shift"),placeholder:"Select Shift",styles:M,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"group",id:"group",options:((q=($=u==null?void 0:u.groups)==null?void 0:$.data)==null?void 0:q.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((ce=(Z=u==null?void 0:u.groups)==null?void 0:Z.data)==null?void 0:ce.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.group)))||null,onChange:Ee=>I(Ee,"group"),placeholder:"Select Group",styles:M,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-indigo-500"})," Time Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:I,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:I,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:I,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:I,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"stopTime",id:"stopTime",options:((U=(X=u==null?void 0:u.stoptimes)==null?void 0:X.data)==null?void 0:U.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((ee=(J=u==null?void 0:u.stoptimes)==null?void 0:J.data)==null?void 0:ee.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.stopTime)))||null,onChange:Ee=>I(Ee,"stopTime"),placeholder:"Select Stop Type",styles:M,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Machine Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"mesin",id:"mesin",options:((ue=(ne=u==null?void 0:u.mesin)==null?void 0:ne.data)==null?void 0:ue.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((ke=(Ae=u==null?void 0:u.mesin)==null?void 0:Ae.data)==null?void 0:ke.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.mesin)))||null,onChange:Ee=>I(Ee,"mesin"),placeholder:"Select Machine",styles:M,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:L(m.runningHour),onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"unit",id:"unit",options:((Ce=(je=u==null?void 0:u.units)==null?void 0:je.data)==null?void 0:Ce.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((fe=(Be=u==null?void 0:u.units)==null?void 0:Be.data)==null?void 0:fe.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.unit)))||null,onChange:Ee=>I(Ee,"unit"),placeholder:"Select Unit",styles:M,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"itemTrouble",id:"itemTrouble",options:((ae=(ge=u==null?void 0:u.itemtroubles)==null?void 0:ge.data)==null?void 0:ae.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((ht=(ie=u==null?void 0:u.itemtroubles)==null?void 0:ie.data)==null?void 0:ht.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.itemTrouble)))||null,onChange:Ee=>I(Ee,"itemTrouble"),placeholder:"Select Item Trouble",styles:M,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:m.bentukTindakan,onChange:Ee=>{g(vt=>({...vt,bentukTindakan:Ee}))}})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:I,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kx,{className:"mr-2 text-purple-500"})," Activity Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"jenisAktivitas",id:"jenisAktivitas",options:((Pe=(ut=u==null?void 0:u.jenisaktivitas)==null?void 0:ut.data)==null?void 0:Pe.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((yt=(Ke=u==null?void 0:u.jenisaktivitas)==null?void 0:Ke.data)==null?void 0:yt.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.jenisAktivitas)))||null,onChange:Ee=>I(Ee,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:M,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"kegiatan",id:"kegiatan",options:((Tt=(Qe=u==null?void 0:u.kegiatans)==null?void 0:Qe.data)==null?void 0:Tt.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((Se=(_t=u==null?void 0:u.kegiatans)==null?void 0:_t.data)==null?void 0:Se.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.kegiatan)))||null,onChange:Ee=>I(Ee,"kegiatan"),placeholder:"Select Activity",styles:M,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),i.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),i.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),i.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),i.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:L(m.jumlah),onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),i.jsx(Wn,{name:"unitSparePart",id:"unitSparePart",options:((at=(gt=u==null?void 0:u.unitspareparts)==null?void 0:gt.data)==null?void 0:at.map(Ee=>({value:Ee.id,label:Ee.name})))||[],value:((kt=(Nt=u==null?void 0:u.unitspareparts)==null?void 0:Nt.data)==null?void 0:kt.map(Ee=>({value:Ee.id,label:Ee.name})).find(Ee=>String(Ee.value)===String(m.unitSparePart)))||null,onChange:Ee=>I(Ee,"unitSparePart"),placeholder:"Select Unit",styles:M})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:B,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Ma,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),i.jsx(c_e,{isOpen:_,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},JF={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},d_e=()=>{var Be;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:a,updateUserPermissions:s,deleteUser:o,createRole:l,updateRole:c}=ir(),u=ar();Ui();const[f,m]=y.useState(()=>{const fe=localStorage.getItem("sidebarOpen");return fe?JSON.parse(fe):!1}),[g,p]=y.useState(window.innerWidth<768),[v,w]=y.useState("roles"),[b,N]=y.useState(null),[k,S]=y.useState(null),[A,_]=y.useState(!1),[O,I]=y.useState({}),[L,R]=y.useState("all"),[B,D]=y.useState(""),[M,H]=y.useState([]),[G,Y]=y.useState([]),[W,$]=y.useState(!1);y.useRef(null),y.useEffect(()=>{const fe=()=>{p(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]),y.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(f))},[f]),y.useEffect(()=>{const fe=async()=>{try{const[ge,ae]=await Promise.all([n(),r("/roles")]),ht=ge.map(Pe=>({id:String(Pe.id),name:Pe.name,nik:Pe.nik,email:Pe.email,roleId:Pe.role_id?String(Pe.role_id):null,customPermissions:Pe.customPermissions||[],department:Pe.department||null,department_id:Pe.department_id||null,permissions:Pe.permissions||Pe.allPermissions||[]})),ut=ae.map(Pe=>({id:String(Pe.id),name:Pe.name,description:Pe.description||`${Pe.name} role`,permissions:Pe.permissions.map(String),isSuperadmin:Pe.name==="superadmin"}));H(ht),Y(ut)}catch(ge){console.error("Failed to fetch data:",ge)}};a("view_permissions")&&fe()},[n,r,a]);const q=()=>{m(fe=>!fe)},Z=fe=>{I(ge=>({...ge,[fe]:!ge[fe]}))},ce=fe=>{!b||b.isSuperadmin||N(ge=>({...ge,permissions:ge.permissions.includes(fe)?ge.permissions.filter(ae=>ae!==fe):[...ge.permissions,fe]}))},X=fe=>{!k||k.roleId==="3"||S(ge=>{if(!ge)return null;const ae=ge.customPermissions.includes(fe)?ge.customPermissions.filter(ie=>ie!==fe):[...ge.customPermissions,fe];return{...ge,customPermissions:ae,permissions:[...new Set([...ge.rolePermissions||[],...ae])]}})},U=fe=>{N(fe),_(!0)},J=y.useCallback(async()=>{if(!b||!a("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!b.name.trim()){alert("Role name cannot be empty!");return}try{const fe={name:b.name,description:b.description,permissions:b.permissions};b.id?await c(b.id,fe):await l(fe);const ae=(await r("/roles")).map(ie=>({id:String(ie.id),name:ie.name,description:ie.description,permissions:ie.permissions.map(String),isSuperadmin:ie.name==="superadmin"}));Y(ae),_(!1),N(null)}catch(fe){console.error("Failed to save role:",fe)}},[b,a,c,l,r]),ee=fe=>{const ge=G.find(ae=>String(ae.id)===String(fe.roleId));S({...fe,rolePermissions:(ge==null?void 0:ge.permissions)||[],customPermissions:fe.customPermissions||[],permissions:fe.permissions||[]})},ne=async()=>{if(k)try{const fe=await s(k.id,{roleId:k.roleId||null,customPermissions:k.customPermissions||[]});H(M.map(ge=>{if(ge.id===fe.id){const ae=fe.roleId||null,ie=G.find(Ke=>String(Ke.id)===String(ae)),ht=(ie==null?void 0:ie.permissions)||[],ut=fe.customPermissions||[],Pe=[...new Set([...ht,...ut])];return{...fe,roleId:ae,customPermissions:ut,rolePermissions:ht,permissions:Pe}}return ge})),S(null)}catch(fe){console.error("Failed to save user:",fe)}},ue=async fe=>{if(!(!a("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${fe}`,{method:"DELETE"});const ae=(await r("/roles")).map(ie=>({id:String(ie.id),name:ie.name,description:ie.description,permissions:ie.permissions.map(String),isSuperadmin:ie.name==="superadmin"}));Y(ae)}catch(ge){console.error("Failed to delete role:",ge)}},Ae=y.useCallback(async fe=>{if(window.confirm("Are you sure you want to delete this user?")){$(!0);try{await o(fe);const ge=await n();H(ge)}catch(ge){console.error("Failed to delete user:",ge)}finally{$(!1)}}},[o,n]),ke=fe=>{if(!fe)return"No Role";const ge=G.find(ae=>String(ae.id)===String(fe));return ge?ge.name:"No Role"},je=["all",...new Set(M.map(fe=>{var ge;return((ge=fe.department)==null?void 0:ge.name)||""}).filter(Boolean))],Ce=M.filter(fe=>{var ge;return L==="all"||((ge=fe.department)==null?void 0:ge.name)===L}).filter(fe=>fe.name.toLowerCase().includes(B.toLowerCase())||fe.nik.toLowerCase().includes(B.toLowerCase()));return a("15")?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Pg,{}),isMobile:g,toggleSidebar:q}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:i.jsxs("div",{className:"flex border-b border-gray-100",children:[i.jsxs("button",{onClick:()=>w("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Pg,{className:"mr-2 text-base"}),"Roles & Permissions"]}),i.jsxs("button",{onClick:()=>w("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(zi,{className:"mr-2 text-base"}),"User Permissions"]})]})}),v==="roles"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),a("16")&&i.jsxs(E.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Role"})]})]}),A&&i.jsxs(E.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:b!=null&&b.id?"Edit Role":"Add New Role"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),i.jsx("input",{type:"text",value:(b==null?void 0:b.name)||"",onChange:fe=>N(ge=>({...ge,name:fe.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("input",{type:"text",value:(b==null?void 0:b.description)||"",onChange:fe=>N(ge=>({...ge,description:fe.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),i.jsx("div",{className:"space-y-4",children:Object.entries(JF).map(([fe,ge])=>i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>Z(fe),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[i.jsx("span",{className:"font-medium text-gray-700 capitalize",children:fe.replace(/([A-Z])/g," $1").trim()}),O[fe]?i.jsx(nj,{}):i.jsx(ja,{})]}),i.jsx(sr,{children:O[fe]&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ge).map(([ae,ie])=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`perm-${ie}`,checked:(b==null?void 0:b.isSuperadmin)||(b==null?void 0:b.permissions.includes(ie))||!1,onChange:()=>ce(ie),disabled:b==null?void 0:b.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),i.jsx("label",{htmlFor:`perm-${ie}`,className:"ml-2 text-sm text-gray-700",children:i.jsxs("div",{className:"font-medium",children:[ae," ",fe.replace(/([A-Z])/g," $1").trim(),(b==null?void 0:b.isSuperadmin)&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},ie))})})]},fe))}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:J,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(fe=>i.jsxs(E.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[fe.name,fe.isSuperadmin&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),i.jsxs("div",{className:"flex space-x-2",children:[!fe.isSuperadmin&&a("16")&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>U(fe),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:i.jsx(Si,{className:"text-base"})}),!fe.isSuperadmin&&a("17")&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ue(fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"text-base"})})]})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:fe.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Permissions:"}),i.jsx("span",{className:"font-medium text-gray-900",children:fe.permissions.length})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),i.jsx("span",{className:"font-medium text-gray-900",children:M.filter(ge=>ge.roleId===fe.id).length})]})]})]},fe.id))})]}),v==="users"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),i.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(_i,{className:"absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:B,onChange:fe=>D(fe.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),i.jsx("select",{value:L,onChange:fe=>R(fe.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:je.map(fe=>i.jsx("option",{value:fe,children:fe==="all"?"All Departments":fe},fe))}),a("17")&&i.jsxs(E.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>u("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(Qme,{className:"text-base"}),i.jsx("span",{children:"Add User"})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ce.map(fe=>{var ge,ae;return i.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:fe.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:fe.nik}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:fe.email}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((ge=fe.department)==null?void 0:ge.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ke(fe.roleId)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:fe.roleId==="3"?i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(ae=fe.customPermissions)!=null&&ae.length?i.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:fe.customPermissions.join(", "),children:[fe.customPermissions.length," custom"]}):i.jsx("span",{className:"italic text-gray-400",children:"None"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a("edit_permissions")&&i.jsxs(i.Fragment,{children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ee(fe),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:i.jsx(Si,{className:"text-base"})}),fe.id!==(t==null?void 0:t.id)&&a("manage_users")&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ae(fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"text-base"})})]})})]},fe.id)})})]})})})]})]})]}),i.jsx(sr,{children:k&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),i.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsxs("div",{className:"p-6",children:[!k.roleId&&i.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:i.jsx("p",{className:"text-yellow-700",children:" This user has no role assigned. Permissions will come only from custom permissions."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("div",{className:"font-medium text-gray-900",children:k.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("div",{className:"text-gray-600",children:k.nik})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("div",{className:"text-gray-600",children:k.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsx("div",{className:"text-gray-600",children:((Be=k.department)==null?void 0:Be.name)||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{value:k.roleId||"",onChange:fe=>{const ge=fe.target.value||null,ae=G.find(ie=>String(ie.id)===String(ge));S({...k,roleId:ge,rolePermissions:(ae==null?void 0:ae.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"No Role"}),G.map(fe=>i.jsx("option",{value:String(fe.id),children:fe.name},fe.id))]})]})]}),i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),i.jsx("div",{className:"space-y-4",children:Object.entries(JF).map(([fe,ge])=>i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>Z(fe),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[i.jsx("span",{className:"font-medium text-gray-700 capitalize",children:fe.replace(/([A-Z])/g," $1").trim()}),O[fe]?i.jsx(nj,{}):i.jsx(ja,{})]}),i.jsx(sr,{children:O[fe]&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ge).map(([ae,ie])=>{var yt,Qe;const ht=((yt=k.rolePermissions)==null?void 0:yt.includes(ie))||!1,ut=k.roleId==="3",Pe=ut||ht||((Qe=k.customPermissions)==null?void 0:Qe.includes(ie)),Ke=ut||ht;return i.jsxs("div",{className:`flex items-center ${Ke?"opacity-50":""}`,children:[i.jsx("input",{type:"checkbox",id:`user-perm-${ie}`,checked:Pe,onChange:()=>!Ke&&X(ie),disabled:Ke,className:`h-4 w-4 rounded focus:ring-blue-500 ${ut?"text-blue-600":ht?"text-purple-600":"text-blue-600"}`}),i.jsx("label",{htmlFor:`user-perm-${ie}`,className:"ml-2 text-sm text-gray-700",children:i.jsxs("div",{className:"font-medium flex items-center",children:[ae," ",fe.replace(/([A-Z])/g," $1").trim(),ut&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),ht&&!ut&&i.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},ie)})})})]},fe))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ne,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[i.jsx(Yr,{className:"text-red-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},f_e=()=>{const{changePassword:t}=ir(),e=ar(),[r,n]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=y.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=y.useState(!1),[c,u]=y.useState({current:!1,new:!1,confirm:!1}),[f,m]=y.useState(""),g=b=>{const{name:N,value:k}=b.target;n(S=>({...S,[N]:k})),a[N]&&s(S=>({...S,[N]:"",general:""}))},p=b=>{u(N=>({...N,[b]:!N[b]}))},v=()=>{let b=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",b=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",b=!1):(N.newPassword="New password is required",b=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",b=!1),s(N),b},w=async b=>{if(b.preventDefault(),!!v()){l(!0),m("");try{await t(r.currentPassword,r.newPassword),m("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),s({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),s(k=>({...k,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:i.jsx(oE,{className:"text-xl text-gray-700"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),i.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:i.jsx($7,{className:"text-blue-600 text-lg"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs(sr,{children:[a.general&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[i.jsx(uw,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),i.jsx("p",{className:"text-red-600 text-sm",children:a.general})]})]}),f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[i.jsx(Moe,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),i.jsx("p",{className:"text-green-600 text-sm",children:f})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:g,className:`w-full border ${a.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>p("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?i.jsx(b2,{}):i.jsx(v2,{})})]}),a.currentPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[i.jsx(uw,{className:"mr-1"})," ",a.currentPassword]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:g,className:`w-full border ${a.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),i.jsx("button",{type:"button",onClick:()=>p("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?i.jsx(b2,{}):i.jsx(v2,{})})]}),i.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[i.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[i.jsx(F7,{className:"mr-1 text-blue-500"})," Password requirement:"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),a.newPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[i.jsx(uw,{className:"mr-1"})," ",a.newPassword]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:`w-full border ${a.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),i.jsx("button",{type:"button",onClick:()=>p("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?i.jsx(b2,{}):i.jsx(v2,{})})]}),a.confirmPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[i.jsx(uw,{className:"mr-1"})," ",a.confirmPassword]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(E.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx($7,{className:"mr-2"}),"Update Password"]})})]})]})]}),i.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[i.jsx(F7,{className:"text-blue-500 mr-2"})," Security Tip"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},h_e=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],m_e=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],p_e=()=>{const t=ar(),{user:e,register:r,getRoles:n,hasPermission:a}=ir(),[s,o]=y.useState(!1),[l,c]=y.useState({}),[u,f]=y.useState(!1),[m,g]=y.useState({}),[p,v]=y.useState([]),[w,b]=y.useState([]),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return JSON.parse(Y||"false")}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),A(Y=>!Y)},[O,I]=y.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department:"",position:"",password:"",confirmPassword:""});y.useEffect(()=>{(async()=>{try{const W=await n();v(W),b([{id:"1",name:"IT"},{id:"2",name:"HR"},{id:"3",name:"Finance"},{id:"4",name:"Operations"},{id:"5",name:"Maintenance"}])}catch(W){console.error("Failed to fetch data:",W)}})()},[n,a,t]);const L=h_e.reduce((Y,W)=>(Y[W]=m_e.filter($=>$.category===W),Y),{}),R=Y=>{c(W=>({...W,[Y]:!W[Y]}))},B=Y=>{I(W=>({...W,customPermissions:W.customPermissions.includes(Y)?W.customPermissions.filter($=>$!==Y):[...W.customPermissions,Y]}))},D=Y=>{const{name:W,value:$}=Y.target;I(q=>({...q,[W]:$})),m[W]&&g(q=>({...q,[W]:""}))},M=()=>{const Y={};return O.name.trim()||(Y.name="Name is required"),O.nik.trim()?/^\d+$/.test(O.nik)||(Y.nik="NIK must be numeric"):Y.nik="NIK is required",O.password?O.password.length<6&&(Y.password="Password must be at least 6 characters"):Y.password="Password is required",O.password!==O.confirmPassword&&(Y.confirmPassword="Passwords do not match"),O.department||(Y.department="Department is required"),O.roleId||(Y.roleId="Role is required"),g(Y),Object.keys(Y).length===0},H=Y=>{const W=p.find($=>$.id===Y);return W?W.permissions:[]},G=async Y=>{if(Y.preventDefault(),!!M()){f(!0);try{await r(O.name,O.email,O.nik,O.password,O.department,O.position,O.roleId,O.customPermissions),t("/permissions",{state:{success:"User created successfully"}})}catch(W){console.error("Failed to create user:",W),g({form:W.message||"Failed to create user. Please try again."})}finally{f(!1)}}};return a("manage_users")?i.jsxs("div",{className:`flex h-screen font-sans antialiased ${s?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[i.jsx(rr,{})," ",i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(un,{}),isMobile:N,toggleSidebar:_}),i.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${s?"bg-gray-900":"bg-gray-50"}`,children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`${s?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),i.jsx("p",{className:`${s?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),i.jsxs(E.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${s?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[i.jsx(oE,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),m.form&&i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${s?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsxs("span",{className:"block sm:inline",children:[" ",m.form]})]}),i.jsxs("form",{onSubmit:G,children:[i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${s?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[i.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-gray-100":"text-gray-900"}`,children:"User Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),i.jsx("input",{type:"text",name:"name",value:O.name,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),m.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),i.jsx("input",{type:"text",name:"nik",value:O.nik,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),m.nik&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.nik})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Email*"}),i.jsx("input",{type:"text",name:"email",value:O.email,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),m.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Department*"}),i.jsxs("select",{name:"department",value:O.department,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[i.jsx("option",{value:"",children:"Select Department"}),w.map(Y=>i.jsx("option",{value:Y.name,children:Y.name},Y.id))]}),m.department&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.department})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Position"}),i.jsx("input",{type:"text",name:"position",value:O.position,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter position"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Password*"}),i.jsx("input",{type:"password",name:"password",value:O.password,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),m.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),i.jsx("input",{type:"password",name:"confirmPassword",value:O.confirmPassword,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),m.confirmPassword&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Role*"}),i.jsxs("select",{name:"roleId",value:O.roleId,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[i.jsx("option",{value:"",children:"Select Role"}),p.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),m.roleId&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.roleId})]})]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${s?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[i.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),i.jsx("p",{className:`text-sm mb-4 ${s?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),i.jsx("div",{className:"space-y-4",children:Object.entries(L).map(([Y,W])=>i.jsxs("div",{className:`${s?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[i.jsxs("button",{type:"button",onClick:()=>R(Y),className:`w-full flex justify-between items-center p-3 ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[i.jsx("span",{className:`font-medium ${s?"text-gray-200":"text-gray-700"}`,children:Y}),l[Y]?i.jsx(Eoe,{className:`${s?"text-gray-400":"text-gray-500"}`}):i.jsx(Ooe,{className:`${s?"text-gray-400":"text-gray-500"}`})]}),i.jsx(sr,{children:l[Y]&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${s?"bg-gray-800":"bg-white"}`,children:W.map($=>{const q=O.roleId?H(O.roleId).includes($.id):!1,Z=O.customPermissions.includes($.id),ce=q;return i.jsxs("div",{className:`flex items-center ${ce?"opacity-50":""}`,children:[i.jsx("input",{type:"checkbox",id:`perm-${$.id}`,checked:Z||q,onChange:()=>!ce&&B($.id),disabled:ce,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${q?s?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":s?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),i.jsxs("label",{htmlFor:`perm-${$.id}`,className:`ml-2 text-sm ${s?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"font-medium flex items-center",children:[$.name,q&&i.jsx("span",{className:`ml-2 text-xs ${s?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),i.jsx("div",{className:"text-gray-500 text-xs",children:$.description})]})]},$.id)})})})]},Y))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx(E.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${s?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:u,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${s?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:u?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Loe,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:i.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},zw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},g_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,x_e=({isOpen:t,onClose:e,onAssign:r,workOrder:n,users:a})=>{const[s,o]=y.useState(""),l=()=>{n&&s&&(r(n.id,s),e())};return!t||!n?null:i.jsx(g_e,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-gray-700",children:["Work Order ",i.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",i.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),i.jsxs("select",{id:"user-select",value:s,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[i.jsx("option",{value:"",children:"Select User"}),a.map(c=>{var u;return i.jsxs("option",{value:c.id,children:[c.name," - ",((u=c.department)==null?void 0:u.name)||c.department_name," (",c.position||"No Position",")"]},c.id)})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!s,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${s?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},y_e=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(1),[k]=y.useState(5),[S,A]=y.useState(window.innerWidth<768),[_,O]=y.useState(!1),[I,L]=y.useState(!1),[R,B]=y.useState([]),[D,M]=y.useState(!0),[H,G]=y.useState(null),[Y,W]=y.useState(!1),[$,q]=y.useState(null),[Z,ce]=y.useState(!1),[X,U]=y.useState([]),[J,ee]=y.useState(!1),ne=ar(),ue=Ui(),Ae=y.useRef(null),ke=y.useRef(null),{user:je,getWorkOrdersIT:Ce,updateWorkOrderIT:Be,getUsers:fe,hasPermission:ge,getVendor:ae}=ir(),ie=ue.pathname==="/workorders/it/assignment",ht=ue.pathname==="/workorders/it/reports",ut=ue.pathname==="/workorders/it/knowledgebase",Pe=ue.pathname==="/workorders/it",Ke=ue.pathname==="/workorders/it/receiver";ue.pathname;const yt=y.useCallback(async()=>{M(!0),G(null);try{const ve=(await Ce()).filter(Re=>{var st,De,Fe;return(((De=(st=Re.service)==null?void 0:st.owner)==null?void 0:De.id)||((Fe=Re.service)==null?void 0:Fe.service_owner))===Number(je==null?void 0:je.id)});B(ve)}catch(K){G(K.message||"Failed to load work orders.")}finally{M(!1)}},[Ce,je==null?void 0:je.id]),Qe=y.useCallback(async()=>{try{const K=await fe();U(K)}catch(K){console.error("Failed to fetch users:",K)}},[fe]),Tt=y.useCallback(async(K,ve)=>{W(!0),q(null),ce(!1);try{const Re=await Be({...ve,id:K});return B(Ue=>Ue.map(st=>st.id===K?Re:st)),ce(!0),setTimeout(()=>ce(!1),3e3),Re}catch(Re){throw q(Re.message||"Failed to update work order."),Re}finally{W(!1)}},[Be]),_t=()=>{A(window.innerWidth<768),window.innerWidth<768&&n(!1)},Se=K=>{Ae.current&&!Ae.current.contains(K.target)&&O(!1),ke.current&&!ke.current.contains(K.target)&&L(!1)};y.useEffect(()=>(window.addEventListener("resize",_t),document.addEventListener("mousedown",Se),yt(),Qe(),()=>{window.removeEventListener("resize",_t),document.removeEventListener("mousedown",Se)}),[yt,Qe]);const gt=K=>{switch(K){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},at=K=>{switch(K==null?void 0:K.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},Nt=K=>{switch(K){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},kt=K=>{switch(K==null?void 0:K.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Ee=y.useCallback(K=>{const ve=R.find(Re=>Re.id===K);ve&&(w(ve),m(!0))},[R]);y.useCallback(K=>{const ve=R.find(Re=>Re.id===K);ve&&(w(ve),p(!0))},[R]),y.useCallback(async K=>{try{await Tt(K.id,K),p(!1),w(null)}catch{}},[Tt]);const vt=()=>{n(K=>!K)},bt=R.filter(K=>{var Ue,st,De,Fe;const ve=((st=(Ue=K.requester)==null?void 0:Ue.name)==null?void 0:st.toLowerCase().includes(a.toLowerCase()))||((De=K.work_order_no)==null?void 0:De.toLowerCase().includes(a.toLowerCase()))||((Fe=K.complaint)==null?void 0:Fe.toLowerCase().includes(a.toLowerCase()))||String(K.id).includes(a),Re=o==="all"||K.handling_status===o;return ve&&Re}).sort((K,ve)=>{var Fe,ze;const Re=Nt(K.handling_status),Ue=Nt(ve.handling_status);if(Re!==Ue)return Re-Ue;const st=kt(((Fe=K.service)==null?void 0:Fe.priority)||"Medium"),De=kt(((ze=ve.service)==null?void 0:ze.priority)||"Medium");return st!==De?st-De:new Date(ve.created_at).getTime()-new Date(K.created_at).getTime()}),Je=b*k,Le=Je-k,et=bt.slice(Le,Je),lt=Math.ceil(bt.length/k),be=K=>N(K),me=y.useCallback(K=>{w(K),ee(!0)},[]),qe=y.useCallback(async(K,ve)=>{try{await Tt(K,{assigned_to_id:parseInt(ve),handling_status:"Assigned",handling_date:new Date().toISOString()}),ee(!1),w(null)}catch(Re){console.error("Failed to assign work order:",Re)}},[Tt]),ft=K=>{var ve;return K.vendor?`${K.vendor.name}`:((ve=K.assigned_to)==null?void 0:ve.name)||"Unassigned"},Ge=K=>K.vendor?"vendor":K.assigned_to?"user":"unassigned",we=({order:K,onClose:ve})=>{var Ut,it,jt,Wt,gr,fn,gn,nr,Ur,Kr,Zt,Ze;const Re=tt=>tt==null?"-":typeof tt=="object"&&tt!==null?tt.name||tt.title||tt.id||"-":typeof tt=="string"?tt.trim()!==""?tt.trim():"-":typeof tt=="number"?tt.toString():String(tt),Ue=tt=>tt?new Date(tt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",st=({status:tt})=>{const Mt={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Mt[tt]||Mt.New}`,children:tt})},De=({priority:tt})=>{const Mt={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Mt[tt]||Mt.Medium}`,children:tt||"Medium"})},Fe=({title:tt,children:Mt,icon:de})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[de&&i.jsx("div",{className:"mr-3 text-blue-600",children:de}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:tt})]})}),i.jsx("div",{className:"p-6",children:Mt})]}),ze=({label:tt,value:Mt,icon:de,fullWidth:Ye=!1,priority:wt="medium"})=>{const or={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Ye?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${or[wt]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[de&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:de}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:tt}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Mt})]})]})})})},Rt=({label:tt,htmlContent:Mt,icon:de,fullWidth:Ye=!1})=>{if(!Mt)return i.jsx(ze,{label:tt,value:"-",icon:de,fullWidth:Ye,priority:"low"});const wt=md.sanitize(Mt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${Ye?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[de&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:de}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:tt}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:wt}})]})]})})})},Ht=({order:tt})=>{const Mt=tt.handling_status==="New",de=tt.handling_status==="Assigned",Ye=Mt&&ge("assign_workorders");return i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Ye&&i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{ee(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(un,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),de&&i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ne(`/workorders/it/receiver/editreceiver/${tt.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(Si,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ve,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(zt,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",K.work_order_no||K.id]}),i.jsx(st,{status:K.handling_status}),i.jsx(De,{priority:(Ut=K.service)==null?void 0:Ut.priority})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Created: ",Ue(K.date)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),K.handling_date?`Handling: ${Ue(K.handling_date)}`:"Not yet handled"]})]})]})})}),i.jsx(Fe,{title:"Service Owner Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(ze,{label:"Service Owner",value:Re(((jt=(it=K.service)==null?void 0:it.owner)==null?void 0:jt.name)||(je==null?void 0:je.name)),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(ze,{label:"Service Department",value:Re((Wt=je==null?void 0:je.department)==null?void 0:Wt.name),icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Service Type",value:Re((gr=K.service_type)==null?void 0:gr.group_name),icon:i.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),i.jsx(ze,{label:"Service Name",value:Re((fn=K.service)==null?void 0:fn.service_name),icon:i.jsx(Cn,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(Fe,{title:"Request Information",icon:i.jsx(Cn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(ze,{label:"Requester",value:Re((gn=K.requester)==null?void 0:gn.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(ze,{label:"Requester Department",value:Re(K.department_name||((nr=K.department)==null?void 0:nr.name)),icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Reception Method",value:Re(K.reception_method),icon:i.jsx(go,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Known By",value:Re((Ur=K.known_by)==null?void 0:Ur.name),icon:i.jsx(Io,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Asset Number",value:Re(K.asset_no),icon:i.jsx(Cn,{className:"w-4 h-4"})})]})}),i.jsx(Fe,{title:"Technical Details",icon:i.jsx(ia,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(ze,{label:"Device Information",value:Re(K.device_info),icon:i.jsx($i,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Rt,{label:"Complaint Details",htmlContent:K.complaint||"",icon:i.jsx(Yr,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(Fe,{title:"Assignment & Handling",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[i.jsx(ze,{label:"Current Status",value:Re(K.handling_status),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(ze,{label:"Priority Level",value:Re(((Kr=K.service)==null?void 0:Kr.priority)||"Medium"),icon:i.jsx(Yr,{className:"w-4 h-4"}),priority:"high"})]}),i.jsx(ze,{label:"Assigned To",value:Re(((Zt=K.assigned_to)==null?void 0:Zt.name)||"Unassigned"),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Assignment Type",value:K.vendor?"Vendor":K.assigned_to?"Internal Technician":"Not Assigned",icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Handling Start Date",value:Ue(K.handling_date||"-"),icon:i.jsx(La,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Received By",value:Re(((Ze=K.received_by)==null?void 0:Ze.name)||"-"),icon:i.jsx(wr,{className:"w-4 h-4"})}),i.jsx(Rt,{label:"Action Taken",htmlContent:K.action_taken||"",icon:i.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Rt,{label:"Technical Remarks",htmlContent:K.remarks||"",icon:i.jsx(Cn,{className:"w-4 h-4"}),fullWidth:!0})]})}),K.vendor&&i.jsx(Fe,{title:"Vendor Assignment",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(ze,{label:"Vendor Name",value:Re(K.vendor.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(ze,{label:"Contact Person",value:Re(K.vendor.contact_person),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Email",value:Re(K.vendor.email),icon:i.jsx(Cx,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Phone",value:Re(K.vendor.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Mobile",value:Re(K.vendor.HP),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(ze,{label:"Address",value:Re(K.vendor.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(Fe,{title:"Timeline",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),i.jsx("span",{className:"text-sm text-green-600",children:Ue(K.date)})]}),K.handling_date&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),i.jsx("span",{className:"text-sm text-blue-600",children:Ue(K.handling_date)})]}),K.assigned_to&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),i.jsx("span",{className:"text-sm text-purple-600",children:Re(K.assigned_to.name)})]})]})}),K.attachment&&i.jsx(Fe,{title:"Attachment",icon:i.jsx(bc,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),i.jsxs("a",{href:K.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[i.jsx(UE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),i.jsx(Ht,{order:K})]})};return y.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]),D?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):H?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Yr,{className:"text-red-600 text-5xl"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-lg text-red-800",children:H}),i.jsx("button",{onClick:yt,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:S,toggleSidebar:vt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ke?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ht?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ut?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),$&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:$}),i.jsx("button",{onClick:()=>q(null),className:"absolute top-0 right-0 p-3",children:i.jsx(zt,{size:16})})]}),Z&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),i.jsx("button",{onClick:()=>ce(!1),className:"absolute top-0 right-0 p-3",children:i.jsx(zt,{size:16})})]}),i.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(zw,{title:"Total IT Assignments",value:bt.length.toString(),change:"+8%",icon:i.jsx(Cn,{})}),i.jsx(zw,{title:"In Progress",value:bt.filter(K=>["In Progress","Escalated","Vendor Handled"].includes(K.handling_status)).length.toString(),change:"-1",icon:i.jsx(ia,{})}),i.jsx(zw,{title:"Resolved",value:bt.filter(K=>["Resolved","Done"].includes(K.handling_status)).length.toString(),change:"+1",icon:i.jsx(wr,{})}),i.jsx(zw,{title:"Assigned",value:bt.filter(K=>K.handling_status==="Assigned").length.toString(),change:"+3",icon:i.jsx(kr,{})})]}),i.jsx(E.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:K=>s(K.target.value)})]}),i.jsx(sr,{children:c&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:K=>l(K.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Done",children:"Done"}),i.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:et.length>0?et.map(K=>{var Fe,ze,Rt,Ht;const Re=!(K.handling_status==="Resolved"||K.handling_status==="Done"||K.handling_status==="Cancel"||K.handling_status==="Closed")&&ge("edit_workorders"),Ue=K.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(K.handling_status);const st=ft(K),De=Ge(K);return i.jsxs(E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Ee(K.id),title:"Click to view details",children:K.work_order_no||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:K.requester.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(K.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:K.handling_date?new Date(K.handling_date).toLocaleDateString():"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${at((Fe=K.service)==null?void 0:Fe.priority)} shadow-sm`,children:((ze=K.service)==null?void 0:ze.priority)||"Medium"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${gt(K.handling_status)} shadow-sm`,children:K.handling_status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ue?i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>me(K),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`text-sm font-medium ${De==="vendor"?"text-purple-600":De==="user"?"text-blue-600":"text-gray-500"}`,children:st}),De==="vendor"&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ee(K.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:i.jsx(Io,{className:"text-lg"})}),Re&&(K.handling_status!=="In Progress"||!((Rt=K.assigned_to)!=null&&Rt.name)||((Ht=K.assigned_to)==null?void 0:Ht.name)==="N/A")&&i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(`/workorders/it/receiver/editreceiver/${K.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:i.jsx(Si,{className:"text-lg"})})]})]},K.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),bt.length>k&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Le+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(Je,bt.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:bt.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(b-1),disabled:b===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:lt},(K,ve)=>i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(ve+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${b===ve+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ve+1},ve+1)),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(b+1),disabled:b===lt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",v.work_order_no||v.id]}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),w(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(we,{order:v,onClose:()=>{m(!1),w(null)}})})]})})}),v&&i.jsx(x_e,{isOpen:J,onClose:()=>{ee(!1),w(null)},onAssign:qe,workOrder:v,users:X})]})},QF=({content:t,className:e=""})=>{if(!t)return i.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=md.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},b_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,v_e=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(1),[b]=y.useState(5),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(!1),[_,O]=y.useState(!1),[I,L]=y.useState(!0),[R,B]=y.useState(null),{user:D,hasPermission:M,getWorkOrdersIT:H}=ir(),G=ar(),Y=Ui(),W=y.useRef(null),$=y.useRef(null);Y.pathname,Y.pathname;const q=Y.pathname==="/workorders/it";Y.pathname;const Z=Y.pathname==="/workorders/it/assignment",ce=Y.pathname==="/workorders/it/receiver",X=Y.pathname==="/workorders/it/reports",U=Y.pathname==="/workorders/it/knowledgebase",[J,ee]=y.useState([]),ne=y.useCallback(async()=>{try{L(!0),B(null);const ht=(await H()).filter(ut=>ut.action_taken&&ut.handling_status==="Closed").map(ut=>{var yt,Qe,Tt;const Pe=ut.complaint.split(" ").slice(0,5).join(" "),Ke=`Solution for: ${Pe}${Pe.length<ut.complaint.length?"...":""}`;return{id:ut.id,title:Ke,content:ut.action_taken||"No action taken details available.",category:((yt=ut.service)==null?void 0:yt.service_name)||"General",tags:[((Qe=ut.service_type)==null?void 0:Qe.group_name)||"General",ut.handling_status||"Completed",...ut.asset_no?[`Asset: ${ut.asset_no}`]:[]],lastUpdated:ut.handling_date||ut.updated_at||ut.created_at,workOrderNo:ut.work_order_no,technician:((Tt=ut.assigned_to)==null?void 0:Tt.name)||"Unknown Technician",completionDate:ut.handling_date||ut.updated_at}});ee(ht)}catch(ie){B("Failed to load knowledge base articles"),console.error("Error loading work orders:",ie)}finally{L(!1)}},[H]);y.useEffect(()=>{const ie=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),y.useEffect(()=>{const ie=ht=>{W.current&&!W.current.contains(ht.target)&&A(!1),$.current&&!$.current.contains(ht.target)&&O(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),y.useEffect(()=>{ne()},[ne]),y.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[a,o,r,t]);const ue=()=>{n(ie=>!ie)},Ae=y.useCallback(ie=>{p(ie),u(!0)},[]),ke=J.filter(ie=>{const ht=ie.title.toLowerCase().includes(a.toLowerCase())||ie.content.toLowerCase().includes(a.toLowerCase())||ie.tags.some(Pe=>Pe.toLowerCase().includes(a.toLowerCase())),ut=o==="all"||ie.category===o;return ht&&ut}),je=Array.from(new Set(J.map(ie=>ie.category))),Ce=v*b,Be=Ce-b,fe=ke.slice(Be,Ce),ge=Math.ceil(ke.length/b),ae=ie=>w(ie);return D?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(of,{}),isMobile:N,toggleSidebar:ue}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${U?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),i.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"relative w-full md:w-2/3",children:[i.jsx(_i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:a,onChange:ie=>s(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{className:"relative w-full md:w-1/3",children:[i.jsxs("select",{value:o,onChange:ie=>l(ie.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Categories"}),je.map(ie=>i.jsx("option",{value:ie,children:ie},ie))]}),i.jsx(ja,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),i.jsxs("div",{className:"text-sm text-gray-500",children:[ke.length," articles found"]})]}),I?i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):R?i.jsxs("div",{className:"text-center py-10 text-red-500",children:[i.jsx(Qi,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),i.jsx("p",{className:"text-lg font-medium",children:R}),i.jsx("button",{onClick:ne,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):fe.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx(Qi,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsx(sr,{children:fe.map(ie=>i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>Ae(ie),children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:ie.title}),i.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:i.jsx(QF,{content:ie.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:ie.category}),ie.tags.map(ht=>i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:ht},ht))]}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Uh,{size:12,className:"mr-1"}),ie.workOrderNo]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(rI,{size:12,className:"mr-1"}),ie.technician]})]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(La,{size:12,className:"mr-1"}),new Date(ie.lastUpdated).toLocaleDateString()]})]})]},ie.id))})}),ke.length>b&&i.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[i.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx(E.button,{onClick:()=>ae(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),i.jsx(E.button,{onClick:()=>ae(v+1),disabled:v===ge,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",i.jsx("span",{className:"font-medium",children:Be+1})," to ",i.jsx("span",{className:"font-medium",children:Math.min(Ce,ke.length)})," of"," ",i.jsx("span",{className:"font-medium",children:ke.length})," results"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[i.jsxs(E.button,{onClick:()=>ae(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{className:"sr-only",children:"Previous"}),i.jsx(If,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ge)].map((ie,ht)=>i.jsx(E.button,{onClick:()=>ae(ht+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===ht+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:ht+1},ht)),i.jsxs(E.button,{onClick:()=>ae(v+1),disabled:v===ge,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{className:"sr-only",children:"Next"}),i.jsx(Na,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),g&&i.jsx(b_e,{isOpen:c,onClose:()=>u(!1),title:g.title,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uh,{size:16,className:"mr-2 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Work Order:"}),i.jsx("span",{className:"ml-2",children:g.workOrderNo})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(rI,{size:16,className:"mr-2 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Technician:"}),i.jsx("span",{className:"ml-2",children:g.technician})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(La,{size:16,className:"mr-2 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"Completed:"}),i.jsx("span",{className:"ml-2",children:new Date(g.completionDate).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(of,{size:16,className:"mr-2 text-orange-600"}),i.jsx("span",{className:"font-medium",children:"Category:"}),i.jsx("span",{className:"ml-2",children:g.category})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),i.jsx(QF,{content:g.content})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map(ie=>i.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:ie},ie))})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(g.lastUpdated).toLocaleDateString()," at ",new Date(g.lastUpdated).toLocaleTimeString()]})]})})]}):i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var w_e=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],ZF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),s=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return s===a||o===a},j_={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,a){return!(!e||r.some(function(s){return ZF(e,s,a)})||n.some(function(s){return ZF(e,s,a)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function j_e(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,a=n===void 0?"last":n,s=t.formatCreateLabel,o=s===void 0?j_.formatCreateLabel:s,l=t.isValidNewOption,c=l===void 0?j_.isValidNewOption:l,u=t.getNewOptionData,f=u===void 0?j_.getNewOptionData:u,m=t.onCreateOption,g=t.options,p=g===void 0?[]:g,v=t.onChange,w=pd(t,w_e),b=w.getOptionValue,N=b===void 0?lJ:b,k=w.getOptionLabel,S=k===void 0?oJ:k,A=w.inputValue,_=w.isLoading,O=w.isMulti,I=w.value,L=w.name,R=y.useMemo(function(){return c(A,jj(I),p,{getOptionValue:N,getOptionLabel:S})?f(A,o(A)):void 0},[o,f,S,N,A,c,p,I]),B=y.useMemo(function(){return(r||!_)&&R?a==="first"?[R].concat(yg(p)):[].concat(yg(p),[R]):p},[r,a,_,R,p]),D=y.useCallback(function(M,H){if(H.action!=="select-option")return v(M,H);var G=Array.isArray(M)?M:[M];if(G[G.length-1]===R){if(m)m(A);else{var Y=f(A,A),W={action:"create-option",name:L,option:Y};v(tb(O,[].concat(yg(jj(I)),[Y]),Y),W)}return}v(M,H)},[f,A,O,L,R,m,v,I]);return Rr(Rr({},w),{},{options:B,onChange:D})}var N_e=y.forwardRef(function(t,e){var r=PX(t),n=j_e(r);return y.createElement(dD,qr({ref:e},n))}),XZ=N_e;const S_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,k_e=()=>{var me,qe,ft,Ge,we;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s}=ir(),o=ar(),[l,c]=y.useState([]),[u,f]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState([]),[w,b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const K=localStorage.getItem("sidebarOpen");return K?JSON.parse(K):!1}),[S,A]=y.useState(!1),[_,O]=y.useState(!1),[I,L]=y.useState(!1),[R,B]=y.useState(!1),[D,M]=y.useState(null),[H,G]=y.useState(null),[Y,W]=y.useState(!1),[$,q]=y.useState(null),Z=y.useRef(null),ce=y.useRef(null),[X,U]=y.useState([]),[J,ee]=y.useState([]),[ne,ue]=y.useState([]),[Ae,ke]=y.useState(!1),[je,Ce]=y.useState(!1),[Be,fe]=y.useState(null),ge=y.useRef(null),ae=y.useRef(null),ie=()=>{Ce(!0)},ht=()=>{const K=document.createElement("input");K.type="file",K.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",K.onchange=ve=>{const Re=ve.target;if(Re.files&&Re.files.length>0){const Ue=Re.files[0];q(Ue),Tt(st=>({...st,attachment:Ue.name})),Ce(!1)}},K.click()},ut=async()=>{try{const K=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});fe(K),ge.current&&(ge.current.srcObject=K)}catch(K){console.error("Error accessing camera:",K),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},Pe=()=>{if(ge.current&&ae.current){const K=ae.current,ve=K.getContext("2d");if(ve){K.width=ge.current.videoWidth,K.height=ge.current.videoHeight,ve.drawImage(ge.current,0,0);const Re=K.toDataURL("image/jpeg",.8);Tt(Ue=>({...Ue,attachment:Re})),Be&&(Be.getTracks().forEach(Ue=>Ue.stop()),fe(null)),Ce(!1)}}},Ke=()=>{Be&&(Be.getTracks().forEach(K=>K.stop()),fe(null)),Ce(!1)},yt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((me=e==null?void 0:e.department)==null?void 0:me.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null},[Qe,Tt]=y.useState(yt),_t=Qe.reception_method==="Electronic Work Order System";y.useEffect(()=>{e&&(async()=>{try{const Re=(await s(0)).map(De=>({id:Number(De.id),name:De.group_name??"",description:De.group_description??void 0}));ee(Re);const Ue=await a();f(Ue);const st=await r();if(c(st),e&&e.id){const Fe=await n(parseInt(e.id));g(Fe),console.log("Services loaded:",Fe)}}catch(ve){console.error("Failed to fetch master data:",ve)}})()},[e,r,n,a,s]),y.useEffect(()=>{if(Qe.reception_method==="Electronic Work Order System"&&e&&u.length>0){const K=u.find(Re=>Re.id===e.department_id),ve=(K==null?void 0:K.head_id)||null;Tt(Re=>({...Re,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:ve}))}},[Qe.reception_method,e,u]),y.useEffect(()=>{const K=()=>{b(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),y.useEffect(()=>{const K=ve=>{Z.current&&!Z.current.contains(ve.target)&&O(!1),ce.current&&!ce.current.contains(ve.target)&&L(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),y.useEffect(()=>{if(Qe.service_type_id&&m.length>0){const K=m.filter(ve=>String(ve.id)===Qe.service_type_id);U(K)}else U([])},[Qe.service_type_id,m]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const Se=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(K=>!K)},gt=y.useCallback((K,ve)=>{let Re,Ue;if(K&&"target"in K)Re=K.target.name,Ue=K.target.value;else if(K&&typeof K=="object"&&"value"in K&&ve)Re=ve,Ue=K.value;else if(K===null&&ve)Re=ve,Ue=null;else return;Tt(st=>({...st,[Re]:Ue}))},[]),at=K=>{const ve=(K==null?void 0:K.value)||"";Tt(Re=>{var st,De;const Ue={...Re,reception_method:ve};return ve==="Electronic Work Order System"&&e?{...Ue,requester_id:parseInt(e.id),department_id:((st=e.department)==null?void 0:st.id)||0,known_by_id:((De=e.department)==null?void 0:De.head_id)||null}:Ue})},Nt=K=>{Tt(ve=>({...ve,asset_no:K?K.value:""}))};y.useCallback(K=>{const ve=("nativeEvent"in K,K.target.files);ve&&ve.length>0?(q(ve[0]),Tt(Re=>({...Re,attachment:ve[0].name}))):(q(null),Tt(Re=>({...Re,attachment:null})))},[]);const kt=y.useCallback(()=>{q(null),Tt(K=>({...K,attachment:null}))},[]),Ee=async K=>{K.preventDefault(),B(!0),M(null);const ve={...Qe,date:Qe.date,reception_method:Qe.reception_method,requester_id:Qe.requester_id,known_by_id:Qe.known_by_id,department_id:Qe.department_id,service_group_id:Number(Qe.service_type_id),service_catalogue_id:Number(Qe.service_id),asset_no:Qe.asset_no,device_info:Qe.device_info,complaint:Qe.complaint,attachment:Qe.attachment};try{await t(ve),W(!0)}catch(Re){M(Re.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",Re)}finally{B(!1)}},vt=K=>{Tt(ve=>({...ve,service_type_id:K?K.value:"",service_id:""}))},bt=K=>{Tt(ve=>({...ve,service_id:K?K.value:""}))},Je=y.useCallback(()=>{W(!1),o("/workorders/it")},[o]),Le={control:(K,ve)=>({...K,minHeight:"42px",borderColor:ve.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ve.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:K=>({...K,padding:"0"}),singleValue:K=>({...K,color:"#374151"}),placeholder:K=>({...K,color:"#6B7280"}),dropdownIndicator:K=>({...K,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:K=>({...K,display:"none"}),menu:K=>({...K,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(K,ve)=>({...K,backgroundColor:ve.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},et=y.useCallback(K=>{if(!K)return;const ve=parseInt(K.value),Re=l.find(Ue=>parseInt(Ue.id)===ve);if(Re){const Ue=u.find(st=>st.id===Re.department_id);Tt(st=>({...st,requester_id:ve,department_id:Re.department_id||0,known_by_id:(Ue==null?void 0:Ue.head_id)||null}))}},[l,u]),lt=()=>{if(_t){const ve=u.find(Re=>Re.id===(e==null?void 0:e.department_id));return(ve==null?void 0:ve.name)||"No department assigned"}const K=u.find(ve=>ve.id===Qe.department_id);return(K==null?void 0:K.name)||"No department assigned"},be=()=>{if(_t){const ve=u.find(Re=>Re.id===(e==null?void 0:e.department_id));if(ve&&ve.head_id){const Re=l.find(Ue=>parseInt(Ue.id)===ve.head_id);return(Re==null?void 0:Re.name)||"No department head assigned"}return"No department head assigned"}const K=u.find(ve=>ve.id===Qe.department_id);if(K&&K.head_id){const ve=l.find(Re=>parseInt(Re.id)===K.head_id);return(ve==null?void 0:ve.name)||"No department head assigned"}return"No department head assigned"};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:w,toggleSidebar:Se}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),i.jsxs(E.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(If,{className:"text-lg"})," Back to Work Orders"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[D&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:D}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>M(null)})})]}),i.jsxs("form",{onSubmit:Ee,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"date",name:"date",value:Qe.date,onChange:gt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:Qe.reception_method,label:Qe.reception_method},onChange:at,placeholder:"Select Reception Method",styles:Le,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",i.jsx("span",{className:"text-red-500",children:"*"})]}),_t?i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):i.jsx(Wn,{id:"requester_id",name:"requester_id",options:l.map(K=>({value:String(K.id),label:K.name})),value:l.find(K=>parseInt(K.id)===Qe.requester_id)?{value:String(Qe.requester_id),label:((qe=l.find(K=>parseInt(K.id)===Qe.requester_id))==null?void 0:qe.name)||""}:null,onChange:et,placeholder:"Select Requester",styles:Le,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:lt()})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:be()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_type_id",name:"service_type_id",options:J.map(K=>({value:String(K.id),label:K.name})),value:Qe.service_type_id?{value:Qe.service_type_id,label:((ft=J.find(K=>String(K.id)===Qe.service_type_id))==null?void 0:ft.name)||""}:null,onChange:vt,placeholder:"Select Service Type",styles:Le,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_id",name:"service_id",options:X.map(K=>({value:String(K.id),label:K.service_name})),value:Qe.service_id?{value:Qe.service_id,label:((Ge=X.find(K=>String(K.id)===Qe.service_id))==null?void 0:Ge.service_name)||""}:null,onChange:bt,placeholder:"Select Service",styles:Le}),X.length===0&&Qe.service_type_id&&i.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(XZ,{name:"asset_no",id:"asset_no",options:p,value:Qe.asset_no?{value:Qe.asset_no,label:Qe.asset_no}:null,onChange:Nt,onCreateOption:K=>{const ve={value:K,label:K};v(Re=>[...Re,ve]),Nt(ve)},placeholder:"Type or select Asset No.",styles:Le,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"device_info",name:"device_info",value:Qe.device_info,onChange:gt,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:Qe.complaint,onChange:K=>{Tt(ve=>({...ve,complaint:K}))}})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),i.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",onClick:ie,children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(bc,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:i.jsx("span",{children:"Klik untuk memilih attachment"})}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),i.jsx(sr,{children:je&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Attachment"}),i.jsx("button",{onClick:Ke,className:"text-gray-500 hover:text-gray-700",children:i.jsx(zt,{size:24})})]}),Be?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[i.jsx("video",{ref:ge,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),i.jsx("canvas",{ref:ae,className:"hidden"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Pe,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium",children:"Ambil Foto"}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium",children:"Batal"})]})]}):i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ht,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[i.jsx(yhe,{className:"h-8 w-8 text-gray-400 mr-3"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Pilih File"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Dari perangkat Anda"})]})]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ut,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[i.jsx(Vfe,{className:"h-8 w-8 text-gray-400 mr-3"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Ambil Foto"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Gunakan kamera"})]})]})]})]})})}),$&&i.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:i.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[i.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[i.jsx(bc,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),i.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:$.name})]}),i.jsx("div",{className:"ml-4 flex-shrink-0",children:i.jsx(E.button,{type:"button",onClick:kt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},$.name)})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:()=>{Tt(yt),q(null),M(null),G(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Ma,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:R,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:R?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),i.jsx(S_e,{isOpen:Y,onClose:Je,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(we=H==null?void 0:H.work_order)==null?void 0:we.work_order_no]}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Je,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},C_e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/it"),children:[i.jsx(uhe,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/td"),children:[i.jsx(The,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})},__e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(yc,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workarea"),children:[i.jsx(yc,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/department"),children:[i.jsx(Sp,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workunit"),children:[i.jsx(pg,{size:64,className:"text-purple-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),i.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})},A_e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(zi,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workgroup"),children:[i.jsx(zi,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workshift"),children:[i.jsx(kr,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})},T_e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(ia,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/generalsettings"),children:[i.jsx($i,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/spareparttype"),children:[i.jsx(HK,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartgroup"),children:[i.jsx(DK,{size:64,className:"text-purple-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),i.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartmaintenance"),children:[i.jsx(Pl,{size:64,className:"text-orange-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),i.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})},M_e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:i.jsx(Qa,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsgroup"),children:[i.jsx(DK,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsdata"),children:[i.jsx(kN,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})},O_e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(IK,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicegroups"),children:[i.jsx(zi,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicecatalogues"),children:[i.jsx(of,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})},E_e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Pl,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activitytypes"),children:[i.jsx(NM,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activity"),children:[i.jsx(hc,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/stoptimes"),children:[i.jsx(kr,{size:64,className:"text-purple-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),i.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",i.jsx(Na,{size:18,className:"ml-1"})]})]}),i.jsxs(E.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/troubleitem"),children:[i.jsx(Yr,{size:64,className:"text-orange-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),i.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",i.jsx(Na,{size:18,className:"ml-1"})]})]})]})]})]})]})};var N_,e$;function dl(){if(e$)return N_;e$=1;var t=Array.isArray;return N_=t,N_}var S_,t$;function JZ(){if(t$)return S_;t$=1;var t=typeof lw=="object"&&lw&&lw.Object===Object&&lw;return S_=t,S_}var k_,r$;function gd(){if(r$)return k_;r$=1;var t=JZ(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return k_=r,k_}var C_,n$;function o1(){if(n$)return C_;n$=1;var t=gd(),e=t.Symbol;return C_=e,C_}var __,a$;function D_e(){if(a$)return __;a$=1;var t=o1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(l?o[a]=c:delete o[a]),f}return __=s,__}var A_,i$;function P_e(){if(i$)return A_;i$=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return A_=r,A_}var T_,s$;function Hf(){if(s$)return T_;s$=1;var t=o1(),e=D_e(),r=P_e(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?e(l):r(l)}return T_=o,T_}var M_,o$;function zf(){if(o$)return M_;o$=1;function t(e){return e!=null&&typeof e=="object"}return M_=t,M_}var O_,l$;function Ox(){if(l$)return O_;l$=1;var t=Hf(),e=zf(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return O_=n,O_}var E_,c$;function KD(){if(c$)return E_;c$=1;var t=dl(),e=Ox(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return E_=a,E_}var D_,u$;function fm(){if(u$)return D_;u$=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return D_=t,D_}var P_,d$;function XD(){if(d$)return P_;d$=1;var t=Hf(),e=fm(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==s}return P_=o,P_}var L_,f$;function L_e(){if(f$)return L_;f$=1;var t=gd(),e=t["__core-js_shared__"];return L_=e,L_}var R_,h$;function R_e(){if(h$)return R_;h$=1;var t=L_e(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return R_=r,R_}var I_,m$;function QZ(){if(m$)return I_;m$=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return I_=r,I_}var F_,p$;function I_e(){if(p$)return F_;p$=1;var t=XD(),e=R_e(),r=fm(),n=QZ(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var p=t(g)?f:s;return p.test(n(g))}return F_=m,F_}var $_,g$;function F_e(){if(g$)return $_;g$=1;function t(e,r){return e==null?void 0:e[r]}return $_=t,$_}var B_,x$;function Up(){if(x$)return B_;x$=1;var t=I_e(),e=F_e();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return B_=r,B_}var H_,y$;function tS(){if(y$)return H_;y$=1;var t=Up(),e=t(Object,"create");return H_=e,H_}var z_,b$;function $_e(){if(b$)return z_;b$=1;var t=tS();function e(){this.__data__=t?t(null):{},this.size=0}return z_=e,z_}var q_,v$;function B_e(){if(v$)return q_;v$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return q_=t,q_}var U_,w$;function H_e(){if(w$)return U_;w$=1;var t=tS(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return U_=a,U_}var W_,j$;function z_e(){if(j$)return W_;j$=1;var t=tS(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return W_=n,W_}var V_,N$;function q_e(){if(N$)return V_;N$=1;var t=tS(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return V_=r,V_}var G_,S$;function U_e(){if(S$)return G_;S$=1;var t=$_e(),e=B_e(),r=H_e(),n=z_e(),a=q_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,G_=s,G_}var Y_,k$;function W_e(){if(k$)return Y_;k$=1;function t(){this.__data__=[],this.size=0}return Y_=t,Y_}var K_,C$;function JD(){if(C$)return K_;C$=1;function t(e,r){return e===r||e!==e&&r!==r}return K_=t,K_}var X_,_$;function rS(){if(_$)return X_;_$=1;var t=JD();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return X_=e,X_}var J_,A$;function V_e(){if(A$)return J_;A$=1;var t=rS(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,o=t(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return J_=n,J_}var Q_,T$;function G_e(){if(T$)return Q_;T$=1;var t=rS();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Q_=e,Q_}var Z_,M$;function Y_e(){if(M$)return Z_;M$=1;var t=rS();function e(r){return t(this.__data__,r)>-1}return Z_=e,Z_}var eA,O$;function K_e(){if(O$)return eA;O$=1;var t=rS();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return eA=e,eA}var tA,E$;function nS(){if(E$)return tA;E$=1;var t=W_e(),e=V_e(),r=G_e(),n=Y_e(),a=K_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,tA=s,tA}var rA,D$;function QD(){if(D$)return rA;D$=1;var t=Up(),e=gd(),r=t(e,"Map");return rA=r,rA}var nA,P$;function X_e(){if(P$)return nA;P$=1;var t=U_e(),e=nS(),r=QD();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return nA=n,nA}var aA,L$;function J_e(){if(L$)return aA;L$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return aA=t,aA}var iA,R$;function aS(){if(R$)return iA;R$=1;var t=J_e();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return iA=e,iA}var sA,I$;function Q_e(){if(I$)return sA;I$=1;var t=aS();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return sA=e,sA}var oA,F$;function Z_e(){if(F$)return oA;F$=1;var t=aS();function e(r){return t(this,r).get(r)}return oA=e,oA}var lA,$$;function eAe(){if($$)return lA;$$=1;var t=aS();function e(r){return t(this,r).has(r)}return lA=e,lA}var cA,B$;function tAe(){if(B$)return cA;B$=1;var t=aS();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return cA=e,cA}var uA,H$;function ZD(){if(H$)return uA;H$=1;var t=X_e(),e=Q_e(),r=Z_e(),n=eAe(),a=tAe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,uA=s,uA}var dA,z$;function ZZ(){if(z$)return dA;z$=1;var t=ZD(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,dA=r,dA}var fA,q$;function rAe(){if(q$)return fA;q$=1;var t=ZZ(),e=500;function r(n){var a=t(n,function(o){return s.size===e&&s.clear(),o}),s=a.cache;return a}return fA=r,fA}var hA,U$;function nAe(){if(U$)return hA;U$=1;var t=rAe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return hA=n,hA}var mA,W$;function eP(){if(W$)return mA;W$=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return mA=t,mA}var pA,V$;function aAe(){if(V$)return pA;V$=1;var t=o1(),e=eP(),r=dl(),n=Ox(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return pA=o,pA}var gA,G$;function eee(){if(G$)return gA;G$=1;var t=aAe();function e(r){return r==null?"":t(r)}return gA=e,gA}var xA,Y$;function tee(){if(Y$)return xA;Y$=1;var t=dl(),e=KD(),r=nAe(),n=eee();function a(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return xA=a,xA}var yA,K$;function iS(){if(K$)return yA;K$=1;var t=Ox();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return yA=e,yA}var bA,X$;function tP(){if(X$)return bA;X$=1;var t=tee(),e=iS();function r(n,a){a=t(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[e(a[s++])];return s&&s==o?n:void 0}return bA=r,bA}var vA,J$;function ree(){if(J$)return vA;J$=1;var t=tP();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return vA=e,vA}var iAe=ree();const El=Kn(iAe);var wA,Q$;function sAe(){if(Q$)return wA;Q$=1;function t(e){return e==null}return wA=t,wA}var oAe=sAe();const nn=Kn(oAe);var jA,Z$;function lAe(){if(Z$)return jA;Z$=1;var t=Hf(),e=dl(),r=zf(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return jA=a,jA}var cAe=lAe();const Ep=Kn(cAe);var uAe=XD();const Gr=Kn(uAe);var dAe=fm();const Ex=Kn(dAe);var NA={exports:{}},na={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eB;function fAe(){if(eB)return na;eB=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case t:switch(b=b.type,b){case r:case a:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case g:case m:case s:return b;default:return N}}case e:return N}}}return na.ContextConsumer=o,na.ContextProvider=s,na.Element=t,na.ForwardRef=c,na.Fragment=r,na.Lazy=g,na.Memo=m,na.Portal=e,na.Profiler=a,na.StrictMode=n,na.Suspense=u,na.SuspenseList=f,na.isAsyncMode=function(){return!1},na.isConcurrentMode=function(){return!1},na.isContextConsumer=function(b){return w(b)===o},na.isContextProvider=function(b){return w(b)===s},na.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},na.isForwardRef=function(b){return w(b)===c},na.isFragment=function(b){return w(b)===r},na.isLazy=function(b){return w(b)===g},na.isMemo=function(b){return w(b)===m},na.isPortal=function(b){return w(b)===e},na.isProfiler=function(b){return w(b)===a},na.isStrictMode=function(b){return w(b)===n},na.isSuspense=function(b){return w(b)===u},na.isSuspenseList=function(b){return w(b)===f},na.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===u||b===f||b===p||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===m||b.$$typeof===s||b.$$typeof===o||b.$$typeof===c||b.$$typeof===v||b.getModuleId!==void 0)},na.typeOf=w,na}var tB;function hAe(){return tB||(tB=1,NA.exports=fAe()),NA.exports}var mAe=hAe(),SA,rB;function nee(){if(rB)return SA;rB=1;var t=Hf(),e=zf(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return SA=n,SA}var kA,nB;function pAe(){if(nB)return kA;nB=1;var t=nee();function e(r){return t(r)&&r!=+r}return kA=e,kA}var gAe=pAe();const Dx=Kn(gAe);var xAe=nee();const yAe=Kn(xAe);var Po=function(e){return e===0?0:e>0?1:-1},ip=function(e){return Ep(e)&&e.indexOf("%")===e.length-1},Jt=function(e){return yAe(e)&&!Dx(e)},bAe=function(e){return nn(e)},ws=function(e){return Jt(e)||Ep(e)},vAe=0,Wp=function(e){var r=++vAe;return"".concat(e||"").concat(r)},Lo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Jt(e)&&!Ep(e))return n;var s;if(ip(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Dx(s)&&(s=n),a&&s>r&&(s=r),s},Ih=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},wAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},vs=function(e,r){return Jt(e)&&Jt(r)?function(n){return e+n*(r-e)}:function(){return r}};function h5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):El(n,e))===r})}var jAe=function(e,r){return Jt(e)&&Jt(r)?e-r:Ep(e)&&Ep(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function jg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function bO(t){"@babel/helpers - typeof";return bO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bO(t)}var NAe=["viewBox","children"],SAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aB=["points","pathLength"],CA={svg:NAe,polygon:aB,polyline:aB},rP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],m5=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),!Ex(n))return null;var a={};return Object.keys(n).forEach(function(s){rP.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},kAe=function(e,r,n){return function(a){return e(r,n,a),null}},Dp=function(e,r,n){if(!Ex(e)||bO(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var o=e[s];rP.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=kAe(o,r,n))}),a},CAe=["children"],_Ae=["children"];function iB(t,e){if(t==null)return{};var r=AAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vO(t){"@babel/helpers - typeof";return vO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vO(t)}var sB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oB=null,_A=null,nP=function t(e){if(e===oB&&Array.isArray(_A))return _A;var r=[];return y.Children.forEach(e,function(n){nn(n)||(mAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),_A=r,oB=e,r};function Dl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Nf(a)}):n=[Nf(e)],nP(t).forEach(function(a){var s=El(a,"type.displayName")||El(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Sl(t,e){var r=Dl(t,e);return r&&r[0]}var lB=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Jt(n)||n<=0||!Jt(a)||a<=0)},TAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MAe=function(e){return e&&e.type&&Ep(e.type)&&TAe.indexOf(e.type)>=0},aee=function(e){return e&&vO(e)==="object"&&"clipDot"in e},OAe=function(e,r,n,a){var s,o=(s=CA==null?void 0:CA[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Gr(e)&&(a&&o.includes(r)||SAe.includes(r))||n&&rP.includes(r)},Tr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),!Ex(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;OAe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},wO=function t(e,r){if(e===r)return!0;var n=y.Children.count(e);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cB(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!cB(s,o))return!1}return!0},cB=function(e,r){if(nn(e)&&nn(r))return!0;if(!nn(e)&&!nn(r)){var n=e.props||{},a=n.children,s=iB(n,CAe),o=r.props||{},l=o.children,c=iB(o,_Ae);return a&&l?jg(s,c)&&wO(a,l):!a&&!l?jg(s,c):!1}return!1},uB=function(e,r){var n=[],a={};return nP(e).forEach(function(s,o){if(MAe(s))n.push(s);else if(s){var l=Nf(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var m=u(s,l,o);n.push(m),a[l]=!0}}}),n},EAe=function(e){var r=e&&e.type;return r&&sB[r]?sB[r]:null},DAe=function(e,r){return nP(r).indexOf(e)},PAe=["children","width","height","viewBox","className","style","title","desc"];function jO(){return jO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jO.apply(this,arguments)}function LAe(t,e){if(t==null)return{};var r=RAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NO(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=LAe(t,PAe),f=a||{width:r,height:n,x:0,y:0},m=Cr("recharts-surface",s);return he.createElement("svg",jO({},Tr(u,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),he.createElement("title",null,l),he.createElement("desc",null,c),e)}var IAe=["children","className"];function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SO.apply(this,arguments)}function FAe(t,e){if(t==null)return{};var r=$Ae(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _n=he.forwardRef(function(t,e){var r=t.children,n=t.className,a=FAe(t,IAe),s=Cr("recharts-layer",n);return he.createElement("g",SO({className:s},Tr(a,!0),{ref:e}),r)}),ou=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},AA,dB;function BAe(){if(dB)return AA;dB=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=e[a+r];return o}return AA=t,AA}var TA,fB;function HAe(){if(fB)return TA;fB=1;var t=BAe();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return TA=e,TA}var MA,hB;function iee(){if(hB)return MA;hB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+s+"]");function c(u){return l.test(u)}return MA=c,MA}var OA,mB;function zAe(){if(mB)return OA;mB=1;function t(e){return e.split("")}return OA=t,OA}var EA,pB;function qAe(){if(pB)return EA;pB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=u+"?",w="["+s+"]?",b="(?:"+p+"(?:"+[f,m,g].join("|")+")"+w+v+")*",N=w+v+b,k="(?:"+[f+l+"?",l,m,g,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+k+N,"g");function A(_){return _.match(S)||[]}return EA=A,EA}var DA,gB;function UAe(){if(gB)return DA;gB=1;var t=zAe(),e=iee(),r=qAe();function n(a){return e(a)?r(a):t(a)}return DA=n,DA}var PA,xB;function WAe(){if(xB)return PA;xB=1;var t=HAe(),e=iee(),r=UAe(),n=eee();function a(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return PA=a,PA}var LA,yB;function VAe(){if(yB)return LA;yB=1;var t=WAe(),e=t("toUpperCase");return LA=e,LA}var GAe=VAe();const sS=Kn(GAe);function Da(t){return function(){return t}}const see=Math.cos,p5=Math.sin,mu=Math.sqrt,g5=Math.PI,oS=2*g5,kO=Math.PI,CO=2*kO,Wm=1e-6,YAe=CO-Wm;function oee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function KAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oee;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class XAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oee:KAe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,f=o-e,m=l-r,g=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Wm)if(!(Math.abs(m*c-u*f)>Wm)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=a-l,w=c*c+u*u,b=p*p+v*v,N=Math.sqrt(w),k=Math.sqrt(g),S=s*Math.tan((kO-Math.acos((w+g-b)/(2*N*k)))/2),A=S/k,_=S/N;Math.abs(A-1)>Wm&&this._append`L${e+A*f},${r+A*m}`,this._append`A${s},${s},0,0,${+(m*p>f*v)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,a,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,f=r+c,m=1^o,g=o?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Wm||Math.abs(this._y1-f)>Wm)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%CO+CO),g>YAe?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=f}`:g>Wm&&this._append`A${n},${n},0,${+(g>=kO)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function aP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new XAe(e)}function iP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function lee(t){this._context=t}lee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lS(t){return new lee(t)}function cee(t){return t[0]}function uee(t){return t[1]}function dee(t,e){var r=Da(!0),n=null,a=lS,s=null,o=aP(l);t=typeof t=="function"?t:t===void 0?cee:Da(t),e=typeof e=="function"?e:e===void 0?uee:Da(e);function l(c){var u,f=(c=iP(c)).length,m,g=!1,p;for(n==null&&(s=a(p=o())),u=0;u<=f;++u)!(u<f&&r(m=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,u,c),+e(m,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Da(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Da(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Da(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function qw(t,e,r){var n=null,a=Da(!0),s=null,o=lS,l=null,c=aP(u);t=typeof t=="function"?t:t===void 0?cee:Da(+t),e=typeof e=="function"?e:Da(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?uee:Da(+r);function u(m){var g,p,v,w=(m=iP(m)).length,b,N=!1,k,S=new Array(w),A=new Array(w);for(s==null&&(l=o(k=c())),g=0;g<=w;++g){if(!(g<w&&a(b=m[g],g,m))===N)if(N=!N)p=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=g-1;v>=p;--v)l.point(S[v],A[v]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+t(b,g,m),A[g]=+e(b,g,m),l.point(n?+n(b,g,m):S[g],r?+r(b,g,m):A[g]))}if(k)return l=null,k+""||null}function f(){return dee().defined(a).curve(o).context(s)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:Da(+m),n=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Da(+m),u):t},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Da(+m),u):n},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:Da(+m),r=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Da(+m),u):e},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Da(+m),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Da(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),u):o},u.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),u):s},u}class fee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function JAe(t){return new fee(t,!0)}function QAe(t){return new fee(t,!1)}const sP={draw(t,e){const r=mu(e/g5);t.moveTo(r,0),t.arc(0,0,r,0,oS)}},ZAe={draw(t,e){const r=mu(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},hee=mu(1/3),e3e=hee*2,t3e={draw(t,e){const r=mu(e/e3e),n=r*hee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},r3e={draw(t,e){const r=mu(e),n=-r/2;t.rect(n,n,r,r)}},n3e=.8908130915292852,mee=p5(g5/10)/p5(7*g5/10),a3e=p5(oS/10)*mee,i3e=-see(oS/10)*mee,s3e={draw(t,e){const r=mu(e*n3e),n=a3e*r,a=i3e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const o=oS*s/5,l=see(o),c=p5(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},RA=mu(3),o3e={draw(t,e){const r=-mu(e/(RA*3));t.moveTo(0,r*2),t.lineTo(-RA*r,-r),t.lineTo(RA*r,-r),t.closePath()}},tc=-.5,rc=mu(3)/2,_O=1/mu(12),l3e=(_O/2+1)*3,c3e={draw(t,e){const r=mu(e/l3e),n=r/2,a=r*_O,s=n,o=r*_O+r,l=-s,c=o;t.moveTo(n,a),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(tc*n-rc*a,rc*n+tc*a),t.lineTo(tc*s-rc*o,rc*s+tc*o),t.lineTo(tc*l-rc*c,rc*l+tc*c),t.lineTo(tc*n+rc*a,tc*a-rc*n),t.lineTo(tc*s+rc*o,tc*o-rc*s),t.lineTo(tc*l+rc*c,tc*c-rc*l),t.closePath()}};function u3e(t,e){let r=null,n=aP(a);t=typeof t=="function"?t:Da(t||sP),e=typeof e=="function"?e:Da(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Da(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Da(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function x5(){}function y5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function pee(t){this._context=t}pee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d3e(t){return new pee(t)}function gee(t){this._context=t}gee.prototype={areaStart:x5,areaEnd:x5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f3e(t){return new gee(t)}function xee(t){this._context=t}xee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h3e(t){return new xee(t)}function yee(t){this._context=t}yee.prototype={areaStart:x5,areaEnd:x5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function m3e(t){return new yee(t)}function bB(t){return t<0?-1:1}function vB(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(bB(s)+bB(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function wB(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function IA(t,e,r){var n=t._x0,a=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,o-l*r,s,o)}function b5(t){this._context=t}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IA(this,this._t0,wB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,IA(this,wB(this,r=vB(this,t,e)),r);break;default:IA(this,this._t0,r=vB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function bee(t){this._context=new vee(t)}(bee.prototype=Object.create(b5.prototype)).point=function(t,e){b5.prototype.point.call(this,e,t)};function vee(t){this._context=t}vee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function p3e(t){return new b5(t)}function g3e(t){return new bee(t)}function wee(t){this._context=t}wee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=jB(t),a=jB(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jB(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function x3e(t){return new wee(t)}function cS(t,e){this._context=t,this._t=e}cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function y3e(t){return new cS(t,.5)}function b3e(t){return new cS(t,0)}function v3e(t){return new cS(t,1)}function Yg(t,e){if((o=t.length)>1)for(var r=1,n,a,s=t[e[0]],o,l=s.length;r<o;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function AO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function w3e(t,e){return t[e]}function j3e(t){const e=[];return e.key=t,e}function N3e(){var t=Da([]),e=AO,r=Yg,n=w3e;function a(s){var o=Array.from(t.apply(this,arguments),j3e),l,c=o.length,u=-1,f;for(const m of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(m,o[l].key,u,s)]).data=m;for(l=0,f=iP(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Da(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Da(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?AO:typeof s=="function"?s:Da(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Yg,a):r},a}function S3e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Yg(t,e)}}function k3e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Yg(t,e)}}function C3e(t,e){if(!(!((o=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=t[e[l]],m=f[n][1]||0,g=f[n-1][1]||0,p=(m-g)/2,v=0;v<l;++v){var w=t[e[v]],b=w[n][1]||0,N=w[n-1][1]||0;p+=b-N}c+=m,u+=p*m}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Yg(t,e)}}function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}var _3e=["type","size","sizeType"];function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TO.apply(this,arguments)}function NB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(r),!0).forEach(function(n){A3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A3e(t,e,r){return e=T3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3e(t){var e=M3e(t,"string");return iv(e)=="symbol"?e:e+""}function M3e(t,e){if(iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O3e(t,e){if(t==null)return{};var r=E3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jee={symbolCircle:sP,symbolCross:ZAe,symbolDiamond:t3e,symbolSquare:r3e,symbolStar:s3e,symbolTriangle:o3e,symbolWye:c3e},D3e=Math.PI/180,P3e=function(e){var r="symbol".concat(sS(e));return jee[r]||sP},L3e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*D3e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},R3e=function(e,r){jee["symbol".concat(sS(e))]=r},oP=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=O3e(e,_3e),u=SB(SB({},c),{},{type:n,size:s,sizeType:l}),f=function(){var b=P3e(n),N=u3e().type(b).size(L3e(s,l,n));return N()},m=u.className,g=u.cx,p=u.cy,v=Tr(u,!0);return g===+g&&p===+p&&s===+s?he.createElement("path",TO({},v,{className:Cr("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(p,")"),d:f()})):null};oP.registerSymbol=R3e;function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function MO(){return MO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MO.apply(this,arguments)}function kB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function I3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(r),!0).forEach(function(n){sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,See(n.key),n)}}function B3e(t,e,r){return e&&$3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H3e(t,e,r){return e=v5(e),z3e(t,Nee()?Reflect.construct(e,r||[],v5(t).constructor):e.apply(t,r))}function z3e(t,e){if(e&&(Kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q3e(t)}function q3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nee=function(){return!!t})()}function v5(t){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v5(t)}function U3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}function OO(t,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OO(t,e)}function sv(t,e,r){return e=See(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=W3e(t,"string");return Kg(e)=="symbol"?e:e+""}function W3e(t,e){if(Kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=32,lP=(function(t){function e(){return F3e(this,e),H3e(this,e,arguments)}return U3e(e,t),B3e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=nc/2,o=nc/6,l=nc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:nc,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(nc,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return he.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(nc/8,"h").concat(nc,"v").concat(nc*3/4,"h").concat(-nc,"z"),className:"recharts-legend-icon"});if(he.isValidElement(n.legendIcon)){var u=I3e({},n);return delete u.legendIcon,he.cloneElement(n.legendIcon,u)}return he.createElement(oP,{fill:c,cx:s,cy:s,size:nc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:nc,height:nc},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var w=p.formatter||c,b=Cr(sv(sv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var N=Gr(p.value)?null:p.value;ou(!Gr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=p.inactive?u:p.color;return he.createElement("li",MO({className:b,style:m,key:"legend-item-".concat(v)},Dp(n.props,p,v)),he.createElement(NO,{width:o,height:o,viewBox:f,style:g},n.renderIcon(p)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(N,p,v):N))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(y.PureComponent);sv(lP,"displayName","Legend");sv(lP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FA,CB;function V3e(){if(CB)return FA;CB=1;var t=nS();function e(){this.__data__=new t,this.size=0}return FA=e,FA}var $A,_B;function G3e(){if(_B)return $A;_B=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return $A=t,$A}var BA,AB;function Y3e(){if(AB)return BA;AB=1;function t(e){return this.__data__.get(e)}return BA=t,BA}var HA,TB;function K3e(){if(TB)return HA;TB=1;function t(e){return this.__data__.has(e)}return HA=t,HA}var zA,MB;function X3e(){if(MB)return zA;MB=1;var t=nS(),e=QD(),r=ZD(),n=200;function a(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return zA=a,zA}var qA,OB;function kee(){if(OB)return qA;OB=1;var t=nS(),e=V3e(),r=G3e(),n=Y3e(),a=K3e(),s=X3e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,qA=o,qA}var UA,EB;function J3e(){if(EB)return UA;EB=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return UA=e,UA}var WA,DB;function Q3e(){if(DB)return WA;DB=1;function t(e){return this.__data__.has(e)}return WA=t,WA}var VA,PB;function Cee(){if(PB)return VA;PB=1;var t=ZD(),e=J3e(),r=Q3e();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new t;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,VA=n,VA}var GA,LB;function _ee(){if(LB)return GA;LB=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return GA=t,GA}var YA,RB;function Aee(){if(RB)return YA;RB=1;function t(e,r){return e.has(r)}return YA=t,YA}var KA,IB;function Tee(){if(IB)return KA;IB=1;var t=Cee(),e=_ee(),r=Aee(),n=1,a=2;function s(o,l,c,u,f,m){var g=c&n,p=o.length,v=l.length;if(p!=v&&!(g&&v>p))return!1;var w=m.get(o),b=m.get(l);if(w&&b)return w==l&&b==o;var N=-1,k=!0,S=c&a?new t:void 0;for(m.set(o,l),m.set(l,o);++N<p;){var A=o[N],_=l[N];if(u)var O=g?u(_,A,N,l,o,m):u(A,_,N,o,l,m);if(O!==void 0){if(O)continue;k=!1;break}if(S){if(!e(l,function(I,L){if(!r(S,L)&&(A===I||f(A,I,c,u,m)))return S.push(L)})){k=!1;break}}else if(!(A===_||f(A,_,c,u,m))){k=!1;break}}return m.delete(o),m.delete(l),k}return KA=s,KA}var XA,FB;function Z3e(){if(FB)return XA;FB=1;var t=gd(),e=t.Uint8Array;return XA=e,XA}var JA,$B;function e4e(){if($B)return JA;$B=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return JA=t,JA}var QA,BB;function cP(){if(BB)return QA;BB=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return QA=t,QA}var ZA,HB;function t4e(){if(HB)return ZA;HB=1;var t=o1(),e=Z3e(),r=JD(),n=Tee(),a=e4e(),s=cP(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Map]",g="[object Number]",p="[object RegExp]",v="[object Set]",w="[object String]",b="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,A=S?S.valueOf:void 0;function _(O,I,L,R,B,D,M){switch(L){case k:if(O.byteLength!=I.byteLength||O.byteOffset!=I.byteOffset)return!1;O=O.buffer,I=I.buffer;case N:return!(O.byteLength!=I.byteLength||!D(new e(O),new e(I)));case c:case u:case g:return r(+O,+I);case f:return O.name==I.name&&O.message==I.message;case p:case w:return O==I+"";case m:var H=a;case v:var G=R&o;if(H||(H=s),O.size!=I.size&&!G)return!1;var Y=M.get(O);if(Y)return Y==I;R|=l,M.set(O,I);var W=n(H(O),H(I),R,B,D,M);return M.delete(O),W;case b:if(A)return A.call(O)==A.call(I)}return!1}return ZA=_,ZA}var e3,zB;function Mee(){if(zB)return e3;zB=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return e3=t,e3}var t3,qB;function r4e(){if(qB)return t3;qB=1;var t=Mee(),e=dl();function r(n,a,s){var o=a(n);return e(n)?o:t(o,s(n))}return t3=r,t3}var r3,UB;function n4e(){if(UB)return r3;UB=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return r3=t,r3}var n3,WB;function a4e(){if(WB)return n3;WB=1;function t(){return[]}return n3=t,n3}var a3,VB;function i4e(){if(VB)return a3;VB=1;var t=n4e(),e=a4e(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return a3=s,a3}var i3,GB;function s4e(){if(GB)return i3;GB=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return i3=t,i3}var s3,YB;function o4e(){if(YB)return s3;YB=1;var t=Hf(),e=zf(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return s3=n,s3}var o3,KB;function uP(){if(KB)return o3;KB=1;var t=o4e(),e=zf(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return o3=s,o3}var sb={exports:{}},l3,XB;function l4e(){if(XB)return l3;XB=1;function t(){return!1}return l3=t,l3}sb.exports;var JB;function Oee(){return JB||(JB=1,(function(t,e){var r=gd(),n=l4e(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(sb,sb.exports)),sb.exports}var c3,QB;function dP(){if(QB)return c3;QB=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return c3=r,c3}var u3,ZB;function fP(){if(ZB)return u3;ZB=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return u3=e,u3}var d3,eH;function c4e(){if(eH)return d3;eH=1;var t=Hf(),e=fP(),r=zf(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",m="[object Object]",g="[object RegExp]",p="[object Set]",v="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",O="[object Int32Array]",I="[object Uint8Array]",L="[object Uint8ClampedArray]",R="[object Uint16Array]",B="[object Uint32Array]",D={};D[k]=D[S]=D[A]=D[_]=D[O]=D[I]=D[L]=D[R]=D[B]=!0,D[n]=D[a]=D[b]=D[s]=D[N]=D[o]=D[l]=D[c]=D[u]=D[f]=D[m]=D[g]=D[p]=D[v]=D[w]=!1;function M(H){return r(H)&&e(H.length)&&!!D[t(H)]}return d3=M,d3}var f3,tH;function Eee(){if(tH)return f3;tH=1;function t(e){return function(r){return e(r)}}return f3=t,f3}var ob={exports:{}};ob.exports;var rH;function u4e(){return rH||(rH=1,(function(t,e){var r=JZ(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(ob,ob.exports)),ob.exports}var h3,nH;function Dee(){if(nH)return h3;nH=1;var t=c4e(),e=Eee(),r=u4e(),n=r&&r.isTypedArray,a=n?e(n):t;return h3=a,h3}var m3,aH;function d4e(){if(aH)return m3;aH=1;var t=s4e(),e=uP(),r=dl(),n=Oee(),a=dP(),s=Dee(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var m=r(u),g=!m&&e(u),p=!m&&!g&&n(u),v=!m&&!g&&!p&&s(u),w=m||g||p||v,b=w?t(u.length,String):[],N=b.length;for(var k in u)(f||l.call(u,k))&&!(w&&(k=="length"||p&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||a(k,N)))&&b.push(k);return b}return m3=c,m3}var p3,iH;function f4e(){if(iH)return p3;iH=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return p3=e,p3}var g3,sH;function Pee(){if(sH)return g3;sH=1;function t(e,r){return function(n){return e(r(n))}}return g3=t,g3}var x3,oH;function h4e(){if(oH)return x3;oH=1;var t=Pee(),e=t(Object.keys,Object);return x3=e,x3}var y3,lH;function m4e(){if(lH)return y3;lH=1;var t=f4e(),e=h4e(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return y3=a,y3}var b3,cH;function l1(){if(cH)return b3;cH=1;var t=XD(),e=fP();function r(n){return n!=null&&e(n.length)&&!t(n)}return b3=r,b3}var v3,uH;function uS(){if(uH)return v3;uH=1;var t=d4e(),e=m4e(),r=l1();function n(a){return r(a)?t(a):e(a)}return v3=n,v3}var w3,dH;function p4e(){if(dH)return w3;dH=1;var t=r4e(),e=i4e(),r=uS();function n(a){return t(a,r,e)}return w3=n,w3}var j3,fH;function g4e(){if(fH)return j3;fH=1;var t=p4e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,c,u,f){var m=l&e,g=t(s),p=g.length,v=t(o),w=v.length;if(p!=w&&!m)return!1;for(var b=p;b--;){var N=g[b];if(!(m?N in o:n.call(o,N)))return!1}var k=f.get(s),S=f.get(o);if(k&&S)return k==o&&S==s;var A=!0;f.set(s,o),f.set(o,s);for(var _=m;++b<p;){N=g[b];var O=s[N],I=o[N];if(c)var L=m?c(I,O,N,o,s,f):c(O,I,N,s,o,f);if(!(L===void 0?O===I||u(O,I,l,c,f):L)){A=!1;break}_||(_=N=="constructor")}if(A&&!_){var R=s.constructor,B=o.constructor;R!=B&&"constructor"in s&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof B=="function"&&B instanceof B)&&(A=!1)}return f.delete(s),f.delete(o),A}return j3=a,j3}var N3,hH;function x4e(){if(hH)return N3;hH=1;var t=Up(),e=gd(),r=t(e,"DataView");return N3=r,N3}var S3,mH;function y4e(){if(mH)return S3;mH=1;var t=Up(),e=gd(),r=t(e,"Promise");return S3=r,S3}var k3,pH;function Lee(){if(pH)return k3;pH=1;var t=Up(),e=gd(),r=t(e,"Set");return k3=r,k3}var C3,gH;function b4e(){if(gH)return C3;gH=1;var t=Up(),e=gd(),r=t(e,"WeakMap");return C3=r,C3}var _3,xH;function v4e(){if(xH)return _3;xH=1;var t=x4e(),e=QD(),r=y4e(),n=Lee(),a=b4e(),s=Hf(),o=QZ(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",m="[object WeakMap]",g="[object DataView]",p=o(t),v=o(e),w=o(r),b=o(n),N=o(a),k=s;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=l||r&&k(r.resolve())!=u||n&&k(new n)!=f||a&&k(new a)!=m)&&(k=function(S){var A=s(S),_=A==c?S.constructor:void 0,O=_?o(_):"";if(O)switch(O){case p:return g;case v:return l;case w:return u;case b:return f;case N:return m}return A}),_3=k,_3}var A3,yH;function w4e(){if(yH)return A3;yH=1;var t=kee(),e=Tee(),r=t4e(),n=g4e(),a=v4e(),s=dl(),o=Oee(),l=Dee(),c=1,u="[object Arguments]",f="[object Array]",m="[object Object]",g=Object.prototype,p=g.hasOwnProperty;function v(w,b,N,k,S,A){var _=s(w),O=s(b),I=_?f:a(w),L=O?f:a(b);I=I==u?m:I,L=L==u?m:L;var R=I==m,B=L==m,D=I==L;if(D&&o(w)){if(!o(b))return!1;_=!0,R=!1}if(D&&!R)return A||(A=new t),_||l(w)?e(w,b,N,k,S,A):r(w,b,I,N,k,S,A);if(!(N&c)){var M=R&&p.call(w,"__wrapped__"),H=B&&p.call(b,"__wrapped__");if(M||H){var G=M?w.value():w,Y=H?b.value():b;return A||(A=new t),S(G,Y,N,k,A)}}return D?(A||(A=new t),n(w,b,N,k,S,A)):!1}return A3=v,A3}var T3,bH;function hP(){if(bH)return T3;bH=1;var t=w4e(),e=zf();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,o,r,l)}return T3=r,T3}var M3,vH;function j4e(){if(vH)return M3;vH=1;var t=kee(),e=hP(),r=1,n=2;function a(s,o,l,c){var u=l.length,f=u,m=!c;if(s==null)return!f;for(s=Object(s);u--;){var g=l[u];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<f;){g=l[u];var p=g[0],v=s[p],w=g[1];if(m&&g[2]){if(v===void 0&&!(p in s))return!1}else{var b=new t;if(c)var N=c(v,w,p,s,o,b);if(!(N===void 0?e(w,v,r|n,c,b):N))return!1}}return!0}return M3=a,M3}var O3,wH;function Ree(){if(wH)return O3;wH=1;var t=fm();function e(r){return r===r&&!t(r)}return O3=e,O3}var E3,jH;function N4e(){if(jH)return E3;jH=1;var t=Ree(),e=uS();function r(n){for(var a=e(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,t(l)]}return a}return E3=r,E3}var D3,NH;function Iee(){if(NH)return D3;NH=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return D3=t,D3}var P3,SH;function S4e(){if(SH)return P3;SH=1;var t=j4e(),e=N4e(),r=Iee();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||t(o,a,s)}}return P3=n,P3}var L3,kH;function k4e(){if(kH)return L3;kH=1;function t(e,r){return e!=null&&r in Object(e)}return L3=t,L3}var R3,CH;function C4e(){if(CH)return R3;CH=1;var t=tee(),e=uP(),r=dl(),n=dP(),a=fP(),s=iS();function o(l,c,u){c=t(c,l);for(var f=-1,m=c.length,g=!1;++f<m;){var p=s(c[f]);if(!(g=l!=null&&u(l,p)))break;l=l[p]}return g||++f!=m?g:(m=l==null?0:l.length,!!m&&a(m)&&n(p,m)&&(r(l)||e(l)))}return R3=o,R3}var I3,_H;function _4e(){if(_H)return I3;_H=1;var t=k4e(),e=C4e();function r(n,a){return n!=null&&e(n,a,t)}return I3=r,I3}var F3,AH;function A4e(){if(AH)return F3;AH=1;var t=hP(),e=ree(),r=_4e(),n=KD(),a=Ree(),s=Iee(),o=iS(),l=1,c=2;function u(f,m){return n(f)&&a(m)?s(o(f),m):function(g){var p=e(g,f);return p===void 0&&p===m?r(g,f):t(m,p,l|c)}}return F3=u,F3}var $3,TH;function Px(){if(TH)return $3;TH=1;function t(e){return e}return $3=t,$3}var B3,MH;function T4e(){if(MH)return B3;MH=1;function t(e){return function(r){return r==null?void 0:r[e]}}return B3=t,B3}var H3,OH;function M4e(){if(OH)return H3;OH=1;var t=tP();function e(r){return function(n){return t(n,r)}}return H3=e,H3}var z3,EH;function O4e(){if(EH)return z3;EH=1;var t=T4e(),e=M4e(),r=KD(),n=iS();function a(s){return r(s)?t(n(s)):e(s)}return z3=a,z3}var q3,DH;function xd(){if(DH)return q3;DH=1;var t=S4e(),e=A4e(),r=Px(),n=dl(),a=O4e();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return q3=s,q3}var U3,PH;function Fee(){if(PH)return U3;PH=1;function t(e,r,n,a){for(var s=e.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return U3=t,U3}var W3,LH;function E4e(){if(LH)return W3;LH=1;function t(e){return e!==e}return W3=t,W3}var V3,RH;function D4e(){if(RH)return V3;RH=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return V3=t,V3}var G3,IH;function P4e(){if(IH)return G3;IH=1;var t=Fee(),e=E4e(),r=D4e();function n(a,s,o){return s===s?r(a,s,o):t(a,e,o)}return G3=n,G3}var Y3,FH;function L4e(){if(FH)return Y3;FH=1;var t=P4e();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Y3=e,Y3}var K3,$H;function R4e(){if($H)return K3;$H=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return K3=t,K3}var X3,BH;function I4e(){if(BH)return X3;BH=1;function t(){}return X3=t,X3}var J3,HH;function F4e(){if(HH)return J3;HH=1;var t=Lee(),e=I4e(),r=cP(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return J3=a,J3}var Q3,zH;function $4e(){if(zH)return Q3;zH=1;var t=Cee(),e=L4e(),r=R4e(),n=Aee(),a=F4e(),s=cP(),o=200;function l(c,u,f){var m=-1,g=e,p=c.length,v=!0,w=[],b=w;if(f)v=!1,g=r;else if(p>=o){var N=u?null:a(c);if(N)return s(N);v=!1,g=n,b=new t}else b=u?[]:w;e:for(;++m<p;){var k=c[m],S=u?u(k):k;if(k=f||k!==0?k:0,v&&S===S){for(var A=b.length;A--;)if(b[A]===S)continue e;u&&b.push(S),w.push(k)}else g(b,S,f)||(b!==w&&b.push(S),w.push(k))}return w}return Q3=l,Q3}var Z3,qH;function B4e(){if(qH)return Z3;qH=1;var t=xd(),e=$4e();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Z3=r,Z3}var H4e=B4e();const UH=Kn(H4e);function $ee(t,e,r){return e===!0?UH(t,r):Gr(e)?UH(t,e):t}function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}var z4e=["ref"];function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){dS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hee(n.key),n)}}function U4e(t,e,r){return e&&VH(t.prototype,e),r&&VH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W4e(t,e,r){return e=w5(e),V4e(t,Bee()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function V4e(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G4e(t)}function G4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bee=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function Y4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EO(t,e)}function dS(t,e,r){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hee(t){var e=K4e(t,"string");return Xg(e)=="symbol"?e:e+""}function K4e(t,e){if(Xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X4e(t,e){if(t==null)return{};var r=J4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q4e(t){return t.value}function Z4e(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var r=X4e(e,z4e);return he.createElement(lP,r)}var GH=1,Sf=(function(t){function e(){var r;q4e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=W4e(this,e,[].concat(a)),dS(r,"lastBoundingBox",{width:-1,height:-1}),r}return Y4e(e,t),U4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>GH||Math.abs(a.height-this.lastBoundingBox.height)>GH)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();m={left:((u||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();g={top:((f||0)-v.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qd(Qd({},m),g)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,m=Qd(Qd({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return he.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){n.wrapperNode=p}},Z4e(s,Qd(Qd({},this.props),{},{payload:$ee(f,u,Q4e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Qd(Qd({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Jt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(y.PureComponent);dS(Sf,"displayName","Legend");dS(Sf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var e4,YH;function eTe(){if(YH)return e4;YH=1;var t=o1(),e=uP(),r=dl(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return e4=a,e4}var t4,KH;function zee(){if(KH)return t4;KH=1;var t=Mee(),e=eTe();function r(n,a,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var f=n[c];a>0&&s(f)?a>1?r(f,a-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return t4=r,t4}var r4,XH;function tTe(){if(XH)return r4;XH=1;function t(e){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return r4=t,r4}var n4,JH;function rTe(){if(JH)return n4;JH=1;var t=tTe(),e=t();return n4=e,n4}var a4,QH;function qee(){if(QH)return a4;QH=1;var t=rTe(),e=uS();function r(n,a){return n&&t(n,a,e)}return a4=r,a4}var i4,ZH;function nTe(){if(ZH)return i4;ZH=1;var t=l1();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return a}}return i4=e,i4}var s4,ez;function mP(){if(ez)return s4;ez=1;var t=qee(),e=nTe(),r=e(t);return s4=r,s4}var o4,tz;function Uee(){if(tz)return o4;tz=1;var t=mP(),e=l1();function r(n,a){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=a(l,c,u)}),o}return o4=r,o4}var l4,rz;function aTe(){if(rz)return l4;rz=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return l4=t,l4}var c4,nz;function iTe(){if(nz)return c4;nz=1;var t=Ox();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,f=n===n,m=t(n);if(!u&&!m&&!l&&r>n||l&&c&&f&&!u&&!m||s&&c&&f||!a&&f||!o)return 1;if(!s&&!l&&!m&&r<n||m&&a&&o&&!s&&!l||u&&a&&o||!c&&o||!f)return-1}return 0}return c4=e,c4}var u4,az;function sTe(){if(az)return u4;az=1;var t=iTe();function e(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=u)return f;var m=a[s];return f*(m=="desc"?-1:1)}}return r.index-n.index}return u4=e,u4}var d4,iz;function oTe(){if(iz)return d4;iz=1;var t=eP(),e=tP(),r=xd(),n=Uee(),a=aTe(),s=Eee(),o=sTe(),l=Px(),c=dl();function u(f,m,g){m.length?m=t(m,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[l];var p=-1;m=t(m,s(r));var v=n(f,function(w,b,N){var k=t(m,function(S){return S(w)});return{criteria:k,index:++p,value:w}});return a(v,function(w,b){return o(w,b,g)})}return d4=u,d4}var f4,sz;function lTe(){if(sz)return f4;sz=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return f4=t,f4}var h4,oz;function cTe(){if(oz)return h4;oz=1;var t=lTe(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=s(u),t(n,this,f)}}return h4=r,h4}var m4,lz;function uTe(){if(lz)return m4;lz=1;function t(e){return function(){return e}}return m4=t,m4}var p4,cz;function Wee(){if(cz)return p4;cz=1;var t=Up(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return p4=e,p4}var g4,uz;function dTe(){if(uz)return g4;uz=1;var t=uTe(),e=Wee(),r=Px(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return g4=n,g4}var x4,dz;function fTe(){if(dz)return x4;dz=1;var t=800,e=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return x4=n,x4}var y4,fz;function hTe(){if(fz)return y4;fz=1;var t=dTe(),e=fTe(),r=e(t);return y4=r,y4}var b4,hz;function mTe(){if(hz)return b4;hz=1;var t=Px(),e=cTe(),r=hTe();function n(a,s){return r(e(a,s,t),a+"")}return b4=n,b4}var v4,mz;function fS(){if(mz)return v4;mz=1;var t=JD(),e=l1(),r=dP(),n=fm();function a(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return v4=a,v4}var w4,pz;function pTe(){if(pz)return w4;pz=1;var t=zee(),e=oTe(),r=mTe(),n=fS(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return w4=a,w4}var gTe=pTe();const pP=Kn(gTe);function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function DO(){return DO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DO.apply(this,arguments)}function xTe(t,e){return wTe(t)||vTe(t,e)||bTe(t,e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(t,e){if(t){if(typeof t=="string")return gz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gz(t,e)}}function gz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wTe(t){if(Array.isArray(t))return t}function xz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(r),!0).forEach(function(n){jTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jTe(t,e,r){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NTe(t){var e=STe(t,"string");return ov(e)=="symbol"?e:e+""}function STe(t,e){if(ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kTe(t){return Array.isArray(t)&&ws(t[0])&&ws(t[1])?t.join(" ~ "):t}var CTe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,m=e.formatter,g=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,w=e.label,b=e.labelFormatter,N=e.accessibilityLayer,k=N===void 0?!1:N,S=function(){if(f&&f.length){var M={padding:0,margin:0},H=(g?pP(f,g):f).map(function(G,Y){if(G.type==="none")return null;var W=j4({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),$=G.formatter||m||kTe,q=G.value,Z=G.name,ce=q,X=Z;if($&&ce!=null&&X!=null){var U=$(q,Z,G,Y,f);if(Array.isArray(U)){var J=xTe(U,2);ce=J[0],X=J[1]}else ce=U}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:W},ws(X)?he.createElement("span",{className:"recharts-tooltip-item-name"},X):null,ws(X)?he.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,he.createElement("span",{className:"recharts-tooltip-item-value"},ce),he.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:M},H)}return null},A=j4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=j4({margin:0},u),O=!nn(w),I=O?w:"",L=Cr("recharts-default-tooltip",p),R=Cr("recharts-tooltip-label",v);O&&b&&f!==void 0&&f!==null&&(I=b(w,f));var B=k?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",DO({className:L,style:A},B),he.createElement("p",{className:R,style:_},he.isValidElement(I)?I:"".concat(I)),S())};function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function Uw(t,e,r){return e=_Te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Te(t){var e=ATe(t,"string");return lv(e)=="symbol"?e:e+""}function ATe(t,e){if(lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $y="recharts-tooltip-wrapper",TTe={visibility:"hidden"};function MTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Cr($y,Uw(Uw(Uw(Uw({},"".concat($y,"-right"),Jt(r)&&e&&Jt(e.x)&&r>=e.x),"".concat($y,"-left"),Jt(r)&&e&&Jt(e.x)&&r<e.x),"".concat($y,"-bottom"),Jt(n)&&e&&Jt(e.y)&&n>=e.y),"".concat($y,"-top"),Jt(n)&&e&&Jt(e.y)&&n<e.y))}function yz(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Jt(s[n]))return s[n];var f=r[n]-l-a,m=r[n]+a;if(e[n])return o[n]?f:m;if(o[n]){var g=f,p=c[n];return g<p?Math.max(m,c[n]):Math.max(f,c[n])}var v=m+l,w=c[n]+u;return v>w?Math.max(f,c[n]):Math.max(m,c[n])}function OTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ETe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,f,m;return o.height>0&&o.width>0&&r?(f=yz({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=yz({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=OTe({translateX:f,translateY:m,useTranslate3d:l})):u=TTe,{cssProperties:u,cssClasses:MTe({translateX:f,translateY:m,coordinate:r})}}function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function bz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(r),!0).forEach(function(n){LO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gee(n.key),n)}}function LTe(t,e,r){return e&&PTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RTe(t,e,r){return e=j5(e),ITe(t,Vee()?Reflect.construct(e,r||[],j5(t).constructor):e.apply(t,r))}function ITe(t,e){if(e&&(Jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(t)}function FTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vee=function(){return!!t})()}function j5(t){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(t)}function $Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PO(t,e)}function PO(t,e){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PO(t,e)}function LO(t,e,r){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=BTe(t,"string");return Jg(e)=="symbol"?e:e+""}function BTe(t,e){if(Jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wz=1,HTe=(function(t){function e(){var r;DTe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=RTe(this,e,[].concat(a)),LO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return $Te(e,t),LTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wz||Math.abs(n.height-this.state.lastBoundingBox.height)>wz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,m=a.hasPayload,g=a.isAnimationActive,p=a.offset,v=a.position,w=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,k=a.wrapperStyle,S=ETe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:N}),A=S.cssClasses,_=S.cssProperties,O=vz(vz({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},k);return he.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(L){n.wrapperNode=L}},u)}}])})(y.PureComponent),zTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hm={isSsr:zTe()};function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){gP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kee(n.key),n)}}function WTe(t,e,r){return e&&UTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VTe(t,e,r){return e=N5(e),GTe(t,Yee()?Reflect.construct(e,r||[],N5(t).constructor):e.apply(t,r))}function GTe(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTe(t)}function YTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(t)}function KTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RO(t,e)}function gP(t,e,r){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kee(t){var e=XTe(t,"string");return Qg(e)=="symbol"?e:e+""}function XTe(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JTe(t){return t.dataKey}function QTe(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(CTe,e)}var ji=(function(t){function e(){return qTe(this,e),VTe(this,e,arguments)}return KTe(e,t),WTe(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,m=a.filterNull,g=a.isAnimationActive,p=a.offset,v=a.payload,w=a.payloadUniqBy,b=a.position,N=a.reverseDirection,k=a.useTranslate3d,S=a.viewBox,A=a.wrapperStyle,_=v??[];m&&_.length&&(_=$ee(v.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),w,JTe));var O=_.length>0;return he.createElement(HTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:f,hasPayload:O,offset:p,position:b,reverseDirection:N,useTranslate3d:k,viewBox:S,wrapperStyle:A},QTe(u,Nz(Nz({},this.props),{},{payload:_})))}}])})(y.PureComponent);gP(ji,"displayName","Tooltip");gP(ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var N4,Sz;function ZTe(){if(Sz)return N4;Sz=1;var t=gd(),e=function(){return t.Date.now()};return N4=e,N4}var S4,kz;function eMe(){if(kz)return S4;kz=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return S4=e,S4}var k4,Cz;function tMe(){if(Cz)return k4;Cz=1;var t=eMe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return k4=r,k4}var C4,_z;function Xee(){if(_z)return C4;_z=1;var t=tMe(),e=fm(),r=Ox(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var m=s.test(u);return m||o.test(u)?l(u.slice(2),m?2:8):a.test(u)?n:+u}return C4=c,C4}var _4,Az;function rMe(){if(Az)return _4;Az=1;var t=fm(),e=ZTe(),r=Xee(),n="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var f,m,g,p,v,w,b=0,N=!1,k=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(N=!!u.leading,k="maxWait"in u,g=k?a(r(u.maxWait)||0,c):g,S="trailing"in u?!!u.trailing:S);function A(H){var G=f,Y=m;return f=m=void 0,b=H,p=l.apply(Y,G),p}function _(H){return b=H,v=setTimeout(L,c),N?A(H):p}function O(H){var G=H-w,Y=H-b,W=c-G;return k?s(W,g-Y):W}function I(H){var G=H-w,Y=H-b;return w===void 0||G>=c||G<0||k&&Y>=g}function L(){var H=e();if(I(H))return R(H);v=setTimeout(L,O(H))}function R(H){return v=void 0,S&&f?A(H):(f=m=void 0,p)}function B(){v!==void 0&&clearTimeout(v),b=0,f=w=m=v=void 0}function D(){return v===void 0?p:R(e())}function M(){var H=e(),G=I(H);if(f=arguments,m=this,w=H,G){if(v===void 0)return _(w);if(k)return clearTimeout(v),v=setTimeout(L,c),A(w)}return v===void 0&&(v=setTimeout(L,c)),p}return M.cancel=B,M.flush=D,M}return _4=o,_4}var A4,Tz;function nMe(){if(Tz)return A4;Tz=1;var t=rMe(),e=fm(),r="Expected a function";function n(a,s,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,s,{leading:l,maxWait:s,trailing:c})}return A4=n,A4}var aMe=nMe();const Jee=Kn(aMe);function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function Mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ww(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(r),!0).forEach(function(n){iMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iMe(t,e,r){return e=sMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sMe(t){var e=oMe(t,"string");return cv(e)=="symbol"?e:e+""}function oMe(t,e){if(cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lMe(t,e){return fMe(t)||dMe(t,e)||uMe(t,e)||cMe()}function cMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uMe(t,e){if(t){if(typeof t=="string")return Oz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oz(t,e)}}function Oz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fMe(t){if(Array.isArray(t))return t}var kl=y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,m=t.minHeight,g=t.maxHeight,p=t.children,v=t.debounce,w=v===void 0?0:v,b=t.id,N=t.className,k=t.onResize,S=t.style,A=S===void 0?{}:S,_=y.useRef(null),O=y.useRef();O.current=k,y.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var I=y.useState({containerWidth:a.width,containerHeight:a.height}),L=lMe(I,2),R=L[0],B=L[1],D=y.useCallback(function(H,G){B(function(Y){var W=Math.round(H),$=Math.round(G);return Y.containerWidth===W&&Y.containerHeight===$?Y:{containerWidth:W,containerHeight:$}})},[]);y.useEffect(function(){var H=function(Z){var ce,X=Z[0].contentRect,U=X.width,J=X.height;D(U,J),(ce=O.current)===null||ce===void 0||ce.call(O,U,J)};w>0&&(H=Jee(H,w,{trailing:!0,leading:!1}));var G=new ResizeObserver(H),Y=_.current.getBoundingClientRect(),W=Y.width,$=Y.height;return D(W,$),G.observe(_.current),function(){G.disconnect()}},[D,w]);var M=y.useMemo(function(){var H=R.containerWidth,G=R.containerHeight;if(H<0||G<0)return null;ou(ip(o)||ip(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ou(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=ip(o)?H:o,W=ip(c)?G:c;r&&r>0&&(Y?W=Y/r:W&&(Y=W*r),g&&W>g&&(W=g)),ou(Y>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,W,o,c,f,m,r);var $=!Array.isArray(p)&&Nf(p.type).endsWith("Chart");return he.Children.map(p,function(q){return he.isValidElement(q)?y.cloneElement(q,Ww({width:Y,height:W},$?{style:Ww({height:"100%",width:"100%",maxHeight:W,maxWidth:Y},q.props.style)}:{})):q})},[r,p,c,g,m,f,R,o]);return he.createElement("div",{id:b?"".concat(b):void 0,className:Cr("recharts-responsive-container",N),style:Ww(Ww({},A),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:g}),ref:_},M)}),Pp=function(e){return null};Pp.displayName="Cell";function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function Ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(r),!0).forEach(function(n){hMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hMe(t,e,r){return e=mMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mMe(t){var e=pMe(t,"string");return uv(e)=="symbol"?e:e+""}function pMe(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H0={widthCache:{},cacheCount:0},gMe=2e3,xMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Dz="recharts_measurement_span";function yMe(t){var e=IO({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Sb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hm.isSsr)return{width:0,height:0};var n=yMe(r),a=JSON.stringify({text:e,copyStyle:n});if(H0.widthCache[a])return H0.widthCache[a];try{var s=document.getElementById(Dz);s||(s=document.createElement("span"),s.setAttribute("id",Dz),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=IO(IO({},xMe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return H0.widthCache[a]=c,++H0.cacheCount>gMe&&(H0.cacheCount=0,H0.widthCache={}),c}catch{return{width:0,height:0}}},bMe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function S5(t,e){return NMe(t)||jMe(t,e)||wMe(t,e)||vMe()}function vMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(t,e){if(t){if(typeof t=="string")return Pz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pz(t,e)}}function Pz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function NMe(t){if(Array.isArray(t))return t}function SMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CMe(n.key),n)}}function kMe(t,e,r){return e&&Lz(t.prototype,e),r&&Lz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CMe(t){var e=_Me(t,"string");return dv(e)=="symbol"?e:e+""}function _Me(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MMe=Object.keys(Qee),og="NaN";function OMe(t,e){return t*Qee[e]}var Vw=(function(){function t(e,r){SMe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!AMe.test(r)&&(this.num=NaN,this.unit=""),MMe.includes(r)&&(this.num=OMe(e,r),this.unit="px")}return kMe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=TMe.exec(r))!==null&&n!==void 0?n:[],s=S5(a,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function Zee(t){if(t.includes(og))return og;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Rz.exec(e))!==null&&r!==void 0?r:[],a=S5(n,4),s=a[1],o=a[2],l=a[3],c=Vw.parse(s??""),u=Vw.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return og;e=e.replace(Rz,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=Iz.exec(e))!==null&&m!==void 0?m:[],p=S5(g,4),v=p[1],w=p[2],b=p[3],N=Vw.parse(v??""),k=Vw.parse(b??""),S=w==="+"?N.add(k):N.subtract(k);if(S.isNaN())return og;e=e.replace(Iz,S.toString())}return e}var Fz=/\(([^()]*)\)/;function EMe(t){for(var e=t;e.includes("(");){var r=Fz.exec(e),n=S5(r,2),a=n[1];e=e.replace(Fz,Zee(a))}return e}function DMe(t){var e=t.replace(/\s+/g,"");return e=EMe(e),e=Zee(e),e}function PMe(t){try{return DMe(t)}catch{return og}}function T4(t){var e=PMe(t.slice(5,-1));return e===og?"":e}var LMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],RMe=["dx","dy","angle","className","breakAll"];function FO(){return FO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FO.apply(this,arguments)}function $z(t,e){if(t==null)return{};var r=IMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bz(t,e){return HMe(t)||BMe(t,e)||$Me(t,e)||FMe()}function FMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(t,e){if(t){if(typeof t=="string")return Hz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hz(t,e)}}function Hz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HMe(t){if(Array.isArray(t))return t}var ete=/[ \f\n\r\t\v\u2028\u2029]+/,tte=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];nn(r)||(n?s=r.toString().split(""):s=r.toString().split(ete));var o=s.map(function(c){return{word:c,width:Sb(c,a).width}}),l=n?0:Sb("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},zMe=function(e,r,n,a,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,f=Jt(o),m=l,g=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(W,$){var q=$.word,Z=$.width,ce=W[W.length-1];if(ce&&(a==null||s||ce.width+Z+n<Number(a)))ce.words.push(q),ce.width+=Z+n;else{var X={words:[q],width:Z};W.push(X)}return W},[])},p=g(r),v=function(Y){return Y.reduce(function(W,$){return W.width>$.width?W:$})};if(!f)return p;for(var w="",b=function(Y){var W=m.slice(0,Y),$=tte({breakAll:u,style:c,children:W+w}).wordsWithComputedWidth,q=g($),Z=q.length>o||v(q).width>Number(a);return[Z,q]},N=0,k=m.length-1,S=0,A;N<=k&&S<=m.length-1;){var _=Math.floor((N+k)/2),O=_-1,I=b(O),L=Bz(I,2),R=L[0],B=L[1],D=b(_),M=Bz(D,1),H=M[0];if(!R&&!H&&(N=_+1),R&&H&&(k=_-1),!R&&H){A=B;break}S++}return A||p},zz=function(e){var r=nn(e)?[]:e.toString().split(ete);return[{words:r}]},qMe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!hm.isSsr){var c,u,f=tte({breakAll:o,children:a,style:s});if(f){var m=f.wordsWithComputedWidth,g=f.spaceWidth;c=m,u=g}else return zz(a);return zMe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return zz(a)},qz="#808080",Lp=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,g=e.textAnchor,p=g===void 0?"start":g,v=e.verticalAnchor,w=v===void 0?"end":v,b=e.fill,N=b===void 0?qz:b,k=$z(e,LMe),S=y.useMemo(function(){return qMe({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:m,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,m,k.style,k.width]),A=k.dx,_=k.dy,O=k.angle,I=k.className,L=k.breakAll,R=$z(k,RMe);if(!ws(n)||!ws(s))return null;var B=n+(Jt(A)?A:0),D=s+(Jt(_)?_:0),M;switch(w){case"start":M=T4("calc(".concat(u,")"));break;case"middle":M=T4("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=T4("calc(".concat(S.length-1," * -").concat(l,")"));break}var H=[];if(m){var G=S[0].width,Y=k.width;H.push("scale(".concat((Jt(Y)?Y/G:1)/G,")"))}return O&&H.push("rotate(".concat(O,", ").concat(B,", ").concat(D,")")),H.length&&(R.transform=H.join(" ")),he.createElement("text",FO({},Tr(R,!0),{x:B,y:D,className:Cr("recharts-text",I),textAnchor:p,fill:N.includes("url")?qz:N}),S.map(function(W,$){var q=W.words.join(L?"":" ");return he.createElement("tspan",{x:B,dy:$===0?M:l,key:"".concat(q,"-").concat($)},q)}))};function Qh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xP(t){let e,r,n;t.length!==2?(e=Qh,r=(l,c)=>Qh(t(l),c),n=(l,c)=>t(l)-c):(e=t===Qh||t===UMe?t:WMe,r=t,n=t);function a(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const m=u+f>>>1;r(l[m],c)<0?u=m+1:f=m}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const m=u+f>>>1;r(l[m],c)<=0?u=m+1:f=m}while(u<f)}return u}function o(l,c,u=0,f=l.length){const m=a(l,c,u,f-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:a,center:o,right:s}}function WMe(){return 0}function rte(t){return t===null?NaN:+t}function*VMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const GMe=xP(Qh),c1=GMe.right;xP(rte).center;class Uz extends Map{constructor(e,r=XMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(Wz(this,e))}has(e){return super.has(Wz(this,e))}set(e,r){return super.set(YMe(this,e),r)}delete(e){return super.delete(KMe(this,e))}}function Wz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function YMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function KMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function XMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JMe(t=Qh){if(t===Qh)return nte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function nte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const QMe=Math.sqrt(50),ZMe=Math.sqrt(10),eOe=Math.sqrt(2);function k5(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=QMe?10:s>=ZMe?5:s>=eOe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?k5(t,e,r*2):[l,c,u]}function $O(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,o]=n?k5(e,t,r):k5(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function BO(t,e,r){return e=+e,t=+t,r=+r,k5(t,e,r)[2]}function HO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?BO(e,t,r):BO(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function Vz(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Gz(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ate(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?nte:JMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*m*(c-m)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*m/c+g)),v=Math.min(n,Math.floor(e+(c-u)*m/c+g));ate(t,e,p,v,a)}const s=t[e];let o=r,l=n;for(By(t,r,e),a(t[n],s)>0&&By(t,r,n);o<l;){for(By(t,o,l),++o,--l;a(t[o],s)<0;)++o;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?By(t,r,l):(++l,By(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function By(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function tOe(t,e,r){if(t=Float64Array.from(VMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Gz(t);if(e>=1)return Vz(t);var n,a=(n-1)*e,s=Math.floor(a),o=Vz(ate(t,s).subarray(0,s+1)),l=Gz(t.subarray(s+1));return o+(l-o)*(a-s)}}function rOe(t,e,r=rte){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(a-s)}}function nOe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function kc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zO=Symbol("implicit");function yP(){var t=new Uz,e=[],r=[],n=zO;function a(s){let o=t.get(s);if(o===void 0){if(n!==zO)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Uz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yP(e,r).unknown(n)},kc.apply(a,arguments),a}function fv(){var t=yP().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,o,l=!1,c=0,u=0,f=.5;delete t.unknown;function m(){var g=e().length,p=a<n,v=p?a:n,w=p?n:a;s=(w-v)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),v+=(w-v-s*(g-c))*f,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=nOe(g).map(function(N){return v+s*N});return r(p?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,m()):u},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),m()):f},t.copy=function(){return fv(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},kc.apply(m(),arguments)}function ite(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ite(e())},t}function kb(){return ite(fv.apply(null,arguments).paddingInner(1))}function bP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ste(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function u1(){}var hv=.7,C5=1/hv,Ng="\\s*([+-]?\\d+)\\s*",mv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aOe=/^#([0-9a-f]{3,8})$/,iOe=new RegExp(`^rgb\\(${Ng},${Ng},${Ng}\\)$`),sOe=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),oOe=new RegExp(`^rgba\\(${Ng},${Ng},${Ng},${mv}\\)$`),lOe=new RegExp(`^rgba\\(${ad},${ad},${ad},${mv}\\)$`),cOe=new RegExp(`^hsl\\(${mv},${ad},${ad}\\)$`),uOe=new RegExp(`^hsla\\(${mv},${ad},${ad},${mv}\\)$`),Yz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bP(u1,pv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kz,formatHex:Kz,formatHex8:dOe,formatHsl:fOe,formatRgb:Xz,toString:Xz});function Kz(){return this.rgb().formatHex()}function dOe(){return this.rgb().formatHex8()}function fOe(){return ote(this).formatHsl()}function Xz(){return this.rgb().formatRgb()}function pv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=aOe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Jz(e):r===3?new ll(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Gw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Gw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iOe.exec(t))?new ll(e[1],e[2],e[3],1):(e=sOe.exec(t))?new ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oOe.exec(t))?Gw(e[1],e[2],e[3],e[4]):(e=lOe.exec(t))?Gw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cOe.exec(t))?eq(e[1],e[2]/100,e[3]/100,1):(e=uOe.exec(t))?eq(e[1],e[2]/100,e[3]/100,e[4]):Yz.hasOwnProperty(t)?Jz(Yz[t]):t==="transparent"?new ll(NaN,NaN,NaN,0):null}function Jz(t){return new ll(t>>16&255,t>>8&255,t&255,1)}function Gw(t,e,r,n){return n<=0&&(t=e=r=NaN),new ll(t,e,r,n)}function hOe(t){return t instanceof u1||(t=pv(t)),t?(t=t.rgb(),new ll(t.r,t.g,t.b,t.opacity)):new ll}function qO(t,e,r,n){return arguments.length===1?hOe(t):new ll(t,e,r,n??1)}function ll(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}bP(ll,qO,ste(u1,{brighter(t){return t=t==null?C5:Math.pow(C5,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hv:Math.pow(hv,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ll(vp(this.r),vp(this.g),vp(this.b),_5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qz,formatHex:Qz,formatHex8:mOe,formatRgb:Zz,toString:Zz}));function Qz(){return`#${sp(this.r)}${sp(this.g)}${sp(this.b)}`}function mOe(){return`#${sp(this.r)}${sp(this.g)}${sp(this.b)}${sp((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zz(){const t=_5(this.opacity);return`${t===1?"rgb(":"rgba("}${vp(this.r)}, ${vp(this.g)}, ${vp(this.b)}${t===1?")":`, ${t})`}`}function _5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sp(t){return t=vp(t),(t<16?"0":"")+t.toString(16)}function eq(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ru(t,e,r,n)}function ote(t){if(t instanceof ru)return new ru(t.h,t.s,t.l,t.opacity);if(t instanceof u1||(t=pv(t)),!t)return new ru;if(t instanceof ru)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new ru(o,l,c,t.opacity)}function pOe(t,e,r,n){return arguments.length===1?ote(t):new ru(t,e,r,n??1)}function ru(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}bP(ru,pOe,ste(u1,{brighter(t){return t=t==null?C5:Math.pow(C5,t),new ru(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hv:Math.pow(hv,t),new ru(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new ll(M4(t>=240?t-240:t+120,a,n),M4(t,a,n),M4(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ru(tq(this.h),Yw(this.s),Yw(this.l),_5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_5(this.opacity);return`${t===1?"hsl(":"hsla("}${tq(this.h)}, ${Yw(this.s)*100}%, ${Yw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tq(t){return t=(t||0)%360,t<0?t+360:t}function Yw(t){return Math.max(0,Math.min(1,t||0))}function M4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vP=t=>()=>t;function gOe(t,e){return function(r){return t+r*e}}function xOe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function yOe(t){return(t=+t)==1?lte:function(e,r){return r-e?xOe(e,r,t):vP(isNaN(e)?r:e)}}function lte(t,e){var r=e-t;return r?gOe(t,r):vP(isNaN(t)?e:t)}const rq=(function t(e){var r=yOe(e);function n(a,s){var o=r((a=qO(a)).r,(s=qO(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=lte(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=t,n})(1);function bOe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function vOe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wOe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Lx(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function jOe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function A5(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function NOe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Lx(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var UO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O4=new RegExp(UO.source,"g");function SOe(t){return function(){return t}}function kOe(t){return function(e){return t(e)+""}}function COe(t,e){var r=UO.lastIndex=O4.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=UO.exec(t))&&(a=O4.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:A5(n,a)})),r=O4.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?kOe(c[0].x):SOe(e):(e=c.length,function(u){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(u);return l.join("")})}function Lx(t,e){var r=typeof e,n;return e==null||r==="boolean"?vP(e):(r==="number"?A5:r==="string"?(n=pv(e))?(e=n,rq):COe:e instanceof pv?rq:e instanceof Date?jOe:vOe(e)?bOe:Array.isArray(e)?wOe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?NOe:A5)(t,e)}function wP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _Oe(t,e){e===void 0&&(e=t,t=Lx);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function AOe(t){return function(){return t}}function T5(t){return+t}var nq=[0,1];function Ro(t){return t}function WO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:AOe(isNaN(e)?NaN:.5)}function TOe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function MOe(t,e,r){var n=t[0],a=t[1],s=e[0],o=e[1];return a<n?(n=WO(a,n),s=r(o,s)):(n=WO(n,a),s=r(s,o)),function(l){return s(n(l))}}function OOe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=WO(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=c1(t,l,1,n)-1;return s[c](a[c](l))}}function d1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hS(){var t=nq,e=nq,r=Lx,n,a,s,o=Ro,l,c,u;function f(){var g=Math.min(t.length,e.length);return o!==Ro&&(o=TOe(t[0],t[g-1])),l=g>2?OOe:MOe,c=u=null,m}function m(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(a((u||(u=l(e,t.map(n),A5)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,T5),f()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=wP,f()},m.clamp=function(g){return arguments.length?(o=g?!0:Ro,f()):o!==Ro},m.interpolate=function(g){return arguments.length?(r=g,f()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,p){return n=g,a=p,f()}}function jP(){return hS()(Ro,Ro)}function EOe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function M5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zg(t){return t=M5(Math.abs(t)),t?t[1]:NaN}function DOe(t,e){return function(r,n){for(var a=r.length,s=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function POe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var LOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gv(t){if(!(e=LOe.exec(t)))throw new Error("invalid format: "+t);var e;return new NP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gv.prototype=NP.prototype;function NP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ROe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var cte;function IOe(t,e){var r=M5(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(cte=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+M5(t,Math.max(0,e+s-1))[0]}function aq(t,e){var r=M5(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const iq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EOe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>aq(t*100,e),r:aq,s:IOe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sq(t){return t}var oq=Array.prototype.map,lq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FOe(t){var e=t.grouping===void 0||t.thousands===void 0?sq:DOe(oq.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?sq:POe(oq.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(m){m=gv(m);var g=m.fill,p=m.align,v=m.sign,w=m.symbol,b=m.zero,N=m.width,k=m.comma,S=m.precision,A=m.trim,_=m.type;_==="n"?(k=!0,_="g"):iq[_]||(S===void 0&&(S=12),A=!0,_="g"),(b||g==="0"&&p==="=")&&(b=!0,g="0",p="=");var O=w==="$"?r:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",I=w==="$"?n:/[%p]/.test(_)?o:"",L=iq[_],R=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(D){var M=O,H=I,G,Y,W;if(_==="c")H=L(D)+H,D="";else{D=+D;var $=D<0||1/D<0;if(D=isNaN(D)?c:L(Math.abs(D),S),A&&(D=ROe(D)),$&&+D==0&&v!=="+"&&($=!1),M=($?v==="("?v:l:v==="-"||v==="("?"":v)+M,H=(_==="s"?lq[8+cte/3]:"")+H+($&&v==="("?")":""),R){for(G=-1,Y=D.length;++G<Y;)if(W=D.charCodeAt(G),48>W||W>57){H=(W===46?a+D.slice(G+1):D.slice(G))+H,D=D.slice(0,G);break}}}k&&!b&&(D=e(D,1/0));var q=M.length+D.length+H.length,Z=q<N?new Array(N-q+1).join(g):"";switch(k&&b&&(D=e(Z+D,Z.length?N-H.length:1/0),Z=""),p){case"<":D=M+D+H+Z;break;case"=":D=M+Z+D+H;break;case"^":D=Z.slice(0,q=Z.length>>1)+M+D+H+Z.slice(q);break;default:D=Z+M+D+H;break}return s(D)}return B.toString=function(){return m+""},B}function f(m,g){var p=u((m=gv(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Zg(g)/3)))*3,w=Math.pow(10,-v),b=lq[8+v/3];return function(N){return p(w*N)+b}}return{format:u,formatPrefix:f}}var Kw,SP,ute;$Oe({thousands:",",grouping:[3],currency:["$",""]});function $Oe(t){return Kw=FOe(t),SP=Kw.format,ute=Kw.formatPrefix,Kw}function BOe(t){return Math.max(0,-Zg(Math.abs(t)))}function HOe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zg(e)/3)))*3-Zg(Math.abs(t)))}function zOe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zg(e)-Zg(t))+1}function dte(t,e,r,n){var a=HO(t,e,r),s;switch(n=gv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=HOe(a,o))&&(n.precision=s),ute(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=zOe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=BOe(a))&&(n.precision=s-(n.type==="%")*2);break}}return SP(n)}function mm(t){var e=t.domain;return t.ticks=function(r){var n=e();return $O(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return dte(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=BO(o,l,r),u===c)return n[a]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function O5(){var t=jP();return t.copy=function(){return d1(t,O5())},kc.apply(t,arguments),mm(t)}function fte(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,T5),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return fte(t).unknown(e)},t=arguments.length?Array.from(t,T5):[0,1],mm(r)}function hte(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),t[r]=e.floor(a),t[n]=e.ceil(s),t}function cq(t){return Math.log(t)}function uq(t){return Math.exp(t)}function qOe(t){return-Math.log(-t)}function UOe(t){return-Math.exp(-t)}function WOe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VOe(t){return t===10?WOe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function GOe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dq(t){return(e,r)=>-t(-e,r)}function kP(t){const e=t(cq,uq),r=e.domain;let n=10,a,s;function o(){return a=GOe(n),s=VOe(n),r()[0]<0?(a=dq(a),s=dq(s),t(qOe,UOe)):t(cq,uq),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const m=f<u;m&&([u,f]=[f,u]);let g=a(u),p=a(f),v,w;const b=l==null?10:+l;let N=[];if(!(n%1)&&p-g<b){if(g=Math.floor(g),p=Math.ceil(p),u>0){for(;g<=p;++g)for(v=1;v<n;++v)if(w=g<0?v/s(-g):v*s(g),!(w<u)){if(w>f)break;N.push(w)}}else for(;g<=p;++g)for(v=n-1;v>=1;--v)if(w=g>0?v/s(-g):v*s(g),!(w<u)){if(w>f)break;N.push(w)}N.length*2<b&&(N=$O(u,f,b))}else N=$O(g,p,Math.min(p-g,b)).map(s);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gv(c)).precision==null&&(c.trim=!0),c=SP(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return f=>{let m=f/s(Math.round(a(f)));return m*n<n-.5&&(m*=n),m<=u?c(f):""}},e.nice=()=>r(hte(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function mte(){const t=kP(hS()).domain([1,10]);return t.copy=()=>d1(t,mte()).base(t.base()),kc.apply(t,arguments),t}function fq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CP(t){var e=1,r=t(fq(e),hq(e));return r.constant=function(n){return arguments.length?t(fq(e=+n),hq(e)):e},mm(r)}function pte(){var t=CP(hS());return t.copy=function(){return d1(t,pte()).constant(t.constant())},kc.apply(t,arguments)}function mq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YOe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KOe(t){return t<0?-t*t:t*t}function _P(t){var e=t(Ro,Ro),r=1;function n(){return r===1?t(Ro,Ro):r===.5?t(YOe,KOe):t(mq(r),mq(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},mm(e)}function AP(){var t=_P(hS());return t.copy=function(){return d1(t,AP()).exponent(t.exponent())},kc.apply(t,arguments),t}function XOe(){return AP.apply(null,arguments).exponent(.5)}function pq(t){return Math.sign(t)*t*t}function JOe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gte(){var t=jP(),e=[0,1],r=!1,n;function a(s){var o=JOe(t(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return t.invert(pq(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,T5)).map(pq)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return gte(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},kc.apply(a,arguments),mm(a)}function xte(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=rOe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[c1(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Qh),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return xte().domain(t).range(e).unknown(n)},kc.apply(s,arguments)}function yte(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[c1(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yte().domain([t,e]).range(a).unknown(s)},kc.apply(mm(o),arguments)}function bte(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[c1(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return bte().domain(t).range(e).unknown(r)},kc.apply(a,arguments)}const E4=new Date,D4=new Date;function js(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},a.filter=s=>js(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(a.count=(s,o)=>(E4.setTime(+s),D4.setTime(+o),t(E4),t(D4),Math.floor(r(E4,D4))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const E5=js(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);E5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?js(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):E5);E5.range;const df=1e3,mc=df*60,ff=mc*60,Of=ff*24,TP=Of*7,gq=Of*30,P4=Of*365,op=js(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*df)},(t,e)=>(e-t)/df,t=>t.getUTCSeconds());op.range;const MP=js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*df)},(t,e)=>{t.setTime(+t+e*mc)},(t,e)=>(e-t)/mc,t=>t.getMinutes());MP.range;const OP=js(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mc)},(t,e)=>(e-t)/mc,t=>t.getUTCMinutes());OP.range;const EP=js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*df-t.getMinutes()*mc)},(t,e)=>{t.setTime(+t+e*ff)},(t,e)=>(e-t)/ff,t=>t.getHours());EP.range;const DP=js(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ff)},(t,e)=>(e-t)/ff,t=>t.getUTCHours());DP.range;const f1=js(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mc)/Of,t=>t.getDate()-1);f1.range;const mS=js(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Of,t=>t.getUTCDate()-1);mS.range;const vte=js(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Of,t=>Math.floor(t/Of));vte.range;function Vp(t){return js(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*mc)/TP)}const pS=Vp(0),D5=Vp(1),QOe=Vp(2),ZOe=Vp(3),ex=Vp(4),e6e=Vp(5),t6e=Vp(6);pS.range;D5.range;QOe.range;ZOe.range;ex.range;e6e.range;t6e.range;function Gp(t){return js(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/TP)}const gS=Gp(0),P5=Gp(1),r6e=Gp(2),n6e=Gp(3),tx=Gp(4),a6e=Gp(5),i6e=Gp(6);gS.range;P5.range;r6e.range;n6e.range;tx.range;a6e.range;i6e.range;const PP=js(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());PP.range;const LP=js(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LP.range;const Ef=js(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ef.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:js(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ef.range;const Df=js(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Df.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:js(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Df.range;function wte(t,e,r,n,a,s){const o=[[op,1,df],[op,5,5*df],[op,15,15*df],[op,30,30*df],[s,1,mc],[s,5,5*mc],[s,15,15*mc],[s,30,30*mc],[a,1,ff],[a,3,3*ff],[a,6,6*ff],[a,12,12*ff],[n,1,Of],[n,2,2*Of],[r,1,TP],[e,1,gq],[e,3,3*gq],[t,1,P4]];function l(u,f,m){const g=f<u;g&&([u,f]=[f,u]);const p=m&&typeof m.range=="function"?m:c(u,f,m),v=p?p.range(u,+f+1):[];return g?v.reverse():v}function c(u,f,m){const g=Math.abs(f-u)/m,p=xP(([,,b])=>b).right(o,g);if(p===o.length)return t.every(HO(u/P4,f/P4,m));if(p===0)return E5.every(Math.max(HO(u,f,m),1));const[v,w]=o[g/o[p-1][2]<o[p][2]/g?p-1:p];return v.every(w)}return[l,c]}const[s6e,o6e]=wte(Df,LP,gS,vte,DP,OP),[l6e,c6e]=wte(Ef,PP,pS,f1,EP,MP);function L4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function u6e(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=zy(a),f=qy(a),m=zy(s),g=qy(s),p=zy(o),v=qy(o),w=zy(l),b=qy(l),N=zy(c),k=qy(c),S={a:$,A:q,b:Z,B:ce,c:null,d:jq,e:jq,f:D6e,g:q6e,G:W6e,H:M6e,I:O6e,j:E6e,L:jte,m:P6e,M:L6e,p:X,q:U,Q:kq,s:Cq,S:R6e,u:I6e,U:F6e,V:$6e,w:B6e,W:H6e,x:null,X:null,y:z6e,Y:U6e,Z:V6e,"%":Sq},A={a:J,A:ee,b:ne,B:ue,c:null,d:Nq,e:Nq,f:X6e,g:sEe,G:lEe,H:G6e,I:Y6e,j:K6e,L:Ste,m:J6e,M:Q6e,p:Ae,q:ke,Q:kq,s:Cq,S:Z6e,u:eEe,U:tEe,V:rEe,w:nEe,W:aEe,x:null,X:null,y:iEe,Y:oEe,Z:cEe,"%":Sq},_={a:B,A:D,b:M,B:H,c:G,d:vq,e:vq,f:C6e,g:bq,G:yq,H:wq,I:wq,j:j6e,L:k6e,m:w6e,M:N6e,p:R,q:v6e,Q:A6e,s:T6e,S:S6e,u:p6e,U:g6e,V:x6e,w:m6e,W:y6e,x:Y,X:W,y:bq,Y:yq,Z:b6e,"%":_6e};S.x=O(r,S),S.X=O(n,S),S.c=O(e,S),A.x=O(r,A),A.X=O(n,A),A.c=O(e,A);function O(je,Ce){return function(Be){var fe=[],ge=-1,ae=0,ie=je.length,ht,ut,Pe;for(Be instanceof Date||(Be=new Date(+Be));++ge<ie;)je.charCodeAt(ge)===37&&(fe.push(je.slice(ae,ge)),(ut=xq[ht=je.charAt(++ge)])!=null?ht=je.charAt(++ge):ut=ht==="e"?" ":"0",(Pe=Ce[ht])&&(ht=Pe(Be,ut)),fe.push(ht),ae=ge+1);return fe.push(je.slice(ae,ge)),fe.join("")}}function I(je,Ce){return function(Be){var fe=Hy(1900,void 0,1),ge=L(fe,je,Be+="",0),ae,ie;if(ge!=Be.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ce&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(ae=R4(Hy(fe.y,0,1)),ie=ae.getUTCDay(),ae=ie>4||ie===0?P5.ceil(ae):P5(ae),ae=mS.offset(ae,(fe.V-1)*7),fe.y=ae.getUTCFullYear(),fe.m=ae.getUTCMonth(),fe.d=ae.getUTCDate()+(fe.w+6)%7):(ae=L4(Hy(fe.y,0,1)),ie=ae.getDay(),ae=ie>4||ie===0?D5.ceil(ae):D5(ae),ae=f1.offset(ae,(fe.V-1)*7),fe.y=ae.getFullYear(),fe.m=ae.getMonth(),fe.d=ae.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),ie="Z"in fe?R4(Hy(fe.y,0,1)).getUTCDay():L4(Hy(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(ie+5)%7:fe.w+fe.U*7-(ie+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,R4(fe)):L4(fe)}}function L(je,Ce,Be,fe){for(var ge=0,ae=Ce.length,ie=Be.length,ht,ut;ge<ae;){if(fe>=ie)return-1;if(ht=Ce.charCodeAt(ge++),ht===37){if(ht=Ce.charAt(ge++),ut=_[ht in xq?Ce.charAt(ge++):ht],!ut||(fe=ut(je,Be,fe))<0)return-1}else if(ht!=Be.charCodeAt(fe++))return-1}return fe}function R(je,Ce,Be){var fe=u.exec(Ce.slice(Be));return fe?(je.p=f.get(fe[0].toLowerCase()),Be+fe[0].length):-1}function B(je,Ce,Be){var fe=p.exec(Ce.slice(Be));return fe?(je.w=v.get(fe[0].toLowerCase()),Be+fe[0].length):-1}function D(je,Ce,Be){var fe=m.exec(Ce.slice(Be));return fe?(je.w=g.get(fe[0].toLowerCase()),Be+fe[0].length):-1}function M(je,Ce,Be){var fe=N.exec(Ce.slice(Be));return fe?(je.m=k.get(fe[0].toLowerCase()),Be+fe[0].length):-1}function H(je,Ce,Be){var fe=w.exec(Ce.slice(Be));return fe?(je.m=b.get(fe[0].toLowerCase()),Be+fe[0].length):-1}function G(je,Ce,Be){return L(je,e,Ce,Be)}function Y(je,Ce,Be){return L(je,r,Ce,Be)}function W(je,Ce,Be){return L(je,n,Ce,Be)}function $(je){return o[je.getDay()]}function q(je){return s[je.getDay()]}function Z(je){return c[je.getMonth()]}function ce(je){return l[je.getMonth()]}function X(je){return a[+(je.getHours()>=12)]}function U(je){return 1+~~(je.getMonth()/3)}function J(je){return o[je.getUTCDay()]}function ee(je){return s[je.getUTCDay()]}function ne(je){return c[je.getUTCMonth()]}function ue(je){return l[je.getUTCMonth()]}function Ae(je){return a[+(je.getUTCHours()>=12)]}function ke(je){return 1+~~(je.getUTCMonth()/3)}return{format:function(je){var Ce=O(je+="",S);return Ce.toString=function(){return je},Ce},parse:function(je){var Ce=I(je+="",!1);return Ce.toString=function(){return je},Ce},utcFormat:function(je){var Ce=O(je+="",A);return Ce.toString=function(){return je},Ce},utcParse:function(je){var Ce=I(je+="",!0);return Ce.toString=function(){return je},Ce}}}var xq={"-":"",_:" ",0:"0"},Is=/^\s*\d+/,d6e=/^%/,f6e=/[\\^$*+?|[\]().{}]/g;function Yn(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function h6e(t){return t.replace(f6e,"\\$&")}function zy(t){return new RegExp("^(?:"+t.map(h6e).join("|")+")","i")}function qy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function m6e(t,e,r){var n=Is.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function p6e(t,e,r){var n=Is.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function g6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function x6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function y6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function yq(t,e,r){var n=Is.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function bq(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function b6e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function v6e(t,e,r){var n=Is.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function w6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function vq(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function j6e(t,e,r){var n=Is.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function wq(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function N6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function S6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function k6e(t,e,r){var n=Is.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function C6e(t,e,r){var n=Is.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _6e(t,e,r){var n=d6e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function A6e(t,e,r){var n=Is.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function T6e(t,e,r){var n=Is.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function jq(t,e){return Yn(t.getDate(),e,2)}function M6e(t,e){return Yn(t.getHours(),e,2)}function O6e(t,e){return Yn(t.getHours()%12||12,e,2)}function E6e(t,e){return Yn(1+f1.count(Ef(t),t),e,3)}function jte(t,e){return Yn(t.getMilliseconds(),e,3)}function D6e(t,e){return jte(t,e)+"000"}function P6e(t,e){return Yn(t.getMonth()+1,e,2)}function L6e(t,e){return Yn(t.getMinutes(),e,2)}function R6e(t,e){return Yn(t.getSeconds(),e,2)}function I6e(t){var e=t.getDay();return e===0?7:e}function F6e(t,e){return Yn(pS.count(Ef(t)-1,t),e,2)}function Nte(t){var e=t.getDay();return e>=4||e===0?ex(t):ex.ceil(t)}function $6e(t,e){return t=Nte(t),Yn(ex.count(Ef(t),t)+(Ef(t).getDay()===4),e,2)}function B6e(t){return t.getDay()}function H6e(t,e){return Yn(D5.count(Ef(t)-1,t),e,2)}function z6e(t,e){return Yn(t.getFullYear()%100,e,2)}function q6e(t,e){return t=Nte(t),Yn(t.getFullYear()%100,e,2)}function U6e(t,e){return Yn(t.getFullYear()%1e4,e,4)}function W6e(t,e){var r=t.getDay();return t=r>=4||r===0?ex(t):ex.ceil(t),Yn(t.getFullYear()%1e4,e,4)}function V6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yn(e/60|0,"0",2)+Yn(e%60,"0",2)}function Nq(t,e){return Yn(t.getUTCDate(),e,2)}function G6e(t,e){return Yn(t.getUTCHours(),e,2)}function Y6e(t,e){return Yn(t.getUTCHours()%12||12,e,2)}function K6e(t,e){return Yn(1+mS.count(Df(t),t),e,3)}function Ste(t,e){return Yn(t.getUTCMilliseconds(),e,3)}function X6e(t,e){return Ste(t,e)+"000"}function J6e(t,e){return Yn(t.getUTCMonth()+1,e,2)}function Q6e(t,e){return Yn(t.getUTCMinutes(),e,2)}function Z6e(t,e){return Yn(t.getUTCSeconds(),e,2)}function eEe(t){var e=t.getUTCDay();return e===0?7:e}function tEe(t,e){return Yn(gS.count(Df(t)-1,t),e,2)}function kte(t){var e=t.getUTCDay();return e>=4||e===0?tx(t):tx.ceil(t)}function rEe(t,e){return t=kte(t),Yn(tx.count(Df(t),t)+(Df(t).getUTCDay()===4),e,2)}function nEe(t){return t.getUTCDay()}function aEe(t,e){return Yn(P5.count(Df(t)-1,t),e,2)}function iEe(t,e){return Yn(t.getUTCFullYear()%100,e,2)}function sEe(t,e){return t=kte(t),Yn(t.getUTCFullYear()%100,e,2)}function oEe(t,e){return Yn(t.getUTCFullYear()%1e4,e,4)}function lEe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tx(t):tx.ceil(t),Yn(t.getUTCFullYear()%1e4,e,4)}function cEe(){return"+0000"}function Sq(){return"%"}function kq(t){return+t}function Cq(t){return Math.floor(+t/1e3)}var z0,Cte,_te;uEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uEe(t){return z0=u6e(t),Cte=z0.format,z0.parse,_te=z0.utcFormat,z0.utcParse,z0}function dEe(t){return new Date(t)}function fEe(t){return t instanceof Date?+t:+new Date(+t)}function RP(t,e,r,n,a,s,o,l,c,u){var f=jP(),m=f.invert,g=f.domain,p=u(".%L"),v=u(":%S"),w=u("%I:%M"),b=u("%I %p"),N=u("%a %d"),k=u("%b %d"),S=u("%B"),A=u("%Y");function _(O){return(c(O)<O?p:l(O)<O?v:o(O)<O?w:s(O)<O?b:n(O)<O?a(O)<O?N:k:r(O)<O?S:A)(O)}return f.invert=function(O){return new Date(m(O))},f.domain=function(O){return arguments.length?g(Array.from(O,fEe)):g().map(dEe)},f.ticks=function(O){var I=g();return t(I[0],I[I.length-1],O??10)},f.tickFormat=function(O,I){return I==null?_:u(I)},f.nice=function(O){var I=g();return(!O||typeof O.range!="function")&&(O=e(I[0],I[I.length-1],O??10)),O?g(hte(I,O)):f},f.copy=function(){return d1(f,RP(t,e,r,n,a,s,o,l,c,u))},f}function hEe(){return kc.apply(RP(l6e,c6e,Ef,PP,pS,f1,EP,MP,op,Cte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mEe(){return kc.apply(RP(s6e,o6e,Df,LP,gS,mS,DP,OP,op,_te).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xS(){var t=0,e=1,r,n,a,s,o=Ro,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(s(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function f(m){return function(g){var p,v;return arguments.length?([p,v]=g,o=m(p,v),u):[o(0),o(1)]}}return u.range=f(Lx),u.rangeRound=f(wP),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return s=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),u}}function pm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ate(){var t=mm(xS()(Ro));return t.copy=function(){return pm(t,Ate())},qf.apply(t,arguments)}function Tte(){var t=kP(xS()).domain([1,10]);return t.copy=function(){return pm(t,Tte()).base(t.base())},qf.apply(t,arguments)}function Mte(){var t=CP(xS());return t.copy=function(){return pm(t,Mte()).constant(t.constant())},qf.apply(t,arguments)}function IP(){var t=_P(xS());return t.copy=function(){return pm(t,IP()).exponent(t.exponent())},qf.apply(t,arguments)}function pEe(){return IP.apply(null,arguments).exponent(.5)}function Ote(){var t=[],e=Ro;function r(n){if(n!=null&&!isNaN(n=+n))return e((c1(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>tOe(t,s/n))},r.copy=function(){return Ote(e).domain(t)},qf.apply(r,arguments)}function yS(){var t=0,e=.5,r=1,n=1,a,s,o,l,c,u=Ro,f,m=!1,g;function p(w){return isNaN(w=+w)?g:(w=.5+((w=+f(w))-s)*(n*w<n*s?l:c),u(m?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([t,e,r]=w,a=f(t=+t),s=f(e=+e),o=f(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[t,e,r]},p.clamp=function(w){return arguments.length?(m=!!w,p):m},p.interpolator=function(w){return arguments.length?(u=w,p):u};function v(w){return function(b){var N,k,S;return arguments.length?([N,k,S]=b,u=_Oe(w,[N,k,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Lx),p.rangeRound=v(wP),p.unknown=function(w){return arguments.length?(g=w,p):g},function(w){return f=w,a=w(t),s=w(e),o=w(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function Ete(){var t=mm(yS()(Ro));return t.copy=function(){return pm(t,Ete())},qf.apply(t,arguments)}function Dte(){var t=kP(yS()).domain([.1,1,10]);return t.copy=function(){return pm(t,Dte()).base(t.base())},qf.apply(t,arguments)}function Pte(){var t=CP(yS());return t.copy=function(){return pm(t,Pte()).constant(t.constant())},qf.apply(t,arguments)}function FP(){var t=_P(yS());return t.copy=function(){return pm(t,FP()).exponent(t.exponent())},qf.apply(t,arguments)}function gEe(){return FP.apply(null,arguments).exponent(.5)}const _q=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fv,scaleDiverging:Ete,scaleDivergingLog:Dte,scaleDivergingPow:FP,scaleDivergingSqrt:gEe,scaleDivergingSymlog:Pte,scaleIdentity:fte,scaleImplicit:zO,scaleLinear:O5,scaleLog:mte,scaleOrdinal:yP,scalePoint:kb,scalePow:AP,scaleQuantile:xte,scaleQuantize:yte,scaleRadial:gte,scaleSequential:Ate,scaleSequentialLog:Tte,scaleSequentialPow:IP,scaleSequentialQuantile:Ote,scaleSequentialSqrt:pEe,scaleSequentialSymlog:Mte,scaleSqrt:XOe,scaleSymlog:pte,scaleThreshold:bte,scaleTime:hEe,scaleUtc:mEe,tickFormat:dte},Symbol.toStringTag,{value:"Module"}));var I4,Aq;function bS(){if(Aq)return I4;Aq=1;var t=Ox();function e(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,f=l}return f}return I4=e,I4}var F4,Tq;function Lte(){if(Tq)return F4;Tq=1;function t(e,r){return e>r}return F4=t,F4}var $4,Mq;function xEe(){if(Mq)return $4;Mq=1;var t=bS(),e=Lte(),r=Px();function n(a){return a&&a.length?t(a,r,e):void 0}return $4=n,$4}var yEe=xEe();const Hh=Kn(yEe);var B4,Oq;function Rte(){if(Oq)return B4;Oq=1;function t(e,r){return e<r}return B4=t,B4}var H4,Eq;function bEe(){if(Eq)return H4;Eq=1;var t=bS(),e=Rte(),r=Px();function n(a){return a&&a.length?t(a,r,e):void 0}return H4=n,H4}var vEe=bEe();const vS=Kn(vEe);var z4,Dq;function wEe(){if(Dq)return z4;Dq=1;var t=eP(),e=xd(),r=Uee(),n=dl();function a(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return z4=a,z4}var q4,Pq;function jEe(){if(Pq)return q4;Pq=1;var t=zee(),e=wEe();function r(n,a){return t(e(n,a),1)}return q4=r,q4}var NEe=jEe();const SEe=Kn(NEe);var U4,Lq;function kEe(){if(Lq)return U4;Lq=1;var t=hP();function e(r,n){return t(r,n)}return U4=e,U4}var CEe=kEe();const Rp=Kn(CEe);var Rx=1e9,_Ee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BP,ei=!0,jc="[DecimalError] ",wp=jc+"Invalid argument: ",$P=jc+"Exponent out of range: ",Ix=Math.floor,Vm=Math.pow,AEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_l,Ts=1e7,qa=7,Ite=9007199254740991,L5=Ix(Ite/qa),pr={};pr.absoluteValue=pr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pr.comparedTo=pr.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};pr.decimalPlaces=pr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qa;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pr.dividedBy=pr.div=function(t){return kf(this,new this.constructor(t))};pr.dividedToIntegerBy=pr.idiv=function(t){var e=this,r=e.constructor;return Ta(kf(e,new r(t),0,1),r.precision)};pr.equals=pr.eq=function(t){return!this.cmp(t)};pr.exponent=function(){return ts(this)};pr.greaterThan=pr.gt=function(t){return this.cmp(t)>0};pr.greaterThanOrEqualTo=pr.gte=function(t){return this.cmp(t)>=0};pr.isInteger=pr.isint=function(){return this.e>this.d.length-2};pr.isNegative=pr.isneg=function(){return this.s<0};pr.isPositive=pr.ispos=function(){return this.s>0};pr.isZero=function(){return this.s===0};pr.lessThan=pr.lt=function(t){return this.cmp(t)<0};pr.lessThanOrEqualTo=pr.lte=function(t){return this.cmp(t)<1};pr.logarithm=pr.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_l))throw Error(jc+"NaN");if(r.s<1)throw Error(jc+(r.s?"NaN":"-Infinity"));return r.eq(_l)?new n(0):(ei=!1,e=kf(xv(r,s),xv(t,s),s),ei=!0,Ta(e,a))};pr.minus=pr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Bte(e,t):Fte(e,(t.s=-t.s,t))};pr.modulo=pr.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(jc+"NaN");return r.s?(ei=!1,e=kf(r,t,0,1).times(t),ei=!0,r.minus(e)):Ta(new n(r),a)};pr.naturalExponential=pr.exp=function(){return $te(this)};pr.naturalLogarithm=pr.ln=function(){return xv(this)};pr.negated=pr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pr.plus=pr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fte(e,t):Bte(e,(t.s=-t.s,t))};pr.precision=pr.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wp+t);if(e=ts(a)+1,n=a.d.length-1,r=n*qa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pr.squareRoot=pr.sqrt=function(){var t,e,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(jc+"NaN")}for(t=ts(l),ei=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Xu(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ix((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(kf(l,s,o+2)).times(.5),Xu(s.d).slice(0,o)===(e=Xu(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ta(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return ei=!0,Ta(n,r)};pr.times=pr.mul=function(t){var e,r,n,a,s,o,l,c,u,f=this,m=f.constructor,g=f.d,p=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,r=f.e+t.e,c=g.length,u=p.length,c<u&&(s=g,g=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+p[n]*g[a-n-1]+e,s[a--]=l%Ts|0,e=l/Ts|0;s[a]=(s[a]+e)%Ts|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ei?Ta(t,m.precision):t};pr.toDecimalPlaces=pr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(dd(t,0,Rx),e===void 0?e=n.rounding:dd(e,0,8),Ta(r,t+ts(r)+1,e))};pr.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Ip(n,!0):(dd(t,0,Rx),e===void 0?e=a.rounding:dd(e,0,8),n=Ta(new a(n),t+1,e),r=Ip(n,!0,t+1)),r};pr.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?Ip(a):(dd(t,0,Rx),e===void 0?e=s.rounding:dd(e,0,8),n=Ta(new s(a),t+ts(a)+1,e),r=Ip(n.abs(),!1,t+ts(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pr.toInteger=pr.toint=function(){var t=this,e=t.constructor;return Ta(new e(t),ts(t)+1,e.rounding)};pr.toNumber=function(){return+this};pr.toPower=pr.pow=function(t){var e,r,n,a,s,o,l=this,c=l.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(_l);if(l=new c(l),!l.s){if(t.s<1)throw Error(jc+"Infinity");return l}if(l.eq(_l))return l;if(n=c.precision,t.eq(_l))return Ta(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=f<0?-f:f)<=Ite){for(a=new c(_l),e=Math.ceil(n/qa+4),ei=!1;r%2&&(a=a.times(l),Iq(a.d,e)),r=Ix(r/2),r!==0;)l=l.times(l),Iq(l.d,e);return ei=!0,t.s<0?new c(_l).div(a):Ta(a,n)}}else if(s<0)throw Error(jc+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ei=!1,a=t.times(xv(l,n+u)),ei=!0,a=$te(a),a.s=s,a};pr.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=ts(a),n=Ip(a,r<=s.toExpNeg||r>=s.toExpPos)):(dd(t,1,Rx),e===void 0?e=s.rounding:dd(e,0,8),a=Ta(new s(a),t,e),r=ts(a),n=Ip(a,t<=r||r<=s.toExpNeg,t)),n};pr.toSignificantDigits=pr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(dd(t,1,Rx),e===void 0?e=n.rounding:dd(e,0,8)),Ta(new n(r),t,e)};pr.toString=pr.valueOf=pr.val=pr.toJSON=pr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ts(t),r=t.constructor;return Ip(t,e<=r.toExpNeg||e>=r.toExpPos)};function Fte(t,e){var r,n,a,s,o,l,c,u,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ei?Ta(e,m):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(m/qa),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ts|0,c[s]%=Ts;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,ei?Ta(e,m):e}function dd(t,e,r){if(t!==~~t||t<e||t>r)throw Error(wp+t)}function Xu(t){var e,r,n,a=t.length-1,s="",o=t[0];if(a>0){for(s+=o,e=1;e<a;e++)n=t[e]+"",r=qa-n.length,r&&(s+=Ph(r)),s+=n;o=t[e],n=o+"",r=qa-n.length,r&&(s+=Ph(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var kf=(function(){function t(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ts|0,o=s/Ts|0;return o&&n.unshift(o),n}function e(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ts+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,O,I,L,R=n.constructor,B=n.s==a.s?1:-1,D=n.d,M=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(jc+"Division by zero");for(c=n.e-a.e,I=M.length,_=D.length,p=new R(B),v=p.d=[],u=0;M[u]==(D[u]||0);)++u;if(M[u]>(D[u]||0)&&--c,s==null?k=s=R.precision:o?k=s+(ts(n)-ts(a))+1:k=s,k<0)return new R(0);if(k=k/qa+2|0,u=0,I==1)for(f=0,M=M[0],k++;(u<_||f)&&k--;u++)S=f*Ts+(D[u]||0),v[u]=S/M|0,f=S%M|0;else{for(f=Ts/(M[0]+1)|0,f>1&&(M=t(M,f),D=t(D,f),I=M.length,_=D.length),A=I,w=D.slice(0,I),b=w.length;b<I;)w[b++]=0;L=M.slice(),L.unshift(0),O=M[0],M[1]>=Ts/2&&++O;do f=0,l=e(M,w,I,b),l<0?(N=w[0],I!=b&&(N=N*Ts+(w[1]||0)),f=N/O|0,f>1?(f>=Ts&&(f=Ts-1),m=t(M,f),g=m.length,b=w.length,l=e(m,w,g,b),l==1&&(f--,r(m,I<g?L:M,g))):(f==0&&(l=f=1),m=M.slice()),g=m.length,g<b&&m.unshift(0),r(w,m,b),l==-1&&(b=w.length,l=e(M,w,I,b),l<1&&(f++,r(w,I<b?L:M,b))),b=w.length):l===0&&(f++,w=[0]),v[u++]=f,l&&w[0]?w[b++]=D[A]||0:(w=[D[A]],b=1);while((A++<_||w[0]!==void 0)&&k--)}return v[0]||v.shift(),p.e=c,Ta(p,o?s+ts(p)+1:s)}})();function $te(t,e){var r,n,a,s,o,l,c=0,u=0,f=t.constructor,m=f.precision;if(ts(t)>16)throw Error($P+ts(t));if(!t.s)return new f(_l);for(ei=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Vm(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new f(_l),f.precision=l;;){if(a=Ta(a.times(t),l),r=r.times(++c),o=s.plus(kf(a,r,l)),Xu(o.d).slice(0,l)===Xu(s.d).slice(0,l)){for(;u--;)s=Ta(s.times(s),l);return f.precision=m,e==null?(ei=!0,Ta(s,m)):s}s=o}}function ts(t){for(var e=t.e*qa,r=t.d[0];r>=10;r/=10)e++;return e}function W4(t,e,r){if(e>t.LN10.sd())throw ei=!0,r&&(t.precision=r),Error(jc+"LN10 precision limit exceeded");return Ta(new t(t.LN10),e)}function Ph(t){for(var e="";t--;)e+="0";return e}function xv(t,e){var r,n,a,s,o,l,c,u,f,m=1,g=10,p=t,v=p.d,w=p.constructor,b=w.precision;if(p.s<1)throw Error(jc+(p.s?"NaN":"-Infinity"));if(p.eq(_l))return new w(0);if(e==null?(ei=!1,u=b):u=e,p.eq(10))return e==null&&(ei=!0),W4(w,u);if(u+=g,w.precision=u,r=Xu(v),n=r.charAt(0),s=ts(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Xu(p.d),n=r.charAt(0),m++;s=ts(p),n>1?(p=new w("0."+r),s++):p=new w(n+"."+r.slice(1))}else return c=W4(w,u+2,b).times(s+""),p=xv(new w(n+"."+r.slice(1)),u-g).plus(c),w.precision=b,e==null?(ei=!0,Ta(p,b)):p;for(l=o=p=kf(p.minus(_l),p.plus(_l),u),f=Ta(p.times(p),u),a=3;;){if(o=Ta(o.times(f),u),c=l.plus(kf(o,new w(a),u)),Xu(c.d).slice(0,u)===Xu(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(W4(w,u+2,b).times(s+""))),l=kf(l,new w(m),u),w.precision=b,e==null?(ei=!0,Ta(l,b)):l;l=c,a+=2}}function Rq(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Ix(r/qa),t.d=[],n=(r+1)%qa,r<0&&(n+=qa),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=qa;n<a;)t.d.push(+e.slice(n,n+=qa));e=e.slice(n),n=qa-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ei&&(t.e>L5||t.e<-L5))throw Error($P+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ta(t,e,r){var n,a,s,o,l,c,u,f,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=qa,a=e,u=m[f=0];else{if(f=Math.ceil((n+1)/qa),s=m.length,f>=s)return t;for(u=s=m[f],o=1;s>=10;s/=10)o++;n%=qa,a=n-qa+o}if(r!==void 0&&(s=Vm(10,o-a-1),l=u/s%10|0,c=e<0||m[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Vm(10,o-a):0:m[f-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(s=ts(t),m.length=1,e=e-s-1,m[0]=Vm(10,(qa-e%qa)%qa),t.e=Ix(-e/qa)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=f,s=1,f--):(m.length=f+1,s=Vm(10,qa-n),m[f]=a>0?(u/Vm(10,o-a)%Vm(10,a)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==Ts&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=Ts)break;m[f--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(ei&&(t.e>L5||t.e<-L5))throw Error($P+ts(t));return t}function Bte(t,e){var r,n,a,s,o,l,c,u,f,m,g=t.constructor,p=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ei?Ta(e,p):e;if(c=t.d,m=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=m.length):(r=m,n=u,l=c.length),a=Math.max(Math.ceil(p/qa),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){f=c[a]<m[a];break}o=0}for(f&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(s=a;s&&c[--s]===0;)c[s]=Ts-1;--c[s],c[a]+=Ts}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ei?Ta(e,p):e):new g(0)}function Ip(t,e,r){var n,a=ts(t),s=Xu(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ph(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ph(-a-1)+s,r&&(n=r-o)>0&&(s+=Ph(n))):a>=o?(s+=Ph(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Ph(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Ph(n))),t.s<0?"-"+s:s}function Iq(t,e){if(t.length>e)return t.length=e,!0}function Hte(t){var e,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Rq(o,s.toString())}else if(typeof s!="string")throw Error(wp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,AEe.test(s))Rq(o,s);else throw Error(wp+s)}if(a.prototype=pr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Hte,a.config=a.set=TEe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function TEe(t){if(!t||typeof t!="object")throw Error(jc+"Object expected");var e,r,n,a=["precision",1,Rx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Ix(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(wp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wp+r+": "+n);return this}var BP=Hte(_Ee);_l=new BP(1);const wa=BP;function MEe(t){return PEe(t)||DEe(t)||EEe(t)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(t,e){if(t){if(typeof t=="string")return VO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VO(t,e)}}function DEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PEe(t){if(Array.isArray(t))return VO(t)}function VO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var LEe=function(e){return e},zte={},qte=function(e){return e===zte},Fq=function(e){return function r(){return arguments.length===0||arguments.length===1&&qte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},REe=function t(e,r){return e===1?r:Fq(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==zte}).length;return o>=e?r.apply(void 0,a):t(e-o,Fq(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(m){return qte(m)?c.shift():m});return r.apply(void 0,MEe(f).concat(c))}))})},wS=function(e){return REe(e.length,e)},GO=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},IEe=wS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),FEe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return LEe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},YO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ute=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function $Ee(t){var e;return t===0?e=1:e=Math.floor(new wa(t).abs().log(10).toNumber())+1,e}function BEe(t,e,r){for(var n=new wa(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var HEe=wS(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),zEe=wS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),qEe=wS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jS={rangeStep:BEe,getDigitCount:$Ee,interpolateNumber:HEe,uninterpolateNumber:zEe,uninterpolateTruncation:qEe};function KO(t){return VEe(t)||WEe(t)||Wte(t)||UEe()}function UEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function VEe(t){if(Array.isArray(t))return XO(t)}function yv(t,e){return KEe(t)||YEe(t,e)||Wte(t,e)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(t,e){if(t){if(typeof t=="string")return XO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(t,e)}}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YEe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function KEe(t){if(Array.isArray(t))return t}function Vte(t){var e=yv(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function Gte(t,e,r){if(t.lte(0))return new wa(0);var n=jS.getDigitCount(t.toNumber()),a=new wa(10).pow(n),s=t.div(a),o=n!==1?.05:.1,l=new wa(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new wa(Math.ceil(c))}function XEe(t,e,r){var n=1,a=new wa(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new wa(10).pow(jS.getDigitCount(t)-1),a=new wa(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new wa(Math.floor(t)))}else t===0?a=new wa(Math.floor((e-1)/2)):r||(a=new wa(Math.floor(t)));var o=Math.floor((e-1)/2),l=FEe(IEe(function(c){return a.add(new wa(c-o).mul(n)).toNumber()}),GO);return l(0,e)}function Yte(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new wa(0),tickMin:new wa(0),tickMax:new wa(0)};var s=Gte(new wa(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new wa(0):(o=new wa(t).add(e).div(2),o=o.sub(new wa(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new wa(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?Yte(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new wa(l).mul(s)),tickMax:o.add(new wa(c).mul(s))})}function JEe(t){var e=yv(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Vte([r,n]),c=yv(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(KO(GO(0,a-1).map(function(){return 1/0}))):[].concat(KO(GO(0,a-1).map(function(){return-1/0})),[f]);return r>n?YO(m):m}if(u===f)return XEe(u,a,s);var g=Yte(u,f,o,s),p=g.step,v=g.tickMin,w=g.tickMax,b=jS.rangeStep(v,w.add(new wa(.1).mul(p)),p);return r>n?YO(b):b}function QEe(t,e){var r=yv(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Vte([n,a]),l=yv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(e,2),m=Gte(new wa(u).sub(c).div(f-1),s,0),g=[].concat(KO(jS.rangeStep(new wa(c),new wa(u).sub(new wa(.99).mul(m)),m)),[u]);return n>a?YO(g):g}var ZEe=Ute(JEe),eDe=Ute(QEe),tDe="Invariant failed";function Fp(t,e){throw new Error(tDe)}var rDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function R5(){return R5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R5.apply(this,arguments)}function nDe(t,e){return oDe(t)||sDe(t,e)||iDe(t,e)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iDe(t,e){if(t){if(typeof t=="string")return $q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $q(t,e)}}function $q(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oDe(t){if(Array.isArray(t))return t}function lDe(t,e){if(t==null)return{};var r=cDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jte(n.key),n)}}function fDe(t,e,r){return e&&dDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hDe(t,e,r){return e=I5(e),mDe(t,Kte()?Reflect.construct(e,r||[],I5(t).constructor):e.apply(t,r))}function mDe(t,e){if(e&&(rx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pDe(t)}function pDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kte=function(){return!!t})()}function I5(t){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(t)}function gDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JO(t,e)}function JO(t,e){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JO(t,e)}function Xte(t,e,r){return e=Jte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jte(t){var e=xDe(t,"string");return rx(e)=="symbol"?e:e+""}function xDe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h1=(function(t){function e(){return uDe(this,e),hDe(this,e,arguments)}return gDe(e,t),fDe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,g=lDe(n,rDe),p=Tr(g,!1);this.props.direction==="x"&&f.type!=="number"&&Fp();var v=c.map(function(w){var b=u(w,l),N=b.x,k=b.y,S=b.value,A=b.errorVal;if(!A)return null;var _=[],O,I;if(Array.isArray(A)){var L=nDe(A,2);O=L[0],I=L[1]}else O=I=A;if(s==="vertical"){var R=f.scale,B=k+a,D=B+o,M=B-o,H=R(S-O),G=R(S+I);_.push({x1:G,y1:D,x2:G,y2:M}),_.push({x1:H,y1:B,x2:G,y2:B}),_.push({x1:H,y1:D,x2:H,y2:M})}else if(s==="horizontal"){var Y=m.scale,W=N+a,$=W-o,q=W+o,Z=Y(S-O),ce=Y(S+I);_.push({x1:$,y1:ce,x2:q,y2:ce}),_.push({x1:W,y1:Z,x2:W,y2:ce}),_.push({x1:$,y1:Z,x2:q,y2:Z})}return he.createElement(_n,R5({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),_.map(function(X){return he.createElement("line",R5({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return he.createElement(_n,{className:"recharts-errorBars"},v)}}])})(he.Component);Xte(h1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Xte(h1,"displayName","ErrorBar");function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function Bq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $m(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bq(Object(r),!0).forEach(function(n){yDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yDe(t,e,r){return e=bDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bDe(t){var e=vDe(t,"string");return bv(e)=="symbol"?e:e+""}function vDe(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,o=Sl(r,Sf);if(!o)return null;var l=Sf.defaultProps,c=l!==void 0?$m($m({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,m){var g=m.item,p=m.props,v=p.sectors||p.data||[];return f.concat(v.map(function(w){return{type:o.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(n||[]).map(function(f){var m=f.item,g=m.type.defaultProps,p=g!==void 0?$m($m({},g),m.props):{},v=p.dataKey,w=p.name,b=p.legendType,N=p.hide;return{inactive:N,dataKey:v,type:c.iconType||b||"square",color:HP(m),value:w||v,payload:p}}),$m($m($m({},c),Sf.getWithHeight(o,a)),{},{payload:u,item:o})};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function Hq(t){return SDe(t)||NDe(t)||jDe(t)||wDe()}function wDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jDe(t,e){if(t){if(typeof t=="string")return QO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(t,e)}}function NDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SDe(t){if(Array.isArray(t))return QO(t)}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(r),!0).forEach(function(n){Sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sg(t,e,r){return e=kDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kDe(t){var e=CDe(t,"string");return vv(e)=="symbol"?e:e+""}function CDe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fi(t,e,r){return nn(t)||nn(e)?r:ws(e)?El(t,e,r):Gr(e)?e(t):r}function Cb(t,e,r,n){var a=SEe(t,function(l){return Fi(l,e)});if(r==="number"){var s=a.filter(function(l){return Jt(l)||parseFloat(l)});return s.length?[vS(s),Hh(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!nn(l)}):a;return o.map(function(l){return ws(l)||l instanceof Date?l:""})}var _De=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,g=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Po(m-f)!==Po(g-m)){var v=[];if(Po(g-m)===Po(c[1]-c[0])){p=g;var w=m+c[1]-c[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{p=f;var b=g+c[1]-c[0];v[0]=Math.min(m,(b+m)/2),v[1]=Math.max(m,(b+m)/2)}var N=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){o=a[u].index;break}}else{var k=Math.min(f,g),S=Math.max(f,g);if(e>(k+m)/2&&e<=(S+m)/2){o=a[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},HP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vi(vi({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},ADe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,m=Object.keys(f),g=0,p=m.length;g<p;g++){var v=f[m[g]],w=v.items,b=v.cateAxisId,N=w.filter(function(I){return Nf(I.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,S=k!==void 0?vi(vi({},k),N[0].props):N[0].props,A=S.barSize,_=S[b];o[_]||(o[_]=[]);var O=nn(A)?r:A;o[_].push({item:N[0],stackList:N.slice(1),barSize:nn(O)?void 0:Lo(O,n,0)})}}return o},TDe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Lo(r,a,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,p=a/c,v=o.reduce(function(A,_){return A+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&p>0&&(g=!0,p*=.9,v=c*p);var w=(a-v)/2>>0,b={offset:w-u,size:0};f=o.reduce(function(A,_){var O={item:_.item,position:{offset:b.offset+b.size+u,size:g?p:_.barSize}},I=[].concat(Hq(A),[O]);return b=I[I.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(L){I.push({item:L,position:b})}),I},m)}else{var N=Lo(n,a,0,!0);a-2*N-(c-1)*u<=0&&(u=0);var k=(a-2*N-(c-1)*u)/c;k>1&&(k>>=0);var S=l===+l?Math.min(k,l):k;f=o.reduce(function(A,_,O){var I=[].concat(Hq(A),[{item:_.item,position:{offset:N+(k+u)*O+(k-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(L){I.push({item:L,position:I[I.length-1].position})}),I},m)}return f},MDe=function(e,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Qte({children:s,legendWidth:c});if(u){var f=a||{},m=f.width,g=f.height,p=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&p!=="center"&&Jt(e[p]))return vi(vi({},e),{},Sg({},p,e[p]+(m||0)));if((w==="horizontal"||w==="vertical"&&p==="center")&&v!=="middle"&&Jt(e[v]))return vi(vi({},e),{},Sg({},v,e[v]+(g||0)))}return e},ODe=function(e,r,n){return nn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Zte=function(e,r,n,a,s){var o=r.props.children,l=Dl(o,h1).filter(function(u){return ODe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var m=Fi(f,n);if(nn(m))return u;var g=Array.isArray(m)?[vS(m),Hh(m)]:[m,m],p=c.reduce(function(v,w){var b=Fi(f,w,0),N=g[0]-Math.abs(Array.isArray(b)?b[0]:b),k=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(N,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},EDe=function(e,r,n,a,s){var o=r.map(function(l){return Zte(e,l,n,s,a)}).filter(function(l){return!nn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},ere=function(e,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Zte(e,c,u,a)||Cb(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,m=u.length;f<m;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},tre=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},rre=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},hf=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Po(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var g=s?s.indexOf(m):m;return{coordinate:a(g)+u,value:m,offset:u}});return f.filter(function(m){return!Dx(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:a(m)+u,value:m,index:g,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,g){return{coordinate:a(m)+u,value:s?s[m]:m,index:g,offset:u}})},V4=new WeakMap,Xw=function(e,r){if(typeof r!="function")return e;V4.has(e)||V4.set(e,new WeakMap);var n=V4.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},nre=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:fv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:O5(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:kb(),realScaleType:"point"}:s==="category"?{scale:fv(),realScaleType:"band"}:{scale:O5(),realScaleType:"linear"};if(Ep(a)){var c="scale".concat(sS(a));return{scale:(_q[c]||kb)(),realScaleType:_q[c]?c:"point"}}return Gr(a)?{scale:a}:{scale:kb(),realScaleType:"point"}},qq=1e-4,are=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-qq,o=Math.max(a[0],a[1])+qq,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},DDe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},PDe=function(e,r){if(!r||r.length!==2||!Jt(r[0])||!Jt(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Jt(e[0])||e[0]<n)&&(s[0]=n),(!Jt(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},LDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Dx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},RDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Dx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},IDe={sign:LDe,expand:S3e,none:Yg,silhouette:k3e,wiggle:C3e,positive:RDe},FDe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=IDe[n],o=N3e().keys(a).value(function(l,c){return+Fi(l,c,0)}).order(AO).offset(s);return o(e)},$De=function(e,r,n,a,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(m,g){var p,v=(p=g.type)!==null&&p!==void 0&&p.defaultProps?vi(vi({},g.type.defaultProps),g.props):g.props,w=v.stackId,b=v.hide;if(b)return m;var N=v[n],k=m[N]||{hasStack:!1,stackGroups:{}};if(ws(w)){var S=k.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(g),k.hasStack=!0,k.stackGroups[w]=S}else k.stackGroups[Wp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return vi(vi({},m),{},Sg({},N,k))},c),f={};return Object.keys(u).reduce(function(m,g){var p=u[g];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(w,b){var N=p.stackGroups[b];return vi(vi({},w),{},Sg({},b,{numericAxisId:n,cateAxisId:a,items:N.items,stackedData:FDe(e,N.items,s)}))},v)}return vi(vi({},m),{},Sg({},g,p))},f)},ire=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=ZEe(u,s,l);return e.domain([vS(f),Hh(f)]),{niceTicks:f}}if(s&&a==="number"){var m=e.domain(),g=eDe(m,s,l);return{niceTicks:g}}return null};function F5(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nn(a[e.dataKey])){var l=h5(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Fi(a,nn(o)?e.dataKey:o);return nn(c)?null:e.scale(c)}var Uq=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Fi(o,r.dataKey,r.domain[l]);return nn(c)?null:r.scale(c)-s/2+a},BDe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},HDe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vi(vi({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(ws(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},zDe=function(e){return e.reduce(function(r,n){return[vS(n.concat([r[0]]).filter(Jt)),Hh(n.concat([r[1]]).filter(Jt))]},[1/0,-1/0])},sre=function(e,r,n){return Object.keys(e).reduce(function(a,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,f){var m=zDe(f.slice(r,n+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Wq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZO=function(e,r,n){if(Gr(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Jt(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(Wq.test(e[0])){var s=+Wq.exec(e[0])[1];a[0]=r[0]-s}else Gr(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Jt(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(Vq.test(e[1])){var o=+Vq.exec(e[1])[1];a[1]=r[1]+o}else Gr(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},$5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=pP(r,function(m){return m.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Gq=function(e,r,n){return!e||!e.length||Rp(e,El(n,"type.defaultProps.domain"))?r:e},ore=function(e,r){var n=e.type.defaultProps?vi(vi({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return vi(vi({},Tr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:HP(e),value:Fi(r,a),type:c,payload:r,chartType:u,hide:f})};function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function Yq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yq(Object(r),!0).forEach(function(n){lre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lre(t,e,r){return e=qDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qDe(t){var e=UDe(t,"string");return wv(e)=="symbol"?e:e+""}function UDe(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WDe(t,e){return KDe(t)||YDe(t,e)||GDe(t,e)||VDe()}function VDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GDe(t,e){if(t){if(typeof t=="string")return Kq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kq(t,e)}}function Kq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KDe(t){if(Array.isArray(t))return t}var B5=Math.PI/180,XDe=function(e){return e*180/Math.PI},Pa=function(e,r,n,a){return{x:e+Math.cos(-B5*a)*n,y:r+Math.sin(-B5*a)*n}},cre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},JDe=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,f=Lo(e.cx,o,o/2),m=Lo(e.cy,l,l/2),g=cre(o,l,n),p=Lo(e.innerRadius,g,0),v=Lo(e.outerRadius,g,g*.8),w=Object.keys(r);return w.reduce(function(b,N){var k=r[N],S=k.domain,A=k.reversed,_;if(nn(k.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[p,v]),A&&(_=[_[1],_[0]]);else{_=k.range;var O=_,I=WDe(O,2);c=I[0],u=I[1]}var L=nre(k,s),R=L.realScaleType,B=L.scale;B.domain(S).range(_),are(B);var D=ire(B,af(af({},k),{},{realScaleType:R})),M=af(af(af({},k),D),{},{range:_,radius:v,realScaleType:R,scale:B,cx:f,cy:m,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return af(af({},b),{},lre({},N,M))},{})},QDe=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},ZDe=function(e,r){var n=e.x,a=e.y,s=r.cx,o=r.cy,l=QDe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:XDe(u),angleInRadian:u}},ePe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},tPe=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return e+l*360},Xq=function(e,r){var n=e.x,a=e.y,s=ZDe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=ePe(r),m=f.startAngle,g=f.endAngle,p=l,v;if(m<=g){for(;p>g;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=g}else{for(;p>m;)p-=360;for(;p<g;)p+=360;v=p>=g&&p<=m}return v?af(af({},r),{},{radius:o,angle:tPe(p,r)}):null},ure=function(e){return!y.isValidElement(e)&&!Gr(e)&&typeof e!="boolean"?e.className:""};function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}var rPe=["offset"];function nPe(t){return oPe(t)||sPe(t)||iPe(t)||aPe()}function aPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(t,e){if(t){if(typeof t=="string")return e6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e6(t,e)}}function sPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oPe(t){if(Array.isArray(t))return e6(t)}function e6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lPe(t,e){if(t==null)return{};var r=cPe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(r),!0).forEach(function(n){uPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uPe(t,e,r){return e=dPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dPe(t){var e=fPe(t,"string");return jv(e)=="symbol"?e:e+""}function fPe(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}var hPe=function(e){var r=e.value,n=e.formatter,a=nn(e.children)?r:e.children;return Gr(n)?n(a):a},mPe=function(e,r){var n=Po(r-e),a=Math.min(Math.abs(r-e),360);return n*a},pPe=function(e,r,n){var a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,f=c.cy,m=c.innerRadius,g=c.outerRadius,p=c.startAngle,v=c.endAngle,w=c.clockWise,b=(m+g)/2,N=mPe(p,v),k=N>=0?1:-1,S,A;a==="insideStart"?(S=p+k*o,A=w):a==="insideEnd"?(S=v-k*o,A=!w):a==="end"&&(S=v+k*o,A=w),A=N<=0?A:!A;var _=Pa(u,f,b,S),O=Pa(u,f,b,S+(A?1:-1)*359),I="M".concat(_.x,",").concat(_.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),L=nn(e.id)?Wp("recharts-radial-line-"):e.id;return he.createElement("text",Nv({},n,{dominantBaseline:"central",className:Cr("recharts-radial-bar-label",l)}),he.createElement("defs",null,he.createElement("path",{id:L,d:I})),he.createElement("textPath",{xlinkHref:"#".concat(L)},r))},gPe=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,m=s.endAngle,g=(f+m)/2;if(a==="outside"){var p=Pa(o,l,u+n,g),v=p.x,w=p.y;return{x:v,y:w,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,N=Pa(o,l,b,g),k=N.x,S=N.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},xPe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,m=f>=0?1:-1,g=m*a,p=m>0?"end":"start",v=m>0?"start":"end",w=u>=0?1:-1,b=w*a,N=w>0?"end":"start",k=w>0?"start":"end";if(s==="top"){var S={x:l+u/2,y:c-m*a,textAnchor:"middle",verticalAnchor:p};return bs(bs({},S),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:v};return bs(bs({},A),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var _={x:l-b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return bs(bs({},_),n?{width:Math.max(_.x-n.x,0),height:f}:{})}if(s==="right"){var O={x:l+u+b,y:c+f/2,textAnchor:k,verticalAnchor:"middle"};return bs(bs({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var I=n?{width:u,height:f}:{};return s==="insideLeft"?bs({x:l+b,y:c+f/2,textAnchor:k,verticalAnchor:"middle"},I):s==="insideRight"?bs({x:l+u-b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},I):s==="insideTop"?bs({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:v},I):s==="insideBottom"?bs({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:p},I):s==="insideTopLeft"?bs({x:l+b,y:c+g,textAnchor:k,verticalAnchor:v},I):s==="insideTopRight"?bs({x:l+u-b,y:c+g,textAnchor:N,verticalAnchor:v},I):s==="insideBottomLeft"?bs({x:l+b,y:c+f-g,textAnchor:k,verticalAnchor:p},I):s==="insideBottomRight"?bs({x:l+u-b,y:c+f-g,textAnchor:N,verticalAnchor:p},I):Ex(s)&&(Jt(s.x)||ip(s.x))&&(Jt(s.y)||ip(s.y))?bs({x:l+Lo(s.x,u),y:c+Lo(s.y,f),textAnchor:"end",verticalAnchor:"end"},I):bs({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},yPe=function(e){return"cx"in e&&Jt(e.cx)};function Es(t){var e=t.offset,r=e===void 0?5:e,n=lPe(t,rPe),a=bs({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,m=f===void 0?"":f,g=a.textBreakAll;if(!s||nn(l)&&nn(c)&&!y.isValidElement(u)&&!Gr(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var p;if(Gr(u)){if(p=y.createElement(u,a),y.isValidElement(p))return p}else p=hPe(a);var v=yPe(s),w=Tr(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return pPe(a,p,w);var b=v?gPe(a):xPe(a);return he.createElement(Lp,Nv({className:Cr("recharts-label",m)},w,b,{breakAll:g}),p)}Es.displayName="Label";var dre=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,m=e.x,g=e.y,p=e.top,v=e.left,w=e.width,b=e.height,N=e.clockWise,k=e.labelViewBox;if(k)return k;if(Jt(w)&&Jt(b)){if(Jt(m)&&Jt(g))return{x:m,y:g,width:w,height:b};if(Jt(p)&&Jt(v))return{x:p,y:v,width:w,height:b}}return Jt(m)&&Jt(g)?{x:m,y:g,width:0,height:0}:Jt(r)&&Jt(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},bPe=function(e,r){return e?e===!0?he.createElement(Es,{key:"label-implicit",viewBox:r}):ws(e)?he.createElement(Es,{key:"label-implicit",viewBox:r,value:e}):y.isValidElement(e)?e.type===Es?y.cloneElement(e,{key:"label-implicit",viewBox:r}):he.createElement(Es,{key:"label-implicit",content:e,viewBox:r}):Gr(e)?he.createElement(Es,{key:"label-implicit",content:e,viewBox:r}):Ex(e)?he.createElement(Es,Nv({viewBox:r},e,{key:"label-implicit"})):null:null},vPe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=dre(e),o=Dl(a,Es).map(function(c,u){return y.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=bPe(e.label,r||s);return[l].concat(nPe(o))};Es.parseViewBox=dre;Es.renderCallByParent=vPe;var G4,Qq;function wPe(){if(Qq)return G4;Qq=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return G4=t,G4}var jPe=wPe();const NPe=Kn(jPe);function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}var SPe=["valueAccessor"],kPe=["data","dataKey","clockWise","id","textBreakAll"];function CPe(t){return MPe(t)||TPe(t)||APe(t)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(t,e){if(t){if(typeof t=="string")return t6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(t,e)}}function TPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MPe(t){if(Array.isArray(t))return t6(t)}function t6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H5(){return H5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H5.apply(this,arguments)}function Zq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(r),!0).forEach(function(n){OPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OPe(t,e,r){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EPe(t){var e=DPe(t,"string");return Sv(e)=="symbol"?e:e+""}function DPe(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tU(t,e){if(t==null)return{};var r=PPe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var LPe=function(e){return Array.isArray(e.value)?NPe(e.value):e.value};function id(t){var e=t.valueAccessor,r=e===void 0?LPe:e,n=tU(t,SPe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=tU(n,kPe);return!a||!a.length?null:he.createElement(_n,{className:"recharts-label-list"},a.map(function(f,m){var g=nn(s)?r(f,m):Fi(f&&f.payload,s),p=nn(l)?{}:{id:"".concat(l,"-").concat(m)};return he.createElement(Es,H5({},Tr(f,!0),u,p,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:Es.parseViewBox(nn(o)?f:eU(eU({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}id.displayName="LabelList";function RPe(t,e){return t?t===!0?he.createElement(id,{key:"labelList-implicit",data:e}):he.isValidElement(t)||Gr(t)?he.createElement(id,{key:"labelList-implicit",data:e,content:t}):Ex(t)?he.createElement(id,H5({data:e},t,{key:"labelList-implicit"})):null:null}function IPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Dl(n,id).map(function(o,l){return y.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=RPe(t.label,e);return[s].concat(CPe(a))}id.renderCallByParent=IPe;function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function r6(){return r6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r6.apply(this,arguments)}function rU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(r),!0).forEach(function(n){FPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FPe(t,e,r){return e=$Pe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Pe(t){var e=BPe(t,"string");return kv(e)=="symbol"?e:e+""}function BPe(t,e){if(kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HPe=function(e,r){var n=Po(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Jw=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(l?1:-1)+a,m=Math.asin(c/f)/B5,g=u?s:s+o*m,p=Pa(r,n,f,g),v=Pa(r,n,a,g),w=u?s-o*m:s,b=Pa(r,n,f*Math.cos(m*B5),w);return{center:p,circleTangency:v,lineTangency:b,theta:m}},fre=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=HPe(o,l),u=o+c,f=Pa(r,n,s,o),m=Pa(r,n,s,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var p=Pa(r,n,a,o),v=Pa(r,n,a,u);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},zPe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,m=Po(f-u),g=Jw({cx:r,cy:n,radius:s,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),p=g.circleTangency,v=g.lineTangency,w=g.theta,b=Jw({cx:r,cy:n,radius:s,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=b.circleTangency,k=b.lineTangency,S=b.theta,A=c?Math.abs(u-f):Math.abs(u-f)-w-S;if(A<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):fre({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(a>0){var O=Jw({cx:r,cy:n,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,L=O.lineTangency,R=O.theta,B=Jw({cx:r,cy:n,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=B.circleTangency,M=B.lineTangency,H=B.theta,G=c?Math.abs(u-f):Math.abs(u-f)-R-H;if(G<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},qPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hre=function(e){var r=nU(nU({},qPe),e),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,g=r.className;if(o<s||f===m)return null;var p=Cr("recharts-sector",g),v=o-s,w=Lo(l,v,0,!0),b;return w>0&&Math.abs(f-m)<360?b=zPe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):b=fre({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:f,endAngle:m}),he.createElement("path",r6({},Tr(r,!0),{className:p,d:b,role:"img"}))};function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function n6(){return n6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n6.apply(this,arguments)}function aU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(r),!0).forEach(function(n){UPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UPe(t,e,r){return e=WPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WPe(t){var e=VPe(t,"string");return Cv(e)=="symbol"?e:e+""}function VPe(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sU={curveBasisClosed:f3e,curveBasisOpen:h3e,curveBasis:d3e,curveBumpX:JAe,curveBumpY:QAe,curveLinearClosed:m3e,curveLinear:lS,curveMonotoneX:p3e,curveMonotoneY:g3e,curveNatural:x3e,curveStep:y3e,curveStepAfter:v3e,curveStepBefore:b3e},Qw=function(e){return e.x===+e.x&&e.y===+e.y},Uy=function(e){return e.x},Wy=function(e){return e.y},GPe=function(e,r){if(Gr(e))return e;var n="curve".concat(sS(e));return(n==="curveMonotone"||n==="curveBump")&&r?sU["".concat(n).concat(r==="vertical"?"Y":"X")]:sU[n]||lS},YPe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=GPe(n,l),m=u?s.filter(function(w){return Qw(w)}):s,g;if(Array.isArray(o)){var p=u?o.filter(function(w){return Qw(w)}):o,v=m.map(function(w,b){return iU(iU({},w),{},{base:p[b]})});return l==="vertical"?g=qw().y(Wy).x1(Uy).x0(function(w){return w.base.x}):g=qw().x(Uy).y1(Wy).y0(function(w){return w.base.y}),g.defined(Qw).curve(f),g(v)}return l==="vertical"&&Jt(o)?g=qw().y(Wy).x1(Uy).x0(o):Jt(o)?g=qw().x(Uy).y1(Wy).y0(o):g=dee().x(Uy).y(Wy),g.defined(Qw).curve(f),g(m)},jp=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?YPe(e):a;return y.createElement("path",n6({},Tr(e,!1),m5(e),{className:Cr("recharts-curve",r),d:o,ref:s}))},Y4={exports:{}},K4,oU;function KPe(){if(oU)return K4;oU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K4=t,K4}var X4,lU;function XPe(){if(lU)return X4;lU=1;var t=KPe();function e(){}function r(){}return r.resetWarningCache=e,X4=function(){function n(o,l,c,u,f,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},X4}var cU;function JPe(){return cU||(cU=1,Y4.exports=XPe()()),Y4.exports}var QPe=JPe();const aa=Kn(QPe);var ZPe=Object.getOwnPropertyNames,eLe=Object.getOwnPropertySymbols,tLe=Object.prototype.hasOwnProperty;function uU(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Zw(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function rLe(t){return t!=null?t[Symbol.toStringTag]:void 0}function dU(t){return ZPe(t).concat(eLe(t))}var nLe=Object.hasOwn||(function(t,e){return tLe.call(t,e)});function Yp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var aLe="__v",iLe="__o",sLe="_owner",fU=Object.getOwnPropertyDescriptor,hU=Object.keys;function oLe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function lLe(t,e){return Yp(t.getTime(),e.getTime())}function cLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function uLe(t,e){return t===e}function mU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,m=0;(l=u.next())&&!l.done;){if(a[m]){m++;continue}var g=o.value,p=l.value;if(r.equals(g[0],p[0],c,m,t,e,r)&&r.equals(g[1],p[1],g[0],p[0],t,e,r)){f=a[m]=!0;break}m++}if(!f)return!1;c++}return!0}var dLe=Yp;function fLe(t,e,r){var n=hU(t),a=n.length;if(hU(e).length!==a)return!1;for(;a-- >0;)if(!mre(t,e,r,n[a]))return!1;return!0}function Vy(t,e,r){var n=dU(t),a=n.length;if(dU(e).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!mre(t,e,r,s)||(o=fU(t,s),l=fU(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function hLe(t,e){return Yp(t.valueOf(),e.valueOf())}function mLe(t,e){return t.source===e.source&&t.flags===e.flags}function pU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function pLe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function gLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function mre(t,e,r,n){return(n===sLe||n===iLe||n===aLe)&&(t.$$typeof||e.$$typeof)?!0:nLe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var xLe="[object Arguments]",yLe="[object Boolean]",bLe="[object Date]",vLe="[object Error]",wLe="[object Map]",jLe="[object Number]",NLe="[object Object]",SLe="[object RegExp]",kLe="[object Set]",CLe="[object String]",_Le="[object URL]",ALe=Array.isArray,gU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xU=Object.assign,TLe=Object.prototype.toString.call.bind(Object.prototype.toString);function MLe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual,p=t.unknownTagComparators;return function(w,b,N){if(w===b)return!0;if(w==null||b==null)return!1;var k=typeof w;if(k!==typeof b)return!1;if(k!=="object")return k==="number"?o(w,b,N):k==="function"?a(w,b,N):!1;var S=w.constructor;if(S!==b.constructor)return!1;if(S===Object)return l(w,b,N);if(ALe(w))return e(w,b,N);if(gU!=null&&gU(w))return m(w,b,N);if(S===Date)return r(w,b,N);if(S===RegExp)return u(w,b,N);if(S===Map)return s(w,b,N);if(S===Set)return f(w,b,N);var A=TLe(w);if(A===bLe)return r(w,b,N);if(A===SLe)return u(w,b,N);if(A===wLe)return s(w,b,N);if(A===kLe)return f(w,b,N);if(A===NLe)return typeof w.then!="function"&&typeof b.then!="function"&&l(w,b,N);if(A===_Le)return g(w,b,N);if(A===vLe)return n(w,b,N);if(A===xLe)return l(w,b,N);if(A===yLe||A===jLe||A===CLe)return c(w,b,N);if(p){var _=p[A];if(!_){var O=rLe(w);O&&(_=p[O])}if(_)return _(w,b,N)}return!1}}function OLe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Vy:oLe,areDatesEqual:lLe,areErrorsEqual:cLe,areFunctionsEqual:uLe,areMapsEqual:n?uU(mU,Vy):mU,areNumbersEqual:dLe,areObjectsEqual:n?Vy:fLe,arePrimitiveWrappersEqual:hLe,areRegExpsEqual:mLe,areSetsEqual:n?uU(pU,Vy):pU,areTypedArraysEqual:n?Vy:pLe,areUrlsEqual:gLe,unknownTagComparators:void 0};if(r&&(a=xU({},a,r(a))),e){var s=Zw(a.areArraysEqual),o=Zw(a.areMapsEqual),l=Zw(a.areObjectsEqual),c=Zw(a.areSetsEqual);a=xU({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function ELe(t){return function(e,r,n,a,s,o,l){return t(e,r,l)}}function DLe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var f=n(),m=f.cache,g=m===void 0?e?new WeakMap:void 0:m,p=f.meta;return r(c,u,{cache:g,equals:a,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var PLe=gm();gm({strict:!0});gm({circular:!0});gm({circular:!0,strict:!0});gm({createInternalComparator:function(){return Yp}});gm({strict:!0,createInternalComparator:function(){return Yp}});gm({circular:!0,createInternalComparator:function(){return Yp}});gm({circular:!0,createInternalComparator:function(){return Yp},strict:!0});function gm(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,o=s===void 0?!1:s,l=OLe(t),c=MLe(l),u=n?n(c):ELe(c);return DLe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function LLe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):LLe(a)};requestAnimationFrame(n)}function a6(t){"@babel/helpers - typeof";return a6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a6(t)}function RLe(t){return BLe(t)||$Le(t)||FLe(t)||ILe()}function ILe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FLe(t,e){if(t){if(typeof t=="string")return bU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bU(t,e)}}function bU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Le(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BLe(t){if(Array.isArray(t))return t}function HLe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=RLe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){yU(a.bind(null,u),c);return}a(c),yU(a.bind(null,u));return}a6(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pre(t,e,r){return e=zLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zLe(t){var e=qLe(t,"string");return _v(e)==="symbol"?e:String(e)}function qLe(t,e){if(_v(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ULe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},WLe=function(e){return e},VLe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_b=function(e,r){return Object.keys(r).reduce(function(n,a){return wU(wU({},n),{},pre({},a,e(a,r[a])))},{})},jU=function(e,r,n){return e.map(function(a){return"".concat(VLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function GLe(t,e){return XLe(t)||KLe(t,e)||gre(t,e)||YLe()}function YLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XLe(t){if(Array.isArray(t))return t}function JLe(t){return e8e(t)||ZLe(t)||gre(t)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return i6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i6(t,e)}}function ZLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e8e(t){if(Array.isArray(t))return i6(t)}function i6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z5=1e-4,xre=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},yre=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},NU=function(e,r){return function(n){var a=xre(e,r);return yre(a,n)}},t8e=function(e,r){return function(n){var a=xre(e,r),s=[].concat(JLe(a.map(function(o,l){return o*l}).slice(1)),[0]);return yre(s,n)}},SU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=GLe(u,4);a=f[0],s=f[1],o=f[2],l=f[3]}}}var m=NU(a,o),g=NU(s,l),p=t8e(a,o),v=function(N){return N>1?1:N<0?0:N},w=function(N){for(var k=N>1?1:N,S=k,A=0;A<8;++A){var _=m(S)-k,O=p(S);if(Math.abs(_-k)<z5||O<z5)return g(S);S=v(S-_/O)}return g(S)};return w.isStepper=!1,w},r8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(f,m,g){var p=-(f-m)*n,v=g*s,w=g+(p-v)*l/1e3,b=g*l/1e3+f;return Math.abs(b-m)<z5&&Math.abs(w)<z5?[m,0]:[b,w]};return c.isStepper=!0,c.dt=l,c},n8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SU(a);case"spring":return r8e();default:if(a.split("(")[0]==="cubic-bezier")return SU(a)}return typeof a=="function"?a:null};function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function kU(t){return s8e(t)||i8e(t)||bre(t)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s8e(t){if(Array.isArray(t))return o6(t)}function CU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(r),!0).forEach(function(n){s6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s6(t,e,r){return e=o8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o8e(t){var e=l8e(t,"string");return Av(e)==="symbol"?e:String(e)}function l8e(t,e){if(Av(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c8e(t,e){return f8e(t)||d8e(t,e)||bre(t,e)||u8e()}function u8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(t,e){if(t){if(typeof t=="string")return o6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o6(t,e)}}function o6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function f8e(t){if(Array.isArray(t))return t}var q5=function(e,r,n){return e+(r-e)*n},l6=function(e){var r=e.from,n=e.to;return r!==n},h8e=function t(e,r,n){var a=_b(function(s,o){if(l6(o)){var l=e(o.from,o.to,o.velocity),c=c8e(l,2),u=c[0],f=c[1];return Us(Us({},o),{},{from:u,velocity:f})}return o},r);return n<1?_b(function(s,o){return l6(o)?Us(Us({},o),{},{velocity:q5(o.velocity,a[s].velocity,n),from:q5(o.from,a[s].from,n)}):o},r):t(e,a,n-1)};const m8e=(function(t,e,r,n,a){var s=ULe(t,e),o=s.reduce(function(b,N){return Us(Us({},b),{},s6({},N,[t[N],e[N]]))},{}),l=s.reduce(function(b,N){return Us(Us({},b),{},s6({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,u,f,m=function(){return null},g=function(){return _b(function(N,k){return k.from},l)},p=function(){return!Object.values(l).filter(l6).length},v=function(N){u||(u=N);var k=N-u,S=k/r.dt;l=h8e(r,l,S),a(Us(Us(Us({},t),e),g())),u=N,p()||(c=requestAnimationFrame(m))},w=function(N){f||(f=N);var k=(N-f)/n,S=_b(function(_,O){return q5.apply(void 0,kU(O).concat([r(k)]))},o);if(a(Us(Us(Us({},t),e),S)),k<1)c=requestAnimationFrame(m);else{var A=_b(function(_,O){return q5.apply(void 0,kU(O).concat([r(1)]))},o);a(Us(Us(Us({},t),e),A))}};return m=r.isStepper?v:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}var p8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function g8e(t,e){if(t==null)return{};var r=x8e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function J4(t){return w8e(t)||v8e(t)||b8e(t)||y8e()}function y8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(t,e){if(t){if(typeof t=="string")return c6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c6(t,e)}}function v8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w8e(t){if(Array.isArray(t))return c6(t)}function c6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(r),!0).forEach(function(n){lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lb(t,e,r){return e=vre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vre(n.key),n)}}function S8e(t,e,r){return e&&N8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vre(t){var e=k8e(t,"string");return nx(e)==="symbol"?e:String(e)}function k8e(t,e){if(nx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u6(t,e)}function u6(t,e){return u6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u6(t,e)}function _8e(t){var e=A8e();return function(){var n=U5(t),a;if(e){var s=U5(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return d6(this,a)}}function d6(t,e){if(e&&(nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f6(t)}function f6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U5(t){return U5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U5(t)}var du=(function(t){C8e(r,t);var e=_8e(r);function r(n,a){var s;j8e(this,r),s=e.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,m=o.steps,g=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(f6(s)),s.changeStyle=s.changeStyle.bind(f6(s)),!l||p<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),d6(s);if(m&&m.length)s.state={style:m[0].style};else if(u){if(typeof g=="function")return s.state={style:u},d6(s);s.state={style:c?lb({},c,u):u}}else s.state={style:{}};return s}return S8e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,m=s.from,g=this.state.style;if(l){if(!o){var p={style:c?lb({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(p);return}if(!(PLe(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?m:a.to;if(this.state&&g){var b={style:c?lb({},c,w):w};(c&&g[c]!==w||!c&&g!==w)&&this.setState(b)}this.runAnimation(Gc(Gc({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,m=a.onAnimationEnd,g=a.onAnimationStart,p=m8e(o,l,n8e(u),c,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([g,f,v,c,m])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,m=u.duration,g=m===void 0?0:m,p=function(w,b,N){if(N===0)return w;var k=b.duration,S=b.easing,A=S===void 0?"ease":S,_=b.style,O=b.properties,I=b.onAnimationEnd,L=N>0?o[N-1]:b,R=O||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(J4(w),[s.runJSAnimation.bind(s,{from:L.style,to:_,duration:k,easing:A}),k]);var B=jU(R,k,A),D=Gc(Gc(Gc({},L.style),_),{},{transition:B});return[].concat(J4(w),[D,k,I]).filter(WLe)};return this.manager.start([c].concat(J4(o.reduce(p,[f,Math.max(g,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=HLe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,m=a.onAnimationEnd,g=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var w=l?lb({},l,c):c,b=jU(Object.keys(w),o,u);v.start([f,s,Gc(Gc({},w),{},{transition:b}),o,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=g8e(a,p8e),u=y.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var m=function(p){var v=p.props,w=v.style,b=w===void 0?{}:w,N=v.className,k=y.cloneElement(p,Gc(Gc({},c),{},{style:Gc(Gc({},b),f),className:N}));return k};return u===1?m(y.Children.only(s)):he.createElement("div",null,y.Children.map(s,function(g){return m(g)}))}}]),r})(y.PureComponent);du.displayName="Animate";du.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};du.propTypes={from:aa.oneOfType([aa.object,aa.string]),to:aa.oneOfType([aa.object,aa.string]),attributeName:aa.string,duration:aa.number,begin:aa.number,easing:aa.oneOfType([aa.string,aa.func]),steps:aa.arrayOf(aa.shape({duration:aa.number.isRequired,style:aa.object.isRequired,easing:aa.oneOfType([aa.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),aa.func]),properties:aa.arrayOf("string"),onAnimationEnd:aa.func})),children:aa.oneOfType([aa.node,aa.func]),isActive:aa.bool,canBegin:aa.bool,onAnimationEnd:aa.func,shouldReAnimate:aa.bool,onAnimationStart:aa.func,onAnimationReStart:aa.func};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W5.apply(this,arguments)}function T8e(t,e){return D8e(t)||E8e(t,e)||O8e(t,e)||M8e()}function M8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(t,e){if(t){if(typeof t=="string")return AU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AU(t,e)}}function AU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function D8e(t){if(Array.isArray(t))return t}function TU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(r),!0).forEach(function(n){P8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P8e(t,e,r){return e=L8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L8e(t){var e=R8e(t,"string");return Tv(e)=="symbol"?e:e+""}function R8e(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OU=function(e,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,p=4;g<p;g++)m[g]=s[g]>o?o:s[g];f="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(r)),f+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*m[1])),f+="L ".concat(e+n,",").concat(r+a-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(r+a)),f+="L ".concat(e+c*m[3],",").concat(r+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*m[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+a,`
            L `).concat(e+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*v," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},I8e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),m=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&a>=m&&a<=g}return!1},F8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zP=function(e){var r=MU(MU({},F8e),e),n=y.useRef(),a=y.useState(-1),s=T8e(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,f=r.width,m=r.height,g=r.radius,p=r.className,v=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var S=Cr("recharts-rectangle",p);return k?he.createElement(du,{canBegin:o>0,from:{width:f,height:m,x:c,y:u},to:{width:f,height:m,x:c,y:u},duration:w,animationEasing:v,isActive:k},function(A){var _=A.width,O=A.height,I=A.x,L=A.y;return he.createElement(du,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:N,easing:v},he.createElement("path",W5({},Tr(r,!0),{className:S,d:OU(I,L,_,O,g),ref:n})))}):he.createElement("path",W5({},Tr(r,!0),{className:S,d:OU(c,u,f,m,g)}))},$8e=["points","className","baseLinePoints","connectNulls"];function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(this,arguments)}function B8e(t,e){if(t==null)return{};var r=H8e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EU(t){return W8e(t)||U8e(t)||q8e(t)||z8e()}function z8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(t,e){if(t){if(typeof t=="string")return h6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h6(t,e)}}function U8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W8e(t){if(Array.isArray(t))return h6(t)}function h6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var DU=function(e){return e&&e.x===+e.x&&e.y===+e.y},V8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){DU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),DU(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ab=function(e,r){var n=V8e(e);r&&(n=[n.reduce(function(s,o){return[].concat(EU(s),EU(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},G8e=function(e,r,n){var a=Ab(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ab(r.reverse(),n).slice(1))},Y8e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,o=B8e(e,$8e);if(!r||!r.length)return null;var l=Cr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=G8e(r,a,s);return he.createElement("g",{className:l},he.createElement("path",lg({},Tr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?he.createElement("path",lg({},Tr(o,!0),{fill:"none",d:Ab(r,s)})):null,c?he.createElement("path",lg({},Tr(o,!0),{fill:"none",d:Ab(a,s)})):null)}var f=Ab(r,s);return he.createElement("path",lg({},Tr(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function m6(){return m6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m6.apply(this,arguments)}var m1=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,o=Cr("recharts-dot",s);return r===+r&&n===+n&&a===+a?y.createElement("circle",m6({},Tr(e,!1),m5(e),{className:o,cx:r,cy:n,r:a})):null};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}var K8e=["x","y","top","left","width","height","className"];function p6(){return p6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p6.apply(this,arguments)}function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function X8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){J8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J8e(t,e,r){return e=Q8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q8e(t){var e=Z8e(t,"string");return Mv(e)=="symbol"?e:e+""}function Z8e(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e7e(t,e){if(t==null)return{};var r=t7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var r7e=function(e,r,n,a,s,o){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},n7e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,f=e.width,m=f===void 0?0:f,g=e.height,p=g===void 0?0:g,v=e.className,w=e7e(e,K8e),b=X8e({x:n,y:s,top:l,left:u,width:m,height:p},w);return!Jt(n)||!Jt(s)||!Jt(m)||!Jt(p)||!Jt(l)||!Jt(u)?null:he.createElement("path",p6({},Tr(b,!0),{className:Cr("recharts-cross",v),d:r7e(n,s,m,p,l,u)}))},Q4,LU;function a7e(){if(LU)return Q4;LU=1;var t=bS(),e=Lte(),r=xd();function n(a,s){return a&&a.length?t(a,r(s,2),e):void 0}return Q4=n,Q4}var i7e=a7e();const s7e=Kn(i7e);var Z4,RU;function o7e(){if(RU)return Z4;RU=1;var t=bS(),e=xd(),r=Rte();function n(a,s){return a&&a.length?t(a,e(s,2),r):void 0}return Z4=n,Z4}var l7e=o7e();const c7e=Kn(l7e);var u7e=["cx","cy","angle","ticks","axisLine"],d7e=["ticks","tick","angle","tickFormatter","stroke"];function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tb.apply(this,arguments)}function IU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(r),!0).forEach(function(n){NS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FU(t,e){if(t==null)return{};var r=f7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jre(n.key),n)}}function m7e(t,e,r){return e&&$U(t.prototype,e),r&&$U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p7e(t,e,r){return e=V5(e),g7e(t,wre()?Reflect.construct(e,r||[],V5(t).constructor):e.apply(t,r))}function g7e(t,e){if(e&&(ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x7e(t)}function x7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wre=function(){return!!t})()}function V5(t){return V5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V5(t)}function y7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g6(t,e)}function g6(t,e){return g6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g6(t,e)}function NS(t,e,r){return e=jre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jre(t){var e=b7e(t,"string");return ax(e)=="symbol"?e:e+""}function b7e(t,e){if(ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SS=(function(t){function e(){return h7e(this,e),p7e(this,e,arguments)}return y7e(e,t),m7e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Pa(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=s7e(l,function(f){return f.coordinate||0}),u=c7e(l,function(f){return f.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=FU(n,u7e),f=l.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),m=Pa(a,s,f[0],o),g=Pa(a,s,f[1],o),p=Bm(Bm(Bm({},Tr(u,!1)),{},{fill:"none"},Tr(c,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return he.createElement("line",Tb({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=FU(a,d7e),m=this.getTickTextAnchor(),g=Tr(f,!1),p=Tr(o,!1),v=s.map(function(w,b){var N=n.getTickValueCoord(w),k=Bm(Bm(Bm(Bm({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:u},p),{},{index:b},N),{},{payload:w});return he.createElement(_n,Tb({className:Cr("recharts-polar-radius-axis-tick",ure(o)),key:"tick-".concat(w.coordinate)},Dp(n.props,w,b)),e.renderTickItem(o,k,c?c(w.value,b):w.value))});return he.createElement(_n,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:he.createElement(_n,{className:Cr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Es.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return he.isValidElement(n)?o=he.cloneElement(n,a):Gr(n)?o=n(a):o=he.createElement(Lp,Tb({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(y.PureComponent);NS(SS,"displayName","PolarRadiusAxis");NS(SS,"axisType","radiusAxis");NS(SS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Km.apply(this,arguments)}function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){kS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sre(n.key),n)}}function w7e(t,e,r){return e&&HU(t.prototype,e),r&&HU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j7e(t,e,r){return e=G5(e),N7e(t,Nre()?Reflect.construct(e,r||[],G5(t).constructor):e.apply(t,r))}function N7e(t,e){if(e&&(ix(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S7e(t)}function S7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nre=function(){return!!t})()}function G5(t){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G5(t)}function k7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x6(t,e)}function x6(t,e){return x6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x6(t,e)}function kS(t,e,r){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=C7e(t,"string");return ix(e)=="symbol"?e:e+""}function C7e(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _7e=Math.PI/180,zU=1e-5,CS=(function(t){function e(){return v7e(this,e),j7e(this,e,arguments)}return k7e(e,t),w7e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,m=Pa(s,o,l,n.coordinate),g=Pa(s,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*_7e),o;return s>zU?o=a==="outer"?"start":"end":s<-zU?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Hm(Hm({},Tr(this.props,!1)),{},{fill:"none"},Tr(l,!1));if(c==="circle")return he.createElement(m1,Km({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var f=this.props.ticks,m=f.map(function(g){return Pa(a,s,o,g.coordinate)});return he.createElement(Y8e,Km({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=Tr(this.props,!1),m=Tr(o,!1),g=Hm(Hm({},f),{},{fill:"none"},Tr(l,!1)),p=s.map(function(v,w){var b=n.getTickLineCoord(v),N=n.getTickTextAnchor(v),k=Hm(Hm(Hm({textAnchor:N},f),{},{stroke:"none",fill:u},m),{},{index:w,payload:v,x:b.x2,y:b.y2});return he.createElement(_n,Km({className:Cr("recharts-polar-angle-axis-tick",ure(o)),key:"tick-".concat(v.coordinate)},Dp(n.props,v,w)),l&&he.createElement("line",Km({className:"recharts-polar-angle-axis-tick-line"},g,b)),o&&e.renderTickItem(o,k,c?c(v.value,w):v.value))});return he.createElement(_n,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:he.createElement(_n,{className:Cr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return he.isValidElement(n)?o=he.cloneElement(n,a):Gr(n)?o=n(a):o=he.createElement(Lp,Km({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(y.PureComponent);kS(CS,"displayName","PolarAngleAxis");kS(CS,"axisType","angleAxis");kS(CS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eT,qU;function A7e(){if(qU)return eT;qU=1;var t=Pee(),e=t(Object.getPrototypeOf,Object);return eT=e,eT}var tT,UU;function T7e(){if(UU)return tT;UU=1;var t=Hf(),e=A7e(),r=zf(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var m=e(f);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return tT=u,tT}var M7e=T7e();const O7e=Kn(M7e);var rT,WU;function E7e(){if(WU)return rT;WU=1;var t=Hf(),e=zf(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return rT=n,rT}var D7e=E7e();const P7e=Kn(D7e);function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function L7e(t,e){return $7e(t)||F7e(t,e)||I7e(t,e)||R7e()}function R7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7e(t,e){if(t){if(typeof t=="string")return VU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VU(t,e)}}function VU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $7e(t){if(Array.isArray(t))return t}function GU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(r),!0).forEach(function(n){B7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B7e(t,e,r){return e=H7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H7e(t){var e=z7e(t,"string");return Ov(e)=="symbol"?e:e+""}function z7e(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KU=function(e,r,n,a,s){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},q7e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U7e=function(e){var r=YU(YU({},q7e),e),n=y.useRef(),a=y.useState(-1),s=L7e(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,m=r.lowerWidth,g=r.height,p=r.className,v=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||g!==+g||f===0&&m===0||g===0)return null;var k=Cr("recharts-trapezoid",p);return N?he.createElement(du,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:m,height:g,x:c,y:u},duration:w,animationEasing:v,isActive:N},function(S){var A=S.upperWidth,_=S.lowerWidth,O=S.height,I=S.x,L=S.y;return he.createElement(du,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:v},he.createElement("path",Y5({},Tr(r,!0),{className:k,d:KU(I,L,A,_,O),ref:n})))}):he.createElement("g",null,he.createElement("path",Y5({},Tr(r,!0),{className:k,d:KU(c,u,f,m,g)})))},W7e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function V7e(t,e){if(t==null)return{};var r=G7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){Y7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y7e(t,e,r){return e=K7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K7e(t){var e=X7e(t,"string");return Ev(e)=="symbol"?e:e+""}function X7e(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J7e(t,e){return K5(K5({},e),t)}function Q7e(t,e){return t==="symbols"}function JU(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return he.createElement(zP,r);case"trapezoid":return he.createElement(U7e,r);case"sector":return he.createElement(hre,r);case"symbols":if(Q7e(e))return he.createElement(oP,r);break;default:return null}}function Z7e(t){return y.isValidElement(t)?t.props:t}function kre(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?J7e:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=V7e(t,W7e),u;if(y.isValidElement(e))u=y.cloneElement(e,K5(K5({},c),Z7e(e)));else if(Gr(e))u=e(c);else if(O7e(e)&&!P7e(e)){var f=a(e,c);u=he.createElement(JU,{shapeType:r,elementProps:f})}else{var m=c;u=he.createElement(JU,{shapeType:r,elementProps:m})}return l?he.createElement(_n,{className:o},u):u}function _S(t,e){return e!=null&&"trapezoids"in t.props}function AS(t,e){return e!=null&&"sectors"in t.props}function Dv(t,e){return e!=null&&"points"in t.props}function eRe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function tRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function rRe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function nRe(t,e){var r;return _S(t,e)?r=eRe:AS(t,e)?r=tRe:Dv(t,e)&&(r=rRe),r}function aRe(t,e){var r;return _S(t,e)?r="trapezoids":AS(t,e)?r="sectors":Dv(t,e)&&(r="points"),r}function iRe(t,e){if(_S(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(AS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Dv(t,e)?e.payload:{}}function sRe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=aRe(r,e),s=iRe(r,e),o=n.filter(function(c,u){var f=Rp(s,c),m=r.props[a].filter(function(v){var w=nRe(r,e);return w(v,e)}),g=r.props[a].indexOf(m[m.length-1]),p=u===g;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var H2;function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cg.apply(this,arguments)}function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_re(n.key),n)}}function lRe(t,e,r){return e&&ZU(t.prototype,e),r&&ZU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cRe(t,e,r){return e=X5(e),uRe(t,Cre()?Reflect.construct(e,r||[],X5(t).constructor):e.apply(t,r))}function uRe(t,e){if(e&&(sx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(t)}function dRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cre=function(){return!!t})()}function X5(t){return X5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X5(t)}function fRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y6(t,e)}function y6(t,e){return y6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y6(t,e)}function dc(t,e,r){return e=_re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _re(t){var e=hRe(t,"string");return sx(e)=="symbol"?e:e+""}function hRe(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pu=(function(t){function e(r){var n;return oRe(this,e),n=cRe(this,e,[r]),dc(n,"pieRef",null),dc(n,"sectorRefs",[]),dc(n,"id",Wp("recharts-pie-")),dc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gr(a)&&a()}),dc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return fRe(e,t),lRe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=Tr(this.props,!1),m=Tr(o,!1),g=Tr(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(w,b){var N=(w.startAngle+w.endAngle)/2,k=Pa(w.cx,w.cy,w.outerRadius+p,N),S=Ea(Ea(Ea(Ea({},f),w),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(k.x,w.cx)},k),A=Ea(Ea(Ea(Ea({},f),w),{},{fill:"none",stroke:w.fill},g),{},{index:b,points:[Pa(w.cx,w.cy,w.outerRadius,N),k]}),_=c;return nn(c)&&nn(u)?_="value":nn(c)&&(_=u),he.createElement(_n,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,S,Fi(w,_)))});return he.createElement(_n,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(f),g=c&&a.hasActiveIndex()?c:null,p=m?o:g,v=Ea(Ea({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return he.createElement(_n,cg({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Dp(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),he.createElement(kre,cg({option:p,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state,g=m.prevSectors,p=m.prevIsAnimationActive;return he.createElement(du,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,b=[],N=s&&s[0],k=N.startAngle;return s.forEach(function(S,A){var _=g&&g[A],O=A>0?El(S,"paddingAngle",0):0;if(_){var I=vs(_.endAngle-_.startAngle,S.endAngle-S.startAngle),L=Ea(Ea({},S),{},{startAngle:k+O,endAngle:k+I(w)+O});b.push(L),k=L.endAngle}else{var R=S.endAngle,B=S.startAngle,D=vs(0,R-B),M=D(w),H=Ea(Ea({},S),{},{startAngle:k+O,endAngle:k+M+O});b.push(H),k=H.endAngle}}),he.createElement(_n,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Rp(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,m=a.innerRadius,g=a.outerRadius,p=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!Jt(u)||!Jt(f)||!Jt(m)||!Jt(g))return null;var w=Cr("recharts-pie",l);return he.createElement(_n,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Es.renderCallByParent(this.props,null,!1),(!p||v)&&id.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(he.isValidElement(n))return he.cloneElement(n,a);if(Gr(n))return n(a);var o=Cr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return he.createElement(jp,cg({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(he.isValidElement(n))return he.cloneElement(n,a);var o=s;if(Gr(n)&&(o=n(a),he.isValidElement(o)))return o;var l=Cr("recharts-pie-label-text",typeof n!="boolean"&&!Gr(n)?n.className:"");return he.createElement(Lp,cg({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(y.PureComponent);H2=pu;dc(pu,"displayName","Pie");dc(pu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dc(pu,"parseDeltaAngle",function(t,e){var r=Po(e-t),n=Math.min(Math.abs(e-t),360);return r*n});dc(pu,"getRealPieData",function(t){var e=t.data,r=t.children,n=Tr(t,!1),a=Dl(r,Pp);return e&&e.length?e.map(function(s,o){return Ea(Ea(Ea({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Ea(Ea({},n),s.props)}):[]});dc(pu,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,o=cre(a,s),l=n+Lo(t.cx,a,a/2),c=r+Lo(t.cy,s,s/2),u=Lo(t.innerRadius,o,0),f=Lo(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}});dc(pu,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ea(Ea({},e.type.defaultProps),e.props):e.props,a=H2.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,m=n.valueKey,g=n.tooltipType,p=Math.abs(n.minAngle),v=H2.parseCoordinateOfPie(n,r),w=H2.parseDeltaAngle(o,l),b=Math.abs(w),N=u;nn(u)&&nn(m)?(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):nn(u)&&(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var k=a.filter(function(L){return Fi(L,N,0)!==0}).length,S=(b>=360?k:k-1)*c,A=b-k*p-S,_=a.reduce(function(L,R){var B=Fi(R,N,0);return L+(Jt(B)?B:0)},0),O;if(_>0){var I;O=a.map(function(L,R){var B=Fi(L,N,0),D=Fi(L,f,R),M=(Jt(B)?B:0)/_,H;R?H=I.endAngle+Po(w)*c*(B!==0?1:0):H=o;var G=H+Po(w)*((B!==0?p:0)+M*A),Y=(H+G)/2,W=(v.innerRadius+v.outerRadius)/2,$=[{name:D,value:B,payload:L,dataKey:N,type:g}],q=Pa(v.cx,v.cy,W,Y);return I=Ea(Ea(Ea({percent:M,cornerRadius:s,name:D,tooltipPayload:$,midAngle:Y,middleRadius:W,tooltipPosition:q},L),v),{},{value:Fi(L,N),startAngle:H,endAngle:G,payload:L,paddingAngle:Po(w)*c}),I})}return Ea(Ea({},v),{},{sectors:O,data:a})});var nT,eW;function mRe(){if(eW)return nT;eW=1;var t=Math.ceil,e=Math.max;function r(n,a,s,o){for(var l=-1,c=e(t((a-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return nT=r,nT}var aT,tW;function Are(){if(tW)return aT;tW=1;var t=Xee(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return aT=n,aT}var iT,rW;function pRe(){if(rW)return iT;rW=1;var t=mRe(),e=fS(),r=Are();function n(a){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,a)}}return iT=n,iT}var sT,nW;function gRe(){if(nW)return sT;nW=1;var t=pRe(),e=t();return sT=e,sT}var xRe=gRe();const J5=Kn(xRe);function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function aW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(r),!0).forEach(function(n){Tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tre(t,e,r){return e=yRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yRe(t){var e=bRe(t,"string");return Pv(e)=="symbol"?e:e+""}function bRe(t,e){if(Pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vRe=["Webkit","Moz","O","ms"],wRe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=vRe.reduce(function(s,o){return iW(iW({},s),{},Tre({},o+n,r))},{});return a[e]=r,a};function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function Q5(){return Q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q5.apply(this,arguments)}function sW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sW(Object(r),!0).forEach(function(n){Nl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ore(n.key),n)}}function NRe(t,e,r){return e&&oW(t.prototype,e),r&&oW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SRe(t,e,r){return e=Z5(e),kRe(t,Mre()?Reflect.construct(e,r||[],Z5(t).constructor):e.apply(t,r))}function kRe(t,e){if(e&&(ox(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CRe(t)}function CRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mre=function(){return!!t})()}function Z5(t){return Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z5(t)}function _Re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b6(t,e)}function b6(t,e){return b6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b6(t,e)}function Nl(t,e,r){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ore(t){var e=ARe(t,"string");return ox(e)=="symbol"?e:e+""}function ARe(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TRe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=kb().domain(J5(0,c)).range([s,s+o-l]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},lW=function(e){return e.changedTouches&&!!e.changedTouches.length},lx=(function(t){function e(r){var n;return jRe(this,e),n=SRe(this,e,[r]),Nl(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Nl(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Nl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Nl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nl(n,"handleSlideDragStart",function(a){var s=lW(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _Re(e,t),NRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,m=Math.min(a,s),g=Math.max(a,s),p=e.getIndexInRange(o,m),v=e.getIndexInRange(o,g);return{startIndex:p-p%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Fi(s[n],l,n);return Gr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,m=c.travellerWidth,g=c.startIndex,p=c.endIndex,v=c.onChange,w=n.pageX-s;w>0?w=Math.min(w,u+f-m-l,u+f-m-o):w<0&&(w=Math.max(w,u-o,u-l));var b=this.getIndex({startX:o+w,endX:l+w});(b.startIndex!==g||b.endIndex!==p)&&v&&v(b),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=lW(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,m=f.x,g=f.width,p=f.travellerWidth,v=f.onChange,w=f.gap,b=f.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-s;k>0?k=Math.min(k,m+g-p-u):k<0&&(k=Math.max(k,m-u)),N[o]=u+k;var S=this.getIndex(N),A=S.startIndex,_=S.endIndex,O=function(){var L=b.length-1;return o==="startX"&&(l>c?A%w===0:_%w===0)||l<c&&_===L||o==="endX"&&(l>c?_%w===0:A%w===0)||l>c&&_===L};this.setState(Nl(Nl({},o,u+k),"brushMoveStartX",n.pageX),function(){v&&O()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],m=l.indexOf(f);if(m!==-1){var g=m+n;if(!(g===-1||g>=l.length)){var p=l[g];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Nl({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return he.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,m=y.Children.only(u);return m?he.cloneElement(m,{x:a,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,m=c.height,g=c.traveller,p=c.ariaLabel,v=c.data,w=c.startIndex,b=c.endIndex,N=Math.max(n,this.props.x),k=oT(oT({},Tr(this.props,!1)),{},{x:N,y:u,width:f,height:m}),S=p||"Min value: ".concat((s=v[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return he.createElement(_n,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,k))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,a)+u,m=Math.max(Math.abs(a-n)-u,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,m=f.startX,g=f.endX,p=5,v={pointerEvents:"none",fill:u};return he.createElement(_n,{className:"recharts-brush-texts"},he.createElement(Lp,Q5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-p,y:o+l/2},v),this.getTextOfTick(a)),he.createElement(Lp,Q5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+p,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,m=n.alwaysShowText,g=this.state,p=g.startX,v=g.endX,w=g.isTextActive,b=g.isSlideMoving,N=g.isTravellerMoving,k=g.isTravellerFocused;if(!a||!a.length||!Jt(l)||!Jt(c)||!Jt(u)||!Jt(f)||u<=0||f<=0)return null;var S=Cr("recharts-brush",s),A=he.Children.count(o)===1,_=wRe("userSelect","none");return he.createElement(_n,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(w||b||N||k||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),he.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return he.isValidElement(n)?s=he.cloneElement(n,a):Gr(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,m=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return oT({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?TRe({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var g=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(y.PureComponent);Nl(lx,"displayName","Brush");Nl(lx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lT,cW;function MRe(){if(cW)return lT;cW=1;var t=mP();function e(r,n){var a;return t(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return lT=e,lT}var cT,uW;function ORe(){if(uW)return cT;uW=1;var t=_ee(),e=xd(),r=MRe(),n=dl(),a=fS();function s(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return cT=s,cT}var ERe=ORe();const DRe=Kn(ERe);var sd=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},uT,dW;function PRe(){if(dW)return uT;dW=1;var t=Wee();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return uT=e,uT}var dT,fW;function LRe(){if(fW)return dT;fW=1;var t=PRe(),e=qee(),r=xd();function n(a,s){var o={};return s=r(s,3),e(a,function(l,c,u){t(o,c,s(l,c,u))}),o}return dT=n,dT}var RRe=LRe();const IRe=Kn(RRe);var fT,hW;function FRe(){if(hW)return fT;hW=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return fT=t,fT}var hT,mW;function $Re(){if(mW)return hT;mW=1;var t=mP();function e(r,n){var a=!0;return t(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return hT=e,hT}var mT,pW;function BRe(){if(pW)return mT;pW=1;var t=FRe(),e=$Re(),r=xd(),n=dl(),a=fS();function s(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return mT=s,mT}var HRe=BRe();const Ere=Kn(HRe);var zRe=["x","y"];function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function v6(){return v6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v6.apply(this,arguments)}function gW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(r),!0).forEach(function(n){qRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qRe(t,e,r){return e=URe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function URe(t){var e=WRe(t,"string");return Lv(e)=="symbol"?e:e+""}function WRe(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VRe(t,e){if(t==null)return{};var r=GRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YRe(t,e){var r=t.x,n=t.y,a=VRe(t,zRe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),f=parseInt(u,10),m="".concat(e.width||a.width),g=parseInt(m,10);return Gy(Gy(Gy(Gy(Gy({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function xW(t){return he.createElement(kre,v6({shapeType:"rectangle",propTransformer:YRe,activeClassName:"recharts-active-bar"},t))}var KRe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=Jt(n)||bAe(n);return s?e(n,a):(s||Fp(),r)}},XRe=["value","background"],Dre;function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}function JRe(t,e){if(t==null)return{};var r=QRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eN.apply(this,arguments)}function yW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yW(Object(r),!0).forEach(function(n){zh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lre(n.key),n)}}function eIe(t,e,r){return e&&bW(t.prototype,e),r&&bW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tIe(t,e,r){return e=tN(e),rIe(t,Pre()?Reflect.construct(e,r||[],tN(t).constructor):e.apply(t,r))}function rIe(t,e){if(e&&(cx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nIe(t)}function nIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pre=function(){return!!t})()}function tN(t){return tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tN(t)}function aIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w6(t,e)}function w6(t,e){return w6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w6(t,e)}function zh(t,e,r){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lre(t){var e=iIe(t,"string");return cx(e)=="symbol"?e:e+""}function iIe(t,e){if(cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lu=(function(t){function e(){var r;ZRe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=tIe(this,e,[].concat(a)),zh(r,"state",{isAnimationFinished:!1}),zh(r,"id",Wp("recharts-bar-")),zh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),zh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return aIe(e,t),eIe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Tr(this.props,!1);return n&&n.map(function(m,g){var p=g===c,v=p?u:o,w=Xi(Xi(Xi({},f),m),{},{isActive:p,option:v,index:g,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return he.createElement(_n,eN({className:"recharts-bar-rectangle"},Dp(a.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),he.createElement(xW,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,m=a.animationId,g=this.state.prevData;return he.createElement(du,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,w=s.map(function(b,N){var k=g&&g[N];if(k){var S=vs(k.x,b.x),A=vs(k.y,b.y),_=vs(k.width,b.width),O=vs(k.height,b.height);return Xi(Xi({},b),{},{x:S(v),y:A(v),width:_(v),height:O(v)})}if(o==="horizontal"){var I=vs(0,b.height),L=I(v);return Xi(Xi({},b),{},{y:b.y+b.height-L,height:L})}var R=vs(0,b.width),B=R(v);return Xi(Xi({},b),{},{width:B})});return he.createElement(_n,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Rp(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Tr(this.props.background,!1);return s.map(function(u,f){u.value;var m=u.background,g=JRe(u,XRe);if(!m)return null;var p=Xi(Xi(Xi(Xi(Xi({},g),{},{fill:"#eee"},m),c),Dp(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return he.createElement(xW,eN({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,m=Dl(f,h1);if(!m)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,N){var k=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:k,errorVal:Fi(b,N)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return he.createElement(_n,v,m.map(function(w){return he.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,m=n.width,g=n.height,p=n.isAnimationActive,v=n.background,w=n.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,N=Cr("recharts-bar",o),k=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,A=k||S,_=nn(w)?this.id:w;return he.createElement(_n,{className:N},k||S?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(_)},he.createElement("rect",{x:k?u:u-m/2,y:S?f:f-g/2,width:k?m:m*2,height:S?g:g*2}))):null,he.createElement(_n,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!p||b)&&id.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(y.PureComponent);Dre=lu;zh(lu,"displayName","Bar");zh(lu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zh(lu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,g=t.offset,p=DDe(n,r);if(!p)return null;var v=e.layout,w=r.type.defaultProps,b=w!==void 0?Xi(Xi({},w),r.props):r.props,N=b.dataKey,k=b.children,S=b.minPointSize,A=v==="horizontal"?o:s,_=u?A.scale.domain():null,O=BDe({numericAxis:A}),I=Dl(k,Pp),L=m.map(function(R,B){var D,M,H,G,Y,W;u?D=PDe(u[f+B],_):(D=Fi(R,N),Array.isArray(D)||(D=[O,D]));var $=KRe(S,Dre.defaultProps.minPointSize)(D[1],B);if(v==="horizontal"){var q,Z=[o.scale(D[0]),o.scale(D[1])],ce=Z[0],X=Z[1];M=Uq({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:R,index:B}),H=(q=X??ce)!==null&&q!==void 0?q:void 0,G=p.size;var U=ce-X;if(Y=Number.isNaN(U)?0:U,W={x:M,y:o.y,width:G,height:o.height},Math.abs($)>0&&Math.abs(Y)<Math.abs($)){var J=Po(Y||$)*(Math.abs($)-Math.abs(Y));H-=J,Y+=J}}else{var ee=[s.scale(D[0]),s.scale(D[1])],ne=ee[0],ue=ee[1];if(M=ne,H=Uq({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:R,index:B}),G=ue-ne,Y=p.size,W={x:s.x,y:H,width:s.width,height:Y},Math.abs($)>0&&Math.abs(G)<Math.abs($)){var Ae=Po(G||$)*(Math.abs($)-Math.abs(G));G+=Ae}}return Xi(Xi(Xi({},R),{},{x:M,y:H,width:G,height:Y,value:u?D:D[1],payload:R,background:W},I&&I[B]&&I[B].props),{},{tooltipPayload:[ore(r,R)],tooltipPosition:{x:M+G/2,y:H+Y/2}})});return Xi({data:L,layout:v},g)});function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function sIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rre(n.key),n)}}function oIe(t,e,r){return e&&vW(t.prototype,e),r&&vW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wW(Object(r),!0).forEach(function(n){TS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TS(t,e,r){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rre(t){var e=lIe(t,"string");return Rv(e)=="symbol"?e:e+""}function lIe(t,e){if(Rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qP=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.layout,u=e.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Sl(u,lu);return f.reduce(function(p,v){var w=r[v],b=w.orientation,N=w.domain,k=w.padding,S=k===void 0?{}:k,A=w.mirror,_=w.reversed,O="".concat(b).concat(A?"Mirror":""),I,L,R,B,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var M=N[1]-N[0],H=1/0,G=w.categoricalDomain.sort(jAe);if(G.forEach(function(ee,ne){ne>0&&(H=Math.min((ee||0)-(G[ne-1]||0),H))}),Number.isFinite(H)){var Y=H/M,W=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(I=Y*W/2),w.padding==="no-gap"){var $=Lo(e.barCategoryGap,Y*W),q=Y*W/2;I=q-$-(q-$)/W*$}}}a==="xAxis"?L=[n.left+(S.left||0)+(I||0),n.left+n.width-(S.right||0)-(I||0)]:a==="yAxis"?L=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(I||0),n.top+n.height-(S.bottom||0)-(I||0)]:L=w.range,_&&(L=[L[1],L[0]]);var Z=nre(w,s,g),ce=Z.scale,X=Z.realScaleType;ce.domain(N).range(L),are(ce);var U=ire(ce,Zc(Zc({},w),{},{realScaleType:X}));a==="xAxis"?(D=b==="top"&&!A||b==="bottom"&&A,R=n.left,B=m[O]-D*w.height):a==="yAxis"&&(D=b==="left"&&!A||b==="right"&&A,R=m[O]-D*w.width,B=n.top);var J=Zc(Zc(Zc({},w),U),{},{realScaleType:X,x:R,y:B,scale:ce,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return J.bandSize=$5(J,U),!w.hide&&a==="xAxis"?m[O]+=(D?-1:1)*J.height:w.hide||(m[O]+=(D?-1:1)*J.width),Zc(Zc({},p),{},TS({},v,J))},{})},Ire=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},cIe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return Ire({x:r,y:n},{x:a,y:s})},Fre=(function(){function t(e){sIe(this,t),this.scale=e}return oIe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();TS(Fre,"EPS",1e-4);var UP=function(e){var r=Object.keys(e).reduce(function(n,a){return Zc(Zc({},n),{},TS({},a,Fre.create(e[a])))},{});return Zc(Zc({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return IRe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Ere(a,function(s,o){return r[o].isInRange(s)})}})};function uIe(t){return(t%180+180)%180}var dIe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uIe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},pT,jW;function fIe(){if(jW)return pT;jW=1;var t=xd(),e=l1(),r=uS();function n(a){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(m){return u(c[m],m,c)}}var f=a(s,o,l);return f>-1?c[u?s[f]:f]:void 0}}return pT=n,pT}var gT,NW;function hIe(){if(NW)return gT;NW=1;var t=Are();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return gT=e,gT}var xT,SW;function mIe(){if(SW)return xT;SW=1;var t=Fee(),e=xd(),r=hIe(),n=Math.max;function a(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return xT=a,xT}var yT,kW;function pIe(){if(kW)return yT;kW=1;var t=fIe(),e=mIe(),r=t(e);return yT=r,yT}var gIe=pIe();const xIe=Kn(gIe);var yIe=ZZ();const bIe=Kn(yIe);var vIe=bIe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),WP=y.createContext(void 0),VP=y.createContext(void 0),$re=y.createContext(void 0),Bre=y.createContext({}),Hre=y.createContext(void 0),zre=y.createContext(0),qre=y.createContext(0),CW=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,f=vIe(s);return he.createElement(WP.Provider,{value:n},he.createElement(VP.Provider,{value:a},he.createElement(Bre.Provider,{value:s},he.createElement($re.Provider,{value:f},he.createElement(Hre.Provider,{value:o},he.createElement(zre.Provider,{value:u},he.createElement(qre.Provider,{value:c},l)))))))},wIe=function(){return y.useContext(Hre)},Ure=function(e){var r=y.useContext(WP);r==null&&Fp();var n=r[e];return n==null&&Fp(),n},jIe=function(){var e=y.useContext(WP);return Ih(e)},NIe=function(){var e=y.useContext(VP),r=xIe(e,function(n){return Ere(n.domain,Number.isFinite)});return r||Ih(e)},Wre=function(e){var r=y.useContext(VP);r==null&&Fp();var n=r[e];return n==null&&Fp(),n},SIe=function(){var e=y.useContext($re);return e},kIe=function(){return y.useContext(Bre)},GP=function(){return y.useContext(qre)},YP=function(){return y.useContext(zre)};function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function CIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gre(n.key),n)}}function AIe(t,e,r){return e&&_Ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TIe(t,e,r){return e=rN(e),MIe(t,Vre()?Reflect.construct(e,r||[],rN(t).constructor):e.apply(t,r))}function MIe(t,e){if(e&&(ux(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OIe(t)}function OIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vre=function(){return!!t})()}function rN(t){return rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rN(t)}function EIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j6(t,e)}function j6(t,e){return j6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j6(t,e)}function _W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(r),!0).forEach(function(n){KP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KP(t,e,r){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=DIe(t,"string");return ux(e)=="symbol"?e:e+""}function DIe(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PIe(t,e){return FIe(t)||IIe(t,e)||RIe(t,e)||LIe()}function LIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RIe(t,e){if(t){if(typeof t=="string")return TW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TW(t,e)}}function TW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function FIe(t){if(Array.isArray(t))return t}function N6(){return N6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N6.apply(this,arguments)}var $Ie=function(e,r){var n;return he.isValidElement(e)?n=he.cloneElement(e,r):Gr(e)?n=e(r):n=he.createElement("line",N6({},r,{className:"recharts-reference-line-line"})),n},BIe=function(e,r,n,a,s,o,l,c,u){var f=s.x,m=s.y,g=s.width,p=s.height;if(n){var v=u.y,w=e.y.apply(v,{position:o});if(sd(u,"discard")&&!e.y.isInRange(w))return null;var b=[{x:f+g,y:w},{x:f,y:w}];return c==="left"?b.reverse():b}if(r){var N=u.x,k=e.x.apply(N,{position:o});if(sd(u,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:m+p},{x:k,y:m}];return l==="top"?S.reverse():S}if(a){var A=u.segment,_=A.map(function(O){return e.apply(O,{position:o})});return sd(u,"discard")&&DRe(_,function(O){return!e.isInRange(O)})?null:_}return null};function HIe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=wIe(),f=Ure(a),m=Wre(s),g=SIe();if(!u||!g)return null;ou(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=UP({x:f.scale,y:m.scale}),v=ws(e),w=ws(r),b=n&&n.length===2,N=BIe(p,v,w,b,g,t.position,f.orientation,m.orientation,t);if(!N)return null;var k=PIe(N,2),S=k[0],A=S.x,_=S.y,O=k[1],I=O.x,L=O.y,R=sd(t,"hidden")?"url(#".concat(u,")"):void 0,B=AW(AW({clipPath:R},Tr(t,!0)),{},{x1:A,y1:_,x2:I,y2:L});return he.createElement(_n,{className:Cr("recharts-reference-line",l)},$Ie(o,B),Es.renderCallByParent(t,cIe({x1:A,y1:_,x2:I,y2:L})))}var XP=(function(t){function e(){return CIe(this,e),TIe(this,e,arguments)}return EIe(e,t),AIe(e,[{key:"render",value:function(){return he.createElement(HIe,this.props)}}])})(he.Component);KP(XP,"displayName","ReferenceLine");KP(XP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function S6(){return S6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S6.apply(this,arguments)}function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function MW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MW(Object(r),!0).forEach(function(n){MS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kre(n.key),n)}}function UIe(t,e,r){return e&&qIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WIe(t,e,r){return e=nN(e),VIe(t,Yre()?Reflect.construct(e,r||[],nN(t).constructor):e.apply(t,r))}function VIe(t,e){if(e&&(dx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(t)}function GIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yre=function(){return!!t})()}function nN(t){return nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nN(t)}function YIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k6(t,e)}function k6(t,e){return k6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k6(t,e)}function MS(t,e,r){return e=Kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kre(t){var e=KIe(t,"string");return dx(e)=="symbol"?e:e+""}function KIe(t,e){if(dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XIe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,o=UP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return sd(e,"discard")&&!o.isInRange(l)?null:l},OS=(function(t){function e(){return zIe(this,e),WIe(this,e,arguments)}return YIe(e,t),UIe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ws(a),f=ws(s);if(ou(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=XIe(this.props);if(!m)return null;var g=m.x,p=m.y,v=this.props,w=v.shape,b=v.className,N=sd(this.props,"hidden")?"url(#".concat(c,")"):void 0,k=OW(OW({clipPath:N},Tr(this.props,!0)),{},{cx:g,cy:p});return he.createElement(_n,{className:Cr("recharts-reference-dot",b)},e.renderDot(w,k),Es.renderCallByParent(this.props,{x:g-o,y:p-o,width:2*o,height:2*o}))}}])})(he.Component);MS(OS,"displayName","ReferenceDot");MS(OS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});MS(OS,"renderDot",function(t,e){var r;return he.isValidElement(t)?r=he.cloneElement(t,e):Gr(t)?r=t(e):r=he.createElement(m1,S6({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function C6(){return C6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C6.apply(this,arguments)}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function EW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EW(Object(r),!0).forEach(function(n){ES(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jre(n.key),n)}}function ZIe(t,e,r){return e&&QIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e9e(t,e,r){return e=aN(e),t9e(t,Xre()?Reflect.construct(e,r||[],aN(t).constructor):e.apply(t,r))}function t9e(t,e){if(e&&(fx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9e(t)}function r9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xre=function(){return!!t})()}function aN(t){return aN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aN(t)}function n9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_6(t,e)}function _6(t,e){return _6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_6(t,e)}function ES(t,e,r){return e=Jre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jre(t){var e=a9e(t,"string");return fx(e)=="symbol"?e:e+""}function a9e(t,e){if(fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i9e=function(e,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,m=s.yAxis;if(!f||!m)return null;var g=UP({x:f.scale,y:m.scale}),p={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},v={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(u,{position:"end"}):g.y.rangeMax};return sd(s,"discard")&&(!g.isInRange(p)||!g.isInRange(v))?null:Ire(p,v)},DS=(function(t){function e(){return JIe(this,e),e9e(this,e,arguments)}return n9e(e,t),ZIe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;ou(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ws(a),g=ws(s),p=ws(o),v=ws(l),w=this.props.shape;if(!m&&!g&&!p&&!v&&!w)return null;var b=i9e(m,g,p,v,this.props);if(!b&&!w)return null;var N=sd(this.props,"hidden")?"url(#".concat(f,")"):void 0;return he.createElement(_n,{className:Cr("recharts-reference-area",c)},e.renderRect(w,DW(DW({clipPath:N},Tr(this.props,!0)),b)),Es.renderCallByParent(this.props,b))}}])})(he.Component);ES(DS,"displayName","ReferenceArea");ES(DS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ES(DS,"renderRect",function(t,e){var r;return he.isValidElement(t)?r=he.cloneElement(t,e):Gr(t)?r=t(e):r=he.createElement(zP,C6({},e,{className:"recharts-reference-area-rect"})),r});function Qre(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function s9e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return dIe(n,r)}function o9e(t,e,r){var n=r==="width",a=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function iN(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function l9e(t,e){return Qre(t,e+1)}function c9e(t,e,r,n,a){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,f=o,m=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:Qre(n,u)};var w=c,b,N=function(){return b===void 0&&(b=r(v,w)),b},k=v.coordinate,S=c===0||iN(t,k,N,f,l);S||(c=0,f=o,u+=1),S&&(f=k+t*(N()/2+a),c+=u)},g;u<=s.length;)if(g=m(),g)return g.v;return[]}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function PW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PW(Object(r),!0).forEach(function(n){u9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u9e(t,e,r){return e=d9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d9e(t){var e=f9e(t,"string");return Iv(e)=="symbol"?e:e+""}function f9e(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h9e(t,e,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(g){var p=s[g],v,w=function(){return v===void 0&&(v=r(p,g)),v};if(g===o-1){var b=t*(p.coordinate+t*w()/2-c);s[g]=p=co(co({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[g]=p=co(co({},p),{},{tickCoord:p.coordinate});var N=iN(t,p.tickCoord,w,l,c);N&&(c=p.tickCoord-t*(w()/2+a),s[g]=co(co({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function m9e(t,e,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var f=n[l-1],m=r(f,l-1),g=t*(f.coordinate+t*m/2-u);o[l-1]=f=co(co({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var p=iN(t,f.tickCoord,function(){return m},c,u);p&&(u=f.tickCoord-t*(m/2+a),o[l-1]=co(co({},f),{},{isShow:!0}))}for(var v=s?l-1:l,w=function(k){var S=o[k],A,_=function(){return A===void 0&&(A=r(S,k)),A};if(k===0){var O=t*(S.coordinate-t*_()/2-c);o[k]=S=co(co({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else o[k]=S=co(co({},S),{},{tickCoord:S.coordinate});var I=iN(t,S.tickCoord,_,c,u);I&&(c=S.tickCoord+t*(_()/2+a),o[k]=co(co({},S),{},{isShow:!0}))},b=0;b<v;b++)w(b);return o}function JP(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(Jt(c)||hm.isSsr)return l9e(a,typeof c=="number"&&Jt(c)?c:0);var g=[],p=l==="top"||l==="bottom"?"width":"height",v=f&&p==="width"?Sb(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(S,A){var _=Gr(u)?u(S.value,A):S.value;return p==="width"?s9e(Sb(_,{fontSize:e,letterSpacing:r}),v,m):Sb(_,{fontSize:e,letterSpacing:r})[p]},b=a.length>=2?Po(a[1].coordinate-a[0].coordinate):1,N=o9e(s,b,p);return c==="equidistantPreserveStart"?c9e(b,N,w,a,o):(c==="preserveStart"||c==="preserveStartEnd"?g=m9e(b,N,w,a,o,c==="preserveStartEnd"):g=h9e(b,N,w,a,o),g.filter(function(k){return k.isShow}))}var p9e=["viewBox"],g9e=["viewBox"],x9e=["ticks"];function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ug.apply(this,arguments)}function LW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LW(Object(r),!0).forEach(function(n){QP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bT(t,e){if(t==null)return{};var r=y9e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function b9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ene(n.key),n)}}function v9e(t,e,r){return e&&RW(t.prototype,e),r&&RW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w9e(t,e,r){return e=sN(e),j9e(t,Zre()?Reflect.construct(e,r||[],sN(t).constructor):e.apply(t,r))}function j9e(t,e){if(e&&(hx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N9e(t)}function N9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zre=function(){return!!t})()}function sN(t){return sN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sN(t)}function S9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A6(t,e)}function A6(t,e){return A6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A6(t,e)}function QP(t,e,r){return e=ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=k9e(t,"string");return hx(e)=="symbol"?e:e+""}function k9e(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fx=(function(t){function e(r){var n;return b9e(this,e),n=w9e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return S9e(e,t),v9e(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=bT(n,p9e),l=this.props,c=l.viewBox,u=bT(l,g9e);return!jg(s,c)||!jg(o,u)||!jg(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,m=a.mirror,g=a.tickMargin,p,v,w,b,N,k,S=m?-1:1,A=n.tickSize||f,_=Jt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,b=o+ +!m*c,w=b-S*A,k=w-S*g,N=_;break;case"left":w=b=n.coordinate,v=s+ +!m*l,p=v-S*A,N=p-S*g,k=_;break;case"right":w=b=n.coordinate,v=s+ +m*l,p=v+S*A,N=p+S*g,k=_;break;default:p=v=n.coordinate,b=o+ +m*c,w=b+S*A,k=w+S*g,N=_;break}return{line:{x1:p,y1:w,x2:v,y2:b},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,m=ys(ys(ys({},Tr(this.props,!1)),Tr(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);m=ys(ys({},m),{},{x1:a,y1:s+g*l,x2:a+o,y2:s+g*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);m=ys(ys({},m),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return he.createElement("line",ug({},m,{className:Cr("recharts-cartesian-axis-line",El(f,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,m=l.tickFormatter,g=l.unit,p=JP(ys(ys({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Tr(this.props,!1),N=Tr(f,!1),k=ys(ys({},b),{},{fill:"none"},Tr(c,!1)),S=p.map(function(A,_){var O=o.getTickLineCoord(A),I=O.line,L=O.tick,R=ys(ys(ys(ys({textAnchor:v,verticalAnchor:w},b),{},{stroke:"none",fill:u},N),L),{},{index:_,payload:A,visibleTicksCount:p.length,tickFormatter:m});return he.createElement(_n,ug({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Dp(o.props,A,_)),c&&he.createElement("line",ug({},k,I,{className:Cr("recharts-cartesian-axis-tick-line",El(c,"className"))})),f&&e.renderTickItem(f,R,"".concat(Gr(m)?m(A.value,_):A.value).concat(g||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var m=this.props,g=m.ticks,p=bT(m,x9e),v=g;return Gr(c)&&(v=g&&g.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:he.createElement(_n,{className:Cr("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Es.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Cr(a.className,"recharts-cartesian-axis-tick-value");return he.isValidElement(n)?o=he.cloneElement(n,ys(ys({},a),{},{className:l})):Gr(n)?o=n(ys(ys({},a),{},{className:l})):o=he.createElement(Lp,ug({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(y.Component);QP(Fx,"displayName","CartesianAxis");QP(Fx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var C9e=["x1","y1","x2","y2","key"],_9e=["offset"];function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function IW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IW(Object(r),!0).forEach(function(n){A9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A9e(t,e,r){return e=T9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T9e(t){var e=M9e(t,"string");return $p(e)=="symbol"?e:e+""}function M9e(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lp.apply(this,arguments)}function FW(t,e){if(t==null)return{};var r=O9e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var E9e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return he.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tne(t,e){var r;if(he.isValidElement(t))r=he.cloneElement(t,e);else if(Gr(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,o=e.y2,l=e.key,c=FW(e,C9e),u=Tr(c,!1);u.offset;var f=FW(u,_9e);r=he.createElement("line",lp({},f,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function D9e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=uo(uo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return tne(a,u)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function P9e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=uo(uo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return tne(a,u)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function L9e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=l.map(function(g){return Math.round(g+a-a)}).sort(function(g,p){return g-p});a!==f[0]&&f.unshift(0);var m=f.map(function(g,p){var v=!f[p+1],w=v?a+o-g:f[p+1]-g;if(w<=0)return null;var b=p%e.length;return he.createElement("rect",{key:"react-".concat(p),y:g,x:n,height:w,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function R9e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,p){return g-p});s!==f[0]&&f.unshift(0);var m=f.map(function(g,p){var v=!f[p+1],w=v?s+l-g:f[p+1]-g;if(w<=0)return null;var b=p%n.length;return he.createElement("rect",{key:"react-".concat(p),x:g,y:o,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var I9e=function(e,r){var n=e.xAxis,a=e.width,s=e.height,o=e.offset;return rre(JP(uo(uo(uo({},Fx.defaultProps),n),{},{ticks:hf(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},F9e=function(e,r){var n=e.yAxis,a=e.width,s=e.height,o=e.offset;return rre(JP(uo(uo(uo({},Fx.defaultProps),n),{},{ticks:hf(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},q0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nu(t){var e,r,n,a,s,o,l=GP(),c=YP(),u=kIe(),f=uo(uo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:q0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:q0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:q0.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:q0.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:q0.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:q0.verticalFill,x:Jt(t.x)?t.x:u.left,y:Jt(t.y)?t.y:u.top,width:Jt(t.width)?t.width:u.width,height:Jt(t.height)?t.height:u.height}),m=f.x,g=f.y,p=f.width,v=f.height,w=f.syncWithTicks,b=f.horizontalValues,N=f.verticalValues,k=jIe(),S=NIe();if(!Jt(p)||p<=0||!Jt(v)||v<=0||!Jt(m)||m!==+m||!Jt(g)||g!==+g)return null;var A=f.verticalCoordinatesGenerator||I9e,_=f.horizontalCoordinatesGenerator||F9e,O=f.horizontalPoints,I=f.verticalPoints;if((!O||!O.length)&&Gr(_)){var L=b&&b.length,R=_({yAxis:S?uo(uo({},S),{},{ticks:L?b:S.ticks}):void 0,width:l,height:c,offset:u},L?!0:w);ou(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($p(R),"]")),Array.isArray(R)&&(O=R)}if((!I||!I.length)&&Gr(A)){var B=N&&N.length,D=A({xAxis:k?uo(uo({},k),{},{ticks:B?N:k.ticks}):void 0,width:l,height:c,offset:u},B?!0:w);ou(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($p(D),"]")),Array.isArray(D)&&(I=D)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(E9e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),he.createElement(D9e,lp({},f,{offset:u,horizontalPoints:O,xAxis:k,yAxis:S})),he.createElement(P9e,lp({},f,{offset:u,verticalPoints:I,xAxis:k,yAxis:S})),he.createElement(L9e,lp({},f,{horizontalPoints:O})),he.createElement(R9e,lp({},f,{verticalPoints:I})))}nu.displayName="CartesianGrid";var $9e=["type","layout","connectNulls","ref"],B9e=["key"];function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function $W(t,e){if(t==null)return{};var r=H9e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mb.apply(this,arguments)}function BW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BW(Object(r),!0).forEach(function(n){eu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U0(t){return W9e(t)||U9e(t)||q9e(t)||z9e()}function z9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9e(t,e){if(t){if(typeof t=="string")return T6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T6(t,e)}}function U9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W9e(t){if(Array.isArray(t))return T6(t)}function T6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nne(n.key),n)}}function G9e(t,e,r){return e&&HW(t.prototype,e),r&&HW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y9e(t,e,r){return e=oN(e),K9e(t,rne()?Reflect.construct(e,r||[],oN(t).constructor):e.apply(t,r))}function K9e(t,e){if(e&&(mx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9e(t)}function X9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rne=function(){return!!t})()}function oN(t){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oN(t)}function J9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M6(t,e)}function M6(t,e){return M6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M6(t,e)}function eu(t,e,r){return e=nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nne(t){var e=Q9e(t,"string");return mx(e)=="symbol"?e:e+""}function Q9e(t,e){if(mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pf=(function(t){function e(){var r;V9e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Y9e(this,e,[].concat(a)),eu(r,"state",{isAnimationFinished:!0,totalLength:0}),eu(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),eu(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,k){return N+k});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),m=o%u,g=l-o,p=[],v=0,w=0;v<c.length;w+=c[v],++v)if(w+c[v]>m){p=[].concat(U0(c.slice(0,v)),[m-w]);break}var b=p.length%2===0?[0,g]:[g];return[].concat(U0(e.repeat(c,f)),U0(p),b).map(function(N){return"".concat(N,"px")}).join(", ")}),eu(r,"id",Wp("recharts-line-")),eu(r,"pathRef",function(o){r.mainCurve=o}),eu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),eu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return J9e(e,t),G9e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,m=Dl(f,h1);if(!m)return null;var g=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:Fi(w.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return he.createElement(_n,p,m.map(function(v){return he.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,m=Tr(this.props,!1),g=Tr(c,!0),p=u.map(function(w,b){var N=jl(jl(jl({key:"dot-".concat(b),r:3},m),g),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:u});return e.renderDotItem(c,N)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return he.createElement(_n,Mb({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var m=$W(l,$9e),g=jl(jl(jl({},Tr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return he.createElement(jp,Mb({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,g=o.animationEasing,p=o.animationId,v=o.animateNewValues,w=o.width,b=o.height,N=this.state,k=N.prevPoints,S=N.totalLength;return he.createElement(du,{begin:f,duration:m,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var _=A.t;if(k){var O=k.length/l.length,I=l.map(function(M,H){var G=Math.floor(H*O);if(k[G]){var Y=k[G],W=vs(Y.x,M.x),$=vs(Y.y,M.y);return jl(jl({},M),{},{x:W(_),y:$(_)})}if(v){var q=vs(w*2,M.x),Z=vs(b/2,M.y);return jl(jl({},M),{},{x:q(_),y:Z(_)})}return jl(jl({},M),{},{x:M.x,y:M.y})});return s.renderCurveStatically(I,n,a)}var L=vs(0,S),R=L(_),B;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});B=s.getStrokeDasharray(R,S,D)}else B=s.generateSimpleStrokeDasharray(S,R);return s.renderCurveStatically(l,n,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Rp(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,m=a.top,g=a.left,p=a.width,v=a.height,w=a.isAnimationActive,b=a.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=Cr("recharts-line",c),A=u&&u.allowDataOverflow,_=f&&f.allowDataOverflow,O=A||_,I=nn(b)?this.id:b,L=(n=Tr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=L.r,B=R===void 0?3:R,D=L.strokeWidth,M=D===void 0?2:D,H=aee(o)?o:{},G=H.clipDot,Y=G===void 0?!0:G,W=B*2+M;return he.createElement(_n,{className:S},A||_?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(I)},he.createElement("rect",{x:A?g:g-p/2,y:_?m:m-v/2,width:A?p:p*2,height:_?v:v*2})),!Y&&he.createElement("clipPath",{id:"clipPath-dots-".concat(I)},he.createElement("rect",{x:g-W/2,y:m-W/2,width:p+W,height:v+W}))):null,!k&&this.renderCurve(O,I),this.renderErrorBar(O,I),(k||o)&&this.renderDots(O,Y,I),(!w||N)&&id.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(U0(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(U0(o),U0(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(he.isValidElement(n))s=he.cloneElement(n,a);else if(Gr(n))s=n(a);else{var o=a.key,l=$W(a,B9e),c=Cr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=he.createElement(m1,Mb({key:o},l,{className:c}))}return s}}])})(y.PureComponent);eu(Pf,"displayName","Line");eu(Pf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});eu(Pf,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,m=c.map(function(g,p){var v=Fi(g,o);return f==="horizontal"?{x:F5({axis:r,ticks:a,bandSize:l,entry:g,index:p}),y:nn(v)?null:n.scale(v),value:v,payload:g}:{x:nn(v)?null:r.scale(v),y:F5({axis:n,ticks:s,bandSize:l,entry:g,index:p}),value:v,payload:g}});return jl({points:m,layout:f},u)});var Z9e=["layout","type","stroke","connectNulls","isRange","ref"],eFe=["key"],ane;function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function ine(t,e){if(t==null)return{};var r=tFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cp.apply(this,arguments)}function zW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(r),!0).forEach(function(n){Ju(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,one(n.key),n)}}function nFe(t,e,r){return e&&qW(t.prototype,e),r&&qW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aFe(t,e,r){return e=lN(e),iFe(t,sne()?Reflect.construct(e,r||[],lN(t).constructor):e.apply(t,r))}function iFe(t,e){if(e&&(px(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(t)}function sFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sne=function(){return!!t})()}function lN(t){return lN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lN(t)}function oFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O6(t,e)}function O6(t,e){return O6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O6(t,e)}function Ju(t,e,r){return e=one(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function one(t){var e=lFe(t,"string");return px(e)=="symbol"?e:e+""}function lFe(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lf=(function(t){function e(){var r;rFe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=aFe(this,e,[].concat(a)),Ju(r,"state",{isAnimationFinished:!0}),Ju(r,"id",Wp("recharts-area-")),Ju(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Gr(o)&&o()}),Ju(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Gr(o)&&o()}),r}return oFe(e,t),nFe(e,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,m=c.dataKey,g=Tr(this.props,!1),p=Tr(u,!0),v=f.map(function(b,N){var k=Mh(Mh(Mh({key:"dot-".concat(N),r:3},g),p),{},{index:N,cx:b.x,cy:b.y,dataKey:m,value:b.value,payload:b.payload,points:f});return e.renderDotItem(u,k)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return he.createElement(_n,cp({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=n*Math.abs(c-u),m=Hh(o.map(function(g){return g.y||0}));return Jt(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Hh(s.map(function(g){return g.y||0})),m)),Jt(m)?he.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=n*Math.abs(c-u),m=Hh(o.map(function(g){return g.x||0}));return Jt(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Hh(s.map(function(g){return g.x||0})),m)),Jt(m)?he.createElement("rect",{x:0,y:c<u?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var p=ine(l,Z9e);return he.createElement(_n,{clipPath:s?"url(#clipPath-".concat(o,")"):null},he.createElement(jp,cp({},Tr(p,!0),{points:n,connectNulls:m,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&he.createElement(jp,cp({},Tr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:n})),f!=="none"&&g&&he.createElement(jp,cp({},Tr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,g=o.animationEasing,p=o.animationId,v=this.state,w=v.prevPoints,b=v.prevBaseLine;return he.createElement(du,{begin:f,duration:m,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var k=N.t;if(w){var S=w.length/l.length,A=l.map(function(L,R){var B=Math.floor(R*S);if(w[B]){var D=w[B],M=vs(D.x,L.x),H=vs(D.y,L.y);return Mh(Mh({},L),{},{x:M(k),y:H(k)})}return L}),_;if(Jt(c)&&typeof c=="number"){var O=vs(b,c);_=O(k)}else if(nn(c)||Dx(c)){var I=vs(b,0);_=I(k)}else _=c.map(function(L,R){var B=Math.floor(R*S);if(b[B]){var D=b[B],M=vs(D.x,L.x),H=vs(D.y,L.y);return Mh(Mh({},L),{},{x:M(k),y:H(k)})}return L});return s.renderAreaStatically(A,_,n,a)}return he.createElement(_n,null,he.createElement("defs",null,he.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(k))),he.createElement(_n,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,f=u.prevPoints,m=u.prevBaseLine,g=u.totalLength;return c&&o&&o.length&&(!f&&g>0||!Rp(f,o)||!Rp(m,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,m=a.xAxis,g=a.yAxis,p=a.width,v=a.height,w=a.isAnimationActive,b=a.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=Cr("recharts-area",c),A=m&&m.allowDataOverflow,_=g&&g.allowDataOverflow,O=A||_,I=nn(b)?this.id:b,L=(n=Tr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=L.r,B=R===void 0?3:R,D=L.strokeWidth,M=D===void 0?2:D,H=aee(o)?o:{},G=H.clipDot,Y=G===void 0?!0:G,W=B*2+M;return he.createElement(_n,{className:S},A||_?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(I)},he.createElement("rect",{x:A?f:f-p/2,y:_?u:u-v/2,width:A?p:p*2,height:_?v:v*2})),!Y&&he.createElement("clipPath",{id:"clipPath-dots-".concat(I)},he.createElement("rect",{x:f-W/2,y:u-W/2,width:p+W,height:v+W}))):null,k?null:this.renderArea(O,I),(o||k)&&this.renderDots(O,Y,I),(!w||N)&&id.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(y.PureComponent);ane=Lf;Ju(Lf,"displayName","Area");Ju(Lf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ju(Lf,"getBaseValue",function(t,e,r,n){var a=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Jt(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ju(Lf,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,g=t.offset,p=e.layout,v=u&&u.length,w=ane.getBaseValue(e,r,n,a),b=p==="horizontal",N=!1,k=m.map(function(A,_){var O;v?O=u[f+_]:(O=Fi(A,c),Array.isArray(O)?N=!0:O=[w,O]);var I=O[1]==null||v&&Fi(A,c)==null;return b?{x:F5({axis:n,ticks:s,bandSize:l,entry:A,index:_}),y:I?null:a.scale(O[1]),value:O,payload:A}:{x:I?null:n.scale(O[1]),y:F5({axis:a,ticks:o,bandSize:l,entry:A,index:_}),value:O,payload:A}}),S;return v||N?S=k.map(function(A){var _=Array.isArray(A.value)?A.value[0]:null;return b?{x:A.x,y:_!=null&&A.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:A.y}}):S=b?a.scale(w):n.scale(w),Mh({points:k,baseLine:S,layout:p,isRange:N},g)});Ju(Lf,"renderDotItem",function(t,e){var r;if(he.isValidElement(t))r=he.cloneElement(t,e);else if(Gr(t))r=t(e);else{var n=Cr("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,s=ine(e,eFe);r=he.createElement(m1,cp({},s,{key:a,className:n}))}return r});function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function cFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,une(n.key),n)}}function dFe(t,e,r){return e&&uFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fFe(t,e,r){return e=cN(e),hFe(t,lne()?Reflect.construct(e,r||[],cN(t).constructor):e.apply(t,r))}function hFe(t,e){if(e&&(gx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mFe(t)}function mFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lne=function(){return!!t})()}function cN(t){return cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cN(t)}function pFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E6(t,e)}function E6(t,e){return E6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E6(t,e)}function cne(t,e,r){return e=une(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function une(t){var e=gFe(t,"string");return gx(e)=="symbol"?e:e+""}function gFe(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D6(){return D6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D6.apply(this,arguments)}function xFe(t){var e=t.xAxisId,r=GP(),n=YP(),a=Ure(e);return a==null?null:y.createElement(Fx,D6({},a,{className:Cr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return hf(o,!0)}}))}var To=(function(t){function e(){return cFe(this,e),fFe(this,e,arguments)}return pFe(e,t),dFe(e,[{key:"render",value:function(){return y.createElement(xFe,this.props)}}])})(y.Component);cne(To,"displayName","XAxis");cne(To,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function yFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hne(n.key),n)}}function vFe(t,e,r){return e&&bFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wFe(t,e,r){return e=uN(e),jFe(t,dne()?Reflect.construct(e,r||[],uN(t).constructor):e.apply(t,r))}function jFe(t,e){if(e&&(xx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NFe(t)}function NFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dne=function(){return!!t})()}function uN(t){return uN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uN(t)}function SFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P6(t,e)}function P6(t,e){return P6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P6(t,e)}function fne(t,e,r){return e=hne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hne(t){var e=kFe(t,"string");return xx(e)=="symbol"?e:e+""}function kFe(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L6(){return L6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L6.apply(this,arguments)}var CFe=function(e){var r=e.yAxisId,n=GP(),a=YP(),s=Wre(r);return s==null?null:y.createElement(Fx,L6({},s,{className:Cr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return hf(l,!0)}}))},Mo=(function(t){function e(){return yFe(this,e),wFe(this,e,arguments)}return SFe(e,t),vFe(e,[{key:"render",value:function(){return y.createElement(CFe,this.props)}}])})(y.Component);fne(Mo,"displayName","YAxis");fne(Mo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UW(t){return MFe(t)||TFe(t)||AFe(t)||_Fe()}function _Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AFe(t,e){if(t){if(typeof t=="string")return R6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R6(t,e)}}function TFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MFe(t){if(Array.isArray(t))return R6(t)}function R6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var I6=function(e,r,n,a,s){var o=Dl(e,XP),l=Dl(e,OS),c=[].concat(UW(o),UW(l)),u=Dl(e,DS),f="".concat(a,"Id"),m=a[0],g=r;if(c.length&&(g=c.reduce(function(w,b){if(b.props[f]===n&&sd(b.props,"extendDomain")&&Jt(b.props[m])){var N=b.props[m];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},g)),u.length){var p="".concat(m,"1"),v="".concat(m,"2");g=u.reduce(function(w,b){if(b.props[f]===n&&sd(b.props,"extendDomain")&&Jt(b.props[p])&&Jt(b.props[v])){var N=b.props[p],k=b.props[v];return[Math.min(w[0],N,k),Math.max(w[1],N,k)]}return w},g)}return s&&s.length&&(g=s.reduce(function(w,b){return Jt(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},g)),g},vT={exports:{}},WW;function OFe(){return WW||(WW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,m||c,g),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)e.call(f,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,p=m.length,v=new Array(p);g<p;g++)v[g]=m[g].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,f,m,g,p,v){var w=r?r+u:u;if(!this._events[w])return!1;var b=this._events[w],N=arguments.length,k,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,g),!0;case 5:return b.fn.call(b.context,f,m,g,p),!0;case 6:return b.fn.call(b.context,f,m,g,p,v),!0}for(S=1,k=new Array(N-1);S<N;S++)k[S-1]=arguments[S];b.fn.apply(b.context,k)}else{var A=b.length,_;for(S=0;S<A;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),N){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,m);break;case 4:b[S].fn.call(b[S].context,f,m,g);break;default:if(!k)for(_=1,k=new Array(N-1);_<N;_++)k[_-1]=arguments[_];b[S].fn.apply(b[S].context,k)}}return!0},l.prototype.on=function(u,f,m){return s(this,u,f,m,!1)},l.prototype.once=function(u,f,m){return s(this,u,f,m,!0)},l.prototype.removeListener=function(u,f,m,g){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!g||v.once)&&(!m||v.context===m)&&o(this,p);else{for(var w=0,b=[],N=v.length;w<N;w++)(v[w].fn!==f||g&&!v[w].once||m&&v[w].context!==m)&&b.push(v[w]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(vT)),vT.exports}var EFe=OFe();const DFe=Kn(EFe);var wT=new DFe,jT="recharts.syncMouseEvents";function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function PFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mne(n.key),n)}}function RFe(t,e,r){return e&&LFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NT(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=IFe(t,"string");return Fv(e)=="symbol"?e:e+""}function IFe(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FFe=(function(){function t(){PFe(this,t),NT(this,"activeIndex",0),NT(this,"coordinateList",[]),NT(this,"layout","horizontal")}return RFe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,g=r.mouseHandlerCallback,p=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function $Fe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Jt(n)&&Jt(a))return!0}return!1}function BFe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function pne(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,o=Pa(e,r,n,a),l=Pa(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function HFe(t,e,r){var n,a,s,o;if(t==="horizontal")n=e.x,s=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,m=e.angle,g=Pa(l,c,u,m),p=Pa(l,c,f,m);n=g.x,a=g.y,s=p.x,o=p.y}else return pne(e);return[{x:n,y:a},{x:s,y:o}]}function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function VW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function e2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VW(Object(r),!0).forEach(function(n){zFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zFe(t,e,r){return e=qFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qFe(t){var e=UFe(t,"string");return $v(e)=="symbol"?e:e+""}function UFe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WFe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||g!=="ScatterChart"&&a!=="axis")return null;var v,w=jp;if(g==="ScatterChart")v=o,w=n7e;else if(g==="BarChart")v=BFe(m,o,c,f),w=zP;else if(m==="radial"){var b=pne(o),N=b.cx,k=b.cy,S=b.radius,A=b.startAngle,_=b.endAngle;v={cx:N,cy:k,startAngle:A,endAngle:_,innerRadius:S,outerRadius:S},w=hre}else v={points:HFe(m,o,c)},w=jp;var O=e2(e2(e2(e2({stroke:"#ccc",pointerEvents:"none"},c),v),Tr(p,!1)),{},{payload:l,payloadIndex:u,className:Cr("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,O):y.createElement(w,O)}var VFe=["item"],GFe=["children","className","width","height","style","compact","title","desc"];function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(this,arguments)}function GW(t,e){return XFe(t)||KFe(t,e)||xne(t,e)||YFe()}function YFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XFe(t){if(Array.isArray(t))return t}function YW(t,e){if(t==null)return{};var r=JFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yne(n.key),n)}}function e$e(t,e,r){return e&&ZFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t$e(t,e,r){return e=dN(e),r$e(t,gne()?Reflect.construct(e,r||[],dN(t).constructor):e.apply(t,r))}function r$e(t,e){if(e&&(yx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(t)}function n$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gne=function(){return!!t})()}function dN(t){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dN(t)}function a$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F6(t,e)}function F6(t,e){return F6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F6(t,e)}function bx(t){return o$e(t)||s$e(t)||xne(t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xne(t,e){if(t){if(typeof t=="string")return $6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $6(t,e)}}function s$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o$e(t){if(Array.isArray(t))return $6(t)}function $6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(r),!0).forEach(function(n){Vr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vr(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=l$e(t,"string");return yx(e)=="symbol"?e:e+""}function l$e(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c$e={xAxis:["bottom","top"],yAxis:["left","right"]},u$e={width:"100%",height:"100%"},bne={x:0,y:0};function t2(t){return t}var d$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},f$e=function(e,r,n,a){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=a.radius;return Dt(Dt(Dt({},a),Pa(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Dt(Dt(Dt({},a),Pa(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return bne},PS=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(bx(l),bx(u)):l},[]);return o.length>0?o:e&&e.length&&Jt(a)&&Jt(s)?e.slice(a,s+1):[]};function vne(t){return t==="number"?[0,"auto"]:void 0}var B6=function(e,r,n,a){var s=e.graphicalItems,o=e.tooltipAxis,l=PS(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;g=h5(p,o.dataKey,a)}else g=m&&m[n]||l[n];return g?[].concat(bx(c),[ore(u,g)]):c},[])},XW=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},o=d$e(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=_De(o,l,u,c);if(f>=0&&u){var m=u[f]&&u[f].value,g=B6(e,r,f,m),p=f$e(n,l,f,s);return{activeTooltipIndex:f,activeLabel:m,activePayload:g,activeCoordinate:p}}return null},h$e=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,m=e.children,g=e.stackOffset,p=tre(f,s);return n.reduce(function(v,w){var b,N=w.type.defaultProps!==void 0?Dt(Dt({},w.type.defaultProps),w.props):w.props,k=N.type,S=N.dataKey,A=N.allowDataOverflow,_=N.allowDuplicatedCategory,O=N.scale,I=N.ticks,L=N.includeHidden,R=N[o];if(v[R])return v;var B=PS(e.data,{graphicalItems:a.filter(function(U){var J,ee=o in U.props?U.props[o]:(J=U.type.defaultProps)===null||J===void 0?void 0:J[o];return ee===R}),dataStartIndex:c,dataEndIndex:u}),D=B.length,M,H,G;$Fe(N.domain,A,k)&&(M=ZO(N.domain,null,A),p&&(k==="number"||O!=="auto")&&(G=Cb(B,S,"category")));var Y=vne(k);if(!M||M.length===0){var W,$=(W=N.domain)!==null&&W!==void 0?W:Y;if(S){if(M=Cb(B,S,k),k==="category"&&p){var q=wAe(M);_&&q?(H=M,M=J5(0,D)):_||(M=Gq($,M,w).reduce(function(U,J){return U.indexOf(J)>=0?U:[].concat(bx(U),[J])},[]))}else if(k==="category")_?M=M.filter(function(U){return U!==""&&!nn(U)}):M=Gq($,M,w).reduce(function(U,J){return U.indexOf(J)>=0||J===""||nn(J)?U:[].concat(bx(U),[J])},[]);else if(k==="number"){var Z=EDe(B,a.filter(function(U){var J,ee,ne=o in U.props?U.props[o]:(J=U.type.defaultProps)===null||J===void 0?void 0:J[o],ue="hide"in U.props?U.props.hide:(ee=U.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ne===R&&(L||!ue)}),S,s,f);Z&&(M=Z)}p&&(k==="number"||O!=="auto")&&(G=Cb(B,S,"category"))}else p?M=J5(0,D):l&&l[R]&&l[R].hasStack&&k==="number"?M=g==="expand"?[0,1]:sre(l[R].stackGroups,c,u):M=ere(B,a.filter(function(U){var J=o in U.props?U.props[o]:U.type.defaultProps[o],ee="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return J===R&&(L||!ee)}),k,f,!0);if(k==="number")M=I6(m,M,R,s,I),$&&(M=ZO($,M,A));else if(k==="category"&&$){var ce=$,X=M.every(function(U){return ce.indexOf(U)>=0});X&&(M=ce)}}return Dt(Dt({},v),{},Vr({},R,Dt(Dt({},N),{},{axisType:s,domain:M,categoricalDomain:G,duplicateDomain:H,originalDomain:(b=N.domain)!==null&&b!==void 0?b:Y,isCategorical:p,layout:f})))},{})},m$e=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,m=e.children,g=PS(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=g.length,v=tre(f,s),w=-1;return n.reduce(function(b,N){var k=N.type.defaultProps!==void 0?Dt(Dt({},N.type.defaultProps),N.props):N.props,S=k[o],A=vne("number");if(!b[S]){w++;var _;return v?_=J5(0,p):l&&l[S]&&l[S].hasStack?(_=sre(l[S].stackGroups,c,u),_=I6(m,_,S,s)):(_=ZO(A,ere(g,n.filter(function(O){var I,L,R=o in O.props?O.props[o]:(I=O.type.defaultProps)===null||I===void 0?void 0:I[o],B="hide"in O.props?O.props.hide:(L=O.type.defaultProps)===null||L===void 0?void 0:L.hide;return R===S&&!B}),"number",f),a.defaultProps.allowDataOverflow),_=I6(m,_,S,s)),Dt(Dt({},b),{},Vr({},S,Dt(Dt({axisType:s},a.defaultProps),{},{hide:!0,orientation:El(c$e,"".concat(s,".").concat(w%2),null),domain:_,originalDomain:A,isCategorical:v,layout:f})))}return b},{})},p$e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,m="".concat(a,"Id"),g=Dl(f,s),p={};return g&&g.length?p=h$e(e,{axes:g,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=m$e(e,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},g$e=function(e){var r=Ih(e),n=hf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$5(r,n)}},JW=function(e){var r=e.children,n=e.defaultShowTooltip,a=Sl(r,lx),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},x$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Nf(r&&r.type);return n&&n.indexOf("Bar")>=0})},QW=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},y$e=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,m=n.children,g=n.margin||{},p=Sl(m,lx),v=Sl(m,Sf),w=Object.keys(c).reduce(function(_,O){var I=c[O],L=I.orientation;return!I.mirror&&!I.hide?Dt(Dt({},_),{},Vr({},L,_[L]+I.width)):_},{left:g.left||0,right:g.right||0}),b=Object.keys(o).reduce(function(_,O){var I=o[O],L=I.orientation;return!I.mirror&&!I.hide?Dt(Dt({},_),{},Vr({},L,El(_,"".concat(L))+I.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=Dt(Dt({},b),w),k=N.bottom;p&&(N.bottom+=p.props.height||lx.defaultProps.height),v&&r&&(N=MDe(N,a,n,r));var S=u-N.left-N.right,A=f-N.top-N.bottom;return Dt(Dt({brushBottom:k},N),{},{width:Math.max(S,0),height:Math.max(A,0)})},b$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},LS=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,g=function(N,k){var S=k.graphicalItems,A=k.stackGroups,_=k.offset,O=k.updateId,I=k.dataStartIndex,L=k.dataEndIndex,R=N.barSize,B=N.layout,D=N.barGap,M=N.barCategoryGap,H=N.maxBarSize,G=QW(B),Y=G.numericAxisName,W=G.cateAxisName,$=x$e(S),q=[];return S.forEach(function(Z,ce){var X=PS(N.data,{graphicalItems:[Z],dataStartIndex:I,dataEndIndex:L}),U=Z.type.defaultProps!==void 0?Dt(Dt({},Z.type.defaultProps),Z.props):Z.props,J=U.dataKey,ee=U.maxBarSize,ne=U["".concat(Y,"Id")],ue=U["".concat(W,"Id")],Ae={},ke=c.reduce(function(Qe,Tt){var _t=k["".concat(Tt.axisType,"Map")],Se=U["".concat(Tt.axisType,"Id")];_t&&_t[Se]||Tt.axisType==="zAxis"||Fp();var gt=_t[Se];return Dt(Dt({},Qe),{},Vr(Vr({},Tt.axisType,gt),"".concat(Tt.axisType,"Ticks"),hf(gt)))},Ae),je=ke[W],Ce=ke["".concat(W,"Ticks")],Be=A&&A[ne]&&A[ne].hasStack&&HDe(Z,A[ne].stackGroups),fe=Nf(Z.type).indexOf("Bar")>=0,ge=$5(je,Ce),ae=[],ie=$&&ADe({barSize:R,stackGroups:A,totalSize:b$e(ke,W)});if(fe){var ht,ut,Pe=nn(ee)?H:ee,Ke=(ht=(ut=$5(je,Ce,!0))!==null&&ut!==void 0?ut:Pe)!==null&&ht!==void 0?ht:0;ae=TDe({barGap:D,barCategoryGap:M,bandSize:Ke!==ge?Ke:ge,sizeList:ie[ue],maxBarSize:Pe}),Ke!==ge&&(ae=ae.map(function(Qe){return Dt(Dt({},Qe),{},{position:Dt(Dt({},Qe.position),{},{offset:Qe.position.offset-Ke/2})})}))}var yt=Z&&Z.type&&Z.type.getComposedData;yt&&q.push({props:Dt(Dt({},yt(Dt(Dt({},ke),{},{displayedData:X,props:N,dataKey:J,item:Z,bandSize:ge,barPosition:ae,offset:_,stackedData:Be,layout:B,dataStartIndex:I,dataEndIndex:L}))),{},Vr(Vr(Vr({key:Z.key||"item-".concat(ce)},Y,ke[Y]),W,ke[W]),"animationId",O)),childIndex:DAe(Z,N.children),item:Z})}),q},p=function(N,k){var S=N.props,A=N.dataStartIndex,_=N.dataEndIndex,O=N.updateId;if(!lB({props:S}))return null;var I=S.children,L=S.layout,R=S.stackOffset,B=S.data,D=S.reverseStackOrder,M=QW(L),H=M.numericAxisName,G=M.cateAxisName,Y=Dl(I,n),W=$De(B,Y,"".concat(H,"Id"),"".concat(G,"Id"),R,D),$=c.reduce(function(U,J){var ee="".concat(J.axisType,"Map");return Dt(Dt({},U),{},Vr({},ee,p$e(S,Dt(Dt({},J),{},{graphicalItems:Y,stackGroups:J.axisType===H&&W,dataStartIndex:A,dataEndIndex:_}))))},{}),q=y$e(Dt(Dt({},$),{},{props:S,graphicalItems:Y}),k==null?void 0:k.legendBBox);Object.keys($).forEach(function(U){$[U]=f(S,$[U],q,U.replace("Map",""),r)});var Z=$["".concat(G,"Map")],ce=g$e(Z),X=g(S,Dt(Dt({},$),{},{dataStartIndex:A,dataEndIndex:_,updateId:O,graphicalItems:Y,stackGroups:W,offset:q}));return Dt(Dt({formattedGraphicalItems:X,graphicalItems:Y,offset:q,stackGroups:W},ce),$)},v=(function(b){function N(k){var S,A,_;return QFe(this,N),_=t$e(this,N,[k]),Vr(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vr(_,"accessibilityManager",new FFe),Vr(_,"handleLegendBBoxUpdate",function(O){if(O){var I=_.state,L=I.dataStartIndex,R=I.dataEndIndex,B=I.updateId;_.setState(Dt({legendBBox:O},p({props:_.props,dataStartIndex:L,dataEndIndex:R,updateId:B},Dt(Dt({},_.state),{},{legendBBox:O}))))}}),Vr(_,"handleReceiveSyncEvent",function(O,I,L){if(_.props.syncId===O){if(L===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(I)}}),Vr(_,"handleBrushChange",function(O){var I=O.startIndex,L=O.endIndex;if(I!==_.state.dataStartIndex||L!==_.state.dataEndIndex){var R=_.state.updateId;_.setState(function(){return Dt({dataStartIndex:I,dataEndIndex:L},p({props:_.props,dataStartIndex:I,dataEndIndex:L,updateId:R},_.state))}),_.triggerSyncEvent({dataStartIndex:I,dataEndIndex:L})}}),Vr(_,"handleMouseEnter",function(O){var I=_.getMouseInfo(O);if(I){var L=Dt(Dt({},I),{},{isTooltipActive:!0});_.setState(L),_.triggerSyncEvent(L);var R=_.props.onMouseEnter;Gr(R)&&R(L,O)}}),Vr(_,"triggeredAfterMouseMove",function(O){var I=_.getMouseInfo(O),L=I?Dt(Dt({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(L),_.triggerSyncEvent(L);var R=_.props.onMouseMove;Gr(R)&&R(L,O)}),Vr(_,"handleItemMouseEnter",function(O){_.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Vr(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Vr(_,"handleMouseMove",function(O){O.persist(),_.throttleTriggeredAfterMouseMove(O)}),Vr(_,"handleMouseLeave",function(O){_.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};_.setState(I),_.triggerSyncEvent(I);var L=_.props.onMouseLeave;Gr(L)&&L(I,O)}),Vr(_,"handleOuterEvent",function(O){var I=EAe(O),L=El(_.props,"".concat(I));if(I&&Gr(L)){var R,B;/.*touch.*/i.test(I)?B=_.getMouseInfo(O.changedTouches[0]):B=_.getMouseInfo(O),L((R=B)!==null&&R!==void 0?R:{},O)}}),Vr(_,"handleClick",function(O){var I=_.getMouseInfo(O);if(I){var L=Dt(Dt({},I),{},{isTooltipActive:!0});_.setState(L),_.triggerSyncEvent(L);var R=_.props.onClick;Gr(R)&&R(L,O)}}),Vr(_,"handleMouseDown",function(O){var I=_.props.onMouseDown;if(Gr(I)){var L=_.getMouseInfo(O);I(L,O)}}),Vr(_,"handleMouseUp",function(O){var I=_.props.onMouseUp;if(Gr(I)){var L=_.getMouseInfo(O);I(L,O)}}),Vr(_,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Vr(_,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.handleMouseDown(O.changedTouches[0])}),Vr(_,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.handleMouseUp(O.changedTouches[0])}),Vr(_,"handleDoubleClick",function(O){var I=_.props.onDoubleClick;if(Gr(I)){var L=_.getMouseInfo(O);I(L,O)}}),Vr(_,"handleContextMenu",function(O){var I=_.props.onContextMenu;if(Gr(I)){var L=_.getMouseInfo(O);I(L,O)}}),Vr(_,"triggerSyncEvent",function(O){_.props.syncId!==void 0&&wT.emit(jT,_.props.syncId,O,_.eventEmitterSymbol)}),Vr(_,"applySyncEvent",function(O){var I=_.props,L=I.layout,R=I.syncMethod,B=_.state.updateId,D=O.dataStartIndex,M=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)_.setState(Dt({dataStartIndex:D,dataEndIndex:M},p({props:_.props,dataStartIndex:D,dataEndIndex:M,updateId:B},_.state)));else if(O.activeTooltipIndex!==void 0){var H=O.chartX,G=O.chartY,Y=O.activeTooltipIndex,W=_.state,$=W.offset,q=W.tooltipTicks;if(!$)return;if(typeof R=="function")Y=R(q,O);else if(R==="value"){Y=-1;for(var Z=0;Z<q.length;Z++)if(q[Z].value===O.activeLabel){Y=Z;break}}var ce=Dt(Dt({},$),{},{x:$.left,y:$.top}),X=Math.min(H,ce.x+ce.width),U=Math.min(G,ce.y+ce.height),J=q[Y]&&q[Y].value,ee=B6(_.state,_.props.data,Y),ne=q[Y]?{x:L==="horizontal"?q[Y].coordinate:X,y:L==="horizontal"?U:q[Y].coordinate}:bne;_.setState(Dt(Dt({},O),{},{activeLabel:J,activeCoordinate:ne,activePayload:ee,activeTooltipIndex:Y}))}else _.setState(O)}),Vr(_,"renderCursor",function(O){var I,L=_.state,R=L.isTooltipActive,B=L.activeCoordinate,D=L.activePayload,M=L.offset,H=L.activeTooltipIndex,G=L.tooltipAxisBandSize,Y=_.getTooltipEventType(),W=(I=O.props.active)!==null&&I!==void 0?I:R,$=_.props.layout,q=O.key||"_recharts-cursor";return he.createElement(WFe,{key:q,activeCoordinate:B,activePayload:D,activeTooltipIndex:H,chartName:r,element:O,isActive:W,layout:$,offset:M,tooltipAxisBandSize:G,tooltipEventType:Y})}),Vr(_,"renderPolarAxis",function(O,I,L){var R=El(O,"type.axisType"),B=El(_.state,"".concat(R,"Map")),D=O.type.defaultProps,M=D!==void 0?Dt(Dt({},D),O.props):O.props,H=B&&B[M["".concat(R,"Id")]];return y.cloneElement(O,Dt(Dt({},H),{},{className:Cr(R,H.className),key:O.key||"".concat(I,"-").concat(L),ticks:hf(H,!0)}))}),Vr(_,"renderPolarGrid",function(O){var I=O.props,L=I.radialLines,R=I.polarAngles,B=I.polarRadius,D=_.state,M=D.radiusAxisMap,H=D.angleAxisMap,G=Ih(M),Y=Ih(H),W=Y.cx,$=Y.cy,q=Y.innerRadius,Z=Y.outerRadius;return y.cloneElement(O,{polarAngles:Array.isArray(R)?R:hf(Y,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(B)?B:hf(G,!0).map(function(ce){return ce.coordinate}),cx:W,cy:$,innerRadius:q,outerRadius:Z,key:O.key||"polar-grid",radialLines:L})}),Vr(_,"renderLegend",function(){var O=_.state.formattedGraphicalItems,I=_.props,L=I.children,R=I.width,B=I.height,D=_.props.margin||{},M=R-(D.left||0)-(D.right||0),H=Qte({children:L,formattedGraphicalItems:O,legendWidth:M,legendContent:u});if(!H)return null;var G=H.item,Y=YW(H,VFe);return y.cloneElement(G,Dt(Dt({},Y),{},{chartWidth:R,chartHeight:B,margin:D,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Vr(_,"renderTooltip",function(){var O,I=_.props,L=I.children,R=I.accessibilityLayer,B=Sl(L,ji);if(!B)return null;var D=_.state,M=D.isTooltipActive,H=D.activeCoordinate,G=D.activePayload,Y=D.activeLabel,W=D.offset,$=(O=B.props.active)!==null&&O!==void 0?O:M;return y.cloneElement(B,{viewBox:Dt(Dt({},W),{},{x:W.left,y:W.top}),active:$,label:Y,payload:$?G:[],coordinate:H,accessibilityLayer:R})}),Vr(_,"renderBrush",function(O){var I=_.props,L=I.margin,R=I.data,B=_.state,D=B.offset,M=B.dataStartIndex,H=B.dataEndIndex,G=B.updateId;return y.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Xw(_.handleBrushChange,O.props.onChange),data:R,x:Jt(O.props.x)?O.props.x:D.left,y:Jt(O.props.y)?O.props.y:D.top+D.height+D.brushBottom-(L.bottom||0),width:Jt(O.props.width)?O.props.width:D.width,startIndex:M,endIndex:H,updateId:"brush-".concat(G)})}),Vr(_,"renderReferenceElement",function(O,I,L){if(!O)return null;var R=_,B=R.clipPathId,D=_.state,M=D.xAxisMap,H=D.yAxisMap,G=D.offset,Y=O.type.defaultProps||{},W=O.props,$=W.xAxisId,q=$===void 0?Y.xAxisId:$,Z=W.yAxisId,ce=Z===void 0?Y.yAxisId:Z;return y.cloneElement(O,{key:O.key||"".concat(I,"-").concat(L),xAxis:M[q],yAxis:H[ce],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:B})}),Vr(_,"renderActivePoints",function(O){var I=O.item,L=O.activePoint,R=O.basePoint,B=O.childIndex,D=O.isRange,M=[],H=I.props.key,G=I.item.type.defaultProps!==void 0?Dt(Dt({},I.item.type.defaultProps),I.item.props):I.item.props,Y=G.activeDot,W=G.dataKey,$=Dt(Dt({index:B,dataKey:W,cx:L.x,cy:L.y,r:4,fill:HP(I.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Tr(Y,!1)),m5(Y));return M.push(N.renderActiveDot(Y,$,"".concat(H,"-activePoint-").concat(B))),R?M.push(N.renderActiveDot(Y,Dt(Dt({},$),{},{cx:R.x,cy:R.y}),"".concat(H,"-basePoint-").concat(B))):D&&M.push(null),M}),Vr(_,"renderGraphicChild",function(O,I,L){var R=_.filterFormatItem(O,I,L);if(!R)return null;var B=_.getTooltipEventType(),D=_.state,M=D.isTooltipActive,H=D.tooltipAxis,G=D.activeTooltipIndex,Y=D.activeLabel,W=_.props.children,$=Sl(W,ji),q=R.props,Z=q.points,ce=q.isRange,X=q.baseLine,U=R.item.type.defaultProps!==void 0?Dt(Dt({},R.item.type.defaultProps),R.item.props):R.item.props,J=U.activeDot,ee=U.hide,ne=U.activeBar,ue=U.activeShape,Ae=!!(!ee&&M&&$&&(J||ne||ue)),ke={};B!=="axis"&&$&&$.props.trigger==="click"?ke={onClick:Xw(_.handleItemMouseEnter,O.props.onClick)}:B!=="axis"&&(ke={onMouseLeave:Xw(_.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Xw(_.handleItemMouseEnter,O.props.onMouseEnter)});var je=y.cloneElement(O,Dt(Dt({},R.props),ke));function Ce(Tt){return typeof H.dataKey=="function"?H.dataKey(Tt.payload):null}if(Ae)if(G>=0){var Be,fe;if(H.dataKey&&!H.allowDuplicatedCategory){var ge=typeof H.dataKey=="function"?Ce:"payload.".concat(H.dataKey.toString());Be=h5(Z,ge,Y),fe=ce&&X&&h5(X,ge,Y)}else Be=Z==null?void 0:Z[G],fe=ce&&X&&X[G];if(ue||ne){var ae=O.props.activeIndex!==void 0?O.props.activeIndex:G;return[y.cloneElement(O,Dt(Dt(Dt({},R.props),ke),{},{activeIndex:ae})),null,null]}if(!nn(Be))return[je].concat(bx(_.renderActivePoints({item:R,activePoint:Be,basePoint:fe,childIndex:G,isRange:ce})))}else{var ie,ht=(ie=_.getItemByXY(_.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:je},ut=ht.graphicalItem,Pe=ut.item,Ke=Pe===void 0?O:Pe,yt=ut.childIndex,Qe=Dt(Dt(Dt({},R.props),ke),{},{activeIndex:yt});return[y.cloneElement(Ke,Qe),null,null]}return ce?[je,null,null]:[je,null]}),Vr(_,"renderCustomized",function(O,I,L){return y.cloneElement(O,Dt(Dt({key:"recharts-customized-".concat(L)},_.props),_.state))}),Vr(_,"renderMap",{CartesianGrid:{handler:t2,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:t2},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:t2},YAxis:{handler:t2},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:Wp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Jee(_.triggeredAfterMouseMove,(A=k.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return a$e(N,b),e$e(N,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,_=S.data,O=S.height,I=S.layout,L=Sl(A,ji);if(L){var R=L.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,D=B6(this.state,_,R,B),M=this.state.tooltipTicks[R].coordinate,H=(this.state.offset.top+O)/2,G=I==="horizontal",Y=G?{x:M,y:H}:{y:M,x:H},W=this.state.formattedGraphicalItems.find(function(q){var Z=q.item;return Z.type.name==="Scatter"});W&&(Y=Dt(Dt({},Y),W.props.points[R].tooltipPosition),D=W.props.points[R].tooltipPayload);var $={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:B,activePayload:D,activeCoordinate:Y};this.setState($),this.renderCursor(L),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,O;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){wO([Sl(S.children,ji)],[Sl(this.props.children,ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Sl(this.props.children,ji);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return l.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),O=bMe(_),I={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},L=_.width/A.offsetWidth||1,R=this.inRange(I.chartX,I.chartY,L);if(!R)return null;var B=this.state,D=B.xAxisMap,M=B.yAxisMap,H=this.getTooltipEventType(),G=XW(this.state,this.props.data,this.props.layout,R);if(H!=="axis"&&D&&M){var Y=Ih(D).scale,W=Ih(M).scale,$=Y&&Y.invert?Y.invert(I.chartX):null,q=W&&W.invert?W.invert(I.chartY):null;return Dt(Dt({},I),{},{xValue:$,yValue:q},G)}return G?Dt(Dt({},I),G):null}},{key:"inRange",value:function(S,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,I=S/_,L=A/_;if(O==="horizontal"||O==="vertical"){var R=this.state.offset,B=I>=R.left&&I<=R.left+R.width&&L>=R.top&&L<=R.top+R.height;return B?{x:I,y:L}:null}var D=this.state,M=D.angleAxisMap,H=D.radiusAxisMap;if(M&&H){var G=Ih(M);return Xq({x:I,y:L},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),_=Sl(S,ji),O={};_&&A==="axis"&&(_.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=m5(this.props,this.handleOuterEvent);return Dt(Dt({},I),O)}},{key:"addListener",value:function(){wT.on(jT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wT.removeListener(jT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,_){for(var O=this.state.formattedGraphicalItems,I=0,L=O.length;I<L;I++){var R=O[I];if(R.item===S||R.props.key===S.key||A===Nf(R.item.type)&&_===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,_=A.left,O=A.top,I=A.height,L=A.width;return he.createElement("defs",null,he.createElement("clipPath",{id:S},he.createElement("rect",{x:_,y:O,height:I,width:L})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,_){var O=GW(_,2),I=O[0],L=O[1];return Dt(Dt({},A),{},Vr({},I,L.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,_){var O=GW(_,2),I=O[0],L=O[1];return Dt(Dt({},A),{},Vr({},I,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,_=A.formattedGraphicalItems,O=A.activeItem;if(_&&_.length)for(var I=0,L=_.length;I<L;I++){var R=_[I],B=R.props,D=R.item,M=D.type.defaultProps!==void 0?Dt(Dt({},D.type.defaultProps),D.props):D.props,H=Nf(D.type);if(H==="Bar"){var G=(B.data||[]).find(function(q){return I8e(S,q)});if(G)return{graphicalItem:R,payload:G}}else if(H==="RadialBar"){var Y=(B.data||[]).find(function(q){return Xq(S,q)});if(Y)return{graphicalItem:R,payload:Y}}else if(_S(R,O)||AS(R,O)||Dv(R,O)){var W=sRe({graphicalItem:R,activeTooltipItem:O,itemData:M.data}),$=M.activeIndex===void 0?W:M.activeIndex;return{graphicalItem:Dt(Dt({},R),{},{childIndex:$}),payload:Dv(R,O)?M.data[W]:R.props.data[W]}}}return null}},{key:"render",value:function(){var S=this;if(!lB(this))return null;var A=this.props,_=A.children,O=A.className,I=A.width,L=A.height,R=A.style,B=A.compact,D=A.title,M=A.desc,H=YW(A,GFe),G=Tr(H,!1);if(B)return he.createElement(CW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(NO,dg({},G,{width:I,height:L,title:D,desc:M}),this.renderClipPath(),uB(_,this.renderMap)));if(this.props.accessibilityLayer){var Y,W;G.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,G.role=(W=this.props.role)!==null&&W!==void 0?W:"application",G.onKeyDown=function(q){S.accessibilityManager.keyboardEvent(q)},G.onFocus=function(){S.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return he.createElement(CW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",dg({className:Cr("recharts-wrapper",O),style:Dt({position:"relative",cursor:"default",width:I,height:L},R)},$,{ref:function(Z){S.container=Z}}),he.createElement(NO,dg({},G,{width:I,height:L,title:D,desc:M,style:u$e}),this.renderClipPath(),uB(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(y.Component);Vr(v,"displayName",r),Vr(v,"defaultProps",Dt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Vr(v,"getDerivedStateFromProps",function(b,N){var k=b.dataKey,S=b.data,A=b.children,_=b.width,O=b.height,I=b.layout,L=b.stackOffset,R=b.margin,B=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var M=JW(b);return Dt(Dt(Dt({},M),{},{updateId:0},p(Dt(Dt({props:b},M),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:O,prevLayout:I,prevStackOffset:L,prevMargin:R,prevChildren:A})}if(k!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||O!==N.prevHeight||I!==N.prevLayout||L!==N.prevStackOffset||!jg(R,N.prevMargin)){var H=JW(b),G={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Y=Dt(Dt({},XW(N,S,I)),{},{updateId:N.updateId+1}),W=Dt(Dt(Dt({},H),G),Y);return Dt(Dt(Dt({},W),p(Dt({props:b},W),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:O,prevLayout:I,prevStackOffset:L,prevMargin:R,prevChildren:A})}if(!wO(A,N.prevChildren)){var $,q,Z,ce,X=Sl(A,lx),U=X&&($=(q=X.props)===null||q===void 0?void 0:q.startIndex)!==null&&$!==void 0?$:B,J=X&&(Z=(ce=X.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&Z!==void 0?Z:D,ee=U!==B||J!==D,ne=!nn(S),ue=ne&&!ee?N.updateId:N.updateId+1;return Dt(Dt({updateId:ue},p(Dt(Dt({props:b},N),{},{updateId:ue,dataStartIndex:U,dataEndIndex:J}),N)),{},{prevChildren:A,dataStartIndex:U,dataEndIndex:J})}return null}),Vr(v,"renderActiveDot",function(b,N,k){var S;return y.isValidElement(b)?S=y.cloneElement(b,N):Gr(b)?S=b(N):S=he.createElement(m1,N),he.createElement(_n,{className:"recharts-active-dot",key:k},S)});var w=y.forwardRef(function(N,k){return he.createElement(v,dg({},N,{ref:k}))});return w.displayName=v.displayName,w},fN=LS({chartName:"LineChart",GraphicalChild:Pf,axisComponents:[{axisType:"xAxis",AxisComp:To},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:qP}),Ob=LS({chartName:"BarChart",GraphicalChild:lu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:To},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:qP}),ZP=LS({chartName:"PieChart",GraphicalChild:pu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:CS},{axisType:"radiusAxis",AxisComp:SS}],formatAxisMap:JDe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),v$e=LS({chartName:"AreaChart",GraphicalChild:Lf,axisComponents:[{axisType:"xAxis",AxisComp:To},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:qP});const ZW=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const a=t*60+e,s=r*60+n;let o=Math.abs(s-a);return o>720&&(o=1440-o),o},r2=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},ST=({title:t,value:e,change:r,icon:n})=>{const a=r==null?void 0:r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},w$e=()=>{const[t,e]=y.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return Y?JSON.parse(Y):!1}),[r,n]=y.useState(!1),[a,s]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(null),{user:f,getMachineHistories:m}=ir(),g=ar(),p=Ui(),[v,w]=y.useState(window.innerWidth<768),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=he.useRef(null),_=he.useRef(null),O=p.pathname==="/machinehistory",I=p.pathname==="/machinehistory/reports";y.useEffect(()=>{(async()=>{l(!0);try{const W=await m();s(W||[])}catch(W){console.error("Failed to fetch machine history for reports:",W),u("Failed to load machine history data for reports."),s([])}finally{l(!1)}})()},[m]),y.useEffect(()=>{const Y=()=>{w(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),y.useEffect(()=>{const Y=W=>{A.current&&!A.current.contains(W.target)&&N(!1),_.current&&!_.current.contains(W.target)&&S(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const L=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Y=>!Y)},R=y.useMemo(()=>a.length,[a]),B=y.useMemo(()=>{const Y={};return a.forEach(W=>{W.mesin&&(Y[W.mesin]=(Y[W.mesin]||0)+1)}),Object.entries(Y).sort(([,W],[,$])=>$-W).slice(0,3).map(([W,$])=>({name:W,count:$}))},[a]),D=y.useMemo(()=>{const Y={};return a.forEach(W=>{if(W.mesin){const $=ZW(W.stopJam,W.stopMenit,W.startJam,W.startMenit);$!==null&&(Y[W.mesin]||(Y[W.mesin]={totalMinutes:0,count:0}),Y[W.mesin].totalMinutes+=$,Y[W.mesin].count+=1)}}),Object.entries(Y).map(([W,$])=>{const q=$.count>0?$.totalMinutes/$.count:0,Z=Math.round(q*100)/100;return{name:W,averageDowntimeMinutes:Z,displayDowntime:r2(Z)}})},[a]),M=y.useMemo(()=>{const Y={};return a.forEach(W=>{if(W.date){const $=new Date(W.date),q=$.getFullYear(),Z=($.getMonth()+1).toString().padStart(2,"0"),ce=`${q}-${Z}`;Y[ce]=(Y[ce]||0)+1}}),Object.entries(Y).sort(([W],[$])=>W.localeCompare($)).map(([W,$])=>{const[q,Z]=W.split("-");return{name:`${new Date(Number(q),Number(Z)-1,1).toLocaleString("en-US",{month:"short"})} ${q}`,"Maintenance Events":$}})},[a]),H=y.useMemo(()=>{const Y={Perbaikan:0,Perawatan:0};return a.forEach(W=>{W.perbaikanPerawatan==="Perbaikan"?Y.Perbaikan+=1:W.perbaikanPerawatan==="Perawatan"&&(Y.Perawatan+=1)}),[{name:"Repairs",value:Y.Perbaikan},{name:"Maintenance",value:Y.Perawatan}].filter(W=>W.value>0)},[a]),G=["#8884d8","#82ca9d","#ffc658","#ff7300"];return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:v,toggleSidebar:L}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${O?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${I?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",i.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):a.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Qi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsx(ST,{title:"Total Maintenance Events",value:R.toLocaleString("id-ID"),icon:i.jsx(Cn,{})}),i.jsx(ST,{title:"Avg. Downtime (All Machines)",value:r2(Math.round(a.reduce((Y,W)=>Y+(ZW(W.stopJam,W.stopMenit,W.startJam,W.startMenit)||0),0)/a.length*100)/100),icon:i.jsx(kr,{})}),i.jsx(ST,{title:"Machines Maintained",value:new Set(a.map(Y=>Y.mesin)).size.toLocaleString("id-ID"),icon:i.jsx(ia,{})}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(cu,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Ob,{data:B,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(ji,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),i.jsx(lu,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),B.length===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),H.length>0?i.jsx(kl,{width:"100%",height:300,children:i.jsxs(ZP,{children:[i.jsx(pu,{data:H,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:H.map((Y,W)=>i.jsx(Pp,{fill:G[W%G.length]},`cell-${W}`))}),i.jsx(ji,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(Y,W)=>[`${Y} events`,W]}),i.jsx(Sf,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),i.jsx(kl,{width:"100%",height:350,children:i.jsxs(Ob,{data:D,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{tickFormatter:Y=>r2(Y),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(ji,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:Y=>r2(Y)}),i.jsx(lu,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),D.length===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),i.jsx(kl,{width:"100%",height:350,children:i.jsxs(fN,{data:M,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(ji,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),i.jsx(Sf,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),i.jsx(Pf,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),M.length===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function j$e(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const N$e=()=>{const[t,e]=y.useState(()=>{const ge=localStorage.getItem("sidebarOpen");return ge?JSON.parse(ge):!1}),[r,n]=y.useState(!1),[a,s]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(null),[f,m]=y.useState(1),[g]=y.useState(10),{user:p,getAuditTrail:v,isAuthenticated:w}=ir();ar();const[b,N]=y.useState(window.innerWidth<768),[k,S]=y.useState(!1),[A,_]=y.useState(!1),O=y.useRef(null),I=y.useRef(null),[L,R]=y.useState({key:"changed_at",direction:"descending"}),[B,D]=y.useState(""),M=j$e(B,300),[H,G]=y.useState(!1),[Y,W]=y.useState(null),$=y.useCallback(async()=>{try{l(!0),u(null);const ge=await v();s(ge)}catch(ge){console.error("Failed to fetch audit trail:",ge),u("Failed to load audit trail data. Please try again."),s([])}finally{l(!1)}},[v]);y.useEffect(()=>{$()},[$]),y.useEffect(()=>{const ge=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]),y.useEffect(()=>{const ge=ae=>{O.current&&!O.current.contains(ae.target)&&S(!1),I.current&&!I.current.contains(ae.target)&&_(!1)};return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[]);const q=ge=>{D(ge.target.value)},Z=ge=>{let ae="ascending";L&&L.key===ge&&L.direction==="ascending"&&(ae="descending"),R({key:ge,direction:ae})},ce=ge=>typeof ge=="object"&&ge!==null?ge.name||ge.toString():(ge==null?void 0:ge.toString())||"",X=y.useCallback(ge=>{W(ge),G(!0)},[]),U=ge=>{switch(ge){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},J=ge=>ge?ge.replace("App\\Models\\",""):"Unknown",ee=he.useMemo(()=>{let ge=[...a||[]];if(M.trim()){const ae=M.toLowerCase().trim();ge=ge.filter(ie=>{var ut,Pe,Ke;return[((ut=ie.changed_by)==null?void 0:ut.toLowerCase())||"",((Pe=ie.action)==null?void 0:Pe.toLowerCase())||"",((Ke=ie.recordable_type)==null?void 0:Ke.toLowerCase())||"",JSON.stringify(ie.old_data_snapshot||{}).toLowerCase(),JSON.stringify(ie.new_data_snapshot||{}).toLowerCase()].some(yt=>yt.includes(ae))})}return L!==null?ge.sort((ae,ie)=>{if(L.key==="changed_at"){const Pe=new Date(ae.changed_at).getTime(),Ke=new Date(ie.changed_at).getTime();return L.direction==="ascending"?Pe-Ke:Ke-Pe}const ht=ce(ae[L.key]),ut=ce(ie[L.key]);return ht<ut?L.direction==="ascending"?-1:1:ht>ut?L.direction==="ascending"?1:-1:0}):ge.sort((ae,ie)=>{const ht=new Date(ae.changed_at).getTime();return new Date(ie.changed_at).getTime()-ht}),ge},[a,M,L]),ne=f*g,ue=ne-g,Ae=ee.slice(ue,ne),ke=Math.ceil(ee.length/g),je=ge=>m(ge),Ce=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(ge=>!ge)},Be=ge=>{try{return new Date(ge).toLocaleString()}catch{return ge}},fe=({log:ge,onClose:ae})=>{const ie=at=>at==null?"-":typeof at=="object"&&at!==null?JSON.stringify(at):typeof at=="string"?at.trim()!==""?at.trim():"-":typeof at=="number"?at.toString():typeof at=="boolean"?at?"Yes":"No":String(at),ht=at=>!at||at.trim()===""?"-":md.sanitize(at,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),ut=at=>{try{return new Date(at).toLocaleString()}catch{return at}},Pe=at=>at?at.replace("App\\Models\\",""):"Unknown",Ke=({title:at,children:Nt,icon:kt})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[kt&&i.jsx("div",{className:"mr-3 text-blue-600",children:kt}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:at})]})}),i.jsx("div",{className:"p-6",children:Nt})]}),yt=({label:at,value:Nt,icon:kt,fullWidth:Ee=!1,priority:vt="medium"})=>{const bt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Ee?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${bt[vt]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[kt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:kt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:at}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Nt})]})]})})})},Qe=()=>{const at=ge.old_data_snapshot?Object.keys(ge.old_data_snapshot):[],Nt=ge.new_data_snapshot?Object.keys(ge.new_data_snapshot):[];return[...new Set([...at,...Nt])].filter(Ee=>!["id","created_at","updated_at","deleted_at"].includes(Ee))},Tt=(at,Nt)=>{if(at===void 0&&Nt===void 0||at===null&&Nt===null)return!0;if(at===void 0&&Nt===null||at===null&&Nt===void 0)return!1;if(at===Nt)return!0;if(!isNaN(Number(at))&&!isNaN(Number(Nt)))return Number(at)===Number(Nt);if(typeof at=="boolean"&&typeof Nt=="boolean")return at===Nt;if(typeof at=="string"&&typeof Nt=="string")return at.trim().toLowerCase()===Nt.trim().toLowerCase();if(typeof at=="object"&&typeof Nt=="object"&&at!==null&&Nt!==null)try{return JSON.stringify(at)===JSON.stringify(Nt)}catch{return String(at)===String(Nt)}const kt=String(at||"").trim(),Ee=String(Nt||"").trim();return(kt===""||kt==="null"||kt==="undefined")&&(Ee===""||Ee==="null"||Ee==="undefined")?!0:kt===Ee},_t=()=>{const at=Qe();if(at.length===0)return i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const Nt=at.map(vt=>{const bt=ge.old_data_snapshot??{},Je=ge.new_data_snapshot??{},Le=Object.prototype.hasOwnProperty.call(bt,vt),et=Object.prototype.hasOwnProperty.call(Je,vt),lt=Le?bt[vt]:void 0;let be=et?Je[vt]:void 0;ge.action==="updated"&&Le&&!et&&(be=lt);let me;return!Le&&et?me="added":Le&&!et?me=ge.action==="deleted"?"removed":"unchanged":Tt(lt,be)?me="unchanged":me="updated",{key:vt,oldValue:lt,newValue:be,status:me}}),kt=Nt.filter(vt=>vt.status!=="unchanged").length,Ee=Nt.length-kt;return i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Nt.map(({key:vt,oldValue:bt,newValue:Je,status:Le})=>{const et=vt.split("_").map(ft=>ft.charAt(0).toUpperCase()+ft.slice(1)).join(" "),lt=vt.toLowerCase().includes("complaint")||vt.toLowerCase().includes("action_taken")||vt.toLowerCase().includes("remarks"),be=lt?ht(String(bt||"")):ie(bt),me=lt?ht(String(Je||"")):ie(Je),qe=Le==="updated"?"bg-yellow-50":Le==="added"?"bg-green-50":Le==="removed"?"bg-red-50":"";return i.jsxs("tr",{className:qe,children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:et}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:lt?i.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${Le==="removed"?"bg-red-100 text-red-800 border border-red-200":Le==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:be}}):i.jsx("div",{className:`p-2 rounded ${Le==="removed"?"bg-red-100 text-red-800 border border-red-200":Le==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:be})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:lt?i.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${Le==="added"?"bg-green-100 text-green-800 border border-green-200":Le==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:me}}):i.jsx("div",{className:`p-2 rounded ${Le==="added"?"bg-green-100 text-green-800 border border-green-200":Le==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:me})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:Le==="added"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[i.jsx(qi,{className:"w-3 h-3 mr-1"}),"Added"]}):Le==="removed"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[i.jsx(Ma,{className:"w-3 h-3 mr-1"}),"Removed"]}):Le==="updated"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx(hc,{className:"w-3 h-3 mr-1"}),"Updated"]}):i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[i.jsx(wr,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},vt)})})]}),i.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:kt})," field(s) changed  ",i.jsx("span",{className:"font-medium",children:Ee})," field(s) unchanged"]})]})},Se=(at,Nt)=>{if(!at||Object.keys(at).length===0)return i.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Nt," data available"]});const kt=Object.entries(at).filter(([Ee])=>!["id","created_at","updated_at","deleted_at"].includes(Ee));return kt.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Nt," data available"]}):i.jsx("div",{className:"space-y-4",children:kt.map(([Ee,vt])=>{const bt=Ee.split("_").map(Le=>Le.charAt(0).toUpperCase()+Le.slice(1)).join(" "),Je=Ee.toLowerCase().includes("complaint")||Ee.toLowerCase().includes("action_taken")||Ee.toLowerCase().includes("remarks");return i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:i.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:bt})}),i.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:Je?i.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:ht(String(vt||""))}}):i.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:ie(vt)})})]},Ee)})})},gt=(at,Nt)=>{if(!at||Object.keys(at).length===0)return i.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Nt.toLowerCase()," available"]});const kt=Object.entries(at).filter(([Ee,vt])=>!(["id","created_at","updated_at","deleted_at"].includes(Ee)||vt==null||vt===""));return kt.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Nt.toLowerCase()," available"]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:kt.map(([Ee,vt])=>{const bt=Ee.split("_").map(Je=>Je.charAt(0).toUpperCase()+Je.slice(1)).join(" ");return i.jsx(yt,{label:bt,value:ie(vt)},Ee)})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",ge.id]}),i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ge.action==="created"?"bg-green-100 text-green-800 border border-green-300":ge.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":ge.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:ge.action.charAt(0).toUpperCase()+ge.action.slice(1)})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),"Timestamp: ",ut(ge.changed_at)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(un,{className:"w-4 h-4"}),"User: ",ge.changed_by||"N/A"]})]})]})})}),i.jsx(Ke,{title:"General Information",icon:i.jsx(Cn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(yt,{label:"Audit ID",value:ie(ge.id),icon:i.jsx(Pg,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"Timestamp",value:ut(ge.changed_at),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"User",value:ie(ge.changed_by),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"Action",value:ie(ge.action),icon:i.jsx(hc,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"Record Type",value:Pe(ge.recordable_type),icon:i.jsx(Uh,{className:"w-4 h-4"})}),i.jsx(yt,{label:"Record ID",value:ie(ge.recordable_id),icon:i.jsx(zb,{className:"w-4 h-4"})})]})}),ge.recordable_details&&Object.keys(ge.recordable_details).length>0&&i.jsx(Ke,{title:"Record Details",icon:i.jsx(Uh,{className:"w-5 h-5"}),children:gt(ge.recordable_details,"Record Details")}),i.jsx(Ke,{title:"Data Changes Comparison",icon:i.jsx(hc,{className:"w-5 h-5"}),children:_t()}),i.jsx(Ke,{title:"Complete Data Snapshots",icon:i.jsx(kN,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-8",children:[ge.old_data_snapshot&&Object.keys(ge.old_data_snapshot).length>0&&i.jsxs("div",{className:"w-full",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:Se(ge.old_data_snapshot,"old")})]}),ge.new_data_snapshot&&Object.keys(ge.new_data_snapshot).length>0&&i.jsxs("div",{className:"w-full",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:Se(ge.new_data_snapshot,"new")})]})]})}),i.jsx(Ke,{title:"Audit Summary",icon:i.jsx(cu,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:ge.action.charAt(0).toUpperCase()+ge.action.slice(1)})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),i.jsxs("p",{className:"text-sm text-green-600",children:[Pe(ge.recordable_type),"  ID: ",ge.recordable_id]})]})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:i.jsx(E.button,{type:"button",onClick:ae,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:i.jsx(zb,{}),isMobile:b,toggleSidebar:Ce}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",i.jsx("span",{className:"text-blue-600",children:"Trail"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),i.jsx(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:B,onChange:q,"aria-label":"Search audit logs"})]})})}),o?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Yr,{className:"text-red-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),i.jsx("button",{onClick:$,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):ee.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Qi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:M?"No audit entries found matching your search.":"No audit entries available."}),M&&i.jsx("button",{onClick:()=>D(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Z("changed_at"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(kr,{className:"mr-2 text-sm"})," Timestamp",(L==null?void 0:L.key)==="changed_at"?i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""}):i.jsx("span",{className:"ml-1 text-gray-400",children:""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Z("changed_by"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(un,{className:"mr-2 text-sm"})," User",(L==null?void 0:L.key)==="changed_by"&&i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Z("action"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(hc,{className:"mr-2 text-sm"})," Action",(L==null?void 0:L.key)==="action"&&i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Z("recordable_type"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uh,{className:"mr-2 text-sm"})," Record Type",(L==null?void 0:L.key)==="recordable_type"&&i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ae.map(ge=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Be(ge.changed_at)})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ge.changed_by||"N/A"})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${U(ge.action)} shadow-sm`,children:ge.action.charAt(0).toUpperCase()+ge.action.slice(1)})}),i.jsxs("td",{className:"px-5 py-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:J(ge.recordable_type)}),ge.recordable_id&&i.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",ge.recordable_id]})]}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(ge),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[i.jsx(Io,{className:"text-lg"}),i.jsx("span",{children:"View"})]})})]},ge.id))})]})})}),ee.length>g&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:ue+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(ne,ee.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:ee.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>je(f-1),disabled:f===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:ke},(ge,ae)=>i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>je(ae+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${f===ae+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ae+1}`,children:ae+1},ae+1)),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>je(f+1),disabled:f===ke,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),Y&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",Y.id]}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{G(!1),W(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(fe,{log:Y,onClose:()=>{G(!1),W(null)}})})]})})})]})},S$e=()=>{const t=ar(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(ij,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),i.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:i.jsxs(E.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workflowapproval/monitoringapproval"),children:[i.jsx(_x,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",i.jsx(Na,{size:18,className:"ml-1"})]})]})})]})]})]})},eV=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,k$e=()=>{const t=ar(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:a}=ir(),[s,o]=y.useState(window.innerWidth<768),[l,c]=y.useState(()=>{const H=localStorage.getItem("sidebarOpen");return JSON.parse(H||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(H=>!H)},[f,m]=y.useState(!1),[g,p]=y.useState(""),[v,w]=y.useState([]),[b,N]=y.useState(!1),[k,S]=y.useState(""),[A,_]=y.useState(!1),[O,I]=y.useState(null),L=(H,G,Y)=>{I({type:H,templateId:G,templateName:Y}),_(!0)},R=async()=>{if(O)try{N(!0),O.type==="activate"?(await a(O.templateId),w(H=>H.map(G=>({...G,is_active:G.id===O.templateId})))):O.type==="delete"&&(await n(O.templateId),await B()),_(!1),I(null),S("")}catch(H){S(`Failed to ${O.type} template`),console.error(`Error ${O.type}ing template:`,H)}finally{N(!1)}};y.useEffect(()=>{B()},[]);const B=async()=>{try{N(!0);const H=await e();w(H||[])}catch(H){S("Failed to load approval templates"),console.error("Error loading templates:",H)}finally{N(!1)}},D=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const H=await r({name:g,is_active:!1});w(G=>[...G,H]),m(!1),p(""),S("")}catch(H){S("Failed to create template"),console.error("Error creating template:",H)}finally{N(!1)}},M=H=>{t(`/workflowapproval/monitoringapproval/configureapproval/${H.id}`)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(ij,{}),isMobile:s,toggleSidebar:u}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(FK,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),i.jsxs(E.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:b,children:[i.jsx(vhe,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),b?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(aj,{className:"animate-spin text-blue-600",size:32})}):i.jsx("div",{className:"space-y-4",children:v.length>0?v.map(H=>i.jsx(E.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[i.jsx(Uh,{size:20,className:"mr-2 text-blue-500"}),H.name]}),i.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${H.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.is_active?"Active":"Inactive"}),H.approvers&&i.jsxs("span",{className:"text-xs text-gray-500",children:[H.approvers.length," approver(s)"]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{onClick:()=>M(H),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:b,children:"Configure"}),!H.is_active&&i.jsx(E.button,{onClick:G=>{G.stopPropagation(),L("activate",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:b,children:"Activate"}),i.jsx(E.button,{onClick:G=>{G.stopPropagation(),L("delete",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:b,children:"Delete"})]})]})},H.id)):i.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),i.jsx(eV,{isOpen:A,onClose:()=>{_(!1),I(null)},title:"Confirm Action",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",O==null?void 0:O.type,' template "',O==null?void 0:O.templateName,'"?',(O==null?void 0:O.type)==="delete"&&" This action cannot be undone."]}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),I(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(O==null?void 0:O.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(O==null?void 0:O.type)==="delete"?"Delete":"Activate"})]})]})}),i.jsx(eV,{isOpen:f,onClose:()=>m(!1),title:"Create New Template",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),i.jsx("input",{type:"text",id:"templateName",value:g,onChange:H=>p(H.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&i.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),i.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),p(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),i.jsxs(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:b||!g.trim(),children:[b?i.jsx(aj,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},tV=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),C$e=()=>{const[t,e]=y.useState([]),[r,n]=y.useState(!0),[a,s]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(""),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(null),A=y.useRef(!0),[_]=y.useState(window.innerWidth<768),[O,I]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),L=ar(),{getServiceGroups:R,getServiceGroup:B,hasPermission:D}=ir(),M=()=>{const $=!O;I($),localStorage.setItem("sidebarOpen",JSON.stringify($))},H=y.useCallback(async()=>{try{n(!0);const q=(await R(0)).map(Z=>({id:Number(Z.id),name:Z.group_name??"",description:Z.group_description??void 0}));e(q)}catch($){S("Failed to load service groups"),console.error("Error loading service groups:",$)}finally{A.current&&n(!1)}},[R]);y.useEffect(()=>(A.current=!0,H(),()=>{A.current=!1}),[H]);const G=async()=>{if(!c.trim()){S("Group Name is required");return}p(!0),S(null);try{if(await new Promise($=>setTimeout($,500)),o)e($=>$.map(q=>q.id===o.id?{...q,name:c.trim(),description:f.trim()||void 0}:q));else{const $={id:t.length>0?Math.max(...t.map(q=>q.id))+1:1,name:c.trim(),description:f.trim()||void 0};e(q=>[...q,$])}s(!1),l(null),u(""),m("")}catch($){S("Failed to save service group"),console.error("Error saving service group:",$)}finally{p(!1)}},Y=$=>{if(!D("manage_users")){S("You don't have permission to delete service groups");return}w($),N(!0),S(null)},W=async()=>{if(v!==null){p(!0),S(null);try{await new Promise($=>setTimeout($,500)),e($=>$.filter(q=>q.id!==v)),N(!1),w(null)}catch($){S("Failed to delete service group"),console.error("Error deleting service group:",$)}finally{p(!1)}}};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(zi,{}),isMobile:_,toggleSidebar:M}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",i.jsx("span",{className:"text-blue-600",children:"Groups"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),D("manage_users")&&i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L("/service/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Group"})]})]}),r?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:i.jsx(LK,{})}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),D("manage_users")&&i.jsx("button",{onClick:()=>L("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:$.description||"-"})}),D("manage_users")&&i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>L(`/service/servicegroups/editservicegroup/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Y($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})}),k&&i.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})]}),i.jsx(tV,{isOpen:a,onClose:()=>s(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),i.jsx("input",{value:c,onChange:$=>u($.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),i.jsx("textarea",{value:f,onChange:$=>m($.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{s(!1),l(null),u(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:G,disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:g?"Saving...":"Save"})]}),k&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})}),i.jsx(tV,{isOpen:b,onClose:()=>N(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:i.jsx(Ma,{})}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:W,disabled:g,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:g?"Deleting...":"Delete"})]})]})})]})};function _$e(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const kT=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),n2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:a=!0})=>{const l=a?((f,m)=>{if(m===0)return f>0?"+100%":"0%";const g=(f-m)/m*100;return`${g>=0?"+":""}${Math.round(g)}%`})(e,r):((f,m)=>{const g=f-m;return`${g>0?"+":g<0?"":"+"}${g}`})(e,r),c=e>=r,u=a?`${l} from last month`:`${l} from last month`;return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:u})]})},A$e=()=>{const t=ir(),[e,r]=y.useState(()=>{const De=localStorage.getItem("sidebarOpen");return JSON.parse(De||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(De=>!De)},a=ar(),[s,o]=y.useState(null),l=De=>{o(De),u(!0)},[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(!1),[b,N]=y.useState(""),[k,S]=y.useState(!1),[A,_]=y.useState(""),[O,I]=y.useState(""),[L,R]=y.useState(!0),[B,D]=y.useState([]),[M,H]=y.useState([]),[G,Y]=y.useState([]),[W,$]=y.useState(!1),[q,Z]=y.useState(null),[ce,X]=y.useState(!1),[U,J]=y.useState(null),[ee,ne]=y.useState(null),[ue,Ae]=y.useState(!1),ke=_$e(b,300),je=y.useRef(null),[Ce,Be]=y.useState(1),fe=10,[ge,ae]=y.useState({key:"created_at",direction:"descending"}),[ie,ht]=y.useState(null),[ut,Pe]=y.useState(!1),[Ke,yt]=y.useState(window.innerWidth<768),Qe=y.useRef(null),Tt=y.useRef(null),_t=y.useCallback(async()=>{try{const Fe=(await t.getServiceGroups(0)||[]).map(ze=>ze.group_name||ze.group_description?{id:ze.id,group_name:ze.group_name,group_description:ze.group_description,name:ze.group_name||ze.name}:{id:ze.id,name:ze.name||null});H(Fe)}catch{H([])}},[t]),Se=y.useCallback(async()=>{try{const Fe=(await t.getUsers()||[]).map(ze=>({id:Number(ze.id),name:ze.name}));Y(Fe)}catch{Y([])}},[t]),gt=y.useCallback(De=>({id:De.id??0,service_name:De.service_name??De.name??"",service_description:De.service_description??De.description??"",service_type:Number(De.service_type??De.service_type??0),priority:De.priority??"Low",service_owner:Number(De.service_owner??De.service_owner??De.owner??0),sla:Number(De.sla??De.sla??0),impact:De.impact??"",created_at:De.created_at??De.createdAt??new Date().toISOString(),updated_at:De.updated_at??De.updatedAt??new Date().toISOString()}),[]),at=y.useCallback(async()=>{R(!0),ht(null);try{const Fe=(await t.getServices(0)||[]).map(gt);Fe.sort((ze,Rt)=>ze.created_at<Rt.created_at?1:-1),D(Fe)}catch{ht("Failed to load service catalogue."),D([])}finally{R(!1)}},[t,gt]);y.useEffect(()=>{let De=!0;return De&&(at(),_t(),Se()),()=>{De=!1}},[at,_t,Se]),y.useEffect(()=>{const De=()=>{yt(window.innerWidth<768)};return window.addEventListener("resize",De),()=>window.removeEventListener("resize",De)},[]),y.useEffect(()=>{const De=Fe=>{Qe.current&&!Qe.current.contains(Fe.target)&&w(!1),Tt.current&&!Tt.current.contains(Fe.target)&&p(!1)};return document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[]);const Nt=(De,Fe)=>{ne({type:De,message:Fe}),setTimeout(()=>ne(null),3e3)},kt=B.length,Ee=y.useMemo(()=>{const De={Critical:0,High:0,Medium:0,Low:0};return B.forEach(Fe=>{const ze=Fe.priority||"Low";De[ze]=(De[ze]||0)+1}),De},[B]),vt=y.useMemo(()=>{if(B.length===0)return 0;const De=B.reduce((Fe,ze)=>Fe+(ze.sla||0),0);return Math.round(De/B.length*100)/100},[B]),bt=y.useMemo(()=>{const De=new Set;return B.forEach(Fe=>De.add(Fe.service_owner)),De.size},[B]),Je=y.useMemo(()=>{const De=new Date;return De.setMonth(De.getMonth()-1),B.filter(Fe=>new Date(Fe.created_at)<De)},[B]),Le=()=>{_(""),I(""),N("")},et=De=>{let Fe="ascending";ge&&ge.key===De&&ge.direction==="ascending"&&(Fe="descending"),ae({key:De,direction:Fe})},lt=async De=>{if(De){Ae(!0);try{const ze=(await De.text()).split(`
`).map(Ht=>Ht.trim()).filter(Boolean),Rt=[];for(let Ht=0;Ht<ze.length;Ht++){const Ut=ze[Ht].split(",").map(jt=>jt.trim()),it={service_name:Ut[1]||`Imported Service ${Ht+1}`,service_description:Ut[2]||"",service_type:M[0]?Number(M[0].id):0,priority:Ut[4]||"Low",service_owner:G[0]?G[0].id:0,sla:Number(Ut[6])||24,impact:Ut[7]||""};Rt.push(it)}for(const Ht of Rt)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ht)});await at(),Nt("success",`Imported ${Rt.length} services`)}catch{Nt("error","Import failed")}finally{Ae(!1)}}},be=De=>{var ze;const Fe=((ze=De.target.files)==null?void 0:ze[0])||null;Fe&&lt(Fe),De.target.value=""},me=De=>{J(De),X(!0)},qe=async()=>{if(U){Pe(!0);try{await t.fetchWithAuth(`/service-catalogues/${U}`,{method:"DELETE"}),await at(),X(!1),J(null),Nt("success","Service deleted")}catch{Nt("error","Failed to delete service")}finally{Pe(!1)}}},ft=y.useMemo(()=>{let De=[...B];if(ke.trim()){const Fe=ke.toLowerCase().trim();De=De.filter(ze=>ze.service_name.toLowerCase().includes(Fe)||(ze.service_description||"").toLowerCase().includes(Fe))}return A&&(De=De.filter(Fe=>String(Fe.service_type)===String(A))),O&&(De=De.filter(Fe=>Fe.priority===O)),ge&&De.sort((Fe,ze)=>{const Rt=Fe[ge.key],Ht=ze[ge.key];return Rt<Ht?ge.direction==="ascending"?-1:1:Rt>Ht?ge.direction==="ascending"?1:-1:0}),De},[B,ke,A,O,ge]),Ge=De=>{switch(De){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},we=Ce*fe,K=we-fe,ve=ft.slice(K,we),Re=Math.max(1,Math.ceil(ft.length/fe)),Ue=()=>{const[De,Fe]=y.useState((q==null?void 0:q.service_name)||""),[ze,Rt]=y.useState((q==null?void 0:q.service_description)||""),[Ht,Ut]=y.useState((q==null?void 0:q.service_type)||""),[it,jt]=y.useState((q==null?void 0:q.priority)||"Low"),[Wt,gr]=y.useState((q==null?void 0:q.service_owner)||(G[0]?G[0].id:"")),[fn,gn]=y.useState((q==null?void 0:q.sla)||24),[nr,Ur]=y.useState((q==null?void 0:q.impact)||""),[Kr,Zt]=y.useState({}),Ze=async()=>{if(Zt({}),!De.trim()){Zt({service_name:"Service Name is required"});return}if(!Ht){Zt(tt=>({...tt,service_type:"Service Type is required"}));return}if(!it){Zt(tt=>({...tt,priority:"Priority is required"}));return}if(isNaN(Number(fn))){Zt(tt=>({...tt,sla:"SLA must be a number"}));return}Pe(!0);try{const tt={service_name:De.trim(),service_description:ze.trim(),service_type:Number(Ht),priority:it,service_owner:Number(Wt)||0,sla:Number(fn)||0,impact:nr.trim()};q?(await t.fetchWithAuth(`/service-catalogues/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(tt)}),Nt("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tt)}),Nt("success","Service created")),await at(),$(!1)}catch{Nt("error","Save failed")}finally{Pe(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),i.jsx("input",{value:De,onChange:tt=>Fe(tt.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Kr.service_name&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.service_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),i.jsx("textarea",{value:ze,onChange:tt=>Rt(tt.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),i.jsxs("select",{value:Ht,onChange:tt=>Ut(tt.target.value?Number(tt.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[i.jsx("option",{value:"",children:"-- Select Group --"}),M.map(tt=>i.jsx("option",{value:String(tt.id),children:tt.group_name??tt.name??String(tt.id)},String(tt.id)))]}),Kr.service_type&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.service_type})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),i.jsxs("select",{value:it,onChange:tt=>jt(tt.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]}),Kr.priority&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.priority})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),i.jsx("input",{type:"number",value:fn,onChange:tt=>gn(Number(tt.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Kr.sla&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.sla})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),i.jsxs("select",{value:Wt,onChange:tt=>gr(tt.target.value?Number(tt.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[i.jsx("option",{value:"",children:"-- Select Owner --"}),G.map(tt=>i.jsx("option",{value:tt.id,children:tt.name},tt.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),i.jsx("textarea",{value:nr,onChange:tt=>Ur(tt.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[i.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>$(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ze,disabled:ut,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:ut?"Saving...":"Save"})]})]})},st=({service:De,onClose:Fe})=>{var gr,fn,gn;const ze=nr=>nr==null?"-":typeof nr=="string"?nr.trim()!==""?nr.trim():"-":typeof nr=="number"?nr.toString():String(nr),Rt=nr=>nr?new Date(nr).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Ht=({priority:nr})=>{const Ur={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ur[nr]||Ur.Low}`,children:nr})},Ut=({title:nr,children:Ur,icon:Kr})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[Kr&&i.jsx("div",{className:"mr-3 text-blue-600",children:Kr}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:nr})]})}),i.jsx("div",{className:"p-6",children:Ur})]}),it=({label:nr,value:Ur,icon:Kr,fullWidth:Zt=!1,priority:Ze="medium"})=>{const tt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Zt?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${tt[Ze]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[Kr&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Kr}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:nr}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ur})]})]})})})},jt=((gr=G.find(nr=>nr.id===Number(De.service_owner)))==null?void 0:gr.name)??String(De.service_owner),Wt=((fn=M.find(nr=>String(nr.id)===String(De.service_type)))==null?void 0:fn.group_name)??((gn=M.find(nr=>String(nr.id)===String(De.service_type)))==null?void 0:gn.name)??String(De.service_type);return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:De.service_name}),i.jsx(Ht,{priority:De.priority})]}),i.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Created: ",Rt(De.created_at)]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Fe,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[i.jsx(zt,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),i.jsx(Ut,{title:"Service Information",icon:i.jsx(Qi,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(it,{label:"Service Name",value:ze(De.service_name),icon:i.jsx(of,{className:"w-4 h-4"}),priority:"high"}),i.jsx(it,{label:"Service Type",value:ze(Wt),icon:i.jsx(LK,{className:"w-4 h-4"}),priority:"high"}),i.jsx(it,{label:"Priority",value:ze(De.priority),icon:i.jsx(Yr,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(Ut,{title:"Service Details",icon:i.jsx(of,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(it,{label:"Service Description",value:ze(De.service_description),icon:i.jsx(of,{className:"w-4 h-4"}),fullWidth:!0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(it,{label:"Service Owner",value:ze(jt),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(it,{label:"SLA (hours)",value:ze(De.sla),icon:i.jsx(kr,{className:"w-4 h-4"})})]})]})}),i.jsx(Ut,{title:"Additional Information",icon:i.jsx(Qi,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(it,{label:"Impact",value:ze(De.impact),icon:i.jsx(Yr,{className:"w-4 h-4"}),fullWidth:!0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(it,{label:"Created At",value:Rt(De.created_at),icon:i.jsx(La,{className:"w-4 h-4"})}),i.jsx(it,{label:"Updated At",value:Rt(De.updated_at),icon:i.jsx(La,{className:"w-4 h-4"})})]})]})})]})};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(of,{}),isMobile:Ke,toggleSidebar:n}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",i.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>a("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Service"})]}),i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"file",accept:".csv",onChange:be,className:"hidden"}),i.jsxs(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:ue?"Importing...":"Import"})]})]}),i.jsxs(E.button,{onClick:()=>S(De=>!De),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:k?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(n2,{title:"Total Services",currentCount:kt,lastMonthCount:Je.length,icon:i.jsx(Qi,{})}),i.jsx(n2,{title:"Critical",currentCount:Ee.Critical,lastMonthCount:Je.filter(De=>De.priority==="Critical").length,icon:i.jsx(Qi,{}),usePercentage:!1}),i.jsx(n2,{title:"Average SLA (hrs)",currentCount:vt,lastMonthCount:Je.length>0?Math.round(Je.reduce((De,Fe)=>De+(Fe.sla||0),0)/Je.length*100)/100:0,icon:i.jsx(Qi,{}),usePercentage:!1}),i.jsx(n2,{title:"Total Owners",currentCount:bt,lastMonthCount:new Set(Je.map(De=>De.service_owner)).size,icon:i.jsx(un,{}),usePercentage:!1})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[i.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:je,value:b,onChange:De=>N(De.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),i.jsx(sr,{children:k&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[i.jsxs("select",{value:A,onChange:De=>_(De.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[i.jsx("option",{value:"",children:"All Groups"}),M.map(De=>i.jsx("option",{value:String(De.id),children:De.group_name??De.name??String(De.id)},String(De.id)))]}),i.jsxs("select",{value:O,onChange:De=>I(De.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[i.jsx("option",{value:"",children:"All Priorities"}),i.jsx("option",{value:"Critical",children:"Critical"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),L?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):ie?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[i.jsx(Qi,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:ie}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:at,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):ft.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Qi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:ke||A||O?"No services found matching your filters.":"No services available."}),(ke||A||O)&&i.jsx("button",{onClick:Le,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>et("service_name"),children:"Service Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ve.map((De,Fe)=>{var Ht,Ut,it;const ze=((Ht=G.find(jt=>jt.id===Number(De.service_owner)))==null?void 0:Ht.name)??String(De.service_owner),Rt=((Ut=M.find(jt=>String(jt.id)===String(De.service_type)))==null?void 0:Ut.group_name)??((it=M.find(jt=>String(jt.id)===String(De.service_type)))==null?void 0:it.name)??String(De.service_type);return i.jsxs(E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:K+Fe+1}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:De.service_name}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Rt}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ge(De.priority)} shadow-sm`,children:De.priority})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ze}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:De.sla}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:De.impact||"-"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(De),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:i.jsx(Io,{className:"text-lg"})}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(`/services/servicecatalogues/editservicecatalogue/${De.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:i.jsx(Si,{className:"text-lg"})}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>me(De.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:i.jsx(Ma,{className:"text-lg"})})]})]},De.id)})})]})})}),ft.length>fe&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:K+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(we,ft.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:ft.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Be(De=>Math.max(1,De-1)),disabled:Ce===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Re},(De,Fe)=>i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Be(Fe+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${Ce===Fe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Fe+1},Fe+1)),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Be(De=>Math.min(Re,De+1)),disabled:Ce===Re,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),i.jsx(kT,{isOpen:W,onClose:()=>$(!1),title:q?"Edit Service":"Add Service",className:"max-w-3xl",children:i.jsx(Ue,{})}),i.jsx(kT,{isOpen:ce,onClose:()=>X(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Qi,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>X(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:qe,disabled:ut,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),i.jsx(kT,{isOpen:c,onClose:()=>u(!1),title:"Service Details",className:"max-w-5xl",children:s&&i.jsx(st,{service:s,onClose:()=>u(!1)})}),ee&&i.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:i.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${ee.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:ee.message})})]})},T$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,M$e=()=>{const t=ir(),{addServiceGroup:e}=t,[r,n]=y.useState(window.innerWidth<768),[a,s]=y.useState(()=>{const A=localStorage.getItem("sidebarOpen");return JSON.parse(A||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),s(A=>!A)},l=ar(),[c,u]=y.useState(""),[f,m]=y.useState(""),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(!1),k=async A=>{if(A.preventDefault(),w(null),!c.trim()){w("Group Name is required");return}p(!0);try{await e({group_name:c.trim(),group_description:f.trim()||null}),N(!0)}catch(_){const O=_ instanceof Error?_.message:"Failed to save service group";w(O)}finally{p(!1)}},S=()=>{N(!1),l("/servicegroups")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(zi,{}),isMobile:r,toggleSidebar:o}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),i.jsxs(E.button,{onClick:()=>l("/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[v&&i.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-semibold",children:"Error: "}),i.jsx("span",{className:"ml-2",children:v})]}),i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{name:"group_name",value:c,onChange:A=>u(A.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),i.jsx("textarea",{name:"group_description",value:f,onChange:A=>m(A.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(E.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:g?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),i.jsx(T$e,{isOpen:b,onClose:S,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},O$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,E$e=()=>{const e=Ls().id,r=ar(),n=ir(),{getServiceGroup:a,updateServiceGroup:s}=n,[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(()=>{const R=localStorage.getItem("sidebarOpen");return JSON.parse(R||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(R=>!R)},[m,g]=y.useState(""),[p,v]=y.useState(""),[w,b]=y.useState(!1),[N,k]=y.useState(!0),[S,A]=y.useState(null),[_,O]=y.useState(!1);y.useEffect(()=>{let R=!0;return(async()=>{k(!0),A(null);try{if(!e){A("Missing service group id");return}const D=await a(e);if(!R)return;g(String(D.group_name??"")),v(String(D.group_description??"")||"")}catch(D){const M=D instanceof Error?D.message:"Failed to load service group";A(M)}finally{R&&k(!1)}})(),()=>{R=!1}},[a,e]);const I=async R=>{if(R.preventDefault(),A(null),!m.trim()){A("Group Name is required");return}b(!0);try{const B=Number(e);await s(B,{group_name:m.trim(),group_description:p.trim()||null}),O(!0)}catch(B){const D=B instanceof Error?B.message:"Failed to update service group";A(D)}finally{b(!1)}},L=()=>{O(!1),r("/servicegroups")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(zi,{}),isMobile:o,toggleSidebar:f}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?i.jsxs("div",{className:"text-center p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):i.jsxs(i.Fragment,{children:[S&&i.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-semibold",children:"Error: "}),i.jsx("span",{className:"ml-2",children:S})]}),i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{name:"group_name",value:m,onChange:R=>g(R.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),i.jsx("textarea",{name:"group_description",value:p,onChange:R=>v(R.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(E.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:w,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:w?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),i.jsx(O$e,{isOpen:_,onClose:L,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},D$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,P$e=()=>{const{id:t}=Ls(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:a}=ir(),s=ar(),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return JSON.parse(Y||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(Y=>!Y)},[m,g]=y.useState(!1),[p,v]=y.useState(!0),[w,b]=y.useState(null),[N,k]=y.useState(null),[S,A]=y.useState(!1),[_,O]=y.useState([]),[I,L]=y.useState([]),[R,B]=y.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),D=y.useCallback(async()=>{try{const[Y,W,$]=await Promise.all([a(`/service-catalogues/${t}`),r(0),n()]),q=Y.data||Y;O(W),L($),q&&B({service_name:q.service_name||"",service_description:q.service_description||"",service_type:String(q.service_type||""),priority:q.priority||"Low",service_owner:String(q.service_owner||""),sla:q.sla?parseFloat(q.sla):24,impact:q.impact||""})}catch(Y){b(Y.message||"Failed to load service data")}finally{v(!1)}},[t,a,r,n]);y.useEffect(()=>{t&&D()},[t,D]);const M=Y=>{const{name:W,value:$}=Y.target;B(q=>({...q,[W]:W==="sla"?Number($):$}))},H=async Y=>{if(Y.preventDefault(),g(!0),b(null),!R.service_name||!R.service_type||!R.priority||!R.service_owner||!R.sla){b("Please fill all required fields"),g(!1);return}try{const W={service_name:R.service_name,service_description:R.service_description,service_type:Number(R.service_type),priority:R.priority,service_owner:Number(R.service_owner),sla:R.sla,impact:R.impact};await e(t,W),k("Service Catalogue updated successfully!"),A(!0)}catch(W){b(W.message||"Failed to update Service Catalogue")}finally{g(!1)}},G=()=>{A(!1),s("/services/servicecatalogues")};return p?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(of,{}),isMobile:o,toggleSidebar:f}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),i.jsxs(E.button,{onClick:()=>s("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Catalogue"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:w}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>b(null)})})]}),i.jsxs("form",{onSubmit:H,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"service_name",id:"service_name",value:R.service_name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_type",id:"service_type",value:R.service_type,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Type"}),_.map(Y=>i.jsx("option",{value:Y.id,children:Y.group_name||Y.name},Y.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"priority",id:"priority",value:R.priority,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_owner",id:"service_owner",value:R.service_owner,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Owner"}),I.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"sla",id:"sla",value:R.sla,onChange:M,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),i.jsx("input",{type:"text",name:"impact",id:"impact",value:R.impact,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),i.jsx("textarea",{name:"service_description",id:"service_description",value:R.service_description,onChange:M,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>s("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:m,children:m?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),i.jsx(D$e,{isOpen:S,onClose:G,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:G,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},L$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,R$e=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=ir(),n=ar(),[a,s]=y.useState(window.innerWidth<768),[o,l]=y.useState(()=>{const D=localStorage.getItem("sidebarOpen");return JSON.parse(D||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(D=>!D)},[u,f]=y.useState(!1),[m,g]=y.useState(null),[p,v]=y.useState(null),[w,b]=y.useState(!1),[N,k]=y.useState([]),[S,A]=y.useState([]),[_,O]=y.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),I=y.useCallback(async()=>{try{const[D,M]=await Promise.all([e(0),r()]);k(D),A(M)}catch(D){g(D.message||"Failed to load form data")}},[e,r]);y.useEffect(()=>{I()},[I]);const L=D=>{const{name:M,value:H}=D.target;O(G=>({...G,[M]:M==="sla"?Number(H):H}))},R=async D=>{if(D.preventDefault(),f(!0),g(null),!_.service_name||!_.service_type||!_.priority||!_.service_owner||!_.sla){g("Please fill all required fields"),f(!1);return}try{const M={service_name:_.service_name,service_description:_.service_description,service_type:Number(_.service_type),priority:_.priority,service_owner:Number(_.service_owner),sla:_.sla,impact:_.impact};await t(M),v("Service Catalogue created successfully!"),b(!0)}catch(M){g(M.message||"Failed to create Service Catalogue")}finally{f(!1)}},B=()=>{b(!1),n("/servicecatalogue")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(of,{}),isMobile:a,toggleSidebar:c}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),i.jsxs(E.button,{onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Catalogue"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:m}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),i.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"service_name",id:"service_name",value:_.service_name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_type",id:"service_type",value:_.service_type,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Type"}),N.map(D=>i.jsx("option",{value:D.id,children:D.group_name||D.name},D.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"priority",id:"priority",value:_.priority,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_owner",id:"service_owner",value:_.service_owner,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Owner"}),S.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"sla",id:"sla",value:_.sla,onChange:L,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),i.jsx("input",{type:"text",name:"impact",id:"impact",value:_.impact,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),i.jsx("textarea",{name:"service_description",id:"service_description",value:_.service_description,onChange:L,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(L$e,{isOpen:w,onClose:B,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:B,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},I$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),a2=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},F$e=()=>{const[t,e]=y.useState([]),[r,n]=y.useState([]),{getDepartment:a,getUsers:s,deleteDepartment:o}=ir(),[l,c]=y.useState(!0),[u,f]=y.useState(null),[m,g]=y.useState(""),[p,v]=y.useState(!1),[w,b]=y.useState(null),[N,k]=y.useState(!1),[S]=y.useState(window.innerWidth<768),[A,_]=y.useState(()=>{const ce=localStorage.getItem("sidebarOpen");return ce?JSON.parse(ce):!1}),O=ar(),I=y.useRef(null),[L,R]=y.useState(!1),B=y.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),D=y.useCallback(async()=>{try{c(!0);const ce=await a(),X=await s(),U=[...ce].sort((J,ee)=>J.id-ee.id);e(U),n(X)}catch(ce){f("Failed to load departments"),console.error("Error loading departments:",ce)}finally{c(!1)}},[a,s]);y.useEffect(()=>{D()},[D]);const M=()=>{const ce=!A;_(ce),localStorage.setItem("sidebarOpen",JSON.stringify(ce))},H=()=>{alert("Import functionality is not yet implemented.")},G=ce=>{const X=ce.target.value;g(X)},Y=y.useMemo(()=>{if(!m)return B;const ce=m.toLowerCase();return B.filter(X=>X.name.toLowerCase().includes(ce))},[m,B]),W=ce=>{var X;g(`${ce}: `),R(!1),(X=I.current)==null||X.focus()},$=y.useMemo(()=>{if(!m.trim())return t;const ce=m.toLowerCase().trim(),X=ce.split(":");let U="all",J=ce;return X.length>1&&B.some(ee=>ee.name.toLowerCase()===X[0].trim())&&(U=X[0].trim(),J=X.slice(1).join(":").trim()),t.filter(ee=>{var Ae,ke,je;const ne=(Ae=ee.name)==null?void 0:Ae.toLowerCase().includes(J),ue=(je=(ke=ee.head)==null?void 0:ke.name)==null?void 0:je.toLowerCase().includes(J);return U==="department"?ne:U==="head"?ue:ne||ue})},[t,m,B]),q=async ce=>{try{await o(ce),e(t.filter(X=>X.id!==ce)),v(!1),b(null)}catch(X){console.error("Failed to delete department:",X),f("Failed to delete department. Please try again.")}},Z=y.useCallback(ce=>{b(ce),v(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:i.jsx(Sp,{}),isMobile:S,toggleSidebar:M}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>O("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Department"})]}),i.jsxs(E.button,{onClick:H,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>k(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(a2,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(Sp,{className:"w-6 h-6"})}),i.jsx(a2,{title:"Head Departments",value:t.filter(ce=>ce.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(ce=>ce.head_id!==null).length/t.length*100)}%`,icon:i.jsx(un,{className:"w-6 h-6"})}),i.jsx(a2,{title:"Departments with Email",value:t.filter(ce=>{var X;return(X=ce.head)==null?void 0:X.email}).length.toString(),change:`+${Math.floor(t.filter(ce=>{var X;return(X=ce.head)==null?void 0:X.email}).length/t.length*100)}%`,icon:i.jsx(Cx,{className:"w-6 h-6"})}),i.jsx(a2,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:i.jsx(zi,{className:"w-6 h-6"})})]}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:I,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:G,onFocus:()=>R(!0),"aria-label":"Search departments"}),i.jsx(sr,{children:L&&Y.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Y.map(ce=>i.jsx(E.button,{onClick:()=>W(ce.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:ce.name})},ce.id))})})]})}),i.jsx(sr,{children:N&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):$.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&i.jsx("button",{onClick:()=>g(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:$.map((ce,X)=>{var U,J;return i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:X+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.name})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:((U=ce.head)==null?void 0:U.name)||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((J=ce.head)==null?void 0:J.email)||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(`/worklocation/department/editdepartment/${ce.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(ce.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},ce.id)})})]})})})]})]}),i.jsx(I$e,{isOpen:p,onClose:()=>v(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w&&q(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},$$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,B$e=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addDepartment:o,getUsers:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",head_id:0}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,head_id:S.head_id};await o(D),p("Service Catalogue created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Service Catalogue")}finally{N(!1)}};y.useCallback(B=>{if(!B)return;const D=parseInt(B.value),M=r.find(H=>parseInt(H.id)===D);if(M){const H=a.find(G=>G.id===M.department_id);A(G=>({...G,id:D,department_id:M.department_id||0,known_by_id:(H==null?void 0:H.head_id)||null}))}},[r,a]);const R=()=>{w(!1),k("/worklocation/department")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Sp,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),i.jsxs(E.button,{onClick:()=>k("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Catalogue"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Head Department"}),r.map(B=>i.jsx("option",{value:B.id,children:B.name||B.name},B.id))]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx($$e,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},H$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,z$e=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{addDepartment:l,getUsers:c,updateDepartment:u,getDepartmentById:f}=ir(),[m,g]=y.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),[p,v]=y.useState(null),[w,b]=y.useState(null),[N,k]=y.useState(!1),[S,A]=y.useState(!1),_=ar(),[O,I]=y.useState({name:"",head_id:0}),L=()=>{g(H=>!H)};y.useEffect(()=>{s&&I({name:s.name||"",head_id:s.head_id||0})},[s]);const R=H=>{const{name:G,value:Y}=H.target;I(W=>({...W,[G]:G==="sla"?Number(Y):Y}))},B=y.useCallback(async()=>{try{if(t){const[H,G]=await Promise.all([f(t),c()]);o(H),a(G)}}catch(H){v(H.message||"Failed to load form data")}},[t,f,c]);y.useEffect(()=>{t&&B()},[t,B]);const D=async H=>{H.preventDefault(),A(!0),v(null);try{const G={name:O.name,head_id:O.head_id};await u(t,G),b("Service Catalogue created successfully!"),k(!0)}catch(G){v(G.message||"Failed to create Service Catalogue")}finally{A(!1)}},M=()=>{k(!1),_("/worklocation/department")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Sp,{}),isMobile:e,toggleSidebar:L}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),i.jsxs(E.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Catalogue"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:p}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),i.jsxs("form",{onSubmit:D,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:O.name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"head_id",id:"head_id",value:O.head_id,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Head Department"}),n.map(H=>i.jsx("option",{value:H.id,children:H.name||H.name},H.id))]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(H$e,{isOpen:N,onClose:M,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},q$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),U$e=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},W$e=()=>{const[t,e]=y.useState([]),{getStopTimes:r,deleteStopTimes:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load stop times"),console.error("Error loading stop times:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var ee,ne;const U=(ee=X.name)==null?void 0:ee.toLowerCase().includes(ce),J=(ne=X.description)==null?void 0:ne.toLowerCase().includes(ce);return Z==="stop time"?U:Z==="description"?J:U||J})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete stop time:",q),l("Failed to delete stop time. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:i.jsx(kr,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Stop Time"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(U$e,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(kr,{className:"w-6 h-6"})})}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search stop times"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(q$e,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},V$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,G$e=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addStopTimes:o,getStopTimes:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Stop Time created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Stop Time")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/stoptimes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),i.jsxs(E.button,{onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Stop Times Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(V$e,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},Y$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,K$e=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:"",description:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||"",description:s.description||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Stop Time update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Stop Time")}finally{S(!1)}},D=()=>{N(!1),A("/maintenanceactivity/stoptimes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),i.jsxs(E.button,{onClick:()=>A("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Stop Times Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(Y$e,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},X$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),J$e=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Q$e=()=>{const[t,e]=y.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load activity types"),console.error("Error loading activity types:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var J;const U=(J=X.name)==null?void 0:J.toLowerCase().includes(ce);return U})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete activity type:",q),l("Failed to delete activity type. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:i.jsx(NM,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Activity Type"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(J$e,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(NM,{className:"w-6 h-6"})})}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search activity types"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(X$e,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Z$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,rV=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addActivityTypes:o,getActivityTypes:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name};await o(D),p("Activity Type created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Activity Type")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activitytypes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(zb,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),i.jsxs(E.button,{onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Activity Types Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(Z$e,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},eBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,tBe=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name};await c(t,H),w("Activity Type update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Activity Type")}finally{S(!1)}},D=()=>{N(!1),A("/maintenanceactivity/activitytypes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(zb,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),i.jsxs(E.button,{onClick:()=>A("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Activity Type Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(eBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},i2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:a=!0})=>{const s=a?rBe(e,r):nBe(e,r),o=e>=r,l=a?`${s} from last month`:`${s} from last month`;return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},rBe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},nBe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},aBe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(null),[A,_]=y.useState(1),[O]=y.useState(5),[I,L]=y.useState(window.innerWidth<768),[R,B]=y.useState(!1),[D,M]=y.useState(!1),[H,G]=y.useState([]),[Y,W]=y.useState([]),[$,q]=y.useState(!0),[Z,ce]=y.useState(null),[X,U]=y.useState(null),[J,ee]=y.useState([]),[ne,ue]=y.useState(!1),[Ae,ke]=y.useState(!1),[je,Ce]=y.useState(null),[Be,fe]=y.useState(null),{user:ge,getWorkOrdersIT:ae,deleteWorkOrder:ie,hasPermission:ht,fetchWithAuth:ut,getVendor:Pe}=ir(),Ke=ar(),yt=Ui(),Qe=y.useRef(null),Tt=y.useRef(null);yt.pathname,yt.pathname;const _t=yt.pathname==="/workorders/it";yt.pathname;const Se=yt.pathname==="/workorders/it/assignment",gt=yt.pathname==="/workorders/it/receiver",at=yt.pathname==="/workorders/it/reports",Nt=yt.pathname==="/workorders/it/knowledgebase";y.useEffect(()=>{const Fe=()=>{L(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Fe),()=>window.removeEventListener("resize",Fe)},[]),y.useEffect(()=>{const Fe=ze=>{Qe.current&&!Qe.current.contains(ze.target)&&B(!1),Tt.current&&!Tt.current.contains(ze.target)&&M(!1)};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[]),y.useEffect(()=>{let Fe=!0;return(async()=>{try{q(!0),ce(null);const Rt=await ae();if(!Fe)return;const Ht=Rt.filter(jt=>jt.requester_id===Number(ge==null?void 0:ge.id));G(Ht);const Ut=new Date;Ut.setMonth(Ut.getMonth()-1);const it=Ht.filter(jt=>new Date(jt.date)<Ut);ee(it)}catch(Rt){if(!Fe)return;ce("Failed to load work orders. Please try again."),console.error("Error loading work orders:",Rt)}finally{Fe&&q(!1)}})(),()=>{Fe=!1}},[ae,ge==null?void 0:ge.id]),y.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]);const kt=Fe=>{switch(Fe){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},Ee=y.useCallback(Fe=>{const ze=H.find(Rt=>Rt.id===Fe);ze&&(p(ze),m(!0))},[H]);y.useCallback(Fe=>{S(Fe),N(!0)},[]);const vt=y.useCallback(async Fe=>{try{q(!0),ce(null),await ie(Fe);const Rt=(await ae()).filter(Ht=>Ht.requester_id===Number(ge==null?void 0:ge.id));G(Rt),N(!1),S(null),U("Work order deleted successfully."),setTimeout(()=>U(null),2500)}catch(ze){ce("Failed to delete work order."),console.error("Error deleting work order:",ze)}finally{q(!1)}},[ie,ae,ge==null?void 0:ge.id]),bt=y.useCallback(Fe=>{fe(Fe),ke(!0)},[]),Je=y.useCallback(Fe=>{Ce(Fe),ue(!0)},[]),Le=y.useCallback(async Fe=>{try{q(!0),ce(null),await ut(`/ayam/${Fe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const Rt=(await ae()).filter(it=>it.requester_id===Number(ge==null?void 0:ge.id));G(Rt);const Ht=new Date;Ht.setMonth(Ht.getMonth()-1);const Ut=Rt.filter(it=>new Date(it.date)<Ht);ee(Ut),m(!1),p(null),ke(!1),fe(null),U("Work order cancelled successfully."),setTimeout(()=>U(null),2500)}catch(ze){ce("Failed to cancel work order."),console.error("Error cancelling work order:",ze)}finally{q(!1)}},[ut,ae,ge==null?void 0:ge.id]),et=y.useCallback(async Fe=>{try{q(!0),ce(null),await ut(`/ayam/${Fe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const Rt=(await ae()).filter(it=>it.requester_id===Number(ge==null?void 0:ge.id));G(Rt);const Ht=new Date;Ht.setMonth(Ht.getMonth()-1);const Ut=Rt.filter(it=>new Date(it.date)<Ht);ee(Ut),m(!1),p(null),ue(!1),Ce(null),U("Work order completed successfully."),setTimeout(()=>U(null),2500)}catch(ze){ce("Failed to complete work order."),console.error("Error completing work order:",ze)}finally{q(!1)}},[ut,ae,ge==null?void 0:ge.id]),lt=Fe=>Fe.filter(ze=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(ze.handling_status)),be=Fe=>Fe.filter(ze=>["Closed","Cancel"].includes(ze.handling_status)),me=Fe=>Fe.filter(ze=>ze.handling_status==="New"),qe=()=>{n(Fe=>!Fe)},ft=Fe=>{var ze;return Fe.vendor?`${Fe.vendor.name}`:((ze=Fe.assigned_to)==null?void 0:ze.name)||"Unassigned"},Ge=Fe=>Fe.vendor?"vendor":Fe.assigned_to?"user":"unassigned",we=H.filter(Fe=>{var Ht,Ut,it,jt;const ze=((Ut=(Ht=Fe.requester)==null?void 0:Ht.name)==null?void 0:Ut.toLowerCase().includes(a.toLowerCase()))||((it=Fe.work_order_no)==null?void 0:it.toLowerCase().includes(a.toLowerCase()))||((jt=Fe.complaint)==null?void 0:jt.toLowerCase().includes(a.toLowerCase()))||String(Fe.id).includes(a),Rt=o==="all"||Fe.handling_status===o;return ze&&Rt}).sort((Fe,ze)=>new Date(ze.created_at).getTime()-new Date(Fe.created_at).getTime()),K=A*O,ve=K-O,Re=we.slice(ve,K),Ue=Math.ceil(we.length/O),st=Fe=>_(Fe),De=({order:Fe,onClose:ze})=>{var fn,gn,nr,Ur,Kr;const Rt=Zt=>Zt==null?"-":typeof Zt=="object"&&Zt!==null?Zt.name||Zt.title||Zt.id||"-":typeof Zt=="string"?Zt.trim()!==""?Zt.trim():"-":typeof Zt=="number"?Zt.toString():String(Zt),Ht=Zt=>Zt?new Date(Zt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Ut=({status:Zt})=>{const Ze={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ze[Zt]||Ze.New}`,children:Zt})},it=({title:Zt,children:Ze,icon:tt})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[tt&&i.jsx("div",{className:"mr-3 text-blue-600",children:tt}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Zt})]})}),i.jsx("div",{className:"p-6",children:Ze})]}),jt=({label:Zt,value:Ze,icon:tt,fullWidth:Mt=!1,priority:de="medium"})=>{const Ye={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Mt?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${Ye[de]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[tt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:tt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Zt}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ze})]})]})})})},Wt=({label:Zt,htmlContent:Ze,icon:tt,fullWidth:Mt=!1})=>{if(!Ze)return i.jsx(jt,{label:Zt,value:"-",icon:tt,fullWidth:Mt,priority:"low"});const de=md.sanitize(Ze,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${Mt?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[tt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:tt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Zt}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:de}})]})]})})})},gr=({order:Zt})=>{const Ze=Ot=>{switch(Ot==null?void 0:Ot.toLowerCase()){case"new":return i.jsx(PK,{className:"w-4 h-4"});case"assigned":return i.jsx(un,{className:"w-4 h-4"});case"in progress":return i.jsx(kr,{className:"w-4 h-4"});case"resolved":return i.jsx(BK,{className:"w-4 h-4"});case"closed":return i.jsx(wr,{className:"w-4 h-4"});case"cancel":return i.jsx(qE,{className:"w-4 h-4"});case"escalated":return i.jsx(Yr,{className:"w-4 h-4"});case"vendor handled":return i.jsx(ia,{className:"w-4 h-4"});default:return i.jsx(hc,{className:"w-4 h-4"})}},tt=Ot=>{switch(Ot==null?void 0:Ot.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},Mt=(Ot,tr)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(tr==null?void 0:tr.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[Ot.toLowerCase()]||`Status: ${Ot}`,de=()=>{var tr,Mr;const Ot=[];if(Ot.push({id:"created",status:"new",date:Zt.date,changed_by:((tr=Zt.requester)==null?void 0:tr.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),Zt.status_history&&Zt.status_history.length>0&&[...Zt.status_history].sort((cr,Fr)=>new Date(cr.changed_at).getTime()-new Date(Fr.changed_at).getTime()).forEach((cr,Fr)=>{var An,en;const ha=Ot[Ot.length-1],Hr=Ye(ha.date,cr.changed_at);let Fs=cr.action,ma=Mt(cr.action);cr.action==="updated"&&((An=cr.new_data)!=null&&An.handling_status)&&(Fs=cr.new_data.handling_status,ma=Mt(cr.new_data.handling_status,{assigned_to:(en=Zt.assigned_to)==null?void 0:en.name}));let wn="System";cr.user_id===55?wn="DevTest User 1":cr.user_id===41?wn="Regular User QC":cr.user_id===57?wn="DevTest User 2":cr.user_id===36?wn="Super Admin User":cr.user_id===37?wn="Admin User One":cr.user_id===40?wn="Regular User IT":cr.user_id===42||cr.user_id===56?wn="Monitor":cr.changed_by?wn=cr.changed_by:wn=`User ${cr.user_id}`,Ot.push({id:cr.id.toString(),status:Fs,date:cr.changed_at,changed_by:wn,description:ma,duration:Hr,comments:cr.comments,old_data:cr.old_data,new_data:cr.new_data,isStatusChange:!0})}),(Mr=Zt.received_by)!=null&&Mr.name&&Zt.handling_date&&!Ot.some(cr=>{var Fr,ha;return cr.status==="received"||((Fr=cr.new_data)==null?void 0:Fr.received_by_id)&&((ha=cr.new_data)==null?void 0:ha.handling_status)==="Resolved"})){const cr=Ot[Ot.length-1],Fr=Ye(cr.date,Zt.handling_date),ha={id:"received",status:"received",date:Zt.handling_date,changed_by:Zt.received_by.name,description:"Diterima oleh teknisi",duration:Fr,isManualEvent:!0};Ot.push(ha)}return Ot.sort((jr,cr)=>new Date(jr.date).getTime()-new Date(cr.date).getTime())},Ye=(Ot,tr)=>{const Mr=new Date(Ot),jr=new Date(tr),cr=Math.abs(jr.getTime()-Mr.getTime()),Fr=Math.ceil(cr/(1e3*60*60*24));if(Fr===0){const ha=Math.ceil(cr/36e5),Hr=Math.ceil(cr/(1e3*60));return Hr<60?`${Hr} minutes`:`${ha} hours`}return`${Fr} day${Fr>1?"s":""}`},wt=Ot=>{const tr=new Date(Ot);return{date:tr.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:tr.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},or=Ot=>{var tr,Mr,jr;return(tr=Ot.new_data)!=null&&tr.handling_status?`Diubah menjadi: ${Ot.new_data.handling_status}`:(Mr=Ot.new_data)!=null&&Mr.assigned_to_id?"Ditugaskan ke teknisi":(jr=Ot.new_data)!=null&&jr.action_taken?`Tindakan diambil: ${Ot.new_data.action_taken.substring(0,50)}...`:null},Jr=de();return i.jsxs("div",{className:"space-y-6",children:[Jr.map((Ot,tr)=>{const Mr=wt(Ot.date),jr=tr===Jr.length-1,cr=or(Ot);return i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${tt(Ot.status)}`}),!jr&&i.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[Ze(Ot.status),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:Ot.status}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ot.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Mr.date}),i.jsx("div",{className:"text-xs text-gray-500",children:Mr.time})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-600",children:[i.jsx("strong",{children:"Changed by:"})," ",Ot.changed_by]}),Ot.duration&&Ot.duration!=="0 days"&&i.jsxs("span",{className:"text-blue-600 font-semibold",children:[" ",Ot.duration]})]}),Ot.duration&&Ot.duration!=="0 days"&&tr>0&&i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),cr&&i.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:cr}),Ot.comments&&i.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[i.jsx("strong",{children:"Comments:"})," ",Ot.comments]}),Ot.status==="assigned"&&Zt.assigned_to&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Assigned to:"})," ",Zt.assigned_to.name,Zt.assigned_to.email&&` (${Zt.assigned_to.email})`]}),(Ot.status==="resolved"||Ot.status==="closed")&&Zt.action_taken&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Action taken:"})," ",Zt.action_taken.substring(0,100),"..."]})]}),jr&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),i.jsx("span",{className:"font-bold text-blue-600 text-lg",children:Ye(Zt.date,Ot.date)})]}),i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",wt(Zt.date).date,"  Current: ",Mr.date]})]})]})]},Ot.id)}),Zt.handling_status==="Closed"&&Zt.handling_date&&i.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),i.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",Ye(Zt.date,Zt.handling_date)]})]}),i.jsx(wr,{className:"w-8 h-8 text-green-500"})]}),i.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:["Created: ",wt(Zt.date).date]}),i.jsxs("div",{children:["Completed: ",wt(Zt.handling_date).date]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Timeline:"})," ",Jr.length," status changes"]})]})]})]})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",Fe.work_order_no||Fe.id]}),i.jsx(Ut,{status:Fe.handling_status})]}),i.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Created: ",Ht(Fe.date)]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ze,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[i.jsx(zt,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),i.jsx(it,{title:"General Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(jt,{label:"Work Order No",value:Rt(Fe.work_order_no),icon:i.jsx(Cn,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Reception Method",value:Rt(Fe.reception_method),icon:i.jsx(go,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Requester",value:Rt((fn=Fe.requester)==null?void 0:fn.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Department",value:Rt((gn=Fe.department)==null?void 0:gn.name),icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Known By",value:Rt((nr=Fe.known_by)==null?void 0:nr.name),icon:i.jsx(Io,{className:"w-4 h-4"})})]})}),i.jsx(it,{title:"Service Details",icon:i.jsx(ia,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(jt,{label:"Service Type",value:Rt(Fe.service_type.group_name),icon:i.jsx($i,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Service",value:Rt(Fe.service.service_name),icon:i.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"No Asset",value:Rt(Fe.asset_no),icon:i.jsx(Cn,{className:"w-4 h-4"})})]})}),i.jsx(it,{title:"Device & Complaint",icon:i.jsx(Yr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(jt,{label:"Device Information",value:Rt(Fe.device_info),icon:i.jsx($i,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Wt,{label:"Complaint Details",htmlContent:Fe.complaint||"",icon:i.jsx(Yr,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(it,{title:"Handling Information",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[i.jsx(jt,{label:"Ticket Status",value:Rt(Fe.handling_status),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Handling Date",value:Ht(Fe.handling_date||"-"),icon:i.jsx(La,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[i.jsx(jt,{label:"Assigned To",value:Rt((Ur=Fe.assigned_to)==null?void 0:Ur.name),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Received By",value:Rt((Kr=Fe.received_by)==null?void 0:Kr.name),icon:i.jsx(wr,{className:"w-4 h-4"})})]}),i.jsx(Wt,{label:"Action Taken",htmlContent:Fe.action_taken||"",icon:i.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Wt,{label:"Remarks",htmlContent:Fe.remarks||"",icon:i.jsx(Cn,{className:"w-4 h-4"}),fullWidth:!0})]})}),Fe.status_history&&Fe.status_history.length>0&&i.jsx(it,{title:"Work Order Timeline",icon:i.jsx(RK,{className:"w-5 h-5"}),children:i.jsx(gr,{order:Fe})}),Fe.vendor&&i.jsx(it,{title:"Vendor Details",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(jt,{label:"Vendor Name",value:Rt(Fe.vendor.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Contact Person",value:Rt(Fe.vendor.contact_person),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Email",value:Rt(Fe.vendor.email),icon:i.jsx(Cx,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Phone",value:Rt(Fe.vendor.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Mobile",value:Rt(Fe.vendor.HP),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Address",value:Rt(Fe.vendor.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})]})}),Fe.attachment&&i.jsx(it,{title:"Attachment",icon:i.jsx(bc,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Document Attachment"}),i.jsxs("a",{href:Fe.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[i.jsx(UE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})})]})};return $?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):Z?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Yr,{className:"text-red-600 text-5xl"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-lg text-red-800",children:Z}),i.jsx("button",{onClick:()=>{(async()=>{try{q(!0),ce(null);const Rt=(await ae()).filter(it=>it.requester_id===Number(ge==null?void 0:ge.id));G(Rt);const Ht=new Date;Ht.setMonth(Ht.getMonth()-1);const Ut=Rt.filter(it=>new Date(it.date)<Ht);ee(Ut)}catch{ce("Failed to load work orders. Please try again.")}finally{q(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:I,toggleSidebar:qe}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Ke("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${_t?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Ke("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${gt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Ke("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Ke("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${at?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>Ke("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Nt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(E.button,{onClick:()=>Ke("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(qi,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),i.jsxs(E.button,{onClick:()=>u(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(po,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Filters"}),c?i.jsx(nj,{}):i.jsx(ja,{})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(i2,{title:"Total IT Requests",currentCount:we.length,lastMonthCount:J.length,icon:i.jsx(Cn,{})}),i.jsx(i2,{title:"IT New WO",currentCount:me(we).length,lastMonthCount:me(J).length,icon:i.jsx(kr,{}),usePercentage:!1}),i.jsx(i2,{title:"IT Progress",currentCount:lt(we).length,lastMonthCount:lt(J).length,icon:i.jsx(ia,{}),usePercentage:!1}),i.jsx(i2,{title:"IT Closed",currentCount:be(we).length,lastMonthCount:be(J).length,icon:i.jsx(wr,{}),usePercentage:!1})]}),i.jsx(E.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:Fe=>s(Fe.target.value)})]}),i.jsx(sr,{children:c&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Fe=>l(Fe.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Cancel",children:"Cancel"}),i.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Type"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Re.length>0?Re.map(Fe=>{const ze=ft(Fe),Rt=Ge(Fe);return i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Ee(Fe.id),title:"Click to view details",children:Fe.work_order_no||"-"}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(Fe.date).toLocaleDateString()})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.device_info})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.asset_no})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.service_type.group_name||"N/A"})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${kt(Fe.handling_status)}`,children:Fe.handling_status})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`text-sm font-medium ${Rt==="vendor"?"text-purple-600":Rt==="user"?"text-blue-600":"text-gray-500"}`,children:ze}),Rt==="vendor"&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ee(Fe.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:i.jsx(Io,{className:"text-base"})}),Fe.handling_status==="New"&&i.jsxs(i.Fragment,{children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ke(`/workorders/it/editworkorder/${Fe.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 p-1 rounded-full hover:bg-gray-50",title:"Edit Work Order",children:i.jsx(Si,{className:"text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>bt(Fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Cancel Work Order",children:i.jsx(zt,{className:"text-base"})})]}),Fe.handling_status==="Resolved"&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ht=>{Je(Fe.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 p-1 rounded-full hover:bg-green-50",title:"Mark as Closed",children:i.jsx(wr,{className:"text-base"})})]})]},Fe.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-5 py-8 text-center text-gray-600 text-base",children:"No IT work order requests found matching your criteria."})})})]})})}),we.length>O&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:ve+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(K,we.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:we.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>st(A-1),disabled:A===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ue},(Fe,ze)=>i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>st(ze+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
            ${A===ze+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
          `,"aria-label":`Go to page ${ze+1}`,children:ze+1},ze+1)),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>st(A+1),disabled:A===Ue,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),g&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.id]}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:i.jsx(De,{order:g,onClose:()=>{m(!1),p(null)}})})]})})}),i.jsx(sr,{children:b&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>k!==null&&vt(k),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),X&&i.jsx(E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:X}),i.jsx(sr,{children:ne&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(wr,{className:"text-green-500 text-5xl mx-auto"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ue(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>je!==null&&et(je),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),i.jsx(sr,{children:Ae&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-orange-500 text-5xl mx-auto"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ke(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Be!==null&&Le(Be),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),Z&&i.jsxs(E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[Z,i.jsx("button",{onClick:()=>ce(null),className:"ml-2 underline",children:"Dismiss"})]})]})},iBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,sBe=()=>{var Je,Le,et,lt,be;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s,getWorkOrderById:o}=ir(),l=ar(),{id:c}=Ls(),[u,f]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState([]),[w,b]=y.useState([]),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(()=>{const me=localStorage.getItem("sidebarOpen");return me?JSON.parse(me):!1}),[_,O]=y.useState(!1),[I,L]=y.useState(!1),[R,B]=y.useState(!1),[D,M]=y.useState(!1),[H,G]=y.useState(!0),[Y,W]=y.useState(null),[$,q]=y.useState(null),[Z,ce]=y.useState(!1),[X,U]=y.useState(null),J=y.useRef(null),ee=y.useRef(null),[ne,ue]=y.useState([]),[Ae,ke]=y.useState([]),[je,Ce]=y.useState([]),[Be,fe]=y.useState(!1),ge={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Je=e==null?void 0:e.department)==null?void 0:Je.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ae,ie]=y.useState(ge),ht=ae.reception_method==="Electronic Work Order System";y.useEffect(()=>{(async()=>{if(c)try{G(!0);const qe=await o(parseInt(c));console.log("Work Order Data:",qe),ie({id:qe.id,date:qe.date.split("T")[0],reception_method:qe.reception_method,requester_id:qe.requester_id,known_by_id:qe.known_by_id,department_id:qe.department_id,service_type_id:String(qe.service_group_id||""),service_id:String(qe.service_catalogue_id||""),asset_no:qe.asset_no,device_info:qe.device_info,complaint:qe.complaint,attachment:qe.attachment,received_by_id:qe.received_by_id,handling_date:qe.handling_date?qe.handling_date.split("T")[0]:null,action_taken:qe.action_taken,handling_status:qe.handling_status,remarks:qe.remarks})}catch(qe){console.error("Failed to fetch work order data:",qe),W(qe.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{G(!1)}})()},[c,o]),y.useEffect(()=>{e&&(async()=>{try{const ft=(await s(0)).map(K=>({id:Number(K.id),name:K.group_name??"",description:K.group_description??void 0}));ke(ft),Ce(ft);const Ge=await a();g(Ge);const we=await r();if(f(we),e&&e.id){const ve=await n(parseInt(e.id));v(ve),console.log("Services loaded:",ve)}}catch(qe){console.error("Failed to fetch master data:",qe)}})()},[e,r,n,a,s]),y.useEffect(()=>{var me;if(ae.reception_method==="Electronic Work Order System"&&e){const qe=((me=e.department)==null?void 0:me.head_id)||null;ie(ft=>({...ft,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:qe}))}},[ae.reception_method,e]),y.useEffect(()=>{const me=()=>{k(window.innerWidth<768),window.innerWidth<768&&A(!1)};return window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]),y.useEffect(()=>{const me=qe=>{J.current&&!J.current.contains(qe.target)&&L(!1),ee.current&&!ee.current.contains(qe.target)&&B(!1)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]),y.useEffect(()=>{if(ae.service_type_id&&p.length>0){const me=p.filter(qe=>String(qe.service_type)===ae.service_type_id);ue(me)}else ue([])},[ae.service_type_id,p]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const ut=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),A(me=>!me)},Pe=y.useCallback((me,qe)=>{let ft,Ge;if(me&&"target"in me)ft=me.target.name,Ge=me.target.value;else if(me&&typeof me=="object"&&"value"in me&&qe)ft=qe,Ge=me.value;else if(me===null&&qe)ft=qe,Ge=null;else return;ie(we=>({...we,[ft]:Ge}))},[]),Ke=me=>{const qe=(me==null?void 0:me.value)||"";ie(ft=>{var we,K;const Ge={...ft,reception_method:qe};return qe==="Electronic Work Order System"&&e?{...Ge,requester_id:parseInt(e.id),department_id:((we=e.department)==null?void 0:we.id)||0,known_by_id:((K=e.department)==null?void 0:K.head_id)||null}:Ge})},yt=me=>{ie(qe=>({...qe,asset_no:me?me.value:""}))},Qe=y.useCallback(me=>{me.target.files&&me.target.files.length>0?(U(me.target.files[0]),ie(qe=>({...qe,attachment:me.target.files[0].name}))):(U(null),ie(qe=>({...qe,attachment:null})))},[]),Tt=y.useCallback(()=>{U(null),ie(me=>({...me,attachment:null}))},[]),_t=async me=>{me.preventDefault(),M(!0),W(null);const qe={id:ae.id,date:ae.date,reception_method:ae.reception_method,requester_id:ae.requester_id,known_by_id:ae.known_by_id,department_id:ae.department_id,service_group_id:Number(ae.service_type_id),service_catalogue_id:Number(ae.service_id),asset_no:ae.asset_no,device_info:ae.device_info,complaint:ae.complaint,attachment:ae.attachment};try{await t(qe),q({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ae.id}`}}),ce(!0)}catch(ft){W(ft.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",ft)}finally{M(!1)}},Se=me=>{ie(qe=>({...qe,service_type_id:me?me.value:"",service_id:""}))},gt=me=>{ie(qe=>({...qe,service_id:me?me.value:""}))},at=y.useCallback(()=>{ce(!1),l("/workorders/it")},[l]),Nt={control:(me,qe)=>({...me,minHeight:"42px",borderColor:qe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:qe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:me=>({...me,padding:"0"}),singleValue:me=>({...me,color:"#374151"}),placeholder:me=>({...me,color:"#6B7280"}),dropdownIndicator:me=>({...me,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:me=>({...me,display:"none"}),menu:me=>({...me,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(me,qe)=>({...me,backgroundColor:qe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},kt=y.useCallback(me=>{if(!me)return;const qe=parseInt(me.value),ft=u.find(Ge=>parseInt(Ge.id)===qe);if(ft){const Ge=m.find(we=>we.id===ft.department_id);ie(we=>({...we,requester_id:qe,department_id:ft.department_id||0,known_by_id:(Ge==null?void 0:Ge.head_id)||null}))}},[u,m]),Ee=()=>{if(ht){const qe=m.find(ft=>ft.id===(e==null?void 0:e.department_id));return(qe==null?void 0:qe.name)||"No department assigned"}const me=m.find(qe=>qe.id===ae.department_id);return(me==null?void 0:me.name)||"No department assigned"},vt=()=>{if(ht){const qe=m.find(ft=>ft.id===(e==null?void 0:e.department_id));if(qe&&qe.head_id){const ft=u.find(Ge=>parseInt(Ge.id)===qe.head_id);return(ft==null?void 0:ft.name)||"No department head assigned"}return"No department head assigned"}const me=m.find(qe=>qe.id===ae.department_id);if(me&&me.head_id){const qe=u.find(ft=>parseInt(ft.id)===me.head_id);return(qe==null?void 0:qe.name)||"No department head assigned"}return"No department head assigned"},bt=()=>{if(!ae.attachment)return null;try{const qe=new URL(ae.attachment).pathname;return qe.substring(qe.lastIndexOf("/")+1)}catch{return ae.attachment}};return H?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(bn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:N,toggleSidebar:ut}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),i.jsxs(E.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(If,{className:"text-lg"})," Back to Work Orders"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:Y}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>W(null)})})]}),i.jsxs("form",{onSubmit:_t,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"date",name:"date",value:ae.date,onChange:Pe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ae.reception_method,label:ae.reception_method},onChange:Ke,placeholder:"Select Reception Method",styles:Nt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",i.jsx("span",{className:"text-red-500",children:"*"})]}),ht?i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):i.jsx(Wn,{id:"requester_id",name:"requester_id",options:u.map(me=>({value:String(me.id),label:me.name})),value:u.find(me=>parseInt(me.id)===ae.requester_id)?{value:String(ae.requester_id),label:((Le=u.find(me=>parseInt(me.id)===ae.requester_id))==null?void 0:Le.name)||""}:null,onChange:kt,placeholder:"Select Requester",styles:Nt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:Ee()})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:vt()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_type_id",name:"service_type_id",options:je.map(me=>({value:String(me.id),label:me.name})),value:ae.service_type_id?{value:ae.service_type_id,label:((et=je.find(me=>String(me.id)===ae.service_type_id))==null?void 0:et.name)||""}:null,onChange:Se,placeholder:"Select Service Type",styles:Nt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_id",name:"service_id",options:ne.map(me=>({value:String(me.id),label:me.service_name})),value:ae.service_id?{value:ae.service_id,label:((lt=ne.find(me=>String(me.id)===ae.service_id))==null?void 0:lt.service_name)||""}:null,onChange:gt,placeholder:"Select Service",styles:Nt}),ne.length===0&&ae.service_type_id&&i.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(XZ,{name:"asset_no",id:"asset_no",options:w,value:ae.asset_no?{value:ae.asset_no,label:ae.asset_no}:null,onChange:yt,onCreateOption:me=>{const qe={value:me,label:me};b(ft=>[...ft,qe]),yt(qe)},placeholder:"Type or select Asset No.",styles:Nt,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"device_info",name:"device_info",value:ae.device_info,onChange:Pe,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:ae.complaint,onChange:me=>{ie(qe=>({...qe,complaint:me}))}})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),i.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(bc,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsxs("div",{className:"flex text-sm text-gray-600",children:[i.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[i.jsx("span",{children:"Upload a file"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:Qe})]}),i.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),X&&i.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:i.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[i.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[i.jsx(bc,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),i.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:X.name})]}),i.jsx("div",{className:"ml-4 flex-shrink-0",children:i.jsx(E.button,{type:"button",onClick:Tt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},X.name)}),ae.attachment&&!X&&i.jsx("div",{className:"mt-3",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",bt()]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Dn,{className:"mr-2 h-5 w-5"})," Cancel"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:D,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:D?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),i.jsx(iBe,{isOpen:Z,onClose:at,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:$==null?void 0:$.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(be=$==null?void 0:$.work_order)==null?void 0:be.work_order_no]}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:at,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},oBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,lBe=()=>{var Le,et,lt;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s,getWorkOrderById:o,getVendor:l}=ir(),c=ar(),{id:u}=Ls(),[f,m]=y.useState([]),[g,p]=y.useState([]),[v,w]=y.useState([]),[b,N]=y.useState(window.innerWidth<768),[k,S]=y.useState(()=>{const be=localStorage.getItem("sidebarOpen");return be?JSON.parse(be):!1}),[A,_]=y.useState(!1),[O,I]=y.useState(!1),[L,R]=y.useState(!1),[B,D]=y.useState(!1),[M,H]=y.useState(!0),[G,Y]=y.useState(null),[W,$]=y.useState(null),[q,Z]=y.useState(!1),ce=y.useRef(null),X=y.useRef(null),[U,J]=y.useState([]),[ee,ne]=y.useState([]),[ue,Ae]=y.useState(!1),[ke,je]=y.useState([]),[Ce,Be]=y.useState(!1),[fe,ge]=y.useState(null),[ae,ie]=y.useState(!1),ht=({content:be,className:me=""})=>{if(!be)return i.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${me}`,children:i.jsx("span",{children:"-"})});const qe=md.sanitize(be,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return i.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${me}`,dangerouslySetInnerHTML:{__html:qe}})},ut={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Le=e==null?void 0:e.department)==null?void 0:Le.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[Pe,Ke]=y.useState(ut);y.useEffect(()=>{const be=Pe.handling_status==="Escalated",me=Pe.handling_status==="Vendor Handled";Ae(be),Be(me),!be&&Pe.assigned_to_id&&Ke(qe=>({...qe,assigned_to_id:null})),me||(Ke(qe=>({...qe,vendor_id:null})),ge(null),ie(!1))},[Pe.handling_status]),y.useEffect(()=>{const be=async()=>{if(u)try{H(!0);const me=await o(parseInt(u));if(Ke({id:me.id,date:me.date.split("T")[0],reception_method:me.reception_method,requester_id:me.requester_id,known_by_id:me.known_by_id,department_id:me.department_id,service_type_id:String(me.service_group_id||""),service_id:String(me.service_catalogue_id||""),asset_no:me.asset_no,device_info:me.device_info,complaint:me.complaint,attachment:me.attachment,received_by_id:me.received_by_id,handling_date:me.handling_date?me.handling_date.split("T")[0]:null,action_taken:me.action_taken,handling_status:me.handling_status,remarks:me.remarks,vendor_id:me.vendor_id||null}),me.vendor_id&&ke.length>0){const qe=ke.find(ft=>ft.id===me.vendor_id);qe&&ge(qe)}}catch(me){console.error("Failed to fetch work order data:",me),Y(me.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};ke.length>0&&be()},[u,o,ke]),y.useEffect(()=>{e&&(async()=>{try{const me=await l();je(me);const ft=(await s(0)).map(K=>({id:Number(K.id),name:K.group_name??"",description:K.group_description??void 0}));ne(ft);const Ge=await a();p(Ge);const we=await r();if(m(we),e&&e.id){const K=await n(parseInt(e.id));w(K)}}catch(me){console.error("Failed to fetch master data:",me)}})()},[e,r,n,a,s,l]),y.useEffect(()=>{const be=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]),y.useEffect(()=>{const be=me=>{ce.current&&!ce.current.contains(me.target)&&I(!1),X.current&&!X.current.contains(me.target)&&R(!1)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]),y.useEffect(()=>{if(Pe.service_type_id&&v.length>0){const be=v.filter(me=>String(me.service_type)===Pe.service_type_id);J(be)}else J([])},[Pe.service_type_id,v]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,A]);const yt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(be=>!be)},Qe=y.useCallback((be,me)=>{let qe,ft;if(be&&"target"in be)qe=be.target.name,ft=be.target.value;else if(be&&typeof be=="object"&&"value"in be&&me)qe=me,me==="assigned_to_id"||me==="requester_id"||me==="known_by_id"?ft=be.value?parseInt(be.value):null:ft=be.value;else if(be===null&&me)qe=me,ft=null;else return;Ke(Ge=>({...Ge,[qe]:ft}))},[]),Tt=be=>{ge(be),Ke(me=>({...me,vendor_id:be.id})),ie(!1)},_t=async be=>{if(be.preventDefault(),D(!0),Y(null),Pe.handling_status==="Escalated"&&!Pe.assigned_to_id){Y("Assigned To is required for Escalated status"),D(!1);return}if(Pe.handling_status==="Vendor Handled"&&!Pe.vendor_id){Y("Vendor selection is required for Vendor Handled status"),D(!1);return}if(!Pe.handling_status){Y("Handling status is required"),D(!1);return}if(!Pe.handling_date){Y("Handling date is required"),D(!1);return}if(!Pe.action_taken||Pe.action_taken.length<5){Y("Action taken must be at least 5 characters"),D(!1);return}const me={...Pe,id:Pe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:Pe.handling_date,action_taken:Pe.action_taken,handling_status:Pe.handling_status,remarks:Pe.remarks,assigned_to_id:Pe.assigned_to_id?parseInt(Pe.assigned_to_id):null,vendor_id:Pe.vendor_id};try{await t(me),$({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Pe.id}`}}),Z(!0)}catch(qe){Y(qe.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",qe)}finally{D(!1)}},Se=y.useCallback(()=>{Z(!1),c("/workorders/it/receiver")},[c]),gt={control:(be,me)=>({...be,minHeight:"42px",borderColor:me.isFocused?"#3B82F6":"#D1D5DB",boxShadow:me.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:be=>({...be,padding:"0"}),singleValue:be=>({...be,color:"#374151"}),placeholder:be=>({...be,color:"#6B7280"}),dropdownIndicator:be=>({...be,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:be=>({...be,display:"none"}),menu:be=>({...be,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(be,me)=>({...be,backgroundColor:me.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},at=()=>{const be=f.find(me=>parseInt(me.id)===Pe.requester_id);return(be==null?void 0:be.name)||"Unknown"},Nt=()=>{const be=g.find(me=>me.id===Pe.department_id);return(be==null?void 0:be.name)||"No department assigned"},kt=()=>{const be=g.find(me=>me.id===Pe.department_id);if(be&&be.head_id){const me=f.find(qe=>parseInt(qe.id)===be.head_id);return(me==null?void 0:me.name)||"No department head assigned"}return"No department head assigned"},Ee=()=>{const be=ee.find(me=>String(me.id)===Pe.service_type_id);return(be==null?void 0:be.name)||"Unknown"},vt=()=>{const be=v.find(me=>String(me.id)===Pe.service_id);return(be==null?void 0:be.service_name)||"Unknown"},bt=()=>{if(!Pe.attachment)return null;try{const me=new URL(Pe.attachment).pathname;return me.substring(me.lastIndexOf("/")+1)}catch{return Pe.attachment}},Je=()=>{Pe.attachment&&window.open(Pe.attachment,"_blank")};return M?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(bn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:b,toggleSidebar:yt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),i.jsxs(E.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(If,{className:"text-lg"})," Back to Receiver"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[G&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:G}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>Y(null)})})]}),i.jsxs("form",{onSubmit:_t,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.date})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.reception_method})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:at()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Nt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:kt()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Ee()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:vt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.asset_no})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.device_info})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),i.jsx(ht,{content:Pe.complaint,className:"min-h-[100px]"})]})]})]}),Pe.attachment&&i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(bc,{className:"mr-2 text-gray-500"})," Attachment"]}),i.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[i.jsx("span",{className:"text-gray-700",children:bt()}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Je,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-500"})," Handling Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:Pe.handling_date||"",onChange:Qe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:Pe.handling_status?{value:Pe.handling_status,label:Pe.handling_status}:null,onChange:be=>Qe(be,"handling_status"),placeholder:"Select Handling Status",styles:gt,required:!0})]}),ue&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(be=>({value:String(be.id),label:be.name})),value:Pe.assigned_to_id?{value:String(Pe.assigned_to_id),label:((et=f.find(be=>parseInt(be.id)===Pe.assigned_to_id))==null?void 0:et.name)||"Unknown"}:null,onChange:be=>Qe(be,"assigned_to_id"),placeholder:"Select Assignee",styles:gt,required:ue})]}),Ce&&i.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-gray-600"})," Vendor Information"]}),fe?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),i.jsx(E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ge(null),Ke(be=>({...be,vendor_id:null})),ie(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.contact_person})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.address||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.telp||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.HP||"-"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(!ae),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ae?"Hide Vendors":"Select Vendor"})]}),ae&&i.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:ke.length>0?ke.map(be=>i.jsxs(E.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Tt(be),children:[i.jsx("div",{className:"font-medium text-gray-900",children:be.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[be.contact_person,"  ",be.email]}),i.jsx("div",{className:"text-xs text-gray-500",children:be.address})]},be.id)):i.jsxs("div",{className:"p-4 text-center text-gray-600",children:[i.jsx(Yr,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:Pe.action_taken||"",onChange:be=>{Ke(me=>({...me,action_taken:be}))}})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:Pe.remarks||"",onChange:be=>{Ke(me=>({...me,remarks:be}))}})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Dn,{className:"mr-2 h-5 w-5"})," Cancel"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:B,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:B?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),i.jsx(oBe,{isOpen:q,onClose:Se,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:W==null?void 0:W.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(lt=W==null?void 0:W.work_order)==null?void 0:lt.work_order_no]}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Se,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},s2=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},cBe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(1),[b]=y.useState(5),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(!1),[_,O]=y.useState(!1),[I,L]=y.useState([]),[R,B]=y.useState(!0),[D,M]=y.useState(null),[H,G]=y.useState(!1),[Y,W]=y.useState(null),[$,q]=y.useState(!1),[Z,ce]=y.useState(""),X=ar(),U=Ui(),J=y.useRef(null),ee=y.useRef(null),{user:ne,getWorkOrdersIT:ue,updateWorkOrderIT:Ae,hasPermission:ke}=ir(),je=U.pathname==="/workorders/it/assignment",Ce=U.pathname==="/workorders/it/reports",Be=U.pathname==="/workorders/it/knowledgebase",fe=U.pathname==="/workorders/it",ge=U.pathname==="/workorders/it/receiver";U.pathname;const ae=({order:Le,onClose:et})=>{var ve,Re,Ue,st,De,Fe,ze,Rt,Ht,Ut;const lt=it=>it==null?"-":typeof it=="object"&&it!==null?it.name||it.title||it.id||"-":typeof it=="string"?it.trim()!==""?it.trim():"-":typeof it=="number"?it.toString():String(it),be=it=>it?new Date(it).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",me=({status:it})=>{const jt={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${jt[it]||jt.New}`,children:it})},qe=({priority:it})=>{const jt={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${jt[it]||jt.Medium}`,children:it||"Medium"})},ft=({title:it,children:jt,icon:Wt})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[Wt&&i.jsx("div",{className:"mr-3 text-blue-600",children:Wt}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:it})]})}),i.jsx("div",{className:"p-6",children:jt})]}),Ge=({label:it,value:jt,icon:Wt,fullWidth:gr=!1,priority:fn="medium"})=>{const gn={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${gr?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${gn[fn]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[Wt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Wt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:it}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:jt})]})]})})})},we=({label:it,htmlContent:jt,icon:Wt,fullWidth:gr=!1})=>{if(!jt)return i.jsx(Ge,{label:it,value:"-",icon:Wt,fullWidth:gr,priority:"low"});const fn=md.sanitize(jt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${gr?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[Wt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Wt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:it}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:fn}})]})]})})})},K=({order:it})=>{const Wt=!["Resolved","Cancel","Closed"].includes(it.handling_status)&&it.assigned_to_id===Number(ne==null?void 0:ne.id);return i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Wt&&i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>X(`/workorders/it/assignment/editassignment/${it.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(Si,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:et,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(zt,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",Le.work_order_no||Le.id]}),i.jsx(me,{status:Le.handling_status}),i.jsx(qe,{priority:(ve=Le.service)==null?void 0:ve.priority})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Created: ",be(Le.date)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),Le.handling_date?`Assigned: ${be(Le.handling_date)}`:"Not yet assigned"]})]})]})})}),i.jsx(ft,{title:"My Assignment Details",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ge,{label:"Assigned To",value:lt(((Re=Le.assigned_to)==null?void 0:Re.name)||(ne==null?void 0:ne.name)),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ge,{label:"Assignment Type",value:Le.vendor?"Vendor":"Internal Technician",icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Current Status",value:lt(Le.handling_status),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ge,{label:"Priority Level",value:lt(((Ue=Le.service)==null?void 0:Ue.priority)||"Medium"),icon:i.jsx(Yr,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(ft,{title:"Service & Technical Information",icon:i.jsx(ia,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ge,{label:"Service Type",value:lt((st=Le.service_type)==null?void 0:st.group_name),icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Service Name",value:lt((De=Le.service)==null?void 0:De.service_name),icon:i.jsx(Cn,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Service Owner",value:lt((ze=(Fe=Le.service)==null?void 0:Fe.owner)==null?void 0:ze.name),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Asset Number",value:lt(Le.asset_no),icon:i.jsx(Cn,{className:"w-4 h-4"})})]})}),i.jsx(ft,{title:"Request Information",icon:i.jsx(Cn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Ge,{label:"Requester",value:lt((Rt=Le.requester)==null?void 0:Rt.name),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Requester Department",value:lt(Le.department_name||((Ht=Le.department)==null?void 0:Ht.name)),icon:i.jsx($i,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Reception Method",value:lt(Le.reception_method),icon:i.jsx(go,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Known By",value:lt((Ut=Le.known_by)==null?void 0:Ut.name),icon:i.jsx(Io,{className:"w-4 h-4"})})]})}),i.jsx(ft,{title:"Problem Details",icon:i.jsx(Yr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(Ge,{label:"Device Information",value:lt(Le.device_info),icon:i.jsx($i,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(we,{label:"Complaint Description",htmlContent:Le.complaint||"",icon:i.jsx(Yr,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(ft,{title:"Progress & Actions",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(we,{label:"Action Taken",htmlContent:Le.action_taken||"No actions recorded yet",icon:i.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(we,{label:"Technical Notes & Remarks",htmlContent:Le.remarks||"No remarks yet",icon:i.jsx(Cn,{className:"w-4 h-4"}),fullWidth:!0})]})}),Le.vendor&&i.jsx(ft,{title:"Vendor Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Ge,{label:"Vendor Name",value:lt(Le.vendor.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ge,{label:"Contact Person",value:lt(Le.vendor.contact_person),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Email",value:lt(Le.vendor.email),icon:i.jsx(Cx,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Phone",value:lt(Le.vendor.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Mobile",value:lt(Le.vendor.HP),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(Ge,{label:"Address",value:lt(Le.vendor.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(ft,{title:"Timeline & Status History",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),i.jsx("span",{className:"text-sm text-green-600",children:be(Le.date)})]}),Le.handling_date&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),i.jsx("span",{className:"text-sm text-blue-600",children:be(Le.handling_date)})]}),Le.action_taken&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),i.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(Le.handling_status)&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),i.jsx("span",{className:"text-sm text-orange-600",children:Le.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(Le.handling_status)&&i.jsx(ft,{title:"Next Steps",icon:i.jsx(wr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[i.jsx(wr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),Le.handling_status==="Assigned"&&i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[i.jsx(kr,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),Le.handling_status==="In Progress"&&i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[i.jsx(ia,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),Le.attachment&&i.jsx(ft,{title:"Supporting Documents",icon:i.jsx(bc,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),i.jsxs("a",{href:Le.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[i.jsx(UE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),i.jsx(K,{order:Le})]})},ie=y.useCallback(async()=>{B(!0),M(null);try{const et=(await ue()).filter(lt=>lt.assigned_to_id===Number(ne==null?void 0:ne.id));L(et)}catch(Le){M(Le.message||"Failed to load work orders.")}finally{B(!1)}},[ue,ne==null?void 0:ne.id]),ht=y.useCallback(async(Le,et)=>{G(!0),W(null),q(!1);try{const lt=await Ae({...et,id:Le});return L(be=>be.map(me=>me.id===Le?lt:me)),q(!0),setTimeout(()=>q(!1),3e3),lt}catch(lt){throw W(lt.message||"Failed to update work order."),lt}finally{G(!1)}},[Ae]),ut=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)},Pe=Le=>{J.current&&!J.current.contains(Le.target)&&A(!1),ee.current&&!ee.current.contains(Le.target)&&O(!1)};y.useEffect(()=>(window.addEventListener("resize",ut),document.addEventListener("mousedown",Pe),ie(),()=>{window.removeEventListener("resize",ut),document.removeEventListener("mousedown",Pe)}),[ie]);const Ke=Le=>{switch(Le){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},yt=Le=>{switch(Le==null?void 0:Le.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},Qe=Le=>{switch(Le){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},Tt=Le=>{switch(Le==null?void 0:Le.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},_t=y.useCallback(Le=>{const et=I.find(lt=>lt.id===Le);et&&(p(et),m(!0))},[I]);y.useCallback(async Le=>{if(!Z.trim()){W("Vendor name is required");return}try{await ht(Le,{assigned_to_name:Z.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),ce(""),q(!0)}catch(et){console.error("Failed to assign vendor:",et)}},[ht,Z]),y.useCallback(async(Le,et)=>{try{await ht(Le,{handling_status:et,handling_date:new Date().toISOString()})}catch(lt){console.error("Failed to update status:",lt)}},[ht]);const Se=Le=>{var et;return Le.vendor?`${Le.vendor.name}`:((et=Le.assigned_to)==null?void 0:et.name)||"Unassigned"},gt=Le=>Le.vendor?"vendor":Le.assigned_to?"user":"unassigned",at=()=>{n(Le=>!Le)},Nt=I.filter(Le=>{var be,me,qe,ft;const et=((me=(be=Le.requester)==null?void 0:be.name)==null?void 0:me.toLowerCase().includes(a.toLowerCase()))||((qe=Le.work_order_no)==null?void 0:qe.toLowerCase().includes(a.toLowerCase()))||((ft=Le.complaint)==null?void 0:ft.toLowerCase().includes(a.toLowerCase()))||String(Le.id).includes(a),lt=o==="all"||Le.handling_status===o;return et&&lt}).sort((Le,et)=>{var ft,Ge;const lt=Qe(Le.handling_status),be=Qe(et.handling_status);if(lt!==be)return lt-be;const me=Tt((ft=Le.service)==null?void 0:ft.priority),qe=Tt((Ge=et.service)==null?void 0:Ge.priority);return me!==qe?me-qe:new Date(et.created_at).getTime()-new Date(Le.created_at).getTime()}),kt=v*b,Ee=kt-b,vt=Nt.slice(Ee,kt),bt=Math.ceil(Nt.length/b),Je=Le=>w(Le);return y.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]),R?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):D?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Yr,{className:"text-red-600 text-5xl"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-lg text-red-800",children:D}),i.jsx("button",{onClick:ie,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:N,toggleSidebar:at}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>X("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${fe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>X("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>X("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${je?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>X("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>X("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Be?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),Y&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:Y}),i.jsx("button",{onClick:()=>W(null),className:"absolute top-0 right-0 p-3",children:i.jsx(zt,{size:16})})]}),$&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),i.jsx("button",{onClick:()=>q(!1),className:"absolute top-0 right-0 p-3",children:i.jsx(zt,{size:16})})]}),i.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(s2,{title:"Total Assignments",value:Nt.length.toString(),change:"+8%",icon:i.jsx(Cn,{})}),i.jsx(s2,{title:"In Progress",value:Nt.filter(Le=>Le.handling_status==="In Progress").length.toString(),change:"-1",icon:i.jsx(ia,{})}),i.jsx(s2,{title:"Resolved",value:Nt.filter(Le=>Le.handling_status==="Resolved").length.toString(),change:"+1",icon:i.jsx(wr,{})}),i.jsx(s2,{title:"Vendor Handled",value:Nt.filter(Le=>Le.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:i.jsx(kr,{})})]}),i.jsx(E.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:Le=>s(Le.target.value)})]}),i.jsx(sr,{children:c&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Le=>l(Le.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Cancel",children:"Cancel"}),i.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:vt.length>0?vt.map(Le=>{var be,me;Le.handling_status,["Resolved","Cancel","Closed"].includes(Le.handling_status),Le.handling_status;const et=Se(Le),lt=gt(Le);return i.jsxs(E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>_t(Le.id),title:"Click to view details",children:Le.work_order_no||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Le.requester.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(Le.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Le.handling_date?new Date(Le.handling_date).toLocaleDateString():"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${yt((be=Le.service)==null?void 0:be.priority)} shadow-sm`,children:((me=Le.service)==null?void 0:me.priority)||"Medium"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ke(Le.handling_status)} shadow-sm`,children:Le.handling_status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`text-sm font-medium ${lt==="vendor"?"text-purple-600":lt==="user"?"text-blue-600":"text-gray-500"}`,children:et}),lt==="vendor"&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_t(Le.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:i.jsx(Io,{className:"text-lg"})}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(`/workorders/it/assignment/editassignment/${Le.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:i.jsx(Si,{className:"text-lg"})})]})]},Le.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),Nt.length>b&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Ee+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(kt,Nt.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:Nt.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Je(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:bt},(Le,et)=>i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Je(et+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===et+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:et+1},et+1)),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Je(v+1),disabled:v===bt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(ae,{order:g,onClose:()=>{m(!1),p(null)}})})]})})})]})},uBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,dBe=()=>{var Le,et,lt;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s,getWorkOrderById:o,getVendor:l}=ir(),c=ar(),{id:u}=Ls(),[f,m]=y.useState([]),[g,p]=y.useState([]),[v,w]=y.useState([]),[b,N]=y.useState(window.innerWidth<768),[k,S]=y.useState(()=>{const be=localStorage.getItem("sidebarOpen");return be?JSON.parse(be):!1}),[A,_]=y.useState(!1),[O,I]=y.useState(!1),[L,R]=y.useState(!1),[B,D]=y.useState(!1),[M,H]=y.useState(!0),[G,Y]=y.useState(null),[W,$]=y.useState(null),[q,Z]=y.useState(!1),ce=y.useRef(null),X=y.useRef(null),[U,J]=y.useState([]),[ee,ne]=y.useState([]),[ue,Ae]=y.useState(!1),[ke,je]=y.useState([]),[Ce,Be]=y.useState(!1),[fe,ge]=y.useState(null),[ae,ie]=y.useState(!1),ht=({content:be,className:me=""})=>{if(!be)return i.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${me}`,children:i.jsx("span",{children:"-"})});const qe=md.sanitize(be,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return i.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${me}`,dangerouslySetInnerHTML:{__html:qe}})},ut={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Le=e==null?void 0:e.department)==null?void 0:Le.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[Pe,Ke]=y.useState(ut);y.useEffect(()=>{const be=Pe.handling_status!=="New",me=Pe.handling_status==="Vendor Handled";Ae(be),Be(me),!me&&Pe.vendor_id&&(Ke(qe=>({...qe,vendor_id:null})),ge(null),ie(!1))},[Pe.handling_status]),y.useEffect(()=>{const be=async()=>{if(u)try{H(!0);const me=await o(parseInt(u));if(Ke({id:me.id,date:me.date.split("T")[0],reception_method:me.reception_method,requester_id:me.requester_id,known_by_id:me.known_by_id,department_id:me.department_id,service_type_id:String(me.service_group_id||""),service_id:String(me.service_catalogue_id||""),asset_no:me.asset_no,device_info:me.device_info,complaint:me.complaint,attachment:me.attachment,received_by_id:me.received_by_id,handling_date:me.handling_date?me.handling_date.split("T")[0]:null,action_taken:me.action_taken,handling_status:me.handling_status,remarks:me.remarks,assigned_to_id:me.assigned_to_id,vendor_id:me.vendor_id||null}),me.vendor_id&&ke.length>0){const qe=ke.find(ft=>ft.id===me.vendor_id);qe&&ge(qe)}}catch(me){console.error("Failed to fetch work order data:",me),Y(me.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};ke.length>0&&be()},[u,o,ke]),y.useEffect(()=>{e&&(async()=>{try{const me=await l();je(me);const ft=(await s(0)).map(K=>({id:Number(K.id),name:K.group_name??"",description:K.group_description??void 0}));ne(ft);const Ge=await a();p(Ge);const we=await r();if(m(we),e&&e.id){const K=await n(parseInt(e.id));w(K)}}catch(me){console.error("Failed to fetch master data:",me)}})()},[e,r,n,a,s,l]),y.useEffect(()=>{const be=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]),y.useEffect(()=>{const be=me=>{ce.current&&!ce.current.contains(me.target)&&I(!1),X.current&&!X.current.contains(me.target)&&R(!1)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]),y.useEffect(()=>{if(Pe.service_type_id&&v.length>0){const be=v.filter(me=>String(me.service_type)===Pe.service_type_id);J(be)}else J([])},[Pe.service_type_id,v]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,A]);const yt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(be=>!be)},Qe=y.useCallback((be,me)=>{let qe,ft;if(be&&"target"in be)qe=be.target.name,ft=be.target.value;else if(be&&typeof be=="object"&&"value"in be&&me)qe=me,me==="assigned_to_id"||me==="requester_id"||me==="known_by_id"?ft=be.value?parseInt(be.value):null:ft=be.value;else if(be===null&&me)qe=me,ft=null;else return;Ke(Ge=>({...Ge,[qe]:ft}))},[]),Tt=be=>{ge(be),Ke(me=>({...me,vendor_id:be.id})),ie(!1)},_t=async be=>{be.preventDefault(),D(!0),Y(null);const me=["In Progress","Escalated","Vendor Handled","Resolved"];if(Pe.handling_status&&me.includes(Pe.handling_status)&&!Pe.assigned_to_id){Y("Assigned To is required for this status"),D(!1);return}if(Pe.handling_status==="Vendor Handled"&&!Pe.vendor_id){Y("Vendor selection is required for Vendor Handled status"),D(!1);return}if(!Pe.handling_status){Y("Handling status is required"),D(!1);return}if(!Pe.handling_date){Y("Handling date is required"),D(!1);return}if(!Pe.action_taken||Pe.action_taken.length<5){Y("Action taken must be at least 5 characters"),D(!1);return}const qe={...Pe,id:Pe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:Pe.handling_date,action_taken:Pe.action_taken,handling_status:Pe.handling_status,remarks:Pe.remarks,assigned_to_id:Pe.assigned_to_id?parseInt(Pe.assigned_to_id):null,vendor_id:Pe.vendor_id};try{await t(qe),$({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Pe.id}`}}),Z(!0)}catch(ft){Y(ft.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",ft)}finally{D(!1)}},Se=y.useCallback(()=>{Z(!1),c("/workorders/it/assignment")},[c]),gt={control:(be,me)=>({...be,minHeight:"42px",borderColor:me.isFocused?"#3B82F6":"#D1D5DB",boxShadow:me.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:be=>({...be,padding:"0"}),singleValue:be=>({...be,color:"#374151"}),placeholder:be=>({...be,color:"#6B7280"}),dropdownIndicator:be=>({...be,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:be=>({...be,display:"none"}),menu:be=>({...be,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(be,me)=>({...be,backgroundColor:me.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},at=()=>{const be=f.find(me=>parseInt(me.id)===Pe.requester_id);return(be==null?void 0:be.name)||"Unknown"},Nt=()=>{const be=g.find(me=>me.id===Pe.department_id);return(be==null?void 0:be.name)||"No department assigned"},kt=()=>{const be=g.find(me=>me.id===Pe.department_id);if(be&&be.head_id){const me=f.find(qe=>parseInt(qe.id)===be.head_id);return(me==null?void 0:me.name)||"No department head assigned"}return"No department head assigned"},Ee=()=>{const be=ee.find(me=>String(me.id)===Pe.service_type_id);return(be==null?void 0:be.name)||"Unknown"},vt=()=>{const be=v.find(me=>String(me.id)===Pe.service_id);return(be==null?void 0:be.service_name)||"Unknown"},bt=()=>{if(!Pe.attachment)return null;try{const me=new URL(Pe.attachment).pathname;return me.substring(me.lastIndexOf("/")+1)}catch{return Pe.attachment}},Je=()=>{Pe.attachment&&window.open(Pe.attachment,"_blank")};return M?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(bn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Cn,{}),isMobile:b,toggleSidebar:yt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),i.jsxs(E.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(If,{className:"text-lg"})," Back to Assignment"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[G&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:G}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>Y(null)})})]}),i.jsxs("form",{onSubmit:_t,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.date})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.reception_method})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:at()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Nt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:kt()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Ee()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:vt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.asset_no})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Pe.device_info})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),i.jsx(ht,{content:Pe.complaint,className:"min-h-[100px]"})]})]})]}),Pe.attachment&&i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(bc,{className:"mr-2 text-gray-500"})," Attachment"]}),i.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[i.jsx("span",{className:"text-gray-700",children:bt()}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Je,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-500"})," Handling Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:Pe.handling_date||"",onChange:Qe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:Pe.handling_status?{value:Pe.handling_status,label:Pe.handling_status}:null,onChange:be=>Qe(be,"handling_status"),placeholder:"Select Handling Status",styles:gt,required:!0})]}),ue&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(be=>({value:String(be.id),label:be.name})),value:Pe.assigned_to_id?{value:String(Pe.assigned_to_id),label:((et=f.find(be=>parseInt(be.id)===Pe.assigned_to_id))==null?void 0:et.name)||"Unknown"}:null,onChange:be=>Qe(be,"assigned_to_id"),placeholder:"Select Assignee",styles:gt,required:ue})]}),Ce&&i.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-gray-600"})," Vendor Information"]}),fe?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),i.jsx(E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ge(null),Ke(be=>({...be,vendor_id:null})),ie(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.contact_person})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.address||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.telp||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:fe.HP||"-"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(!ae),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ae?"Hide Vendors":"Select Vendor"})]}),ae&&i.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:ke.length>0?ke.map(be=>i.jsxs(E.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Tt(be),children:[i.jsx("div",{className:"font-medium text-gray-900",children:be.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[be.contact_person,"  ",be.email]}),i.jsx("div",{className:"text-xs text-gray-500",children:be.address})]},be.id)):i.jsxs("div",{className:"p-4 text-center text-gray-600",children:[i.jsx(Yr,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:Pe.action_taken||"",onChange:be=>{Ke(me=>({...me,action_taken:be}))}})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:Pe.remarks||"",onChange:be=>{Ke(me=>({...me,remarks:be}))}})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Dn,{className:"mr-2 h-5 w-5"})," Cancel"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:B,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:B?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),i.jsx(uBe,{isOpen:q,onClose:Se,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:W==null?void 0:W.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(lt=W==null?void 0:W.work_order)==null?void 0:lt.work_order_no]}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Se,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},fBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,hBe=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getActivity:l,updateActivity:c,getActivityById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:"",description:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||"",description:s.description||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Activity update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Activity")}finally{S(!1)}},D=()=>{N(!1),A("/maintenanceactivity/activity")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(hc,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),i.jsxs(E.button,{onClick:()=>A("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Activity Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),i.jsx(fBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},mBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,pBe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addActivity:o,getActivity:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Activity created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Activity")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activity")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(hc,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),i.jsxs(E.button,{onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Activity Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),i.jsx(mBe,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},gBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),xBe=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},yBe=()=>{const[t,e]=y.useState([]),{getActivity:r,deleteActivity:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load activities"),console.error("Error loading activities:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var ee,ne;const U=(ee=X.name)==null?void 0:ee.toLowerCase().includes(ce),J=(ne=X.description)==null?void 0:ne.toLowerCase().includes(ce);return Z==="activity"?U:Z==="description"?J:U||J})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete activity:",q),l("Failed to delete activity. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:i.jsx(hc,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Activity"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(xBe,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(hc,{className:"w-6 h-6"})})}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search activities"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(gBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},bBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),vBe=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},wBe=()=>{const[t,e]=y.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load trouble items"),console.error("Error loading trouble items:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var ee,ne;const U=(ee=X.name)==null?void 0:ee.toLowerCase().includes(ce),J=(ne=X.description)==null?void 0:ne.toLowerCase().includes(ce);return Z==="trouble item"?U:Z==="description"?J:U||J})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete trouble item:",q),l("Failed to delete trouble item. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:i.jsx(Yr,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Trouble Item"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(vBe,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(Yr,{className:"w-6 h-6"})})}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search trouble items"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(bBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},jBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,nV=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addTroubleItem:o,getTroubleItem:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Trouble Item created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Trouble Item")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/troubleitem")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Yr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),i.jsxs(E.button,{onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Trouble Item Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),i.jsx(jBe,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},NBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,SBe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addWorkUnit:o,getWorkUnit:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",is_production:"",description:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,is_production:S.is_production,description:S.description};await o(D),p("Work Unit created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Work Unit")}finally{N(!1)}},R=()=>{w(!1),k("/worklocation/workunit")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(pg,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),i.jsxs(E.button,{onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Unit Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Production",children:"Production"}),i.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Mf,{value:S.description,onChange:B=>{A(D=>({...D,description:B}))}})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),i.jsx(NBe,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},kBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,CBe=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:"",is_production:"",description:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||"",is_production:s.is_production||"",description:s.description||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name,is_production:_.is_production,description:_.description};await c(t,H),w("Work Unit update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Unit")}finally{S(!1)}},D=()=>{N(!1),A("/worklocation/workunit")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(pg,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),i.jsxs(E.button,{onClick:()=>A("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Unit Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Production",children:"Production"}),i.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),i.jsx(kBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},_Be=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),aV=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},ABe=()=>{const[t,e]=y.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load work units"),console.error("Error loading work units:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var ee,ne;const U=(ee=X.name)==null?void 0:ee.toLowerCase().includes(ce),J=(ne=X.description)==null?void 0:ne.toLowerCase().includes(ce);return Z==="work unit"?U:Z==="description"?J:U||J})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete work unit:",q),l("Failed to delete work unit. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(pg,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Work Unit"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(aV,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(pg,{className:"w-6 h-6"})}),i.jsx(aV,{title:"Production Units",value:t.filter($=>String($.is_production)==="1").length.toString(),change:`+${Math.floor(t.filter($=>String($.is_production)==="1").length/t.length*100)}%`,icon:i.jsx(pg,{className:"w-6 h-6"})})]}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search work units"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:String($.is_production)==="1"?"Yes":"No"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(_Be,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},TBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,iV=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:"",description:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||"",description:s.description||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Work Group update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Group")}finally{S(!1)}},D=()=>{N(!1),A("/workarrangement/workgroup")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(zi,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),i.jsxs(E.button,{onClick:()=>A("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Group Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),i.jsx(TBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},MBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,sV=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addWorkGroup:o,getWorkGroup:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Work Group created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Work Group")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activity")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(zi,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),i.jsxs(E.button,{onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Group Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),i.jsx(MBe,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},OBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),oV=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},lV=()=>{const[t,e]=y.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load work groups"),console.error("Error loading work groups:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var ee,ne;const U=(ee=X.name)==null?void 0:ee.toLowerCase().includes(ce),J=(ne=X.description)==null?void 0:ne.toLowerCase().includes(ce);return Z==="work group"?U:Z==="description"?J:U||J})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete work group:",q),l("Failed to delete work group. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:i.jsx(zi,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Work Group"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(oV,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(zi,{className:"w-6 h-6"})}),i.jsx(oV,{title:"Active Groups",value:t.filter($=>$.description&&$.description.length>0).length.toString(),change:`+${Math.floor(t.filter($=>$.description&&$.description.length>0).length/t.length*100)}%`,icon:i.jsx(zi,{className:"w-6 h-6"})})]}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search work groups"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(OBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},EBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,DBe=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:"",description:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||"",description:s.description||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Work Shift update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Shift")}finally{S(!1)}},D=()=>{N(!1),A("/workarrangement/workshift")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),i.jsxs(E.button,{onClick:()=>A("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Shift Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),i.jsx(EBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},PBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,LBe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addWorkShift:o,getWorkShift:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Work Shift created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Work Shift")}finally{N(!1)}},R=()=>{w(!1),k("/workarrangement/workshift")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),i.jsxs(E.button,{onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Shift Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),i.jsx(PBe,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},RBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),cV=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},IBe=()=>{const[t,e]=y.useState([]),{getWorkShift:r,deleteWorkShift:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load work shifts"),console.error("Error loading work shifts:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{var ee,ne;const U=(ee=X.name)==null?void 0:ee.toLowerCase().includes(ce),J=(ne=X.description)==null?void 0:ne.toLowerCase().includes(ce);return Z==="work shift"?U:Z==="description"?J:U||J})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete work shift:",q),l("Failed to delete work shift. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(kr,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Work Shift"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(cV,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(kr,{className:"w-6 h-6"})}),i.jsx(cV,{title:"Active Shifts",value:t.filter($=>$.description&&$.description.length>0).length.toString(),change:`+${Math.floor(t.filter($=>$.description&&$.description.length>0).length/t.length*100)}%`,icon:i.jsx(kr,{className:"w-6 h-6"})})]}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search work shifts"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(RBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},FBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,$Be=()=>{const t=ar(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:a}=ir(),[s,o]=y.useState(window.innerWidth<768),[l,c]=y.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return JSON.parse(ee||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(ee=>!ee)},[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(null),[A,_]=y.useState(!0),[O,I]=y.useState(1),[L,R]=y.useState({startDate:null,endDate:null,units:[]}),B={control:(ee,ne)=>({...ee,minHeight:"42px",borderColor:ne.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ne.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ee=>({...ee,padding:"0"}),singleValue:ee=>({...ee,color:"#374151"}),placeholder:ee=>({...ee,color:"#6B7280"}),dropdownIndicator:ee=>({...ee,color:"#9CA3AF"}),clearIndicator:ee=>({...ee,color:"#9CA3AF"}),menu:ee=>({...ee,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ee,ne)=>({...ee,backgroundColor:ne.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};y.useEffect(()=>{(async()=>{try{_(!0);const ne=await e();S(ne)}catch{p("Gagal memuat data master")}finally{_(!1)}})()},[e]);const D=y.useCallback(()=>{R(ee=>({...ee,units:[...ee.units,{id:0,name:"",machines:[]}]}))},[]),M=y.useCallback(ee=>{R(ne=>({...ne,units:ne.units.filter((ue,Ae)=>Ae!==ee)}))},[]),H=y.useCallback((ee,ne)=>{var ue;if(ne){const Ae=(ue=k==null?void 0:k.unitsWithMachines)==null?void 0:ue.find(ke=>ke.id===ne.value);Ae&&R(ke=>{const je=[...ke.units];return je[ee]={id:Ae.id,name:Ae.name,machines:[]},{...ke,units:je}})}else R(Ae=>{const ke=[...Ae.units];return ke[ee]={id:0,name:"",machines:[]},{...Ae,units:ke}})},[k]),G=y.useCallback(ee=>{R(ne=>{const ue=[...ne.units];return ue[ee].machines=[...ue[ee].machines,{id:0,name:"",intervalId:null,items:[]}],{...ne,units:ue}})},[]),Y=y.useCallback((ee,ne)=>{R(ue=>{const Ae=[...ue.units];return Ae[ee].machines=Ae[ee].machines.filter((ke,je)=>je!==ne),{...ue,units:Ae}})},[]),W=y.useCallback(async(ee,ne,ue)=>{if(ue)try{const Ae=await a(ue.value);Ae&&R(ke=>{const je=[...ke.units];return je[ee].machines[ne]={id:Ae.id,name:Ae.name,intervalId:null,items:Ae.item_mesin.map(Ce=>({...Ce,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...ke,units:je}})}catch(Ae){console.error("Error fetching machine detail:",Ae),p("Gagal memuat detail mesin")}else R(Ae=>{const ke=[...Ae.units];return ke[ee].machines[ne]={id:0,name:"",intervalId:null,items:[]},{...Ae,units:ke}})},[a]),$=y.useCallback((ee,ne,ue)=>{var Ae,ke,je;if(ue&&((ke=(Ae=L.units[ee])==null?void 0:Ae.machines[ne])!=null&&ke.id)){const Ce=(je=k==null?void 0:k.intervals)==null?void 0:je.find(Be=>Be.id_interval===ue.value);Ce&&R(Be=>{const fe=[...Be.units],ge=fe[ee].machines[ne],ae=ge.items.filter(ie=>ie.interval_id===Ce.id_interval);return fe[ee].machines[ne]={...ge,intervalId:Ce.id_interval,intervalType:Ce.type_interval,items:ae.map(ie=>({...ie,interval_type:Ce.type_interval}))},{...Be,units:fe}})}else R(Ce=>{const Be=[...Ce.units],fe=Be[ee].machines[ne];return Be[ee].machines[ne]={...fe,intervalId:null,intervalType:void 0,items:fe.items.map(ge=>({...ge,interval_type:""}))},{...Ce,units:Be}})},[k,L.units]);y.useCallback((ee,ne,ue,Ae,ke)=>{R(je=>{const Ce=[...je.units];return Ce[ee].machines[ne].items[ue]={...Ce[ee].machines[ne].items[ue],[Ae]:ke},{...je,units:Ce}})},[]);const q=["January","February","March","April","May","June","July","August","September","October","November","December"],Z=async ee=>{ee.preventDefault(),m(!0),p(null);try{if(!L.startDate||!L.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(L.units.length===0||L.units.some(ke=>!ke.id))throw new Error("Pilih setidaknya satu unit");const ne=ke=>{const je=ke.getFullYear(),Ce=String(ke.getMonth()+1).padStart(2,"0"),Be=String(ke.getDate()).padStart(2,"0");return`${je}-${Ce}-${Be}`},ue=[],Ae=[];for(const ke of L.units)for(const je of ke.machines)if(je.id&&je.items.length>0){const Ce=je.items.map(ge=>ge.id),Be={tahun:L.startDate.getFullYear(),bulan:q[L.startDate.getMonth()],tgl_start:ne(L.startDate),tgl_end:ne(L.endDate),unit:ke.name,id_mesins:je.id,id_interval:je.intervalId||1,item_mesin_ids:Ce},fe=await r(Be);ue.push(fe)}if(ue.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");w("Data monitoring berhasil disimpan!"),N(!0)}catch(ne){p(ne.message||"Gagal menyimpan data monitoring")}finally{m(!1)}},ce=y.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),X=y.useMemo(()=>{switch(O){case 1:return!L.startDate||!L.endDate;case 2:return L.units.length===0||L.units.every(ne=>!ne.id);case 3:return L.units.every(ne=>ne.machines.length===0||ne.machines.every(ue=>!ue.id||!ue.intervalId||ue.items.length===0));case 4:return!L.units.some(ne=>ne.machines.some(ue=>ue.id&&ue.intervalId&&ue.items.length>0));default:return!0}},[O,L]),U=()=>i.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(ee=>i.jsxs("button",{type:"button",onClick:()=>I(ee),disabled:ee===2&&(!L.startDate||!L.endDate)||ee===3&&(L.units.length===0||L.units.every(ne=>!ne.id))||ee===4&&L.units.every(ne=>ne.machines.every(ue=>!ue.id||!ue.intervalId)),className:`px-4 py-2 font-medium ${O===ee?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${ee===2&&(!L.startDate||!L.endDate)||ee===3&&(L.units.length===0||L.units.every(ne=>!ne.id))||ee===4&&L.units.every(ne=>ne.machines.every(ue=>!ue.id||!ue.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[ee,". ",["Date","Unit","Machine & Interval","Item"][ee-1]]},ee))}),J=()=>{if(A)return i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(O){case 1:return i.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx(am,{selected:L.startDate,onChange:ee=>R(ne=>({...ne,startDate:ee})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),i.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:i.jsx(Lfe,{size:24})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx(am,{selected:L.endDate,onChange:ee=>R(ne=>({...ne,endDate:ee})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return i.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),i.jsxs("div",{className:"space-y-4",children:[L.units.map((ee,ne)=>{var ue;return i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Wn,{options:((ue=k==null?void 0:k.unitsWithMachines)==null?void 0:ue.map(Ae=>({value:Ae.id,label:Ae.name})))||[],value:ee.id?{value:ee.id,label:ee.name}:null,onChange:Ae=>H(ne,Ae),isClearable:!0,placeholder:"Pilih Unit",styles:B,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),L.units.length>1&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(ne),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:i.jsx(Ma,{size:20})})]},ne)}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[i.jsx(qi,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return i.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),i.jsx("div",{className:"space-y-6",children:L.units.map((ee,ne)=>ee.id&&i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[i.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:ee.name}),i.jsx("div",{className:"space-y-4",children:ee.machines.map((ue,Ae)=>{var ke,je,Ce,Be;return i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),i.jsx(Wn,{options:((Ce=(je=(ke=k==null?void 0:k.unitsWithMachines)==null?void 0:ke.find(fe=>fe.id===ee.id))==null?void 0:je.mesin)==null?void 0:Ce.map(fe=>({value:fe.id,label:fe.name})))||[],value:ue.id?{value:ue.id,label:ue.name}:null,onChange:fe=>W(ne,Ae,fe),isClearable:!0,placeholder:"Select Machine",styles:B})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),i.jsx(Wn,{options:((Be=k==null?void 0:k.intervals)==null?void 0:Be.map(fe=>({value:fe.id_interval,label:fe.type_interval})))||[],value:ue.intervalId?{value:ue.intervalId,label:ue.intervalType}:null,onChange:fe=>$(ne,Ae,fe),isClearable:!0,placeholder:ue.id?"Select Interval":"Please Select Machine",isDisabled:!ue.id||ue.items.length===0,styles:B})]})]}),ue.id&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",ue.items.length," item monitoring tersedia"]}),ue.intervalId&&i.jsxs("span",{className:"text-sm text-green-600",children:[ue.items.filter(fe=>fe.interval_id===ue.intervalId).length," item untuk interval ",ue.intervalType]})]}),ue.items.length===0&&i.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Y(ne,Ae),className:"text-red-500 hover:text-red-700",children:i.jsx(Ma,{size:20})})})]},Ae)})}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(ne),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[i.jsx(qi,{size:20,className:"mr-2"})," Add Machine"]})]},ne))})]},"step3");case 4:return i.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),i.jsx("div",{className:"space-y-6",children:L.units.map((ee,ne)=>ee.id&&ee.machines.map((ue,Ae)=>ue.id&&i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[i.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[ee.name," - ",ue.name]}),ue.items.length>0?i.jsx("div",{className:"space-y-4",children:ue.items.map((ke,je)=>i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[i.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[ke.item_mesin," (",ke.satuan,")"]}),ke.interval_type&&i.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:ke.interval_type}),ke.standard_min&&ke.standard_max&&i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",ke.standard_min," - ",ke.standard_max]}),ke.standard_visual&&i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",ke.standard_visual]})]},je))}):i.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${ne}-${Ae}`)))})]},"step4");default:return null}};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(_x,{}),isMobile:s,toggleSidebar:u}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),i.jsxs(E.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),U(),i.jsx(sr,{mode:"wait",children:J()}),i.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[O>1&&i.jsxs(E.button,{type:"button",onClick:()=>I(ee=>ee-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[i.jsx(If,{className:"mr-2 h-5 w-5"})," Back"]}),O<4?i.jsxs(E.button,{type:"button",onClick:()=>I(ee=>ee+1),disabled:X,whileHover:{scale:X?1:1.03},whileTap:{scale:X?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${X?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",i.jsx(Na,{className:"ml-2 h-5 w-5"})]}):i.jsx(E.button,{type:"button",onClick:Z,disabled:X||f,whileHover:{scale:X?1:1.03},whileTap:{scale:X?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${X||f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),i.jsx(FBe,{isOpen:b,onClose:ce,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},BBe="modulepreload",HBe=function(t){return"/"+t},uV={},CT=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=HBe(u),u in uV)return;uV[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":BBe,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var fu=Uint8Array,Al=Uint16Array,eL=Int32Array,tL=new fu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rL=new fu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dV=new fu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wne=function(t,e){for(var r=new Al(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new eL(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},jne=wne(tL,2),zBe=jne.b,H6=jne.r;zBe[28]=258,H6[258]=28;var qBe=wne(rL,0),fV=qBe.r,z6=new Al(32768);for(var Ua=0;Ua<32768;++Ua){var Ch=(Ua&43690)>>1|(Ua&21845)<<1;Ch=(Ch&52428)>>2|(Ch&13107)<<2,Ch=(Ch&61680)>>4|(Ch&3855)<<4,z6[Ua]=((Ch&65280)>>8|(Ch&255)<<8)>>1}var Eb=(function(t,e,r){for(var n=t.length,a=0,s=new Al(e);a<n;++a)t[a]&&++s[t[a]-1];var o=new Al(e);for(a=1;a<e;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new Al(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],m=o[t[a]-1]++<<f,g=m|(1<<f)-1;m<=g;++m)l[z6[m]>>c]=u}else for(l=new Al(n),a=0;a<n;++a)t[a]&&(l[a]=z6[o[t[a]-1]++]>>15-t[a]);return l}),Bp=new fu(288);for(var Ua=0;Ua<144;++Ua)Bp[Ua]=8;for(var Ua=144;Ua<256;++Ua)Bp[Ua]=9;for(var Ua=256;Ua<280;++Ua)Bp[Ua]=7;for(var Ua=280;Ua<288;++Ua)Bp[Ua]=8;var hN=new fu(32);for(var Ua=0;Ua<32;++Ua)hN[Ua]=5;var UBe=Eb(Bp,9,0),WBe=Eb(hN,5,0),Nne=function(t){return(t+7)/8|0},VBe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fu(t.subarray(e,r))},Zd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Yy=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},_T=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:kne,l:0};if(a==1){var o=new fu(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,O){return _.f-O.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[m].f?u++:m++],c=r[u!=f&&r[u].f<r[m].f?u++:m++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=s[0].s,n=1;n<a;++n)s[n].s>g&&(g=s[n].s);var p=new Al(g+1),v=q6(r[f-1],p,0);if(v>e){var n=0,w=0,b=v-e,N=1<<b;for(s.sort(function(O,I){return p[I.s]-p[O.s]||O.f-I.f});n<a;++n){var k=s[n].s;if(p[k]>e)w+=N-(1<<v-p[k]),p[k]=e;else break}for(w>>=b;w>0;){var S=s[n].s;p[S]<e?w-=1<<e-p[S]++-1:++n}for(;n>=0&&w;--n){var A=s[n].s;p[A]==e&&(--p[A],++w)}v=e}return{t:new fu(p),l:v}},q6=function(t,e,r){return t.s==-1?Math.max(q6(t.l,e,r+1),q6(t.r,e,r+1)):e[t.s]=r},hV=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Al(++e),n=0,a=t[0],s=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Ky=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Sne=function(t,e,r){var n=r.length,a=Nne(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},mV=function(t,e,r,n,a,s,o,l,c,u,f){Zd(e,f++,r),++a[256];for(var m=_T(a,15),g=m.t,p=m.l,v=_T(s,15),w=v.t,b=v.l,N=hV(g),k=N.c,S=N.n,A=hV(w),_=A.c,O=A.n,I=new Al(19),L=0;L<k.length;++L)++I[k[L]&31];for(var L=0;L<_.length;++L)++I[_[L]&31];for(var R=_T(I,7),B=R.t,D=R.l,M=19;M>4&&!B[dV[M-1]];--M);var H=u+5<<3,G=Ky(a,Bp)+Ky(s,hN)+o,Y=Ky(a,g)+Ky(s,w)+o+14+3*M+Ky(I,B)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&H<=G&&H<=Y)return Sne(e,f,t.subarray(c,c+u));var W,$,q,Z;if(Zd(e,f,1+(Y<G)),f+=2,Y<G){W=Eb(g,p,0),$=g,q=Eb(w,b,0),Z=w;var ce=Eb(B,D,0);Zd(e,f,S-257),Zd(e,f+5,O-1),Zd(e,f+10,M-4),f+=14;for(var L=0;L<M;++L)Zd(e,f+3*L,B[dV[L]]);f+=3*M;for(var X=[k,_],U=0;U<2;++U)for(var J=X[U],L=0;L<J.length;++L){var ee=J[L]&31;Zd(e,f,ce[ee]),f+=B[ee],ee>15&&(Zd(e,f,J[L]>>5&127),f+=J[L]>>12)}}else W=UBe,$=Bp,q=WBe,Z=hN;for(var L=0;L<l;++L){var ne=n[L];if(ne>255){var ee=ne>>18&31;Yy(e,f,W[ee+257]),f+=$[ee+257],ee>7&&(Zd(e,f,ne>>23&31),f+=tL[ee]);var ue=ne&31;Yy(e,f,q[ue]),f+=Z[ue],ue>3&&(Yy(e,f,ne>>5&8191),f+=rL[ue])}else Yy(e,f,W[ne]),f+=$[ne]}return Yy(e,f,W[256]),f+$[256]},GBe=new eL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kne=new fu(0),YBe=function(t,e,r,n,a,s){var o=s.z||t.length,l=new fu(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var m=GBe[e-1],g=m>>13,p=m&8191,v=(1<<r)-1,w=s.p||new Al(32768),b=s.h||new Al(v+1),N=Math.ceil(r/3),k=2*N,S=function(ae){return(t[ae]^t[ae+1]<<N^t[ae+2]<<k)&v},A=new eL(25e3),_=new Al(288),O=new Al(32),I=0,L=0,R=s.i||0,B=0,D=s.w||0,M=0;R+2<o;++R){var H=S(R),G=R&32767,Y=b[H];if(w[G]=Y,b[H]=G,D<=R){var W=o-R;if((I>7e3||B>24576)&&(W>423||!u)){f=mV(t,c,0,A,_,O,L,B,M,R-M,f),B=I=L=0,M=R;for(var $=0;$<286;++$)_[$]=0;for(var $=0;$<30;++$)O[$]=0}var q=2,Z=0,ce=p,X=G-Y&32767;if(W>2&&H==S(R-X))for(var U=Math.min(g,W)-1,J=Math.min(32767,R),ee=Math.min(258,W);X<=J&&--ce&&G!=Y;){if(t[R+q]==t[R+q-X]){for(var ne=0;ne<ee&&t[R+ne]==t[R+ne-X];++ne);if(ne>q){if(q=ne,Z=X,ne>U)break;for(var ue=Math.min(X,ne-2),Ae=0,$=0;$<ue;++$){var ke=R-X+$&32767,je=w[ke],Ce=ke-je&32767;Ce>Ae&&(Ae=Ce,Y=ke)}}}G=Y,Y=w[G],X+=G-Y&32767}if(Z){A[B++]=268435456|H6[q]<<18|fV[Z];var Be=H6[q]&31,fe=fV[Z]&31;L+=tL[Be]+rL[fe],++_[257+Be],++O[fe],D=R+q,++I}else A[B++]=t[R],++_[t[R]]}}for(R=Math.max(R,D);R<o;++R)A[B++]=t[R],++_[t[R]];f=mV(t,c,u,A,_,O,L,B,M,R-M,f),u||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=b,s.p=w,s.i=R,s.w=D)}else{for(var R=s.w||0;R<o+u;R+=65535){var ge=R+65535;ge>=o&&(c[f/8|0]=u,ge=o),f=Sne(c,f+1,t.subarray(R,ge))}s.i=o}return VBe(l,0,n+Nne(f)+a)},Cne=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},KBe=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fu(s.length+t.length);o.set(s),o.set(t,s.length),t=o,a.w=s.length}return YBe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},_ne=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},XBe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Cne();a.p(e.dictionary),_ne(t,2,a.d())}};function U6(t,e){e||(e={});var r=Cne();r.p(t);var n=KBe(t,e,e.dictionary?6:2,4);return XBe(n,e),_ne(n,n.length-4,r.d()),n}var JBe=typeof TextDecoder<"u"&&new TextDecoder,QBe=0;try{JBe.decode(kne,{stream:!0}),QBe=1}catch{}function pV(t,e="utf8"){return new TextDecoder(e).decode(t)}const ZBe=new TextEncoder;function eHe(t){return ZBe.encode(t)}const tHe=1024*8,rHe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),AT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nL{constructor(e=tHe,r={}){Kt(this,"buffer");Kt(this,"byteLength");Kt(this,"byteOffset");Kt(this,"length");Kt(this,"offset");Kt(this,"lastWrittenByte");Kt(this,"littleEndian");Kt(this,"_data");Kt(this,"_mark");Kt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,s=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof nL)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=AT[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===rHe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new AT[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new AT[r](s);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return pV(this.readBytes(e))}decodeText(e=1,r="utf8"){return pV(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(eHe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function $x(t){let e=t.length;for(;--e>=0;)t[e]=0}const nHe=3,aHe=258,Ane=29,iHe=256,sHe=iHe+1+Ane,Tne=30,oHe=512,lHe=new Array((sHe+2)*2);$x(lHe);const cHe=new Array(Tne*2);$x(cHe);const uHe=new Array(oHe);$x(uHe);const dHe=new Array(aHe-nHe+1);$x(dHe);const fHe=new Array(Ane);$x(fHe);const hHe=new Array(Tne);$x(hHe);const mHe=(t,e,r,n)=>{let a=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var W6=mHe;const pHe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},gHe=new Uint32Array(pHe()),xHe=(t,e,r,n)=>{const a=gHe,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var Iu=xHe,V6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mne={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const yHe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var bHe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)yHe(r,n)&&(t[n]=r[n])}}return t},vHe=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,s=t.length;n<s;n++){let o=t[n];r.set(o,a),a+=o.length}return r},One={assign:bHe,flattenChunks:vHe};let Ene=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ene=!1}const Bv=new Uint8Array(256);for(let t=0;t<256;t++)Bv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Bv[254]=Bv[254]=1;var wHe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,s,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const jHe=(t,e)=>{if(e<65534&&t.subarray&&Ene)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var NHe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){s[a++]=o;continue}let l=Bv[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return jHe(s,a)},SHe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Bv[t[r]]>e?r:e},G6={string2buf:wHe,buf2string:NHe,utf8border:SHe};function kHe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CHe=kHe;const o2=16209,_He=16191;var AHe=function(e,r){let n,a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,O,I,L,R,B;const D=e.state;n=e.next_in,R=e.input,a=n+(e.avail_in-5),s=e.next_out,B=e.output,o=s-(r-e.avail_out),l=s+(e.avail_out-257),c=D.dmax,u=D.wsize,f=D.whave,m=D.wnext,g=D.window,p=D.hold,v=D.bits,w=D.lencode,b=D.distcode,N=(1<<D.lenbits)-1,k=(1<<D.distbits)-1;e:do{v<15&&(p+=R[n++]<<v,v+=8,p+=R[n++]<<v,v+=8),S=w[p&N];t:for(;;){if(A=S>>>24,p>>>=A,v-=A,A=S>>>16&255,A===0)B[s++]=S&65535;else if(A&16){_=S&65535,A&=15,A&&(v<A&&(p+=R[n++]<<v,v+=8),_+=p&(1<<A)-1,p>>>=A,v-=A),v<15&&(p+=R[n++]<<v,v+=8,p+=R[n++]<<v,v+=8),S=b[p&k];r:for(;;){if(A=S>>>24,p>>>=A,v-=A,A=S>>>16&255,A&16){if(O=S&65535,A&=15,v<A&&(p+=R[n++]<<v,v+=8,v<A&&(p+=R[n++]<<v,v+=8)),O+=p&(1<<A)-1,O>c){e.msg="invalid distance too far back",D.mode=o2;break e}if(p>>>=A,v-=A,A=s-o,O>A){if(A=O-A,A>f&&D.sane){e.msg="invalid distance too far back",D.mode=o2;break e}if(I=0,L=g,m===0){if(I+=u-A,A<_){_-=A;do B[s++]=g[I++];while(--A);I=s-O,L=B}}else if(m<A){if(I+=u+m-A,A-=m,A<_){_-=A;do B[s++]=g[I++];while(--A);if(I=0,m<_){A=m,_-=A;do B[s++]=g[I++];while(--A);I=s-O,L=B}}}else if(I+=m-A,A<_){_-=A;do B[s++]=g[I++];while(--A);I=s-O,L=B}for(;_>2;)B[s++]=L[I++],B[s++]=L[I++],B[s++]=L[I++],_-=3;_&&(B[s++]=L[I++],_>1&&(B[s++]=L[I++]))}else{I=s-O;do B[s++]=B[I++],B[s++]=B[I++],B[s++]=B[I++],_-=3;while(_>2);_&&(B[s++]=B[I++],_>1&&(B[s++]=B[I++]))}}else if((A&64)===0){S=b[(S&65535)+(p&(1<<A)-1)];continue r}else{e.msg="invalid distance code",D.mode=o2;break e}break}}else if((A&64)===0){S=w[(S&65535)+(p&(1<<A)-1)];continue t}else if(A&32){D.mode=_He;break e}else{e.msg="invalid literal/length code",D.mode=o2;break e}break}}while(n<a&&s<l);_=v>>3,n-=_,v-=_<<3,p&=(1<<v)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<l?257+(l-s):257-(s-l),D.hold=p,D.bits=v};const W0=15,gV=852,xV=592,yV=0,TT=1,bV=2,THe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),MHe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OHe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),EHe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DHe=(t,e,r,n,a,s,o,l)=>{const c=l.bits;let u=0,f=0,m=0,g=0,p=0,v=0,w=0,b=0,N=0,k=0,S,A,_,O,I,L=null,R;const B=new Uint16Array(W0+1),D=new Uint16Array(W0+1);let M=null,H,G,Y;for(u=0;u<=W0;u++)B[u]=0;for(f=0;f<n;f++)B[e[r+f]]++;for(p=c,g=W0;g>=1&&B[g]===0;g--);if(p>g&&(p=g),g===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<g&&B[m]===0;m++);for(p<m&&(p=m),b=1,u=1;u<=W0;u++)if(b<<=1,b-=B[u],b<0)return-1;if(b>0&&(t===yV||g!==1))return-1;for(D[1]=0,u=1;u<W0;u++)D[u+1]=D[u]+B[u];for(f=0;f<n;f++)e[r+f]!==0&&(o[D[e[r+f]]++]=f);if(t===yV?(L=M=o,R=20):t===TT?(L=THe,M=MHe,R=257):(L=OHe,M=EHe,R=0),k=0,f=0,u=m,I=s,v=p,w=0,_=-1,N=1<<p,O=N-1,t===TT&&N>gV||t===bV&&N>xV)return 1;for(;;){H=u-w,o[f]+1<R?(G=0,Y=o[f]):o[f]>=R?(G=M[o[f]-R],Y=L[o[f]-R]):(G=96,Y=0),S=1<<u-w,A=1<<v,m=A;do A-=S,a[I+(k>>w)+A]=H<<24|G<<16|Y|0;while(A!==0);for(S=1<<u-1;k&S;)S>>=1;if(S!==0?(k&=S-1,k+=S):k=0,f++,--B[u]===0){if(u===g)break;u=e[r+o[f]]}if(u>p&&(k&O)!==_){for(w===0&&(w=p),I+=m,v=u-w,b=1<<v;v+w<g&&(b-=B[v+w],!(b<=0));)v++,b<<=1;if(N+=1<<v,t===TT&&N>gV||t===bV&&N>xV)return 1;_=k&O,a[_]=p<<24|v<<16|I-s|0}}return k!==0&&(a[I+k]=u-w<<24|64<<16|0),l.bits=p,0};var Db=DHe;const PHe=0,Dne=1,Pne=2,{Z_FINISH:vV,Z_BLOCK:LHe,Z_TREES:l2,Z_OK:Hp,Z_STREAM_END:RHe,Z_NEED_DICT:IHe,Z_STREAM_ERROR:Nc,Z_DATA_ERROR:Lne,Z_MEM_ERROR:Rne,Z_BUF_ERROR:FHe,Z_DEFLATED:wV}=Mne,RS=16180,jV=16181,NV=16182,SV=16183,kV=16184,CV=16185,_V=16186,AV=16187,TV=16188,MV=16189,mN=16190,ef=16191,MT=16192,OV=16193,OT=16194,EV=16195,DV=16196,PV=16197,LV=16198,c2=16199,u2=16200,RV=16201,IV=16202,FV=16203,$V=16204,BV=16205,ET=16206,HV=16207,zV=16208,Ja=16209,Ine=16210,Fne=16211,$He=852,BHe=592,HHe=15,zHe=HHe,qV=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qHe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<RS||e.mode>Fne?1:0},$ne=t=>{if(Kp(t))return Nc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=RS,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array($He),e.distcode=e.distdyn=new Int32Array(BHe),e.sane=1,e.back=-1,Hp},Bne=t=>{if(Kp(t))return Nc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,$ne(t)},Hne=(t,e)=>{let r;if(Kp(t))return Nc;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Bne(t))},zne=(t,e)=>{if(!t)return Nc;const r=new qHe;t.state=r,r.strm=t,r.window=null,r.mode=RS;const n=Hne(t,e);return n!==Hp&&(t.state=null),n},UHe=t=>zne(t,zHe);let UV=!0,DT,PT;const WHe=t=>{if(UV){DT=new Int32Array(512),PT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Db(Dne,t.lens,0,288,DT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Db(Pne,t.lens,0,32,PT,0,t.work,{bits:5}),UV=!1}t.lencode=DT,t.lenbits=9,t.distcode=PT,t.distbits=5},qne=(t,e,r,n)=>{let a;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},VHe=(t,e)=>{let r,n,a,s,o,l,c,u,f,m,g,p,v,w,b=0,N,k,S,A,_,O,I,L;const R=new Uint8Array(4);let B,D;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kp(t)||!t.output||!t.input&&t.avail_in!==0)return Nc;r=t.state,r.mode===ef&&(r.mode=MT),o=t.next_out,a=t.output,c=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,u=r.hold,f=r.bits,m=l,g=c,L=Hp;e:for(;;)switch(r.mode){case RS:if(r.wrap===0){r.mode=MT;break}for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0),u=0,f=0,r.mode=jV;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Ja;break}if((u&15)!==wV){t.msg="unknown compression method",r.mode=Ja;break}if(u>>>=4,f-=4,I=(u&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){t.msg="invalid window size",r.mode=Ja;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?MV:ef,u=0,f=0;break;case jV:for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==wV){t.msg="unknown compression method",r.mode=Ja;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ja;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0)),u=0,f=0,r.mode=NV;case NV:for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=Iu(r.check,R,4,0)),u=0,f=0,r.mode=SV;case SV:for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0)),u=0,f=0,r.mode=kV;case kV:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Iu(r.check,R,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=CV;case CV:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),I)),r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,s)),l-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=_V;case _V:if(r.flags&2048){if(l===0)break e;p=0;do I=n[s+p++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,s)),l-=p,s+=p,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=AV;case AV:if(r.flags&4096){if(l===0)break e;p=0;do I=n[s+p++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,s)),l-=p,s+=p,I)break e}else r.head&&(r.head.comment=null);r.mode=TV;case TV:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ja;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ef;break;case MV:for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}t.adler=r.check=qV(u),u=0,f=0,r.mode=mN;case mN:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,r.hold=u,r.bits=f,IHe;t.adler=r.check=1,r.mode=ef;case ef:if(e===LHe||e===l2)break e;case MT:if(r.last){u>>>=f&7,f-=f&7,r.mode=ET;break}for(;f<3;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=OV;break;case 1:if(WHe(r),r.mode=c2,e===l2){u>>>=2,f-=2;break e}break;case 2:r.mode=DV;break;case 3:t.msg="invalid block type",r.mode=Ja}u>>>=2,f-=2;break;case OV:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ja;break}if(r.length=u&65535,u=0,f=0,r.mode=OT,e===l2)break e;case OT:r.mode=EV;case EV:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;a.set(n.subarray(s,s+p),o),l-=p,s+=p,c-=p,o+=p,r.length-=p;break}r.mode=ef;break;case DV:for(;f<14;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ja;break}r.have=0,r.mode=PV;case PV:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.lens[M[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},L=Db(PHe,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,L){t.msg="invalid code lengths set",r.mode=Ja;break}r.have=0,r.mode=LV;case LV:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],N=b>>>24,k=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(S<16)u>>>=N,f-=N,r.lens[r.have++]=S;else{if(S===16){for(D=N+2;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(u>>>=N,f-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=Ja;break}I=r.lens[r.have-1],p=3+(u&3),u>>>=2,f-=2}else if(S===17){for(D=N+3;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=N,f-=N,I=0,p=3+(u&7),u>>>=3,f-=3}else{for(D=N+7;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=N,f-=N,I=0,p=11+(u&127),u>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ja;break}for(;p--;)r.lens[r.have++]=I}}if(r.mode===Ja)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ja;break}if(r.lenbits=9,B={bits:r.lenbits},L=Db(Dne,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,L){t.msg="invalid literal/lengths set",r.mode=Ja;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},L=Db(Pne,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,L){t.msg="invalid distances set",r.mode=Ja;break}if(r.mode=c2,e===l2)break e;case c2:r.mode=u2;case u2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,r.hold=u,r.bits=f,AHe(t,g),o=t.next_out,a=t.output,c=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,u=r.hold,f=r.bits,r.mode===ef&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],N=b>>>24,k=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(k&&(k&240)===0){for(A=N,_=k,O=S;b=r.lencode[O+((u&(1<<A+_)-1)>>A)],N=b>>>24,k=b>>>16&255,S=b&65535,!(A+N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=A,f-=A,r.back+=A}if(u>>>=N,f-=N,r.back+=N,r.length=S,k===0){r.mode=BV;break}if(k&32){r.back=-1,r.mode=ef;break}if(k&64){t.msg="invalid literal/length code",r.mode=Ja;break}r.extra=k&15,r.mode=RV;case RV:if(r.extra){for(D=r.extra;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=IV;case IV:for(;b=r.distcode[u&(1<<r.distbits)-1],N=b>>>24,k=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if((k&240)===0){for(A=N,_=k,O=S;b=r.distcode[O+((u&(1<<A+_)-1)>>A)],N=b>>>24,k=b>>>16&255,S=b&65535,!(A+N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=A,f-=A,r.back+=A}if(u>>>=N,f-=N,r.back+=N,k&64){t.msg="invalid distance code",r.mode=Ja;break}r.offset=S,r.extra=k&15,r.mode=FV;case FV:if(r.extra){for(D=r.extra;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ja;break}r.mode=$V;case $V:if(c===0)break e;if(p=g-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ja;break}p>r.wnext?(p-=r.wnext,v=r.wsize-p):v=r.wnext-p,p>r.length&&(p=r.length),w=r.window}else w=a,v=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do a[o++]=w[v++];while(--p);r.length===0&&(r.mode=u2);break;case BV:if(c===0)break e;a[o++]=r.length,c--,r.mode=u2;break;case ET:if(r.wrap){for(;f<32;){if(l===0)break e;l--,u|=n[s++]<<f,f+=8}if(g-=c,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Iu(r.check,a,g,o-g):W6(r.check,a,g,o-g)),g=c,r.wrap&4&&(r.flags?u:qV(u))!==r.check){t.msg="incorrect data check",r.mode=Ja;break}u=0,f=0}r.mode=HV;case HV:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ja;break}u=0,f=0}r.mode=zV;case zV:L=RHe;break e;case Ja:L=Lne;break e;case Ine:return Rne;case Fne:default:return Nc}return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,r.hold=u,r.bits=f,(r.wsize||g!==t.avail_out&&r.mode<Ja&&(r.mode<ET||e!==vV))&&qne(t,t.output,t.next_out,g-t.avail_out),m-=t.avail_in,g-=t.avail_out,t.total_in+=m,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Iu(r.check,a,g,t.next_out-g):W6(r.check,a,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ef?128:0)+(r.mode===c2||r.mode===OT?256:0),(m===0&&g===0||e===vV)&&L===Hp&&(L=FHe),L},GHe=t=>{if(Kp(t))return Nc;let e=t.state;return e.window&&(e.window=null),t.state=null,Hp},YHe=(t,e)=>{if(Kp(t))return Nc;const r=t.state;return(r.wrap&2)===0?Nc:(r.head=e,e.done=!1,Hp)},KHe=(t,e)=>{const r=e.length;let n,a,s;return Kp(t)||(n=t.state,n.wrap!==0&&n.mode!==mN)?Nc:n.mode===mN&&(a=1,a=W6(a,e,r,0),a!==n.check)?Lne:(s=qne(t,e,r,r),s?(n.mode=Ine,Rne):(n.havedict=1,Hp))};var XHe=Bne,JHe=Hne,QHe=$ne,ZHe=UHe,eze=zne,tze=VHe,rze=GHe,nze=YHe,aze=KHe,ize="pako inflate (from Nodeca project)",sf={inflateReset:XHe,inflateReset2:JHe,inflateResetKeep:QHe,inflateInit:ZHe,inflateInit2:eze,inflate:tze,inflateEnd:rze,inflateGetHeader:nze,inflateSetDictionary:aze,inflateInfo:ize};function sze(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oze=sze;const Une=Object.prototype.toString,{Z_NO_FLUSH:lze,Z_FINISH:cze,Z_OK:Hv,Z_STREAM_END:LT,Z_NEED_DICT:RT,Z_STREAM_ERROR:uze,Z_DATA_ERROR:WV,Z_MEM_ERROR:dze}=Mne;function p1(t){this.options=One.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CHe,this.strm.avail_out=0;let r=sf.inflateInit2(this.strm,e.windowBits);if(r!==Hv)throw new Error(V6[r]);if(this.header=new oze,sf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=G6.string2buf(e.dictionary):Une.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=sf.inflateSetDictionary(this.strm,e.dictionary),r!==Hv)))throw new Error(V6[r])}p1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?cze:lze,Une.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=sf.inflate(r,o),s===RT&&a&&(s=sf.inflateSetDictionary(r,a),s===Hv?s=sf.inflate(r,o):s===WV&&(s=RT));r.avail_in>0&&s===LT&&r.state.wrap>0&&t[r.next_in]!==0;)sf.inflateReset(r),s=sf.inflate(r,o);switch(s){case uze:case WV:case RT:case dze:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===LT))if(this.options.to==="string"){let c=G6.utf8border(r.output,r.next_out),u=r.next_out-c,f=G6.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Hv&&l===0)){if(s===LT)return s=sf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};p1.prototype.onData=function(t){this.chunks.push(t)};p1.prototype.onEnd=function(t){t===Hv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=One.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function fze(t,e){const r=new p1(e);if(r.push(t),r.err)throw r.msg||V6[r.err];return r.result}var hze=p1,mze=fze,pze={Inflate:hze,inflate:mze};const{Inflate:gze,inflate:xze}=pze;var VV=gze,yze=xze;const Wne=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Wne[t]=e}const GV=4294967295;function bze(t,e,r){let n=t;for(let a=0;a<r;a++)n=Wne[(n^e[a])&255]^n>>>8;return n}function vze(t,e){return(bze(GV,t,e)^GV)>>>0}function YV(t,e,r){const n=t.readUint32(),a=vze(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function Vne(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Gne(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function Yne(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function Kne(t,e,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-a]+r[s]>>1)&255}}function Xne(t,e,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+wze(e[s-a],r[s],r[s-a])&255}}function wze(t,e,r){const n=t+e-r,a=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-r);return a<=s&&a<=o?t:s<=o?e:r}function jze(t,e,r,n,a,s){switch(t){case 0:Vne(e,r,a);break;case 1:Gne(e,r,a,s);break;case 2:Yne(e,r,n,a);break;case 3:Kne(e,r,n,a,s);break;case 4:Xne(e,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Nze=new Uint16Array([255]),Sze=new Uint8Array(Nze.buffer),kze=Sze[0]===255;function Cze(t){const{data:e,width:r,height:n,channels:a,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let f=0;f<7;f++){const m=o[f],g=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(g<=0||p<=0)continue;const v=g*l,w=new Uint8Array(v);for(let b=0;b<p;b++){const N=e[u++],k=e.subarray(u,u+v);u+=v;const S=new Uint8Array(v);jze(N,k,S,w,v,l),w.set(S);for(let A=0;A<g;A++){const _=m.x+A*m.xStep,O=m.y+b*m.yStep;if(!(_>=r||O>=n))for(let I=0;I<l;I++)c[(O*r+_)*l+I]=S[A*l+I]}}}if(s===16){const f=new Uint16Array(c.buffer);if(kze)for(let m=0;m<f.length;m++)f[m]=_ze(f[m]);return f}else return c}function _ze(t){return(t&255)<<8|t>>8&255}const Aze=new Uint16Array([255]),Tze=new Uint8Array(Aze.buffer),Mze=Tze[0]===255,Oze=new Uint8Array(0);function KV(t){const{data:e,width:r,height:n,channels:a,depth:s}=t,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let u=Oze,f=0,m,g;for(let p=0;p<n;p++){switch(m=e.subarray(f+1,f+1+l),g=c.subarray(p*l,(p+1)*l),e[f]){case 0:Vne(m,g,l);break;case 1:Gne(m,g,l,o);break;case 2:Yne(m,g,u,l);break;case 3:Kne(m,g,u,l,o);break;case 4:Xne(m,g,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=g,f+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(Mze)for(let v=0;v<p.length;v++)p[v]=Eze(p[v]);return p}else return c}function Eze(t){return(t&255)<<8|t>>8&255}const z2=Uint8Array.of(137,80,78,71,13,10,26,10);function XV(t){if(!Dze(t.readBytes(z2.length)))throw new Error("wrong PNG signature")}function Dze(t){if(t.length<z2.length)return!1;for(let e=0;e<z2.length;e++)if(t[e]!==z2[e])return!1;return!0}const Pze="tEXt",Lze=0,Jne=new TextDecoder("latin1");function Rze(t){if(Fze(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Ize=/^[\u0000-\u00FF]*$/;function Fze(t){if(!Ize.test(t))throw new Error("invalid latin1 text")}function $ze(t,e,r){const n=Qne(e);t[n]=Bze(e,r-n.length-1)}function Qne(t){for(t.mark();t.readByte()!==Lze;);const e=t.offset;t.reset();const r=Jne.decode(t.readBytes(e-t.offset-1));return t.skip(1),Rze(r),r}function Bze(t,e){return Jne.decode(t.readBytes(e))}const wl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},IT={UNKNOWN:-1,DEFLATE:0},JV={UNKNOWN:-1,ADAPTIVE:0},FT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},d2={NONE:0,BACKGROUND:1,PREVIOUS:2},$T={SOURCE:0,OVER:1};class Hze extends nL{constructor(r,n={}){super(r);Kt(this,"_checkCrc");Kt(this,"_inflator");Kt(this,"_png");Kt(this,"_apng");Kt(this,"_end");Kt(this,"_hasPalette");Kt(this,"_palette");Kt(this,"_hasTransparency");Kt(this,"_transparency");Kt(this,"_compressionMethod");Kt(this,"_filterMethod");Kt(this,"_interlaceMethod");Kt(this,"_colorType");Kt(this,"_isAnimated");Kt(this,"_numberOfFrames");Kt(this,"_numberOfPlays");Kt(this,"_frames");Kt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new VV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=IT.UNKNOWN,this._filterMethod=JV.UNKNOWN,this._interlaceMethod=FT.UNKNOWN,this._colorType=wl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(XV(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(XV(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Pze:$ze(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?YV(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?YV(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=zze(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case wl.GREYSCALE:a=1;break;case wl.TRUECOLOUR:a=3;break;case wl.INDEXED_COLOUR:a=1;break;case wl.GREYSCALE_ALPHA:a=2;break;case wl.TRUECOLOUR_ALPHA:a=4;break;case wl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==IT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case wl.GREYSCALE:case wl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case wl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wl.UNKNOWN:case wl.GREYSCALE_ALPHA:case wl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Qne(this),a=this.readUint8();if(a!==IT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:yze(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=KV({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case d2.NONE:break;case d2.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case d2.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case $T.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[u+f]}break;case $T.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let f=0;f<this._png.channels;f++){const m=n.data[u+this._png.channels-1]/a,g=f%(this._png.channels-1)===0?1:n.data[u+f],p=Math.floor(m*g+(1-m)*r.data[c+f]);r.data[c+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==JV.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===FT.NO_INTERLACE)this._png.data=KV({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===FT.ADAM7)this._png.data=Cze({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:d2.NONE,blendOp:$T.SOURCE,data:r}),this._inflator=new VV,this._writingDataChunks=!1}}function zze(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var QV;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(QV||(QV={}));function qze(t,e){return new Hze(t,e).decode()}var Zr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function BT(){Zr.console&&typeof Zr.console.log=="function"&&Zr.console.log.apply(Zr.console,arguments)}var _a={log:BT,warn:function(t){Zr.console&&(typeof Zr.console.warn=="function"?Zr.console.warn.apply(Zr.console,arguments):BT.call(null,arguments))},error:function(t){Zr.console&&(typeof Zr.console.error=="function"?Zr.console.error.apply(Zr.console,arguments):BT(t))}};function HT(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Gm(n.response,e,r)},n.onerror=function(){_a.error("could not download file")},n.send()}function ZV(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function f2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Gm=Zr.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==Zr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Zr.URL||Zr.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?ZV(a.href)?HT(t,e,r):f2(a,a.target="_blank"):f2(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){f2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(ZV(t))HT(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){f2(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Hn(s)!=="object"&&(_a.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return HT(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(Zr.HTMLElement)||Zr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=Zr.URL||Zr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Zne(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var q2=Zr.atob.bind(Zr),eG=Zr.btoa.bind(Zr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zT(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=no(r,n,a,s,e[0],7,-680876936),s=no(s,r,n,a,e[1],12,-389564586),a=no(a,s,r,n,e[2],17,606105819),n=no(n,a,s,r,e[3],22,-1044525330),r=no(r,n,a,s,e[4],7,-176418897),s=no(s,r,n,a,e[5],12,1200080426),a=no(a,s,r,n,e[6],17,-1473231341),n=no(n,a,s,r,e[7],22,-45705983),r=no(r,n,a,s,e[8],7,1770035416),s=no(s,r,n,a,e[9],12,-1958414417),a=no(a,s,r,n,e[10],17,-42063),n=no(n,a,s,r,e[11],22,-1990404162),r=no(r,n,a,s,e[12],7,1804603682),s=no(s,r,n,a,e[13],12,-40341101),a=no(a,s,r,n,e[14],17,-1502002290),r=ao(r,n=no(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=ao(s,r,n,a,e[6],9,-1069501632),a=ao(a,s,r,n,e[11],14,643717713),n=ao(n,a,s,r,e[0],20,-373897302),r=ao(r,n,a,s,e[5],5,-701558691),s=ao(s,r,n,a,e[10],9,38016083),a=ao(a,s,r,n,e[15],14,-660478335),n=ao(n,a,s,r,e[4],20,-405537848),r=ao(r,n,a,s,e[9],5,568446438),s=ao(s,r,n,a,e[14],9,-1019803690),a=ao(a,s,r,n,e[3],14,-187363961),n=ao(n,a,s,r,e[8],20,1163531501),r=ao(r,n,a,s,e[13],5,-1444681467),s=ao(s,r,n,a,e[2],9,-51403784),a=ao(a,s,r,n,e[7],14,1735328473),r=io(r,n=ao(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=io(s,r,n,a,e[8],11,-2022574463),a=io(a,s,r,n,e[11],16,1839030562),n=io(n,a,s,r,e[14],23,-35309556),r=io(r,n,a,s,e[1],4,-1530992060),s=io(s,r,n,a,e[4],11,1272893353),a=io(a,s,r,n,e[7],16,-155497632),n=io(n,a,s,r,e[10],23,-1094730640),r=io(r,n,a,s,e[13],4,681279174),s=io(s,r,n,a,e[0],11,-358537222),a=io(a,s,r,n,e[3],16,-722521979),n=io(n,a,s,r,e[6],23,76029189),r=io(r,n,a,s,e[9],4,-640364487),s=io(s,r,n,a,e[12],11,-421815835),a=io(a,s,r,n,e[15],16,530742520),r=so(r,n=io(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=so(s,r,n,a,e[7],10,1126891415),a=so(a,s,r,n,e[14],15,-1416354905),n=so(n,a,s,r,e[5],21,-57434055),r=so(r,n,a,s,e[12],6,1700485571),s=so(s,r,n,a,e[3],10,-1894986606),a=so(a,s,r,n,e[10],15,-1051523),n=so(n,a,s,r,e[1],21,-2054922799),r=so(r,n,a,s,e[8],6,1873313359),s=so(s,r,n,a,e[15],10,-30611744),a=so(a,s,r,n,e[6],15,-1560198380),n=so(n,a,s,r,e[13],21,1309151649),r=so(r,n,a,s,e[4],6,-145523070),s=so(s,r,n,a,e[11],10,-1120210379),a=so(a,s,r,n,e[2],15,718787259),n=so(n,a,s,r,e[9],21,-343485551),t[0]=qh(r,t[0]),t[1]=qh(n,t[1]),t[2]=qh(a,t[2]),t[3]=qh(s,t[3])}function IS(t,e,r,n,a,s){return e=qh(qh(e,t),qh(n,s)),qh(e<<a|e>>>32-a,r)}function no(t,e,r,n,a,s,o){return IS(e&r|~e&n,t,e,a,s,o)}function ao(t,e,r,n,a,s,o){return IS(e&n|r&~n,t,e,a,s,o)}function io(t,e,r,n,a,s,o){return IS(e^r^n,t,e,a,s,o)}function so(t,e,r,n,a,s,o){return IS(r^(e|~n),t,e,a,s,o)}function eae(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zT(n,Uze(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(zT(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,zT(n,a),n}function Uze(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var tG="0123456789abcdef".split("");function Wze(t){for(var e="",r=0;r<4;r++)e+=tG[t>>8*r+4&15]+tG[t>>8*r&15];return e}function Vze(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Y6(t){return eae(t).map(Vze).join("")}var Gze=(function(t){for(var e=0;e<t.length;e++)t[e]=Wze(t[e]);return t.join("")})(eae("hello"))!="5d41402abc4b2a76b9719d911017c592";function qh(t,e){if(Gze){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function K6(t,e){var r,n,a,s;if(t!==r){for(var o=(a=t,s=1+(256/t.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=t,n=l}else l=n;var m=e.length,g=0,p=0,v="";for(c=0;c<m;c++)p=(p+(f=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=f,o=l[(l[g]+l[p])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rG={print:4,modify:8,copy:16,"annot-forms":32};function Z0(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(rG.perm!==void 0)throw new Error("Invalid permission: "+l);a+=rG[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=Y6(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=K6(this.encryptionKey,this.padding)}function eg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function nG(t){if(Hn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(l){Zr.console&&_a.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pN(t){if(!(this instanceof pN))return new pN(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function tae(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xm(t,e,r,n,a){if(!(this instanceof Xm))return new Xm(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,tae.call(this,n,a)}function fg(t,e,r,n,a){if(!(this instanceof fg))return new fg(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,tae.call(this,n,a)}function Ar(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",f=null;Hn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=nG;var v="1.3",w=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(z){v=z};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var N=p.__private__.getPageFormat=function(z){return b[z]};a=a||"a4";var k="compat",S="advanced",A=k;function _(){this.saveGraphicsState(),ie(new ze(vt,0,0,-vt,0,Oc()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),u="n",A=S}function O(){this.restoreGraphicsState(),u="S",A=k}var I=p.__private__.combineFontStyleAndFontWeight=function(z,oe){if(z=="bold"&&oe=="normal"||z=="bold"&&oe==400||z=="normal"&&oe=="italic"||z=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(z=oe==400||oe==="normal"?z==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||z!=="normal"?(oe==700?"bold":oe)+""+z:"bold"),z};p.advancedAPI=function(z){var oe=A===k;return oe&&_.call(this),typeof z!="function"||(z(this),oe&&O.call(this)),this},p.compatAPI=function(z){var oe=A===S;return oe&&O.call(this),typeof z!="function"||(z(this),oe&&_.call(this)),this},p.isAdvancedAPI=function(){return A===S};var L,R=function(z){if(A!==S)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=p.roundToPrecision=p.__private__.roundToPrecision=function(z,oe){var Oe=e||oe;if(isNaN(z)||isNaN(Oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(Oe).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof c=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return B(z,c)}:c==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return B(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return B(z,16)};var D=p.f2=p.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return B(z,2)},M=p.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return B(z,3)},H=p.scale=p.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return A===k?z*vt:A===S?z:void 0},G=function(z){return H((function(oe){return A===k?Oc()-oe:A===S?oe:void 0})(z))};p.__private__.setPrecision=p.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(e=parseInt(z,10))};var Y,W="00000000000000000000000000000000",$=p.__private__.getFileId=function(){return W},q=p.__private__.setFileId=function(z){return W=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ra=new Z0(f.userPermissions,f.userPassword,f.ownerPassword,W)),W};p.setFileId=function(z){return q(z),this},p.getFileId=function(){return $()};var Z=p.__private__.convertDateToPDFDate=function(z){var oe=z.getTimezoneOffset(),Oe=oe<0?"+":"-",He=Math.floor(Math.abs(oe/60)),rt=Math.abs(oe%60),Pt=[Oe,ee(He),"'",ee(rt),"'"].join("");return["D:",z.getFullYear(),ee(z.getMonth()+1),ee(z.getDate()),ee(z.getHours()),ee(z.getMinutes()),ee(z.getSeconds()),Pt].join("")},ce=p.__private__.convertPDFDateToDate=function(z){var oe=parseInt(z.substr(2,4),10),Oe=parseInt(z.substr(6,2),10)-1,He=parseInt(z.substr(8,2),10),rt=parseInt(z.substr(10,2),10),Pt=parseInt(z.substr(12,2),10),Bt=parseInt(z.substr(14,2),10);return new Date(oe,Oe,He,rt,Pt,Bt,0)},X=p.__private__.setCreationDate=function(z){var oe;if(z===void 0&&(z=new Date),z instanceof Date)oe=Z(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=z}return Y=oe},U=p.__private__.getCreationDate=function(z){var oe=Y;return z==="jsDate"&&(oe=ce(Y)),oe};p.setCreationDate=function(z){return X(z),this},p.getCreationDate=function(z){return U(z)};var J,ee=p.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},ne=p.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},ue=0,Ae=[],ke=[],je=0,Ce=[],Be=[],fe=!1,ge=ke;p.__private__.setCustomOutputDestination=function(z){fe=!0,ge=z};var ae=function(z){fe||(ge=z)};p.__private__.resetCustomOutputDestination=function(){fe=!1,ge=ke};var ie=p.__private__.out=function(z){return z=z.toString(),je+=z.length+1,ge.push(z),ge},ht=p.__private__.write=function(z){return ie(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},ut=p.__private__.getArrayBuffer=function(z){for(var oe=z.length,Oe=new ArrayBuffer(oe),He=new Uint8Array(Oe);oe--;)He[oe]=z.charCodeAt(oe);return Oe},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Pe};var Ke=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(z){return Ke=A===S?z/vt:z,this};var yt,Qe=p.__private__.getFontSize=p.getFontSize=function(){return A===k?Ke:Ke*vt},Tt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(z){return Tt=z,this},p.__private__.getR2L=p.getR2L=function(){return Tt};var _t,Se=p.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))yt=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');yt=z}else yt=parseInt(z,10)};p.__private__.getZoomMode=function(){return yt};var gt,at=p.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');_t=z};p.__private__.getPageMode=function(){return _t};var Nt=p.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');gt=z};p.__private__.getLayoutMode=function(){return gt},p.__private__.setDisplayMode=p.setDisplayMode=function(z,oe,Oe){return Se(z),Nt(oe),at(Oe),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(z){if(Object.keys(kt).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[z]},p.__private__.getDocumentProperties=function(){return kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(z){for(var oe in kt)kt.hasOwnProperty(oe)&&z[oe]&&(kt[oe]=z[oe]);return this},p.__private__.setDocumentProperty=function(z,oe){if(Object.keys(kt).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[z]=oe};var Ee,vt,bt,Je,Le,et={},lt={},be=[],me={},qe={},ft={},Ge={},we=null,K=0,ve=[],Re=new nG(p),Ue=t.hotfixes||[],st={},De={},Fe=[],ze=function z(oe,Oe,He,rt,Pt,Bt){if(!(this instanceof z))return new z(oe,Oe,He,rt,Pt,Bt);isNaN(oe)&&(oe=1),isNaN(Oe)&&(Oe=0),isNaN(He)&&(He=0),isNaN(rt)&&(rt=1),isNaN(Pt)&&(Pt=0),isNaN(Bt)&&(Bt=0),this._matrix=[oe,Oe,He,rt,Pt,Bt]};Object.defineProperty(ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ze.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(z)},ze.prototype.multiply=function(z){var oe=z.sx*this.sx+z.shy*this.shx,Oe=z.sx*this.shy+z.shy*this.sy,He=z.shx*this.sx+z.sy*this.shx,rt=z.shx*this.shy+z.sy*this.sy,Pt=z.tx*this.sx+z.ty*this.shx+this.tx,Bt=z.tx*this.shy+z.ty*this.sy+this.ty;return new ze(oe,Oe,He,rt,Pt,Bt)},ze.prototype.decompose=function(){var z=this.sx,oe=this.shy,Oe=this.shx,He=this.sy,rt=this.tx,Pt=this.ty,Bt=Math.sqrt(z*z+oe*oe),xr=(z/=Bt)*Oe+(oe/=Bt)*He;Oe-=z*xr,He-=oe*xr;var Nr=Math.sqrt(Oe*Oe+He*He);return xr/=Nr,z*(He/=Nr)<oe*(Oe/=Nr)&&(z=-z,oe=-oe,xr=-xr,Bt=-Bt),{scale:new ze(Bt,0,0,Nr,0,0),translate:new ze(1,0,0,1,rt,Pt),rotate:new ze(z,oe,-oe,z,0,0),skew:new ze(1,0,xr,1,0,0)}},ze.prototype.toString=function(z){return this.join(" ")},ze.prototype.inversed=function(){var z=this.sx,oe=this.shy,Oe=this.shx,He=this.sy,rt=this.tx,Pt=this.ty,Bt=1/(z*He-oe*Oe),xr=He*Bt,Nr=-oe*Bt,Wr=-Oe*Bt,tn=z*Bt;return new ze(xr,Nr,Wr,tn,-xr*rt-Wr*Pt,-Nr*rt-tn*Pt)},ze.prototype.applyToPoint=function(z){var oe=z.x*this.sx+z.y*this.shx+this.tx,Oe=z.x*this.shy+z.y*this.sy+this.ty;return new Fl(oe,Oe)},ze.prototype.applyToRectangle=function(z){var oe=this.applyToPoint(z),Oe=this.applyToPoint(new Fl(z.x+z.w,z.y+z.h));return new Ac(oe.x,oe.y,Oe.x-oe.x,Oe.y-oe.y)},ze.prototype.clone=function(){var z=this.sx,oe=this.shy,Oe=this.shx,He=this.sy,rt=this.tx,Pt=this.ty;return new ze(z,oe,Oe,He,rt,Pt)},p.Matrix=ze;var Rt=p.matrixMult=function(z,oe){return oe.multiply(z)},Ht=new ze(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ht;var Ut=function(z,oe){if(!qe[z]){var Oe=(oe instanceof Xm?"Sh":"P")+(Object.keys(me).length+1).toString(10);oe.id=Oe,qe[z]=Oe,me[Oe]=oe,Re.publish("addPattern",oe)}};p.ShadingPattern=Xm,p.TilingPattern=fg,p.addShadingPattern=function(z,oe){return R("addShadingPattern()"),Ut(z,oe),this},p.beginTilingPattern=function(z){R("beginTilingPattern()"),Cd(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},p.endTilingPattern=function(z,oe){R("endTilingPattern()"),oe.stream=Be[J].join(`
`),Ut(z,oe),Re.publish("endTilingPattern",oe),Fe.pop().restore()};var it,jt=p.__private__.newObject=function(){var z=Wt();return gr(z,!0),z},Wt=p.__private__.newObjectDeferred=function(){return ue++,Ae[ue]=function(){return je},ue},gr=function(z,oe){return oe=typeof oe=="boolean"&&oe,Ae[z]=je,oe&&ie(z+" 0 obj"),z},fn=p.__private__.newAdditionalObject=function(){var z={objId:Wt(),content:""};return Ce.push(z),z},gn=Wt(),nr=Wt(),Ur=p.__private__.decodeColorString=function(z){var oe=z.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length!==5||oe[4]!=="k"&&oe[4]!=="K"||(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Oe=parseFloat(oe[0]);oe=[Oe,Oe,Oe,"r"]}for(var He="#",rt=0;rt<3;rt++)He+=("0"+Math.floor(255*parseFloat(oe[rt])).toString(16)).slice(-2);return He},Kr=p.__private__.encodeColorString=function(z){var oe;typeof z=="string"&&(z={ch1:z});var Oe=z.ch1,He=z.ch2,rt=z.ch3,Pt=z.ch4,Bt=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Oe=="string"&&Oe.charAt(0)!=="#"){var xr=new Zne(Oe);if(xr.ok)Oe=xr.toHex();else if(!/^\d*\.?\d*$/.test(Oe))throw new Error('Invalid color "'+Oe+'" passed to jsPDF.encodeColorString.')}if(typeof Oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Oe)&&(Oe="#"+Oe[1]+Oe[1]+Oe[2]+Oe[2]+Oe[3]+Oe[3]),typeof Oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Oe)){var Nr=parseInt(Oe.substr(1),16);Oe=Nr>>16&255,He=Nr>>8&255,rt=255&Nr}if(He===void 0||Pt===void 0&&Oe===He&&He===rt)oe=typeof Oe=="string"?Oe+" "+Bt[0]:z.precision===2?D(Oe/255)+" "+Bt[0]:M(Oe/255)+" "+Bt[0];else if(Pt===void 0||Hn(Pt)==="object"){if(Pt&&!isNaN(Pt.a)&&Pt.a===0)return["1.","1.","1.",Bt[1]].join(" ");oe=typeof Oe=="string"?[Oe,He,rt,Bt[1]].join(" "):z.precision===2?[D(Oe/255),D(He/255),D(rt/255),Bt[1]].join(" "):[M(Oe/255),M(He/255),M(rt/255),Bt[1]].join(" ")}else oe=typeof Oe=="string"?[Oe,He,rt,Pt,Bt[2]].join(" "):z.precision===2?[D(Oe),D(He),D(rt),D(Pt),Bt[2]].join(" "):[M(Oe),M(He),M(rt),M(Pt),Bt[2]].join(" ");return oe},Zt=p.__private__.getFilters=function(){return o},Ze=p.__private__.putStream=function(z){var oe=(z=z||{}).data||"",Oe=z.filters||Zt(),He=z.alreadyAppliedFilters||[],rt=z.addLength1||!1,Pt=oe.length,Bt=z.objectId,xr=function(Oi){return Oi};if(f!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(xr=Ra.encryptor(Bt,0));var Nr={};Oe===!0&&(Oe=["FlateEncode"]);var Wr=z.additionalKeyValues||[],tn=(Nr=Ar.API.processDataByFilters!==void 0?Ar.API.processDataByFilters(oe,Oe):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(Nr.data.length!==0&&(Wr.push({key:"Length",value:Nr.data.length}),rt===!0&&Wr.push({key:"Length1",value:Pt})),tn.length!=0)if(tn.split("/").length-1==1)Wr.push({key:"Filter",value:tn});else{Wr.push({key:"Filter",value:"["+tn+"]"});for(var zn=0;zn<Wr.length;zn+=1)if(Wr[zn].key==="DecodeParms"){for(var Ia=[],ti=0;ti<Nr.reverseChain.split("/").length-1;ti+=1)Ia.push("null");Ia.push(Wr[zn].value),Wr[zn].value="["+Ia.join(" ")+"]"}}ie("<<");for(var pa=0;pa<Wr.length;pa++)ie("/"+Wr[pa].key+" "+Wr[pa].value);ie(">>"),Nr.data.length!==0&&(ie("stream"),ie(xr(Nr.data)),ie("endstream"))},tt=p.__private__.putPage=function(z){var oe=z.number,Oe=z.data,He=z.objId,rt=z.contentsObjId;gr(He,!0),ie("<</Type /Page"),ie("/Parent "+z.rootDictionaryObjId+" 0 R"),ie("/Resources "+z.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(L(z.mediaBox.bottomLeftX))+" "+parseFloat(L(z.mediaBox.bottomLeftY))+" "+L(z.mediaBox.topRightX)+" "+L(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&ie("/CropBox ["+L(z.cropBox.bottomLeftX)+" "+L(z.cropBox.bottomLeftY)+" "+L(z.cropBox.topRightX)+" "+L(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&ie("/BleedBox ["+L(z.bleedBox.bottomLeftX)+" "+L(z.bleedBox.bottomLeftY)+" "+L(z.bleedBox.topRightX)+" "+L(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&ie("/TrimBox ["+L(z.trimBox.bottomLeftX)+" "+L(z.trimBox.bottomLeftY)+" "+L(z.trimBox.topRightX)+" "+L(z.trimBox.topRightY)+"]"),z.artBox!==null&&ie("/ArtBox ["+L(z.artBox.bottomLeftX)+" "+L(z.artBox.bottomLeftY)+" "+L(z.artBox.topRightX)+" "+L(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&ie("/UserUnit "+z.userUnit),Re.publish("putPage",{objId:He,pageContext:ve[oe],pageNumber:oe,page:Oe}),ie("/Contents "+rt+" 0 R"),ie(">>"),ie("endobj");var Pt=Oe.join(`
`);return A===S&&(Pt+=`
Q`),gr(rt,!0),Ze({data:Pt,filters:Zt(),objectId:rt}),ie("endobj"),He},Mt=p.__private__.putPages=function(){var z,oe,Oe=[];for(z=1;z<=K;z++)ve[z].objId=Wt(),ve[z].contentsObjId=Wt();for(z=1;z<=K;z++)Oe.push(tt({number:z,data:Be[z],objId:ve[z].objId,contentsObjId:ve[z].contentsObjId,mediaBox:ve[z].mediaBox,cropBox:ve[z].cropBox,bleedBox:ve[z].bleedBox,trimBox:ve[z].trimBox,artBox:ve[z].artBox,userUnit:ve[z].userUnit,rootDictionaryObjId:gn,resourceDictionaryObjId:nr}));gr(gn,!0),ie("<</Type /Pages");var He="/Kids [";for(oe=0;oe<K;oe++)He+=Oe[oe]+" 0 R ";ie(He+"]"),ie("/Count "+K),ie(">>"),ie("endobj"),Re.publish("postPutPages")},de=function(z){Re.publish("putFont",{font:z,out:ie,newObject:jt,putStream:Ze}),z.isAlreadyPutted!==!0&&(z.objectNumber=jt(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+eg(z.postScriptName)),ie("/Subtype /Type1"),typeof z.encoding=="string"&&ie("/Encoding /"+z.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Ye=function(z){z.objectNumber=jt();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[L(z.x),L(z.y),L(z.x+z.width),L(z.y+z.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var Oe=z.pages[1].join(`
`);Ze({data:Oe,additionalKeyValues:oe,objectId:z.objectNumber}),ie("endobj")},wt=function(z,oe){oe||(oe=21);var Oe=jt(),He=(function(Bt,xr){var Nr,Wr=[],tn=1/(xr-1);for(Nr=0;Nr<1;Nr+=tn)Wr.push(Nr);if(Wr.push(1),Bt[0].offset!=0){var zn={offset:0,color:Bt[0].color};Bt.unshift(zn)}if(Bt[Bt.length-1].offset!=1){var Ia={offset:1,color:Bt[Bt.length-1].color};Bt.push(Ia)}for(var ti="",pa=0,Oi=0;Oi<Wr.length;Oi++){for(Nr=Wr[Oi];Nr>Bt[pa+1].offset;)pa++;var ui=Bt[pa].offset,ls=(Nr-ui)/(Bt[pa+1].offset-ui),Uo=Bt[pa].color,Zs=Bt[pa+1].color;ti+=ne(Math.round((1-ls)*Uo[0]+ls*Zs[0]).toString(16))+ne(Math.round((1-ls)*Uo[1]+ls*Zs[1]).toString(16))+ne(Math.round((1-ls)*Uo[2]+ls*Zs[2]).toString(16))}return ti.trim()})(z.colors,oe),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+oe+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:He,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Oe}),ie("endobj"),z.objectNumber=jt(),ie("<< /ShadingType "+z.type),ie("/ColorSpace /DeviceRGB");var Pt="/Coords ["+L(parseFloat(z.coords[0]))+" "+L(parseFloat(z.coords[1]))+" ";z.type===2?Pt+=L(parseFloat(z.coords[2]))+" "+L(parseFloat(z.coords[3])):Pt+=L(parseFloat(z.coords[2]))+" "+L(parseFloat(z.coords[3]))+" "+L(parseFloat(z.coords[4]))+" "+L(parseFloat(z.coords[5])),ie(Pt+="]"),z.matrix&&ie("/Matrix ["+z.matrix.toString()+"]"),ie("/Function "+Oe+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},or=function(z,oe){var Oe=Wt(),He=jt();oe.push({resourcesOid:Oe,objectOid:He}),z.objectNumber=He;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+z.boundingBox.map(L).join(" ")+"]"}),rt.push({key:"XStep",value:L(z.xStep)}),rt.push({key:"YStep",value:L(z.yStep)}),rt.push({key:"Resources",value:Oe+" 0 R"}),z.matrix&&rt.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),Ze({data:z.stream,additionalKeyValues:rt,objectId:z.objectNumber}),ie("endobj")},Jr=function(z){for(var oe in z.objectNumber=jt(),ie("<<"),z)switch(oe){case"opacity":ie("/ca "+D(z[oe]));break;case"stroke-opacity":ie("/CA "+D(z[oe]))}ie(">>"),ie("endobj")},Ot=function(z){gr(z.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var oe in ie("/Font <<"),et)et.hasOwnProperty(oe)&&(m===!1||m===!0&&g.hasOwnProperty(oe))&&ie("/"+oe+" "+et[oe].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(me).length>0){for(var oe in ie("/Shading <<"),me)me.hasOwnProperty(oe)&&me[oe]instanceof Xm&&me[oe].objectNumber>=0&&ie("/"+oe+" "+me[oe].objectNumber+" 0 R");Re.publish("putShadingPatternDict"),ie(">>")}})(),(function(oe){if(Object.keys(me).length>0){for(var Oe in ie("/Pattern <<"),me)me.hasOwnProperty(Oe)&&me[Oe]instanceof p.TilingPattern&&me[Oe].objectNumber>=0&&me[Oe].objectNumber<oe&&ie("/"+Oe+" "+me[Oe].objectNumber+" 0 R");Re.publish("putTilingPatternDict"),ie(">>")}})(z.objectOid),(function(){if(Object.keys(ft).length>0){var oe;for(oe in ie("/ExtGState <<"),ft)ft.hasOwnProperty(oe)&&ft[oe].objectNumber>=0&&ie("/"+oe+" "+ft[oe].objectNumber+" 0 R");Re.publish("putGStateDict"),ie(">>")}})(),(function(){for(var oe in ie("/XObject <<"),st)st.hasOwnProperty(oe)&&st[oe].objectNumber>=0&&ie("/"+oe+" "+st[oe].objectNumber+" 0 R");Re.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},tr=function(z){lt[z.fontName]=lt[z.fontName]||{},lt[z.fontName][z.fontStyle]=z.id},Mr=function(z,oe,Oe,He,rt){var Pt={id:"F"+(Object.keys(et).length+1).toString(10),postScriptName:z,fontName:oe,fontStyle:Oe,encoding:He,isStandardFont:rt||!1,metadata:{}};return Re.publish("addFont",{font:Pt,instance:this}),et[Pt.id]=Pt,tr(Pt),Pt.id},jr=p.__private__.pdfEscape=p.pdfEscape=function(z,oe){return(function(Oe,He){var rt,Pt,Bt,xr,Nr,Wr,tn,zn,Ia;if(Bt=(He=He||{}).sourceEncoding||"Unicode",Nr=He.outputEncoding,(He.autoencode||Nr)&&et[Ee].metadata&&et[Ee].metadata[Bt]&&et[Ee].metadata[Bt].encoding&&(xr=et[Ee].metadata[Bt].encoding,!Nr&&et[Ee].encoding&&(Nr=et[Ee].encoding),!Nr&&xr.codePages&&(Nr=xr.codePages[0]),typeof Nr=="string"&&(Nr=xr[Nr]),Nr)){for(tn=!1,Wr=[],rt=0,Pt=Oe.length;rt<Pt;rt++)(zn=Nr[Oe.charCodeAt(rt)])?Wr.push(String.fromCharCode(zn)):Wr.push(Oe[rt]),Wr[rt].charCodeAt(0)>>8&&(tn=!0);Oe=Wr.join("")}for(rt=Oe.length;tn===void 0&&rt!==0;)Oe.charCodeAt(rt-1)>>8&&(tn=!0),rt--;if(!tn)return Oe;for(Wr=He.noBOM?[]:[254,255],rt=0,Pt=Oe.length;rt<Pt;rt++){if((Ia=(zn=Oe.charCodeAt(rt))>>8)>>8)throw new Error("Character at position "+rt+" of string '"+Oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wr.push(Ia),Wr.push(zn-(Ia<<8))}return String.fromCharCode.apply(void 0,Wr)})(z,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cr=p.__private__.beginPage=function(z){Be[++K]=[],ve[K]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Hr(K),ae(Be[J])},Fr=function(z,oe){var Oe,He,rt;switch(r=oe||r,typeof z=="string"&&(Oe=N(z.toLowerCase()),Array.isArray(Oe)&&(He=Oe[0],rt=Oe[1])),Array.isArray(z)&&(He=z[0]*vt,rt=z[1]*vt),isNaN(He)&&(He=a[0],rt=a[1]),(He>14400||rt>14400)&&(_a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),rt=Math.min(14400,rt)),a=[He,rt],r.substr(0,1)){case"l":rt>He&&(a=[rt,He]);break;case"p":He>rt&&(a=[rt,He])}cr(a),yu(jd),ie(vo),Vf!==0&&ie(Vf+" J"),Vi!==0&&ie(Vi+" j"),Re.publish("addPage",{pageNumber:K})},ha=function(z){z>0&&z<=K&&(Be.splice(z,1),ve.splice(z,1),K--,J>K&&(J=K),this.setPage(J))},Hr=function(z){z>0&&z<=K&&(J=z)},Fs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Be.length-1},ma=function(z,oe,Oe){var He,rt=void 0;return Oe=Oe||{},z=z!==void 0?z:et[Ee].fontName,oe=oe!==void 0?oe:et[Ee].fontStyle,He=z.toLowerCase(),lt[He]!==void 0&&lt[He][oe]!==void 0?rt=lt[He][oe]:lt[z]!==void 0&&lt[z][oe]!==void 0?rt=lt[z][oe]:Oe.disableWarning===!1&&_a.warn("Unable to look up font label for font '"+z+"', '"+oe+"'. Refer to getFontList() for available fonts."),rt||Oe.noFallback||(rt=lt.times[oe])==null&&(rt=lt.times.normal),rt},wn=p.__private__.putInfo=function(){var z=jt(),oe=function(He){return He};for(var Oe in f!==null&&(oe=Ra.encryptor(z,0)),ie("<<"),ie("/Producer ("+jr(oe("jsPDF "+Ar.version))+")"),kt)kt.hasOwnProperty(Oe)&&kt[Oe]&&ie("/"+Oe.substr(0,1).toUpperCase()+Oe.substr(1)+" ("+jr(oe(kt[Oe]))+")");ie("/CreationDate ("+jr(oe(Y))+")"),ie(">>"),ie("endobj")},An=p.__private__.putCatalog=function(z){var oe=(z=z||{}).rootDictionaryObjId||gn;switch(jt(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+oe+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Oe=""+yt;Oe.substr(Oe.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+D(yt)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}_t&&ie("/PageMode /"+_t),Re.publish("putCatalog"),ie(">>"),ie("endobj")},en=p.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(ue+1)),ie("/Root "+ue+" 0 R"),ie("/Info "+(ue-1)+" 0 R"),f!==null&&ie("/Encrypt "+Ra.oid+" 0 R"),ie("/ID [ <"+W+"> <"+W+"> ]"),ie(">>")},In=p.__private__.putHeader=function(){ie("%PDF-"+v),ie("%")},Cc=p.__private__.putXRef=function(){var z="0000000000";ie("xref"),ie("0 "+(ue+1)),ie("0000000000 65535 f ");for(var oe=1;oe<=ue;oe++)typeof Ae[oe]=="function"?ie((z+Ae[oe]()).slice(-10)+" 00000 n "):Ae[oe]!==void 0?ie((z+Ae[oe]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Js=p.__private__.buildDocument=function(){var z;ue=0,je=0,ke=[],Ae=[],Ce=[],gn=Wt(),nr=Wt(),ae(ke),Re.publish("buildDocument"),In(),Mt(),(function(){Re.publish("putAdditionalObjects");for(var Oe=0;Oe<Ce.length;Oe++){var He=Ce[Oe];gr(He.objId,!0),ie(He.content),ie("endobj")}Re.publish("postPutAdditionalObjects")})(),z=[],(function(){for(var Oe in et)et.hasOwnProperty(Oe)&&(m===!1||m===!0&&g.hasOwnProperty(Oe))&&de(et[Oe])})(),(function(){var Oe;for(Oe in ft)ft.hasOwnProperty(Oe)&&Jr(ft[Oe])})(),(function(){for(var Oe in st)st.hasOwnProperty(Oe)&&Ye(st[Oe])})(),(function(Oe){var He;for(He in me)me.hasOwnProperty(He)&&(me[He]instanceof Xm?wt(me[He]):me[He]instanceof fg&&or(me[He],Oe))})(z),Re.publish("putResources"),z.forEach(Ot),Ot({resourcesOid:nr,objectOid:Number.MAX_SAFE_INTEGER}),Re.publish("postPutResources"),f!==null&&(Ra.oid=jt(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Ra.v),ie("/R "+Ra.r),ie("/U <"+Ra.toHexString(Ra.U)+">"),ie("/O <"+Ra.toHexString(Ra.O)+">"),ie("/P "+Ra.P),ie(">>"),ie("endobj")),wn(),An();var oe=je;return Cc(),en(),ie("startxref"),ie(""+oe),ie("%%EOF"),ae(Be[J]),ke.join(`
`)},yo=p.__private__.getBlob=function(z){return new Blob([ut(z)],{type:"application/pdf"})},Qs=p.output=p.__private__.output=(it=function(z,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",z){case void 0:return Js();case"save":p.save(oe.filename);break;case"arraybuffer":return ut(Js());case"blob":return yo(Js());case"bloburi":case"bloburl":if(Zr.URL!==void 0&&typeof Zr.URL.createObjectURL=="function")return Zr.URL&&Zr.URL.createObjectURL(yo(Js()))||void 0;_a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Oe="",He=Js();try{Oe=eG(He)}catch{Oe=eG(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(rt=oe.pdfObjectUrl,Pt="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",xr=Zr.open();return xr!==null&&xr.document.write(Bt),xr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',Wr=Zr.open();if(Wr!==null){Wr.document.write(Nr);var tn=this;Wr.document.documentElement.querySelector("#pdfViewer").onload=function(){Wr.document.title=oe.filename,Wr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tn.output("bloburl"))}}return Wr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',Ia=Zr.open();if(Ia!==null&&(Ia.document.write(zn),Ia.document.title=oe.filename),Ia||typeof safari>"u")return Ia;break;case"datauri":case"dataurl":return Zr.document.location.href=this.output("datauristring",oe);default:return null}},it.foo=function(){try{return it.apply(this,arguments)}catch(Oe){var z=Oe.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var oe="Error in function "+z.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!Zr.console)throw new Error(oe);Zr.console.error(oe,Oe),Zr.alert&&alert(oe)}},it.foo.bar=it,it.foo),qo=function(z){return Array.isArray(Ue)===!0&&Ue.indexOf(z)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=qo("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Ra=null;X(),q();var Wi=p.__private__.getPageInfo=p.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ve[z].objId,pageNumber:z,pageContext:ve[z]}},bd=p.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in ve)if(ve[oe].objId===z)break;return Wi(oe)},Uf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ve[J].objId,pageNumber:J,pageContext:ve[J]}};p.addPage=function(){return Fr.apply(this,arguments),this},p.setPage=function(){return Hr.apply(this,arguments),ae.call(this,Be[J]),this},p.insertPage=function(z){return this.addPage(),this.movePage(J,z),this},p.movePage=function(z,oe){var Oe,He;if(z>oe){Oe=Be[z],He=ve[z];for(var rt=z;rt>oe;rt--)Be[rt]=Be[rt-1],ve[rt]=ve[rt-1];Be[oe]=Oe,ve[oe]=He,this.setPage(oe)}else if(z<oe){Oe=Be[z],He=ve[z];for(var Pt=z;Pt<oe;Pt++)Be[Pt]=Be[Pt+1],ve[Pt]=ve[Pt+1];Be[oe]=Oe,ve[oe]=He,this.setPage(oe)}return this},p.deletePage=function(){return ha.apply(this,arguments),this},p.__private__.text=p.text=function(z,oe,Oe,He,rt){var Pt,Bt,xr,Nr,Wr,tn,zn,Ia,ti,pa=(He=He||{}).scope||this;if(typeof z=="number"&&typeof oe=="number"&&(typeof Oe=="string"||Array.isArray(Oe))){var Oi=Oe;Oe=oe,oe=z,z=Oi}if(arguments[3]instanceof ze==0?(xr=arguments[4],Nr=arguments[5],Hn(zn=arguments[3])==="object"&&zn!==null||(typeof xr=="string"&&(Nr=xr,xr=null),typeof zn=="string"&&(Nr=zn,zn=null),typeof zn=="number"&&(xr=zn,zn=null),He={flags:zn,angle:xr,align:Nr})):(R("The transform parameter of text() with a Matrix value"),ti=rt),isNaN(oe)||isNaN(Oe)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return pa;var ui,ls="",Uo=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:Rl,Zs=pa.internal.scaleFactor;function r0(qn){return qn=qn.split("	").join(Array(He.TabLen||9).join(" ")),jr(qn,zn)}function Yf(qn){for(var Pn,ga=qn.concat(),ni=[],Gl=ga.length;Gl--;)typeof(Pn=ga.shift())=="string"?ni.push(Pn):Array.isArray(qn)&&(Pn.length===1||Pn[1]===void 0&&Pn[2]===void 0)?ni.push(Pn[0]):ni.push([Pn[0],Pn[1],Pn[2]]);return ni}function Ad(qn,Pn){var ga;if(typeof qn=="string")ga=Pn(qn)[0];else if(Array.isArray(qn)){for(var ni,Gl,gl=qn.concat(),Od=[],wm=gl.length;wm--;)typeof(ni=gl.shift())=="string"?Od.push(Pn(ni)[0]):Array.isArray(ni)&&typeof ni[0]=="string"&&(Gl=Pn(ni[0],ni[1],ni[2]),Od.push([Gl[0],Gl[1],Gl[2]]));ga=Od}return ga}var Bl=!1,hl=!0;if(typeof z=="string")Bl=!0;else if(Array.isArray(z)){var Td=z.concat();Bt=[];for(var vu,cs=Td.length;cs--;)(typeof(vu=Td.shift())!="string"||Array.isArray(vu)&&typeof vu[0]!="string")&&(hl=!1);Bl=hl}if(Bl===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var wu=Ke/pa.internal.scaleFactor,ju=wu*(Uo-1);switch(He.baseline){case"bottom":Oe-=ju;break;case"top":Oe+=wu-ju;break;case"hanging":Oe+=wu-2*ju;break;case"middle":Oe+=wu/2-ju}if((tn=He.maxWidth||0)>0&&(typeof z=="string"?z=pa.splitTextToSize(z,tn):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(qn,Pn){return qn.concat(pa.splitTextToSize(Pn,tn))},[]))),Pt={text:z,x:oe,y:Oe,options:He,mutex:{pdfEscape:jr,activeFontKey:Ee,fonts:et,activeFontSize:Ke}},Re.publish("preProcessText",Pt),z=Pt.text,xr=(He=Pt.options).angle,ti instanceof ze==0&&xr&&typeof xr=="number"){xr*=Math.PI/180,He.rotationDirection===0&&(xr=-xr),A===S&&(xr=-xr);var Kf=Math.cos(xr),Hl=Math.sin(xr);ti=new ze(Kf,Hl,-Hl,Kf,0,0)}else xr&&xr instanceof ze&&(ti=xr);A!==S||ti||(ti=Ht),(Wr=He.charSpace||_c)!==void 0&&(ls+=L(H(Wr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ia=He.horizontalScale)!==void 0&&(ls+=L(100*Ia)+` Tz
`),He.lang;var Va=-1,Ec=He.renderingMode!==void 0?He.renderingMode:He.stroke,Xf=pa.internal.getCurrentPageInfo().pageContext;switch(Ec){case 0:case!1:case"fill":Va=0;break;case 1:case!0:case"stroke":Va=1;break;case 2:case"fillThenStroke":Va=2;break;case 3:case"invisible":Va=3;break;case 4:case"fillAndAddForClipping":Va=4;break;case 5:case"strokeAndAddPathForClipping":Va=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Va=6;break;case 7:case"addToPathForClipping":Va=7}var bm=Xf.usedRenderingMode!==void 0?Xf.usedRenderingMode:-1;Va!==-1?ls+=Va+` Tr
`:bm!==-1&&(ls+=`0 Tr
`),Va!==-1&&(Xf.usedRenderingMode=Va),Nr=He.align||"left";var jo,ml=Ke*Uo,Dc=pa.internal.pageSize.getWidth(),vm=et[Ee];Wr=He.charSpace||_c,tn=He.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},He.flags);var pl=[],Nu=function(qn){return pa.getStringUnitWidth(qn,{font:vm,charSpace:Wr,fontSize:Ke,doKerning:!1})*Ke/Zs};if(Object.prototype.toString.call(z)==="[object Array]"){var eo;Bt=Yf(z),Nr!=="left"&&(jo=Bt.map(Nu));var $s,zl=0;if(Nr==="right"){oe-=jo[0],z=[],cs=Bt.length;for(var ql=0;ql<cs;ql++)ql===0?($s=bo(oe),eo=ss(Oe)):($s=H(zl-jo[ql]),eo=-ml),z.push([Bt[ql],$s,eo]),zl=jo[ql]}else if(Nr==="center"){oe-=jo[0]/2,z=[],cs=Bt.length;for(var Pc=0;Pc<cs;Pc++)Pc===0?($s=bo(oe),eo=ss(Oe)):($s=H((zl-jo[Pc])/2),eo=-ml),z.push([Bt[Pc],$s,eo]),zl=jo[Pc]}else if(Nr==="left"){z=[],cs=Bt.length;for(var Jf=0;Jf<cs;Jf++)z.push(Bt[Jf])}else if(Nr==="justify"&&vm.encoding==="Identity-H"){z=[],cs=Bt.length,tn=tn!==0?tn:Dc;for(var Qf=0,ri=0;ri<cs;ri++)if(eo=ri===0?ss(Oe):-ml,$s=ri===0?bo(oe):Qf,ri<cs-1){var n0=H((tn-jo[ri])/(Bt[ri].split(" ").length-1)),Ul=Bt[ri].split(" ");z.push([Ul[0]+" ",$s,eo]),Qf=0;for(var Wl=1;Wl<Ul.length;Wl++){var us=(Nu(Ul[Wl-1]+" "+Ul[Wl])-Nu(Ul[Wl]))*Zs+n0;Wl==Ul.length-1?z.push([Ul[Wl],us,0]):z.push([Ul[Wl]+" ",us,0]),Qf-=us}}else z.push([Bt[ri],$s,eo]);z.push(["",Qf,0])}else{if(Nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],cs=Bt.length,tn=tn!==0?tn:Dc,ri=0;ri<cs;ri++){eo=ri===0?ss(Oe):-ml,$s=ri===0?bo(oe):0;var Lc=Bt[ri].split(" ").length-1,Zf=Lc>0?(tn-jo[ri])/Lc:0;ri<cs-1?pl.push(L(H(Zf))):pl.push(0),z.push([Bt[ri],$s,eo])}}}(typeof He.R2L=="boolean"?He.R2L:Tt)===!0&&(z=Ad(z,function(qn,Pn,ga){return[qn.split("").reverse().join(""),Pn,ga]})),Pt={text:z,x:oe,y:Oe,options:He,mutex:{pdfEscape:jr,activeFontKey:Ee,fonts:et,activeFontSize:Ke}},Re.publish("postProcessText",Pt),z=Pt.text,ui=Pt.mutex.isHex||!1;var eh=et[Ee].encoding;eh!=="WinAnsiEncoding"&&eh!=="StandardEncoding"||(z=Ad(z,function(qn,Pn,ga){return[r0(qn),Pn,ga]})),Bt=Yf(z),z=[];for(var Rc,Ic,Vl,Md=Array.isArray(Bt[0])?1:0,No="",Fc=function(qn,Pn,ga){var ni="";return ga instanceof ze?(ga=typeof He.angle=="number"?Rt(ga,new ze(1,0,0,1,qn,Pn)):Rt(new ze(1,0,0,1,qn,Pn),ga),A===S&&(ga=Rt(new ze(1,0,0,-1,0,0),ga)),ni=ga.join(" ")+` Tm
`):ni=L(qn)+" "+L(Pn)+` Td
`,ni},Ns=0;Ns<Bt.length;Ns++){switch(No="",Md){case 1:Vl=(ui?"<":"(")+Bt[Ns][0]+(ui?">":")"),Rc=parseFloat(Bt[Ns][1]),Ic=parseFloat(Bt[Ns][2]);break;case 0:Vl=(ui?"<":"(")+Bt[Ns]+(ui?">":")"),Rc=bo(oe),Ic=ss(Oe)}pl!==void 0&&pl[Ns]!==void 0&&(No=pl[Ns]+` Tw
`),Ns===0?z.push(No+Fc(Rc,Ic,ti)+Vl):Md===0?z.push(No+Vl):Md===1&&z.push(No+Fc(Rc,Ic,ti)+Vl)}z=Md===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Wo=`BT
/`;return Wo+=Ee+" "+Ke+` Tf
`,Wo+=L(Ke*Uo)+` TL
`,Wo+=Il+`
`,Wo+=ls,Wo+=z,ie(Wo+="ET"),g[Ee]=!0,pa};var vd=p.__private__.clip=p.clip=function(z){return ie(z==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return vd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ie("n"),this};var ns=p.__private__.isValidStyle=function(z){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(oe=!0),oe};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(z){return ns(z)&&(u=z),this};var wd=p.__private__.getStyle=p.getStyle=function(z){var oe=u;switch(z){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=z}return oe},se=p.close=function(){return ie("h"),this};p.stroke=function(){return ie("S"),this},p.fill=function(z){return re("f",z),this},p.fillEvenOdd=function(z){return re("f*",z),this},p.fillStroke=function(z){return re("B",z),this},p.fillStrokeEvenOdd=function(z){return re("B*",z),this};var re=function(z,oe){Hn(oe)==="object"?cn(oe,z):ie(z)},Ie=function(z){z===null||A===S&&z===void 0||(z=wd(z),ie(z))};function Qt(z,oe,Oe,He,rt){var Pt=new fg(oe||this.boundingBox,Oe||this.xStep,He||this.yStep,this.gState,rt||this.matrix);Pt.stream=this.stream;var Bt=z+"$$"+this.cloneIndex+++"$$";return Ut(Bt,Pt),Pt}var cn=function(z,oe){var Oe=qe[z.key],He=me[Oe];if(He instanceof Xm)ie("q"),ie(xn(oe)),He.gState&&p.setGState(He.gState),ie(z.matrix.toString()+" cm"),ie("/"+Oe+" sh"),ie("Q");else if(He instanceof fg){var rt=new ze(1,0,0,-1,0,Oc());z.matrix&&(rt=rt.multiply(z.matrix||Ht),Oe=Qt.call(He,z.key,z.boundingBox,z.xStep,z.yStep,rt).id),ie("q"),ie("/Pattern cs"),ie("/"+Oe+" scn"),He.gState&&p.setGState(He.gState),ie(oe),ie("Q")}},xn=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},as=p.moveTo=function(z,oe){return ie(L(H(z))+" "+L(G(oe))+" m"),this},is=p.lineTo=function(z,oe){return ie(L(H(z))+" "+L(G(oe))+" l"),this},Ti=p.curveTo=function(z,oe,Oe,He,rt,Pt){return ie([L(H(z)),L(G(oe)),L(H(Oe)),L(G(He)),L(H(rt)),L(G(Pt)),"c"].join(" ")),this};p.__private__.line=p.line=function(z,oe,Oe,He,rt){if(isNaN(z)||isNaN(oe)||isNaN(Oe)||isNaN(He)||!ns(rt))throw new Error("Invalid arguments passed to jsPDF.line");return A===k?this.lines([[Oe-z,He-oe]],z,oe,[1,1],rt||"S"):this.lines([[Oe-z,He-oe]],z,oe,[1,1]).stroke()},p.__private__.lines=p.lines=function(z,oe,Oe,He,rt,Pt){var Bt,xr,Nr,Wr,tn,zn,Ia,ti,pa,Oi,ui,ls;if(typeof z=="number"&&(ls=Oe,Oe=oe,oe=z,z=ls),He=He||[1,1],Pt=Pt||!1,isNaN(oe)||isNaN(Oe)||!Array.isArray(z)||!Array.isArray(He)||!ns(rt)||typeof Pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(as(oe,Oe),Bt=He[0],xr=He[1],Wr=z.length,Oi=oe,ui=Oe,Nr=0;Nr<Wr;Nr++)(tn=z[Nr]).length===2?(Oi=tn[0]*Bt+Oi,ui=tn[1]*xr+ui,is(Oi,ui)):(zn=tn[0]*Bt+Oi,Ia=tn[1]*xr+ui,ti=tn[2]*Bt+Oi,pa=tn[3]*xr+ui,Oi=tn[4]*Bt+Oi,ui=tn[5]*xr+ui,Ti(zn,Ia,ti,pa,Oi,ui));return Pt&&se(),Ie(rt),this},p.path=function(z){for(var oe=0;oe<z.length;oe++){var Oe=z[oe],He=Oe.c;switch(Oe.op){case"m":as(He[0],He[1]);break;case"l":is(He[0],He[1]);break;case"c":Ti.apply(this,He);break;case"h":se()}}return this},p.__private__.rect=p.rect=function(z,oe,Oe,He,rt){if(isNaN(z)||isNaN(oe)||isNaN(Oe)||isNaN(He)||!ns(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return A===k&&(He=-He),ie([L(H(z)),L(G(oe)),L(H(Oe)),L(H(He)),"re"].join(" ")),Ie(rt),this},p.__private__.triangle=p.triangle=function(z,oe,Oe,He,rt,Pt,Bt){if(isNaN(z)||isNaN(oe)||isNaN(Oe)||isNaN(He)||isNaN(rt)||isNaN(Pt)||!ns(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Oe-z,He-oe],[rt-Oe,Pt-He],[z-rt,oe-Pt]],z,oe,[1,1],Bt,!0),this},p.__private__.roundedRect=p.roundedRect=function(z,oe,Oe,He,rt,Pt,Bt){if(isNaN(z)||isNaN(oe)||isNaN(Oe)||isNaN(He)||isNaN(rt)||isNaN(Pt)||!ns(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xr=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*Oe),Pt=Math.min(Pt,.5*He),this.lines([[Oe-2*rt,0],[rt*xr,0,rt,Pt-Pt*xr,rt,Pt],[0,He-2*Pt],[0,Pt*xr,-rt*xr,Pt,-rt,Pt],[2*rt-Oe,0],[-rt*xr,0,-rt,-Pt*xr,-rt,-Pt],[0,2*Pt-He],[0,-Pt*xr,rt*xr,-Pt,rt,-Pt]],z+rt,oe,[1,1],Bt,!0),this},p.__private__.ellipse=p.ellipse=function(z,oe,Oe,He,rt){if(isNaN(z)||isNaN(oe)||isNaN(Oe)||isNaN(He)||!ns(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*Oe,Bt=4/3*(Math.SQRT2-1)*He;return as(z+Oe,oe),Ti(z+Oe,oe-Bt,z+Pt,oe-He,z,oe-He),Ti(z-Pt,oe-He,z-Oe,oe-Bt,z-Oe,oe),Ti(z-Oe,oe+Bt,z-Pt,oe+He,z,oe+He),Ti(z+Pt,oe+He,z+Oe,oe+Bt,z+Oe,oe),Ie(rt),this},p.__private__.circle=p.circle=function(z,oe,Oe,He){if(isNaN(z)||isNaN(oe)||isNaN(Oe)||!ns(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,oe,Oe,Oe,He)},p.setFont=function(z,oe,Oe){return Oe&&(oe=I(oe,Oe)),Ee=ma(z,oe,{disableWarning:!1}),this};var Mi=p.__private__.getFont=p.getFont=function(){return et[ma.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var z,oe,Oe={};for(z in lt)if(lt.hasOwnProperty(z))for(oe in Oe[z]=[],lt[z])lt[z].hasOwnProperty(oe)&&Oe[z].push(oe);return Oe},p.addFont=function(z,oe,Oe,He,rt){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pt.indexOf(arguments[3])!==-1?rt=arguments[3]:arguments[3]&&Pt.indexOf(arguments[3])==-1&&(Oe=I(Oe,He)),Mr.call(this,z,oe,Oe,rt=rt||"Identity-H")};var Rl,jd=t.lineWidth||.200025,$r=p.__private__.getLineWidth=p.getLineWidth=function(){return jd},yu=p.__private__.setLineWidth=p.setLineWidth=function(z){return jd=z,ie(L(H(z))+" w"),this};p.__private__.setLineDash=Ar.API.setLineDash=Ar.API.setLineDashPattern=function(z,oe){if(z=z||[],oe=oe||0,isNaN(oe)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(Oe){return L(H(Oe))}).join(" "),oe=L(H(oe)),ie("["+z+"] "+oe+" d"),this};var Jp=p.__private__.getLineHeight=p.getLineHeight=function(){return Ke*Rl};p.__private__.getLineHeight=p.getLineHeight=function(){return Ke*Rl};var xm=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(Rl=z),this},Qp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Rl};xm(t.lineHeight);var bo=p.__private__.getHorizontalCoordinate=function(z){return H(z)},ss=p.__private__.getVerticalCoordinate=function(z){return A===S?z:ve[J].mediaBox.topRightY-ve[J].mediaBox.bottomLeftY-H(z)},ym=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(z){return L(bo(z))},Nd=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(z){return L(ss(z))},vo=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ur(vo)},p.__private__.setStrokeColor=p.setDrawColor=function(z,oe,Oe,He){return vo=Kr({ch1:z,ch2:oe,ch3:Oe,ch4:He,pdfColorType:"draw",precision:2}),ie(vo),this};var Sd=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ur(Sd)},p.__private__.setFillColor=p.setFillColor=function(z,oe,Oe,He){return Sd=Kr({ch1:z,ch2:oe,ch3:Oe,ch4:He,pdfColorType:"fill",precision:2}),ie(Sd),this};var Il=t.textColor||"0 g",kd=p.__private__.getTextColor=p.getTextColor=function(){return Ur(Il)};p.__private__.setTextColor=p.setTextColor=function(z,oe,Oe,He){return Il=Kr({ch1:z,ch2:oe,ch3:Oe,ch4:He,pdfColorType:"text",precision:3}),this};var _c=t.charSpace,Wf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(_c||0)};p.__private__.setCharSpace=p.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _c=z,this};var Vf=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(z){var oe=p.CapJoinStyles[z];if(oe===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vf=oe,ie(oe+" J"),this};var Vi=0;p.__private__.setLineJoin=p.setLineJoin=function(z){var oe=p.CapJoinStyles[z];if(oe===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vi=oe,ie(oe+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(L(H(z))+" M"),this},p.GState=pN,p.setGState=function(z){(z=typeof z=="string"?ft[Ge[z]]:wo(null,z)).equals(we)||(ie("/"+z.id+" gs"),we=z)};var wo=function(z,oe){if(!z||!Ge[z]){var Oe=!1;for(var He in ft)if(ft.hasOwnProperty(He)&&ft[He].equals(oe)){Oe=!0;break}if(Oe)oe=ft[He];else{var rt="GS"+(Object.keys(ft).length+1).toString(10);ft[rt]=oe,oe.id=rt}return z&&(Ge[z]=oe.id),Re.publish("addGState",oe),oe}};p.addGState=function(z,oe){return wo(z,oe),this},p.saveGraphicsState=function(){return ie("q"),be.push({key:Ee,size:Ke,color:Il}),this},p.restoreGraphicsState=function(){ie("Q");var z=be.pop();return Ee=z.key,Ke=z.size,Il=z.color,we=null,this},p.setCurrentTransformationMatrix=function(z){return ie(z.toString()+" cm"),this},p.comment=function(z){return ie("#"+z),this};var Fl=function(z,oe){var Oe=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(Pt){isNaN(Pt)||(Oe=parseFloat(Pt))}});var He=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(Pt){isNaN(Pt)||(He=parseFloat(Pt))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(Pt){rt=Pt.toString()}}),this},Ac=function(z,oe,Oe,He){Fl.call(this,z,oe),this.type="rect";var rt=Oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(Bt){isNaN(Bt)||(rt=parseFloat(Bt))}});var Pt=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(Bt){isNaN(Bt)||(Pt=parseFloat(Bt))}}),this},Gf=function(){this.page=K,this.currentPage=J,this.pages=Be.slice(0),this.pagesContext=ve.slice(0),this.x=bt,this.y=Je,this.matrix=Le,this.width=bu(J),this.height=$l(J),this.outputDestination=ge,this.id="",this.objectNumber=-1};Gf.prototype.restore=function(){K=this.page,J=this.currentPage,ve=this.pagesContext,Be=this.pages,bt=this.x,Je=this.y,Le=this.matrix,_d(J,this.width),Mc(J,this.height),ge=this.outputDestination};var Cd=function(z,oe,Oe,He,rt){Fe.push(new Gf),K=J=0,Be=[],bt=z,Je=oe,Le=rt,cr([Oe,He])};for(var Tc in p.beginFormObject=function(z,oe,Oe,He,rt){return Cd(z,oe,Oe,He,rt),this},p.endFormObject=function(z){return(function(oe){if(De[oe])Fe.pop().restore();else{var Oe=new Gf,He="Xo"+(Object.keys(st).length+1).toString(10);Oe.id=He,De[oe]=He,st[He]=Oe,Re.publish("addFormObject",Oe),Fe.pop().restore()}})(z),this},p.doFormObject=function(z,oe){var Oe=st[De[z]];return ie("q"),ie(oe.toString()+" cm"),ie("/"+Oe.id+" Do"),ie("Q"),this},p.getFormObject=function(z){var oe=st[De[z]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},p.save=function(z,oe){return z=z||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(Gm(yo(Js()),z),typeof Gm.unload=="function"&&Zr.setTimeout&&setTimeout(Gm.unload,911),this):new Promise(function(Oe,He){try{var rt=Gm(yo(Js()),z);typeof Gm.unload=="function"&&Zr.setTimeout&&setTimeout(Gm.unload,911),Oe(rt)}catch(Pt){He(Pt.message)}})},Ar.API)Ar.API.hasOwnProperty(Tc)&&(Tc==="events"&&Ar.API.events.length?(function(z,oe){var Oe,He,rt;for(rt=oe.length-1;rt!==-1;rt--)Oe=oe[rt][0],He=oe[rt][1],z.subscribe.apply(z,[Oe].concat(typeof He=="function"?[He]:He))})(Re,Ar.API.events):p[Tc]=Ar.API[Tc]);function bu(z){return ve[z].mediaBox.topRightX-ve[z].mediaBox.bottomLeftX}function _d(z,oe){ve[z].mediaBox.topRightX=oe+ve[z].mediaBox.bottomLeftX}function $l(z){return ve[z].mediaBox.topRightY-ve[z].mediaBox.bottomLeftY}function Mc(z,oe){ve[z].mediaBox.topRightY=oe+ve[z].mediaBox.bottomLeftY}var Zp=p.getPageWidth=function(z){return bu(z=z||J)/vt},e0=p.setPageWidth=function(z,oe){_d(z,oe*vt)},Oc=p.getPageHeight=function(z){return $l(z=z||J)/vt},t0=p.setPageHeight=function(z,oe){Mc(z,oe*vt)};return p.internal={pdfEscape:jr,getStyle:wd,getFont:Mi,getFontSize:Qe,getCharSpace:Wf,getTextColor:kd,getLineHeight:Jp,getLineHeightFactor:Qp,getLineWidth:$r,write:ht,getHorizontalCoordinate:bo,getVerticalCoordinate:ss,getCoordinateString:ym,getVerticalCoordinateString:Nd,collections:{},newObject:jt,newAdditionalObject:fn,newObjectDeferred:Wt,newObjectDeferredBegin:gr,getFilters:Zt,putStream:Ze,events:Re,scaleFactor:vt,pageSize:{getWidth:function(){return Zp(J)},setWidth:function(z){e0(J,z)},getHeight:function(){return Oc(J)},setHeight:function(z){t0(J,z)}},encryptionOptions:f,encryption:Ra,getEncryptor:function(z){return f!==null?Ra.encryptor(z,0):function(oe){return oe}},output:Qs,getNumberOfPages:Fs,pages:Be,out:ie,f2:D,f3:M,getPageInfo:Wi,getPageInfoByObjId:bd,getCurrentPageInfo:Uf,getPDFVersion:w,Point:Fl,Rectangle:Ac,Matrix:ze,hasHotfix:qo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Zp(J)},set:function(z){e0(J,z)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Oc(J)},set:function(z){t0(J,z)},enumerable:!0,configurable:!0}),(function(z){for(var oe=0,Oe=Pe.length;oe<Oe;oe++){var He=Mr.call(this,z[oe][0],z[oe][1],z[oe][2],Pe[oe][3],!0);m===!1&&(g[He]=!0);var rt=z[oe][0].split("-");tr({id:He,fontName:rt[0],fontStyle:rt[1]||""})}Re.publish("addFonts",{fonts:et,dictionary:lt})}).call(p,Pe),Ee="F1",Fr(a,r),Re.publish("initialized"),p}Z0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Z0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Z0.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Z0.prototype.processOwnerPassword=function(t,e){return K6(Y6(e).substr(0,5),t)},Z0.prototype.encryptor=function(t,e){var r=Y6(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return K6(r,n)}},pN.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Hn(t)!==Hn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ar.API={events:[]},Ar.version="3.0.3";var yi=Ar.API,aL=1,Xp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},V0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},on=function(t){return t.toFixed(2)},_h=function(t){return t.toFixed(5)};yi.__acroform__={};var fl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},aG=function(t){return t*aL},Fu=function(t){var e=new nae,r=vr.internal.getHeight(t)||0,n=vr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(on(n)),Number(on(r))],e},Yze=yi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Kze=yi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Xze=yi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Li=yi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xze(t,e-1)},Ri=yi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Yze(t,e-1)},Ii=yi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Kze(t,e-1)},Jze=yi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(on(c.lowerLeft_X)),Number(on(c.lowerLeft_Y)),Number(on(c.upperRight_X)),Number(on(c.upperRight_Y))]},Qze=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=X6(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+on(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Fu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},X6=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=r,o=vr.internal.getHeight(t)||0;o=o<0?-o:o;var l=vr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(D,M,H){if(D+1<a.length){var G=M+" "+a[D+1][0];return h2(G,t,H).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=h2("3",t,s).height,g=t.multiline?o-s:(o-m)/2,p=g+=2,v=0,w=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+h2(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var N="",k=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var A=!1;if(a[S].length!==1&&b!==a[S].length-1){if((m+2)*(k+2)+2>o)continue e;N+=a[S][b],A=!0,w=S,S--}else{N=(N+=a[S][b]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var _=parseInt(S),O=c(_,N,s),I=S>=a.length-1;if(O&&!I){N+=" ",b=0;continue}if(O||I){if(I)w=_;else if(t.multiline&&(m+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(k+2)+2>o)continue e;w=_}}for(var L="",R=v;R<=w;R++){var B=a[R];if(t.multiline){if(R===w){L+=B[b]+" ",b=(b+1)%B.length;continue}if(R===v){L+=B[B.length-1]+" ";continue}}L+=B[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=h2(L,t,s).width,t.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;default:u=2}e+=on(u)+" "+on(p)+` Td
`,e+="("+Xp(L)+`) Tj
`,e+=-on(u)+` 0 Td
`,p=-(s+2),f=0,v=A?w:w+1,k++,N=""}break}return n.text=e,n.fontSize=s,n},h2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Zze={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eqe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},tqe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(gu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Zze)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");aL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new aae,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&eqe(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Jze(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vr.createDefaultAppearanceStream(l),Hn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Qze(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),m+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),m+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&(function(w,b){for(var N in w)if(w.hasOwnProperty(N)){var k=N,S=w[N];b.internal.newObjectDeferredBegin(S.objId,!0),Hn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete w[k]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},rae=yi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),Hn(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Xp(n(t[s].toString()))+")"):a+=t[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qT=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Xp(n(t))+")"},Qu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qu.prototype.toString=function(){return this.objId+" 0 R"},Qu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:rae(a,this.objId,this.scope)}):a instanceof Qu?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var nae=function(){Qu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fl(nae,Qu);var aae=function(){Qu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Xp(r(t))+")"}},set:function(r){t=r}})};fl(aae,Qu);var gu=function t(){Qu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(e,3)},set:function(N){N?this.F=Ri(e,3):this.F=Ii(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gN)return;s="FieldObject"+t.FieldNum++}var N=function(k){return k};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Xp(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/aL:u},set:function(N){u=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof gN||this instanceof Np))return qT(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ms==0?qT(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Ms==0?N.substr(0,1)==="("?V0(N.substr(1,N.length-2)):V0(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ms==1?V0(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Ms==1?"/"+N:N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ms==0?qT(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof Ms==0?N.substr(0,1)==="("?V0(N.substr(1,N.length-2)):V0(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ms==1?V0(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof Ms==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){N=!!N,w=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(N){v=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(N){N?this.Ff=Ri(this.Ff,1):this.Ff=Ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(N){N?this.Ff=Ri(this.Ff,2):this.Ff=Ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(N){N?this.Ff=Ri(this.Ff,3):this.Ff=Ii(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');b=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(b){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};fl(gu,Qu);var kg=function(){gu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rae(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(r){r?this.Ff=Ri(this.Ff,18):this.Ff=Ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ri(this.Ff,19):this.Ff=Ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(r){r?(this.Ff=Ri(this.Ff,20),e.sort()):this.Ff=Ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(r){r?this.Ff=Ri(this.Ff,22):this.Ff=Ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(r){r?this.Ff=Ri(this.Ff,23):this.Ff=Ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(r){r?this.Ff=Ri(this.Ff,27):this.Ff=Ii(this.Ff,27)}}),this.hasAppearanceStream=!1};fl(kg,gu);var Cg=function(){kg.call(this),this.fontName="helvetica",this.combo=!1};fl(Cg,kg);var _g=function(){Cg.call(this),this.combo=!0};fl(_g,Cg);var U2=function(){_g.call(this),this.edit=!0};fl(U2,_g);var Ms=function(){gu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(r){r?this.Ff=Ri(this.Ff,15):this.Ff=Ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(r){r?this.Ff=Ri(this.Ff,16):this.Ff=Ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(r){r?this.Ff=Ri(this.Ff,17):this.Ff=Ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(r){r?this.Ff=Ri(this.Ff,26):this.Ff=Ii(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Xp(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Hn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fl(Ms,gu);var W2=function(){Ms.call(this),this.pushButton=!0};fl(W2,Ms);var Ag=function(){Ms.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fl(Ag,Ms);var gN=function(){var t,e;gu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Xp(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fl(gN,gu),Ag.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ag.prototype.createOption=function(t){var e=new gN;return e.Parent=this,e.optionName=t,this.Kids.push(e),rqe.call(this.scope,e),e};var V2=function(){Ms.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vr.CheckBox.createAppearanceStream()};fl(V2,Ms);var Np=function(){gu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(e){e?this.Ff=Ri(this.Ff,13):this.Ff=Ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(e){e?this.Ff=Ri(this.Ff,21):this.Ff=Ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Ri(this.Ff,23):this.Ff=Ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(e){e?this.Ff=Ri(this.Ff,24):this.Ff=Ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(e){e?this.Ff=Ri(this.Ff,25):this.Ff=Ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Ri(this.Ff,26):this.Ff=Ii(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fl(Np,gu);var G2=function(){Np.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(t){t?this.Ff=Ri(this.Ff,14):this.Ff=Ii(this.Ff,14)}}),this.password=!0};fl(G2,Np);var vr={CheckBox:{createAppearanceStream:function(){return{N:{On:vr.CheckBox.YesNormal},D:{On:vr.CheckBox.YesPushDown,Off:vr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=X6(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+on(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=vr.internal.getHeight(t),o=vr.internal.getWidth(t),l=X6(t,t.caption);return a.push("1 g"),a.push("0 0 "+on(o)+" "+on(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+on(o-1)+" "+on(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+on(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vr.RadioButton.Circle.YesNormal,e.D[t]=vr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.getWidth(t)<=vr.internal.getHeight(t)?vr.internal.getWidth(t)/4:vr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=vr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+_h(vr.internal.getWidth(t)/2)+" "+_h(vr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.getWidth(t)<=vr.internal.getHeight(t)?vr.internal.getWidth(t)/4:vr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*vr.internal.Bezier_C).toFixed(5)),o=Number((n*vr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_h(vr.internal.getWidth(t)/2)+" "+_h(vr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+_h(vr.internal.getWidth(t)/2)+" "+_h(vr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.getWidth(t)<=vr.internal.getHeight(t)?vr.internal.getWidth(t)/4:vr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*vr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_h(vr.internal.getWidth(t)/2)+" "+_h(vr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vr.RadioButton.Cross.YesNormal,e.D[t]=vr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+on(vr.internal.getWidth(t)-2)+" "+on(vr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(on(n.x1.x)+" "+on(n.x1.y)+" m"),r.push(on(n.x2.x)+" "+on(n.x2.y)+" l"),r.push(on(n.x4.x)+" "+on(n.x4.y)+" m"),r.push(on(n.x3.x)+" "+on(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=vr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+on(vr.internal.getWidth(t)-2)+" "+on(vr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(on(r.x1.x)+" "+on(r.x1.y)+" m"),n.push(on(r.x2.x)+" "+on(r.x2.y)+" l"),n.push(on(r.x4.x)+" "+on(r.x4.y)+" m"),n.push(on(r.x3.x)+" "+on(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};vr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vr.internal.getWidth(t),r=vr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},vr.internal.getWidth=function(t){var e=0;return Hn(t)==="object"&&(e=aG(t.Rect[2])),e},vr.internal.getHeight=function(t){var e=0;return Hn(t)==="object"&&(e=aG(t.Rect[3])),e};var rqe=yi.addField=function(t){if(tqe(this,t),!(t instanceof gu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yi.AcroFormChoiceField=kg,yi.AcroFormListBox=Cg,yi.AcroFormComboBox=_g,yi.AcroFormEditBox=U2,yi.AcroFormButton=Ms,yi.AcroFormPushButton=W2,yi.AcroFormRadioButton=Ag,yi.AcroFormCheckBox=V2,yi.AcroFormTextField=Np,yi.AcroFormPasswordField=G2,yi.AcroFormAppearance=vr,yi.AcroForm={ChoiceField:kg,ListBox:Cg,ComboBox:_g,EditBox:U2,Button:Ms,PushButton:W2,RadioButton:Ag,CheckBox:V2,TextField:Np,PasswordField:G2,Appearance:vr},Ar.AcroForm={ChoiceField:kg,ListBox:Cg,ComboBox:_g,EditBox:U2,Button:Ms,PushButton:W2,RadioButton:Ag,CheckBox:V2,TextField:Np,PasswordField:G2,Appearance:vr};Ar.AcroForm;function iae(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(D,M){var H,G,Y,W,$,q=r;if((M=M||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(O(D))for($ in n)for(Y=n[$],H=0;H<Y.length;H+=1){for(W=!0,G=0;G<Y[H].length;G+=1)if(Y[H][G]!==void 0&&Y[H][G]!==D[G]){W=!1;break}if(W===!0){q=$;break}}else for($ in n)for(Y=n[$],H=0;H<Y.length;H+=1){for(W=!0,G=0;G<Y[H].length;G+=1)if(Y[H][G]!==void 0&&Y[H][G]!==D.charCodeAt(G)){W=!1;break}if(W===!0){q=$;break}}return q===r&&M!==r&&(q=M),q},s=function D(M){for(var H=this.internal.write,G=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:M.width}),W.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var $="",q=0,Z=M.transparency.length;q<Z;q++)$+=M.transparency[q]+" "+M.transparency[q]+" ";W.push({key:"Mask",value:"["+$+"]"})}M.sMask!==void 0&&W.push({key:"SMask",value:M.objectId+1+" 0 R"});var ce=M.filter!==void 0?["/"+M.filter]:void 0;if(G({data:M.data,additionalKeyValues:W,alreadyAppliedFilters:ce,objectId:M.objectId}),H("endobj"),"sMask"in M&&M.sMask!==void 0){var X,U=(X=M.sMaskBitsPerComponent)!==null&&X!==void 0?X:M.bitsPerComponent,J={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:M.sMask};"filter"in M&&(J.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(M.width),J.filter=M.filter),D.call(this,J)}if(M.colorSpace===N.INDEXED){var ee=this.internal.newObject();G({data:L(new Uint8Array(M.palette)),objectId:ee}),H("endobj")}},o=function(){var D=this.internal.collections[e+"images"];for(var M in D)s.call(this,D[M])},l=function(){var D,M=this.internal.collections[e+"images"],H=this.internal.write;for(var G in M)H("/I"+(D=M[G]).index,D.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var D=this.internal.collections[e+"images"];return c.call(this),D},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(D){return typeof t["process"+D.toUpperCase()]=="function"},g=function(D){return Hn(D)==="object"&&D.nodeType===1},p=function(D,M){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var H=""+D.getAttribute("src");if(H.indexOf("data:image/")===0)return q2(unescape(H).split("base64,").pop());var G=t.loadFile(H,!0);if(G!==void 0)return G}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Y;switch(M){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return q2(D.toDataURL(Y,1).split("base64,").pop())}},v=function(D){var M=this.internal.collections[e+"images"];if(M){for(var H in M)if(D===M[H].alias)return M[H]}},w=function(D,M,H){return D||M||(D=-96,M=-96),D<0&&(D=-1*H.width*72/D/this.internal.scaleFactor),M<0&&(M=-1*H.height*72/M/this.internal.scaleFactor),D===0&&(D=M*H.width/H.height),M===0&&(M=D*H.height/H.width),[D,M]},b=function(D,M,H,G,Y,W){var $=w.call(this,H,G,Y),q=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ce=u.call(this);if(H=$[0],G=$[1],ce[Y.index]=Y,W){W*=Math.PI/180;var X=Math.cos(W),U=Math.sin(W),J=function(ne){return ne.toFixed(4)},ee=[J(X),J(U),J(-1*U),J(X),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,q(D),Z(M+G),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([q(H),"0","0",q(G),"0","0","cm"].join(" "))):this.internal.write([q(H),"0","0",q(G),q(D),Z(M+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(D){var M,H,G=0;if(typeof D=="string")for(H=D.length,M=0;M<H;M++)G=(G<<5)-G+D.charCodeAt(M),G|=0;else if(O(D))for(H=D.byteLength/2,M=0;M<H;M++)G=(G<<5)-G+D[M],G|=0;return G},A=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var M=!0;return D.length===0&&(M=!1),D.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(M=!1),M},_=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var M=D.indexOf(",");return M<0?null:D.substring(0,M).trim().endsWith("base64")?D.substring(M+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(D){for(var M=D.length,H=new Uint8Array(M),G=0;G<M;G++)H[G]=D.charCodeAt(G);return H},L=t.__addimage__.arrayBufferToBinaryString=function(D){for(var M="",H=O(D)?D:new Uint8Array(D),G=0;G<H.length;G+=8192)M+=String.fromCharCode.apply(null,H.subarray(G,G+8192));return M};t.addImage=function(){var D,M,H,G,Y,W,$,q,Z;if(typeof arguments[1]=="number"?(M=r,H=arguments[1],G=arguments[2],Y=arguments[3],W=arguments[4],$=arguments[5],q=arguments[6],Z=arguments[7]):(M=arguments[1],H=arguments[2],G=arguments[3],Y=arguments[4],W=arguments[5],$=arguments[6],q=arguments[7],Z=arguments[8]),Hn(D=arguments[0])==="object"&&!g(D)&&"imageData"in D){var ce=D;D=ce.imageData,M=ce.format||M||r,H=ce.x||H||0,G=ce.y||G||0,Y=ce.w||ce.width||Y,W=ce.h||ce.height||W,$=ce.alias||$,q=ce.compression||q,Z=ce.rotation||ce.angle||Z}var X=this.internal.getFilters();if(q===void 0&&X.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(H)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=R.call(this,D,M,$,q);return b.call(this,H,G,Y,W,U,Z),this};var R=function(D,M,H,G){var Y,W,$;if(typeof D=="string"&&a(D)===r){D=unescape(D);var q=B(D,!1);(q!==""||(q=t.loadFile(D,!0))!==void 0)&&(D=q)}if(g(D)&&(D=p(D,M)),M=a(D,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if((($=H)==null||$.length===0)&&(H=(function(Z){return typeof Z=="string"||O(Z)?S(Z):O(Z.data)?S(Z.data):null})(D)),(Y=v.call(this,H))||(D instanceof Uint8Array||M==="RGBA"||(W=D,D=I(D)),Y=this["process"+M.toUpperCase()](D,f.call(this),H,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:k.NONE})(G),W)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},B=t.__addimage__.convertBase64ToBinaryString=function(D,M){M=typeof M!="boolean"||M;var H,G="";if(typeof D=="string"){var Y;H=(Y=_(D))!==null&&Y!==void 0?Y:D;try{G=q2(H)}catch(W){if(M)throw A(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(D){var M,H,G="";if(g(D)&&(D=p(D)),typeof D=="string"&&a(D)===r&&((G=B(D,!1))===""&&(G=t.loadFile(D)||""),D=G),H=a(D),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(D instanceof Uint8Array||(D=I(D)),!(M=this["process"+H.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=H,M}})(Ar.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(w.objId),k=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(N(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(N(k))+") >>",w.content=s;var S=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var O=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ar.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&a.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var b=0,N=r,k="",S=0;for(b=0;b<w.length;b+=1)N[w.charCodeAt(b)]!==void 0?(S++,typeof(N=N[w.charCodeAt(b)])=="number"&&(k+=String.fromCharCode(N),N=r,S=0),b===w.length-1&&(N=r,k+=w.charAt(b-(S-1)),b-=S-1,S=0)):(N=r,k+=w.charAt(b-S),b-=S,S=0);return k};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,b,N){return o(w)?s(w)===!1?-1:!u(w)||!o(b)&&!o(N)||!o(N)&&l(b)||l(w)&&!o(b)||l(w)&&c(b)||l(w)&&l(b)?0:f(w)&&o(b)&&!l(b)&&o(N)&&u(N)?3:l(w)||!o(N)?1:2:-1},p=function(w){var b=0,N=0,k=0,S="",A="",_="",O=(w=w||"").split("\\s+"),I=[];for(b=0;b<O.length;b+=1){for(I.push(""),N=0;N<O[b].length;N+=1)S=O[b][N],A=O[b][N-1],_=O[b][N+1],o(S)?(k=g(S,A,_),I[b]+=k!==-1?String.fromCharCode(e[S.charCodeAt(0)][k]):S):I[b]+=S;I[b]=m(I[b])}return I.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(b)){var k=0;for(N=[],k=0;k<b.length;k+=1)Array.isArray(b[k])?N.push([p(b[k][0]),b[k][1],b[k][2]]):N.push([p(b[k])]);w=N}else w=p(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",v])})(Ar.API),Ar.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ar.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(w){v=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,w=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=u.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,A){return S.concat(b.splitTextToSize(A,N))},[])):c=Array.isArray(c)?c:[c];for(var k=0;k<c.length;k++)p<(w=this.getStringUnitWidth(c[k],{font:m})*f)&&(p=w);return p!==0&&(v=c.length),{w:p/=g,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,f,m,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,v,w,b,N=[],k=[],S=[],A={},_={},O=[],I=[],L=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,B=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,D=g.margins||Object.assign({width:this.getPageWidth()},e),M=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",G=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=G,this.setFontSize(B),m==null)k=N=Object.keys(f[0]),S=N.map(function(){return"left"});else if(Array.isArray(m)&&Hn(m[0])==="object")for(N=m.map(function(ce){return ce.name}),k=m.map(function(ce){return ce.prompt||ce.name||""}),S=m.map(function(ce){return ce.align||"left"}),p=0;p<m.length;p+=1)_[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(k=N=m,S=N.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<N.length;p+=1){for(A[b=N[p]]=f.map(function(ce){return ce[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[b],this.setFont(void 0,"normal"),w=0;w<v.length;w+=1)O.push(this.getTextDimensions(v[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[b]=Math.max.apply(null,O)+M+M,O=[]}if(R){var Y={};for(p=0;p<N.length;p+=1)Y[N[p]]={},Y[N[p]].text=k[p],Y[N[p]].align=S[p];var W=l.call(this,Y,_);I=N.map(function(ce){return new s(c,u,_[ce],W,Y[ce].text,void 0,Y[ce].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var $=m.reduce(function(ce,X){return ce[X.name]=X.align,ce},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var q=l.call(this,f[p],_);for(w=0;w<N.length;w+=1){var Z=f[p][N[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:Z},this),o.call(this,new s(c,u,_[N[w]],q,Z,p+2,$[N[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/g+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Ar.API);var sae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J6=iae(oae),lae=[100,200,300,400,500,600,700,800,900],nqe=iae(lae);function UT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return sae[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),a=(function(s){return typeof J6[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function iG(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var aqe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function lG(t){return t.trimLeft()}function iqe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function sqe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var m2,cG,uG,G0,p2,dG,fG,hG,WT=["times"];function mG(t,e,r,n,a){var s=4,o=gG;switch(a){case Ar.API.image_compression.FAST:s=1,o=pG;break;case Ar.API.image_compression.MEDIUM:s=6,o=xG;break;case Ar.API.image_compression.SLOW:s=9,o=yG}t=(function(c,u,f,m){for(var g,p=c.length/u,v=new Uint8Array(c.length+p),w=[oqe,pG,gG,xG,yG],b=0;b<p;b+=1){var N=b*u,k=c.subarray(N,N+u);if(m)v.set(m(k,f,g),N+b);else{for(var S=w.length,A=[],_=0;_<S;_+=1)A[_]=w[_](k,f,g);var O=cqe(A.concat());v.set(A[O],N+b)}g=k}return v})(t,e,Math.ceil(r*n/8),o);var l=U6(t,{level:s});return Ar.API.__addimage__.arrayBufferToBinaryString(l)}function oqe(t){var e=Array.apply([],t);return e.unshift(0),e}function pG(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=t[a-e]||0;n[a+1]=t[a]-s+256&255}return n}function gG(t,e,r){var n=t.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=t[s]-o+256&255}return a}function xG(t,e,r){var n=t.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=t[s-e]||0,l=r&&r[s]||0;a[s+1]=t[s]+256-(o+l>>>1)&255}return a}function yG(t,e,r){var n=t.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=lqe(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);a[s+1]=t[s]-o+256&255}return a}function lqe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=a&&n<=s?t:a<=s?e:r}function cqe(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function VT(t,e,r){var n=e*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return cae(t,a)>>s&o}function bG(t,e,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var g=m>>8&255;u.setUint8(f,g)}})(t,s,cae(t,s)&~(l<<o)&65535|c)}function cae(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function uqe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var u=!0,f=[],m=0,g=null,p=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,A=t[e++],_=A>>6&1,O=1<<1+(7&A),I=l,L=c,R=!1;A>>7&&(R=!0,I=e,L=O,e+=3*O);var B=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}f.push({x:b,y:N,width:k,height:S,has_local_palette:R,palette_offset:I,palette_size:L,data_offset:B,data_length:e-B,transparent_index:g,interlaced:!!_,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,H){var G=this.frameInfo(M),Y=G.width*G.height,W=new Uint8Array(Y);vG(t,G.data_offset,W,Y);var $=G.palette_offset,q=G.transparent_index;q===null&&(q=256);var Z=G.width,ce=r-Z,X=Z,U=4*(G.y*r+G.x),J=4*((G.y+G.height)*r+G.x),ee=U,ne=4*ce;G.interlaced===!0&&(ne+=4*r*7);for(var ue=8,Ae=0,ke=W.length;Ae<ke;++Ae){var je=W[Ae];if(X===0&&(X=Z,(ee+=ne)>=J&&(ne=4*ce+4*r*(ue-1),ee=U+(Z+ce)*(ue<<1),ue>>=1)),je===q)ee+=4;else{var Ce=t[$+3*je],Be=t[$+3*je+1],fe=t[$+3*je+2];H[ee++]=fe,H[ee++]=Be,H[ee++]=Ce,H[ee++]=255}--X}},this.decodeAndBlitFrameRGBA=function(M,H){var G=this.frameInfo(M),Y=G.width*G.height,W=new Uint8Array(Y);vG(t,G.data_offset,W,Y);var $=G.palette_offset,q=G.transparent_index;q===null&&(q=256);var Z=G.width,ce=r-Z,X=Z,U=4*(G.y*r+G.x),J=4*((G.y+G.height)*r+G.x),ee=U,ne=4*ce;G.interlaced===!0&&(ne+=4*r*7);for(var ue=8,Ae=0,ke=W.length;Ae<ke;++Ae){var je=W[Ae];if(X===0&&(X=Z,(ee+=ne)>=J&&(ne=4*ce+4*r*(ue-1),ee=U+(Z+ce)*(ue<<1),ue>>=1)),je===q)ee+=4;else{var Ce=t[$+3*je],Be=t[$+3*je+1],fe=t[$+3*je+2];H[ee++]=Ce,H[ee++]=Be,H[ee++]=fe,H[ee++]=255}--X}}}function vG(t,e,r,n){for(var a=t[e++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,f=0,m=0,g=0,p=t[e++],v=new Int32Array(4096),w=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<c)break;var b=m&u;if(m>>=c,f-=c,b!==s){if(b===o)break;for(var N=b<l?b:w,k=0,S=N;S>s;)S=v[S]>>8,++k;var A=S;if(g+k+(N!==b?1:0)>n)return void _a.log("Warning, gif stream longer than expected.");r[g++]=A;var _=g+=k;for(N!==b&&(r[g++]=A),S=N;k--;)S=v[S],r[--_]=255&S,S>>=8;w!==null&&l<4096&&(v[l++]=w<<8|A,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=b}else l=o+1,u=(1<<(c=a+1))-1,w=null}return g!==n&&_a.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GT(t){var e,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),g=new Array(65535),p=new Array(64),v=new Array(64),w=[],b=0,N=7,k=new Array(64),S=new Array(64),A=new Array(64),_=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(U,J){for(var ee=0,ne=0,ue=new Array,Ae=1;Ae<=16;Ae++){for(var ke=1;ke<=U[Ae];ke++)ue[J[ne]]=[],ue[J[ne]][0]=ee,ue[J[ne]][1]=Ae,ne++,ee++;ee*=2}return ue}function $(U){for(var J=U[0],ee=U[1]-1;ee>=0;)J&1<<ee&&(b|=1<<N),ee--,--N<0&&(b==255?(q(255),q(0)):q(b),N=7,b=0)}function q(U){w.push(U)}function Z(U){q(U>>8&255),q(255&U)}function ce(U,J,ee,ne,ue){for(var Ae,ke=ue[0],je=ue[240],Ce=(function(Ke,yt){var Qe,Tt,_t,Se,gt,at,Nt,kt,Ee,vt,bt=0;for(Ee=0;Ee<8;++Ee){Qe=Ke[bt],Tt=Ke[bt+1],_t=Ke[bt+2],Se=Ke[bt+3],gt=Ke[bt+4],at=Ke[bt+5],Nt=Ke[bt+6];var Je=Qe+(kt=Ke[bt+7]),Le=Qe-kt,et=Tt+Nt,lt=Tt-Nt,be=_t+at,me=_t-at,qe=Se+gt,ft=Se-gt,Ge=Je+qe,we=Je-qe,K=et+be,ve=et-be;Ke[bt]=Ge+K,Ke[bt+4]=Ge-K;var Re=.707106781*(ve+we);Ke[bt+2]=we+Re,Ke[bt+6]=we-Re;var Ue=.382683433*((Ge=ft+me)-(ve=lt+Le)),st=.5411961*Ge+Ue,De=1.306562965*ve+Ue,Fe=.707106781*(K=me+lt),ze=Le+Fe,Rt=Le-Fe;Ke[bt+5]=Rt+st,Ke[bt+3]=Rt-st,Ke[bt+1]=ze+De,Ke[bt+7]=ze-De,bt+=8}for(bt=0,Ee=0;Ee<8;++Ee){Qe=Ke[bt],Tt=Ke[bt+8],_t=Ke[bt+16],Se=Ke[bt+24],gt=Ke[bt+32],at=Ke[bt+40],Nt=Ke[bt+48];var Ht=Qe+(kt=Ke[bt+56]),Ut=Qe-kt,it=Tt+Nt,jt=Tt-Nt,Wt=_t+at,gr=_t-at,fn=Se+gt,gn=Se-gt,nr=Ht+fn,Ur=Ht-fn,Kr=it+Wt,Zt=it-Wt;Ke[bt]=nr+Kr,Ke[bt+32]=nr-Kr;var Ze=.707106781*(Zt+Ur);Ke[bt+16]=Ur+Ze,Ke[bt+48]=Ur-Ze;var tt=.382683433*((nr=gn+gr)-(Zt=jt+Ut)),Mt=.5411961*nr+tt,de=1.306562965*Zt+tt,Ye=.707106781*(Kr=gr+jt),wt=Ut+Ye,or=Ut-Ye;Ke[bt+40]=or+Mt,Ke[bt+24]=or-Mt,Ke[bt+8]=wt+de,Ke[bt+56]=wt-de,bt++}for(Ee=0;Ee<64;++Ee)vt=Ke[Ee]*yt[Ee],p[Ee]=vt>0?vt+.5|0:vt-.5|0;return p})(U,J),Be=0;Be<64;++Be)v[I[Be]]=Ce[Be];var fe=v[0]-ee;ee=v[0],fe==0?$(ne[0]):($(ne[g[Ae=32767+fe]]),$(m[Ae]));for(var ge=63;ge>0&&v[ge]==0;)ge--;if(ge==0)return $(ke),ee;for(var ae,ie=1;ie<=ge;){for(var ht=ie;v[ie]==0&&ie<=ge;)++ie;var ut=ie-ht;if(ut>=16){ae=ut>>4;for(var Pe=1;Pe<=ae;++Pe)$(je);ut&=15}Ae=32767+v[ie],$(ue[(ut<<4)+g[Ae]]),$(m[Ae]),ie++}return ge!=63&&$(ke),ee}function X(U){U=Math.min(Math.max(U,1),100),s!=U&&((function(J){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ue=o((ee[ne]*J+50)/100);ue=Math.min(Math.max(ue,1),255),l[I[ne]]=ue}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var je=o((Ae[ke]*J+50)/100);je=Math.min(Math.max(je,1),255),c[I[ke]]=je}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,fe=0;fe<8;fe++)for(var ge=0;ge<8;ge++)u[Be]=1/(l[I[Be]]*Ce[fe]*Ce[ge]*8),f[Be]=1/(c[I[Be]]*Ce[fe]*Ce[ge]*8),Be++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,J){J&&X(J),w=new Array,b=0,N=7,Z(65496),Z(65504),Z(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Z(1),Z(1),q(0),q(0),(function(){Z(65499),Z(132),q(0);for(var Tt=0;Tt<64;Tt++)q(l[Tt]);q(1);for(var _t=0;_t<64;_t++)q(c[_t])})(),(function(Tt,_t){Z(65472),Z(17),q(8),Z(_t),Z(Tt),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)})(U.width,U.height),(function(){Z(65476),Z(418),q(0);for(var Tt=0;Tt<16;Tt++)q(L[Tt+1]);for(var _t=0;_t<=11;_t++)q(R[_t]);q(16);for(var Se=0;Se<16;Se++)q(B[Se+1]);for(var gt=0;gt<=161;gt++)q(D[gt]);q(1);for(var at=0;at<16;at++)q(M[at+1]);for(var Nt=0;Nt<=11;Nt++)q(H[Nt]);q(17);for(var kt=0;kt<16;kt++)q(G[kt+1]);for(var Ee=0;Ee<=161;Ee++)q(Y[Ee])})(),Z(65498),Z(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var ee=0,ne=0,ue=0;b=0,N=7,this.encode.displayName="_encode_";for(var Ae,ke,je,Ce,Be,fe,ge,ae,ie,ht=U.data,ut=U.width,Pe=U.height,Ke=4*ut,yt=0;yt<Pe;){for(Ae=0;Ae<Ke;){for(Be=Ke*yt+Ae,ge=-1,ae=0,ie=0;ie<64;ie++)fe=Be+(ae=ie>>3)*Ke+(ge=4*(7&ie)),yt+ae>=Pe&&(fe-=Ke*(yt+1+ae-Pe)),Ae+ge>=Ke&&(fe-=Ae+ge-Ke+4),ke=ht[fe++],je=ht[fe++],Ce=ht[fe++],k[ie]=(O[ke]+O[je+256|0]+O[Ce+512|0]>>16)-128,S[ie]=(O[ke+768|0]+O[je+1024|0]+O[Ce+1280|0]>>16)-128,A[ie]=(O[ke+1280|0]+O[je+1536|0]+O[Ce+1792|0]>>16)-128;ee=ce(k,u,ee,e,n),ne=ce(S,f,ne,r,a),ue=ce(A,f,ue,r,a),Ae+=32}yt+=8}if(N>=0){var Qe=[];Qe[1]=N+1,Qe[0]=(1<<N+1)-1,$(Qe)}return Z(65497),new Uint8Array(w)},t=t||50,(function(){for(var U=String.fromCharCode,J=0;J<256;J++)_[J]=U(J)})(),e=W(L,R),r=W(M,H),n=W(B,D),a=W(G,Y),(function(){for(var U=1,J=2,ee=1;ee<=15;ee++){for(var ne=U;ne<J;ne++)g[32767+ne]=ee,m[32767+ne]=[],m[32767+ne][1]=ee,m[32767+ne][0]=ne;for(var ue=-(J-1);ue<=-U;ue++)g[32767+ue]=ee,m[32767+ue]=[],m[32767+ue][1]=ee,m[32767+ue][0]=J-1+ue;U<<=1,J<<=1}})(),(function(){for(var U=0;U<256;U++)O[U]=19595*U,O[U+256|0]=38470*U,O[U+512|0]=7471*U+32768,O[U+768|0]=-11059*U,O[U+1024|0]=-21709*U,O[U+1280|0]=32768*U+8421375,O[U+1536|0]=-27439*U,O[U+1792|0]=-5329*U})(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Yc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wG(t){function e(R){if(!R)throw Error("assert :P")}function r(R,B,D){for(var M=0;4>M;M++)if(R[B+M]!=D.charCodeAt(M))return!0;return!1}function n(R,B,D,M,H){for(var G=0;G<H;G++)R[B+G]=D[M+G]}function a(R,B,D,M){for(var H=0;H<M;H++)R[B+H]=D}function s(R){return new Int32Array(R)}function o(R,B){for(var D=[],M=0;M<R;M++)D.push(new B);return D}function l(R,B){var D=[];return(function M(H,G,Y){for(var W=Y[G],$=0;$<W&&(H.push(Y.length>G+1?[]:new B),!(Y.length<G+1));$++)M(H[$],G+1,Y)})(D,0,R),D}var c=function(){var R=this;function B(C,P){for(var V=1<<P-1>>>0;C&V;)V>>>=1;return V?(C&V-1)+V:C}function D(C,P,V,Q,le){e(!(Q%V));do C[P+(Q-=V)]=le;while(0<Q)}function M(C,P,V,Q,le){if(e(2328>=le),512>=le)var pe=s(512);else if((pe=s(le))==null)return 0;return(function(xe,Ne,_e,Me,We,dt){var Te,Xe,ot=Ne,At=1<<_e,ct=s(16),Ct=s(16);for(e(We!=0),e(Me!=null),e(xe!=null),e(0<_e),Xe=0;Xe<We;++Xe){if(15<Me[Xe])return 0;++ct[Me[Xe]]}if(ct[0]==We)return 0;for(Ct[1]=0,Te=1;15>Te;++Te){if(ct[Te]>1<<Te)return 0;Ct[Te+1]=Ct[Te]+ct[Te]}for(Xe=0;Xe<We;++Xe)Te=Me[Xe],0<Me[Xe]&&(dt[Ct[Te]++]=Xe);if(Ct[15]==1)return(Me=new H).g=0,Me.value=dt[0],D(xe,ot,1,At,Me),At;var Lt,Vt=-1,$t=At-1,br=0,ur=1,Qr=1,mr=1<<_e;for(Xe=0,Te=1,We=2;Te<=_e;++Te,We<<=1){if(ur+=Qr<<=1,0>(Qr-=ct[Te]))return 0;for(;0<ct[Te];--ct[Te])(Me=new H).g=Te,Me.value=dt[Xe++],D(xe,ot+br,We,mr,Me),br=B(br,Te)}for(Te=_e+1,We=2;15>=Te;++Te,We<<=1){if(ur+=Qr<<=1,0>(Qr-=ct[Te]))return 0;for(;0<ct[Te];--ct[Te]){if(Me=new H,(br&$t)!=Vt){for(ot+=mr,Lt=1<<(Vt=Te)-_e;15>Vt&&!(0>=(Lt-=ct[Vt]));)++Vt,Lt<<=1;At+=mr=1<<(Lt=Vt-_e),xe[Ne+(Vt=br&$t)].g=Lt+_e,xe[Ne+Vt].value=ot-Ne-Vt}Me.g=Te-_e,Me.value=dt[Xe++],D(xe,ot+(br>>_e),We,mr,Me),br=B(br,Te)}}return ur!=2*Ct[15]-1?0:At})(C,P,V,Q,le,pe)}function H(){this.value=this.g=0}function G(){this.value=this.g=0}function Y(){this.G=o(5,H),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Nu,G)}function W(C,P,V,Q){e(C!=null),e(P!=null),e(2147483648>Q),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=P,C.pa=V,C.Jd=P,C.Yc=V+Q,C.Zc=4<=Q?V+Q-4+1:V,ke(C)}function $(C,P){for(var V=0;0<P--;)V|=Ce(C,128)<<P;return V}function q(C,P){var V=$(C,P);return je(C)?-V:V}function Z(C,P,V,Q){var le,pe=0;for(e(C!=null),e(P!=null),e(4294967288>Q),C.Sb=Q,C.Ra=0,C.u=0,C.h=0,4<Q&&(Q=4),le=0;le<Q;++le)pe+=P[V+le]<<8*le;C.Ra=pe,C.bb=Q,C.oa=P,C.pa=V}function ce(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<zl-8>>>0,++C.bb,C.u-=8;ne(C)&&(C.h=1,C.u=0)}function X(C,P){if(e(0<=P),!C.h&&P<=$s){var V=ee(C)&eo[P];return C.u+=P,ce(C),V}return C.h=1,C.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(C){return C.Ra>>>(C.u&zl-1)>>>0}function ne(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>zl}function ue(C,P){C.u=P,C.h=ne(C)}function Ae(C){C.u>=ql&&(e(C.u>=ql),ce(C))}function ke(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function je(C){return $(C,1)}function Ce(C,P){var V=C.Ca;0>C.b&&ke(C);var Q=C.b,le=V*P>>>8,pe=(C.I>>>Q>le)+0;for(pe?(V-=le,C.I-=le+1<<Q>>>0):V=le+1,Q=V,le=0;256<=Q;)le+=8,Q>>=8;return Q=7^le+Pc[Q],C.b-=Q,C.Ca=(V<<Q)-1,pe}function Be(C,P,V){C[P+0]=V>>24&255,C[P+1]=V>>16&255,C[P+2]=V>>8&255,C[P+3]=255&V}function fe(C,P){return C[P+0]|C[P+1]<<8}function ge(C,P){return fe(C,P)|C[P+2]<<16}function ae(C,P){return fe(C,P)|fe(C,P+2)<<16}function ie(C,P){var V=1<<P;return e(C!=null),e(0<P),C.X=s(V),C.X==null?0:(C.Mb=32-P,C.Xa=P,1)}function ht(C,P){e(C!=null),e(P!=null),e(C.Xa==P.Xa),n(P.X,0,C.X,0,1<<P.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function Pe(C,P,V,Q){e(V!=null),e(Q!=null);var le=V[0],pe=Q[0];return le==0&&(le=(C*pe+P/2)/P),pe==0&&(pe=(P*le+C/2)/C),0>=le||0>=pe?0:(V[0]=le,Q[0]=pe,1)}function Ke(C,P){return C+(1<<P)-1>>>P}function yt(C,P){return((4278255360&C)+(4278255360&P)>>>0&4278255360)+((16711935&C)+(16711935&P)>>>0&16711935)>>>0}function Qe(C,P){R[P]=function(V,Q,le,pe,xe,Ne,_e){var Me;for(Me=0;Me<xe;++Me){var We=R[C](Ne[_e+Me-1],le,pe+Me);Ne[_e+Me]=yt(V[Q+Me],We)}}}function Tt(){this.ud=this.hd=this.jd=0}function _t(C,P){return((4278124286&(C^P))>>>1)+(C&P)>>>0}function Se(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function gt(C,P){return Se(C+(C-P+.5>>1))}function at(C,P,V){return Math.abs(P-V)-Math.abs(C-V)}function Nt(C,P,V,Q,le,pe,xe){for(Q=pe[xe-1],V=0;V<le;++V)pe[xe+V]=Q=yt(C[P+V],Q)}function kt(C,P,V,Q,le){var pe;for(pe=0;pe<V;++pe){var xe=C[P+pe],Ne=xe>>8&255,_e=16711935&(_e=(_e=16711935&xe)+((Ne<<16)+Ne));Q[le+pe]=(4278255360&xe)+_e>>>0}}function Ee(C,P){P.jd=255&C,P.hd=C>>8&255,P.ud=C>>16&255}function vt(C,P,V,Q,le,pe){var xe;for(xe=0;xe<Q;++xe){var Ne=P[V+xe],_e=Ne>>>8,Me=Ne,We=255&(We=(We=Ne>>>16)+((C.jd<<24>>24)*(_e<<24>>24)>>>5));Me=255&(Me=(Me+=(C.hd<<24>>24)*(_e<<24>>24)>>>5)+((C.ud<<24>>24)*(We<<24>>24)>>>5)),le[pe+xe]=(4278255360&Ne)+(We<<16)+Me}}function bt(C,P,V,Q,le){R[P]=function(pe,xe,Ne,_e,Me,We,dt,Te,Xe){for(_e=dt;_e<Te;++_e)for(dt=0;dt<Xe;++dt)Me[We++]=le(Ne[Q(pe[xe++])])},R[C]=function(pe,xe,Ne,_e,Me,We,dt){var Te=8>>pe.b,Xe=pe.Ea,ot=pe.K[0],At=pe.w;if(8>Te)for(pe=(1<<pe.b)-1,At=(1<<Te)-1;xe<Ne;++xe){var ct,Ct=0;for(ct=0;ct<Xe;++ct)ct&pe||(Ct=Q(_e[Me++])),We[dt++]=le(ot[Ct&At]),Ct>>=Te}else R["VP8LMapColor"+V](_e,Me,ot,At,We,dt,xe,Ne,Xe)}}function Je(C,P,V,Q,le){for(V=P+V;P<V;){var pe=C[P++];Q[le++]=pe>>16&255,Q[le++]=pe>>8&255,Q[le++]=255&pe}}function Le(C,P,V,Q,le){for(V=P+V;P<V;){var pe=C[P++];Q[le++]=pe>>16&255,Q[le++]=pe>>8&255,Q[le++]=255&pe,Q[le++]=pe>>24&255}}function et(C,P,V,Q,le){for(V=P+V;P<V;){var pe=(xe=C[P++])>>16&240|xe>>12&15,xe=240&xe|xe>>28&15;Q[le++]=pe,Q[le++]=xe}}function lt(C,P,V,Q,le){for(V=P+V;P<V;){var pe=(xe=C[P++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;Q[le++]=pe,Q[le++]=xe}}function be(C,P,V,Q,le){for(V=P+V;P<V;){var pe=C[P++];Q[le++]=255&pe,Q[le++]=pe>>8&255,Q[le++]=pe>>16&255}}function me(C,P,V,Q,le,pe){if(pe==0)for(V=P+V;P<V;)Be(Q,((pe=C[P++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),le+=32;else n(Q,le,C,P,V)}function qe(C,P){R[P][0]=R[C+"0"],R[P][1]=R[C+"1"],R[P][2]=R[C+"2"],R[P][3]=R[C+"3"],R[P][4]=R[C+"4"],R[P][5]=R[C+"5"],R[P][6]=R[C+"6"],R[P][7]=R[C+"7"],R[P][8]=R[C+"8"],R[P][9]=R[C+"9"],R[P][10]=R[C+"10"],R[P][11]=R[C+"11"],R[P][12]=R[C+"12"],R[P][13]=R[C+"13"],R[P][14]=R[C+"0"],R[P][15]=R[C+"0"]}function ft(C){return C==_m||C==l0||C==rh||C==c0}function Ge(){this.eb=[],this.size=this.A=this.fb=0}function we(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function K(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ge,this.f.kb=new we,this.sd=null}function ve(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Re(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ue(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function st(C,P){var V=C.T,Q=P.ba.f.RGBA,le=Q.eb,pe=Q.fb+C.ka*Q.A,xe=hs[P.ba.S],Ne=C.y,_e=C.O,Me=C.f,We=C.N,dt=C.ea,Te=C.W,Xe=P.cc,ot=P.dc,At=P.Mc,ct=P.Nc,Ct=C.ka,Lt=C.ka+C.T,Vt=C.U,$t=Vt+1>>1;for(Ct==0?xe(Ne,_e,null,null,Me,We,dt,Te,Me,We,dt,Te,le,pe,null,null,Vt):(xe(P.ec,P.fc,Ne,_e,Xe,ot,At,ct,Me,We,dt,Te,le,pe-Q.A,le,pe,Vt),++V);Ct+2<Lt;Ct+=2)Xe=Me,ot=We,At=dt,ct=Te,We+=C.Rc,Te+=C.Rc,pe+=2*Q.A,xe(Ne,(_e+=2*C.fa)-C.fa,Ne,_e,Xe,ot,At,ct,Me,We,dt,Te,le,pe-Q.A,le,pe,Vt);return _e+=C.fa,C.j+Lt<C.o?(n(P.ec,P.fc,Ne,_e,Vt),n(P.cc,P.dc,Me,We,$t),n(P.Mc,P.Nc,dt,Te,$t),V--):1&Lt||xe(Ne,_e,null,null,Me,We,dt,Te,Me,We,dt,Te,le,pe+Q.A,null,null,Vt),V}function De(C,P,V){var Q=C.F,le=[C.J];if(Q!=null){var pe=C.U,xe=P.ba.S,Ne=xe==Cm||xe==rh;P=P.ba.f.RGBA;var _e=[0],Me=C.ka;_e[0]=C.T,C.Kb&&(Me==0?--_e[0]:(--Me,le[0]-=C.width),C.j+C.ka+C.T==C.o&&(_e[0]=C.o-C.j-Me));var We=P.eb;Me=P.fb+Me*P.A,C=jm(Q,le[0],C.width,pe,_e,We,Me+(Ne?0:3),P.A),e(V==_e),C&&ft(xe)&&Ed(We,Me,Ne,pe,_e,P.A)}return 0}function Fe(C){var P=C.ma,V=P.ba.S,Q=11>V,le=V==ks||V==Go||V==Cm||V==th||V==12||ft(V);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!Dc(P.Oa,C,le?11:12))return 0;if(le&&ft(V)&&r0(),C.da)alert("todo:use_scaling");else{if(Q){if(P.Ib=Ue,C.Kb){if(V=C.U+1>>1,P.memory=s(C.U+2*V),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+C.U,P.Mc=P.cc,P.Nc=P.dc+V,P.Ib=st,r0()}}else alert("todo:EmitYUV");le&&(P.Jb=De,Q&&Uo())}if(Q&&!Mu){for(C=0;256>C;++C)ms[C]=89858*(C-128)+ih>>Zo,$S[C]=-22014*(C-128)+ih,w1[C]=-45773*(C-128),m0[C]=113618*(C-128)+ih>>Zo;for(C=Rd;C<Tu;++C)P=76283*(C-16)+ih>>Zo,BS[C-Rd]=Va(P,255),HS[C-Rd]=Va(P+8>>4,15);Mu=1}return 1}function ze(C){var P=C.ma,V=C.U,Q=C.T;return e(!(1&C.ka)),0>=V||0>=Q?0:(V=P.Ib(C,P),P.Jb!=null&&P.Jb(C,P,V),P.Dc+=V,1)}function Rt(C){C.ma.memory=null}function Ht(C,P,V,Q){return X(C,8)!=47?0:(P[0]=X(C,14)+1,V[0]=X(C,14)+1,Q[0]=X(C,1),X(C,3)!=0?0:!C.h)}function Ut(C,P){if(4>C)return C+1;var V=C-2>>1;return(2+(1&C)<<V)+X(P,V)+1}function it(C,P){return 120<P?P-120:1<=(V=((V=Ko[P-1])>>4)*C+(8-(15&V)))?V:1;var V}function jt(C,P,V){var Q=ee(V),le=C[P+=255&Q].g-8;return 0<le&&(ue(V,V.u+8),Q=ee(V),P+=C[P].value,P+=Q&(1<<le)-1),ue(V,V.u+C[P].g),C[P].value}function Wt(C,P,V){return V.g+=C.g,V.value+=C.value<<P>>>0,e(8>=V.g),C.g}function gr(C,P,V){var Q=C.xc;return e((P=Q==0?0:C.vc[C.md*(V>>Q)+(P>>Q)])<C.Wb),C.Ya[P]}function fn(C,P,V,Q){var le=C.ab,pe=C.c*P,xe=C.C;P=xe+P;var Ne=V,_e=Q;for(Q=C.Ta,V=C.Ua;0<le--;){var Me=C.gc[le],We=xe,dt=P,Te=Ne,Xe=_e,ot=(_e=Q,Ne=V,Me.Ea);switch(e(We<dt),e(dt<=Me.nc),Me.hc){case 2:ri(Te,Xe,(dt-We)*ot,_e,Ne);break;case 0:var At=We,ct=dt,Ct=_e,Lt=Ne,Vt=(mr=Me).Ea;At==0&&(Jf(Te,Xe,null,null,1,Ct,Lt),Nt(Te,Xe+1,0,0,Vt-1,Ct,Lt+1),Xe+=Vt,Lt+=Vt,++At);for(var $t=1<<mr.b,br=$t-1,ur=Ke(Vt,mr.b),Qr=mr.K,mr=mr.w+(At>>mr.b)*ur;At<ct;){var vn=Qr,ka=mr,an=1;for(Qf(Te,Xe,Ct,Lt-Vt,1,Ct,Lt);an<Vt;){var dr=(an&~br)+$t;dr>Vt&&(dr=Vt),(0,Lc[vn[ka++]>>8&15])(Te,Xe+ +an,Ct,Lt+an-Vt,dr-an,Ct,Lt+an),an=dr}Xe+=Vt,Lt+=Vt,++At&br||(mr+=ur)}dt!=Me.nc&&n(_e,Ne-ot,_e,Ne+(dt-We-1)*ot,ot);break;case 1:for(ot=Te,ct=Xe,Vt=(Te=Me.Ea)-(Lt=Te&~(Ct=(Xe=1<<Me.b)-1)),At=Ke(Te,Me.b),$t=Me.K,Me=Me.w+(We>>Me.b)*At;We<dt;){for(br=$t,ur=Me,Qr=new Tt,mr=ct+Lt,vn=ct+Te;ct<mr;)Ee(br[ur++],Qr),Zf(Qr,ot,ct,Xe,_e,Ne),ct+=Xe,Ne+=Xe;ct<vn&&(Ee(br[ur++],Qr),Zf(Qr,ot,ct,Vt,_e,Ne),ct+=Vt,Ne+=Vt),++We&Ct||(Me+=At)}break;case 3:if(Te==_e&&Xe==Ne&&0<Me.b){for(ct=_e,Te=ot=Ne+(dt-We)*ot-(Lt=(dt-We)*Ke(Me.Ea,Me.b)),Xe=_e,Ct=Ne,At=[],Lt=(Vt=Lt)-1;0<=Lt;--Lt)At[Lt]=Xe[Ct+Lt];for(Lt=Vt-1;0<=Lt;--Lt)ct[Te+Lt]=At[Lt];n0(Me,We,dt,_e,ot,_e,Ne)}else n0(Me,We,dt,Te,Xe,_e,Ne)}Ne=Q,_e=V}_e!=V&&n(Q,V,Ne,_e,pe)}function gn(C,P){var V=C.V,Q=C.Ba+C.c*C.C,le=P-C.C;if(e(P<=C.l.o),e(16>=le),0<le){var pe=C.l,xe=C.Ta,Ne=C.Ua,_e=pe.width;if(fn(C,le,V,Q),le=Ne=[Ne],e((V=C.C)<(Q=P)),e(pe.v<pe.va),Q>pe.o&&(Q=pe.o),V<pe.j){var Me=pe.j-V;V=pe.j,le[0]+=Me*_e}if(V>=Q?V=0:(le[0]+=4*pe.v,pe.ka=V-pe.j,pe.U=pe.va-pe.v,pe.T=Q-V,V=1),V){if(Ne=Ne[0],11>(V=C.ca).S){var We=V.f.RGBA,dt=(Q=V.S,le=pe.U,pe=pe.T,Me=We.eb,We.A),Te=pe;for(We=We.fb+C.Ma*We.A;0<Te--;){var Xe=xe,ot=Ne,At=le,ct=Me,Ct=We;switch(Q){case s0:eh(Xe,ot,At,ct,Ct);break;case ks:Rc(Xe,ot,At,ct,Ct);break;case _m:Rc(Xe,ot,At,ct,Ct),Ed(ct,Ct,0,At,1,0);break;case o0:Md(Xe,ot,At,ct,Ct);break;case Go:me(Xe,ot,At,ct,Ct,1);break;case l0:me(Xe,ot,At,ct,Ct,1),Ed(ct,Ct,0,At,1,0);break;case Cm:me(Xe,ot,At,ct,Ct,0);break;case rh:me(Xe,ot,At,ct,Ct,0),Ed(ct,Ct,1,At,1,0);break;case th:Ic(Xe,ot,At,ct,Ct);break;case c0:Ic(Xe,ot,At,ct,Ct),Vo(ct,Ct,At,1,0);break;case Su:Vl(Xe,ot,At,ct,Ct);break;default:e(0)}Ne+=_e,We+=dt}C.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=V.height)}}C.C=P,e(C.C<=C.i)}function nr(C){var P;if(0<C.ua)return 0;for(P=0;P<C.Wb;++P){var V=C.Ya[P].G,Q=C.Ya[P].H;if(0<V[1][Q[1]+0].g||0<V[2][Q[2]+0].g||0<V[3][Q[3]+0].g)return 0}return 1}function Ur(C,P,V,Q,le,pe){if(C.Z!=0){var xe=C.qd,Ne=C.rd;for(e(Bc[C.Z]!=null);P<V;++P)Bc[C.Z](xe,Ne,Q,le,Q,le,pe),xe=Q,Ne=le,le+=pe;C.qd=xe,C.rd=Ne}}function Kr(C,P){var V=C.l.ma,Q=V.Z==0||V.Z==1?C.l.j:C.C;if(Q=C.C<Q?Q:C.C,e(P<=C.l.o),P>Q){var le=C.l.width,pe=V.ca,xe=V.tb+le*Q,Ne=C.V,_e=C.Ba+C.c*Q,Me=C.gc;e(C.ab==1),e(Me[0].hc==3),Wl(Me[0],Q,P,Ne,_e,pe,xe),Ur(V,Q,P,pe,xe,le)}C.C=C.Ma=P}function Zt(C,P,V,Q,le,pe,xe){var Ne=C.$/Q,_e=C.$%Q,Me=C.m,We=C.s,dt=V+C.$,Te=dt;le=V+Q*le;var Xe=V+Q*pe,ot=280+We.ua,At=C.Pb?Ne:16777216,ct=0<We.ua?We.Wa:null,Ct=We.wc,Lt=dt<Xe?gr(We,_e,Ne):null;e(C.C<pe),e(Xe<=le);var Vt=!1;e:for(;;){for(;Vt||dt<Xe;){var $t=0;if(Ne>=At){var br=dt-V;e((At=C).Pb),At.wd=At.m,At.xd=br,0<At.s.ua&&ht(At.s.Wa,At.s.vb),At=Ne+ku}if(_e&Ct||(Lt=gr(We,_e,Ne)),e(Lt!=null),Lt.Qb&&(P[dt]=Lt.qb,Vt=!0),!Vt)if(Ae(Me),Lt.jc){$t=Me,br=P;var ur=dt,Qr=Lt.pd[ee($t)&Nu-1];e(Lt.jc),256>Qr.g?(ue($t,$t.u+Qr.g),br[ur]=Qr.value,$t=0):(ue($t,$t.u+Qr.g-256),e(256<=Qr.value),$t=Qr.value),$t==0&&(Vt=!0)}else $t=jt(Lt.G[0],Lt.H[0],Me);if(Me.h)break;if(Vt||256>$t){if(!Vt)if(Lt.nd)P[dt]=(Lt.qb|$t<<8)>>>0;else{if(Ae(Me),Vt=jt(Lt.G[1],Lt.H[1],Me),Ae(Me),br=jt(Lt.G[2],Lt.H[2],Me),ur=jt(Lt.G[3],Lt.H[3],Me),Me.h)break;P[dt]=(ur<<24|Vt<<16|$t<<8|br)>>>0}if(Vt=!1,++dt,++_e>=Q&&(_e=0,++Ne,xe!=null&&Ne<=pe&&!(Ne%16)&&xe(C,Ne),ct!=null))for(;Te<dt;)$t=P[Te++],ct.X[(506832829*$t&4294967295)>>>ct.Mb]=$t}else if(280>$t){if($t=Ut($t-256,Me),br=jt(Lt.G[4],Lt.H[4],Me),Ae(Me),br=it(Q,br=Ut(br,Me)),Me.h)break;if(dt-V<br||le-dt<$t)break e;for(ur=0;ur<$t;++ur)P[dt+ur]=P[dt+ur-br];for(dt+=$t,_e+=$t;_e>=Q;)_e-=Q,++Ne,xe!=null&&Ne<=pe&&!(Ne%16)&&xe(C,Ne);if(e(dt<=le),_e&Ct&&(Lt=gr(We,_e,Ne)),ct!=null)for(;Te<dt;)$t=P[Te++],ct.X[(506832829*$t&4294967295)>>>ct.Mb]=$t}else{if(!($t<ot))break e;for(Vt=$t-280,e(ct!=null);Te<dt;)$t=P[Te++],ct.X[(506832829*$t&4294967295)>>>ct.Mb]=$t;$t=dt,e(!(Vt>>>(br=ct).Xa)),P[$t]=br.X[Vt],Vt=!0}Vt||e(Me.h==ne(Me))}if(C.Pb&&Me.h&&dt<le)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&ht(C.s.vb,C.s.Wa);else{if(Me.h)break e;xe!=null&&xe(C,Ne>pe?pe:Ne),C.a=0,C.$=dt-V}return 1}return C.a=3,0}function Ze(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var P=C.Wa;P!=null&&(P.X=null),C.vb=null,e(C!=null)}function tt(){var C=new Nr;return C==null?null:(C.a=0,C.xb=Ux,qe("Predictor","VP8LPredictors"),qe("Predictor","VP8LPredictors_C"),qe("PredictorAdd","VP8LPredictorsAdd"),qe("PredictorAdd","VP8LPredictorsAdd_C"),ri=kt,Zf=vt,eh=Je,Rc=Le,Ic=et,Vl=lt,Md=be,R.VP8LMapColor32b=Ul,R.VP8LMapColor8b=us,C)}function Mt(C,P,V,Q,le){var pe=1,xe=[C],Ne=[P],_e=Q.m,Me=Q.s,We=null,dt=0;e:for(;;){if(V)for(;pe&&X(_e,1);){var Te=xe,Xe=Ne,ot=Q,At=1,ct=ot.m,Ct=ot.gc[ot.ab],Lt=X(ct,2);if(ot.Oc&1<<Lt)pe=0;else{switch(ot.Oc|=1<<Lt,Ct.hc=Lt,Ct.Ea=Te[0],Ct.nc=Xe[0],Ct.K=[null],++ot.ab,e(4>=ot.ab),Lt){case 0:case 1:Ct.b=X(ct,3)+2,At=Mt(Ke(Ct.Ea,Ct.b),Ke(Ct.nc,Ct.b),0,ot,Ct.K),Ct.K=Ct.K[0];break;case 3:var Vt,$t=X(ct,8)+1,br=16<$t?0:4<$t?1:2<$t?2:3;if(Te[0]=Ke(Ct.Ea,br),Ct.b=br,Vt=At=Mt($t,1,0,ot,Ct.K)){var ur,Qr=$t,mr=Ct,vn=1<<(8>>mr.b),ka=s(vn);if(ka==null)Vt=0;else{var an=mr.K[0],dr=mr.w;for(ka[0]=mr.K[0][0],ur=1;ur<1*Qr;++ur)ka[ur]=yt(an[dr+ur],ka[ur-1]);for(;ur<4*vn;++ur)ka[ur]=0;mr.K[0]=null,mr.K[0]=ka,Vt=1}}At=Vt;break;case 2:break;default:e(0)}pe=At}}if(xe=xe[0],Ne=Ne[0],pe&&X(_e,1)&&!(pe=1<=(dt=X(_e,4))&&11>=dt)){Q.a=3;break e}var er;if(er=pe)t:{var Fa,Br,ln,Xn=Q,Ei=xe,ps=Ne,xa=dt,di=V,Cs=Xn.m,fi=Xn.s,hn=[null],Fn=1,$a=0,Un=Xo[xa];r:for(;;){if(di&&X(Cs,1)){var Di=X(Cs,3)+2,Ba=Ke(Ei,Di),$n=Ke(ps,Di),ii=Ba*$n;if(!Mt(Ba,$n,0,Xn,hn))break r;for(hn=hn[0],fi.xc=Di,Fa=0;Fa<ii;++Fa){var Jn=hn[Fa]>>8&65535;hn[Fa]=Jn,Jn>=Fn&&(Fn=Jn+1)}}if(Cs.h)break r;for(Br=0;5>Br;++Br){var hi=Pd[Br];!Br&&0<xa&&(hi+=1<<xa),$a<hi&&($a=hi)}var mi=o(Fn*Un,H),oa=Fn,Ln=o(oa,Y);if(Ln==null)var _s=null;else e(65536>=oa),_s=Ln;var Ya=s($a);if(_s==null||Ya==null||mi==null){Xn.a=1;break r}var Or=mi;for(Fa=ln=0;Fa<Fn;++Fa){var Er=_s[Fa],Bn=Er.G,to=Er.H,el=0,Hs=1,pi=0;for(Br=0;5>Br;++Br){hi=Pd[Br],Bn[Br]=Or,to[Br]=ln,!Br&&0<xa&&(hi+=1<<xa);a:{var Ou,Eu=hi,g0=Xn,ya=Ya,Vx=Or,Gx=ln,x0=0,Hc=g0.m,zS=X(Hc,1);if(a(ya,0,0,Eu),zS){var Yx=X(Hc,1)+1,Kx=X(Hc,1),y0=X(Hc,Kx==0?1:8);ya[y0]=1,Yx==2&&(ya[y0=X(Hc,8)]=1);var Gi=1}else{var Ka=s(19),Om=X(Hc,4)+4;if(19<Om){g0.a=3;var Du=0;break a}for(Ou=0;Ou<Om;++Ou)Ka[Am[Ou]]=X(Hc,3);var oh=void 0,Id=void 0,Kl=g0,b0=Ka,lh=Eu,v0=ya,w0=0,zc=Kl.m,Xx=8,Jx=o(128,H);n:for(;M(Jx,0,7,b0,19);){if(X(zc,1)){var j1=2+2*X(zc,3);if((oh=2+X(zc,j1))>lh)break n}else oh=lh;for(Id=0;Id<lh&&oh--;){Ae(zc);var Qx=Jx[0+(127&ee(zc))];ue(zc,zc.u+Qx.g);var Pu=Qx.value;if(16>Pu)v0[Id++]=Pu,Pu!=0&&(Xx=Pu);else{var N1=Pu==16,S1=Pu-16,k1=nh[S1],Zx=X(zc,Yo[S1])+k1;if(Id+Zx>lh)break n;for(var C1=N1?Xx:0;0<Zx--;)v0[Id++]=C1}}w0=1;break n}w0||(Kl.a=3),Gi=w0}(Gi=Gi&&!Hc.h)&&(x0=M(Vx,Gx,8,ya,Eu)),Gi&&x0!=0?Du=x0:(g0.a=3,Du=0)}if(Du==0)break r;if(Hs&&u0[Br]==1&&(Hs=Or[ln].g==0),el+=Or[ln].g,ln+=Du,3>=Br){var Fd,j0=Ya[0];for(Fd=1;Fd<hi;++Fd)Ya[Fd]>j0&&(j0=Ya[Fd]);pi+=j0}}if(Er.nd=Hs,Er.Qb=0,Hs&&(Er.qb=(Bn[3][to[3]+0].value<<24|Bn[1][to[1]+0].value<<16|Bn[2][to[2]+0].value)>>>0,el==0&&256>Bn[0][to[0]+0].value&&(Er.Qb=1,Er.qb+=Bn[0][to[0]+0].value<<8)),Er.jc=!Er.Qb&&6>pi,Er.jc){var Em,Xl=Er;for(Em=0;Em<Nu;++Em){var qc=Em,Uc=Xl.pd[qc],N0=Xl.G[0][Xl.H[0]+qc];256<=N0.value?(Uc.g=N0.g+256,Uc.value=N0.value):(Uc.g=0,Uc.value=0,qc>>=Wt(N0,8,Uc),qc>>=Wt(Xl.G[1][Xl.H[1]+qc],16,Uc),qc>>=Wt(Xl.G[2][Xl.H[2]+qc],0,Uc),Wt(Xl.G[3][Xl.H[3]+qc],24,Uc))}}}fi.vc=hn,fi.Wb=Fn,fi.Ya=_s,fi.yc=mi,er=1;break t}er=0}if(!(pe=er)){Q.a=3;break e}if(0<dt){if(Me.ua=1<<dt,!ie(Me.Wa,dt)){Q.a=1,pe=0;break e}}else Me.ua=0;var S0=Q,$d=xe,_1=Ne,ch=S0.s,uh=ch.xc;if(S0.c=$d,S0.i=_1,ch.md=Ke($d,uh),ch.wc=uh==0?-1:(1<<uh)-1,V){Q.xb=Cu;break e}if((We=s(xe*Ne))==null){Q.a=1,pe=0;break e}pe=(pe=Zt(Q,We,0,xe,Ne,Ne,null))&&!_e.h;break e}return pe?(le!=null?le[0]=We:(e(We==null),e(V)),Q.$=0,V||Ze(Me)):Ze(Me),pe}function de(C,P){var V=C.c*C.i,Q=V+P+16*P;return e(C.c<=P),C.V=s(Q),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+V+P,1)}function Ye(C,P){var V=C.C,Q=P-V,le=C.V,pe=C.Ba+C.c*V;for(e(P<=C.l.o);0<Q;){var xe=16<Q?16:Q,Ne=C.l.ma,_e=C.l.width,Me=_e*xe,We=Ne.ca,dt=Ne.tb+_e*V,Te=C.Ta,Xe=C.Ua;fn(C,xe,le,pe),So(Te,Xe,We,dt,Me),Ur(Ne,V,V+xe,We,dt,_e),Q-=xe,le+=xe*C.c,V+=xe}e(V==P),C.C=C.Ma=P}function wt(){this.ub=this.yd=this.td=this.Rb=0}function or(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ot(){this.Yb=(function(){var C=[];return(function P(V,Q,le){for(var pe=le[Q],xe=0;xe<pe&&(V.push(le.length>Q+1?[]:0),!(le.length<Q+1));xe++)P(V[xe],Q+1,le)})(C,0,[3,11]),C})()}function tr(){this.jb=s(3),this.Wc=l([4,8],Ot),this.Xc=l([4,17],Ot)}function Mr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function cr(){this.Na=this.la=0}function Fr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ha(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hr(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new ha),this.aa=0,this.l=new wn}function Fs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ma(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new wt,this.Kc=new or,this.ed=new Mr,this.Qa=new Jr,this.Ic=this.$c=this.Aa=0,this.D=new Hr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,Fr),this.Pa=new tr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fs),this.Hd=0,this.rb=Array(new cr),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ha),this.L=this.aa=0,this.gd=l([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function An(){var C=new ma;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,ko||(ko=Js)),C}function en(C,P,V){return C.a==0&&(C.a=P,C.sc=V,C.cb=0),0}function In(C,P,V){return 3<=V&&C[P+0]==157&&C[P+1]==1&&C[P+2]==42}function Cc(C,P){if(C==null)return 0;if(C.a=0,C.sc="OK",P==null)return en(C,2,"null VP8Io passed to VP8GetHeaders()");var V=P.data,Q=P.w,le=P.ha;if(4>le)return en(C,7,"Truncated header.");var pe=V[Q+0]|V[Q+1]<<8|V[Q+2]<<16,xe=C.Od;if(xe.Rb=!(1&pe),xe.td=pe>>1&7,xe.yd=pe>>4&1,xe.ub=pe>>5,3<xe.td)return en(C,3,"Incorrect keyframe parameters.");if(!xe.yd)return en(C,4,"Frame not displayable.");Q+=3,le-=3;var Ne=C.Kc;if(xe.Rb){if(7>le)return en(C,7,"cannot parse picture header");if(!In(V,Q,le))return en(C,3,"Bad code word");Ne.c=16383&(V[Q+4]<<8|V[Q+3]),Ne.Td=V[Q+4]>>6,Ne.i=16383&(V[Q+6]<<8|V[Q+5]),Ne.Ud=V[Q+6]>>6,Q+=7,le-=7,C.za=Ne.c+15>>4,C.Ub=Ne.i+15>>4,P.width=Ne.c,P.height=Ne.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,a((pe=C.Pa).jb,0,255,pe.jb.length),e((pe=C.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,a(pe.Zb,0,0,pe.Zb.length),a(pe.Lb,0,0,pe.Lb)}if(xe.ub>le)return en(C,7,"bad partition length");W(pe=C.m,V,Q,xe.ub),Q+=xe.ub,le-=xe.ub,xe.Rb&&(Ne.Ld=je(pe),Ne.Kd=je(pe)),Ne=C.Qa;var _e,Me=C.Pa;if(e(pe!=null),e(Ne!=null),Ne.Cb=je(pe),Ne.Cb){if(Ne.Bb=je(pe),je(pe)){for(Ne.Fb=je(pe),_e=0;4>_e;++_e)Ne.Zb[_e]=je(pe)?q(pe,7):0;for(_e=0;4>_e;++_e)Ne.Lb[_e]=je(pe)?q(pe,6):0}if(Ne.Bb)for(_e=0;3>_e;++_e)Me.jb[_e]=je(pe)?$(pe,8):255}else Ne.Bb=0;if(pe.Ka)return en(C,3,"cannot parse segment header");if((Ne=C.ed).zd=je(pe),Ne.Tb=$(pe,6),Ne.wb=$(pe,3),Ne.Pc=je(pe),Ne.Pc&&je(pe)){for(Me=0;4>Me;++Me)je(pe)&&(Ne.vd[Me]=q(pe,6));for(Me=0;4>Me;++Me)je(pe)&&(Ne.od[Me]=q(pe,6))}if(C.L=Ne.Tb==0?0:Ne.zd?1:2,pe.Ka)return en(C,3,"cannot parse filter header");var We=le;if(le=_e=Q,Q=_e+We,Ne=We,C.Xb=(1<<$(C.m,2))-1,We<3*(Me=C.Xb))V=7;else{for(_e+=3*Me,Ne-=3*Me,We=0;We<Me;++We){var dt=V[le+0]|V[le+1]<<8|V[le+2]<<16;dt>Ne&&(dt=Ne),W(C.Jc[+We],V,_e,dt),_e+=dt,Ne-=dt,le+=3}W(C.Jc[+Me],V,_e,Ne),V=_e<Q?0:5}if(V!=0)return en(C,V,"cannot parse partitions");for(V=$(_e=C.m,7),le=je(_e)?q(_e,4):0,Q=je(_e)?q(_e,4):0,Ne=je(_e)?q(_e,4):0,Me=je(_e)?q(_e,4):0,_e=je(_e)?q(_e,4):0,We=C.Qa,dt=0;4>dt;++dt){if(We.Cb){var Te=We.Zb[dt];We.Fb||(Te+=V)}else{if(0<dt){C.pb[dt]=C.pb[0];continue}Te=V}var Xe=C.pb[dt];Xe.Sc[0]=Jo[Va(Te+le,127)],Xe.Sc[1]=Qo[Va(Te+0,127)],Xe.Eb[0]=2*Jo[Va(Te+Q,127)],Xe.Eb[1]=101581*Qo[Va(Te+Ne,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=Jo[Va(Te+Me,117)],Xe.Qc[1]=Qo[Va(Te+_e,127)],Xe.lc=Te+_e}if(!xe.Rb)return en(C,4,"Not a key frame.");for(je(pe),xe=C.Pa,V=0;4>V;++V){for(le=0;8>le;++le)for(Q=0;3>Q;++Q)for(Ne=0;11>Ne;++Ne)Me=Ce(pe,Sa[V][le][Q][Ne])?$(pe,8):v1[V][le][Q][Ne],xe.Wc[V][le].Yb[Q][Ne]=Me;for(le=0;17>le;++le)xe.Xc[V][le]=xe.Wc[V][jn[le]]}return C.kc=je(pe),C.kc&&(C.Bd=$(pe,8)),C.cb=1}function Js(C,P,V,Q,le,pe,xe){var Ne=P[le].Yb[V];for(V=0;16>le;++le){if(!Ce(C,Ne[V+0]))return le;for(;!Ce(C,Ne[V+1]);)if(Ne=P[++le].Yb[0],V=0,le==16)return 16;var _e=P[le+1].Yb;if(Ce(C,Ne[V+2])){var Me=C,We=0;if(Ce(Me,(Te=Ne)[(dt=V)+3]))if(Ce(Me,Te[dt+6])){for(Ne=0,dt=2*(We=Ce(Me,Te[dt+8]))+(Te=Ce(Me,Te[dt+9+We])),We=0,Te=b1[dt];Te[Ne];++Ne)We+=We+Ce(Me,Te[Ne]);We+=3+(8<<dt)}else Ce(Me,Te[dt+7])?(We=7+2*Ce(Me,165),We+=Ce(Me,145)):We=5+Ce(Me,159);else We=Ce(Me,Te[dt+4])?3+Ce(Me,Te[dt+5]):2;Ne=_e[2]}else We=1,Ne=_e[1];_e=xe+qx[le],0>(Me=C).b&&ke(Me);var dt,Te=Me.b,Xe=(dt=Me.Ca>>1)-(Me.I>>Te)>>31;--Me.b,Me.Ca+=Xe,Me.Ca|=1,Me.I-=(dt+1&Xe)<<Te,pe[_e]=((We^Xe)-Xe)*Q[(0<le)+0]}return 16}function yo(C){var P=C.rb[C.sb-1];P.la=0,P.Na=0,a(C.zc,0,0,C.zc.length),C.ja=0}function Qs(C,P,V,Q,le){le=C[P+V+32*Q]+(le>>3),C[P+V+32*Q]=-256&le?0>le?0:255:le}function qo(C,P,V,Q,le,pe){Qs(C,P,0,V,Q+le),Qs(C,P,1,V,Q+pe),Qs(C,P,2,V,Q-pe),Qs(C,P,3,V,Q-le)}function Ra(C){return(20091*C>>16)+C}function Wi(C,P,V,Q){var le,pe=0,xe=s(16);for(le=0;4>le;++le){var Ne=C[P+0]+C[P+8],_e=C[P+0]-C[P+8],Me=(35468*C[P+4]>>16)-Ra(C[P+12]),We=Ra(C[P+4])+(35468*C[P+12]>>16);xe[pe+0]=Ne+We,xe[pe+1]=_e+Me,xe[pe+2]=_e-Me,xe[pe+3]=Ne-We,pe+=4,P++}for(le=pe=0;4>le;++le)Ne=(C=xe[pe+0]+4)+xe[pe+8],_e=C-xe[pe+8],Me=(35468*xe[pe+4]>>16)-Ra(xe[pe+12]),Qs(V,Q,0,0,Ne+(We=Ra(xe[pe+4])+(35468*xe[pe+12]>>16))),Qs(V,Q,1,0,_e+Me),Qs(V,Q,2,0,_e-Me),Qs(V,Q,3,0,Ne-We),pe++,Q+=32}function bd(C,P,V,Q){var le=C[P+0]+4,pe=35468*C[P+4]>>16,xe=Ra(C[P+4]),Ne=35468*C[P+1]>>16;qo(V,Q,0,le+xe,C=Ra(C[P+1]),Ne),qo(V,Q,1,le+pe,C,Ne),qo(V,Q,2,le-pe,C,Ne),qo(V,Q,3,le-xe,C,Ne)}function Uf(C,P,V,Q,le){Wi(C,P,V,Q),le&&Wi(C,P+16,V,Q+4)}function vd(C,P,V,Q){Fc(C,P+0,V,Q,1),Fc(C,P+32,V,Q+128,1)}function ns(C,P,V,Q){var le;for(C=C[P+0]+4,le=0;4>le;++le)for(P=0;4>P;++P)Qs(V,Q,P,le,C)}function wd(C,P,V,Q){C[P+0]&&qn(C,P+0,V,Q),C[P+16]&&qn(C,P+16,V,Q+4),C[P+32]&&qn(C,P+32,V,Q+128),C[P+48]&&qn(C,P+48,V,Q+128+4)}function se(C,P,V,Q){var le,pe=s(16);for(le=0;4>le;++le){var xe=C[P+0+le]+C[P+12+le],Ne=C[P+4+le]+C[P+8+le],_e=C[P+4+le]-C[P+8+le],Me=C[P+0+le]-C[P+12+le];pe[0+le]=xe+Ne,pe[8+le]=xe-Ne,pe[4+le]=Me+_e,pe[12+le]=Me-_e}for(le=0;4>le;++le)xe=(C=pe[0+4*le]+3)+pe[3+4*le],Ne=pe[1+4*le]+pe[2+4*le],_e=pe[1+4*le]-pe[2+4*le],Me=C-pe[3+4*le],V[Q+0]=xe+Ne>>3,V[Q+16]=Me+_e>>3,V[Q+32]=xe-Ne>>3,V[Q+48]=Me-_e>>3,Q+=64}function re(C,P,V){var Q,le=P-32,pe=Ss,xe=255-C[le-1];for(Q=0;Q<V;++Q){var Ne,_e=pe,Me=xe+C[P-1];for(Ne=0;Ne<V;++Ne)C[P+Ne]=_e[Me+C[le+Ne]];P+=32}}function Ie(C,P){re(C,P,4)}function Qt(C,P){re(C,P,8)}function cn(C,P){re(C,P,16)}function xn(C,P){var V;for(V=0;16>V;++V)n(C,P+32*V,C,P-32,16)}function as(C,P){var V;for(V=16;0<V;--V)a(C,P,C[P-1],16),P+=32}function is(C,P,V){var Q;for(Q=0;16>Q;++Q)a(P,V+32*Q,C,16)}function Ti(C,P){var V,Q=16;for(V=0;16>V;++V)Q+=C[P-1+32*V]+C[P+V-32];is(Q>>5,C,P)}function Mi(C,P){var V,Q=8;for(V=0;16>V;++V)Q+=C[P-1+32*V];is(Q>>4,C,P)}function Rl(C,P){var V,Q=8;for(V=0;16>V;++V)Q+=C[P+V-32];is(Q>>4,C,P)}function jd(C,P){is(128,C,P)}function $r(C,P,V){return C+2*P+V+2>>2}function yu(C,P){var V,Q=P-32;for(Q=new Uint8Array([$r(C[Q-1],C[Q+0],C[Q+1]),$r(C[Q+0],C[Q+1],C[Q+2]),$r(C[Q+1],C[Q+2],C[Q+3]),$r(C[Q+2],C[Q+3],C[Q+4])]),V=0;4>V;++V)n(C,P+32*V,Q,0,Q.length)}function Jp(C,P){var V=C[P-1],Q=C[P-1+32],le=C[P-1+64],pe=C[P-1+96];Be(C,P+0,16843009*$r(C[P-1-32],V,Q)),Be(C,P+32,16843009*$r(V,Q,le)),Be(C,P+64,16843009*$r(Q,le,pe)),Be(C,P+96,16843009*$r(le,pe,pe))}function xm(C,P){var V,Q=4;for(V=0;4>V;++V)Q+=C[P+V-32]+C[P-1+32*V];for(Q>>=3,V=0;4>V;++V)a(C,P+32*V,Q,4)}function Qp(C,P){var V=C[P-1+0],Q=C[P-1+32],le=C[P-1+64],pe=C[P-1-32],xe=C[P+0-32],Ne=C[P+1-32],_e=C[P+2-32],Me=C[P+3-32];C[P+0+96]=$r(Q,le,C[P-1+96]),C[P+1+96]=C[P+0+64]=$r(V,Q,le),C[P+2+96]=C[P+1+64]=C[P+0+32]=$r(pe,V,Q),C[P+3+96]=C[P+2+64]=C[P+1+32]=C[P+0+0]=$r(xe,pe,V),C[P+3+64]=C[P+2+32]=C[P+1+0]=$r(Ne,xe,pe),C[P+3+32]=C[P+2+0]=$r(_e,Ne,xe),C[P+3+0]=$r(Me,_e,Ne)}function bo(C,P){var V=C[P+1-32],Q=C[P+2-32],le=C[P+3-32],pe=C[P+4-32],xe=C[P+5-32],Ne=C[P+6-32],_e=C[P+7-32];C[P+0+0]=$r(C[P+0-32],V,Q),C[P+1+0]=C[P+0+32]=$r(V,Q,le),C[P+2+0]=C[P+1+32]=C[P+0+64]=$r(Q,le,pe),C[P+3+0]=C[P+2+32]=C[P+1+64]=C[P+0+96]=$r(le,pe,xe),C[P+3+32]=C[P+2+64]=C[P+1+96]=$r(pe,xe,Ne),C[P+3+64]=C[P+2+96]=$r(xe,Ne,_e),C[P+3+96]=$r(Ne,_e,_e)}function ss(C,P){var V=C[P-1+0],Q=C[P-1+32],le=C[P-1+64],pe=C[P-1-32],xe=C[P+0-32],Ne=C[P+1-32],_e=C[P+2-32],Me=C[P+3-32];C[P+0+0]=C[P+1+64]=pe+xe+1>>1,C[P+1+0]=C[P+2+64]=xe+Ne+1>>1,C[P+2+0]=C[P+3+64]=Ne+_e+1>>1,C[P+3+0]=_e+Me+1>>1,C[P+0+96]=$r(le,Q,V),C[P+0+64]=$r(Q,V,pe),C[P+0+32]=C[P+1+96]=$r(V,pe,xe),C[P+1+32]=C[P+2+96]=$r(pe,xe,Ne),C[P+2+32]=C[P+3+96]=$r(xe,Ne,_e),C[P+3+32]=$r(Ne,_e,Me)}function ym(C,P){var V=C[P+0-32],Q=C[P+1-32],le=C[P+2-32],pe=C[P+3-32],xe=C[P+4-32],Ne=C[P+5-32],_e=C[P+6-32],Me=C[P+7-32];C[P+0+0]=V+Q+1>>1,C[P+1+0]=C[P+0+64]=Q+le+1>>1,C[P+2+0]=C[P+1+64]=le+pe+1>>1,C[P+3+0]=C[P+2+64]=pe+xe+1>>1,C[P+0+32]=$r(V,Q,le),C[P+1+32]=C[P+0+96]=$r(Q,le,pe),C[P+2+32]=C[P+1+96]=$r(le,pe,xe),C[P+3+32]=C[P+2+96]=$r(pe,xe,Ne),C[P+3+64]=$r(xe,Ne,_e),C[P+3+96]=$r(Ne,_e,Me)}function Nd(C,P){var V=C[P-1+0],Q=C[P-1+32],le=C[P-1+64],pe=C[P-1+96];C[P+0+0]=V+Q+1>>1,C[P+2+0]=C[P+0+32]=Q+le+1>>1,C[P+2+32]=C[P+0+64]=le+pe+1>>1,C[P+1+0]=$r(V,Q,le),C[P+3+0]=C[P+1+32]=$r(Q,le,pe),C[P+3+32]=C[P+1+64]=$r(le,pe,pe),C[P+3+64]=C[P+2+64]=C[P+0+96]=C[P+1+96]=C[P+2+96]=C[P+3+96]=pe}function vo(C,P){var V=C[P-1+0],Q=C[P-1+32],le=C[P-1+64],pe=C[P-1+96],xe=C[P-1-32],Ne=C[P+0-32],_e=C[P+1-32],Me=C[P+2-32];C[P+0+0]=C[P+2+32]=V+xe+1>>1,C[P+0+32]=C[P+2+64]=Q+V+1>>1,C[P+0+64]=C[P+2+96]=le+Q+1>>1,C[P+0+96]=pe+le+1>>1,C[P+3+0]=$r(Ne,_e,Me),C[P+2+0]=$r(xe,Ne,_e),C[P+1+0]=C[P+3+32]=$r(V,xe,Ne),C[P+1+32]=C[P+3+64]=$r(Q,V,xe),C[P+1+64]=C[P+3+96]=$r(le,Q,V),C[P+1+96]=$r(pe,le,Q)}function Sd(C,P){var V;for(V=0;8>V;++V)n(C,P+32*V,C,P-32,8)}function Il(C,P){var V;for(V=0;8>V;++V)a(C,P,C[P-1],8),P+=32}function kd(C,P,V){var Q;for(Q=0;8>Q;++Q)a(P,V+32*Q,C,8)}function _c(C,P){var V,Q=8;for(V=0;8>V;++V)Q+=C[P+V-32]+C[P-1+32*V];kd(Q>>4,C,P)}function Wf(C,P){var V,Q=4;for(V=0;8>V;++V)Q+=C[P+V-32];kd(Q>>3,C,P)}function Vf(C,P){var V,Q=4;for(V=0;8>V;++V)Q+=C[P-1+32*V];kd(Q>>3,C,P)}function Vi(C,P){kd(128,C,P)}function wo(C,P,V){var Q=C[P-V],le=C[P+0],pe=3*(le-Q)+$c[1020+C[P-2*V]-C[P+V]],xe=km[112+(pe+4>>3)];C[P-V]=Ss[255+Q+km[112+(pe+3>>3)]],C[P+0]=Ss[255+le-xe]}function Fl(C,P,V,Q){var le=C[P+0],pe=C[P+V];return ds[255+C[P-2*V]-C[P-V]]>Q||ds[255+pe-le]>Q}function Ac(C,P,V,Q){return 4*ds[255+C[P-V]-C[P+0]]+ds[255+C[P-2*V]-C[P+V]]<=Q}function Gf(C,P,V,Q,le){var pe=C[P-3*V],xe=C[P-2*V],Ne=C[P-V],_e=C[P+0],Me=C[P+V],We=C[P+2*V],dt=C[P+3*V];return 4*ds[255+Ne-_e]+ds[255+xe-Me]>Q?0:ds[255+C[P-4*V]-pe]<=le&&ds[255+pe-xe]<=le&&ds[255+xe-Ne]<=le&&ds[255+dt-We]<=le&&ds[255+We-Me]<=le&&ds[255+Me-_e]<=le}function Cd(C,P,V,Q){var le=2*Q+1;for(Q=0;16>Q;++Q)Ac(C,P+Q,V,le)&&wo(C,P+Q,V)}function Tc(C,P,V,Q){var le=2*Q+1;for(Q=0;16>Q;++Q)Ac(C,P+Q*V,1,le)&&wo(C,P+Q*V,1)}function bu(C,P,V,Q){var le;for(le=3;0<le;--le)Cd(C,P+=4*V,V,Q)}function _d(C,P,V,Q){var le;for(le=3;0<le;--le)Tc(C,P+=4,V,Q)}function $l(C,P,V,Q,le,pe,xe,Ne){for(pe=2*pe+1;0<le--;){if(Gf(C,P,V,pe,xe))if(Fl(C,P,V,Ne))wo(C,P,V);else{var _e=C,Me=P,We=V,dt=_e[Me-2*We],Te=_e[Me-We],Xe=_e[Me+0],ot=_e[Me+We],At=_e[Me+2*We],ct=27*(Lt=$c[1020+3*(Xe-Te)+$c[1020+dt-ot]])+63>>7,Ct=18*Lt+63>>7,Lt=9*Lt+63>>7;_e[Me-3*We]=Ss[255+_e[Me-3*We]+Lt],_e[Me-2*We]=Ss[255+dt+Ct],_e[Me-We]=Ss[255+Te+ct],_e[Me+0]=Ss[255+Xe-ct],_e[Me+We]=Ss[255+ot-Ct],_e[Me+2*We]=Ss[255+At-Lt]}P+=Q}}function Mc(C,P,V,Q,le,pe,xe,Ne){for(pe=2*pe+1;0<le--;){if(Gf(C,P,V,pe,xe))if(Fl(C,P,V,Ne))wo(C,P,V);else{var _e=C,Me=P,We=V,dt=_e[Me-We],Te=_e[Me+0],Xe=_e[Me+We],ot=km[112+(4+(At=3*(Te-dt))>>3)],At=km[112+(At+3>>3)],ct=ot+1>>1;_e[Me-2*We]=Ss[255+_e[Me-2*We]+ct],_e[Me-We]=Ss[255+dt+At],_e[Me+0]=Ss[255+Te-ot],_e[Me+We]=Ss[255+Xe-ct]}P+=Q}}function Zp(C,P,V,Q,le,pe){$l(C,P,V,1,16,Q,le,pe)}function e0(C,P,V,Q,le,pe){$l(C,P,1,V,16,Q,le,pe)}function Oc(C,P,V,Q,le,pe){var xe;for(xe=3;0<xe;--xe)Mc(C,P+=4*V,V,1,16,Q,le,pe)}function t0(C,P,V,Q,le,pe){var xe;for(xe=3;0<xe;--xe)Mc(C,P+=4,1,V,16,Q,le,pe)}function z(C,P,V,Q,le,pe,xe,Ne){$l(C,P,le,1,8,pe,xe,Ne),$l(V,Q,le,1,8,pe,xe,Ne)}function oe(C,P,V,Q,le,pe,xe,Ne){$l(C,P,1,le,8,pe,xe,Ne),$l(V,Q,1,le,8,pe,xe,Ne)}function Oe(C,P,V,Q,le,pe,xe,Ne){Mc(C,P+4*le,le,1,8,pe,xe,Ne),Mc(V,Q+4*le,le,1,8,pe,xe,Ne)}function He(C,P,V,Q,le,pe,xe,Ne){Mc(C,P+4,1,le,8,pe,xe,Ne),Mc(V,Q+4,1,le,8,pe,xe,Ne)}function rt(){this.ba=new K,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Re,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xr(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new H}function Nr(){this.xb=this.a=0,this.l=new wn,this.ca=new K,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xr,this.ab=0,this.gc=o(4,Bt),this.Oc=0}function Wr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tn(C,P,V,Q,le,pe,xe){for(C=C==null?0:C[P+0],P=0;P<xe;++P)le[pe+P]=C+V[Q+P]&255,C=le[pe+P]}function zn(C,P,V,Q,le,pe,xe){var Ne;if(C==null)tn(null,null,V,Q,le,pe,xe);else for(Ne=0;Ne<xe;++Ne)le[pe+Ne]=C[P+Ne]+V[Q+Ne]&255}function Ia(C,P,V,Q,le,pe,xe){if(C==null)tn(null,null,V,Q,le,pe,xe);else{var Ne,_e=C[P+0],Me=_e,We=_e;for(Ne=0;Ne<xe;++Ne)Me=We+(_e=C[P+Ne])-Me,We=V[Q+Ne]+(-256&Me?0>Me?0:255:Me)&255,Me=_e,le[pe+Ne]=We}}function ti(C,P,V,Q){var le=P.width,pe=P.o;if(e(C!=null&&P!=null),0>V||0>=Q||V+Q>pe)return null;if(!C.Cc){if(C.ga==null){var xe;if(C.ga=new Wr,(xe=C.ga==null)||(xe=P.width*P.o,e(C.Gb.length==0),C.Gb=s(xe),C.Uc=0,C.Gb==null?xe=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,xe=1),xe=!xe),!xe){xe=C.ga;var Ne=C.Fa,_e=C.P,Me=C.qc,We=C.mb,dt=C.nb,Te=_e+1,Xe=Me-1,ot=xe.l;if(e(Ne!=null&&We!=null&&P!=null),Bc[0]=null,Bc[1]=tn,Bc[2]=zn,Bc[3]=Ia,xe.ca=We,xe.tb=dt,xe.c=P.width,xe.i=P.height,e(0<xe.c&&0<xe.i),1>=Me)P=0;else if(xe.$a=3&Ne[_e+0],xe.Z=Ne[_e+0]>>2&3,xe.Lc=Ne[_e+0]>>4&3,_e=Ne[_e+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||_e)P=0;else if(ot.put=ze,ot.ac=Fe,ot.bc=Rt,ot.ma=xe,ot.width=P.width,ot.height=P.height,ot.Da=P.Da,ot.v=P.v,ot.va=P.va,ot.j=P.j,ot.o=P.o,xe.$a)e:{e(xe.$a==1),P=tt();t:for(;;){if(P==null){P=0;break e}if(e(xe!=null),xe.mc=P,P.c=xe.c,P.i=xe.i,P.l=xe.l,P.l.ma=xe,P.l.width=xe.c,P.l.height=xe.i,P.a=0,Z(P.m,Ne,Te,Xe),!Mt(xe.c,xe.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&nr(P.s)?(xe.ic=1,Ne=P.c*P.i,P.Ta=null,P.Ua=0,P.V=s(Ne),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(xe.ic=0,P=de(P,xe.c)),!P))break t;P=1;break e}xe.mc=null,P=0}else P=Xe>=xe.c*xe.i;xe=!P}if(xe)return null;C.ga.Lc!=1?C.Ga=0:Q=pe-V}e(C.ga!=null),e(V+Q<=pe);e:{if(P=(Ne=C.ga).c,pe=Ne.l.o,Ne.$a==0){if(Te=C.rc,Xe=C.Vc,ot=C.Fa,_e=C.P+1+V*P,Me=C.mb,We=C.nb+V*P,e(_e<=C.P+C.qc),Ne.Z!=0)for(e(Bc[Ne.Z]!=null),xe=0;xe<Q;++xe)Bc[Ne.Z](Te,Xe,ot,_e,Me,We,P),Te=Me,Xe=We,We+=P,_e+=P;else for(xe=0;xe<Q;++xe)n(Me,We,ot,_e,P),Te=Me,Xe=We,We+=P,_e+=P;C.rc=Te,C.Vc=Xe}else{if(e(Ne.mc!=null),P=V+Q,e((xe=Ne.mc)!=null),e(P<=xe.i),xe.C>=P)P=1;else if(Ne.ic||Uo(),Ne.ic){Ne=xe.V,Te=xe.Ba,Xe=xe.c;var At=xe.i,ct=(ot=1,_e=xe.$/Xe,Me=xe.$%Xe,We=xe.m,dt=xe.s,xe.$),Ct=Xe*At,Lt=Xe*P,Vt=dt.wc,$t=ct<Lt?gr(dt,Me,_e):null;e(ct<=Ct),e(P<=At),e(nr(dt));t:for(;;){for(;!We.h&&ct<Lt;){if(Me&Vt||($t=gr(dt,Me,_e)),e($t!=null),Ae(We),256>(At=jt($t.G[0],$t.H[0],We)))Ne[Te+ct]=At,++ct,++Me>=Xe&&(Me=0,++_e<=P&&!(_e%16)&&Kr(xe,_e));else{if(!(280>At)){ot=0;break t}At=Ut(At-256,We);var br,ur=jt($t.G[4],$t.H[4],We);if(Ae(We),!(ct>=(ur=it(Xe,ur=Ut(ur,We)))&&Ct-ct>=At)){ot=0;break t}for(br=0;br<At;++br)Ne[Te+ct+br]=Ne[Te+ct+br-ur];for(ct+=At,Me+=At;Me>=Xe;)Me-=Xe,++_e<=P&&!(_e%16)&&Kr(xe,_e);ct<Lt&&Me&Vt&&($t=gr(dt,Me,_e))}e(We.h==ne(We))}Kr(xe,_e>P?P:_e);break t}!ot||We.h&&ct<Ct?(ot=0,xe.a=We.h?5:3):xe.$=ct,P=ot}else P=Zt(xe,xe.V,xe.Ba,xe.c,xe.i,P,Ye);if(!P){Q=0;break e}}V+Q>=pe&&(C.Cc=1),Q=1}if(!Q)return null;if(C.Cc&&((Q=C.ga)!=null&&(Q.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+V*le}function pa(C,P,V,Q,le,pe){for(;0<le--;){var xe,Ne=C,_e=P+(V?1:0),Me=C,We=P+(V?0:3);for(xe=0;xe<Q;++xe){var dt=Me[We+4*xe];dt!=255&&(dt*=32897,Ne[_e+4*xe+0]=Ne[_e+4*xe+0]*dt>>23,Ne[_e+4*xe+1]=Ne[_e+4*xe+1]*dt>>23,Ne[_e+4*xe+2]=Ne[_e+4*xe+2]*dt>>23)}P+=pe}}function Oi(C,P,V,Q,le){for(;0<Q--;){var pe;for(pe=0;pe<V;++pe){var xe=C[P+2*pe+0],Ne=15&(Me=C[P+2*pe+1]),_e=4369*Ne,Me=(240&Me|Me>>4)*_e>>16;C[P+2*pe+0]=(240&xe|xe>>4)*_e>>16&240|(15&xe|xe<<4)*_e>>16>>4&15,C[P+2*pe+1]=240&Me|Ne}P+=le}}function ui(C,P,V,Q,le,pe,xe,Ne){var _e,Me,We=255;for(Me=0;Me<le;++Me){for(_e=0;_e<Q;++_e){var dt=C[P+_e];pe[xe+4*_e]=dt,We&=dt}P+=V,xe+=Ne}return We!=255}function ls(C,P,V,Q,le){var pe;for(pe=0;pe<le;++pe)V[Q+pe]=C[P+pe]>>8}function Uo(){Ed=pa,Vo=Oi,jm=ui,So=ls}function Zs(C,P,V){R[C]=function(Q,le,pe,xe,Ne,_e,Me,We,dt,Te,Xe,ot,At,ct,Ct,Lt,Vt){var $t,br=Vt-1>>1,ur=Ne[_e+0]|Me[We+0]<<16,Qr=dt[Te+0]|Xe[ot+0]<<16;e(Q!=null);var mr=3*ur+Qr+131074>>2;for(P(Q[le+0],255&mr,mr>>16,At,ct),pe!=null&&(mr=3*Qr+ur+131074>>2,P(pe[xe+0],255&mr,mr>>16,Ct,Lt)),$t=1;$t<=br;++$t){var vn=Ne[_e+$t]|Me[We+$t]<<16,ka=dt[Te+$t]|Xe[ot+$t]<<16,an=ur+vn+Qr+ka+524296,dr=an+2*(vn+Qr)>>3;mr=dr+ur>>1,ur=(an=an+2*(ur+ka)>>3)+vn>>1,P(Q[le+2*$t-1],255&mr,mr>>16,At,ct+(2*$t-1)*V),P(Q[le+2*$t-0],255&ur,ur>>16,At,ct+(2*$t-0)*V),pe!=null&&(mr=an+Qr>>1,ur=dr+ka>>1,P(pe[xe+2*$t-1],255&mr,mr>>16,Ct,Lt+(2*$t-1)*V),P(pe[xe+2*$t+0],255&ur,ur>>16,Ct,Lt+(2*$t+0)*V)),ur=vn,Qr=ka}1&Vt||(mr=3*ur+Qr+131074>>2,P(Q[le+Vt-1],255&mr,mr>>16,At,ct+(Vt-1)*V),pe!=null&&(mr=3*Qr+ur+131074>>2,P(pe[xe+Vt-1],255&mr,mr>>16,Ct,Lt+(Vt-1)*V)))}}function r0(){hs[s0]=Ld,hs[ks]=ah,hs[o0]=Wx,hs[Go]=f0,hs[Cm]=_u,hs[th]=Yl,hs[Su]=Au,hs[_m]=ah,hs[l0]=f0,hs[rh]=_u,hs[c0]=Yl}function Yf(C){return C&-16384?0>C?0:255:C>>h0}function Ad(C,P){return Yf((19077*C>>8)+(26149*P>>8)-14234)}function Bl(C,P,V){return Yf((19077*C>>8)-(6419*P>>8)-(13320*V>>8)+8708)}function hl(C,P){return Yf((19077*C>>8)+(33050*P>>8)-17685)}function Td(C,P,V,Q,le){Q[le+0]=Ad(C,V),Q[le+1]=Bl(C,P,V),Q[le+2]=hl(C,P)}function vu(C,P,V,Q,le){Q[le+0]=hl(C,P),Q[le+1]=Bl(C,P,V),Q[le+2]=Ad(C,V)}function cs(C,P,V,Q,le){var pe=Bl(C,P,V);P=pe<<3&224|hl(C,P)>>3,Q[le+0]=248&Ad(C,V)|pe>>5,Q[le+1]=P}function wu(C,P,V,Q,le){var pe=240&hl(C,P)|15;Q[le+0]=240&Ad(C,V)|Bl(C,P,V)>>4,Q[le+1]=pe}function ju(C,P,V,Q,le){Q[le+0]=255,Td(C,P,V,Q,le+1)}function Kf(C,P,V,Q,le){vu(C,P,V,Q,le),Q[le+3]=255}function Hl(C,P,V,Q,le){Td(C,P,V,Q,le),Q[le+3]=255}function Va(C,P){return 0>C?0:C>P?P:C}function Ec(C,P,V){R[C]=function(Q,le,pe,xe,Ne,_e,Me,We,dt){for(var Te=We+(-2&dt)*V;We!=Te;)P(Q[le+0],pe[xe+0],Ne[_e+0],Me,We),P(Q[le+1],pe[xe+0],Ne[_e+0],Me,We+V),le+=2,++xe,++_e,We+=2*V;1&dt&&P(Q[le+0],pe[xe+0],Ne[_e+0],Me,We)}}function Xf(C,P,V){return V==0?C==0?P==0?6:5:P==0?4:0:V}function bm(C,P,V,Q,le){switch(C>>>30){case 3:Fc(P,V,Q,le,0);break;case 2:Ns(P,V,Q,le);break;case 1:qn(P,V,Q,le)}}function jo(C,P){var V,Q,le=P.M,pe=P.Nb,xe=C.oc,Ne=C.pc+40,_e=C.oc,Me=C.pc+584,We=C.oc,dt=C.pc+600;for(V=0;16>V;++V)xe[Ne+32*V-1]=129;for(V=0;8>V;++V)_e[Me+32*V-1]=129,We[dt+32*V-1]=129;for(0<le?xe[Ne-1-32]=_e[Me-1-32]=We[dt-1-32]=129:(a(xe,Ne-32-1,127,21),a(_e,Me-32-1,127,9),a(We,dt-32-1,127,9)),Q=0;Q<C.za;++Q){var Te=P.ya[P.aa+Q];if(0<Q){for(V=-1;16>V;++V)n(xe,Ne+32*V-4,xe,Ne+32*V+12,4);for(V=-1;8>V;++V)n(_e,Me+32*V-4,_e,Me+32*V+4,4),n(We,dt+32*V-4,We,dt+32*V+4,4)}var Xe=C.Gd,ot=C.Hd+Q,At=Te.ad,ct=Te.Hc;if(0<le&&(n(xe,Ne-32,Xe[ot].y,0,16),n(_e,Me-32,Xe[ot].f,0,8),n(We,dt-32,Xe[ot].ea,0,8)),Te.Za){var Ct=xe,Lt=Ne-32+16;for(0<le&&(Q>=C.za-1?a(Ct,Lt,Xe[ot].y[15],4):n(Ct,Lt,Xe[ot+1].y,0,4)),V=0;4>V;V++)Ct[Lt+128+V]=Ct[Lt+256+V]=Ct[Lt+384+V]=Ct[Lt+0+V];for(V=0;16>V;++V,ct<<=2)Ct=xe,Lt=Ne+ai[V],Ga[Te.Ob[V]](Ct,Lt),bm(ct,At,16*+V,Ct,Lt)}else if(Ct=Xf(Q,le,Te.Ob[0]),Bs[Ct](xe,Ne),ct!=0)for(V=0;16>V;++V,ct<<=2)bm(ct,At,16*+V,xe,Ne+ai[V]);for(V=Te.Gc,Ct=Xf(Q,le,Te.Dd),xl[Ct](_e,Me),xl[Ct](We,dt),ct=At,Ct=_e,Lt=Me,255&(Te=0|V)&&(170&Te?Wo(ct,256,Ct,Lt):Pn(ct,256,Ct,Lt)),Te=We,ct=dt,255&(V>>=8)&&(170&V?Wo(At,320,Te,ct):Pn(At,320,Te,ct)),le<C.Ub-1&&(n(Xe[ot].y,0,xe,Ne+480,16),n(Xe[ot].f,0,_e,Me+224,8),n(Xe[ot].ea,0,We,dt+224,8)),V=8*pe*C.B,Xe=C.sa,ot=C.ta+16*Q+16*pe*C.R,At=C.qa,Te=C.ra+8*Q+V,ct=C.Ha,Ct=C.Ia+8*Q+V,V=0;16>V;++V)n(Xe,ot+V*C.R,xe,Ne+32*V,16);for(V=0;8>V;++V)n(At,Te+V*C.B,_e,Me+32*V,8),n(ct,Ct+V*C.B,We,dt+32*V,8)}}function ml(C,P,V,Q,le,pe,xe,Ne,_e){var Me=[0],We=[0],dt=0,Te=_e!=null?_e.kd:0,Xe=_e??new Pt;if(C==null||12>V)return 7;Xe.data=C,Xe.w=P,Xe.ha=V,P=[P],V=[V],Xe.gb=[Xe.gb];e:{var ot=P,At=V,ct=Xe.gb;if(e(C!=null),e(At!=null),e(ct!=null),ct[0]=0,12<=At[0]&&!r(C,ot[0],"RIFF")){if(r(C,ot[0]+8,"WEBP")){ct=3;break e}var Ct=ae(C,ot[0]+4);if(12>Ct||4294967286<Ct){ct=3;break e}if(Te&&Ct>At[0]-8){ct=7;break e}ct[0]=Ct,ot[0]+=12,At[0]-=12}ct=0}if(ct!=0)return ct;for(Ct=0<Xe.gb[0],V=V[0];;){e:{var Lt=C;At=P,ct=V;var Vt=Me,$t=We,br=ot=[0];if((mr=dt=[dt])[0]=0,8>ct[0])ct=7;else{if(!r(Lt,At[0],"VP8X")){if(ae(Lt,At[0]+4)!=10){ct=3;break e}if(18>ct[0]){ct=7;break e}var ur=ae(Lt,At[0]+8),Qr=1+ge(Lt,At[0]+12);if(2147483648<=Qr*(Lt=1+ge(Lt,At[0]+15))){ct=3;break e}br!=null&&(br[0]=ur),Vt!=null&&(Vt[0]=Qr),$t!=null&&($t[0]=Lt),At[0]+=18,ct[0]-=18,mr[0]=1}ct=0}}if(dt=dt[0],ot=ot[0],ct!=0)return ct;if(At=!!(2&ot),!Ct&&dt)return 3;if(pe!=null&&(pe[0]=!!(16&ot)),xe!=null&&(xe[0]=At),Ne!=null&&(Ne[0]=0),xe=Me[0],ot=We[0],dt&&At&&_e==null){ct=0;break}if(4>V){ct=7;break}if(Ct&&dt||!Ct&&!dt&&!r(C,P[0],"ALPH")){V=[V],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{ur=C,ct=P,Ct=V;var mr=Xe.gb;Vt=Xe.na,$t=Xe.P,br=Xe.Sa,Qr=22,e(ur!=null),e(Ct!=null),Lt=ct[0];var vn=Ct[0];for(e(Vt!=null),e(br!=null),Vt[0]=null,$t[0]=null,br[0]=0;;){if(ct[0]=Lt,Ct[0]=vn,8>vn){ct=7;break e}var ka=ae(ur,Lt+4);if(4294967286<ka){ct=3;break e}var an=8+ka+1&-2;if(Qr+=an,0<mr&&Qr>mr){ct=3;break e}if(!r(ur,Lt,"VP8 ")||!r(ur,Lt,"VP8L")){ct=0;break e}if(vn[0]<an){ct=7;break e}r(ur,Lt,"ALPH")||(Vt[0]=ur,$t[0]=Lt+8,br[0]=ka),Lt+=an,vn-=an}}if(V=V[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],ct!=0)break}V=[V],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(mr=C,ct=P,Ct=V,Vt=Xe.gb[0],$t=Xe.Ja,br=Xe.xa,ur=ct[0],Lt=!r(mr,ur,"VP8 "),Qr=!r(mr,ur,"VP8L"),e(mr!=null),e(Ct!=null),e($t!=null),e(br!=null),8>Ct[0])ct=7;else{if(Lt||Qr){if(mr=ae(mr,ur+4),12<=Vt&&mr>Vt-12){ct=3;break e}if(Te&&mr>Ct[0]-8){ct=7;break e}$t[0]=mr,ct[0]+=8,Ct[0]-=8,br[0]=Qr}else br[0]=5<=Ct[0]&&mr[ur+0]==47&&!(mr[ur+4]>>5),$t[0]=Ct[0];ct=0}if(V=V[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],P=P[0],ct!=0)break;if(4294967286<Xe.Ja)return 3;if(Ne==null||At||(Ne[0]=Xe.xa?2:1),xe=[xe],ot=[ot],Xe.xa){if(5>V){ct=7;break}Ne=xe,Te=ot,At=pe,C==null||5>V?C=0:5<=V&&C[P+0]==47&&!(C[P+4]>>5)?(Ct=[0],mr=[0],Vt=[0],Z($t=new J,C,P,V),Ht($t,Ct,mr,Vt)?(Ne!=null&&(Ne[0]=Ct[0]),Te!=null&&(Te[0]=mr[0]),At!=null&&(At[0]=Vt[0]),C=1):C=0):C=0}else{if(10>V){ct=7;break}Ne=ot,C==null||10>V||!In(C,P+3,V-3)?C=0:(Te=C[P+0]|C[P+1]<<8|C[P+2]<<16,At=16383&(C[P+7]<<8|C[P+6]),C=16383&(C[P+9]<<8|C[P+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Xe.Ja||!At||!C?C=0:(xe&&(xe[0]=At),Ne&&(Ne[0]=C),C=1))}if(!C||(xe=xe[0],ot=ot[0],dt&&(Me[0]!=xe||We[0]!=ot)))return 3;_e!=null&&(_e[0]=Xe,_e.offset=P-_e.w,e(4294967286>P-_e.w),e(_e.offset==_e.ha-V));break}return ct==0||ct==7&&dt&&_e==null?(pe!=null&&(pe[0]|=Xe.na!=null&&0<Xe.na.length),Q!=null&&(Q[0]=xe),le!=null&&(le[0]=ot),0):ct}function Dc(C,P,V){var Q=P.width,le=P.height,pe=0,xe=0,Ne=Q,_e=le;if(P.Da=C!=null&&0<C.Da,P.Da&&(Ne=C.cd,_e=C.bd,pe=C.v,xe=C.j,11>V||(pe&=-2,xe&=-2),0>pe||0>xe||0>=Ne||0>=_e||pe+Ne>Q||xe+_e>le))return 0;if(P.v=pe,P.j=xe,P.va=pe+Ne,P.o=xe+_e,P.U=Ne,P.T=_e,P.da=C!=null&&0<C.da,P.da){if(!Pe(Ne,_e,V=[C.ib],pe=[C.hb]))return 0;P.ib=V[0],P.hb=pe[0]}return P.ob=C!=null&&C.ob,P.Kb=C==null||!C.Sd,P.da&&(P.ob=P.ib<3*Q/4&&P.hb<3*le/4,P.Kb=0),1}function vm(C){if(C==null)return 2;if(11>C.S){var P=C.f.RGBA;P.fb+=(C.height-1)*P.A,P.A=-P.A}else P=C.f.kb,C=C.height,P.O+=(C-1)*P.fa,P.fa=-P.fa,P.N+=(C-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(C-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(C-1)*P.lb,P.lb=-P.lb);return 0}function pl(C,P,V,Q){if(Q==null||0>=C||0>=P)return 2;if(V!=null){if(V.Da){var le=V.cd,pe=V.bd,xe=-2&V.v,Ne=-2&V.j;if(0>xe||0>Ne||0>=le||0>=pe||xe+le>C||Ne+pe>P)return 2;C=le,P=pe}if(V.da){if(!Pe(C,P,le=[V.ib],pe=[V.hb]))return 2;C=le[0],P=pe[0]}}Q.width=C,Q.height=P;e:{var _e=Q.width,Me=Q.height;if(C=Q.S,0>=_e||0>=Me||!(C>=s0&&13>C))C=2;else{if(0>=Q.Rd&&Q.sd==null){xe=pe=le=P=0;var We=(Ne=_e*p0[C])*Me;if(11>C||(pe=(Me+1)/2*(P=(_e+1)/2),C==12&&(xe=(le=_e)*Me)),(Me=s(We+2*pe+xe))==null){C=1;break e}Q.sd=Me,11>C?((_e=Q.f.RGBA).eb=Me,_e.fb=0,_e.A=Ne,_e.size=We):((_e=Q.f.kb).y=Me,_e.O=0,_e.fa=Ne,_e.Fd=We,_e.f=Me,_e.N=0+We,_e.Ab=P,_e.Cd=pe,_e.ea=Me,_e.W=0+We+pe,_e.Db=P,_e.Ed=pe,C==12&&(_e.F=Me,_e.J=0+We+2*pe),_e.Tc=xe,_e.lb=le)}if(P=1,le=Q.S,pe=Q.width,xe=Q.height,le>=s0&&13>le)if(11>le)C=Q.f.RGBA,P&=(Ne=Math.abs(C.A))*(xe-1)+pe<=C.size,P&=Ne>=pe*p0[le],P&=C.eb!=null;else{C=Q.f.kb,Ne=(pe+1)/2,We=(xe+1)/2,_e=Math.abs(C.fa),Me=Math.abs(C.Ab);var dt=Math.abs(C.Db),Te=Math.abs(C.lb),Xe=Te*(xe-1)+pe;P&=_e*(xe-1)+pe<=C.Fd,P&=Me*(We-1)+Ne<=C.Cd,P=(P&=dt*(We-1)+Ne<=C.Ed)&_e>=pe&Me>=Ne&dt>=Ne,P&=C.y!=null,P&=C.f!=null,P&=C.ea!=null,le==12&&(P&=Te>=pe,P&=Xe<=C.Tc,P&=C.F!=null)}else P=0;C=P?0:2}}return C!=0||V!=null&&V.fd&&(C=vm(Q)),C}var Nu=64,eo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,zl=32,ql=8,Pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(C){return C},R.Predictor2=function(C,P,V){return P[V+0]},R.Predictor3=function(C,P,V){return P[V+1]},R.Predictor4=function(C,P,V){return P[V-1]},R.Predictor5=function(C,P,V){return _t(_t(C,P[V+1]),P[V+0])},R.Predictor6=function(C,P,V){return _t(C,P[V-1])},R.Predictor7=function(C,P,V){return _t(C,P[V+0])},R.Predictor8=function(C,P,V){return _t(P[V-1],P[V+0])},R.Predictor9=function(C,P,V){return _t(P[V+0],P[V+1])},R.Predictor10=function(C,P,V){return _t(_t(C,P[V-1]),_t(P[V+0],P[V+1]))},R.Predictor11=function(C,P,V){var Q=P[V+0];return 0>=at(Q>>24&255,C>>24&255,(P=P[V-1])>>24&255)+at(Q>>16&255,C>>16&255,P>>16&255)+at(Q>>8&255,C>>8&255,P>>8&255)+at(255&Q,255&C,255&P)?Q:C},R.Predictor12=function(C,P,V){var Q=P[V+0];return(Se((C>>24&255)+(Q>>24&255)-((P=P[V-1])>>24&255))<<24|Se((C>>16&255)+(Q>>16&255)-(P>>16&255))<<16|Se((C>>8&255)+(Q>>8&255)-(P>>8&255))<<8|Se((255&C)+(255&Q)-(255&P)))>>>0},R.Predictor13=function(C,P,V){var Q=P[V-1];return(gt((C=_t(C,P[V+0]))>>24&255,Q>>24&255)<<24|gt(C>>16&255,Q>>16&255)<<16|gt(C>>8&255,Q>>8&255)<<8|gt(255&C,255&Q))>>>0};var Jf=R.PredictorAdd0;R.PredictorAdd1=Nt,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var Qf=R.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var ri,n0=R.ColorIndexInverseTransform,Ul=R.MapARGB,Wl=R.VP8LColorIndexInverseTransformAlpha,us=R.MapAlpha,Lc=R.VP8LPredictorsAdd=[];Lc.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Zf,eh,Rc,Ic,Vl,Md,No,Fc,Ns,Wo,qn,Pn,ga,ni,Gl,gl,Od,wm,Bx,g1,x1,y1,Hx,zx,Ed,Vo,jm,So,Dd=s(511),a0=s(2041),Nm=s(225),Sm=s(767),i0=0,$c=a0,km=Nm,Ss=Sm,ds=Dd,s0=0,ks=1,o0=2,Go=3,Cm=4,th=5,Su=6,_m=7,l0=8,rh=9,c0=10,Yo=[2,3,7],nh=[3,3,11],Pd=[280,256,256,256,40],u0=[0,1,1,1,0],Am=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ko=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ku=8,Jo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ko=null,b1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],d0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],v1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bs=[],Ga=[],xl=[],Cu=1,Ux=2,Bc=[],hs=[];Zs("UpsampleRgbLinePair",Td,3),Zs("UpsampleBgrLinePair",vu,3),Zs("UpsampleRgbaLinePair",Hl,4),Zs("UpsampleBgraLinePair",Kf,4),Zs("UpsampleArgbLinePair",ju,4),Zs("UpsampleRgba4444LinePair",wu,2),Zs("UpsampleRgb565LinePair",cs,2);var Ld=R.UpsampleRgbLinePair,Wx=R.UpsampleBgrLinePair,ah=R.UpsampleRgbaLinePair,f0=R.UpsampleBgraLinePair,_u=R.UpsampleArgbLinePair,Yl=R.UpsampleRgba4444LinePair,Au=R.UpsampleRgb565LinePair,Zo=16,ih=1<<Zo-1,Rd=-227,Tu=482,h0=6,Mu=0,ms=s(256),m0=s(256),w1=s(256),$S=s(256),BS=s(Tu-Rd),HS=s(Tu-Rd);Ec("YuvToRgbRow",Td,3),Ec("YuvToBgrRow",vu,3),Ec("YuvToRgbaRow",Hl,4),Ec("YuvToBgraRow",Kf,4),Ec("YuvToArgbRow",ju,4),Ec("YuvToRgba4444Row",wu,2),Ec("YuvToRgb565Row",cs,2);var ai=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sh=[0,2,8],Tm=[8,7,6,4,4,2,2,2,1,1,1,1],Mm=1;this.WebPDecodeRGBA=function(C,P,V,Q,le){var pe=ks,xe=new rt,Ne=new K;xe.ba=Ne,Ne.S=pe,Ne.width=[Ne.width],Ne.height=[Ne.height];var _e=Ne.width,Me=Ne.height,We=new ve;if(We==null||C==null)var dt=2;else e(We!=null),dt=ml(C,P,V,We.width,We.height,We.Pd,We.Qd,We.format,null);if(dt!=0?_e=0:(_e!=null&&(_e[0]=We.width[0]),Me!=null&&(Me[0]=We.height[0]),_e=1),_e){Ne.width=Ne.width[0],Ne.height=Ne.height[0],Q!=null&&(Q[0]=Ne.width),le!=null&&(le[0]=Ne.height);e:{if(Q=new wn,(le=new Pt).data=C,le.w=P,le.ha=V,le.kd=1,P=[0],e(le!=null),((C=ml(le.data,le.w,le.ha,null,null,null,P,null,le))==0||C==7)&&P[0]&&(C=4),(P=C)==0){if(e(xe!=null),Q.data=le.data,Q.w=le.w+le.offset,Q.ha=le.ha-le.offset,Q.put=ze,Q.ac=Fe,Q.bc=Rt,Q.ma=xe,le.xa){if((C=tt())==null){xe=1;break e}if((function(Te,Xe){var ot=[0],At=[0],ct=[0];t:for(;;){if(Te==null)return 0;if(Xe==null)return Te.a=2,0;if(Te.l=Xe,Te.a=0,Z(Te.m,Xe.data,Xe.w,Xe.ha),!Ht(Te.m,ot,At,ct)){Te.a=3;break t}if(Te.xb=Ux,Xe.width=ot[0],Xe.height=At[0],!Mt(ot[0],At[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(C,Q)){if(Q=(P=pl(Q.width,Q.height,xe.Oa,xe.ba))==0){t:{Q=C;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((V=Q.l)!=null),e((le=V.ma)!=null),Q.xb!=0){if(Q.ca=le.ba,Q.tb=le.tb,e(Q.ca!=null),!Dc(le.Oa,V,Go)){Q.a=2;break r}if(!de(Q,V.width)||V.da)break r;if((V.da||ft(Q.ca.S))&&Uo(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Uo()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!ie(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!Zt(Q,Q.V,Q.Ba,Q.c,Q.i,V.o,gn))break r;le.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(P=C.a)}else P=C.a}else{if((C=new An)==null){xe=1;break e}if(C.Fa=le.na,C.P=le.P,C.qc=le.Sa,Cc(C,Q)){if((P=pl(Q.width,Q.height,xe.Oa,xe.ba))==0){if(C.Aa=0,V=xe.Oa,e((le=C)!=null),V!=null){if(0<(_e=0>(_e=V.Md)?0:100<_e?255:255*_e/100)){for(Me=We=0;4>Me;++Me)12>(dt=le.pb[Me]).lc&&(dt.ia=_e*Tm[0>dt.lc?0:dt.lc]>>3),We|=dt.ia;We&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=V.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}(function(Te,Xe){if(Te==null)return 0;if(Xe==null)return en(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!Cc(Te,Xe))return 0;if(e(Te.cb),Xe.ac==null||Xe.ac(Xe)){Xe.ob&&(Te.L=0);var ot=sh[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Xe.v-ot>>4,Te.zb=Xe.j-ot>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Xe.o+15+ot>>4,Te.Hb=Xe.va+15+ot>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var At=Te.ed;for(ot=0;4>ot;++ot){var ct;if(Te.Qa.Cb){var Ct=Te.Qa.Lb[ot];Te.Qa.Fb||(Ct+=At.Tb)}else Ct=At.Tb;for(ct=0;1>=ct;++ct){var Lt=Te.gd[ot][ct],Vt=Ct;if(At.Pc&&(Vt+=At.vd[0],ct&&(Vt+=At.od[0])),0<(Vt=0>Vt?0:63<Vt?63:Vt)){var $t=Vt;0<At.wb&&($t=4<At.wb?$t>>2:$t>>1)>9-At.wb&&($t=9-At.wb),1>$t&&($t=1),Lt.dd=$t,Lt.tc=2*Vt+$t,Lt.ld=40<=Vt?2:15<=Vt?1:0}else Lt.tc=0;Lt.La=ct}}}ot=0}else en(Te,6,"Frame setup failed"),ot=Te.a;if(ot=ot==0){if(ot){Te.$c=0,0<Te.Aa||(Te.Ic=Mm);t:{ot=Te.Ic,At=4*($t=Te.za);var br=32*$t,ur=$t+1,Qr=0<Te.L?$t*(0<Te.Aa?2:1):0,mr=(Te.Aa==2?2:1)*$t;if((Lt=At+832+(ct=3*(16*ot+sh[Te.L])/2*br)+(Ct=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=Lt)ot=0;else{if(Lt>Te.Vb){if(Te.Vb=0,Te.Ec=s(Lt),Te.Fc=0,Te.Ec==null){ot=en(Te,1,"no memory during frame initialization.");break t}Te.Vb=Lt}Lt=Te.Ec,Vt=Te.Fc,Te.Ac=Lt,Te.Bc=Vt,Vt+=At,Te.Gd=o(br,Fs),Te.Hd=0,Te.rb=o(ur+1,cr),Te.sb=1,Te.wa=Qr?o(Qr,jr):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=$t),e(!0),Te.oc=Lt,Te.pc=Vt,Vt+=832,Te.ya=o(mr,ha),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=$t),Te.R=16*$t,Te.B=8*$t,$t=(br=sh[Te.L])*Te.R,br=br/2*Te.B,Te.sa=Lt,Te.ta=Vt+$t,Te.qa=Te.sa,Te.ra=Te.ta+16*ot*Te.R+br,Te.Ha=Te.qa,Te.Ia=Te.ra+8*ot*Te.B+br,Te.$c=0,Vt+=ct,Te.mb=Ct?Lt:null,Te.nb=Ct?Vt:null,e(Vt+Ct<=Te.Fc+Te.Vb),yo(Te),a(Te.Ac,Te.Bc,0,At),ot=1}}if(ot){if(Xe.ka=0,Xe.y=Te.sa,Xe.O=Te.ta,Xe.f=Te.qa,Xe.N=Te.ra,Xe.ea=Te.Ha,Xe.Vd=Te.Ia,Xe.fa=Te.R,Xe.Rc=Te.B,Xe.F=null,Xe.J=0,!i0){for(ot=-255;255>=ot;++ot)Dd[255+ot]=0>ot?-ot:ot;for(ot=-1020;1020>=ot;++ot)a0[1020+ot]=-128>ot?-128:127<ot?127:ot;for(ot=-112;112>=ot;++ot)Nm[112+ot]=-16>ot?-16:15<ot?15:ot;for(ot=-255;510>=ot;++ot)Sm[255+ot]=0>ot?0:255<ot?255:ot;i0=1}No=se,Fc=Uf,Wo=vd,qn=ns,Pn=wd,Ns=bd,ga=Zp,ni=e0,Gl=z,gl=oe,Od=Oc,wm=t0,Bx=Oe,g1=He,x1=Cd,y1=Tc,Hx=bu,zx=_d,Ga[0]=xm,Ga[1]=Ie,Ga[2]=yu,Ga[3]=Jp,Ga[4]=Qp,Ga[5]=ss,Ga[6]=bo,Ga[7]=ym,Ga[8]=vo,Ga[9]=Nd,Bs[0]=Ti,Bs[1]=cn,Bs[2]=xn,Bs[3]=as,Bs[4]=Mi,Bs[5]=Rl,Bs[6]=jd,xl[0]=_c,xl[1]=Qt,xl[2]=Sd,xl[3]=Il,xl[4]=Vf,xl[5]=Wf,xl[6]=Vi,ot=1}else ot=0}ot&&(ot=(function(vn,ka){for(vn.M=0;vn.M<vn.Va;++vn.M){var an,dr=vn.Jc[vn.M&vn.Xb],er=vn.m,Fa=vn;for(an=0;an<Fa.za;++an){var Br=er,ln=Fa,Xn=ln.Ac,Ei=ln.Bc+4*an,ps=ln.zc,xa=ln.ya[ln.aa+an];if(ln.Qa.Bb?xa.$b=Ce(Br,ln.Pa.jb[0])?2+Ce(Br,ln.Pa.jb[2]):Ce(Br,ln.Pa.jb[1]):xa.$b=0,ln.kc&&(xa.Ad=Ce(Br,ln.Bd)),xa.Za=!Ce(Br,145)+0,xa.Za){var di=xa.Ob,Cs=0;for(ln=0;4>ln;++ln){var fi,hn=ps[0+ln];for(fi=0;4>fi;++fi){hn=fs[Xn[Ei+fi]][hn];for(var Fn=d0[Ce(Br,hn[0])];0<Fn;)Fn=d0[2*Fn+Ce(Br,hn[Fn])];hn=-Fn,Xn[Ei+fi]=hn}n(di,Cs,Xn,Ei,4),Cs+=4,ps[0+ln]=hn}}else hn=Ce(Br,156)?Ce(Br,128)?1:3:Ce(Br,163)?2:0,xa.Ob[0]=hn,a(Xn,Ei,hn,4),a(ps,0,hn,4);xa.Dd=Ce(Br,142)?Ce(Br,114)?Ce(Br,183)?1:3:2:0}if(Fa.m.Ka)return en(vn,7,"Premature end-of-partition0 encountered.");for(;vn.ja<vn.za;++vn.ja){if(Fa=dr,Br=(er=vn).rb[er.sb-1],Xn=er.rb[er.sb+er.ja],an=er.ya[er.aa+er.ja],Ei=er.kc?an.Ad:0)Br.la=Xn.la=0,an.Za||(Br.Na=Xn.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var $a,Un;if(Br=Xn,Xn=Fa,Ei=er.Pa.Xc,ps=er.ya[er.aa+er.ja],xa=er.pb[ps.$b],ln=ps.ad,di=0,Cs=er.rb[er.sb-1],hn=fi=0,a(ln,di,0,384),ps.Za)var Di=0,Ba=Ei[3];else{Fn=s(16);var $n=Br.Na+Cs.Na;if($n=ko(Xn,Ei[1],$n,xa.Eb,0,Fn,0),Br.Na=Cs.Na=(0<$n)+0,1<$n)No(Fn,0,ln,di);else{var ii=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)ln[di+Fn]=ii}Di=1,Ba=Ei[0]}var Jn=15&Br.la,hi=15&Cs.la;for(Fn=0;4>Fn;++Fn){var mi=1&hi;for(ii=Un=0;4>ii;++ii)Jn=Jn>>1|(mi=($n=ko(Xn,Ba,$n=mi+(1&Jn),xa.Sc,Di,ln,di))>Di)<<7,Un=Un<<2|(3<$n?3:1<$n?2:ln[di+0]!=0),di+=16;Jn>>=4,hi=hi>>1|mi<<7,fi=(fi<<8|Un)>>>0}for(Ba=Jn,Di=hi>>4,$a=0;4>$a;$a+=2){for(Un=0,Jn=Br.la>>4+$a,hi=Cs.la>>4+$a,Fn=0;2>Fn;++Fn){for(mi=1&hi,ii=0;2>ii;++ii)$n=mi+(1&Jn),Jn=Jn>>1|(mi=0<($n=ko(Xn,Ei[2],$n,xa.Qc,0,ln,di)))<<3,Un=Un<<2|(3<$n?3:1<$n?2:ln[di+0]!=0),di+=16;Jn>>=2,hi=hi>>1|mi<<5}hn|=Un<<4*$a,Ba|=Jn<<4<<$a,Di|=(240&hi)<<$a}Br.la=Ba,Cs.la=Di,ps.Hc=fi,ps.Gc=hn,ps.ia=43690&hn?0:xa.ia,Ei=!(fi|hn)}if(0<er.L&&(er.wa[er.Y+er.ja]=er.gd[an.$b][an.Za],er.wa[er.Y+er.ja].La|=!Ei),Fa.Ka)return en(vn,7,"Premature end-of-file encountered.")}if(yo(vn),er=ka,Fa=1,an=(dr=vn).D,Br=0<dr.L&&dr.M>=dr.zb&&dr.M<=dr.Va,dr.Aa==0)t:{if(an.M=dr.M,an.uc=Br,jo(dr,an),Fa=1,an=(Un=dr.D).Nb,Br=(hn=sh[dr.L])*dr.R,Xn=hn/2*dr.B,Fn=16*an*dr.R,ii=8*an*dr.B,Ei=dr.sa,ps=dr.ta-Br+Fn,xa=dr.qa,ln=dr.ra-Xn+ii,di=dr.Ha,Cs=dr.Ia-Xn+ii,hi=(Jn=Un.M)==0,fi=Jn>=dr.Va-1,dr.Aa==2&&jo(dr,Un),Un.uc)for(mi=($n=dr).D.M,e($n.D.uc),Un=$n.yb;Un<$n.Hb;++Un){Di=Un,Ba=mi;var oa=(Ln=(pi=$n).D).Nb;$a=pi.R;var Ln=Ln.wa[Ln.Y+Di],_s=pi.sa,Ya=pi.ta+16*oa*$a+16*Di,Or=Ln.dd,Er=Ln.tc;if(Er!=0)if(e(3<=Er),pi.L==1)0<Di&&y1(_s,Ya,$a,Er+4),Ln.La&&zx(_s,Ya,$a,Er),0<Ba&&x1(_s,Ya,$a,Er+4),Ln.La&&Hx(_s,Ya,$a,Er);else{var Bn=pi.B,to=pi.qa,el=pi.ra+8*oa*Bn+8*Di,Hs=pi.Ha,pi=pi.Ia+8*oa*Bn+8*Di;oa=Ln.ld,0<Di&&(ni(_s,Ya,$a,Er+4,Or,oa),gl(to,el,Hs,pi,Bn,Er+4,Or,oa)),Ln.La&&(wm(_s,Ya,$a,Er,Or,oa),g1(to,el,Hs,pi,Bn,Er,Or,oa)),0<Ba&&(ga(_s,Ya,$a,Er+4,Or,oa),Gl(to,el,Hs,pi,Bn,Er+4,Or,oa)),Ln.La&&(Od(_s,Ya,$a,Er,Or,oa),Bx(to,el,Hs,pi,Bn,Er,Or,oa))}}if(dr.ia&&alert("todo:DitherRow"),er.put!=null){if(Un=16*Jn,Jn=16*(Jn+1),hi?(er.y=dr.sa,er.O=dr.ta+Fn,er.f=dr.qa,er.N=dr.ra+ii,er.ea=dr.Ha,er.W=dr.Ia+ii):(Un-=hn,er.y=Ei,er.O=ps,er.f=xa,er.N=ln,er.ea=di,er.W=Cs),fi||(Jn-=hn),Jn>er.o&&(Jn=er.o),er.F=null,er.J=null,dr.Fa!=null&&0<dr.Fa.length&&Un<Jn&&(er.J=ti(dr,er,Un,Jn-Un),er.F=dr.mb,er.F==null&&er.F.length==0)){Fa=en(dr,3,"Could not decode alpha data.");break t}Un<er.j&&(hn=er.j-Un,Un=er.j,e(!(1&hn)),er.O+=dr.R*hn,er.N+=dr.B*(hn>>1),er.W+=dr.B*(hn>>1),er.F!=null&&(er.J+=er.width*hn)),Un<Jn&&(er.O+=er.v,er.N+=er.v>>1,er.W+=er.v>>1,er.F!=null&&(er.J+=er.v),er.ka=Un-er.j,er.U=er.va-er.v,er.T=Jn-Un,Fa=er.put(er))}an+1!=dr.Ic||fi||(n(dr.sa,dr.ta-Br,Ei,ps+16*dr.R,Br),n(dr.qa,dr.ra-Xn,xa,ln+8*dr.B,Xn),n(dr.Ha,dr.Ia-Xn,di,Cs+8*dr.B,Xn))}if(!Fa)return en(vn,6,"Output aborted.")}return 1})(Te,Xe)),Xe.bc!=null&&Xe.bc(Xe),ot&=1}return ot?(Te.cb=0,ot):0})(C,Q)||(P=C.a)}}else P=C.a}P==0&&xe.Oa!=null&&xe.Oa.fd&&(P=vm(xe.ba))}xe=P}pe=xe!=0?null:11>pe?Ne.f.RGBA.eb:Ne.f.kb.y}else pe=null;return pe};var p0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,B){for(var D="",M=0;M<4;M++)D+=String.fromCharCode(R[B++]);return D}function f(R,B){return R[B+0]|R[B+1]<<8}function m(R,B){return(R[B+0]|R[B+1]<<8|R[B+2]<<16)>>>0}function g(R,B){return(R[B+0]|R[B+1]<<8|R[B+2]<<16|R[B+3]<<24)>>>0}new c;var p=[0],v=[0],w=[],b=new c,N=t,k=(function(R,B){var D={},M=0,H=!1,G=0,Y=0;if(D.frames=[],!(function(U,J){for(var ee=0;ee<4;ee++)if(U[J+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(R,B)){for(g(R,B+=4),B+=8;B<R.length;){var W=u(R,B),$=g(R,B+=4);B+=4;var q=$+(1&$);switch(W){case"VP8 ":case"VP8L":D.frames[M]===void 0&&(D.frames[M]={}),(X=D.frames[M]).src_off=H?Y:B-8,X.src_size=G+$+8,M++,H&&(H=!1,G=0,Y=0);break;case"VP8X":(X=D.header={}).feature_flags=R[B];var Z=B+4;X.canvas_width=1+m(R,Z),Z+=3,X.canvas_height=1+m(R,Z),Z+=3;break;case"ALPH":H=!0,G=q+8,Y=B-8;break;case"ANIM":(X=D.header).bgcolor=g(R,B),Z=B+4,X.loop_count=f(R,Z),Z+=2;break;case"ANMF":var ce,X;(X=D.frames[M]={}).offset_x=2*m(R,B),B+=3,X.offset_y=2*m(R,B),B+=3,X.width=1+m(R,B),B+=3,X.height=1+m(R,B),B+=3,X.duration=m(R,B),B+=3,ce=R[B++],X.dispose=1&ce,X.blend=ce>>1&1}W!="ANMF"&&(B+=q)}return D}})(N,0);k.response=N,k.rgbaoutput=!0,k.dataurl=!1;var S=k.header?k.header:null,A=k.frames?k.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],v=[S.canvas_width];for(var _=0;_<A.length&&A[_].blend!=0;_++);}var O=A[0],I=b.WebPDecodeRGBA(N,O.src_off,O.src_size,v,p);O.rgba=I,O.imgwidth=v[0],O.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)w[L]=I[L];return this.width=v,this.height=p,this.data=w,this}(function(t){var e,r,n,a,s,o,l,c,u,f=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var m=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=U;Object.defineProperty(this,"pdf",{get:function(){return J}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(ae){ee=!!ae}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ae){ne=!!ae}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(ae){isNaN(ae)||(ue=ae)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(ae){isNaN(ae)||(Ae=ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ae){var ie;typeof ae=="number"?ie=[ae,ae,ae,ae]:((ie=new Array(4))[0]=ae[0],ie[1]=ae.length>=2?ae[1]:ie[0],ie[2]=ae.length>=3?ae[2]:ie[0],ie[3]=ae.length>=4?ae[3]:ie[1]),u.margin=ie}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(ae){ke=ae}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(ae){je=ae}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ae){Ce=ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ae){ae instanceof f&&(u=ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ae){u.path=ae}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(ae){Be=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var ie;ie=g(ae),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var ie=g(ae);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var fe=null,ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(ae){fe=null,ge=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var ie;if(this.ctx.font=ae,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var ht=ie[1];ie[2];var ut=ie[3],Pe=ie[4];ie[5];var Ke=ie[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(yt==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Qe=(function(vt){var bt,Je,Le=[],et=vt.trim();if(et==="")return WT;if(et in sG)return[sG[et]];for(;et!=="";){switch(Je=null,bt=(et=lG(et)).charAt(0)){case'"':case"'":Je=iqe(et.substring(1),bt);break;default:Je=sqe(et)}if(Je===null||(Le.push(Je[0]),(et=lG(Je[1]))!==""&&et.charAt(0)!==","))return WT;et=et.replace(/^,/,"")}return Le})(Ke);if(this.fontFaces){var Tt=(function(vt,bt){if(fe===null){var Je=(function(Le){var et=[];return Object.keys(Le).forEach(function(lt){Le[lt].forEach(function(be){var me=null;switch(be){case"bold":me={family:lt,weight:"bold"};break;case"italic":me={family:lt,style:"italic"};break;case"bolditalic":me={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":me={family:lt}}me!==null&&(me.ref={name:lt,style:be},et.push(me))})}),et})(vt.getFontList());fe=(function(Le){for(var et={},lt=0;lt<Le.length;++lt){var be=UT(Le[lt]),me=be.family,qe=be.stretch,ft=be.style,Ge=be.weight;et[me]=et[me]||{},et[me][qe]=et[me][qe]||{},et[me][qe][ft]=et[me][qe][ft]||{},et[me][qe][ft][Ge]=be}return et})(Je.concat(bt))}return fe})(this.pdf,this.fontFaces),_t=Qe.map(function(vt){return{family:vt,stretch:"normal",weight:ut,style:ht}}),Se=(function(vt,bt,Je){for(var Le=(Je=Je||{}).defaultFontFamily||"times",et=Object.assign({},aqe,Je.genericFontFamilies||{}),lt=null,be=null,me=0;me<bt.length;++me)if(et[(lt=UT(bt[me])).family]&&(lt.family=et[lt.family]),vt.hasOwnProperty(lt.family)){be=vt[lt.family];break}if(!(be=be||vt[Le]))throw new Error("Could not find a font-family for the rule '"+oG(lt)+"' and default family '"+Le+"'.");if(be=(function(qe,ft){if(ft[qe])return ft[qe];var Ge=J6[qe],we=Ge<=J6.normal?-1:1,K=iG(ft,oae,Ge,we);if(!K)throw new Error("Could not find a matching font-stretch value for "+qe);return K})(lt.stretch,be),be=(function(qe,ft){if(ft[qe])return ft[qe];for(var Ge=sae[qe],we=0;we<Ge.length;++we)if(ft[Ge[we]])return ft[Ge[we]];throw new Error("Could not find a matching font-style for "+qe)})(lt.style,be),!(be=(function(qe,ft){if(ft[qe])return ft[qe];if(qe===400&&ft[500])return ft[500];if(qe===500&&ft[400])return ft[400];var Ge=nqe[qe],we=iG(ft,lae,Ge,qe<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+qe);return we})(lt.weight,be)))throw new Error("Failed to resolve a font for the rule '"+oG(lt)+"'.");return be})(Tt,_t);this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var gt="";(ut==="bold"||parseInt(ut,10)>=700||ht==="bold")&&(gt="bold"),ht==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var at="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<Qe.length;kt++){if(this.pdf.internal.getFont(Qe[kt],gt,{noFallback:!0,disableWarning:!0})!==void 0){at=Qe[kt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(Qe[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Qe[kt],gt="bold";else if(this.pdf.internal.getFont(Qe[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Qe[kt],gt="normal";break}}if(at===""){for(var Ee=0;Ee<Qe.length;Ee++)if(Nt[Qe[Ee]]){at=Nt[Qe[Ee]];break}}at=at===""?"Times":at,this.pdf.setFont(at,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};m.prototype.setLineDash=function(U){this.lineDash=U},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){A.call(this,"fill",!1)},m.prototype.stroke=function(){A.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(U,J){if(isNaN(U)||isNaN(J))throw _a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(U,J));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(U,J)},m.prototype.closePath=function(){var U=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Hn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){U=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},m.prototype.lineTo=function(U,J){if(isNaN(U)||isNaN(J))throw _a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(U,J));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},m.prototype.quadraticCurveTo=function(U,J,ee,ne){if(isNaN(ee)||isNaN(ne)||isNaN(U)||isNaN(J))throw _a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(ee,ne)),Ae=this.ctx.transform.applyToPoint(new o(U,J));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},m.prototype.bezierCurveTo=function(U,J,ee,ne,ue,Ae){if(isNaN(ue)||isNaN(Ae)||isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne))throw _a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new o(ue,Ae)),je=this.ctx.transform.applyToPoint(new o(U,J)),Ce=this.ctx.transform.applyToPoint(new o(ee,ne));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:Ce.x,y2:Ce.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new o(ke.x,ke.y)},m.prototype.arc=function(U,J,ee,ne,ue,Ae){if(isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne)||isNaN(ue))throw _a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new o(U,J));U=ke.x,J=ke.y;var je=this.ctx.transform.applyToPoint(new o(0,ee)),Ce=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(je.x-Ce.x,2)+Math.pow(je.y-Ce.y,2))}Math.abs(ue-ne)>=2*Math.PI&&(ne=0,ue=2*Math.PI),this.path.push({type:"arc",x:U,y:J,radius:ee,startAngle:ne,endAngle:ue,counterclockwise:Ae})},m.prototype.arcTo=function(U,J,ee,ne,ue){throw new Error("arcTo not implemented.")},m.prototype.rect=function(U,J,ee,ne){if(isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne))throw _a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,J),this.lineTo(U+ee,J),this.lineTo(U+ee,J+ne),this.lineTo(U,J+ne),this.lineTo(U,J),this.lineTo(U+ee,J),this.lineTo(U,J)},m.prototype.fillRect=function(U,J,ee,ne){if(isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne))throw _a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,J,ee,ne),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},m.prototype.strokeRect=function(U,J,ee,ne){if(isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne))throw _a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,J,ee,ne),this.stroke())},m.prototype.clearRect=function(U,J,ee,ne){if(isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne))throw _a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,J,ee,ne))},m.prototype.save=function(U){U=typeof U!="boolean"||U;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(J),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(U){var J,ee,ne,ue;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))J=0,ee=0,ne=0,ue=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(Ae!==null)J=parseInt(Ae[1]),ee=parseInt(Ae[2]),ne=parseInt(Ae[3]),ue=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)J=parseInt(Ae[1]),ee=parseInt(Ae[2]),ne=parseInt(Ae[3]),ue=parseFloat(Ae[4]);else{if(ue=1,typeof U=="string"&&U.charAt(0)!=="#"){var ke=new Zne(U);U=ke.ok?ke.toHex():"#000000"}U.length===4?(J=U.substring(1,2),J+=J,ee=U.substring(2,3),ee+=ee,ne=U.substring(3,4),ne+=ne):(J=U.substring(1,3),ee=U.substring(3,5),ne=U.substring(5,7)),J=parseInt(J,16),ee=parseInt(ee,16),ne=parseInt(ne,16)}}return{r:J,g:ee,b:ne,a:ue,style:U}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(U,J,ee,ne){if(isNaN(J)||isNaN(ee)||typeof U!="string")throw _a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var ue=q(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;M.call(this,{text:U,x:J,y:ee,scale:Ae,angle:ue,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(U,J,ee,ne){if(isNaN(J)||isNaN(ee)||typeof U!="string")throw _a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var ue=q(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;M.call(this,{text:U,x:J,y:ee,scale:Ae,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(U){if(typeof U!="string")throw _a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ee=this.pdf.internal.scaleFactor,ne=J.internal.getFontSize(),ue=J.getStringUnitWidth(U)*ne/J.internal.scaleFactor;return new function(Ae){var ke=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ue*=Math.round(96*ee/72*1e4)/1e4})},m.prototype.scale=function(U,J){if(isNaN(U)||isNaN(J))throw _a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(U,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.rotate=function(U){if(isNaN(U))throw _a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.translate=function(U,J){if(isNaN(U)||isNaN(J))throw _a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,U,J);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.transform=function(U,J,ee,ne,ue,Ae){if(isNaN(U)||isNaN(J)||isNaN(ee)||isNaN(ne)||isNaN(ue)||isNaN(Ae))throw _a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(U,J,ee,ne,ue,Ae);this.ctx.transform=this.ctx.transform.multiply(ke)},m.prototype.setTransform=function(U,J,ee,ne,ue,Ae){U=isNaN(U)?1:U,J=isNaN(J)?0:J,ee=isNaN(ee)?0:ee,ne=isNaN(ne)?1:ne,ue=isNaN(ue)?0:ue,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(U,J,ee,ne,ue,Ae)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(U,J,ee,ne,ue,Ae,ke,je,Ce){var Be=this.pdf.getImageProperties(U),fe=1,ge=1,ae=1,ie=1;ne!==void 0&&je!==void 0&&(ae=je/ne,ie=Ce/ue,fe=Be.width/ne*je/ne,ge=Be.height/ue*Ce/ue),Ae===void 0&&(Ae=J,ke=ee,J=0,ee=0),ne!==void 0&&je===void 0&&(je=ne,Ce=ue),ne===void 0&&je===void 0&&(je=Be.width,Ce=Be.height);for(var ht,ut=this.ctx.transform.decompose(),Pe=q(ut.rotate.shx),Ke=new c,yt=(Ke=(Ke=(Ke=Ke.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale)).applyToRectangle(new l(Ae-J*ae,ke-ee*ie,ne*fe,ue*ge)),Qe=b.call(this,yt),Tt=[],_t=0;_t<Qe.length;_t+=1)Tt.indexOf(Qe[_t])===-1&&Tt.push(Qe[_t]);if(S(Tt),this.autoPaging)for(var Se=Tt[0],gt=Tt[Tt.length-1],at=Se;at<gt+1;at++){this.pdf.setPage(at);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=at===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=at===1?0:Ee+(at-2)*vt;if(this.ctx.clip_path.length!==0){var Je=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ht,this.posX+this.margin[3],-bt+kt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Je}var Le=JSON.parse(JSON.stringify(yt));Le=k([Le],this.posX+this.margin[3],-bt+kt+this.ctx.prevPageLastElemOffset)[0];var et=(at>Se||at<gt)&&w.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,vt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Pe),et&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Pe)};var b=function(U,J,ee){var ne=[];J=J||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ne.push(Math.floor((U.y+ue)/ee)+1);break;case"arc":ne.push(Math.floor((U.y+ue-U.radius)/ee)+1),ne.push(Math.floor((U.y+ue+U.radius)/ee)+1);break;case"qct":var Ae=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ne.push(Math.floor((Ae.y+ue)/ee)+1),ne.push(Math.floor((Ae.y+Ae.h+ue)/ee)+1);break;case"bct":var ke=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ne.push(Math.floor((ke.y+ue)/ee)+1),ne.push(Math.floor((ke.y+ke.h+ue)/ee)+1);break;case"rect":ne.push(Math.floor((U.y+ue)/ee)+1),ne.push(Math.floor((U.y+U.h+ue)/ee)+1)}for(var je=0;je<ne.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<ne[je];)N.call(this);return ne},N=function(){var U=this.fillStyle,J=this.strokeStyle,ee=this.font,ne=this.lineCap,ue=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=J,this.font=ee,this.lineCap=ne,this.lineWidth=ue,this.lineJoin=Ae},k=function(U,J,ee){for(var ne=0;ne<U.length;ne++)switch(U[ne].type){case"bct":U[ne].x2+=J,U[ne].y2+=ee;case"qct":U[ne].x1+=J,U[ne].y1+=ee;default:U[ne].x+=J,U[ne].y+=ee}return U},S=function(U){return U.sort(function(J,ee){return J-ee})},A=function(U,J){for(var ee,ne,ue=this.fillStyle,Ae=this.strokeStyle,ke=this.lineCap,je=this.lineWidth,Ce=Math.abs(je*this.ctx.transform.scaleX),Be=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),ge=JSON.parse(JSON.stringify(this.path)),ae=[],ie=0;ie<ge.length;ie++)if(ge[ie].x!==void 0)for(var ht=b.call(this,ge[ie]),ut=0;ut<ht.length;ut+=1)ae.indexOf(ht[ut])===-1&&ae.push(ht[ut]);for(var Pe=0;Pe<ae.length;Pe++)for(;this.pdf.internal.getNumberOfPages()<ae[Pe];)N.call(this);if(S(ae),this.autoPaging)for(var Ke=ae[0],yt=ae[ae.length-1],Qe=Ke;Qe<yt+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=ue,this.strokeStyle=Ae,this.lineCap=ke,this.lineWidth=Ce,this.lineJoin=Be;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=Qe===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Qe===1?0:Se+(Qe-2)*gt;if(this.ctx.clip_path.length!==0){var Nt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ee,this.posX+this.margin[3],-at+_t+this.ctx.prevPageLastElemOffset),_.call(this,U,!0),this.path=Nt}if(ne=JSON.parse(JSON.stringify(fe)),this.path=k(ne,this.posX+this.margin[3],-at+_t+this.ctx.prevPageLastElemOffset),J===!1||Qe===0){var kt=(Qe>Ke||Qe<yt)&&w.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,gt,null).clip().discardPath()),_.call(this,U,J),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=je}else this.lineWidth=Ce,_.call(this,U,J),this.lineWidth=je;this.path=fe},_=function(U,J){if((U!=="stroke"||J||!v.call(this))&&(U==="stroke"||J||!p.call(this))){for(var ee,ne,ue=[],Ae=this.path,ke=0;ke<Ae.length;ke++){var je=Ae[ke];switch(je.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:je,deltas:[],abs:[]});break;case"lt":var Ce=ue.length;if(Ae[ke-1]&&!isNaN(Ae[ke-1].x)&&(ee=[je.x-Ae[ke-1].x,je.y-Ae[ke-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ue[Ce-1].close!==!0&&ue[Ce-1].begin!==!0){ue[Ce-1].deltas.push(ee),ue[Ce-1].abs.push(je);break}}break;case"bct":ee=[je.x1-Ae[ke-1].x,je.y1-Ae[ke-1].y,je.x2-Ae[ke-1].x,je.y2-Ae[ke-1].y,je.x-Ae[ke-1].x,je.y-Ae[ke-1].y],ue[ue.length-1].deltas.push(ee);break;case"qct":var Be=Ae[ke-1].x+2/3*(je.x1-Ae[ke-1].x),fe=Ae[ke-1].y+2/3*(je.y1-Ae[ke-1].y),ge=je.x+2/3*(je.x1-je.x),ae=je.y+2/3*(je.y1-je.y),ie=je.x,ht=je.y;ee=[Be-Ae[ke-1].x,fe-Ae[ke-1].y,ge-Ae[ke-1].x,ae-Ae[ke-1].y,ie-Ae[ke-1].x,ht-Ae[ke-1].y],ue[ue.length-1].deltas.push(ee);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(je)}}ne=J?null:U==="stroke"?"stroke":"fill";for(var ut=!1,Pe=0;Pe<ue.length;Pe++)if(ue[Pe].arc)for(var Ke=ue[Pe].abs,yt=0;yt<Ke.length;yt++){var Qe=Ke[yt];Qe.type==="arc"?L.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,J,!ut):H.call(this,Qe.x,Qe.y),ut=!0}else if(ue[Pe].close===!0)this.pdf.internal.out("h"),ut=!1;else if(ue[Pe].begin!==!0){var Tt=ue[Pe].start.x,_t=ue[Pe].start.y;G.call(this,ue[Pe].deltas,Tt,_t),ut=!0}ne&&R.call(this,ne),J&&B.call(this)}},O=function(U){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-ee;case"top":return U+J-ee;case"hanging":return U+J-2*ee;case"middle":return U+J/2-ee;default:return U}},I=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(J,ee){this.colorStops.push([J,ee])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,J,ee,ne,ue,Ae,ke,je,Ce){for(var Be=W.call(this,ee,ne,ue,Ae),fe=0;fe<Be.length;fe++){var ge=Be[fe];fe===0&&(Ce?D.call(this,ge.x1+U,ge.y1+J):H.call(this,ge.x1+U,ge.y1+J)),Y.call(this,U,J,ge.x2,ge.y2,ge.x3,ge.y3,ge.x4,ge.y4)}je?B.call(this):R.call(this,ke)},R=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(U,J){this.pdf.internal.out(r(U)+" "+n(J)+" m")},M=function(U){var J;switch(U.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var ee=this.pdf.getTextDimensions(U.text),ne=O.call(this,U.y),ue=I.call(this,ne)-ee.h,Ae=this.ctx.transform.applyToPoint(new o(U.x,ne)),ke=this.ctx.transform.decompose(),je=new c;je=(je=(je=je.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Ce,Be,fe,ge=this.ctx.transform.applyToRectangle(new l(U.x,ne,ee.w,ee.h)),ae=je.applyToRectangle(new l(U.x,ue,ee.w,ee.h)),ie=b.call(this,ae),ht=[],ut=0;ut<ie.length;ut+=1)ht.indexOf(ie[ut])===-1&&ht.push(ie[ut]);if(S(ht),this.autoPaging)for(var Pe=ht[0],Ke=ht[ht.length-1],yt=Pe;yt<Ke+1;yt++){this.pdf.setPage(yt);var Qe=yt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Se=_t-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],at=gt-this.margin[3],Nt=yt===1?0:Tt+(yt-2)*Se;if(this.ctx.clip_path.length!==0){var kt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ce,this.posX+this.margin[3],-1*Nt+Qe),_.call(this,"fill",!0),this.path=kt}var Ee=k([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-Nt+Qe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*U.scale),fe=this.lineWidth,this.lineWidth=fe*U.scale);var vt=this.autoPaging!=="text";if(vt||Ee.y+Ee.h<=_t){if(vt||Ee.y>=Qe&&Ee.x<=gt){var bt=vt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||gt-Ee.x)[0],Je=k([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-Nt+Qe+this.ctx.prevPageLastElemOffset)[0],Le=vt&&(yt>Pe||yt<Ke)&&w.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Se,null).clip().discardPath()),this.pdf.text(bt,Je.x,Je.y,{angle:U.angle,align:J,renderingMode:U.renderingMode}),Le&&this.pdf.restoreGraphicsState()}}else Ee.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-Ee.y);U.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=fe)}else U.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*U.scale),fe=this.lineWidth,this.lineWidth=fe*U.scale),this.pdf.text(U.text,Ae.x+this.posX,Ae.y+this.posY,{angle:U.angle,align:J,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=fe)},H=function(U,J,ee,ne){ee=ee||0,ne=ne||0,this.pdf.internal.out(r(U+ee)+" "+n(J+ne)+" l")},G=function(U,J,ee){return this.pdf.lines(U,J,ee,null,null)},Y=function(U,J,ee,ne,ue,Ae,ke,je){this.pdf.internal.out([e(a(ee+U)),e(s(ne+J)),e(a(ue+U)),e(s(Ae+J)),e(a(ke+U)),e(s(je+J)),"c"].join(" "))},W=function(U,J,ee,ne){for(var ue=2*Math.PI,Ae=Math.PI/2;J>ee;)J-=ue;var ke=Math.abs(ee-J);ke<ue&&ne&&(ke=ue-ke);for(var je=[],Ce=ne?-1:1,Be=J;ke>1e-5;){var fe=Be+Ce*Math.min(ke,Ae);je.push($.call(this,U,Be,fe)),ke-=Math.abs(fe-Be),Be=fe}return je},$=function(U,J,ee){var ne=(ee-J)/2,ue=U*Math.cos(ne),Ae=U*Math.sin(ne),ke=ue,je=-Ae,Ce=ke*ke+je*je,Be=Ce+ke*ue+je*Ae,fe=4/3*(Math.sqrt(2*Ce*Be)-Be)/(ke*Ae-je*ue),ge=ke-fe*je,ae=je+fe*ke,ie=ge,ht=-ae,ut=ne+J,Pe=Math.cos(ut),Ke=Math.sin(ut);return{x1:U*Math.cos(J),y1:U*Math.sin(J),x2:ge*Pe-ae*Ke,y2:ge*Ke+ae*Pe,x3:ie*Pe-ht*Ke,y3:ie*Ke+ht*Pe,x4:U*Math.cos(ee),y4:U*Math.sin(ee)}},q=function(U){return 180*U/Math.PI},Z=function(U,J,ee,ne,ue,Ae){var ke=U+.5*(ee-U),je=J+.5*(ne-J),Ce=ue+.5*(ee-ue),Be=Ae+.5*(ne-Ae),fe=Math.min(U,ue,ke,Ce),ge=Math.max(U,ue,ke,Ce),ae=Math.min(J,Ae,je,Be),ie=Math.max(J,Ae,je,Be);return new l(fe,ae,ge-fe,ie-ae)},ce=function(U,J,ee,ne,ue,Ae,ke,je){var Ce,Be,fe,ge,ae,ie,ht,ut,Pe,Ke,yt,Qe,Tt,_t,Se=ee-U,gt=ne-J,at=ue-ee,Nt=Ae-ne,kt=ke-ue,Ee=je-Ae;for(Be=0;Be<41;Be++)Pe=(ht=(fe=U+(Ce=Be/40)*Se)+Ce*((ae=ee+Ce*at)-fe))+Ce*(ae+Ce*(ue+Ce*kt-ae)-ht),Ke=(ut=(ge=J+Ce*gt)+Ce*((ie=ne+Ce*Nt)-ge))+Ce*(ie+Ce*(Ae+Ce*Ee-ie)-ut),Be==0?(yt=Pe,Qe=Ke,Tt=Pe,_t=Ke):(yt=Math.min(yt,Pe),Qe=Math.min(Qe,Ke),Tt=Math.max(Tt,Pe),_t=Math.max(_t,Ke));return new l(Math.round(yt),Math.round(Qe),Math.round(Tt-yt),Math.round(_t-Qe))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,J,ee=(U=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:J}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Ar.API),(function(t){var e=function(o){var l,c,u,f,m,g,p,v,w,b;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(m=((m=((m=((m=(m-(b=m%85))/85)-(w=m%85))/85)-(v=m%85))/85)-(p=m%85))/85)%85,c.push(g+33,p+33,v+33,w+33,b+33)):c.push(122);return(function(N,k){for(var S=k;S>0;S--)N.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,f,m,g=String,p="length",v=255,w="charCodeAt",b="slice",N="replace";for(o[b](-2),o=o[b](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),u=[],f=0,m=(o+=l="uuuuu"[b](o[p]%5||5))[p];m>f;f+=5)c=52200625*(o[w](f)-33)+614125*(o[w](f+1)-33)+7225*(o[w](f+2)-33)+85*(o[w](f+3)-33)+(o[w](f+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(k,S){for(var A=S;A>0;A--)k.pop()})(u,l[p]),g.fromCharCode.apply(g,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=U6(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(Ar.API),(function(t){t.loadFile=function(e,r,n){return(function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,f){var m=new XMLHttpRequest,g=0,p=function(v){var w=v.length,b=[],N=String.fromCharCode;for(g=0;g<w;g+=1)b.push(N(255&v.charCodeAt(g)));return b.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)})(a,s,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(Ar.API),(function(t){function e(){return(Zr.html2canvas?Promise.resolve(Zr.html2canvas):CT(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Zr.DOMPurify?Promise.resolve(Zr.DOMPurify):CT(()=>Promise.resolve().then(()=>ybe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Hn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},s=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],w=v.src.find(function(b){return b.format==="truetype"});w&&u.addFont(w.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||Ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,m).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),g=u.call(m,l,c);return o.convert(g,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ar.getPageSize=function(l,c,u){if(Hn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var v,w=0,b=0;if(p.hasOwnProperty(g))w=p[g][1]/m,b=p[g][0]/m;else try{w=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",b>w&&(v=b,b=w,w=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>b&&(v=b,b=w,w=v)}return{width:b,height:w,unit:c,k:m,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(UT):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(Ar.API),Ar.API.addJS=function(t){return uG=t,this.internal.events.subscribe("postPutResources",function(){m2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(m2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){m2!==void 0&&cG!==void 0&&this.internal.out("/Names <</JavaScript "+m2+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=r.internal.newObject();f.push(m);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(Ar.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(m){for(var g,p=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,w={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,e.indexOf(m.charCodeAt(b+1))!==-1){g=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),w={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:g,numcomponents:m.charCodeAt(b+9)};break}p=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}})(Ar.API),Ar.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,s=qze(t,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,f=s.depth;a=u&&c===1?(function(L){for(var R=L.width,B=L.height,D=L.data,M=L.palette,H=L.depth,G=!1,Y=[],W=[],$=void 0,q=!1,Z=0,ce=0;ce<M.length;ce++){var X=su(M[ce],4),U=X[0],J=X[1],ee=X[2],ne=X[3];Y.push(U,J,ee),ne!=null&&(ne===0?(Z++,W.length<1&&W.push(ce)):ne<255&&(q=!0))}if(q||Z>1){G=!0,W=void 0;var ue=R*B;$=new Uint8Array(ue);for(var Ae=new DataView(D.buffer),ke=0;ke<ue;ke++){var je=VT(Ae,ke,H),Ce=su(M[je],4)[3];$[ke]=Ce}}else Z===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:D,alphaBytes:$,needSMask:G,palette:Y,mask:W}})(s):c===2||c===4?(function(L){for(var R=L.data,B=L.width,D=L.height,M=L.channels,H=L.depth,G=M===2?"DeviceGray":"DeviceRGB",Y=M-1,W=B*D,$=Y,q=W*$,Z=1*W,ce=Math.ceil(q*H/8),X=Math.ceil(Z*H/8),U=new Uint8Array(ce),J=new Uint8Array(X),ee=new DataView(R.buffer),ne=new DataView(U.buffer),ue=new DataView(J.buffer),Ae=!1,ke=0;ke<W;ke++){for(var je=ke*M,Ce=0;Ce<$;Ce++)bG(ne,VT(ee,je+Ce,H),ke*$+Ce,H);var Be=VT(ee,je+$,H);Be<(1<<H)-1&&(Ae=!0),bG(ue,Be,1*ke,H)}return{colorSpace:G,colorsPerPixel:Y,sMaskBitsPerComponent:Ae?H:void 0,colorBytes:U,alphaBytes:J,needSMask:Ae}})(s):(function(L){var R=L.data,B=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(D){for(var M=D.length,H=new Uint8Array(2*M),G=new DataView(H.buffer,H.byteOffset,H.byteLength),Y=0;Y<M;Y++)G.setUint16(2*Y,D[Y],!1);return H})(R):R,needSMask:!1}})(s);var m,g,p,v=a,w=v.colorSpace,b=v.colorsPerPixel,N=v.sMaskBitsPerComponent,k=v.colorBytes,S=v.alphaBytes,A=v.needSMask,_=v.palette,O=v.mask,I=null;return n!==Ar.API.image_compression.NONE&&typeof U6=="function"?(I=(function(L){var R;switch(L){case Ar.API.image_compression.FAST:R=11;break;case Ar.API.image_compression.MEDIUM:R=13;break;case Ar.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(I," /Colors ").concat(b," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=mG(k,Math.ceil(o*b*f/8),b,f,n),A&&(p=mG(S,Math.ceil(o*N/8),1,N,n))):(m=void 0,g=void 0,t=k,A&&(p=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:m,decodeParameters:g,transparency:O,palette:_,sMask:p,predictor:I,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:N,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,a){var s=new uqe(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new GT(100).encode(u,100);return t.processJPEG.call(this,f,r,n,a)},t.processGIF87A=t.processGIF89A})(Ar.API),Yc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){_a.log("bit decode error:"+r)}},Yc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Yc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Yc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Yc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},Yc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,f=a*this.width*4+4*s;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Yc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Yc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Yc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var s=new Yc(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new GT(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(Ar.API),wG.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var s=new wG(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new GT(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(Ar.API),Ar.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],m=n[u+1],g=n[u+2],p=n[u+3];s[l++]=f,s[l++]=m,s[l++]=g,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ar.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},G0=Ar.API,p2=G0.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,g=0,p=t.length,v=0,w=l[0]||c,b=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(g=m&&Hn(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/f:0,b.push((l[n]||w)/c+g)),v=n;return b},dG=G0.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return G0.processArabic&&(t=G0.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:p2.apply(this,arguments).reduce(function(s,o){return s+o},0)},fG=function(t,e,r,n){for(var a=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<r;)l+=e[s],s++;a.push(t.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>n&&(a.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(t.slice(c,s)),a},hG=function(t,e,r){r||(r={});var n,a,s,o,l,c,u,f=[],m=[f],g=r.textIndent||0,p=0,v=0,w=t.split(" "),b=p2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var N=Array(c).join(" "),k=[];w.map(function(A){(A=A.split(/\s*\n/)).length>1?k=k.concat(A.map(function(_,O){return(O&&_.length?`
`:"")+_})):k.push(A[0])}),w=k,c=dG.apply(this,[N,r])}for(s=0,o=w.length;s<o;s++){var S=0;if(n=w[s],c&&n[0]==`
`&&(n=n.substr(1),S=1),g+p+(v=(a=p2.apply(this,[n,r])).reduce(function(A,_){return A+_},0))>e||S){if(v>e){for(l=fG.apply(this,[n,a,e-(g+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);v=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(A,_){return A+_},0)}else f=[n];m.push(f),g=v+c,p=b}else f.push(n),g+=p+v,p=b}return u=c?function(A,_){return(_?N:"")+A.join(" ")}:function(A){return A.join(" ")},m.map(u)},G0.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(hG.apply(this,[n[l],o,s]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=e[s],a[e[s]]=r[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},l=t.__fontmetrics__.compress=function(g){var p,v,w,b,N=["{"];for(var k in g){if(p=g[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=o(k).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof p=="number")p<0?(w=o(p).slice(3),b="-"):(w=o(p).slice(2),b=""),w=b+w.slice(0,-1)+a[w.slice(-1)];else{if(Hn(p)!=="object")throw new Error("Don't know what to do with value type "+Hn(p)+".");w=l(p)}N.push(v+w)}return N.push("}"),N.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,w,b,N={},k=1,S=N,A=[],_="",O="",I=g.length-1,L=1;L<I;L+=1)(b=g[L])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(A.push([S,w]),S={},w=void 0):b=="}"?((v=A.pop())[0][v[1]]=S,w=void 0,S=v[0]):b=="-"?k=-1:w===void 0?n.hasOwnProperty(b)?(_+=n[b],w=parseInt(_,16)*k,k=1,_=""):_+=b:n.hasOwnProperty(b)?(O+=n[b],S[w]=parseInt(O,16)*k,k=1,w=void 0,O=""):O+=b;return N},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,v=m.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var w=f.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])})(Ar.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(q2(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ar),Ar.API.addSvgAsImage=function(t,e,r,n,a,s,o,l){if(isNaN(e)||isNaN(r))throw _a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw _a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Zr.canvg?Promise.resolve(Zr.canvg):CT(()=>import("./index.es-CTSVSP-8.js"),__vite__mapDeps([0,1]))).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,o,l)})},Ar.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Ar.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,m=0;function g(v,w){var b,N=!1;for(b=0;b<v.length;b+=1)v[b]===w&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Hn(t)==="object"){for(a in t)if(s=t[a],g(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&g(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,w=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?w.push("/"+v+" /"+r[v].value):w.push("/"+v+" "+r[v].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Ar.API),(function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,g=s.length;m<g;++m){if(l=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(s){var o,l,c,u,f,m,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(l=Object.keys(s).sort(function(p,v){return p-v})).length;m<g;m++)o=l[m],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<g.length;v++)p+=String.fromCharCode(g[v]);var w=u();f({data:p,addLength1:!0,objectId:w}),c("endobj");var b=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var N=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+eg(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var k=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+eg(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+eg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+k+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",p=0;p<m.length;p++)g+=String.fromCharCode(m[p]);var v=u();f({data:g,addLength1:!0,objectId:v}),c("endobj");var w=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+eg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+eg(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,f=s.options||{},m=s.mutex||{},g=m.pdfEscape,p=m.activeFontKey,v=m.fonts,w=p,b="",N=0,k="",S=v[w].encoding;if(v[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:m};for(k=l,w=p,Array.isArray(l)&&(k=l[0]),N=0;N<k.length;N+=1)v[w].metadata.hasOwnProperty("cmap")&&(o=v[w].metadata.cmap.unicode.codeMap[k[N].charCodeAt(0)]),o||k[N].charCodeAt(0)<256&&v[w].metadata.hasOwnProperty("Unicode")?b+=k[N]:b+="";var A="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?A=g(b,w).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(A=r(b,v[w])),m.isHex=!0,{text:A,x:c,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])})(Ar),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ar.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,f,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,S=0;this.__bidiEngine__={};var A=function(D){var M=D.charCodeAt(),H=M>>8,G=w[H];return G!==void 0?m[256*G+(255&M)]:H===252||H===253?"AL":N.test(H)?"L":H===8?"R":"N"},_=function(D){for(var M,H=0;H<D.length;H++){if((M=A(D.charAt(H)))==="L")return!1;if(M==="R")return!0}return!1},O=function(D,M,H,G){var Y,W,$,q,Z=M[G];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(Z="AN");break;case"AL":k=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":G<1||G+1>=M.length||(Y=H[G-1])!=="EN"&&Y!=="AN"||(W=M[G+1])!=="EN"&&W!=="AN"?Z="N":k&&(W="AN"),Z=W===Y?W:"N";break;case"ES":Z=(Y=G>0?H[G-1]:"B")==="EN"&&G+1<M.length&&M[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&H[G-1]==="EN"){Z="EN";break}if(k){Z="N";break}for($=G+1,q=M.length;$<q&&M[$]==="ET";)$++;Z=$<q&&M[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=M.length,$=G+1;$<q&&M[$]==="NSM";)$++;if($<q){var ce=D[G],X=ce>=1425&&ce<=2303||ce===64286;if(Y=M[$],X&&(Y==="R"||Y==="AL")){Z="R";break}}}Z=G<1||(Y=M[G-1])==="B"?"N":H[G-1];break;case"B":k=!1,a=!0,Z=S;break;case"S":s=!0,Z="N"}return Z},I=function(D,M,H){var G=D.split("");return H&&L(G,H,{hiLevel:S}),G.reverse(),M&&M.reverse(),G.join("")},L=function(D,M,H){var G,Y,W,$,q,Z=-1,ce=D.length,X=0,U=[],J=S?p:g,ee=[];for(k=!1,a=!1,s=!1,Y=0;Y<ce;Y++)ee[Y]=A(D[Y]);for(W=0;W<ce;W++){if(q=X,U[W]=O(D,ee,U,W),G=240&(X=J[q][v[U[W]]]),X&=15,M[W]=$=J[X][5],G>0)if(G===16){for(Y=Z;Y<W;Y++)M[Y]=1;Z=-1}else Z=-1;if(J[X][6])Z===-1&&(Z=W);else if(Z>-1){for(Y=Z;Y<W;Y++)M[Y]=$;Z=-1}ee[W]==="B"&&(M[W]=0),H.hiLevel|=$}s&&(function(ne,ue,Ae){for(var ke=0;ke<Ae;ke++)if(ne[ke]==="S"){ue[ke]=S;for(var je=ke-1;je>=0&&ne[je]==="WS";je--)ue[je]=S}})(ee,M,ce)},R=function(D,M,H,G,Y){if(!(Y.hiLevel<D)){if(D===1&&S===1&&!a)return M.reverse(),void(H&&H.reverse());for(var W,$,q,Z,ce=M.length,X=0;X<ce;){if(G[X]>=D){for(q=X+1;q<ce&&G[q]>=D;)q++;for(Z=X,$=q-1;Z<$;Z++,$--)W=M[Z],M[Z]=M[$],M[$]=W,H&&(W=H[Z],H[Z]=H[$],H[$]=W);X=q}X++}}},B=function(D,M,H){var G=D.split(""),Y={hiLevel:S};return H||(H=[]),L(G,H,Y),(function(W,$,q){if(q.hiLevel!==0&&f)for(var Z,ce=0;ce<W.length;ce++)$[ce]===1&&(Z=b.indexOf(W[ce]))>=0&&(W[ce]=b[Z+1])})(G,H,Y),R(2,G,M,H,Y),R(1,G,M,H,Y),G.join("")};return this.__bidiEngine__.doBidiReorder=function(D,M,H){if((function(Y,W){if(W)for(var $=0;$<Y.length;$++)W[$]=$;l===void 0&&(l=_(Y)),u===void 0&&(u=_(Y))})(D,M),o||!c||u)if(o&&c&&l^u)S=l?1:0,D=I(D,M,H);else if(!o&&c&&u)S=l?1:0,D=B(D,M,H),D=I(D,M);else if(!o||l||c||u){if(o&&!c&&l^u)D=I(D,M),l?(S=0,D=B(D,M,H)):(S=1,D=B(D,M,H),D=I(D,M));else if(o&&l&&!c&&u)S=1,D=B(D,M,H),D=I(D,M);else if(!o&&!c&&l^u){var G=f;l?(S=1,D=B(D,M,H),S=0,f=!1,D=B(D,M,H),f=G):(S=0,D=B(D,M,H),D=I(D,M),S=1,f=!1,D=B(D,M,H),f=G,D=I(D,M))}}else S=0,D=B(D,M,H);else S=l?1:0,D=B(D,M,H);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,u=D.isOutputRtl,f=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Ar),Ar.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new lm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kqe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dqe(this.contents),this.head=new hqe(this),this.name=new yqe(this),this.cmap=new uae(this),this.toUnicode={},this.hhea=new mqe(this),this.maxp=new bqe(this),this.hmtx=new vqe(this),this.post=new gqe(this),this.os2=new pqe(this),this.loca=new Sqe(this),this.glyf=new wqe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var xu,lm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),dqe=(function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,o,l,c,u,f,m,g,p,v,w;for(w in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),o=Math.floor(m/c),f=16*p-m,(a=new lm).writeInt(this.scalarType),a.writeShort(p),a.writeShort(m),a.writeShort(o),a.writeShort(f),s=16*p,u=a.pos+s,l=null,v=[],r)for(g=r[w],a.writeString(w),a.writeInt(t(g)),a.writeInt(u),a.writeInt(g.length),v=v.concat(g),w==="head"&&(l=u),u+=g.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,o;for(r=dae.call(r);r.length%4;)r.push(0);for(s=new lm(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),fqe={}.hasOwnProperty,yd=function(t,e){for(var r in e)fqe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};xu=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var hqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new lm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),jG=(function(){function t(e,r){var n,a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),e.pos+=2,w=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),u=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),f=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var A,_;for(_=[],c=A=0;0<=a?A<a:A>a;c=0<=a?++A:--A)_.push(e.readUInt16());return _})(),c=N=0,S=s.length;N<S;c=++N)for(b=s[c],n=k=v=w[c];v<=b?k<=b:k>=b;n=v<=b?++k:--k)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-v)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,O,I,L,R,B,D,M,H,G,Y,W,$,q,Z,ce,X,U,J,ee,ne,ue,Ae,ke,je,Ce,Be,fe;switch(G=new lm,o=Object.keys(e).sort(function(ge,ae){return ge-ae}),r){case"macroman":for(w=0,b=(function(){var ge=[];for(v=0;v<256;++v)ge.push(0);return ge})(),k={0:0},s={},Y=0,Z=o.length;Y<Z;Y++)k[je=e[a=o[Y]]]==null&&(k[je]=++w),s[a]={old:e[a],new:k[e[a]]},b[a]=k[e[a]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(b),{charMap:s,subtable:G.data,maxGlyphID:w+1};case"unicode":for(M=[],m=[],S=0,k={},n={},N=u=null,W=0,ce=o.length;W<ce;W++)k[_=e[a=o[W]]]==null&&(k[_]=++S),n[a]={old:_,new:k[_]},l=k[_]-a,N!=null&&l===u||(N&&m.push(N),M.push(a),u=l),N=a;for(N&&m.push(N),m.push(65535),M.push(65535),B=2*(R=M.length),L=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,I=2*R-L,c=[],O=[],p=[],v=$=0,X=M.length;$<X;v=++$){if(D=M[v],f=m[v],D===65535){c.push(0),O.push(0);break}if(D-(H=n[D].new)>=32768)for(c.push(0),O.push(2*(p.length+R-v)),a=q=D;D<=f?q<=f:q>=f;a=D<=f?++q:--q)p.push(n[a].new);else c.push(H-D),O.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*R+2*p.length),G.writeUInt16(0),G.writeUInt16(B),G.writeUInt16(L),G.writeUInt16(g),G.writeUInt16(I),Ae=0,U=m.length;Ae<U;Ae++)a=m[Ae],G.writeUInt16(a);for(G.writeUInt16(0),ke=0,J=M.length;ke<J;ke++)a=M[ke],G.writeUInt16(a);for(Ce=0,ee=c.length;Ce<ee;Ce++)l=c[Ce],G.writeUInt16(l);for(Be=0,ne=O.length;Be<ne;Be++)A=O[Be],G.writeUInt16(A);for(fe=0,ue=p.length;fe<ue;fe++)w=p[fe],G.writeUInt16(w);return{charMap:n,subtable:G.data,maxGlyphID:S+1}}},t})(),uae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new jG(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=jG.encode(e,r),(a=new lm).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),mqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),pqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),gqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),xqe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},yqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,s,o,l,c,u,f,m,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=f=0,m=n.length;f<m;s=++f)a=n[s],e.pos=a.offset,u=e.readString(a.length),o=new xqe(u,a),c[g=a.nameID]==null&&(c[g]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),bqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),vqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,s,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)f.push(e.readInt16());return f})(),this.widths=(function(){var u,f,m,g;for(g=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),dae=[].slice,wqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,s,o,l,c,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new lm(r.read(a))).readShort(),u=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new Nqe(l,u,m,c,f):new jqe(l,o,u,m,c,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)a=e[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},t})(),jqe=(function(){function t(e,r,n,a,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Nqe=(function(){function t(e,r,n,a,s){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new lm(dae.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Sqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},t})(),kqe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,o,l,c,u,f,m,g,p,v,w,b,N;for(a in n=uae.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},N=n.charMap)p[(c=N[a]).old]=c.new;for(v in g=n.maxGlyphID,o)v in p||(p[v]=g++);return f=(function(k){var S,A;for(S in A={},k)A[k[S]]=S;return A})(p),m=Object.keys(f).sort(function(k,S){return k-S}),w=(function(){var k,S,A;for(A=[],k=0,S=m.length;k<S;k++)l=m[k],A.push(f[l]);return A})(),s=this.font.glyf.encode(o,w,p),u=this.font.loca.encode(s.offsets,w),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t})();Ar.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e})();function fae(t,e,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=l*c,f=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(f):t,g=m.length||1),r+=l*(2-s),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),m&&g>=1){for(var v=0;v<m.length;v++)a.text(m[v],e-a.getStringUnitWidth(m[v])*p,r),r+=u;return a}e-=a.getStringUnitWidth(t)*p}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var NG={},Tg=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:NG=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,s){return this.jsPDFDocument.rect(e,r,n,a,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return NG||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),Q6=function(t,e){return Q6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Q6(t,e)};function hae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q6(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mae=(function(t){hae(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function Cqe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function _qe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function xN(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function pae(t,e,r,n){var a=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:s});var o=gae(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function gae(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function FS(t,e){var r,n,a,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function xae(t,e){var r=FS(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Aqe(t,e,r,n,a){var s={},o=1.3333333333333333,l=YT(e,function(S){return a.getComputedStyle(S).backgroundColor});l!=null&&(s.fillColor=l);var c=YT(e,function(S){return a.getComputedStyle(S).color});c!=null&&(s.textColor=c);var u=Mqe(n,r);u&&(s.cellPadding=u);var f="borderTopColor",m=o*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var p=(parseFloat(g)||0)/m;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var v=YT(e,function(S){return a.getComputedStyle(S)[f]});v!=null&&(s.lineColor=v);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(s.fontSize=b/o);var N=Tqe(n);N&&(s.fontStyle=N);var k=(n.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(s.font=k),s}function Tqe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function YT(t,e){var r=yae(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function yae(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:yae(t.parentElement,e):r}function Mqe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=FS(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function bae(t,e,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],m=[],g=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:g};for(var p=0;p<l.rows.length;p++){var v=l.rows[p],w=(o=(s=v==null?void 0:v.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),b=Oqe(c,u,r,v,n,a);b&&(w==="thead"?f.push(b):w==="tfoot"?g.push(b):m.push(b))}return{head:f,body:m,foot:g}}function Oqe(t,e,r,n,a,s){for(var o=new mae(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;s&&(f=Aqe(t,c,e,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:Eqe(c)})}}var m=r.getComputedStyle(n);if(o.length>0&&(a||m.display!=="none"))return o}function Eqe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Dqe(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function mf(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function vae(t,e){var r=new Tg(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Dqe(a,n,e);var s=mf({},a,n,e),o;typeof window<"u"&&(o=window);var l=Pqe(a,n,e),c=Lqe(a,n,e),u=Rqe(r,s),f=Fqe(r,s,o);return{id:e.tableId,content:f,hooks:c,styles:l,settings:u}}function Pqe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=t[c],f=e[c],m=r[c];n.columnStyles=mf({},u,f,m)}else{var g=[t,e,r],p=g.map(function(v){return v[c]||{}});n[c]=mf({},p[0],p[1],p[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function Lqe(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Rqe(t,e){var r,n,a,s,o,l,c,u,f,m,g,p,v=FS(e.margin,40/t.scaleFactor()),w=(r=Iqe(t,e.startY))!==null&&r!==void 0?r:v.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var k=(s=e.useCss)!==null&&s!==void 0?s:!1,S=e.theme||(k?"plain":"striped"),A=!!e.horizontalPageBreak,_=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:k,theme:S,startY:w,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:N,showFoot:b,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:A,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Iqe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Fqe(t,e,r){var n=e.head||[],a=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=bae(t,e.html,r,o,e.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||$qe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function $qe(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var Z6=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),Bqe=(function(t){hae(e,t);function e(r,n,a,s,o,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return e})(Z6),Hqe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],f=new Bqe(e,this,n,a,s,o),m=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new Z6(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new Z6(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),wae=(function(){function t(e,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof mae&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},t})(),jae=(function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=FS(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),zqe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function qqe(t,e){Uqe(t,e);var r=[],n=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=eE(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=eE(r,a,function(s){return s.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Vqe(e),Gqe(e,t),Wqe(e)}function Uqe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=xae(t,e);e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,c,null);var m=u.padding("horizontal");u.contentWidth=xN(u.text,u.styles,t)+m;var g=xN(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function eE(t,e,r){for(var n=e,a=t.reduce(function(p,v){return p+v.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],l=o.wrappedWidth/a,c=n*l,u=o.width+c,f=r(o),m=u<f?f:u;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(p){return e<0?p.width>r(p):!0});g.length&&(e=eE(g,e,r))}return e}function Wqe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=e[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var m=n.length-a,g=f.rowSpan>m?m:f.rowSpan;e[c.index]={cell:f,left:g,row:s}}}}}function Vqe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,s=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function Gqe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var s=a[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=SG(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=SG(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,f);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function SG(t,e,r,n,a){return t.map(function(s){return Yqe(s,e,r,n,a)})}function Yqe(t,e,r,n,a){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=xN(t,r,n))return t;for(;e<xN(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Nae(t,e){var r=new Tg(t),n=Kqe(e,r.scaleFactor()),a=new Hqe(e,n);return qqe(r,a),r.applyStyles(r.userStyles),a}function Kqe(t,e){var r=t.content,n=Jqe(r.columns);if(r.head.length===0){var a=kG(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=kG(n,"foot");a&&r.foot.push(a)}var s=t.settings.theme,o=t.styles;return{columns:n,head:KT("head",r.head,n,o,s,e),body:KT("body",r.body,n,o,s,e),foot:KT("foot",r.foot,n,o,s,e)}}function KT(t,e,r,n,a,s){var o={},l=e.map(function(c,u){for(var f=0,m={},g=0,p=0,v=0,w=r;v<w.length;v++){var b=w[v];if(o[b.index]==null||o[b.index].left===0)if(p===0){var N=void 0;Array.isArray(c)?N=c[b.index-g-f]:N=c[b.dataKey];var k={};typeof N=="object"&&!Array.isArray(N)&&(k=(N==null?void 0:N.styles)||{});var S=Qqe(t,b,u,a,n,s,k),A=new jae(N,S,t);m[b.dataKey]=A,m[b.index]=A,p=A.colSpan-1,o[b.index]={left:A.rowSpan-1,times:p}}else p--,g++;else o[b.index].left--,p=o[b.index].times,f++}return new wae(c,u,t,m)});return l}function kG(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=Xqe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Xqe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Jqe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new zqe(a,e,r)})}function Qqe(t,e,r,n,a,s,o){var l=_qe(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var u=mf({},l.table,l[t],a.styles,c),f=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},m=t==="body"?f:{},g=t==="body"&&r%2===0?mf({},l.alternateRow,a.alternateRowStyles):{},p=Cqe(s),v=mf({},p,u,g,m);return mf(v,o)}function Zqe(t,e,r){var n;r===void 0&&(r={});var a=xae(t,e),s=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var p=e.columns.find(function(v){return v.dataKey===g||v.index===g});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),l.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(s.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(u||a>=m)u=!1,o.push(f),l.push(e.columns[f]),a-=m;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function eUe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=Zqe(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Sae(t,e){var r=e.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,p){return g+p.height},0);l+=u}var f=new Tg(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(Cae(f),s.y=a.top),e.callWillDrawPageHooks(f,s);var m=mf({},s);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?tUe(f,e,m,s):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Rf(f,e,g,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,p){var v=p===e.body.length-1;yN(f,e,g,v,m,s,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Rf(f,e,g,s,e.columns)})),pae(f,e,m,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function tUe(t,e,r,n){var a=eUe(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Pb(t,e,r,n,u.columns,!0):CG(t,e,n,u.columns),rUe(t,e,r,n,u.columns),XT(t,e,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){t.applyStyles(t.userStyles);var f=l.columns;o>=0?Pb(t,e,r,n,f,!0):CG(t,e,n,f),u=_G(t,e,o+1,n,f),XT(t,e,n,f)}var m=u-o;a.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Pb(t,e,r,n,g.columns,!0),_G(t,e,o+1,n,g.columns,m),XT(t,e,n,g.columns)}),o=u};o<e.body.length-1;)c()}function CG(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return Rf(t,e,s,r,n)})}function rUe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var l=o===e.body.length-1;yN(t,e,s,l,r,n,a)})}function _G(t,e,r,n,a,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(r+s,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,u){var f=r+u===e.body.length-1,m=kae(t,e,f,n);c.canEntireRowFit(m,a)&&(Rf(t,e,c,n,a),l=r+u)}),l}function XT(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return Rf(t,e,s,r,n)})}function nUe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),s=Math.floor((e-a)/n);return Math.max(0,s)}function aUe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new jae(u.raw,u.styles,u.section);f=mf(f,u),f.text=[];var m=nUe(u,e,n);u.text.length>m&&(f.text=u.text.splice(m,u.text.length));var g=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(g,p),f.contentHeight>s&&(s=f.contentHeight),a[c.index]=f}}var v=new wae(t.raw,-1,t.section,a,!0);v.height=s;for(var w=0,b=r.columns;w<b.length;w++){var c=b[w],f=v.cells[c.index];f&&(f.height=v.height);var u=t.cells[c.index];u&&(u.height=t.height)}return v}function iUe(t,e,r,n){var a=t.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>l;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function yN(t,e,r,n,a,s,o){var l=kae(t,e,n,s);if(r.canEntireRowFit(l,o))Rf(t,e,r,s,o);else if(iUe(t,r,l,e)){var c=aUe(r,l,e,t);Rf(t,e,r,s,o),Pb(t,e,a,s,o),yN(t,e,c,n,a,s,o)}else Pb(t,e,a,s,o),yN(t,e,r,n,a,s,o)}function Rf(t,e,r,n,a){n.x=e.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}sUe(t,c,n);var f=c.getTextPos();fae(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function sUe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=gae(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),oUe(t,e,r,n.lineWidth))}function oUe(t,e,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+e.width,s=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(u,f,m,g,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,m,g,p,"S")}}function kae(t,e,r,n){var a=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Pb(t,e,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return Rf(t,e,l,n,a)}),e.callEndPageHooks(t,n);var o=e.settings.margin;pae(t,e,r,n),Cae(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Rf(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function Cae(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function lUe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=vae(this,n),s=Nae(this,a);return Sae(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){fae(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Tg.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Tg.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Tg(this),s=bae(a,e,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var JT;function Xy(t,e){var r=vae(t,e),n=Nae(t,r);Sae(t,n)}try{if(typeof window<"u"&&window){var AG=window,TG=AG.jsPDF||((JT=AG.jspdf)===null||JT===void 0?void 0:JT.jsPDF);TG&&lUe(TG)}}catch(t){console.error("Could not apply autoTable plugin",t)}const MG=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],cUe=({isOpen:t,workOrder:e,onClose:r})=>{var c,u,f,m,g,p,v,w;if(!t||!e)return null;const n=b=>b?new Date(b).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",a=({title:b,children:N,icon:k})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[k&&i.jsx("div",{className:"mr-3 text-blue-600",children:k}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:b})]})}),i.jsx("div",{className:"p-6",children:N})]}),s=({label:b,value:N,icon:k,fullWidth:S=!1,priority:A="medium"})=>{const _={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${S?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${_[A]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[k&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:b}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:N})]})]})})})},o=({label:b,htmlContent:N,icon:k,fullWidth:S=!1})=>{if(!N)return i.jsx(s,{label:b,value:"-",icon:k,fullWidth:S,priority:"low"});const A=md.sanitize(N,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${S?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[k&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:b}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:A}})]})]})})})},l=({workOrder:b})=>{const N=R=>{switch(R==null?void 0:R.toLowerCase()){case"new":return i.jsx(PK,{className:"w-4 h-4"});case"assigned":return i.jsx(un,{className:"w-4 h-4"});case"in progress":return i.jsx(kr,{className:"w-4 h-4"});case"resolved":return i.jsx(BK,{className:"w-4 h-4"});case"closed":return i.jsx(wr,{className:"w-4 h-4"});case"cancel":return i.jsx(qE,{className:"w-4 h-4"});case"escalated":return i.jsx(Yr,{className:"w-4 h-4"});case"vendor handled":return i.jsx(ia,{className:"w-4 h-4"});default:return i.jsx(hc,{className:"w-4 h-4"})}},k=R=>{switch(R==null?void 0:R.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},S=(R,B)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(B==null?void 0:B.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[R.toLowerCase()]||`Status: ${R}`,A=()=>{var B,D;const R=[];if(R.push({id:"created",status:"new",date:b.date,changed_by:((B=b.requester)==null?void 0:B.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),b.status_history&&b.status_history.length>0&&[...b.status_history].sort((H,G)=>new Date(H.changed_at).getTime()-new Date(G.changed_at).getTime()).forEach((H,G)=>{var ce,X;const Y=R[R.length-1],W=_(Y.date,H.changed_at);let $=H.action,q=S(H.action);H.action==="updated"&&((ce=H.new_data)!=null&&ce.handling_status)&&($=H.new_data.handling_status,q=S(H.new_data.handling_status,{assigned_to:(X=b.assigned_to)==null?void 0:X.name}));let Z="System";H.user_id===55?Z="DevTest User 1":H.user_id===41?Z="Regular User QC":H.user_id===57?Z="DevTest User 2":H.user_id===36?Z="Super Admin User":H.user_id===37?Z="Admin User One":H.user_id===40?Z="Regular User IT":H.user_id===42||H.user_id===56?Z="Monitor":H.changed_by?Z=H.changed_by:Z=`User ${H.user_id}`,R.push({id:H.id.toString(),status:$,date:H.changed_at,changed_by:Z,description:q,duration:W,comments:H.comments,old_data:H.old_data,new_data:H.new_data,isStatusChange:!0})}),(D=b.received_by)!=null&&D.name&&b.handling_date&&!R.some(H=>{var G,Y;return H.status==="received"||((G=H.new_data)==null?void 0:G.received_by_id)&&((Y=H.new_data)==null?void 0:Y.handling_status)==="Resolved"})){const H=R[R.length-1],G=_(H.date,b.handling_date),Y={id:"received",status:"received",date:b.handling_date,changed_by:b.received_by.name,description:"Diterima oleh teknisi",duration:G,isManualEvent:!0};R.push(Y)}return R.sort((M,H)=>new Date(M.date).getTime()-new Date(H.date).getTime())},_=(R,B)=>{const D=new Date(R),M=new Date(B),H=Math.abs(M.getTime()-D.getTime()),G=Math.ceil(H/(1e3*60*60*24));if(G===0){const Y=Math.ceil(H/36e5),W=Math.ceil(H/(1e3*60));return W<60?`${W} minutes`:`${Y} hours`}return`${G} day${G>1?"s":""}`},O=R=>{const B=new Date(R);return{date:B.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:B.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},I=R=>{var B,D,M;return(B=R.new_data)!=null&&B.handling_status?`Diubah menjadi: ${R.new_data.handling_status}`:(D=R.new_data)!=null&&D.assigned_to_id?"Ditugaskan ke teknisi":(M=R.new_data)!=null&&M.action_taken?`Tindakan diambil: ${R.new_data.action_taken.substring(0,50)}...`:null},L=A();return i.jsxs("div",{className:"space-y-6",children:[L.map((R,B)=>{const D=O(R.date),M=B===L.length-1,H=I(R);return i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${k(R.status)}`}),!M&&i.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[N(R.status),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:R.status}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:R.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.date}),i.jsx("div",{className:"text-xs text-gray-500",children:D.time})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-600",children:[i.jsx("strong",{children:"Changed by:"})," ",R.changed_by]}),R.duration&&R.duration!=="0 days"&&i.jsxs("span",{className:"text-blue-600 font-semibold",children:[" ",R.duration]})]}),R.duration&&R.duration!=="0 days"&&B>0&&i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),H&&i.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:H}),R.comments&&i.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[i.jsx("strong",{children:"Comments:"})," ",R.comments]}),R.status==="assigned"&&b.assigned_to&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Assigned to:"})," ",b.assigned_to.name,b.assigned_to.email&&` (${b.assigned_to.email})`]}),(R.status==="resolved"||R.status==="closed")&&b.action_taken&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Action taken:"})," ",b.action_taken.substring(0,100),"..."]})]}),M&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),i.jsx("span",{className:"font-bold text-blue-600 text-lg",children:_(b.date,R.date)})]}),i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",O(b.date).date,"  Current: ",D.date]})]})]})]},R.id)}),b.handling_status==="Closed"&&b.handling_date&&i.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),i.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",_(b.date,b.handling_date)]})]}),i.jsx(wr,{className:"w-8 h-8 text-green-500"})]}),i.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:["Created: ",O(b.date).date]}),i.jsxs("div",{children:["Completed: ",O(b.handling_date).date]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Timeline:"})," ",L.length," status changes"]})]})]})]})};return i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:i.jsx(zt,{size:24})})]}),i.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),i.jsx(a,{title:"General Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(s,{label:"Work Order No",value:e.work_order_no||"-",icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Date",value:n(e.date),icon:i.jsx(La,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Reception Method",value:e.reception_method||"-",icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(s,{label:"Requester",value:((c=e.requester)==null?void 0:c.name)||"-",icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Known By",value:((u=e.known_by)==null?void 0:u.name)||"-",icon:i.jsx(Io,{className:"w-4 h-4"})}),i.jsx(s,{label:"Department",value:((f=e.department)==null?void 0:f.name)||"-",icon:i.jsx(zi,{className:"w-4 h-4"})})]})}),i.jsx(a,{title:"Service Details",icon:i.jsx(ia,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(s,{label:"Service Type",value:((m=e.service_type)==null?void 0:m.group_name)||"-",icon:i.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Service",value:((g=e.service)==null?void 0:g.service_name)||"-",icon:i.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Asset No",value:e.asset_no||"-",icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(s,{label:"Device Info",value:e.device_info||"-",icon:i.jsx(ia,{className:"w-4 h-4"})}),i.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:i.jsx(Yr,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(a,{title:"Handling Information",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(s,{label:"Status",value:e.handling_status||"-",icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Received By",value:((p=e.received_by)==null?void 0:p.name)||"-",icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(s,{label:"Assigned To",value:((v=e.assigned_to)==null?void 0:v.name)||"-",icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Handling Date",value:n(e.handling_date),icon:i.jsx(La,{className:"w-4 h-4"})}),i.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:i.jsx(wr,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:i.jsx(un,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.status_history&&e.status_history.length>0&&i.jsx(a,{title:"Work Order Timeline",icon:i.jsx(RK,{className:"w-5 h-5"}),children:i.jsx(l,{workOrder:e})}),i.jsx(a,{title:"Performance Metrics",icon:i.jsx(cu,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Resolution Time"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_date&&e.date?`${Math.ceil((new Date(e.handling_date).getTime()-new Date(e.date).getTime())/(1e3*60*60*24))} days`:"Ongoing"})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Priority Level"}),i.jsx("p",{className:"text-lg font-bold text-green-600",children:((w=e.service)==null?void 0:w.priority)||"Not Set"})]})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:i.jsx(E.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},uUe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(""),[a,s]=y.useState("all"),[o,l]=y.useState("all"),[c,u]=y.useState("all"),[f,m]=y.useState("all"),[g,p]=y.useState(!1),[v,w]=y.useState(1),[b]=y.useState(5),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState([]),[_,O]=y.useState(!0),[I,L]=y.useState(null),[R,B]=y.useState(),[D,M]=y.useState(!1),[H,G]=y.useState("30days"),{user:Y,getWorkOrdersIT:W,hasPermission:$}=ir(),q=ar(),Z=Ui(),ce=Z.pathname==="/workorders/it",X=Z.pathname==="/workorders/it/receiver",U=Z.pathname==="/workorders/it/assignment",J=Z.pathname==="/workorders/it/reports",ee=Z.pathname==="/workorders/it/knowledgebase";y.useEffect(()=>{const Se=()=>{k(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]);const ne=y.useCallback(async()=>{try{O(!0);const Se=await W();A(Se)}catch(Se){L("Failed to load work orders data"),console.error("Error loading work orders:",Se)}finally{O(!1)}},[W]);y.useEffect(()=>{ne()},[ne]);const ue=Se=>{if(!Se.handling_date||!Se.date)return 0;const gt=new Date(Se.date),at=new Date(Se.handling_date);return Math.ceil((at.getTime()-gt.getTime())/(1e3*60*60*24))},ke=y.useCallback(()=>{const Se=new Date;let gt=new Date;switch(H){case"7days":gt.setDate(Se.getDate()-7);break;case"30days":gt.setDate(Se.getDate()-30);break;case"90days":gt.setDate(Se.getDate()-90);break;case"all":gt=new Date(0);break}return S.filter(at=>{var et,lt,be,me,qe,ft,Ge,we,K;const kt=new Date(at.date)>=gt,Ee=((et=at.work_order_no)==null?void 0:et.toLowerCase().includes(r.toLowerCase()))||((be=(lt=at.requester)==null?void 0:lt.name)==null?void 0:be.toLowerCase().includes(r.toLowerCase()))||((me=at.complaint)==null?void 0:me.toLowerCase().includes(r.toLowerCase()))||((ft=(qe=at.service)==null?void 0:qe.service_name)==null?void 0:ft.toLowerCase().includes(r.toLowerCase())),vt=a==="all"||at.handling_status===a,bt=o==="all"||((Ge=at.department)==null?void 0:Ge.name)===o,Je=c==="all"||((we=at.service)==null?void 0:we.priority)===c,Le=f==="all"||((K=at.service_type)==null?void 0:K.group_name)===f;return kt&&Ee&&vt&&bt&&Je&&Le})},[S,H,r,a,o,c,f])(),Ce=(()=>{const Se=ke.filter(Ge=>["Resolved","Closed"].includes(Ge.handling_status)),gt=ke.filter(Ge=>["New","Assigned","In Progress"].includes(Ge.handling_status)),at=Se.length>0?Se.reduce((Ge,we)=>Ge+ue(we),0)/Se.length:0,Nt=Object.entries(ke.reduce((Ge,we)=>{const K=we.handling_status||"Unknown";return Ge[K]=(Ge[K]||0)+1,Ge},{})).map(([Ge,we])=>({status:Ge,count:we,percentage:we/ke.length*100})),kt=Object.entries(ke.reduce((Ge,we)=>{var ve;const K=((ve=we.service)==null?void 0:ve.priority)||"Not Set";return Ge[K]=(Ge[K]||0)+1,Ge},{})).map(([Ge,we])=>({priority:Ge,count:we,percentage:we/ke.length*100})),Ee=Object.entries(ke.reduce((Ge,we)=>{var ve;const K=((ve=we.department)==null?void 0:ve.name)||"Unknown";return Ge[K]=(Ge[K]||0)+1,Ge},{})).map(([Ge,we])=>({dept:Ge,count:we,percentage:we/ke.length*100})).sort((Ge,we)=>we.count-Ge.count).slice(0,8),vt=Object.entries(ke.reduce((Ge,we)=>{var ve;const K=((ve=we.service_type)==null?void 0:ve.group_name)||"Unknown";return Ge[K]=(Ge[K]||0)+1,Ge},{})).map(([Ge,we])=>({serviceType:Ge,count:we,percentage:we/ke.length*100})),bt=Array.from({length:12},(Ge,we)=>{const K=new Date;K.setMonth(K.getMonth()-(11-we));const ve=K.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),Re=ke.filter(st=>{const De=new Date(st.date);return De.getMonth()===K.getMonth()&&De.getFullYear()===K.getFullYear()}),Ue=Re.filter(st=>["Resolved","Closed"].includes(st.handling_status));return{month:ve,created:Re.length,resolved:Ue.length,resolutionRate:Re.length>0?Ue.length/Re.length*100:0}}),Je=["New","Assigned","In Progress","Resolved","Closed","Cancel"].map(Ge=>{const we=ke.filter(ve=>ve.handling_status===Ge),K=we.length>0?we.reduce((ve,Re)=>{const st=(Re.status_history||[]).find(De=>De.action===Ge);if(st){const De=new Date().getTime()-new Date(st.changed_at).getTime();return ve+Math.ceil(De/(1e3*60*60*24))}return ve},0)/we.length:0;return{status:Ge,avgTimeInStatus:Math.round(K),count:we.length}}),Le=Object.entries(ke.reduce((Ge,we)=>{var ve;const K=((ve=we.service_type)==null?void 0:ve.group_name)||"Unknown";if(Ge[K]||(Ge[K]=[]),we.handling_date&&we.date){const Re=ue(we);Ge[K].push(Re)}return Ge},{})).map(([Ge,we])=>({serviceType:Ge,avgResolutionTime:we.length>0?Math.round(we.reduce((K,ve)=>K+ve,0)/we.length):0,totalRequests:we.length,maxResolutionTime:we.length>0?Math.max(...we):0,minResolutionTime:we.length>0?Math.min(...we):0})),et=Object.entries(ke.reduce((Ge,we)=>{var ve;const K=((ve=we.service)==null?void 0:ve.service_name)||"Unknown";if(Ge[K]||(Ge[K]=[]),we.handling_date&&we.date){const Re=ue(we);Ge[K].push(Re)}return Ge},{})).map(([Ge,we])=>({service:Ge,avgResolutionTime:we.length>0?Math.round(we.reduce((K,ve)=>K+ve,0)/we.length):0,totalRequests:we.length})),lt=["Critical","High","Medium","Low"].map(Ge=>{const we=ke.filter(Re=>{var Ue;return((Ue=Re.service)==null?void 0:Ue.priority)===Ge}),K=we.filter(Re=>["Resolved","Closed"].includes(Re.handling_status)&&Re.handling_date&&Re.date),ve=K.length>0?K.reduce((Re,Ue)=>Re+ue(Ue),0)/K.length:0;return{priority:Ge,avgResolutionTime:Math.round(ve),total:we.length,resolved:K.length}}),me=Array.from({length:30},(Ge,we)=>{const K=new Date;return K.setDate(K.getDate()-(29-we)),K.toISOString().split("T")[0]}).map(Ge=>{const we=ke.filter(ve=>ve.date.startsWith(Ge)),K=we.filter(ve=>["Resolved","Closed"].includes(ve.handling_status));return{date:new Date(Ge).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),created:we.length,resolved:K.length,backlog:we.length-K.length}}),qe=Object.entries(ke.reduce((Ge,we)=>{var ve,Re,Ue,st;const K=((Re=(ve=we.service)==null?void 0:ve.owner)==null?void 0:Re.name)||"Unknown Owner";if(Ge[K]||(Ge[K]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),we.handling_date&&we.date){const De=ue(we);Ge[K].workOrders.push({workOrderNo:we.work_order_no,priority:(Ue=we.service)==null?void 0:Ue.priority,resolutionTime:De,status:we.handling_status,service:(st=we.service)==null?void 0:st.service_name}),Ge[K].totalResolutionTime+=De,["Resolved","Closed"].includes(we.handling_status)&&Ge[K].resolvedCount++}return Ge},{})).map(([Ge,we])=>({owner:Ge,avgResolutionTime:we.resolvedCount>0?Math.round(we.totalResolutionTime/we.resolvedCount):0,totalWorkOrders:we.workOrders.length,resolvedWorkOrders:we.resolvedCount,workOrders:we.workOrders})),ft=Object.entries(ke.reduce((Ge,we)=>{var ve,Re,Ue;const K=((ve=we.assigned_to)==null?void 0:ve.name)||"Unassigned";if(Ge[K]||(Ge[K]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),we.handling_date&&we.date){const st=ue(we);Ge[K].workOrders.push({workOrderNo:we.work_order_no,priority:(Re=we.service)==null?void 0:Re.priority,resolutionTime:st,status:we.handling_status,service:(Ue=we.service)==null?void 0:Ue.service_name}),Ge[K].totalResolutionTime+=st,["Resolved","Closed"].includes(we.handling_status)&&Ge[K].resolvedCount++}return Ge},{})).map(([Ge,we])=>({pic:Ge,avgResolutionTime:we.resolvedCount>0?Math.round(we.totalResolutionTime/we.resolvedCount):0,totalWorkOrders:we.workOrders.length,resolvedWorkOrders:we.resolvedCount,workOrders:we.workOrders}));return{total:ke.length,resolved:Se.length,active:gt.length,avgResolutionTime:Math.round(at),resolutionRate:ke.length>0?Se.length/ke.length*100:0,statusDistribution:Nt,priorityDistribution:kt,departmentDistribution:Ee,serviceTypeDistribution:vt,monthlyTrends:bt,statusTimingAnalysis:Je,serviceTypePerformance:Le,servicePerformance:et,priorityTimingAnalysis:lt,dailyTrends:me,serviceOwnerPerformance:qe,picPerformance:ft}})(),Be=[{title:"Total Work Orders",value:Ce.total.toString(),change:"+12%",icon:i.jsx(Uh,{})},{title:"Avg Resolution Time",value:`${Ce.avgResolutionTime} days`,change:Ce.avgResolutionTime<5?"-2 days":"+1 day",icon:i.jsx(kr,{})},{title:"Service Types",value:Ce.serviceTypePerformance.length.toString(),change:"+3%",icon:i.jsx(Uhe,{})},{title:"Active Technicians",value:Ce.picPerformance.filter(Se=>Se.pic!=="Unassigned").length.toString(),change:"+2%",icon:i.jsx(zi,{})}],fe=y.useCallback(()=>{if($("export_reports")){const Se=new Ar;Se.setFontSize(20),Se.setTextColor(40,40,40),Se.text("IT WORK ORDER REPORT",105,20,{align:"center"}),Se.setFontSize(12),Se.setTextColor(100,100,100),Se.text(`Generated on: ${new Date().toLocaleDateString("id-ID")}`,105,30,{align:"center"}),Se.text(`Time Range: ${H==="7days"?"Last 7 Days":H==="30days"?"Last 30 Days":H==="90days"?"Last 90 Days":"All Time"}`,105,37,{align:"center"}),Se.setFontSize(14),Se.setTextColor(40,40,40),Se.text("SUMMARY STATISTICS",20,55),Se.setFontSize(10),Se.setTextColor(80,80,80),Se.text(`Total Work Orders: ${Ce.total}`,20,65),Se.text(`Resolved: ${Ce.resolved}`,20,72),Se.text(`Active: ${Ce.active}`,20,79),Se.text(`Average Resolution Time: ${Ce.avgResolutionTime} days`,20,86),Se.text(`Resolution Rate: ${Ce.resolutionRate.toFixed(1)}%`,20,93),Se.setFontSize(14),Se.setTextColor(40,40,40),Se.text("WORK ORDER DETAILS",20,110);const gt=["WO No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],at=ke.map(Ee=>{var vt,bt,Je,Le,et;return[Ee.work_order_no||"-",((vt=Ee.requester)==null?void 0:vt.name)||"-",((bt=Ee.department)==null?void 0:bt.name)||"-",_t(Ee.date),Ee.handling_status||"-",((Je=Ee.service)==null?void 0:Je.priority)||"Not Set",((Le=Ee.service_type)==null?void 0:Le.group_name)||"-",((et=Ee.assigned_to)==null?void 0:et.name)||"-",Ee.handling_date?ue(Ee).toString():"Ongoing"]});Xy(Se,{head:[gt],body:at,startY:115,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:20,right:20}});const Nt=Se.lastAutoTable.finalY+15;if(Nt<250){Se.setFontSize(14),Se.setTextColor(40,40,40),Se.text("STATUS DISTRIBUTION",20,Nt);const Ee=Ce.statusDistribution.map(vt=>[vt.status,vt.count.toString(),`${vt.percentage.toFixed(1)}%`]);Xy(Se,{head:[["Status","Count","Percentage"]],body:Ee,startY:Nt+5,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"},margin:{left:20,right:20}})}const kt=Se.getNumberOfPages();for(let Ee=1;Ee<=kt;Ee++)Se.setPage(Ee),Se.setFontSize(8),Se.setTextColor(150,150,150),Se.text(`Page ${Ee} of ${kt}`,105,290,{align:"center"}),Se.text("Confidential - IT Department Report",105,295,{align:"center"});Se.save(`it-workorder-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[$,ke,Ce,H]),ge=y.useCallback(()=>{if($("export_reports")){const Se=new Ar;Se.setFillColor(59,130,246),Se.rect(0,0,210,297,"F"),Se.setTextColor(255,255,255),Se.setFontSize(24),Se.text("IT SERVICE MANAGEMENT",105,100,{align:"center"}),Se.setFontSize(18),Se.text("COMPREHENSIVE REPORT",105,120,{align:"center"}),Se.setFontSize(14),Se.text(`Period: ${H==="7days"?"Last 7 Days":H==="30days"?"Last 30 Days":H==="90days"?"Last 90 Days":"All Time"}`,105,150,{align:"center"}),Se.text(`Generated: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,105,160,{align:"center"}),Se.setFontSize(10),Se.text("Confidential Business Document - For Internal Use Only",105,280,{align:"center"}),Se.addPage(),Se.setFillColor(59,130,246),Se.rect(0,0,210,30,"F"),Se.setTextColor(255,255,255),Se.setFontSize(16),Se.text("EXECUTIVE SUMMARY",105,20,{align:"center"}),Se.setTextColor(0,0,0),Se.setFontSize(12);const gt=50;Se.text("Performance Overview:",20,gt),Se.setFontSize(10),Se.text(` Total Work Orders Processed: ${Ce.total}`,25,gt+10),Se.text(` Successfully Resolved: ${Ce.resolved} (${Ce.resolutionRate.toFixed(1)}%)`,25,gt+17),Se.text(` Average Resolution Time: ${Ce.avgResolutionTime} days`,25,gt+24),Se.text(` Active/Pending Work Orders: ${Ce.active}`,25,gt+31),Se.text("Key Metrics:",20,gt+50),Se.text(` Service Types Handled: ${Ce.serviceTypePerformance.length}`,25,gt+60),Se.text(` Departments Served: ${Ce.departmentDistribution.length}`,25,gt+67),Se.text(` Active Technicians: ${Ce.picPerformance.filter(Je=>Je.pic!=="Unassigned").length}`,25,gt+74),Se.addPage(),Se.setFillColor(59,130,246),Se.rect(0,0,210,30,"F"),Se.setTextColor(255,255,255),Se.setFontSize(16),Se.text("PERFORMANCE ANALYSIS",105,20,{align:"center"}),Se.setTextColor(0,0,0),Se.setFontSize(12),Se.text("Service Type Performance:",20,50);const at=Ce.serviceTypePerformance.sort((Je,Le)=>Le.avgResolutionTime-Je.avgResolutionTime).map(Je=>[Je.serviceType,Je.avgResolutionTime.toString(),Je.totalRequests.toString()]);Xy(Se,{head:[["Service Type","Avg Resolution (Days)","Total Requests"]],body:at,startY:60,styles:{fontSize:8},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"}});const Nt=Se.lastAutoTable.finalY+15;Se.setFontSize(12),Se.text("Technician Performance:",20,Nt);const kt=Ce.picPerformance.filter(Je=>Je.pic!=="Unassigned").sort((Je,Le)=>Le.totalWorkOrders-Je.totalWorkOrders).map(Je=>[Je.pic,Je.avgResolutionTime.toString(),Je.totalWorkOrders.toString(),Je.resolvedWorkOrders.toString()]);Xy(Se,{head:[["Technician","Avg Resolution (Days)","Total Assigned","Resolved"]],body:kt,startY:Nt+5,styles:{fontSize:8},headStyles:{fillColor:[245,158,11],textColor:255,fontStyle:"bold"}}),Se.addPage(),Se.setFillColor(59,130,246),Se.rect(0,0,210,30,"F"),Se.setTextColor(255,255,255),Se.setFontSize(16),Se.text("DETAILED WORK ORDERS",105,20,{align:"center"});const Ee=["Work Order No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],vt=ke.map(Je=>{var Le,et,lt,be,me;return[Je.work_order_no||"-",((Le=Je.requester)==null?void 0:Le.name)||"-",((et=Je.department)==null?void 0:et.name)||"-",_t(Je.date),Je.handling_status||"-",((lt=Je.service)==null?void 0:lt.priority)||"Not Set",((be=Je.service_type)==null?void 0:be.group_name)||"-",((me=Je.assigned_to)==null?void 0:me.name)||"-",Je.handling_date?ue(Je).toString():"Ongoing"]});Xy(Se,{head:[Ee],body:vt,startY:40,styles:{fontSize:6,cellPadding:1.5},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const bt=Se.getNumberOfPages();for(let Je=1;Je<=bt;Je++)Se.setPage(Je),Se.setFontSize(8),Se.setTextColor(150,150,150),Se.text(`Page ${Je} of ${bt}`,105,290,{align:"center"}),Se.text("Confidential IT Department Report",105,295,{align:"center"});Se.save(`it-detailed-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[$,ke,Ce,H]),ae=Se=>{switch(Se==null?void 0:Se.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},ie=()=>{e(Se=>!Se)},ht=v*b,ut=ht-b,Pe=ke.slice(ut,ht),Ke=Math.ceil(ke.length/b),yt=Se=>w(Se);y.useEffect(()=>{w(1)},[r,a,o,c,f,H]);const Qe=Se=>{B(Se),M(!0)},Tt=()=>{M(!1),B(void 0)},_t=Se=>{if(!Se)return"-";try{const gt=new Date(Se);return isNaN(gt.getTime())?"-":gt.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return _?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):I?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Yr,{className:"text-red-600 text-5xl"}),i.jsx("p",{className:"ml-4 text-lg text-red-800",children:I}),i.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"IT Work Order - Advanced Analytics",mainTitleHighlight:"Dashboard",description:"Comprehensive performance insights and operational analytics for IT service management.",icon:i.jsx(cu,{}),isMobile:N,toggleSidebar:ie}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${U?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(E.div,{whileTap:{scale:.98},onClick:()=>q("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ee?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Service Performance Analytics"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced insights and performance metrics for IT work order management"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("select",{value:H,onChange:Se=>G(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"7days",children:"Last 7 Days"}),i.jsx("option",{value:"30days",children:"Last 30 Days"}),i.jsx("option",{value:"90days",children:"Last 90 Days"}),i.jsx("option",{value:"all",children:"All Time"})]}),$("export_reports")&&i.jsxs(i.Fragment,{children:[i.jsxs(E.button,{onClick:fe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[i.jsx(tI,{className:"mr-2"})," Export Summary PDF"]}),i.jsxs(E.button,{onClick:ge,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-green-600 text-white shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center",children:[i.jsx(tI,{className:"mr-2"})," Export Detailed PDF"]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:Be.map((Se,gt)=>i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:gt*.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 hover:shadow-lg transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:Se.title}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Se.value}),i.jsxs("p",{className:`mt-2 text-xs font-semibold ${Se.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[Se.change," from previous period"]})]}),i.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600 text-xl",children:Se.icon})]})},Se.title))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2"})," Monthly Work Order Trends"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(v$e,{data:Ce.monthlyTrends,children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{dataKey:"month"}),i.jsx(Mo,{}),i.jsx(ji,{}),i.jsx(Lf,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Created"}),i.jsx(Lf,{type:"monotone",dataKey:"resolved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Resolved"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(eI,{className:"mr-2"})," Status Distribution"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(ZP,{children:[i.jsx(pu,{data:Ce.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:Se,percentage:gt})=>`${Se}: ${gt.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:Ce.statusDistribution.map((Se,gt)=>i.jsx(Pp,{fill:MG[gt%MG.length]},`cell-${gt}`))}),i.jsx(ji,{})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(eI,{className:"mr-2"})," Priority Resolution Time (Days)"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Ob,{data:Ce.priorityTimingAnalysis,children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{dataKey:"priority"}),i.jsx(Mo,{}),i.jsx(ji,{formatter:Se=>[`${Se} days`,"Avg Resolution Time"]}),i.jsx(lu,{dataKey:"avgResolutionTime",fill:"#ff7300",name:"Avg Resolution (Days)"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(zi,{className:"mr-2"})," Department Distribution"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Ob,{data:Ce.departmentDistribution,layout:"vertical",children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{type:"number"}),i.jsx(Mo,{type:"category",dataKey:"dept",width:100}),i.jsx(ji,{}),i.jsx(lu,{dataKey:"count",fill:"#0088FE",name:"Work Orders"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2"})," Status Timing Analysis"]}),i.jsx("div",{className:"space-y-4",children:Ce.statusTimingAnalysis.filter(Se=>Se.count>0).map((Se,gt)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${ae(Se.status).split(" ")[0]}`}),i.jsx("span",{className:"font-medium text-sm capitalize",children:Se.status})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-semibold",children:[Se.avgTimeInStatus,"d avg"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Se.count," tickets"]})]})]},Se.status))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2"})," Service Type Performance (Days to Resolve)"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Ob,{data:Ce.serviceTypePerformance.sort((Se,gt)=>gt.avgResolutionTime-Se.avgResolutionTime).slice(0,8),layout:"vertical",children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{type:"number"}),i.jsx(Mo,{type:"category",dataKey:"serviceType",width:120}),i.jsx(ji,{formatter:Se=>[`${Se} days`,"Avg Resolution Time"]}),i.jsx(lu,{dataKey:"avgResolutionTime",fill:"#0088FE",name:"Avg Days to Resolve",children:Ce.serviceTypePerformance.map((Se,gt)=>i.jsx(Pp,{fill:Se.avgResolutionTime>10?"#FF8042":Se.avgResolutionTime>5?"#FFBB28":"#00C49F"},`cell-${gt}`))})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2"})," Daily Work Order Trends (30 Days)"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(fN,{data:Ce.dailyTrends,children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{dataKey:"date"}),i.jsx(Mo,{}),i.jsx(ji,{}),i.jsx(Sf,{}),i.jsx(Pf,{type:"monotone",dataKey:"created",stroke:"#8884d8",name:"Created",strokeWidth:2}),i.jsx(Pf,{type:"monotone",dataKey:"resolved",stroke:"#82ca9d",name:"Resolved",strokeWidth:2})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(un,{className:"mr-2"})," Service Owner Performance"]}),i.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Ce.serviceOwnerPerformance.sort((Se,gt)=>gt.totalWorkOrders-Se.totalWorkOrders).map((Se,gt)=>i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:Se.owner}),i.jsxs("p",{className:"text-sm text-gray-600",children:[Se.totalWorkOrders," work orders"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Se.avgResolutionTime," days avg"]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Se.resolvedWorkOrders," resolved"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[Se.workOrders.slice(0,3).map((at,Nt)=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[i.jsx("span",{className:"font-medium",children:at.workOrderNo}),i.jsx("span",{className:`px-2 py-1 rounded text-xs ${at.priority==="Critical"?"bg-red-100 text-red-800":at.priority==="High"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:at.priority}),i.jsxs("span",{children:[at.resolutionTime,"d"]})]},Nt)),Se.workOrders.length>3&&i.jsxs("div",{className:"text-center text-gray-500 text-xs",children:["+",Se.workOrders.length-3," more work orders"]})]})]},Se.owner))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(zi,{className:"mr-2"})," Technician Performance"]}),i.jsx("div",{className:"space-y-3",children:Ce.picPerformance.filter(Se=>Se.pic!=="Unassigned").sort((Se,gt)=>gt.totalWorkOrders-Se.totalWorkOrders).slice(0,6).map((Se,gt)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-sm",children:Se.pic}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Se.totalWorkOrders," orders  ",Se.avgResolutionTime,"d avg"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-semibold",children:[Se.resolvedWorkOrders,"/",Se.totalWorkOrders]}),i.jsx("div",{className:"text-xs text-gray-500",children:"resolved"})]})]},Se.pic))})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"relative w-full md:w-1/3",children:[i.jsx(_i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search work orders...",value:r,onChange:Se=>n(Se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[i.jsxs("div",{className:"relative w-full sm:w-auto",children:[i.jsxs("select",{value:a,onChange:Se=>s(Se.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Cancel",children:"Cancel"}),i.jsx("option",{value:"Closed",children:"Closed"})]}),i.jsx(ja,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),i.jsxs("div",{className:"relative w-full sm:w-auto",children:[i.jsxs("select",{value:o,onChange:Se=>l(Se.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(S.map(Se=>{var gt;return(gt=Se.department)==null?void 0:gt.name}).filter(Boolean))).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]}),i.jsx(ja,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),i.jsxs("div",{className:"relative w-full sm:w-auto",children:[i.jsxs("select",{value:c,onChange:Se=>u(Se.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Priorities"}),i.jsx("option",{value:"Critical",children:"Critical"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"Low",children:"Low"})]}),i.jsx(ja,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),i.jsxs(E.button,{onClick:()=>p(!g),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[i.jsx(po,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),i.jsx(sr,{children:g&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),i.jsxs("select",{value:f,onChange:Se=>m(Se.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"All Service Types"}),Array.from(new Set(S.map(Se=>{var gt;return(gt=Se.service_type)==null?void 0:gt.group_name}).filter(Boolean))).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]})]})})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order Analytics"}),Pe.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx(Uh,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resolution Time"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.jsx(sr,{children:Pe.map((Se,gt)=>{var at,Nt,kt,Ee,vt,bt,Je;return i.jsxs(E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ut+gt+1}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Se.work_order_no}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((at=Se.requester)==null?void 0:at.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Nt=Se.department)==null?void 0:Nt.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:_t(Se.date)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-bold rounded-full ${((kt=Se.service)==null?void 0:kt.priority)==="Critical"?"bg-red-100 text-red-800":((Ee=Se.service)==null?void 0:Ee.priority)==="High"?"bg-orange-100 text-orange-800":((vt=Se.service)==null?void 0:vt.priority)==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:((bt=Se.service)==null?void 0:bt.priority)||"Not Set"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(Se.handling_status)}`,children:Se.handling_status||"Unknown"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Je=Se.assigned_to)==null?void 0:Je.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Se.handling_date?`${ue(Se)} days`:"Ongoing"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs(E.button,{onClick:()=>Qe(Se),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[i.jsx(Io,{className:"mr-1",size:16})," View"]})})]},Se.id)})})})]}),ke.length>b&&i.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[i.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx(E.button,{onClick:()=>yt(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),i.jsx(E.button,{onClick:()=>yt(v+1),disabled:v===Ke,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",i.jsx("span",{className:"font-medium",children:ut+1})," to ",i.jsx("span",{className:"font-medium",children:Math.min(ht,ke.length)})," of"," ",i.jsx("span",{className:"font-medium",children:ke.length})," results"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[i.jsxs(E.button,{onClick:()=>yt(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[i.jsx("span",{className:"sr-only",children:"Previous"}),i.jsx(If,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Ke)].map((Se,gt)=>i.jsx(E.button,{onClick:()=>yt(gt+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===gt+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:gt+1},gt)),i.jsxs(E.button,{onClick:()=>yt(v+1),disabled:v===Ke,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[i.jsx("span",{className:"sr-only",children:"Next"}),i.jsx(Na,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),i.jsx(cUe,{isOpen:D,onClose:Tt,workOrder:R})]})},dUe=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Kc=t=>t==null||t===""?"N/A":String(t),_ae=({isOpen:t,onClose:e,title:r,children:n,className:a,maxWidth:s="max-w-xl"})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s} ${a||"w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Xc=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>i.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),i.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),QT=({title:t})=>i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),fUe=({record:t,onUpdateRecord:e})=>i.jsxs("div",{className:"space-y-6",children:[i.jsx(QT,{title:"Monitoring Details"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Xc,{label:"Monitoring Interval",value:Kc(t.interval)}),i.jsx(Xc,{label:"Unit",value:Kc(t.unitWilayah)}),i.jsx(Xc,{label:"Machine",value:Kc(t.mesin)}),i.jsx(Xc,{label:"Item",value:Kc(t.item)}),i.jsx(Xc,{label:"Unit of Measure",value:Kc(t.unitOfMeasure)}),i.jsx(Xc,{label:"Monitoring Result",value:Kc(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),i.jsx(Xc,{label:"MS Status",value:Kc(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),i.jsx(QT,{title:"Standard"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Xc,{label:"Standard (Min)",value:Kc(t.standardMin)}),i.jsx(Xc,{label:"Standard (Max)",value:Kc(t.standardMax)}),i.jsx(Xc,{label:"Visual Standard",value:Kc(t.standartVisual),className:"md:col-span-2"})]}),i.jsx(QT,{title:"Description"}),i.jsx("div",{className:"grid grid-cols-1",children:i.jsx(Xc,{label:"Notes",value:Kc(t.notes)})})]}),hUe=({records:t})=>{const[e,r]=y.useState(""),[n,a]=y.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const s=y.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const v=[...new Set(t.filter(w=>w.mesin&&w.mesin!=="N/A"&&w.mesin.trim()!=="").map(w=>w.mesin))].sort();return console.log("Available machines:",v),["",...v]},[t]),o=y.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const v=t.filter(b=>b.mesin===e&&b.item&&b.item!=="N/A"&&b.item.trim()!=="").map(b=>b.item),w=[...new Set(v)].sort();return console.log(`Available items for ${e}:`,w),["",...w]},[t,e]),l=y.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const v=t.filter(w=>{const b=w.mesin===e,N=w.item===n,k=w.id.startsWith("activity-"),S=w.monitoringResult&&w.monitoringResult!=="N/A"&&w.monitoringResult!=="MS"&&w.monitoringResult!=="TMS"&&!isNaN(parseFloat(w.monitoringResult))&&isFinite(parseFloat(w.monitoringResult));return console.log(`Record ${w.id}:`,{machineMatch:b,itemMatch:N,hasActivity:k,monitoringResult:w.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(w.monitoringResult):null}),b&&N&&k&&S}).sort((w,b)=>new Date(w.date).getTime()-new Date(b.date).getTime()).map(w=>{const b=parseFloat(w.monitoringResult);return console.log(`Trend data point: ${w.date}, ${w.monitoringResult}, numeric: ${b}`),{date:new Date(w.date),dateString:new Date(w.date).toLocaleDateString("en-US"),result:b,msStatus:w.msStatus,notes:w.notes,machine:w.mesin,item:w.item,standardMin:w.standardMin,standardMax:w.standardMax,isActivity:w.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,v),v},[t,e,n]),c=y.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const v=l.map(U=>U.result);console.log("Analysis results:",v);const w=v.reduce((U,J)=>U+J,0)/v.length,b=[...v].sort((U,J)=>U-J),N=b.length%2===0?(b[b.length/2-1]+b[b.length/2])/2:b[Math.floor(b.length/2)],k=v.reduce((U,J)=>U+Math.pow(J-w,2),0)/v.length,S=Math.sqrt(k),A=Math.min(...v),_=Math.max(...v),O=_-A,I=l.map(U=>U.date.getTime()),L=l.map(U=>U.result),R=I.length,B=I.reduce((U,J)=>U+J,0),D=L.reduce((U,J)=>U+J,0),M=I.reduce((U,J,ee)=>U+J*L[ee],0),H=I.reduce((U,J)=>U+J*J,0),G=R*H-B*B,Y=G!==0?(R*M-B*D)/G:0,W=G!==0?(D-Y*B)/R:0,$=Y>.001?"increasing":Y<-.001?"decreasing":"stable",q=S>0?Math.abs(Y)/S:0,Z=l.filter(U=>Math.abs(U.result-w)>2*S),ce=l[0],X=ce.standardMin!==null&&ce.standardMax!==null?l.filter(U=>U.result>=(ce.standardMin||0)&&U.result<=(ce.standardMax||1/0)).length/l.length*100:null;return{mean:w,median:N,stdDev:S,min:A,max:_,range:O,count:v.length,trendDirection:$,trendStrength:q*1e3,slope:Y,outliers:Z,withinStandard:X,coefficientOfVariation:w>0?S/w*100:0}}catch(v){return console.error("Error in statistical analysis:",v),null}},[l]),u=y.useMemo(()=>{const v=t.length,w=new Set(t.map(k=>k.mesin)).size,b=t.filter(k=>k.msStatus==="MS").length,N=v>0?b/v*100:0;return[{title:"Total Monitoring Items",value:v.toLocaleString("id-ID"),icon:i.jsx(Cn,{})},{title:"Machines Monitored",value:w.toLocaleString("id-ID"),icon:i.jsx(_x,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:i.jsx(wr,{})}]},[t]),f=y.useMemo(()=>{const v={};return t.forEach(w=>{w.mesin&&(v[w.mesin]=(v[w.mesin]||0)+1)}),Object.entries(v).sort(([,w],[,b])=>b-w).slice(0,5).map(([w,b])=>({name:w,count:b}))},[t]),m=y.useMemo(()=>{const v={};return t.forEach(w=>{if(w.date){const b=new Date(w.date),N=b.getFullYear(),k=(b.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${k}`;v[S]=(v[S]||0)+1}}),Object.entries(v).sort(([w],[b])=>w.localeCompare(b)).map(([w,b])=>{const[N,k]=w.split("-");return{name:`${new Date(Number(N),Number(k)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":b}})},[t]),g=y.useMemo(()=>{const v={MS:0,TMS:0,"N/A":0};return t.forEach(w=>{const b=w.msStatus||"N/A";v[b]=(v[b]||0)+1}),[{name:"MS",value:v.MS},{name:"TMS",value:v.TMS},{name:"N/A",value:v["N/A"]}].filter(w=>w.value>0)},[t]),p=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:u.map((v,w)=>i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:w*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:v.title}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.value})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:v.icon})]})},v.title))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(cu,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),i.jsx("div",{className:"space-y-3",children:f.map((v,w)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:i.jsx("span",{className:"text-blue-600 font-bold text-sm",children:w+1})}),i.jsx("span",{className:"font-medium text-gray-800",children:v.name})]}),i.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[v.count," events"]})]},v.name))})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-600"})," Status Distribution"]}),g.length>0?i.jsx("div",{className:"w-full h-64",children:i.jsx(kl,{width:"100%",height:"100%",children:i.jsxs(ZP,{children:[i.jsx(pu,{data:g,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:v,percent:w})=>`${v} ${(w*100).toFixed(0)}%`,children:g.map((v,w)=>i.jsx(Pp,{fill:p[w%p.length]},`cell-${w}`))}),i.jsx(ji,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[`${v} events`,"Count"]})]})})}):i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?i.jsx("div",{className:"h-80",children:i.jsx(kl,{width:"100%",height:"100%",children:i.jsxs(fN,{data:m,children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(ji,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),i.jsx(Pf,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(lf,{className:"mx-auto text-gray-300 mb-4",size:64}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),i.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),i.jsxs("select",{value:e,onChange:v=>{console.log("Machine selected:",v.target.value),r(v.target.value),a("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[i.jsx("option",{value:"",children:"Choose machine..."}),s.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))]}),e&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),i.jsxs("select",{value:n,onChange:v=>{console.log("Item selected:",v.target.value),a(v.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[i.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))]}),n&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?i.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qi,{className:"mx-auto text-gray-300 mb-4",size:48}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),i.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),i.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),i.jsx("button",{onClick:()=>{r(""),a("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),i.jsxs("p",{className:"text-gray-600",children:[e,"  ",n]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("select",{value:e,onChange:v=>{r(v.target.value),a("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:s.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))}),i.jsx("select",{value:n,onChange:v=>a(v.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:i.jsx(Cn,{className:"w-6 h-6"})})]})}),i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:i.jsx(lf,{className:"w-6 h-6"})})]})}),i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:i.jsx(hc,{className:"w-6 h-6"})})]})})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),i.jsx("div",{className:"h-80",children:i.jsx(kl,{width:"100%",height:"100%",children:i.jsxs(fN,{data:l,children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(ji,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[v,"Value"]}),i.jsx(Pf,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(cu,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[i.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((v,w)=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.dateString}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:v.result.toLocaleString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.msStatus==="MS"?"bg-green-100 text-green-800":v.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:v.msStatus||"N/A"})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:v.notes||"-"})]},w))})]})})]})]}):i.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Yr,{className:"mx-auto text-yellow-500 mb-4",size:48}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},mUe=y.createContext(void 0),pUe=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:a})=>{const s=u=>{n(u)},o=r.reduce((u,f)=>{const m=String(f.scheduleId||"unknown");return u[m]||(u[m]={scheduleId:m,machine:f.mesin,unit:f.unitWilayah,interval:f.interval,items:[]}),u[m].items.push(f),u},{}),l=({status:u})=>{const f={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:""},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:""},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:""},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:""}},m=f[u]||f.New;return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${m.color}`,children:[i.jsx("span",{className:"text-xs",children:m.icon}),u]})},c=({status:u})=>{const f={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[u]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:u};return i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${f.color}`,children:f.label})};return i.jsx(_ae,{isOpen:t,onClose:e,title:`Schedules for ${new Date(a).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),r.length," total items"]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($i,{className:"w-4 h-4"}),Object.keys(o).length," schedules"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="Done"))&&i.jsx(l,{status:"Done"}),Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="On Progress"))&&i.jsx(l,{status:"On Progress"}),Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="New"))&&i.jsx(l,{status:"New"})]})]})}),r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(La,{className:"text-gray-400 text-2xl"})}),i.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):i.jsx("div",{className:"space-y-4",children:Object.values(o).map(u=>i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h4",{className:"text-lg font-bold text-gray-900",children:u.machine}),u.items.every(f=>f.scheduleStatus===u.items[0].scheduleStatus)&&i.jsx(l,{status:u.items[0].scheduleStatus||"New"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Cn,{className:"w-4 h-4"}),u.items.length," item",u.items.length>1?"s":""]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(kr,{className:"w-4 h-4"}),u.interval]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Qa,{className:"w-4 h-4"}),u.unit]})]})]})})}),i.jsx("div",{className:"divide-y divide-gray-100",children:u.items.map((f,m)=>i.jsxs(E.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>s(f),className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:f.item}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(l,{status:f.scheduleStatus||"New"}),f.monitoringResult&&f.monitoringResult!=="N/A"&&i.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:[" Result: ",f.monitoringResult]})]})]}),i.jsx(c,{status:f.msStatus})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[f.standardMin!==null&&f.standardMax!==null&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Standard:"}),i.jsxs("span",{children:[f.standardMin," - ",f.standardMax]})]}),f.unitOfMeasure&&f.unitOfMeasure!=="N/A"&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Unit:"}),i.jsx("span",{children:f.unitOfMeasure})]}),f.notes&&f.notes!=="N/A"&&i.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[i.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),i.jsx("span",{className:"flex-1",children:f.notes})]})]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:i.jsx(Na,{className:"w-4 h-4"})})})]},`${f.id}-${m}`))})]},u.scheduleId))}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:i.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},OG=()=>{const t=ar(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=ir(),[a,s]=y.useState(()=>{const de=localStorage.getItem("sidebarOpen");return JSON.parse(de||"false")}),[o,l]=y.useState(!1),[c,u]=y.useState(!0),[f,m]=y.useState(null),[g,p]=y.useState(window.innerWidth<768),[v,w]=y.useState(!1),[b,N]=y.useState(!1),[k,S]=y.useState(!1),[A,_]=y.useState(!1),[O,I]=y.useState(null),[L,R]=y.useState("calendar"),[B,D]=y.useState(null),[M,H]=y.useState(null),[G,Y]=y.useState([]),[W,$]=y.useState([]),[q,Z]=y.useState([]),[ce,X]=y.useState(""),[U,J]=y.useState(!1),[ee,ne]=y.useState(1),[ue,Ae]=y.useState([]),[ke,je]=y.useState([]),[Ce,Be]=y.useState([]),[fe,ge]=y.useState({startDate:null,endDate:null,selectedUnits:[]}),[ae,ie]=y.useState(!1),[ht,ut]=y.useState([]),[Pe,Ke]=y.useState(""),yt=y.useRef(null),Qe=y.useRef(null),[Tt,_t]=y.useState([]),[Se,gt]=y.useState([]),[at,Nt]=y.useState(!1),[kt,Ee]=y.useState(!1),vt=y.useRef(null),[bt,Je]=y.useState(!1),Le=y.useRef(null),[et,lt]=y.useState(!1),be=y.useRef(null),me=y.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);y.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const qe=y.useMemo(()=>ue.map(de=>{var Jr;const Ye=ke.flatMap(Ot=>Ot.mesin).find(Ot=>Ot.id===de.id_mesins),wt=(Ye==null?void 0:Ye.name)||`Machine ${de.id_mesins}`,or=((Jr=de.monitoring_interval)==null?void 0:Jr.type_interval)||"weekly";return{id:`schedule-${de.id_monitoring_schedule}`,mesin:wt,item:"",interval:or,unitWilayah:de.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[ue,ke]),ft=y.useCallback((de,Ye,wt)=>{const or=[];de.forEach(Ot=>{var ha;const tr=wt.flatMap(Hr=>Hr.mesin).find(Hr=>Hr.id===Ot.id_mesins),Mr=(tr==null?void 0:tr.name)||`Machine ${Ot.id_mesins}`,jr=((ha=Ot.monitoring_interval)==null?void 0:ha.type_interval)||"weekly",cr=jr==="weekly"?"Weekly":jr==="monthly"?"Monthly":jr==="quarterly"?"3 Months":jr==="semi-annual"?"6 Months":jr==="yearly"?"1 Year":"Daily",Fr=Ot.item_mesins&&Ot.item_mesins.length>0?Ot.item_mesins:(tr==null?void 0:tr.item_mesin)||[];Ot.monitoring_activities&&Ot.monitoring_activities.length>0?Ot.monitoring_activities.forEach(Hr=>{var en;let ma=Fr.find(In=>In.id===Hr.id_item_mesin);if(!ma)for(const In of wt){for(const Cc of In.mesin){const Js=(en=Cc.item_mesin)==null?void 0:en.find(yo=>yo.id===Hr.id_item_mesin);if(Js){ma=Js;break}}if(ma)break}ma||(console.warn(`Item mesin not found for activity ${Hr.id_monitoring_activity}, item_mesin_id: ${Hr.id_item_mesin}`),ma={id:Hr.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:Ot.id_mesins,created_at:"",updated_at:""});let wn="N/A";Hr.hasil_ms_tms==="ms"?wn="MS":Hr.hasil_ms_tms==="tms"&&(wn="TMS");let An=Hr.hasil_monitoring||"N/A";if(Hr.hasil_monitoring&&Hr.hasil_monitoring!=="N/A"){const In=parseFloat(Hr.hasil_monitoring);!isNaN(In)&&isFinite(In)&&(An=In.toString())}or.push({id:`activity-${Hr.id_monitoring_activity}`,mesin:Mr,date:Hr.tgl_monitoring,interval:cr,unitWilayah:Ot.unit,item:ma.item_mesin||"Unknown Item",unitOfMeasure:ma.satuan||"N/A",standardMin:ma.standard_min?parseFloat(ma.standard_min):null,standardMax:ma.standard_max?parseFloat(ma.standard_max):null,standartVisual:ma.standard_visual||"N/A",monitoringResult:An,msStatus:wn,notes:Hr.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${Mr}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Ot.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Ot.id_monitoring_schedule,scheduleStatus:Ot.status||"New"})}):Fr.forEach(Hr=>{or.push({id:`schedule-${Ot.id_monitoring_schedule}-scheduled-${Hr.id}`,mesin:Mr,date:Ot.tgl_start,interval:cr,unitWilayah:Ot.unit,item:Hr.item_mesin||"Unknown Item",unitOfMeasure:Hr.satuan||"N/A",standardMin:Hr.standard_min?parseFloat(Hr.standard_min):null,standardMax:Hr.standard_max?parseFloat(Hr.standard_max):null,standartVisual:Hr.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${Mr}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Ot.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Ot.id_monitoring_schedule,scheduleStatus:Ot.status||"New"})})}),console.log("Converted records:",or.length),console.log("Sample converted records:",or.slice(0,5));const Jr=or.filter(Ot=>Ot.monitoringResult&&Ot.monitoringResult!=="N/A"&&!isNaN(parseFloat(Ot.monitoringResult)));return console.log("Numeric records available:",Jr.length),console.log("Numeric records sample:",Jr.slice(0,3)),or},[]),[Ge,we]=y.useState([]),K=300*1e3,[ve,Re]=y.useState(null);y.useEffect(()=>{let de=!0;const Ye=new AbortController;return(async()=>{var Jr,Ot,tr;if(!de)return;const or=Date.now();if(ve&&or-ve.timestamp<K){Ae(ve.schedules),je(ve.masterData.unitsWithMachines||[]),Be(ve.masterData.intervals||[]);const Mr=ft(ve.schedules,[],ve.masterData.unitsWithMachines||[]);we(Mr),u(!1);return}try{u(!0),m(null);const[Mr,jr]=await Promise.all([e(),r()]);if(!de)return;console.log("Schedules data:",Mr),console.log("Master data:",jr),console.log("Units with machines:",jr.unitsWithMachines),jr.unitsWithMachines&&jr.unitsWithMachines.length>0&&console.log("Sample machine items:",(tr=(Ot=(Jr=jr.unitsWithMachines[0])==null?void 0:Jr.mesin)==null?void 0:Ot[0])==null?void 0:tr.item_mesin),Re({schedules:Mr,masterData:jr,timestamp:or}),Ae(Mr),je(jr.unitsWithMachines||[]),Be(jr.intervals||[]);const cr=ft(Mr,[],jr.unitsWithMachines||[]);we(cr)}catch(Mr){if(!de)return;m(Mr instanceof Error?Mr.message:"Failed to fetch data")}finally{de&&u(!1)}})(),()=>{de=!1,Ye.abort()}},[e,r,ft,ve]);const Ue={role:"Unit Head Engineering"},st=y.useMemo(()=>["",...new Set(Ge.map(de=>de.unitWilayah))],[Ge]),De=y.useMemo(()=>["",...new Set(Ge.map(de=>de.mesin))],[Ge]);y.useMemo(()=>["",...new Set(Ge.map(de=>de.item))],[Ge]);const Fe=y.useMemo(()=>{if(Ge.length===0)return[];let de=Ge;if(ce){const Ye=ce.toLowerCase();if(de=de.filter(wt=>wt.mesin.toLowerCase().includes(Ye)||wt.item.toLowerCase().includes(Ye)||wt.unitWilayah.toLowerCase().includes(Ye)),de.length===0)return[]}if(B&&M){const Ye=B.toISOString().split("T")[0],wt=M.toISOString().split("T")[0];if(de=de.filter(or=>or.date>=Ye&&or.date<=wt),de.length===0)return[]}if(Tt.length>0){const Ye=new Set(Tt);if(de=de.filter(wt=>Ye.has(wt.msStatus)),de.length===0)return[]}if(G.length>0){const Ye=new Set(G);if(de=de.filter(wt=>Ye.has(wt.unitWilayah)),de.length===0)return[]}if(W.length>0){const Ye=new Set(W);if(de=de.filter(wt=>Ye.has(wt.mesin)),de.length===0)return[]}return de},[Ge,B,M,Tt,G,W,ce]);y.useEffect(()=>{const de=()=>{p(window.innerWidth<768),window.innerWidth<768&&s(!1)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),y.useEffect(()=>{const de=Ye=>{yt.current&&!yt.current.contains(Ye.target)&&w(!1),Qe.current&&!Qe.current.contains(Ye.target)&&N(!1),vt.current&&!vt.current.contains(Ye.target)&&!Ye.target.closest(".status-filter-toggle")&&Ee(!1),Le.current&&!Le.current.contains(Ye.target)&&!Ye.target.closest(".machine-filter-toggle")&&Je(!1),be.current&&!be.current.contains(Ye.target)&&!Ye.target.closest(".unit-filter-toggle")&&lt(!1)};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[]);const ze=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),s(de=>!de)},Rt=de=>{I(de),S(!0)},Ht=y.useCallback(de=>{we(Ye=>Ye.map(wt=>wt.id===de.id?de:wt))},[]),Ut=(de,Ye)=>new Date(de,Ye+1,0).getDate(),it=(de,Ye)=>{const wt=new Date(de,Ye,1).getDay();return wt===0?6:wt-1},jt=y.useMemo(()=>new Date,[]),[Wt,gr]=y.useState(jt),fn=()=>{gr(de=>new Date(de.getFullYear(),de.getMonth()-1,1))},gn=()=>{gr(de=>new Date(de.getFullYear(),de.getMonth()+1,1))},nr=()=>{gr(new Date)},Ur=(de,Ye)=>{ut(de),Ke(Ye),ie(!0)},Kr=de=>{console.log("Navigating with record:",de);let Ye;if(de.scheduleId)Ye=de.scheduleId;else if(de.id.startsWith("schedule-")){const wt=de.id.split("-");wt.length>=2&&(Ye=wt[1])}else if(de.id.startsWith("activity-")){const wt=de.id.split("-");if(wt.length>=2){for(let or of wt)if(/^\d+$/.test(or)){Ye=or;break}}}if(!Ye){console.error("Could not extract schedule ID from record:",de),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",Ye),t(`/monitoringmaintenance/detailmonitoringmaintenance/${Ye}`),ie(!1)},Zt=()=>{const de=Wt.getFullYear(),Ye=Wt.getMonth(),wt=Ut(de,Ye),or=it(de,Ye),Jr=[];let Ot=1,tr=[],Mr=null;for(let jr=0;jr<or;jr++)tr.push(i.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-pre-${jr}`));for(;Ot<=wt;){const jr=new Date(de,Ye,Ot);Mr||(Mr=jr);const cr=`${de}-${String(Ye+1).padStart(2,"0")}-${String(Ot).padStart(2,"0")}`,Fr=Fe.filter(An=>An.date===cr),ha=Fr.reduce((An,en)=>{const In=String(en.scheduleId||"unknown");return An[In]?An[In].items.push(en):An[In]={scheduleId:In,machine:en.mesin,items:[en]},An},{}),Hr=Object.values(ha),Fs=jt.toDateString()===jr.toDateString(),ma=Hr.length>0;let wn="p-3 rounded-xl border-2 min-h-[100px] flex flex-col transition-all duration-200 ";if(Fs)wn+="bg-blue-50 border-blue-200 shadow-sm ";else if(ma){const An=Hr.flatMap(en=>en.items.map(In=>In.scheduleStatus||"New"));An.includes("Done")?wn+="bg-green-50 border-green-200 ":An.includes("On Progress")?wn+="bg-yellow-50 border-yellow-200 ":wn+="bg-blue-50 border-blue-200 "}else wn+="bg-white border-gray-100 hover:border-gray-200 ";if(wn+="hover:shadow-md hover:scale-[1.02] cursor-pointer ",tr.push(i.jsxs(E.div,{className:wn,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ma&&Ur(Fr,cr),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:`text-sm font-semibold ${Fs?"text-blue-600":ma?"text-gray-900":"text-gray-500"}`,children:Ot}),Fs&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[Hr.slice(0,2).map((An,en)=>i.jsxs("div",{className:`px-2 py-1.5 rounded-lg text-xs font-medium ${An.items[0].scheduleStatus==="Done"?"bg-green-100 text-green-800 border border-green-200":An.items[0].scheduleStatus==="On Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[i.jsx("div",{className:"font-semibold truncate",children:An.machine}),i.jsxs("div",{className:"text-xs opacity-75 mt-0.5",children:[An.items.length," item",An.items.length>1?"s":""]})]},An.scheduleId)),Hr.length>2&&i.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium text-center",children:["+",Hr.length-2," more"]})]})]},cr)),tr.length===7||Ot===wt){for(;tr.length<7;)tr.push(i.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-post-${tr.length}`));const An=Mr?dUe(Mr):null;Jr.push(i.jsxs(y.Fragment,{children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-gray-600",children:An!==null?`${String(An).padStart(2,"0")}`:""})}),tr]},`week-row-${Ot}`)),tr=[],Mr=null}Ot++}return Jr};y.useMemo(()=>{const de=Ge.filter(wt=>wt),Ye=[];return de.forEach(wt=>{Ye.push({id:`approval-${wt.id}`,icon:i.jsx(zE,{className:"text-orange-500"}),title:`Approval Needed: ${wt.mesin} - ${wt.item}`,description:`Record for ${wt.mesin} - ${wt.item} is awaiting your approval ().`,date:new Date(wt.date).toLocaleDateString("en-US")})}),Ye},[Ge,Ue.role]);const Ze=(de,Ye)=>{_t(Ye?wt=>[...wt,de]:wt=>wt.filter(or=>or!==de))},tt=(de,Ye)=>{$(Ye?wt=>[...wt,de]:wt=>wt.filter(or=>or!==de))},Mt=(de,Ye)=>{Y(Ye?wt=>[...wt,de]:wt=>wt.filter(or=>or!==de))};return fe.startDate!==null&&fe.endDate,fe.selectedUnits.length>0,fe.selectedUnits.every(de=>de.machines.length>0&&de.machines.every(Ye=>Ye.selectedInterval!==null)),fe.selectedUnits.every(de=>de.machines.every(Ye=>Ye.selectedInterval===null||Ye.selectedInterval!==null&&Ye.selectedItems.length>0)),i.jsx(mUe.Provider,{value:{records:Ge,setRecords:we,routineSchedules:qe},children:i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(_x,{}),isMobile:g,toggleSidebar:ze}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",i.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(E.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[i.jsx(qi,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),i.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[i.jsxs(E.button,{onClick:()=>R("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(La,{className:"w-4 h-4 mr-2"})," Calendar"]}),i.jsxs(E.button,{onClick:()=>R("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(Cn,{className:"w-4 h-4 mr-2"})," Table"]}),i.jsxs(E.button,{onClick:()=>R("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(lf,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):Ge.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Qi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):i.jsx(sr,{mode:"wait",children:i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:ce,onChange:de=>X(de.target.value),"aria-label":"Search records"})]}),i.jsxs(E.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>J(!U),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filter"}),i.jsx(E.span,{animate:{rotate:U?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]}),i.jsx(sr,{children:U&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[i.jsx(La,{className:"text-gray-500 text-base"}),i.jsx(am,{selected:B,onChange:de=>D(de),selectsStart:!0,startDate:B,endDate:M,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),i.jsx("span",{className:"text-gray-400",children:"-"}),i.jsx(am,{selected:M,onChange:de=>H(de),selectsEnd:!0,startDate:B,endDate:M,minDate:B||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(B||M)&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{D(null),H(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:i.jsx(zt,{className:"text-base"})})]}),i.jsxs("div",{ref:vt,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:de=>{de.stopPropagation(),Ee(!kt)},"aria-expanded":kt,"aria-haspopup":"true","aria-label":"Filter by Status",children:[i.jsx("span",{children:Tt.length>0?Tt.length===me.length?"All Status":`Selected (${Tt.length})`:"All Status"}),i.jsx(ja,{className:`transform transition-transform ${kt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:kt&&i.jsxs(E.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Tt.length===me.length&&me.length>0,onChange:de=>{de.target.checked?_t(me.map(Ye=>Ye.value)):_t([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),me.map(de=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Tt.includes(de.value),onChange:Ye=>Ze(de.value,Ye.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:de.label})]},de.value))]})})]}),i.jsxs("div",{ref:be,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:de=>{de.stopPropagation(),lt(!et)},"aria-expanded":et,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[i.jsx("span",{children:G.length>0?G.length===st.length-1?"All Units":`Selected (${G.length})`:"All Units"}),i.jsx(ja,{className:`transform transition-transform ${et?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:et&&i.jsxs(E.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:G.length===st.length-1&&st.length>1,onChange:de=>{de.target.checked?Y(st.slice(1)):Y([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),st.slice(1).map(de=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:G.includes(de),onChange:Ye=>Mt(de,Ye.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:de})]},de))]})})]}),i.jsxs("div",{ref:Le,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:de=>{de.stopPropagation(),Je(!bt)},"aria-expanded":bt,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[i.jsx("span",{children:W.length>0?W.length===De.length-1?"All Machines":`Selected (${W.length})`:"All Machines"}),i.jsx(ja,{className:`transform transition-transform ${bt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:bt&&i.jsxs(E.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:W.length===De.length-1&&De.length>1,onChange:de=>{de.target.checked?$(De.slice(1)):$([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),De.slice(1).map(de=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:W.includes(de),onChange:Ye=>tt(de,Ye.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:de})]},de))]})})]})]})})]}),L==="calendar"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"text-center lg:text-left",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:Wt.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your maintenance schedules and activities"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(E.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:fn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Previous month",children:i.jsx(If,{size:20})}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:nr,className:"px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-200",children:"Today"}),i.jsx(E.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:gn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Next month",children:i.jsx(Na,{size:20})})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[i.jsx("div",{className:"p-3 text-center",children:i.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"WN"})}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(de=>i.jsx("div",{className:"p-3 text-center",children:i.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:de})},de))]}),i.jsx("div",{className:"grid grid-cols-8 gap-2",children:Zt()})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Status"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-400 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New / Not Started"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Progress"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Done / Completed"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No Schedule"})]})]})]})]}),L==="table"&&i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),i.jsx("th",{className:"relative px-6 py-3",children:i.jsx("span",{className:"sr-only",children:"Actions"})})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Fe.length>0?Fe.map(de=>i.jsxs(E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:de.date}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.interval}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.unitWilayah}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.mesin}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.item}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:de.monitoringResult}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${de.msStatus==="MS"?"bg-green-100 text-green-800":de.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:de.msStatus})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Rt(de),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:i.jsx(Io,{size:18})})})]},de.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),L==="trend"&&i.jsx(hUe,{records:Fe})]},L)})]})]}),i.jsx(_ae,{isOpen:k,onClose:()=>S(!1),title:"Monitoring Details",children:O&&i.jsxs(i.Fragment,{children:[i.jsx(fUe,{record:O,onUpdateRecord:Ht}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:i.jsxs(E.button,{onClick:()=>Kr(O),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[i.jsx(Io,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),i.jsx(pUe,{isOpen:ae,onClose:()=>ie(!1),schedules:ht,onSelectSchedule:Kr,titleDate:Pe})]})})};function gUe(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const EG=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),g2=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},xUe=({vendor:t,onClose:e})=>{const r=o=>o==null?"-":typeof o=="object"&&o!==null?o.name||o.title||o.id||"-":typeof o=="string"?o.trim()!==""?o.trim():"-":typeof o=="number"?o.toString():String(o),n=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=({title:o,children:l,icon:c})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[c&&i.jsx("div",{className:"mr-3 text-blue-600",children:c}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o})]})}),i.jsx("div",{className:"p-6",children:l})]}),s=({label:o,value:l,icon:c,fullWidth:u=!1,priority:f="medium"})=>{const m={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${u?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${m[f]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[c&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:c}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:o}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:l})]})]})})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-3 mb-2",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name})}),i.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[i.jsx(La,{className:"w-4 h-4"}),"Vendor ID: ",t.id,"  Created: ",n(t.created_at)]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[i.jsx(zt,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),i.jsx(a,{title:"Basic Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(s,{label:"Vendor ID",value:r(t.id),icon:i.jsx(Cn,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Vendor Name",value:r(t.name),icon:i.jsx(Sp,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Contact Person",value:r(t.contact_person),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(a,{title:"Contact Information",icon:i.jsx(td,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(s,{label:"Email",value:r(t.email),icon:i.jsx(Cx,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Telephone",value:r(t.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(s,{label:"Mobile Phone",value:r(t.HP),icon:i.jsx(td,{className:"w-4 h-4"})})]})}),i.jsx(a,{title:"Address Information",icon:i.jsx(yc,{className:"w-5 h-5"}),children:i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsx(s,{label:"Full Address",value:r(t.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})})}),i.jsx(a,{title:"Additional Information",icon:i.jsx(Qi,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(s,{label:"Created At",value:n(t.created_at),icon:i.jsx(La,{className:"w-4 h-4"})}),i.jsx(s,{label:"Updated At",value:n(t.updated_at),icon:i.jsx(La,{className:"w-4 h-4"})})]})})]})},yUe=()=>{Ui();const[t,e]=y.useState([]),{getVendor:r,deleteVendor:n,user:a,hasPermission:s}=ir(),[o,l]=y.useState([]),[c,u]=y.useState(!0),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(""),[b,N]=y.useState(""),[k,S]=y.useState(!1),[A,_]=y.useState(null),[O,I]=y.useState(!1),[L,R]=y.useState(null),B=y.useRef(!0),[D,M]=y.useState(null),[H,G]=y.useState(null),Y=y.useRef(null),[W,$]=y.useState(!1),[q,Z]=y.useState(""),[ce]=y.useState(window.innerWidth<768),[X,U]=y.useState(()=>{const K=localStorage.getItem("sidebarOpen");return K?JSON.parse(K):!1}),[J,ee]=y.useState(!1),[ne,ue]=y.useState(null),[Ae,ke]=y.useState(!1),[je,Ce]=y.useState(null),Be=ar(),[fe,ge]=y.useState(!1),[ae,ie]=y.useState(!1),[ht,ut]=y.useState(!1),Pe=y.useRef(null),Ke=y.useRef(null),[yt,Qe]=y.useState(1),[Tt]=y.useState(10),[_t,Se]=y.useState({key:"name",direction:"ascending"}),gt=gUe(q,300),at=y.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),Nt=y.useCallback(async()=>{try{u(!0);const ve=[...await r()].sort((Re,Ue)=>Re.id-Ue.id);e(ve),l(ve)}catch(K){R("Failed to load vendors"),console.error("Error loading vendors:",K)}finally{B.current&&u(!1)}},[r]);y.useEffect(()=>{Nt()},[Nt]),y.useEffect(()=>{let K=[...t];if(gt.trim()){const ve=gt.toLowerCase().trim();K=K.filter(Re=>{var Ut,it,jt;const Ue=ve.split(":");let st="all",De=ve;Ue.length>1&&at.some(Wt=>Wt.name.toLowerCase()===Ue[0].trim())&&(st=Ue[0].trim(),De=Ue.slice(1).join(":").trim());const Fe=(Ut=Re.name)==null?void 0:Ut.toLowerCase().includes(De),ze=(it=Re.contact_person)==null?void 0:it.toLowerCase().includes(De),Rt=(jt=Re.email)==null?void 0:jt.toLowerCase().includes(De),Ht=Re.id.toString().includes(De);return st==="vendor name"?Fe:st==="contact person"?ze:st==="email"?Rt:st==="vendor id"?Ht:Fe||ze||Rt||Ht})}if(D){const ve=new Date(D);ve.setHours(0,0,0,0),K=K.filter(Re=>{if(!Re.created_at)return!0;const Ue=new Date(Re.created_at);return Ue.setHours(0,0,0,0),Ue>=ve})}if(H){const ve=new Date(H);ve.setHours(23,59,59,999),K=K.filter(Re=>{if(!Re.created_at)return!0;const Ue=new Date(Re.created_at);return Ue.setHours(0,0,0,0),Ue<=ve})}_t!==null&&K.sort((ve,Re)=>{const Ue=be(ve[_t.key]),st=be(Re[_t.key]);return Ue<st?_t.direction==="ascending"?-1:1:Ue>st?_t.direction==="ascending"?1:-1:0}),l(K)},[t,gt,D,H,_t,at]);const kt=()=>{const K=!X;U(K),localStorage.setItem("sidebarOpen",JSON.stringify(K))},Ee=()=>{alert("Import functionality is not yet implemented.")},vt=K=>{const ve=K.target.value;Z(ve)},bt=he.useMemo(()=>{if(!q)return at;const K=q.toLowerCase();return at.filter(ve=>ve.name.toLowerCase().includes(K))},[q,at]),Je=K=>{var ve;Z(`${K}: `),$(!1),(ve=Y.current)==null||ve.focus()},Le=K=>{ue(K),ke(!0)},et=async K=>{try{await n(K),e(t.filter(ve=>ve.id!==K)),I(!1),Ce(null)}catch(ve){console.error("Failed to delete Vendor:",ve),R("Failed to delete vendor. Please try again.")}};y.useCallback(K=>{Ce(K),I(!0)},[]);const lt=K=>{let ve="ascending";_t&&_t.key===K&&_t.direction==="ascending"&&(ve="descending"),Se({key:K,direction:ve})},be=K=>typeof K=="object"&&K!==null?K.name||K.toString():(K==null?void 0:K.toString())||"",me=yt*Tt,qe=me-Tt,ft=o.slice(qe,me),Ge=Math.ceil(o.length/Tt),we=K=>Qe(K);return y.useEffect(()=>{const K=ve=>{Pe.current&&!Pe.current.contains(ve.target)&&ie(!1),Ke.current&&!Ke.current.contains(ve.target)&&ut(!1),Y.current&&!Y.current.contains(ve.target)&&!ve.target.closest(".search-suggestions")&&$(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(Hfe,{}),isMobile:ce,toggleSidebar:kt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s("create_machine_history")&&i.jsxs(E.button,{onClick:()=>Be("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Vendor"})]}),i.jsxs(E.button,{onClick:Ee,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>ee(!J),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:J?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(g2,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(Sp,{className:"w-6 h-6"})}),i.jsx(g2,{title:"Vendors with Email",value:t.filter(K=>K.email).length.toString(),change:`+${Math.floor(t.filter(K=>K.email).length/t.length*100)}%`,icon:i.jsx(Cx,{className:"w-6 h-6"})}),i.jsx(g2,{title:"Vendors with Contact",value:t.filter(K=>K.contact_person).length.toString(),change:`+${Math.floor(t.filter(K=>K.contact_person).length/t.length*100)}%`,icon:i.jsx(zi,{className:"w-6 h-6"})}),i.jsx(g2,{title:"Vendors with Phone",value:t.filter(K=>K.telp||K.HP).length.toString(),change:`+${Math.floor(t.filter(K=>K.telp||K.HP).length/t.length*100)}%`,icon:i.jsx(td,{className:"w-6 h-6"})})]}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:Y,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:q,onChange:vt,onFocus:()=>$(!0),"aria-label":"Search vendors"}),i.jsx(sr,{children:W&&bt.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:bt.map(K=>i.jsx(E.button,{onClick:()=>Je(K.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:K.name})},K.id))})})]})}),i.jsx(sr,{children:J&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:i.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[i.jsx(La,{className:"text-gray-500 text-base"}),i.jsx(am,{selected:D,onChange:K=>M(K),selectsStart:!0,startDate:D,endDate:H,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),i.jsx("span",{className:"text-gray-400",children:"-"}),i.jsx(am,{selected:H,onChange:K=>G(K),selectsEnd:!0,startDate:D,endDate:H,minDate:D||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(D||H)&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{M(null),G(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:i.jsx(zt,{className:"text-base"})})]})})})]}),c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Qi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:gt||D||H?"No vendors found matching your filters.":"No vendors available."}),(gt||D||H)&&i.jsx("button",{onClick:()=>{Z(""),M(null),G(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>lt("id"),children:["No",(_t==null?void 0:_t.key)==="id"&&i.jsx("span",{className:"ml-1",children:_t.direction==="ascending"?"":""})]}),i.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>lt("name"),children:["Vendor Name",(_t==null?void 0:_t.key)==="name"&&i.jsx("span",{className:"ml-1",children:_t.direction==="ascending"?"":""})]}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:ft.map((K,ve)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:K.address||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:K.contact_person||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:K.email||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:K.telp||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:K.HP||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Le(K),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${K.name}`,children:i.jsx(Io,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Be(`/vendors/editvendor/${K.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${K.name}`,children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ce(K.id),I(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${K.name}`,children:i.jsx(Ma,{className:"inline text-base"})})]})]},K.id))})]})})}),o.length>Tt&&i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:qe+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(me,o.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:o.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(yt-1),disabled:yt===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ge},(K,ve)=>i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(ve+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${yt===ve+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ve+1}`,children:ve+1},ve+1)),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(yt+1),disabled:yt===Ge,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),ne&&i.jsx(EG,{isOpen:Ae,onClose:()=>{ke(!1),ue(null)},title:"Vendor Details",className:"max-w-3xl",children:i.jsx(xUe,{vendor:ne,onClose:()=>ke(!1)})}),i.jsx(EG,{isOpen:O,onClose:()=>I(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>I(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>je&&et(je),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},bUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,vUe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addVendor:o,getVendor:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=ar(),[S,A]=y.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{u(B=>!B)},O=B=>{const{name:D,value:M}=B.target;A(H=>({...H,[D]:D==="sla"?Number(M):M}))},I=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{I()},[I]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(D),p("Vendor created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Vendor")}finally{N(!1)}},R=()=>{w(!1),k("/vendors")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),i.jsxs(E.button,{onClick:()=>k("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Vendors Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>k("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),i.jsx(bUe,{isOpen:v,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},wUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,jUe=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getVendor:l,updateVendor:c,getVendorById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({name:s.name||"",address:s.address||"",contact_person:s.contact_person||"",email:s.email||"",telp:s.telp||"",HP:s.HP||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,H),w("Vendor update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Vendor")}finally{S(!1)}},D=()=>{N(!1),A("/vendors")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),i.jsxs(E.button,{onClick:()=>A("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Vendors Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),i.jsx(wUe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},NUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,SUe=({isOpen:t,onClose:e,onConfirm:r,title:n,message:a,confirmText:s="Confirm",cancelText:o="Cancel",type:l="approve"})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsx(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:i.jsxs("div",{className:"p-6 text-center",children:[i.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&i.jsx(wr,{className:"text-green-500 text-5xl"}),l==="feedback"&&i.jsx(mg,{className:"text-blue-500 text-5xl"}),l==="reject"&&i.jsx(Yr,{className:"text-red-500 text-5xl"}),l==="edit"&&i.jsx(Si,{className:"text-purple-500 text-5xl"})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),i.jsx("p",{className:"text-gray-600 mb-6",children:a}),i.jsxs("div",{className:"flex justify-center space-x-3",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:s})]})]})})})}),kUe=()=>{var Ge;Ui();const t=ar(),{id:e}=Ls(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:a,hasPermission:s,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=ir(),[u,f]=y.useState(window.innerWidth<768),[m,g]=y.useState(()=>{const we=localStorage.getItem("sidebarOpen");return JSON.parse(we||"false")}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(we=>!we)},[v,w]=y.useState(null),[b,N]=y.useState(null),[k,S]=y.useState(!1),[A,_]=y.useState(!0),[O,I]=y.useState(null),[L,R]=y.useState("approval"),[B,D]=y.useState({}),[M,H]=y.useState(null),[G,Y]=y.useState(!0),[W,$]=y.useState(null),[q,Z]=y.useState(!1),[ce,X]=y.useState(!1),[U,J]=y.useState(""),[ee,ne]=y.useState(""),[ue,Ae]=y.useState(!0),[ke,je]=y.useState(!1),[Ce,Be]=y.useState(null);y.useEffect(()=>{(async()=>{var K,ve,Re,Ue;if(e)try{_(!0),I(null);const st=await n(parseInt(e));if($(st),!st)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",st),st.approval_template&&(H(st.approval_template),console.log("Active template set in first useEffect:",st.approval_template));const De={id:st.id_monitoring_schedule.toString(),name:`${((K=st.data_mesin)==null?void 0:K.name)||"Mesin"} - ${st.unit}`,interval:((ve=st.monitoring_interval)==null?void 0:ve.type_interval)||"Weekly",period:`${st.tgl_start} - ${st.tgl_end}`,unit:st.unit,mesin:(Re=st.data_mesin)==null?void 0:Re.name,tahun:st.tahun,bulan:st.bulan,tgl_start:st.tgl_start,tgl_end:st.tgl_end,items:((Ue=st.item_mesins)==null?void 0:Ue.map(it=>({id:it.id,name:it.item_mesin,uom:it.satuan,min:it.standard_min?parseFloat(it.standard_min):void 0,max:it.standard_max?parseFloat(it.standard_max):void 0,visual:it.standard_visual,standard_min:it.standard_min,standard_max:it.standard_max,standard_visual:it.standard_visual,satuan:it.satuan})))||[]};w(De);const Fe=st.monitoring_activities||[],ze=st.schedule_approvals||[],Rt={};st.approval_template&&st.approval_template.approvers?st.approval_template.approvers.forEach(it=>{const jt=`step_${it.step}`,Wt=ze.find(gr=>gr.approval_step===it.step&&gr.approver_id===it.approver_user_id);if(Wt){let gr="Pending";switch(Wt.status){case"approved":gr="Approved";break;case"rejected":gr="Rejected";break;case"feedback_given":gr="FeedbackGiven";break;default:gr="Pending"}Rt[jt]=gr}else Rt[jt]="Pending"}):ze.forEach(it=>{const jt=`step_${it.approval_step}`;let Wt="Pending";switch(it.status){case"approved":Wt="Approved";break;case"rejected":Wt="Rejected";break;case"feedback_given":Wt="FeedbackGiven";break;default:Wt="Pending"}Rt[jt]=Wt});const Ht=ze.map(it=>{var fn;let jt="approval",Wt="";switch(it.status){case"approved":jt="approval",Wt=`Menyetujui laporan pada step ${it.approval_step}`;break;case"rejected":jt="rejection",Wt=`Menolak laporan pada step ${it.approval_step}`;break;case"feedback_given":jt="feedback",Wt=`Memberikan feedback pada step ${it.approval_step}`;break;default:jt="submission",Wt=`Mengajukan approval pada step ${it.approval_step}`}const gr=it.approved_at||it.created_at;return{type:jt,timestamp:gr||new Date().toISOString(),actor:((fn=it.approver)==null?void 0:fn.name)||`Approver Step ${it.approval_step}`,description:Wt,details:it.comments||void 0}});if(Fe.length>0){const it=Fe[0].created_at;Ht.unshift({type:"submission",timestamp:it||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Ut={machineId:De.id,itemResults:De.items.map(it=>{const jt=Fe.find(gr=>gr.id_item_mesin===it.id);let Wt="Pending";if(jt!=null&&jt.hasil_ms_tms){const gr=jt.hasil_ms_tms.toLowerCase();gr==="ms"?Wt="MS":gr==="tms"?Wt="TMS":Wt="N/A"}return{itemId:it.id,result:(jt==null?void 0:jt.hasil_monitoring)||"",status:Wt,remarks:(jt==null?void 0:jt.hasil_keterangan)||""}}),approvalStatus:Rt,commentsHistory:[],activityHistory:Ht,isSaved:Fe.length>0,submissionDate:Fe.length>0?new Date().toISOString():void 0,currentApprovalStep:ie(ze,st.approval_template)};N(Ut)}catch(st){I(st instanceof Error?st.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",st)}finally{_(!1)}})()},[e,n]);const fe=y.useMemo(()=>{var we,K,ve,Re,Ue,st;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(K=(we=r.department)==null?void 0:we.name)!=null&&K.toLowerCase().includes("engineering")?(ve=r.position)!=null&&ve.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(Ue=(Re=r.department)==null?void 0:Re.name)!=null&&Ue.toLowerCase().includes("process")?(st=r.position)!=null&&st.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),ge=y.useCallback(we=>{if(!M||!M.approvers||!r)return console.log(` isUserApproverForStep ${we}: Missing data`),!1;const K=M.approvers.find(Re=>Re.step===we&&Re.approver_user_id.toString()===r.id),ve=!!K;return console.log(` IS USER APPROVER STEP ${we}:`,{step:we,userID:r.id,userName:r.name,approverUserID:K==null?void 0:K.approver_user_id,approverName:K==null?void 0:K.approver.name,MATCH:ve}),ve},[M,r]),ae=y.useCallback(()=>{if(!b||!(M!=null&&M.approvers))return console.log(" GET CURRENT STEP: No monitoringResults or approvers"),1;const we=[...M.approvers].sort((ve,Re)=>ve.step-Re.step);console.log(" GET CURRENT STEP - All approvers status:",b.approvalStatus);for(let ve=0;ve<we.length;ve++){const Re=we[ve],Ue=`step_${Re.step}`,st=b.approvalStatus[Ue]||"Pending";if(console.log(` Checking step ${Re.step}:`,{stepKey:Ue,status:st,isPending:st==="Pending"}),st==="Pending")return console.log(` CURRENT ACTIVE STEP FOUND: ${Re.step}`),Re.step}const K=we.length+1;return console.log(` ALL STEPS APPROVED, NEXT STEP: ${K}`),K},[b,M]);y.useEffect(()=>{var we;b&&M&&r&&(console.log("===  DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",M.name),console.log("Is Saved:",b.isSaved),(we=M.approvers)==null||we.forEach(K=>{const ve=`step_${K.step}`,Re=b.approvalStatus[ve],Ue=bt(K.step,K,Re);console.log(` Step ${K.step} - ${K.approver.name}:`,{status:Re,shouldShowActions:Ue,isCurrentUser:K.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:K.approver_user_id.toString()===r.id,needsAction:Re==="Pending",isCurrentStep:ae()===K.step,isPreviousStepApproved:K.step===1?!0:b.approvalStatus[`step_${K.step-1}`]==="Approved"}})}))},[b,M,r]);const ie=(we,K)=>{if(!K||!K.approvers)return 1;const ve=[...K.approvers].sort((Ue,st)=>Ue.step-st.step);console.log("Getting current step from approvals:",{approvalsCount:we.length,approversCount:ve.length});for(let Ue=0;Ue<ve.length;Ue++){const st=ve[Ue],De=we.find(Fe=>Fe.approval_step===st.step&&Fe.approver_id===st.approver_user_id);if(console.log(`Step ${st.step}:`,{hasApproval:!!De,status:De==null?void 0:De.status,isApproved:(De==null?void 0:De.status)==="approved"}),!De||De.status!=="approved")return console.log(`Current step from approvals: ${st.step}`),st.step}const Re=ve.length+1;return console.log(`All steps approved from approvals, next step: ${Re}`),Re},ht=(we,K)=>W?(W.schedule_approvals||[]).find(Re=>Re.approval_step===we&&Re.approver_id===K.approver_user_id):null,ut=y.useCallback(async()=>{var we,K,ve,Re;if(e)try{_(!0),I(null);const Ue=await n(parseInt(e));if($(Ue),!Ue)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Ue),Ue.approval_template&&(H(Ue.approval_template),console.log("Active template set:",Ue.approval_template));const st={id:Ue.id_monitoring_schedule.toString(),name:`${((we=Ue.data_mesin)==null?void 0:we.name)||"Mesin"} - ${Ue.unit}`,interval:((K=Ue.monitoring_interval)==null?void 0:K.type_interval)||"Weekly",period:`${Ue.tgl_start} - ${Ue.tgl_end}`,unit:Ue.unit,mesin:(ve=Ue.data_mesin)==null?void 0:ve.name,tahun:Ue.tahun,bulan:Ue.bulan,tgl_start:Ue.tgl_start,tgl_end:Ue.tgl_end,items:((Re=Ue.item_mesins)==null?void 0:Re.map(Ut=>({id:Ut.id,name:Ut.item_mesin,uom:Ut.satuan,min:Ut.standard_min?parseFloat(Ut.standard_min):void 0,max:Ut.standard_max?parseFloat(Ut.standard_max):void 0,visual:Ut.standard_visual,standard_min:Ut.standard_min,standard_max:Ut.standard_max,standard_visual:Ut.standard_visual,satuan:Ut.satuan})))||[]};w(st);const De=Ue.monitoring_activities||[],Fe=Ue.schedule_approvals||[],ze={};Ue.approval_template&&Ue.approval_template.approvers&&Ue.approval_template.approvers.forEach(Ut=>{const it=`step_${Ut.step}`,jt=Fe.find(Wt=>Wt.approval_step===Ut.step&&Wt.approver_id===Ut.approver_user_id);if(jt){let Wt="Pending";switch(jt.status){case"approved":Wt="Approved";break;case"rejected":Wt="Rejected";break;case"feedback_given":Wt="FeedbackGiven";break;default:Wt="Pending"}ze[it]=Wt}else ze[it]="Pending",console.log(` Step ${Ut.step} di-set ke Pending (no approval history)`)});const Rt=Fe.map(Ut=>{var gr;let it="approval",jt="";switch(Ut.status){case"approved":it="approval",jt=`Menyetujui laporan pada step ${Ut.approval_step}`;break;case"rejected":it="rejection",jt=`Menolak laporan pada step ${Ut.approval_step}`;break;case"feedback_given":it="feedback",jt=`Memberikan feedback pada step ${Ut.approval_step}`;break;default:it="submission",jt=`Mengajukan approval pada step ${Ut.approval_step}`}const Wt=Ut.approved_at||Ut.created_at;return{type:it,timestamp:Wt||new Date().toISOString(),actor:((gr=Ut.approver)==null?void 0:gr.name)||`Approver Step ${Ut.approval_step}`,description:jt,details:Ut.comments||void 0}});if(De.length>0){const Ut=De[0].created_at;Rt.unshift({type:"submission",timestamp:Ut||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Ht={machineId:st.id,itemResults:st.items.map(Ut=>{const it=De.find(Wt=>Wt.id_item_mesin===Ut.id);let jt="Pending";if(it!=null&&it.hasil_ms_tms){const Wt=it.hasil_ms_tms.toLowerCase();Wt==="ms"?jt="MS":Wt==="tms"?jt="TMS":jt="N/A"}return{itemId:Ut.id,result:(it==null?void 0:it.hasil_monitoring)||"",status:jt,remarks:(it==null?void 0:it.hasil_keterangan)||""}}),approvalStatus:ze,commentsHistory:[],activityHistory:Rt,isSaved:De.length>0,submissionDate:De.length>0?new Date().toISOString():void 0,currentApprovalStep:ie(Fe,Ue.approval_template)};N(Ht)}catch(Ue){I(Ue instanceof Error?Ue.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Ue)}finally{_(!1)}},[e,n]),Pe=(we,K,ve,Re,Ue)=>{N(st=>st?{...st,itemResults:st.itemResults.map(De=>De.itemId===we?{...De,result:K,status:ve==="numeric"?yt(Number(K),Re,Ue):K==="MS"?"MS":K==="TMS"?"TMS":"Pending"}:De)}:null)},Ke=(we,K)=>{N(ve=>ve?{...ve,itemResults:ve.itemResults.map(Re=>Re.itemId===we?{...Re,remarks:K}:Re)}:null)},yt=(we,K,ve)=>isNaN(we)||we===null||we===void 0?K===void 0||ve===void 0?"N/A":"Pending":K!==void 0&&ve!==void 0?we>=K&&we<=ve?"MS":"TMS":"N/A",Qe=we=>{switch(we){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Tt=we=>{switch(we){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},_t=we=>{if(!M||!M.approvers)return"Unknown Role";const K=M.approvers.find(ve=>ve.approver_user_id.toString()===we);return(K==null?void 0:K.approver.position)||"Unknown Position"};y.useCallback((we,K,ve,Re=null)=>{N(Ue=>{if(!Ue||Ue.machineId!==we)return Ue;const st={id:crypto.randomUUID(),role:K,comment:ve,timestamp:new Date().toLocaleString(),replies:[],parentId:Re},De=(ze,Rt)=>Rt.parentId===null?[...ze,Rt]:ze.map(Ht=>Ht.id===Rt.parentId?{...Ht,replies:Ht.replies?[...Ht.replies,Rt]:[Rt]}:{...Ht,replies:Ht.replies?De(Ht.replies,Rt):Ht.replies}),Fe=Ue.commentsHistory||[];return{...Ue,commentsHistory:De(Fe,st)}})},[]);const Se=(we,K,ve)=>{let Re="",Ue="",st="approve";switch(K){case"Approved":Re="Confirm Approval",Ue=`Are you sure you want to approve this monitoring report for step ${we}?`,st="approve";break;case"FeedbackGiven":Re="Confirm Feedback",Ue=`Are you sure you want to send feedback for step ${we}?`,st="feedback";break;case"Rejected":Re="Confirm Rejection",Ue=`Are you sure you want to reject this monitoring report for step ${we}?`,st="reject";break;case"Edited":Re="Confirm Edit",Ue=`Are you sure you want to mark this as edited for step ${we}?`,st="edit";break}Be({type:st,step:we,title:Re,message:Ue,feedbackText:ve}),je(!0)},gt=async()=>{if(Ce)try{await at(Ce.step,Ce.type==="approve"?"Approved":Ce.type==="feedback"?"FeedbackGiven":Ce.type==="reject"?"Rejected":"Edited",Ce.feedbackText),je(!1),Be(null),await ut()}catch(we){console.error("Error during confirmation:",we),je(!1),Be(null)}},at=async(we,K,ve)=>{if(!(!b||!e||!r))try{let Re="";(K==="FeedbackGiven"&&ve||K==="Rejected"&&ve)&&(Re=ve),console.log(`Sending approval for step ${we}, action: ${K}`);const Ue=await o(parseInt(e),Re);if(Ue.success){N(De=>{if(!De)return null;const Fe={...De.approvalStatus,[`step_${we}`]:K},ze=[...De.activityHistory],Rt=new Date().toLocaleString();let Ht="";switch(K){case"Approved":Ht=`Menyetujui laporan pada step ${we}`;break;case"FeedbackGiven":Ht=`Memberikan feedback pada step ${we}`;break;case"Rejected":Ht=`Menolak laporan pada step ${we}`;break;default:Ht=`Melakukan aksi ${K} pada step ${we}`}return ze.push({type:K==="Approved"?"approval":K==="Rejected"?"rejection":K==="FeedbackGiven"?"feedback":"edit",timestamp:Rt,actor:fe.name,description:`${fe.name} ${Ht}`,details:Re||void 0}),K!=="Edited"&&D(Ut=>({...Ut,[`step_${we}`]:{showInput:!1,text:""}})),{...De,approvalStatus:Fe,activityHistory:ze}});let st="";switch(K){case"Approved":st="Berhasil menyetujui laporan.";break;case"FeedbackGiven":st="Berhasil mengirim feedback.";break;case"Rejected":st="Berhasil menolak laporan.";break;case"Edited":st="Berhasil menyimpan perubahan.";break}qe("Success!",st,!0)}else throw new Error(Ue.message||"Approval failed")}catch(Re){console.error("Error during approval:",Re),qe("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},Nt=y.useCallback(()=>{if(!M||!M.approvers||!b)return!1;const we=[...M.approvers].sort((ve,Re)=>ve.step-Re.step),K=we.every(ve=>{const Re=`step_${ve.step}`;return b.approvalStatus[Re]==="Approved"});return console.log(" CHECK ALL STEPS COMPLETED:",{totalSteps:we.length,allApproved:K,approvalStatus:b.approvalStatus}),K},[M,b]),kt=we=>{D(K=>{var ve;return{...K,[`step_${we}`]:{...K[`step_${we}`],showInput:!((ve=K[`step_${we}`])!=null&&ve.showInput)}}})},Ee=(we,K)=>{D(ve=>({...ve,[`step_${we}`]:{...ve[`step_${we}`],text:K}}))},vt=async()=>{if(!(!v||!b||!e)){S(!0);try{let we=!0;const K=[];if(b.itemResults.forEach(De=>{const Fe=v.items.find(ze=>ze.id===De.itemId);Fe&&(De.result===""||De.status==="Pending")&&(we=!1,K.push({item:Fe.name}))}),!we){qe("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${v.name}. Item yang belum diisi: `+K.map(De=>De.item).join(", "),!1);return}const ve=b.itemResults.map(De=>{var Rt;const Fe=(Rt=W==null?void 0:W.monitoring_activities)==null?void 0:Rt.find(Ht=>Ht.id_item_mesin===De.itemId),ze={id_monitoring_schedule:parseInt(e),id_item_mesin:De.itemId,tgl_monitoring:v.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:De.result.toString(),hasil_keterangan:De.remarks,hasil_ms_tms:De.status==="MS"?"ms":De.status==="TMS"?"tms":"na"};return Fe&&Fe.id_monitoring_activity?{id:Fe.id_monitoring_activity,data:ze}:{id:0,data:ze}});console.log(" Data yang akan dikirim ke backend:",ve);const Re=ve.filter(De=>De.id===0),Ue=ve.filter(De=>De.id>0);if(console.log(" Activities to CREATE:",Re.length),console.log(" Activities to UPDATE:",Ue.length),Re.length>0){const De=Re.map(Fe=>Fe.data);console.log(" CREATE new monitoring activities:",De),await a(De)}Ue.length>0&&(console.log(" UPDATE existing monitoring activities:",Ue),await c(Ue)),N(De=>{if(!De)return null;const Fe=[...De.activityHistory],ze=new Date().toLocaleString(),Rt=De.isSaved?"edit":"submission",Ht=De.isSaved?`${fe.name} mengedit hasil monitoring.`:`${fe.name} mengisi hasil monitoring.`;return Fe.push({type:Rt,timestamp:ze,actor:fe.name,description:Ht}),{...De,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:Fe}}),await ut();const st=b.isSaved?`Hasil monitoring untuk ${v.name} berhasil diupdate!`:`Hasil monitoring untuk ${v.name} berhasil disimpan!`;qe("Success!",st,!0)}catch(we){const K=b.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";qe("Error!",K,!1),console.error("Error saving monitoring results:",we)}finally{S(!1)}}},bt=(we,K,ve)=>{if(!r||!(b!=null&&b.isSaved))return console.log(` Button step ${we}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!b,isSaved:b==null?void 0:b.isSaved}),!1;const Re=K.approver_user_id.toString()===r.id,Ue=ve==="Pending",st=ae(),De=st===we;let Fe=!0;if(we>1){const Rt=`step_${we-1}`;Fe=b.approvalStatus[Rt]==="Approved"}const ze=Re&&Ue&&De&&Fe;return console.log(` CALCULATE BUTTON STEP ${we}:`,{step:we,isCurrentApprover:Re,needsAction:Ue,isCurrentStep:De,isPreviousStepApproved:Fe,currentStatus:ve,currentStep:st,userID:r.id,approverID:K.approver_user_id,userPosition:r.position,approverPosition:K.approver.position,FINAL_RESULT:ze}),ze},Je=async we=>{if(!(!b||!e||we!==1)){if(Nt()){qe("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await vt(),N(K=>{if(!K)return null;const ve={...K.approvalStatus,step_1:"Edited"},Re=[...K.activityHistory],Ue=new Date().toLocaleString();return Re.push({type:"edit",timestamp:Ue,actor:fe.name,description:`${fe.name} (Approver Step 1) mengedit hasil monitoring.`}),{...K,approvalStatus:ve,activityHistory:Re}}),await ut(),qe("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(K){console.error("Error during edit by approver:",K),qe("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};y.useMemo(()=>{if(!(b!=null&&b.commentsHistory))return{};const we=(ve,Re=null)=>ve.filter(Ue=>Ue.parentId===Re).sort((Ue,st)=>new Date(Ue.timestamp).getTime()-new Date(st.timestamp).getTime()).map(Ue=>({...Ue,replies:we(ve,Ue.id)})),K={};return M!=null&&M.approvers&&M.approvers.forEach(ve=>{const Re=b.commentsHistory.filter(Ue=>Ue.role===_t(ve.approver_user_id.toString()));K[`step_${ve.step}`]=we(Re)}),K},[b==null?void 0:b.commentsHistory,M]);const Le=y.useCallback(()=>{var we;!b||!M||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",M.name),console.log("Approvers:",M.approvers),(we=M.approvers)==null||we.forEach(K=>{const ve=`step_${K.step}`,Re=b.approvalStatus[ve],Ue=K.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${K.step}:`,{approver:K.approver.name,status:Re,isCurrentUser:Ue,stepKey:ve})}),console.log("Current Step:",ae()),console.log("User ID:",r==null?void 0:r.id))},[b,M,r,ae]);y.useEffect(()=>{b&&M&&Le()},[b,M,Le]);const et=we=>we.satuan&&we.satuan!=="Visual"&&we.satuan!=="Level"&&we.satuan!=="Kekencangan"?"numeric":"visual";y.useMemo(()=>fe.name.toLowerCase().includes("technician")&&!ge(1),[fe,ge]);const lt=ge(1),be=y.useMemo(()=>!(b!=null&&b.isSaved)||b.approvalStatus.step_1==="Pending"?!0:ge(1)&&!Nt(),[b==null?void 0:b.isSaved,b==null?void 0:b.approvalStatus,ge,Nt]),me=ge(ae()),qe=y.useCallback((we,K,ve=!0)=>{ne(we),J(K),Ae(ve),ve?Z(!0):X(!0)},[]),ft=y.useCallback(()=>{Z(!1),X(!1),ut()},[ut]);return A?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(E.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(Dn,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):O?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(E.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(Dn,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx(Yr,{className:"text-red-500 text-4xl mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),i.jsx("p",{className:"text-red-600 mb-4",children:O}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ut,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[i.jsx(Cme,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!v||!b?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(E.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(Dn,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[i.jsx(Yr,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),i.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(_x,{}),isMobile:u,toggleSidebar:p}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",i.jsx("span",{className:"font-semibold text-gray-800",children:v.name})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",i.jsx("span",{className:"font-semibold text-gray-800",children:v.interval})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",i.jsx("span",{className:"font-semibold text-gray-800",children:v.period})]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:v.items.length})," Items"]}),M&&M.approvers&&M.approvers.length>0?i.jsxs("p",{children:["Template: ",i.jsx("span",{className:"font-semibold",children:M.name}),M.is_active&&i.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),Nt()&&i.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):i.jsxs("p",{children:["Template: ",i.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),M&&lt&&i.jsx("p",{className:`font-semibold ${Nt()?"text-gray-500":"text-blue-600"}`,children:Nt()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),M&&me&&!lt&&i.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",ae(),")"]})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[i.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.items.map(we=>{const K=b.itemResults.find(Re=>Re.itemId===we.id),ve=et(we);return i.jsxs("tr",{children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[we.name,!be&&(b==null?void 0:b.isSaved)&&i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:we.standard_visual?`${we.standard_visual} (${we.satuan})`:`${we.standard_min} - ${we.standard_max} ${we.satuan}`}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve==="visual"?i.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(K==null?void 0:K.result)||"",onChange:Re=>Pe(we.id,Re.target.value,"visual"),disabled:!be,children:[i.jsx("option",{value:"",children:"Pilih"}),i.jsx("option",{value:"MS",children:"MS"}),i.jsx("option",{value:"TMS",children:"TMS"})]}):i.jsx("input",{type:"number",step:"0.01",value:K==null?void 0:K.result,onChange:Re=>Pe(we.id,Re.target.value,"numeric",we.min,we.max),disabled:!be,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${Qe((K==null?void 0:K.status)||"Pending")}`,children:K==null?void 0:K.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("textarea",{rows:1,value:K==null?void 0:K.remarks,onChange:Re=>Ke(we.id,Re.target.value),disabled:!be,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},we.id)})})]})}),i.jsxs("div",{className:"flex justify-end mt-6 relative",children:[i.jsx(E.button,{whileHover:{scale:be?1.05:1},whileTap:{scale:be?.95:1},onClick:lt?()=>Je(1):vt,disabled:!be||k||lt&&Nt(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"}),lt?Nt()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),lt&&Nt()&&i.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[i.jsxs(E.button,{whileHover:{scale:1.03},onClick:()=>R("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${L==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Qi,{className:"h-5 w-5"}),i.jsx("span",{children:"Approval Status"})]}),i.jsxs(E.button,{whileHover:{scale:1.03},onClick:()=>R("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${L==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Dg,{className:"h-5 w-5"}),i.jsx("span",{children:"History Activity"})]})]}),L==="approval"?i.jsx(sr,{mode:"wait",children:i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!M||!M.approvers||M.approvers.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Qi,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),i.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),i.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(Ge=M.approvers)==null?void 0:Ge.map(we=>{var Ht,Ut,it,jt;const K=`step_${we.step}`,ve=(b==null?void 0:b.approvalStatus[K])||"Pending",Re=bt(we.step,we,ve),Ue=ht(we.step,we),st=ae(),De=we.approver_user_id.toString()===(r==null?void 0:r.id),Fe=we.step-1,ze=`step_${Fe}`,Rt=b==null?void 0:b.approvalStatus[ze];return console.log(`Rendering Step ${we.step}:`,{status:ve,shouldShowActionButtons:Re,currentStep:st,isCurrentUserApprover:De,previousStepStatus:Rt,userId:r==null?void 0:r.id,approverId:we.approver_user_id}),i.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",we.step,": ",we.approver.name," (",we.approver.position,")"]}),i.jsx("p",{className:"text-xs text-gray-500",children:we.approver.department}),Ue&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ue.approved_at&&`Disetujui: ${new Date(Ue.approved_at).toLocaleString()}`,Ue.status==="feedback_given"&&" | Feedback diberikan"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${Tt(ve)}`,children:ve}),De&&i.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(Ue==null?void 0:Ue.comments)&&i.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:i.jsxs("p",{className:"text-xs text-gray-400",children:[i.jsx("strong",{children:"Komentar:"})," ",Ue.comments]})}),st===we.step&&ve!=="Approved"&&!Re&&i.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:i.jsxs("p",{className:"text-yellow-700",children:[i.jsx("strong",{children:"Menunggu:"})," Step ",we.step," sedang menunggu approval dari ",we.approver.name,Fe>0&&Rt!=="Approved"&&i.jsxs("span",{children:[" (Step ",Fe," perlu disetujui terlebih dahulu)"]})]})}),ve==="Approved"&&i.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:i.jsxs("p",{className:"text-green-700",children:[i.jsx("strong",{children:"Selesai:"})," Step ",we.step," telah disetujui"]})}),Re&&i.jsxs("div",{className:"flex space-x-2 mt-3",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Se(we.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[i.jsx(wr,{size:16,className:"mr-1"}),"Approve"]}),i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>kt(we.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[i.jsx(mg,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),i.jsx(sr,{children:((Ht=B[K])==null?void 0:Ht.showInput)&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[i.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),i.jsx("textarea",{rows:3,value:((Ut=B[K])==null?void 0:Ut.text)||"",onChange:Wt=>Ee(we.step,Wt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var Wt;return Se(we.step,"FeedbackGiven",(Wt=B[K])==null?void 0:Wt.text)},disabled:!((jt=(it=B[K])==null?void 0:it.text)!=null&&jt.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(mg,{size:16,className:"mr-1"}),"Kirim Feedback"]}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>kt(we.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},K)})},"approval-tab")}):i.jsx(sr,{mode:"wait",children:i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:b.activityHistory.length>0?b.activityHistory.slice().sort((we,K)=>new Date(K.timestamp).getTime()-new Date(we.timestamp).getTime()).map((we,K)=>i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:K*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"mt-1 flex-shrink-0",children:[we.type==="approval"&&i.jsx(wr,{size:20,className:"text-green-500"}),we.type==="rejection"&&i.jsx(qE,{size:20,className:"text-red-500"}),we.type==="feedback"&&i.jsx(mg,{size:20,className:"text-blue-500"}),we.type==="submission"&&i.jsx(Dg,{size:20,className:"text-blue-500"}),we.type==="edit"&&i.jsx(Rn,{size:20,className:"text-purple-500"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:we.description}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",we.actor]})," - ",new Date(we.timestamp).toLocaleString()]}),we.details&&i.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',we.details,'"']})]})]},K)):i.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),i.jsx(SUe,{isOpen:ke,onClose:()=>{je(!1),Be(null)},onConfirm:gt,title:(Ce==null?void 0:Ce.title)||"Confirm Action",message:(Ce==null?void 0:Ce.message)||"Are you sure you want to proceed?",confirmText:(Ce==null?void 0:Ce.type)==="approve"?"Approve":(Ce==null?void 0:Ce.type)==="feedback"?"Send Feedback":(Ce==null?void 0:Ce.type)==="reject"?"Reject":(Ce==null?void 0:Ce.type)==="edit"?"Save & Mark as Edited":"Confirm",type:Ce==null?void 0:Ce.type}),i.jsx(NUe,{isOpen:q,onClose:ft,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ft,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},CUe={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let Jy="technician";const ZT=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],Aae=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:a})=>{const[s,o]=y.useState(!1),[l,c]=y.useState(""),u=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},f=a*4;return i.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${a>0?`ml-${f} border-l-4 border-l-blue-200`:""}`,children:[i.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),i.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),i.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(kr,{size:14,className:"mr-1"})," ",t.timestamp,i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!s),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),i.jsx(sr,{children:s&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[i.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:u,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&i.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>i.jsx(Aae,{comment:m,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:a+1},m.id))})]})},_Ue=()=>{var R;const t=Ui(),e=ar(),r=((R=t.state)==null?void 0:R.machine)||CUe,[n,a]=y.useState(null),[s,o]=y.useState(!1),[l,c]=y.useState("approval"),[u,f]=y.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});y.useEffect(()=>{if(r){const B={machineId:r.id,itemResults:r.items.map(D=>({itemId:D.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};a(B)}},[r]);const m=(B,D,M,H,G)=>{a(Y=>Y?{...Y,itemResults:Y.itemResults.map(W=>W.itemId===B?{...W,result:D,status:M==="numeric"?p(Number(D),H,G):D==="MS"?"MS":D==="TMS"?"TMS":"Pending"}:W)}:null)},g=(B,D)=>{a(M=>M?{...M,itemResults:M.itemResults.map(H=>H.itemId===B?{...H,remarks:D}:H)}:null)},p=(B,D,M)=>isNaN(B)||B===null||B===void 0?D===void 0||M===void 0?"N/A":"Pending":D!==void 0&&M!==void 0?B>=D&&B<=M?"MS":"TMS":"N/A",v=B=>{switch(B){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=B=>{switch(B){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},b=B=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[B]||B,N=y.useCallback((B,D,M,H=null)=>{a(G=>{if(!G||G.machineId!==B)return G;const Y={id:crypto.randomUUID(),role:D,comment:M,timestamp:new Date().toLocaleString(),replies:[],parentId:H},W=(q,Z)=>Z.parentId===null?[...q,Z]:q.map(ce=>ce.id===Z.parentId?{...ce,replies:ce.replies?[...ce.replies,Z]:[Z]}:{...ce,replies:ce.replies?W(ce.replies,Z):ce.replies}),$=G.commentsHistory||[];return{...G,commentsHistory:W($,Y)}})},[]),k=(B,D,M)=>{n&&(a(H=>{if(!H)return null;let G=H.commentsHistory||[],Y=[...H.activityHistory];const W=new Date().toLocaleString();if((D==="FeedbackGiven"||D==="Rejected")&&M){const q={id:crypto.randomUUID(),role:B,comment:M,timestamp:W,replies:[],parentId:null};G=[...G,q];const Z=D==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";Y.push({type:D==="FeedbackGiven"?"feedback":"rejection",timestamp:W,actor:B,description:`${b(B)} ${Z}`,details:M})}else D==="Approved"&&(G=G.filter(q=>!(q.role===B&&(q.parentId===null||q.parentId===void 0)))||[],Y.push({type:"approval",timestamp:W,actor:B,description:`${b(B)} menyetujui laporan.`}));return{...H,approvalStatus:{...H.approvalStatus,[B]:D},commentsHistory:G,activityHistory:Y}}),f(H=>{const G={...H},Y=B;return G[Y]&&(G[Y]={showInput:!1,text:""}),G}))},S=B=>{f(D=>{const M={...D},H=B;return M[H]&&(M[H]={...M[H],showInput:!M[H].showInput}),M})},A=(B,D)=>{f(M=>{const H={...M},G=B;return H[G]&&(H[G]={...H[G],text:D}),H})},_=()=>{if(!r||!n)return;o(!0);let B=!0;const D=[];n.itemResults.forEach(M=>{const H=r.items.find(G=>G.id===M.itemId);H&&(M.result===""||M.status==="Pending")&&(B=!1,D.push({item:H.name}))}),B?(a(M=>{if(!M)return null;let H={...M.approvalStatus},G=M.commentsHistory||[],Y=[...M.activityHistory];const W=new Date().toLocaleString(),$=ZT[0];return H={...H,[$]:"Pending"},Y.push({type:"submission",timestamp:W,actor:Jy,description:`${b(Jy)} mengisi dan mengajukan laporan.`}),{...M,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:H,commentsHistory:G,activityHistory:Y}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+D.map(M=>M.item).join(", ")),o(!1)},O=(B,D,M,H,G,Y)=>!1,I=y.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const B=(M,H=null)=>M.filter(G=>G.parentId===H).sort((G,Y)=>new Date(G.timestamp).getTime()-new Date(Y.timestamp).getTime()).map(G=>({...G,replies:B(M,G.id)})),D={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return ZT.forEach(M=>{const H=n.commentsHistory.filter(G=>G.role===M);D[M]=B(H)}),D},[n==null?void 0:n.commentsHistory]);if(!r||!n)return i.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:i.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const L=!n.isSaved&&Jy==="technician";return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(E.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(Dn,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",i.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",i.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",i.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),i.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[i.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(B=>{const D=n.itemResults.find(M=>M.itemId===B.id);return i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.visual?`${B.visual} (${B.uom})`:`${B.min} - ${B.max} ${B.uom}`}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.uom==="Visual"||B.uom==="Level"||B.uom==="Kekencangan"?i.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(D==null?void 0:D.result)||"",onChange:M=>m(B.id,M.target.value,"visual"),disabled:!L,children:[i.jsx("option",{value:"",children:"Pilih"}),i.jsx("option",{value:"MS",children:"MS"}),i.jsx("option",{value:"TMS",children:"TMS"})]}):i.jsx("input",{type:"number",step:"0.01",value:D==null?void 0:D.result,onChange:M=>m(B.id,M.target.value,"numeric",B.min,B.max),disabled:!L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${v((D==null?void 0:D.status)||"Pending")}`,children:D==null?void 0:D.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("textarea",{rows:1,value:D==null?void 0:D.remarks,onChange:M=>g(B.id,M.target.value),disabled:!L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},B.id)})})]})}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!L||s,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:s?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[i.jsxs(E.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Qi,{className:"h-5 w-5"}),i.jsx("span",{children:"Approval Status"})]}),i.jsxs(E.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Dg,{className:"h-5 w-5"}),i.jsx("span",{children:"History Activity"})]})]}),l==="approval"?i.jsx(sr,{mode:"wait",children:i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([B,D])=>{var Y,W;const M=B,H=O(Jy,M,D,n.approvalStatus,ZT,n.isSaved),G=I[M]||[];return i.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:b(M)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${w(D)}`,children:D==="Edited"?`Edited by ${b(M)}`:D}),H&&i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(B,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:i.jsx(wr,{size:20})}),i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(B),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:i.jsx(mg,{size:20})})]})]})]}),i.jsx(sr,{children:((Y=u[M])==null?void 0:Y.showInput)&&i.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[i.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",b(M),")"]}),i.jsx("textarea",{rows:2,value:(W=u[M])==null?void 0:W.text,onChange:$=>A(M,$.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),i.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:i.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(M,"FeedbackGiven",u[M].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),i.jsx("div",{className:"mt-4",children:G.length>0?G.map($=>i.jsx(Aae,{comment:$,machineId:r.id,currentUserRole:Jy,onAddCommentOrReply:N,depth:0},$.id)):i.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},B)})},"approval-tab")}):i.jsx(sr,{mode:"wait",children:i.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((B,D)=>i.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:D*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"mt-1 flex-shrink-0",children:i.jsx(Dg,{size:20,className:"text-blue-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:B.description}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",b(B.actor)]})," - ",B.timestamp]}),B.details&&i.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',B.details,'"']})]})]},D)):i.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},AUe=()=>{const t=ar(),{id:e}=Ls(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:a,updateApprover:s,deleteApprover:o,getApprovalTemplateById:l}=ir(),[c,u]=y.useState(window.innerWidth<768),[f,m]=y.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!f)),m(q=>!q)},[p,v]=y.useState([]),[w,b]=y.useState(null),[N,k]=y.useState([]),[S,A]=y.useState(!1),[_,O]=y.useState("");y.useEffect(()=>{e&&(I(),R())},[e]);const I=async()=>{if(!e){O("Template ID is missing");return}try{A(!0);const q=await l(e);console.log("Template data loaded:",q),b(q),q.approvers&&q.approvers.length>0?await L(q.approvers):k([{order:1,role:"Select Position",assignee:""}])}catch(q){O("Failed to load template"),console.error("Error loading template:",q)}finally{A(!1)}},L=async q=>{try{const Z=q.map(ce=>{var X,U;return{order:ce.step,role:((X=ce.approver)==null?void 0:X.position)||`Approval Step ${ce.step}`,assignee:((U=ce.approver)==null?void 0:U.name)||"",approver_user_id:ce.approver_user_id}});k(Z)}catch(Z){console.error("Error loading template approvers from data:",Z),k([{order:1,role:"Select Position",assignee:""}])}},R=async()=>{try{const Z=(await r()).map(ce=>{var X;return{id:parseInt(ce.id),name:ce.name,email:ce.email,position:ce.position||"No Position",department:((X=ce.department)==null?void 0:X.name)||ce.department_name}});v(Z)}catch(q){console.error("Error loading users:",q)}},B=()=>{const q=p.map(Z=>Z.position).filter(Z=>Z!=null&&Z!=="No Position");return[...new Set(q)]},D=q=>p.filter(Z=>Z.position===q),M=()=>{const q=N.length>0?Math.max(...N.map(Z=>Z.order))+1:1;k(Z=>[...Z,{order:q,role:"Select Position",assignee:""}])},H=q=>{k(Z=>Z.filter((ce,X)=>X!==q).map((ce,X)=>({...ce,order:X+1})))},G=(q,Z)=>{k(ce=>ce.map((X,U)=>U===q?{...X,role:Z,assignee:""}:X))},Y=(q,Z)=>{const ce=p.find(X=>X.id===Z);ce&&k(X=>X.map((U,J)=>J===q?{...U,assignee:ce.name,approver_user_id:ce.id}:U))},W=async()=>{if(!w)return;if(!N.every(Z=>Z.role&&Z.assignee&&Z.approver_user_id&&Z.role!=="Select Position")){O("Please complete all roles and assignees.");return}try{A(!0),O(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",w.id),console.log("Existing approvers:",w.approvers),console.log("New approval flow:",N);const Z=w.approvers||[],ce=N.map(J=>({approver_user_id:J.approver_user_id,step:J.order}));console.log("Existing approvers:",Z),console.log("New approvers:",ce);const X=[];for(const J of N){const ee={approver_user_id:J.approver_user_id,step:J.order},ne=Z.find(ue=>ue.step===J.order);if(ne)if(ne.approver_user_id!==J.approver_user_id){console.log(`Updating approver for step ${J.order} (ID: ${ne.id})`);try{await s(w.id,ne.id,ee),console.log(` Updated approver for step ${J.order}`)}catch(ue){throw console.error(` Failed to update approver for step ${J.order}:`,ue),new Error(`Failed to update approver for step ${J.order}`)}}else console.log(` Approver for step ${J.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${J.order}`);try{await a(w.id,ee),console.log(` Added new approver for step ${J.order}`)}catch(ue){throw console.error(` Failed to add approver for step ${J.order}:`,ue),new Error(`Failed to add approver for step ${J.order}`)}}X.push(J.order)}const U=Z.filter(J=>!X.includes(J.step)).map(J=>({id:J.id,step:J.step}));console.log("Steps to delete:",U);for(const J of U)try{await o(w.id,J.id),console.log(` Deleted unused approver for step ${J.step}`)}catch(ee){console.warn(` Could not delete approver for step ${J.step}:`,ee)}alert(` Approval flow for template "${w.name}" has been successfully saved!`),await I()}catch(Z){console.error(" Error saving approval flow:",Z),O(Z instanceof Error?Z.message:"Failed to save approval flow")}finally{A(!1)}},$=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",w),console.log("Custom approval flow:",N),S&&!w?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(aj,{className:"animate-spin text-blue-600",size:32})})]}):w?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(ij,{}),isMobile:c,toggleSidebar:g}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(ij,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",i.jsx("span",{className:"text-blue-600 ml-2",children:w==null?void 0:w.name})]}),i.jsxs(E.button,{onClick:$,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[i.jsx(Dn,{className:"mr-2",size:18})," Back to Template List"]})]}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),_&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:_}),i.jsx("div",{className:"space-y-4",children:N.map((q,Z)=>{const ce=B(),X=q.role&&q.role!=="Select Position"?D(q.role):[];return i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[q.order,"."]}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),i.jsxs("select",{value:q.role,onChange:U=>G(Z,U.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[i.jsx("option",{value:"Select Position",children:"Select Position"}),ce.map(U=>i.jsx("option",{value:U,children:U},U))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),i.jsxs("select",{value:q.approver_user_id||"",onChange:U=>Y(Z,parseInt(U.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!q.role||q.role==="Select Position"||X.length===0,children:[i.jsx("option",{value:"",children:"Select User"}),X.map(U=>i.jsxs("option",{value:U.id,children:[U.name," (",U.email,")"]},U.id))]}),q.role&&q.role!=="Select Position"&&X.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(Z),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:i.jsx(Ma,{size:20})})]},Z)})}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[i.jsx(qi,{size:18,className:"mr-2"})," Add Step"]}),i.jsxs(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?i.jsx(aj,{className:"animate-spin mr-2",size:16}):i.jsx(Rn,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),i.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),i.jsx("button",{onClick:$,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},TUe=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:i.jsxs("div",{className:"max-w-md w-full text-center",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"relative inline-flex",children:[i.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:i.jsx(Nhe,{className:"w-16 h-16 text-gray-400"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),i.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(Zh,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[i.jsx(Jv,{className:"mr-2"}),"Back to Home"]}),i.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[i.jsx(Dn,{className:"mr-2"}),"Go Back"]})]}),i.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",i.jsx(Zh,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),i.jsx("div",{className:"mt-12",children:i.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),MUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,OUe=()=>{const{id:t}=Ls(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkArea:l,updateWorkArea:c,getWorkAreaById:u}=ir(),[f,m]=y.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=ar(),[_,O]=y.useState({work_area:""}),I=()=>{m(M=>!M)};y.useEffect(()=>{s&&O({work_area:s.work_area||""})},[s]);const L=M=>{const{name:H,value:G}=M.target;O(Y=>({...Y,[H]:H==="sla"?Number(G):G}))},R=y.useCallback(async()=>{try{if(t){const[M]=await Promise.all([u(t)]);o(M)}}catch(M){p(M.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&R()},[t,R]);const B=async M=>{M.preventDefault(),S(!0),p(null);try{const H={work_area:_.work_area};await c(t,H),w("Work Area update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Area")}finally{S(!1)}},D=()=>{N(!1),A("/worklocation/workarea")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(yc,{}),isMobile:e,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),i.jsxs(E.button,{onClick:()=>A("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Area Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>A("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),i.jsx(MUe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},EUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,DUe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),{addWorkArea:a,getWorkArea:s}=ir(),[o,l]=y.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[c,u]=y.useState(null),[f,m]=y.useState(null),[g,p]=y.useState(!1),[v,w]=y.useState(!1),b=ar(),[N,k]=y.useState({work_area:""}),S=()=>{l(L=>!L)},A=L=>{const{name:R,value:B}=L.target;k(D=>({...D,[R]:R==="sla"?Number(B):B}))},_=y.useCallback(async()=>{try{const[L]=await Promise.all([s()]);n(L)}catch(L){u(L.message||"Failed to load form data")}},[s]);y.useEffect(()=>{_()},[_]);const O=async L=>{L.preventDefault(),w(!0),u(null);try{const R={work_area:N.work_area};await a(R),m("Work Area created successfully!"),p(!0)}catch(R){u(R.message||"Failed to create Work Area")}finally{w(!1)}},I=()=>{p(!1),b("/worklocation/workarea")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(yc,{}),isMobile:t,toggleSidebar:S}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),i.jsxs(E.button,{onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Work Area Management"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:c}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),i.jsxs("form",{onSubmit:O,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(E.button,{type:"button",onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),i.jsx(EUe,{isOpen:g,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},PUe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(E.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(zt,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),LUe=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},RUe=()=>{const[t,e]=y.useState([]),{getWorkArea:r,deleteWorkArea:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),S=ar(),A=y.useRef(null),[_,O]=y.useState(!1),I=y.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),L=y.useCallback(async()=>{try{s(!0);const q=[...await r()].sort((Z,ce)=>Z.id-ce.id);e(q)}catch($){l("Failed to load Work Area"),console.error("Error loading Work Area:",$)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const R=()=>{const $=!N;k($),localStorage.setItem("sidebarOpen",JSON.stringify($))},B=()=>{alert("Import functionality is not yet implemented.")},D=$=>{const q=$.target.value;u(q)},M=y.useMemo(()=>{if(!c)return I;const $=c.toLowerCase();return I.filter(q=>q.name.toLowerCase().includes($))},[c,I]),H=$=>{var q;u(`${$}: `),O(!1),(q=A.current)==null||q.focus()},G=y.useMemo(()=>{if(!c.trim())return t;const $=c.toLowerCase().trim(),q=$.split(":");let Z="all",ce=$;return q.length>1&&I.some(X=>X.name.toLowerCase()===q[0].trim())&&(Z=q[0].trim(),ce=q.slice(1).join(":").trim()),t.filter(X=>{const U=X.work_area.toLowerCase().includes(ce);return U})},[t,c,I]),Y=async $=>{try{await n($),e(t.filter(q=>q.id!==$)),m(!1),p(null)}catch(q){console.error("Failed to delete Work Area:",q),l("Failed to delete Work Area. Please try again.")}},W=y.useCallback($=>{p($),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:i.jsx(yc,{}),isMobile:b,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(E.button,{onClick:()=>S("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(qi,{className:"text-base"}),i.jsx("span",{children:"Add Work Area"})]}),i.jsxs(E.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(E.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(po,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(E.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(ja,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(LUe,{title:"Total Work Area",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(yc,{className:"w-6 h-6"})})}),i.jsxs(E.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(_i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>O(!0),"aria-label":"Search work area"}),i.jsx(sr,{children:_&&M.length>0&&i.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map($=>i.jsx(E.button,{onClick:()=>H($.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:$.name})},$.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):G.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work area found matching your search.":"No work area available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(($,q)=>i.jsxs(E.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:q+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.work_area})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workarea/editworkarea/${$.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Si,{className:"inline text-base"})}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W($.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(Ma,{className:"inline text-base"})})]})]},$.id))})]})})})]})]}),i.jsx(PUe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Yr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},IUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,FUe=()=>{const{addAsset:t}=ir(),e=ar(),[r,n]=y.useState(!1),[a,s]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(()=>{const A=localStorage.getItem("sidebarOpen");return A?JSON.parse(A):!1}),[f,m]=y.useState(window.innerWidth<768),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(A=>!A)},p={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[v,w]=y.useState(p),b=y.useCallback(A=>{const{name:_,value:O}=A.target;w(I=>({...I,[_]:O}))},[]),N=async A=>{A.preventDefault(),n(!0),s(null);try{const _={...v,id:0,created_at:new Date().toISOString(),update_at:new Date().toISOString()};await t(_),l(!0),k()}catch(_){s(_.message||"Failed to save asset data. Please try again."),console.error("Submission error:",_)}finally{n(!1)}},k=y.useCallback(()=>{w(p),s(null)},[p]),S=y.useCallback(()=>{l(!1),e("/assets")},[e]);return y.useEffect(()=>{const A=()=>{m(window.innerWidth<768)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:i.jsx(Qa,{}),isMobile:f,toggleSidebar:g}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),i.jsxs(E.button,{onClick:()=>e("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Assets"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[a&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:a}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>s(null)})})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Qa,{className:"mr-2 text-blue-500"})," Basic Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:v.name,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"category",id:"category",value:v.category,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"location",id:"location",value:v.location,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:v.purchase_date,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"description",id:"description",value:v.description,onChange:b,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx($i,{className:"mr-2 text-green-500"})," Technical Specifications"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),i.jsxs("select",{name:"type",id:"type",value:v.type||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Type"}),i.jsx("option",{value:"mechanical",children:"Mechanical"}),i.jsx("option",{value:"electrical",children:"Electrical"}),i.jsx("option",{value:"vehicle",children:"Vehicle"}),i.jsx("option",{value:"building",children:"Building"}),i.jsx("option",{value:"equipment",children:"Equipment"}),i.jsx("option",{value:"tool",children:"Tool"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),i.jsx("input",{type:"text",name:"make",id:"make",value:v.make||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),i.jsx("input",{type:"text",name:"model",id:"model",value:v.model||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{name:"status",id:"status",value:v.status||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Status"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"maintenance",children:"Maintenance"}),i.jsx("option",{value:"breakdown",children:"Breakdown"}),i.jsx("option",{value:"idle",children:"Idle"}),i.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(ia,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),i.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:v.last_maintenance||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),i.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:v.next_maintenance||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),i.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:v.work_orders||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),i.jsxs("select",{name:"health",id:"health",value:v.health||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Health Status"}),i.jsx("option",{value:"excellent",children:"Excellent"}),i.jsx("option",{value:"good",children:"Good"}),i.jsx("option",{value:"fair",children:"Fair"}),i.jsx("option",{value:"poor",children:"Poor"}),i.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Ma,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rn,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),i.jsx(IUe,{isOpen:o,onClose:S,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},$Ue=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(E.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(zt,{size:24})})]}),i.jsx("div",{children:n})]})}):null,BUe=()=>{const{editAsset:t,getAssetsData:e}=ir(),r=ar(),{id:n}=Ls(),[a,s]=y.useState(!1),[o,l]=y.useState(!0),[c,u]=y.useState(null),[f,m]=y.useState(!1),[g,p]=y.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[v,w]=y.useState(window.innerWidth<768),b=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!g)),p(R=>!R)},N={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[k,S]=y.useState(N),A=y.useCallback(R=>{const{name:B,value:D}=R.target;S(M=>({...M,[B]:D}))},[]),_=y.useCallback(async()=>{if(n){l(!0);try{const B=(await e()).find(D=>String(D.id)===n);B?S({id:B.id,name:B.name,category:B.category,location:B.location,purchase_date:B.purchaseDate,description:B.description,type:B.type||"",make:B.make||"",model:B.model||"",status:B.status||"",last_maintenance:B.lastMaintenance||"",next_maintenance:B.nextMaintenance||"",work_orders:B.workOrders||"",health:B.health||"",created_at:B.createdAt,update_at:B.updateAt}):u("Asset not found")}catch(R){u("Failed to load asset data: "+R.message)}finally{l(!1)}}},[n,e]),O=async R=>{R.preventDefault(),s(!0),u(null);try{const B={...k,update_at:new Date().toISOString()};await t(B),m(!0)}catch(B){u(B.message||"Failed to update asset data. Please try again."),console.error("Submission error:",B)}finally{s(!1)}},I=y.useCallback(()=>{_(),u(null)},[_]),L=y.useCallback(()=>{m(!1),r("/assets")},[r]);return y.useEffect(()=>{const R=()=>{w(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),y.useEffect(()=>{_()},[_]),o?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:i.jsx(Qa,{}),isMobile:v,toggleSidebar:b}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(bn,{className:"animate-spin text-blue-600 mb-4",size:32}),i.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(rr,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(hr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:i.jsx(Qa,{}),isMobile:v,toggleSidebar:b}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",k.name]})]}),i.jsxs(E.button,{onClick:()=>r("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Dn,{className:"text-lg"})," Back to Assets"]})]}),i.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&i.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:c}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(zt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),i.jsxs("form",{onSubmit:O,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Qa,{className:"mr-2 text-blue-500"})," Basic Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:k.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"category",id:"category",value:k.category,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"location",id:"location",value:k.location,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:k.purchase_date,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"description",id:"description",value:k.description,onChange:A,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Qa,{className:"mr-2 text-green-500"})," Technical Specifications"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),i.jsxs("select",{name:"type",id:"type",value:k.type||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Type"}),i.jsx("option",{value:"mechanical",children:"Mechanical"}),i.jsx("option",{value:"electrical",children:"Electrical"}),i.jsx("option",{value:"vehicle",children:"Vehicle"}),i.jsx("option",{value:"building",children:"Building"}),i.jsx("option",{value:"equipment",children:"Equipment"}),i.jsx("option",{value:"tool",children:"Tool"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),i.jsx("input",{type:"text",name:"make",id:"make",value:k.make||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),i.jsx("input",{type:"text",name:"model",id:"model",value:k.model||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{name:"status",id:"status",value:k.status||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Status"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"maintenance",children:"Maintenance"}),i.jsx("option",{value:"breakdown",children:"Breakdown"}),i.jsx("option",{value:"idle",children:"Idle"}),i.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Qa,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),i.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:k.last_maintenance||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),i.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:k.next_maintenance||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),i.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:k.work_orders||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),i.jsxs("select",{name:"health",id:"health",value:k.health||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Health Status"}),i.jsx("option",{value:"excellent",children:"Excellent"}),i.jsx("option",{value:"good",children:"Good"}),i.jsx("option",{value:"fair",children:"Fair"}),i.jsx("option",{value:"poor",children:"Poor"}),i.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(E.button,{type:"button",onClick:I,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(Ma,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),i.jsx(E.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(bn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mme,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),i.jsx($Ue,{isOpen:f,onClose:L,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),i.jsx(E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})};function HUe(){return i.jsx(i.Fragment,{children:i.jsxs(zse,{children:[i.jsx(Yt,{path:"/login",element:i.jsx(Roe,{})}),i.jsx(Yt,{path:"/forgot-password",element:i.jsx(spe,{})}),i.jsx(Yt,{path:"/privacy-policy",element:i.jsx(ope,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:i.jsx(rV,{})}),i.jsx(Yt,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:i.jsx(_Ue,{})}),i.jsxs(Yt,{element:i.jsx(Co,{}),children:[i.jsx(Yt,{index:!0,element:i.jsx(iI,{})})," ",i.jsx(Yt,{path:"/dashboard",element:i.jsx(iI,{})})]}),i.jsx(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:i.jsx(Yt,{path:"/audittrail",element:i.jsx(N$e,{})})}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/workflowapproval",element:i.jsx(S$e,{})}),i.jsx(Yt,{path:"/workflowapproval/monitoringapproval",element:i.jsx(k$e,{})}),i.jsx(Yt,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:i.jsx(AUe,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/worklocation",element:i.jsx(__e,{})}),i.jsx(Yt,{path:"/worklocation/department",element:i.jsx(F$e,{})}),i.jsx(Yt,{path:"/worklocation/department/adddepartment",element:i.jsx(B$e,{})}),i.jsx(Yt,{path:"/worklocation/department/editdepartment/:id",element:i.jsx(z$e,{})}),i.jsx(Yt,{path:"/worklocation/workunit",element:i.jsx(ABe,{})}),i.jsx(Yt,{path:"/worklocation/workunit/addworkunit",element:i.jsx(SBe,{})}),i.jsx(Yt,{path:"/worklocation/workunit/editworkunit/:id",element:i.jsx(CBe,{})}),i.jsx(Yt,{path:"/worklocation/workgroup",element:i.jsx(lV,{})}),i.jsx(Yt,{path:"/worklocation/workgroup/addworkgroup",element:i.jsx(sV,{})}),i.jsx(Yt,{path:"/worklocation/workgroup/editworkgroup/:id",element:i.jsx(iV,{})}),i.jsx(Yt,{path:"/worklocation/workarea",element:i.jsx(RUe,{})}),i.jsx(Yt,{path:"/worklocation/workarea/addworkarea",element:i.jsx(DUe,{})}),i.jsx(Yt,{path:"/worklocation/workarea/editworkarea/:id",element:i.jsx(OUe,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/workarrangement",element:i.jsx(A_e,{})}),i.jsx(Yt,{path:"/workarrangement/workshift",element:i.jsx(IBe,{})}),i.jsx(Yt,{path:"/workarrangement/workshift/addworkshift",element:i.jsx(LBe,{})}),i.jsx(Yt,{path:"/workarrangement/workshift/editworkshift/:id",element:i.jsx(DBe,{})}),i.jsx(Yt,{path:"/workarrangement/workgroup",element:i.jsx(lV,{})}),i.jsx(Yt,{path:"/workarrangement/workgroup/addworkgroup",element:i.jsx(sV,{})}),i.jsx(Yt,{path:"/workarrangement/workgroup/editworkgroup/:id",element:i.jsx(iV,{})})]}),i.jsx(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:i.jsx(Yt,{path:"/sparepart",element:i.jsx(T_e,{})})}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/assets",element:i.jsx(M_e,{})}),i.jsx(Yt,{path:"/assets/assetsdata",element:i.jsx(fpe,{})}),i.jsx(Yt,{path:"/assets/assetsdata/addasset",element:i.jsx(FUe,{})}),i.jsx(Yt,{path:"/assets/assetsdata/editasset/:id",element:i.jsx(BUe,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/vendors",element:i.jsx(yUe,{})}),i.jsx(Yt,{path:"/vendors/addvendor",element:i.jsx(vUe,{})}),i.jsx(Yt,{path:"/vendors/editvendor/:id",element:i.jsx(jUe,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/services",element:i.jsx(O_e,{})}),i.jsx(Yt,{path:"/services/servicegroups",element:i.jsx(C$e,{})}),i.jsx(Yt,{path:"/services/servicegroups/addservicegroup",element:i.jsx(M$e,{})}),i.jsx(Yt,{path:"/services/servicegroups/editservicegroup/:id",element:i.jsx(E$e,{})}),i.jsx(Yt,{path:"/services/servicecatalogues",element:i.jsx(A$e,{})}),i.jsx(Yt,{path:"/services/servicecatalogues/addservicecatalogue",element:i.jsx(R$e,{})}),i.jsx(Yt,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:i.jsx(P$e,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/maintenanceactivity",element:i.jsx(E_e,{})}),i.jsx(Yt,{path:"/maintenanceactivity/stoptimes",element:i.jsx(W$e,{})}),i.jsx(Yt,{path:"/maintenanceactivity/stoptimes/addstoptime",element:i.jsx(G$e,{})}),i.jsx(Yt,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:i.jsx(K$e,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activitytypes",element:i.jsx(Q$e,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:i.jsx(rV,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:i.jsx(tBe,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activity",element:i.jsx(yBe,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activity/addactivity",element:i.jsx(pBe,{})}),i.jsx(Yt,{path:"/maintenanceactivity/activity/editactivity/:id",element:i.jsx(hBe,{})}),i.jsx(Yt,{path:"/maintenanceactivity/troubleitem",element:i.jsx(wBe,{})}),i.jsx(Yt,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:i.jsx(nV,{})}),i.jsx(Yt,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:i.jsx(nV,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_machinehistory"]}),children:[i.jsx(Yt,{path:"/machinehistory",element:i.jsx(wbe,{})}),i.jsx(Yt,{path:"/machinehistory/reports",element:i.jsx(w$e,{})}),i.jsx(Yt,{path:"/machinehistory/addmachinehistory",element:i.jsx(l_e,{})}),i.jsx(Yt,{path:"/machinehistory/edit/:id",element:i.jsx(u_e,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_assets"]}),children:[i.jsx(Yt,{path:"/monitoringmaintenance",element:i.jsx(OG,{})}),i.jsx(Yt,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:i.jsx(kUe,{})}),i.jsx(Yt,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:i.jsx($Be,{})}),i.jsx(Yt,{path:"/monitoringmaintenance",element:i.jsx(OG,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_workorders"]}),children:[i.jsx(Yt,{path:"/workorders",element:i.jsx(C_e,{})}),i.jsx(Yt,{path:"/workorders/it",element:i.jsx(aBe,{})}),i.jsx(Yt,{path:"/workorders/it/addworkorder",element:i.jsx(k_e,{})}),i.jsx(Yt,{path:"/workorders/it/editworkorder/:id",element:i.jsx(sBe,{})}),i.jsx(Yt,{path:"/workorders/it/receiver",element:i.jsx(y_e,{})}),i.jsx(Yt,{path:"/workorders/it/receiver/editreceiver/:id",element:i.jsx(lBe,{})}),i.jsx(Yt,{path:"/workorders/it/assignment",element:i.jsx(cBe,{})}),i.jsx(Yt,{path:"/workorders/it/assignment/editassignment/:id",element:i.jsx(dBe,{})}),i.jsx(Yt,{path:"/workorders/it/reports",element:i.jsx(uUe,{})}),i.jsx(Yt,{path:"/workorders/it/knowledgebase",element:i.jsx(v_e,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_settings"]}),children:[i.jsx(Yt,{path:"/settings",element:i.jsx(hpe,{})}),i.jsx(Yt,{path:"/settings/change-password",element:i.jsx(f_e,{})})]}),i.jsxs(Yt,{element:i.jsx(Co,{requiredPermissions:["view_permissions"]}),children:[i.jsx(Yt,{path:"/permissions",element:i.jsx(d_e,{})}),i.jsx(Yt,{path:"/permissions/adduser",element:i.jsx(p_e,{})})]}),i.jsx(Yt,{path:"/logout",element:i.jsx(cpe,{})}),i.jsx(Yt,{path:"*",element:i.jsx(TUe,{})})]})})}const zUe=Kie.createRoot(document.getElementById("root"));zUe.render(i.jsx(he.StrictMode,{children:i.jsx(doe,{children:i.jsx(joe,{children:i.jsx(HUe,{})})})}));export{eb as _,lw as c,Kn as g};
