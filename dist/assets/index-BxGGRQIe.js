var Nee=Object.defineProperty;var kee=(t,e,r)=>e in t?Nee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _t=(t,e,r)=>kee(t,typeof e!="symbol"?e+"":e,r);import{g as Cee}from"./projectEnvVariables-Dc7Ax8fr.js";function Tee(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GS={exports:{}},Pm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V3;function _ee(){if(V3)return Pm;V3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Pm.Fragment=e,Pm.jsx=r,Pm.jsxs=r,Pm}var q3;function Mee(){return q3||(q3=1,GS.exports=_ee()),GS.exports}var s=Mee(),YS={exports:{}},er={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3;function Aee(){if(U3)return er;U3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function N(U,Q,ie){this.props=U,this.context=Q,this.refs=v,this.updater=ie||w}N.prototype.isReactComponent={},N.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=N.prototype;function S(U,Q,ie){this.props=U,this.context=Q,this.refs=v,this.updater=ie||w}var E=S.prototype=new C;E.constructor=S,j(E,N.prototype),E.isPureReactComponent=!0;var T=Array.isArray;function A(){}var O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function $(U,Q,ie){var le=ie.ref;return{$$typeof:t,type:U,key:Q,ref:le!==void 0?le:null,props:ie}}function L(U,Q){return $(U.type,Q,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function R(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return Q[ie]})}var H=/\/+/g;function G(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?R(""+U.key):Q.toString(36)}function q(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(A,A):(U.status="pending",U.then(function(Q){U.status==="pending"&&(U.status="fulfilled",U.value=Q)},function(Q){U.status==="pending"&&(U.status="rejected",U.reason=Q)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function F(U,Q,ie,le,ce){var ge=typeof U;(ge==="undefined"||ge==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(ge){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case t:case e:$e=!0;break;case h:return $e=U._init,F($e(U._payload),Q,ie,le,ce)}}if($e)return ce=ce(U),$e=le===""?"."+G(U,0):le,T(ce)?(ie="",$e!=null&&(ie=$e.replace(H,"$&/")+"/"),F(ce,Q,ie,"",function(Ae){return Ae})):ce!=null&&(I(ce)&&(ce=L(ce,ie+(ce.key==null||U&&U.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+$e)),Q.push(ce)),1;$e=0;var Oe=le===""?".":le+":";if(T(U))for(var xe=0;xe<U.length;xe++)le=U[xe],ge=Oe+G(le,xe),$e+=F(le,Q,ie,ge,ce);else if(xe=y(U),typeof xe=="function")for(U=xe.call(U),xe=0;!(le=U.next()).done;)le=le.value,ge=Oe+G(le,xe++),$e+=F(le,Q,ie,ge,ce);else if(ge==="object"){if(typeof U.then=="function")return F(q(U),Q,ie,le,ce);throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return $e}function P(U,Q,ie){if(U==null)return U;var le=[],ce=0;return F(U,le,"","",function(ge){return Q.call(ie,ge,ce++)}),le}function B(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var K=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},te={map:P,forEach:function(U,Q,ie){P(U,function(){Q.apply(this,arguments)},ie)},count:function(U){var Q=0;return P(U,function(){Q++}),Q},toArray:function(U){return P(U,function(Q){return Q})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return er.Activity=m,er.Children=te,er.Component=N,er.Fragment=r,er.Profiler=a,er.PureComponent=S,er.StrictMode=n,er.Suspense=c,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,er.__COMPILER_RUNTIME={__proto__:null,c:function(U){return O.H.useMemoCache(U)}},er.cache=function(U){return function(){return U.apply(null,arguments)}},er.cacheSignal=function(){return null},er.cloneElement=function(U,Q,ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var le=j({},U.props),ce=U.key;if(Q!=null)for(ge in Q.key!==void 0&&(ce=""+Q.key),Q)!D.call(Q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Q.ref===void 0||(le[ge]=Q[ge]);var ge=arguments.length-2;if(ge===1)le.children=ie;else if(1<ge){for(var $e=Array(ge),Oe=0;Oe<ge;Oe++)$e[Oe]=arguments[Oe+2];le.children=$e}return $(U.type,ce,le)},er.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},er.createElement=function(U,Q,ie){var le,ce={},ge=null;if(Q!=null)for(le in Q.key!==void 0&&(ge=""+Q.key),Q)D.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=Q[le]);var $e=arguments.length-2;if($e===1)ce.children=ie;else if(1<$e){for(var Oe=Array($e),xe=0;xe<$e;xe++)Oe[xe]=arguments[xe+2];ce.children=Oe}if(U&&U.defaultProps)for(le in $e=U.defaultProps,$e)ce[le]===void 0&&(ce[le]=$e[le]);return $(U,ge,ce)},er.createRef=function(){return{current:null}},er.forwardRef=function(U){return{$$typeof:l,render:U}},er.isValidElement=I,er.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:B}},er.memo=function(U,Q){return{$$typeof:d,type:U,compare:Q===void 0?null:Q}},er.startTransition=function(U){var Q=O.T,ie={};O.T=ie;try{var le=U(),ce=O.S;ce!==null&&ce(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(A,K)}catch(ge){K(ge)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),O.T=Q}},er.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},er.use=function(U){return O.H.use(U)},er.useActionState=function(U,Q,ie){return O.H.useActionState(U,Q,ie)},er.useCallback=function(U,Q){return O.H.useCallback(U,Q)},er.useContext=function(U){return O.H.useContext(U)},er.useDebugValue=function(){},er.useDeferredValue=function(U,Q){return O.H.useDeferredValue(U,Q)},er.useEffect=function(U,Q){return O.H.useEffect(U,Q)},er.useEffectEvent=function(U){return O.H.useEffectEvent(U)},er.useId=function(){return O.H.useId()},er.useImperativeHandle=function(U,Q,ie){return O.H.useImperativeHandle(U,Q,ie)},er.useInsertionEffect=function(U,Q){return O.H.useInsertionEffect(U,Q)},er.useLayoutEffect=function(U,Q){return O.H.useLayoutEffect(U,Q)},er.useMemo=function(U,Q){return O.H.useMemo(U,Q)},er.useOptimistic=function(U,Q){return O.H.useOptimistic(U,Q)},er.useReducer=function(U,Q,ie){return O.H.useReducer(U,Q,ie)},er.useRef=function(U){return O.H.useRef(U)},er.useState=function(U){return O.H.useState(U)},er.useSyncExternalStore=function(U,Q,ie){return O.H.useSyncExternalStore(U,Q,ie)},er.useTransition=function(){return O.H.useTransition()},er.version="19.2.0",er}var W3;function W0(){return W3||(W3=1,YS.exports=Aee()),YS.exports}var x=W0();const X=Dr(x),ib=Tee({__proto__:null,default:X},[x]);var KS={exports:{}},Rm={},XS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3;function Oee(){return G3||(G3=1,(function(t){function e(F,P){var B=F.length;F.push(P);e:for(;0<B;){var K=B-1>>>1,te=F[K];if(0<a(te,P))F[K]=P,F[B]=te,B=K;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var P=F[0],B=F.pop();if(B!==P){F[0]=B;e:for(var K=0,te=F.length,U=te>>>1;K<U;){var Q=2*(K+1)-1,ie=F[Q],le=Q+1,ce=F[le];if(0>a(ie,B))le<te&&0>a(ce,ie)?(F[K]=ce,F[le]=B,K=le):(F[K]=ie,F[Q]=B,K=Q);else if(le<te&&0>a(ce,B))F[K]=ce,F[le]=B,K=le;else break e}}return P}function a(F,P){var B=F.sortIndex-P.sortIndex;return B!==0?B:F.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,g=3,y=!1,w=!1,j=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function E(F){for(var P=r(d);P!==null;){if(P.callback===null)n(d);else if(P.startTime<=F)n(d),P.sortIndex=P.expirationTime,e(c,P);else break;P=r(d)}}function T(F){if(j=!1,E(F),!w)if(r(c)!==null)w=!0,A||(A=!0,R());else{var P=r(d);P!==null&&q(T,P.startTime-F)}}var A=!1,O=-1,D=5,$=-1;function L(){return v?!0:!(t.unstable_now()-$<D)}function I(){if(v=!1,A){var F=t.unstable_now();$=F;var P=!0;try{e:{w=!1,j&&(j=!1,C(O),O=-1),y=!0;var B=g;try{t:{for(E(F),m=r(c);m!==null&&!(m.expirationTime>F&&L());){var K=m.callback;if(typeof K=="function"){m.callback=null,g=m.priorityLevel;var te=K(m.expirationTime<=F);if(F=t.unstable_now(),typeof te=="function"){m.callback=te,E(F),P=!0;break t}m===r(c)&&n(c),E(F)}else n(c);m=r(c)}if(m!==null)P=!0;else{var U=r(d);U!==null&&q(T,U.startTime-F),P=!1}}break e}finally{m=null,g=B,y=!1}P=void 0}}finally{P?R():A=!1}}}var R;if(typeof S=="function")R=function(){S(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=I,R=function(){G.postMessage(null)}}else R=function(){N(I,0)};function q(F,P){O=N(function(){F(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(F){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var B=g;g=P;try{return F()}finally{g=B}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(F,P){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var B=g;g=F;try{return P()}finally{g=B}},t.unstable_scheduleCallback=function(F,P,B){var K=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,F){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,F={id:h++,callback:P,priorityLevel:F,startTime:B,expirationTime:te,sortIndex:-1},B>K?(F.sortIndex=B,e(d,F),r(c)===null&&F===r(d)&&(j?(C(O),O=-1):j=!0,q(T,B-K))):(F.sortIndex=te,e(c,F),w||y||(w=!0,A||(A=!0,R()))),F},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(F){var P=g;return function(){var B=g;g=P;try{return F.apply(this,arguments)}finally{g=B}}}})(JS)),JS}var Y3;function Eee(){return Y3||(Y3=1,XS.exports=Oee()),XS.exports}var QS={exports:{}},Ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3;function Dee(){if(K3)return Ra;K3=1;var t=W0();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ra.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,h)},Ra.flushSync=function(c){var d=o.T,h=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=d,n.p=h,n.d.f()}},Ra.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},Ra.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ra.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&n.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ra.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},Ra.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);n.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ra.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},Ra.requestFormReset=function(c){n.d.r(c)},Ra.unstable_batchedUpdates=function(c,d){return c(d)},Ra.useFormState=function(c,d,h){return o.H.useFormState(c,d,h)},Ra.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ra.version="19.2.0",Ra}var X3;function $z(){if(X3)return QS.exports;X3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),QS.exports=Dee(),QS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function Pee(){if(J3)return Rm;J3=1;var t=Eee(),e=W0(),r=$z();function n(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var f=u,p=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(p=f.return),u=f.return;while(u)}return f.tag===3?p:null}function o(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function l(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(n(188))}function d(u){var f=u.alternate;if(!f){if(f=i(u),f===null)throw Error(n(188));return f!==u?null:u}for(var p=u,b=f;;){var k=p.return;if(k===null)break;var M=k.alternate;if(M===null){if(b=k.return,b!==null){p=b;continue}break}if(k.child===M.child){for(M=k.child;M;){if(M===p)return c(k),u;if(M===b)return c(k),f;M=M.sibling}throw Error(n(188))}if(p.return!==b.return)p=k,b=M;else{for(var V=!1,J=k.child;J;){if(J===p){V=!0,p=k,b=M;break}if(J===b){V=!0,b=k,p=M;break}J=J.sibling}if(!V){for(J=M.child;J;){if(J===p){V=!0,p=M,b=k;break}if(J===b){V=!0,b=M,p=k;break}J=J.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?u:f}function h(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=h(u),f!==null)return f;u=u.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function R(u){return u===null||typeof u!="object"?null:(u=I&&u[I]||u["@@iterator"],typeof u=="function"?u:null)}var H=Symbol.for("react.client.reference");function G(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===H?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case j:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList";case $:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case w:return"Portal";case S:return u.displayName||"Context";case C:return(u._context.displayName||"Context")+".Consumer";case E:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case O:return f=u.displayName||null,f!==null?f:G(u.type)||"Memo";case D:f=u._payload,u=u._init;try{return G(u(f))}catch{}}return null}var q=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},K=[],te=-1;function U(u){return{current:u}}function Q(u){0>te||(u.current=K[te],K[te]=null,te--)}function ie(u,f){te++,K[te]=u.current,u.current=f}var le=U(null),ce=U(null),ge=U(null),$e=U(null);function Oe(u,f){switch(ie(ge,f),ie(ce,u),ie(le,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?f3(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=f3(f),u=h3(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}Q(le),ie(le,u)}function xe(){Q(le),Q(ce),Q(ge)}function Ae(u){u.memoizedState!==null&&ie($e,u);var f=le.current,p=h3(f,u.type);f!==p&&(ie(ce,u),ie(le,p))}function Ve(u){ce.current===u&&(Q(le),Q(ce)),$e.current===u&&(Q($e),Am._currentValue=B)}var ee,ae;function Z(u){if(ee===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);ee=f&&f[1]||"",ae=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+u+ae}var ve=!1;function Ge(u,f){if(!u||ve)return"";ve=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(He){var Ie=He}Reflect.construct(u,[],Qe)}else{try{Qe.call()}catch(He){Ie=He}u.call(Qe.prototype)}}else{try{throw Error()}catch(He){Ie=He}(Qe=u())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(He){if(He&&Ie&&typeof He.stack=="string")return[He.stack,Ie.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=b.DetermineComponentFrameRoot(),V=M[0],J=M[1];if(V&&J){var me=V.split(`
`),Pe=J.split(`
`);for(k=b=0;b<me.length&&!me[b].includes("DetermineComponentFrameRoot");)b++;for(;k<Pe.length&&!Pe[k].includes("DetermineComponentFrameRoot");)k++;if(b===me.length||k===Pe.length)for(b=me.length-1,k=Pe.length-1;1<=b&&0<=k&&me[b]!==Pe[k];)k--;for(;1<=b&&0<=k;b--,k--)if(me[b]!==Pe[k]){if(b!==1||k!==1)do if(b--,k--,0>k||me[b]!==Pe[k]){var Ue=`
`+me[b].replace(" at new "," at ");return u.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",u.displayName)),Ue}while(1<=b&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=p}return(p=u?u.displayName||u.name:"")?Z(p):""}function Ke(u,f){switch(u.tag){case 26:case 27:case 5:return Z(u.type);case 16:return Z("Lazy");case 13:return u.child!==f&&f!==null?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return Ge(u.type,!1);case 11:return Ge(u.type.render,!1);case 1:return Ge(u.type,!0);case 31:return Z("Activity");default:return""}}function pe(u){try{var f="",p=null;do f+=Ke(u,p),p=u,u=u.return;while(u);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ot=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,Re=t.unstable_cancelCallback,ct=t.unstable_shouldYield,St=t.unstable_requestPaint,ht=t.unstable_now,Ft=t.unstable_getCurrentPriorityLevel,rt=t.unstable_ImmediatePriority,ke=t.unstable_UserBlockingPriority,tt=t.unstable_NormalPriority,Se=t.unstable_LowPriority,ft=t.unstable_IdlePriority,xt=t.log,wt=t.unstable_setDisableYieldValue,we=null,at=null;function Je(u){if(typeof xt=="function"&&wt(u),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(we,u)}catch{}}var ne=Math.clz32?Math.clz32:et,re=Math.log,Me=Math.LN2;function et(u){return u>>>=0,u===0?32:31-(re(u)/Me|0)|0}var pt=256,ye=262144,z=4194304;function ue(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function be(u,f,p){var b=u.pendingLanes;if(b===0)return 0;var k=0,M=u.suspendedLanes,V=u.pingedLanes;u=u.warmLanes;var J=b&134217727;return J!==0?(b=J&~M,b!==0?k=ue(b):(V&=J,V!==0?k=ue(V):p||(p=J&~u,p!==0&&(k=ue(p))))):(J=b&~M,J!==0?k=ue(J):V!==0?k=ue(V):p||(p=b&~u,p!==0&&(k=ue(p)))),k===0?0:f!==0&&f!==k&&(f&M)===0&&(M=k&-k,p=f&-f,M>=p||M===32&&(p&4194048)!==0)?f:k}function Ne(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function Fe(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function he(){var u=z;return z<<=1,(z&62914560)===0&&(z=4194304),u}function de(u){for(var f=[],p=0;31>p;p++)f.push(u);return f}function se(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function De(u,f,p,b,k,M){var V=u.pendingLanes;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=p,u.entangledLanes&=p,u.errorRecoveryDisabledLanes&=p,u.shellSuspendCounter=0;var J=u.entanglements,me=u.expirationTimes,Pe=u.hiddenUpdates;for(p=V&~p;0<p;){var Ue=31-ne(p),Qe=1<<Ue;J[Ue]=0,me[Ue]=-1;var Ie=Pe[Ue];if(Ie!==null)for(Pe[Ue]=null,Ue=0;Ue<Ie.length;Ue++){var He=Ie[Ue];He!==null&&(He.lane&=-536870913)}p&=~Qe}b!==0&&Ye(u,b,0),M!==0&&k===0&&u.tag!==0&&(u.suspendedLanes|=M&~(V&~f))}function Ye(u,f,p){u.pendingLanes|=f,u.suspendedLanes&=~f;var b=31-ne(f);u.entangledLanes|=f,u.entanglements[b]=u.entanglements[b]|1073741824|p&261930}function qe(u,f){var p=u.entangledLanes|=f;for(u=u.entanglements;p;){var b=31-ne(p),k=1<<b;k&f|u[b]&f&&(u[b]|=f),p&=~k}}function Ce(u,f){var p=f&-f;return p=(p&42)!==0?1:Be(p),(p&(u.suspendedLanes|f))!==0?0:p}function Be(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function nt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Lt(){var u=P.p;return u!==0?u:(u=window.event,u===void 0?32:I3(u.type))}function br(u,f){var p=P.p;try{return P.p=u,f()}finally{P.p=p}}var $r=Math.random().toString(36).slice(2),vt="__reactFiber$"+$r,jr="__reactProps$"+$r,Dt="__reactContainer$"+$r,kr="__reactEvents$"+$r,_e="__reactListeners$"+$r,Le="__reactHandles$"+$r,ze="__reactResources$"+$r,oe="__reactMarker$"+$r;function Ze(u){delete u[vt],delete u[jr],delete u[kr],delete u[_e],delete u[Le]}function bt(u){var f=u[vt];if(f)return f;for(var p=u.parentNode;p;){if(f=p[Dt]||p[vt]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(u=v3(u);u!==null;){if(p=u[vt])return p;u=v3(u)}return f}u=p,p=u.parentNode}return null}function lr(u){if(u=u[vt]||u[Dt]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function en(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(n(33))}function Cr(u){var f=u[ze];return f||(f=u[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function cr(u){u[oe]=!0}var va=new Set,cs={};function Pa(u,f){Vr(u,f),Vr(u+"Capture",f)}function Vr(u,f){for(cs[u]=f,u=0;u<f.length;u++)va.add(f[u])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},wg={};function B1(u){return ot.call(wg,u)?!0:ot.call(qc,u)?!1:Il.test(u)?wg[u]=!0:(qc[u]=!0,!1)}function gd(u,f,p){if(B1(f))if(p===null)u.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+p)}}function xd(u,f,p){if(p===null)u.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+p)}}function wi(u,f,p,b){if(b===null)u.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttributeNS(f,p,""+b)}}function us(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function jg(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function z1(u,f,p){var b=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,M=b.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return k.call(this)},set:function(V){p=""+V,M.call(this,V)}}),Object.defineProperty(u,f,{enumerable:b.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Wh(u){if(!u._valueTracker){var f=jg(u)?"checked":"value";u._valueTracker=z1(u,f,""+u[f])}}function Sg(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var p=f.getValue(),b="";return u&&(b=jg(u)?u.checked?"true":"false":u.value),u=b,u!==p?(f.setValue(u),!0):!1}function yd(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var V1=/[\n"\\]/g;function ds(u){return u.replace(V1,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Y(u,f,p,b,k,M,V,J){u.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?u.type=V:u.removeAttribute("type"),f!=null?V==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+us(f)):u.value!==""+us(f)&&(u.value=""+us(f)):V!=="submit"&&V!=="reset"||u.removeAttribute("value"),f!=null?fe(u,V,us(f)):p!=null?fe(u,V,us(p)):b!=null&&u.removeAttribute("value"),k==null&&M!=null&&(u.defaultChecked=!!M),k!=null&&(u.checked=k&&typeof k!="function"&&typeof k!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?u.name=""+us(J):u.removeAttribute("name")}function W(u,f,p,b,k,M,V,J){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(u.type=M),f!=null||p!=null){if(!(M!=="submit"&&M!=="reset"||f!=null)){Wh(u);return}p=p!=null?""+us(p):"",f=f!=null?""+us(f):p,J||f===u.value||(u.value=f),u.defaultValue=f}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=J?u.checked:!!b,u.defaultChecked=!!b,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(u.name=V),Wh(u)}function fe(u,f,p){f==="number"&&yd(u.ownerDocument)===u||u.defaultValue===""+p||(u.defaultValue=""+p)}function mt(u,f,p,b){if(u=u.options,f){f={};for(var k=0;k<p.length;k++)f["$"+p[k]]=!0;for(p=0;p<u.length;p++)k=f.hasOwnProperty("$"+u[p].value),u[p].selected!==k&&(u[p].selected=k),k&&b&&(u[p].defaultSelected=!0)}else{for(p=""+us(p),f=null,k=0;k<u.length;k++){if(u[k].value===p){u[k].selected=!0,b&&(u[k].defaultSelected=!0);return}f!==null||u[k].disabled||(f=u[k])}f!==null&&(f.selected=!0)}}function ur(u,f,p){if(f!=null&&(f=""+us(f),f!==u.value&&(u.value=f),p==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=p!=null?""+us(p):""}function vr(u,f,p,b){if(f==null){if(b!=null){if(p!=null)throw Error(n(92));if(q(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),f=p}p=us(f),u.defaultValue=p,b=u.textContent,b===p&&b!==""&&b!==null&&(u.value=b),Wh(u)}function la(u,f){if(f){var p=u.firstChild;if(p&&p===u.lastChild&&p.nodeType===3){p.nodeValue=f;return}}u.textContent=f}var ji=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wi(u,f,p){var b=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?b?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":b?u.setProperty(f,p):typeof p!="number"||p===0||ji.has(f)?f==="float"?u.cssFloat=p:u[f]=(""+p).trim():u[f]=p+"px"}function Gi(u,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(u=u.style,p!=null){for(var b in p)!p.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var k in f)b=f[k],f.hasOwnProperty(k)&&p[k]!==b&&Wi(u,k,b)}else for(var M in f)f.hasOwnProperty(M)&&Wi(u,M,f[M])}function Ng(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vQ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wQ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kg(u){return wQ.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Oo(){}var q1=null;function U1(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var bd=null,vd=null;function dD(u){var f=lr(u);if(f&&(u=f.stateNode)){var p=u[jr]||null;e:switch(u=f.stateNode,f.type){case"input":if(Y(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=u;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ds(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var b=p[f];if(b!==u&&b.form===u.form){var k=b[jr]||null;if(!k)throw Error(n(90));Y(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(f=0;f<p.length;f++)b=p[f],b.form===u.form&&Sg(b)}break e;case"textarea":ur(u,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&mt(u,!!p.multiple,f,!1)}}}var W1=!1;function fD(u,f,p){if(W1)return u(f,p);W1=!0;try{var b=u(f);return b}finally{if(W1=!1,(bd!==null||vd!==null)&&(fx(),bd&&(f=bd,u=vd,vd=bd=null,dD(f),u)))for(f=0;f<u.length;f++)dD(u[f])}}function Gh(u,f){var p=u.stateNode;if(p===null)return null;var b=p[jr]||null;if(b===null)return null;p=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G1=!1;if(Eo)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){G1=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{G1=!1}var Ll=null,Y1=null,Cg=null;function hD(){if(Cg)return Cg;var u,f=Y1,p=f.length,b,k="value"in Ll?Ll.value:Ll.textContent,M=k.length;for(u=0;u<p&&f[u]===k[u];u++);var V=p-u;for(b=1;b<=V&&f[p-b]===k[M-b];b++);return Cg=k.slice(u,1<b?1-b:void 0)}function Tg(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function _g(){return!0}function mD(){return!1}function fs(u){function f(p,b,k,M,V){this._reactName=p,this._targetInst=k,this.type=b,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var J in u)u.hasOwnProperty(J)&&(p=u[J],this[J]=p?p(M):M[J]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?_g:mD,this.isPropagationStopped=mD,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=_g)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=_g)},persist:function(){},isPersistent:_g}),f}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mg=fs(Uc),Kh=m({},Uc,{view:0,detail:0}),jQ=fs(Kh),K1,X1,Xh,Ag=m({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q1,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Xh&&(Xh&&u.type==="mousemove"?(K1=u.screenX-Xh.screenX,X1=u.screenY-Xh.screenY):X1=K1=0,Xh=u),K1)},movementY:function(u){return"movementY"in u?u.movementY:X1}}),pD=fs(Ag),SQ=m({},Ag,{dataTransfer:0}),NQ=fs(SQ),kQ=m({},Kh,{relatedTarget:0}),J1=fs(kQ),CQ=m({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),TQ=fs(CQ),_Q=m({},Uc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),MQ=fs(_Q),AQ=m({},Uc,{data:0}),gD=fs(AQ),OQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PQ(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=DQ[u])?!!f[u]:!1}function Q1(){return PQ}var RQ=m({},Kh,{key:function(u){if(u.key){var f=OQ[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Tg(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?EQ[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q1,charCode:function(u){return u.type==="keypress"?Tg(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Tg(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),IQ=fs(RQ),LQ=m({},Ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xD=fs(LQ),$Q=m({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q1}),FQ=fs($Q),HQ=m({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),BQ=fs(HQ),zQ=m({},Ag,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),VQ=fs(zQ),qQ=m({},Uc,{newState:0,oldState:0}),UQ=fs(qQ),WQ=[9,13,27,32],Z1=Eo&&"CompositionEvent"in window,Jh=null;Eo&&"documentMode"in document&&(Jh=document.documentMode);var GQ=Eo&&"TextEvent"in window&&!Jh,yD=Eo&&(!Z1||Jh&&8<Jh&&11>=Jh),bD=" ",vD=!1;function wD(u,f){switch(u){case"keyup":return WQ.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jD(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var wd=!1;function YQ(u,f){switch(u){case"compositionend":return jD(f);case"keypress":return f.which!==32?null:(vD=!0,bD);case"textInput":return u=f.data,u===bD&&vD?null:u;default:return null}}function KQ(u,f){if(wd)return u==="compositionend"||!Z1&&wD(u,f)?(u=hD(),Cg=Y1=Ll=null,wd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return yD&&f.locale!=="ko"?null:f.data;default:return null}}var XQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SD(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!XQ[u.type]:f==="textarea"}function ND(u,f,p,b){bd?vd?vd.push(b):vd=[b]:bd=b,f=bx(f,"onChange"),0<f.length&&(p=new Mg("onChange","change",null,p,b),u.push({event:p,listeners:f}))}var Qh=null,Zh=null;function JQ(u){i3(u,0)}function Og(u){var f=en(u);if(Sg(f))return u}function kD(u,f){if(u==="change")return f}var CD=!1;if(Eo){var ej;if(Eo){var tj="oninput"in document;if(!tj){var TD=document.createElement("div");TD.setAttribute("oninput","return;"),tj=typeof TD.oninput=="function"}ej=tj}else ej=!1;CD=ej&&(!document.documentMode||9<document.documentMode)}function _D(){Qh&&(Qh.detachEvent("onpropertychange",MD),Zh=Qh=null)}function MD(u){if(u.propertyName==="value"&&Og(Zh)){var f=[];ND(f,Zh,u,U1(u)),fD(JQ,f)}}function QQ(u,f,p){u==="focusin"?(_D(),Qh=f,Zh=p,Qh.attachEvent("onpropertychange",MD)):u==="focusout"&&_D()}function ZQ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Og(Zh)}function eZ(u,f){if(u==="click")return Og(f)}function tZ(u,f){if(u==="input"||u==="change")return Og(f)}function rZ(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Ns=typeof Object.is=="function"?Object.is:rZ;function em(u,f){if(Ns(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var p=Object.keys(u),b=Object.keys(f);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var k=p[b];if(!ot.call(f,k)||!Ns(u[k],f[k]))return!1}return!0}function AD(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function OD(u,f){var p=AD(u);u=0;for(var b;p;){if(p.nodeType===3){if(b=u+p.textContent.length,u<=f&&b>=f)return{node:p,offset:f-u};u=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=AD(p)}}function ED(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?ED(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function DD(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=yd(u.document);f instanceof u.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)u=f.contentWindow;else break;f=yd(u.document)}return f}function rj(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var nZ=Eo&&"documentMode"in document&&11>=document.documentMode,jd=null,nj=null,tm=null,aj=!1;function PD(u,f,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;aj||jd==null||jd!==yd(b)||(b=jd,"selectionStart"in b&&rj(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),tm&&em(tm,b)||(tm=b,b=bx(nj,"onSelect"),0<b.length&&(f=new Mg("onSelect","select",null,f,p),u.push({event:f,listeners:b}),f.target=jd)))}function Wc(u,f){var p={};return p[u.toLowerCase()]=f.toLowerCase(),p["Webkit"+u]="webkit"+f,p["Moz"+u]="moz"+f,p}var Sd={animationend:Wc("Animation","AnimationEnd"),animationiteration:Wc("Animation","AnimationIteration"),animationstart:Wc("Animation","AnimationStart"),transitionrun:Wc("Transition","TransitionRun"),transitionstart:Wc("Transition","TransitionStart"),transitioncancel:Wc("Transition","TransitionCancel"),transitionend:Wc("Transition","TransitionEnd")},sj={},RD={};Eo&&(RD=document.createElement("div").style,"AnimationEvent"in window||(delete Sd.animationend.animation,delete Sd.animationiteration.animation,delete Sd.animationstart.animation),"TransitionEvent"in window||delete Sd.transitionend.transition);function Gc(u){if(sj[u])return sj[u];if(!Sd[u])return u;var f=Sd[u],p;for(p in f)if(f.hasOwnProperty(p)&&p in RD)return sj[u]=f[p];return u}var ID=Gc("animationend"),LD=Gc("animationiteration"),$D=Gc("animationstart"),aZ=Gc("transitionrun"),sZ=Gc("transitionstart"),iZ=Gc("transitioncancel"),FD=Gc("transitionend"),HD=new Map,ij="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ij.push("scrollEnd");function Si(u,f){HD.set(u,f),Pa(f,[u])}var Eg=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Vs=[],Nd=0,oj=0;function Dg(){for(var u=Nd,f=oj=Nd=0;f<u;){var p=Vs[f];Vs[f++]=null;var b=Vs[f];Vs[f++]=null;var k=Vs[f];Vs[f++]=null;var M=Vs[f];if(Vs[f++]=null,b!==null&&k!==null){var V=b.pending;V===null?k.next=k:(k.next=V.next,V.next=k),b.pending=k}M!==0&&BD(p,k,M)}}function Pg(u,f,p,b){Vs[Nd++]=u,Vs[Nd++]=f,Vs[Nd++]=p,Vs[Nd++]=b,oj|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function lj(u,f,p,b){return Pg(u,f,p,b),Rg(u)}function Yc(u,f){return Pg(u,null,null,f),Rg(u)}function BD(u,f,p){u.lanes|=p;var b=u.alternate;b!==null&&(b.lanes|=p);for(var k=!1,M=u.return;M!==null;)M.childLanes|=p,b=M.alternate,b!==null&&(b.childLanes|=p),M.tag===22&&(u=M.stateNode,u===null||u._visibility&1||(k=!0)),u=M,M=M.return;return u.tag===3?(M=u.stateNode,k&&f!==null&&(k=31-ne(p),u=M.hiddenUpdates,b=u[k],b===null?u[k]=[f]:b.push(f),f.lane=p|536870912),M):null}function Rg(u){if(50<Sm)throw Sm=0,xS=null,Error(n(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var kd={};function oZ(u,f,p,b){this.tag=u,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(u,f,p,b){return new oZ(u,f,p,b)}function cj(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Do(u,f){var p=u.alternate;return p===null?(p=ks(u.tag,f,u.key,u.mode),p.elementType=u.elementType,p.type=u.type,p.stateNode=u.stateNode,p.alternate=u,u.alternate=p):(p.pendingProps=f,p.type=u.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=u.flags&65011712,p.childLanes=u.childLanes,p.lanes=u.lanes,p.child=u.child,p.memoizedProps=u.memoizedProps,p.memoizedState=u.memoizedState,p.updateQueue=u.updateQueue,f=u.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=u.sibling,p.index=u.index,p.ref=u.ref,p.refCleanup=u.refCleanup,p}function zD(u,f){u.flags&=65011714;var p=u.alternate;return p===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,f=p.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Ig(u,f,p,b,k,M){var V=0;if(b=u,typeof u=="function")cj(u)&&(V=1);else if(typeof u=="string")V=fee(u,p,le.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case $:return u=ks(31,p,f,k),u.elementType=$,u.lanes=M,u;case j:return Kc(p.children,k,M,f);case v:V=8,k|=24;break;case N:return u=ks(12,p,f,k|2),u.elementType=N,u.lanes=M,u;case T:return u=ks(13,p,f,k),u.elementType=T,u.lanes=M,u;case A:return u=ks(19,p,f,k),u.elementType=A,u.lanes=M,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:V=10;break e;case C:V=9;break e;case E:V=11;break e;case O:V=14;break e;case D:V=16,b=null;break e}V=29,p=Error(n(130,u===null?"null":typeof u,"")),b=null}return f=ks(V,p,f,k),f.elementType=u,f.type=b,f.lanes=M,f}function Kc(u,f,p,b){return u=ks(7,u,b,f),u.lanes=p,u}function uj(u,f,p){return u=ks(6,u,null,f),u.lanes=p,u}function VD(u){var f=ks(18,null,null,0);return f.stateNode=u,f}function dj(u,f,p){return f=ks(4,u.children!==null?u.children:[],u.key,f),f.lanes=p,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var qD=new WeakMap;function qs(u,f){if(typeof u=="object"&&u!==null){var p=qD.get(u);return p!==void 0?p:(f={value:u,source:f,stack:pe(f)},qD.set(u,f),f)}return{value:u,source:f,stack:pe(f)}}var Cd=[],Td=0,Lg=null,rm=0,Us=[],Ws=0,$l=null,Yi=1,Ki="";function Po(u,f){Cd[Td++]=rm,Cd[Td++]=Lg,Lg=u,rm=f}function UD(u,f,p){Us[Ws++]=Yi,Us[Ws++]=Ki,Us[Ws++]=$l,$l=u;var b=Yi;u=Ki;var k=32-ne(b)-1;b&=~(1<<k),p+=1;var M=32-ne(f)+k;if(30<M){var V=k-k%5;M=(b&(1<<V)-1).toString(32),b>>=V,k-=V,Yi=1<<32-ne(f)+k|p<<k|b,Ki=M+u}else Yi=1<<M|p<<k|b,Ki=u}function fj(u){u.return!==null&&(Po(u,1),UD(u,1,0))}function hj(u){for(;u===Lg;)Lg=Cd[--Td],Cd[Td]=null,rm=Cd[--Td],Cd[Td]=null;for(;u===$l;)$l=Us[--Ws],Us[Ws]=null,Ki=Us[--Ws],Us[Ws]=null,Yi=Us[--Ws],Us[Ws]=null}function WD(u,f){Us[Ws++]=Yi,Us[Ws++]=Ki,Us[Ws++]=$l,Yi=f.id,Ki=f.overflow,$l=u}var wa=null,cn=null,yr=!1,Fl=null,Gs=!1,mj=Error(n(519));function Hl(u){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nm(qs(f,u)),mj}function GD(u){var f=u.stateNode,p=u.type,b=u.memoizedProps;switch(f[vt]=u,f[jr]=b,p){case"dialog":fr("cancel",f),fr("close",f);break;case"iframe":case"object":case"embed":fr("load",f);break;case"video":case"audio":for(p=0;p<km.length;p++)fr(km[p],f);break;case"source":fr("error",f);break;case"img":case"image":case"link":fr("error",f),fr("load",f);break;case"details":fr("toggle",f);break;case"input":fr("invalid",f),W(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":fr("invalid",f);break;case"textarea":fr("invalid",f),vr(f,b.value,b.defaultValue,b.children)}p=b.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||b.suppressHydrationWarning===!0||u3(f.textContent,p)?(b.popover!=null&&(fr("beforetoggle",f),fr("toggle",f)),b.onScroll!=null&&fr("scroll",f),b.onScrollEnd!=null&&fr("scrollend",f),b.onClick!=null&&(f.onclick=Oo),f=!0):f=!1,f||Hl(u,!0)}function YD(u){for(wa=u.return;wa;)switch(wa.tag){case 5:case 31:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:wa=wa.return}}function _d(u){if(u!==wa)return!1;if(!yr)return YD(u),yr=!0,!1;var f=u.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=u.type,p=!(p!=="form"&&p!=="button")||ES(u.type,u.memoizedProps)),p=!p),p&&cn&&Hl(u),YD(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));cn=b3(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));cn=b3(u)}else f===27?(f=cn,ec(u.type)?(u=LS,LS=null,cn=u):cn=f):cn=wa?Ks(u.stateNode.nextSibling):null;return!0}function Xc(){cn=wa=null,yr=!1}function pj(){var u=Fl;return u!==null&&(gs===null?gs=u:gs.push.apply(gs,u),Fl=null),u}function nm(u){Fl===null?Fl=[u]:Fl.push(u)}var gj=U(null),Jc=null,Ro=null;function Bl(u,f,p){ie(gj,f._currentValue),f._currentValue=p}function Io(u){u._currentValue=gj.current,Q(gj)}function xj(u,f,p){for(;u!==null;){var b=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),u===p)break;u=u.return}}function yj(u,f,p,b){var k=u.child;for(k!==null&&(k.return=u);k!==null;){var M=k.dependencies;if(M!==null){var V=k.child;M=M.firstContext;e:for(;M!==null;){var J=M;M=k;for(var me=0;me<f.length;me++)if(J.context===f[me]){M.lanes|=p,J=M.alternate,J!==null&&(J.lanes|=p),xj(M.return,p,u),b||(V=null);break e}M=J.next}}else if(k.tag===18){if(V=k.return,V===null)throw Error(n(341));V.lanes|=p,M=V.alternate,M!==null&&(M.lanes|=p),xj(V,p,u),V=null}else V=k.child;if(V!==null)V.return=k;else for(V=k;V!==null;){if(V===u){V=null;break}if(k=V.sibling,k!==null){k.return=V.return,V=k;break}V=V.return}k=V}}function Md(u,f,p,b){u=null;for(var k=f,M=!1;k!==null;){if(!M){if((k.flags&524288)!==0)M=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var V=k.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var J=k.type;Ns(k.pendingProps.value,V.value)||(u!==null?u.push(J):u=[J])}}else if(k===$e.current){if(V=k.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(u!==null?u.push(Am):u=[Am])}k=k.return}u!==null&&yj(f,u,p,b),f.flags|=262144}function $g(u){for(u=u.firstContext;u!==null;){if(!Ns(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Qc(u){Jc=u,Ro=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ja(u){return KD(Jc,u)}function Fg(u,f){return Jc===null&&Qc(u),KD(u,f)}function KD(u,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},Ro===null){if(u===null)throw Error(n(308));Ro=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Ro=Ro.next=f;return p}var lZ=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(p,b){u.push(b)}};this.abort=function(){f.aborted=!0,u.forEach(function(p){return p()})}},cZ=t.unstable_scheduleCallback,uZ=t.unstable_NormalPriority,zn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bj(){return{controller:new lZ,data:new Map,refCount:0}}function am(u){u.refCount--,u.refCount===0&&cZ(uZ,function(){u.controller.abort()})}var sm=null,vj=0,Ad=0,Od=null;function dZ(u,f){if(sm===null){var p=sm=[];vj=0,Ad=SS(),Od={status:"pending",value:void 0,then:function(b){p.push(b)}}}return vj++,f.then(XD,XD),f}function XD(){if(--vj===0&&sm!==null){Od!==null&&(Od.status="fulfilled");var u=sm;sm=null,Ad=0,Od=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function fZ(u,f){var p=[],b={status:"pending",value:null,reason:null,then:function(k){p.push(k)}};return u.then(function(){b.status="fulfilled",b.value=f;for(var k=0;k<p.length;k++)(0,p[k])(f)},function(k){for(b.status="rejected",b.reason=k,k=0;k<p.length;k++)(0,p[k])(void 0)}),b}var JD=F.S;F.S=function(u,f){P4=ht(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&dZ(u,f),JD!==null&&JD(u,f)};var Zc=U(null);function wj(){var u=Zc.current;return u!==null?u:tn.pooledCache}function Hg(u,f){f===null?ie(Zc,Zc.current):ie(Zc,f.pool)}function QD(){var u=wj();return u===null?null:{parent:zn._currentValue,pool:u}}var Ed=Error(n(460)),jj=Error(n(474)),Bg=Error(n(542)),zg={then:function(){}};function ZD(u){return u=u.status,u==="fulfilled"||u==="rejected"}function eP(u,f,p){switch(p=u[p],p===void 0?u.push(f):p!==f&&(f.then(Oo,Oo),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,rP(u),u;default:if(typeof f.status=="string")f.then(Oo,Oo);else{if(u=tn,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=f,u.status="pending",u.then(function(b){if(f.status==="pending"){var k=f;k.status="fulfilled",k.value=b}},function(b){if(f.status==="pending"){var k=f;k.status="rejected",k.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,rP(u),u}throw tu=f,Ed}}function eu(u){try{var f=u._init;return f(u._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(tu=p,Ed):p}}var tu=null;function tP(){if(tu===null)throw Error(n(459));var u=tu;return tu=null,u}function rP(u){if(u===Ed||u===Bg)throw Error(n(483))}var Dd=null,im=0;function Vg(u){var f=im;return im+=1,Dd===null&&(Dd=[]),eP(Dd,u,f)}function om(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function qg(u,f){throw f.$$typeof===g?Error(n(525)):(u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function nP(u){function f(Te,je){if(u){var Ee=Te.deletions;Ee===null?(Te.deletions=[je],Te.flags|=16):Ee.push(je)}}function p(Te,je){if(!u)return null;for(;je!==null;)f(Te,je),je=je.sibling;return null}function b(Te){for(var je=new Map;Te!==null;)Te.key!==null?je.set(Te.key,Te):je.set(Te.index,Te),Te=Te.sibling;return je}function k(Te,je){return Te=Do(Te,je),Te.index=0,Te.sibling=null,Te}function M(Te,je,Ee){return Te.index=Ee,u?(Ee=Te.alternate,Ee!==null?(Ee=Ee.index,Ee<je?(Te.flags|=67108866,je):Ee):(Te.flags|=67108866,je)):(Te.flags|=1048576,je)}function V(Te){return u&&Te.alternate===null&&(Te.flags|=67108866),Te}function J(Te,je,Ee,Xe){return je===null||je.tag!==6?(je=uj(Ee,Te.mode,Xe),je.return=Te,je):(je=k(je,Ee),je.return=Te,je)}function me(Te,je,Ee,Xe){var Bt=Ee.type;return Bt===j?Ue(Te,je,Ee.props.children,Xe,Ee.key):je!==null&&(je.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===D&&eu(Bt)===je.type)?(je=k(je,Ee.props),om(je,Ee),je.return=Te,je):(je=Ig(Ee.type,Ee.key,Ee.props,null,Te.mode,Xe),om(je,Ee),je.return=Te,je)}function Pe(Te,je,Ee,Xe){return je===null||je.tag!==4||je.stateNode.containerInfo!==Ee.containerInfo||je.stateNode.implementation!==Ee.implementation?(je=dj(Ee,Te.mode,Xe),je.return=Te,je):(je=k(je,Ee.children||[]),je.return=Te,je)}function Ue(Te,je,Ee,Xe,Bt){return je===null||je.tag!==7?(je=Kc(Ee,Te.mode,Xe,Bt),je.return=Te,je):(je=k(je,Ee),je.return=Te,je)}function Qe(Te,je,Ee){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=uj(""+je,Te.mode,Ee),je.return=Te,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return Ee=Ig(je.type,je.key,je.props,null,Te.mode,Ee),om(Ee,je),Ee.return=Te,Ee;case w:return je=dj(je,Te.mode,Ee),je.return=Te,je;case D:return je=eu(je),Qe(Te,je,Ee)}if(q(je)||R(je))return je=Kc(je,Te.mode,Ee,null),je.return=Te,je;if(typeof je.then=="function")return Qe(Te,Vg(je),Ee);if(je.$$typeof===S)return Qe(Te,Fg(Te,je),Ee);qg(Te,je)}return null}function Ie(Te,je,Ee,Xe){var Bt=je!==null?je.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Bt!==null?null:J(Te,je,""+Ee,Xe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:return Ee.key===Bt?me(Te,je,Ee,Xe):null;case w:return Ee.key===Bt?Pe(Te,je,Ee,Xe):null;case D:return Ee=eu(Ee),Ie(Te,je,Ee,Xe)}if(q(Ee)||R(Ee))return Bt!==null?null:Ue(Te,je,Ee,Xe,null);if(typeof Ee.then=="function")return Ie(Te,je,Vg(Ee),Xe);if(Ee.$$typeof===S)return Ie(Te,je,Fg(Te,Ee),Xe);qg(Te,Ee)}return null}function He(Te,je,Ee,Xe,Bt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Te=Te.get(Ee)||null,J(je,Te,""+Xe,Bt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case y:return Te=Te.get(Xe.key===null?Ee:Xe.key)||null,me(je,Te,Xe,Bt);case w:return Te=Te.get(Xe.key===null?Ee:Xe.key)||null,Pe(je,Te,Xe,Bt);case D:return Xe=eu(Xe),He(Te,je,Ee,Xe,Bt)}if(q(Xe)||R(Xe))return Te=Te.get(Ee)||null,Ue(je,Te,Xe,Bt,null);if(typeof Xe.then=="function")return He(Te,je,Ee,Vg(Xe),Bt);if(Xe.$$typeof===S)return He(Te,je,Ee,Fg(je,Xe),Bt);qg(je,Xe)}return null}function Et(Te,je,Ee,Xe){for(var Bt=null,Tr=null,Pt=je,nr=je=0,pr=null;Pt!==null&&nr<Ee.length;nr++){Pt.index>nr?(pr=Pt,Pt=null):pr=Pt.sibling;var _r=Ie(Te,Pt,Ee[nr],Xe);if(_r===null){Pt===null&&(Pt=pr);break}u&&Pt&&_r.alternate===null&&f(Te,Pt),je=M(_r,je,nr),Tr===null?Bt=_r:Tr.sibling=_r,Tr=_r,Pt=pr}if(nr===Ee.length)return p(Te,Pt),yr&&Po(Te,nr),Bt;if(Pt===null){for(;nr<Ee.length;nr++)Pt=Qe(Te,Ee[nr],Xe),Pt!==null&&(je=M(Pt,je,nr),Tr===null?Bt=Pt:Tr.sibling=Pt,Tr=Pt);return yr&&Po(Te,nr),Bt}for(Pt=b(Pt);nr<Ee.length;nr++)pr=He(Pt,Te,nr,Ee[nr],Xe),pr!==null&&(u&&pr.alternate!==null&&Pt.delete(pr.key===null?nr:pr.key),je=M(pr,je,nr),Tr===null?Bt=pr:Tr.sibling=pr,Tr=pr);return u&&Pt.forEach(function(sc){return f(Te,sc)}),yr&&Po(Te,nr),Bt}function Gt(Te,je,Ee,Xe){if(Ee==null)throw Error(n(151));for(var Bt=null,Tr=null,Pt=je,nr=je=0,pr=null,_r=Ee.next();Pt!==null&&!_r.done;nr++,_r=Ee.next()){Pt.index>nr?(pr=Pt,Pt=null):pr=Pt.sibling;var sc=Ie(Te,Pt,_r.value,Xe);if(sc===null){Pt===null&&(Pt=pr);break}u&&Pt&&sc.alternate===null&&f(Te,Pt),je=M(sc,je,nr),Tr===null?Bt=sc:Tr.sibling=sc,Tr=sc,Pt=pr}if(_r.done)return p(Te,Pt),yr&&Po(Te,nr),Bt;if(Pt===null){for(;!_r.done;nr++,_r=Ee.next())_r=Qe(Te,_r.value,Xe),_r!==null&&(je=M(_r,je,nr),Tr===null?Bt=_r:Tr.sibling=_r,Tr=_r);return yr&&Po(Te,nr),Bt}for(Pt=b(Pt);!_r.done;nr++,_r=Ee.next())_r=He(Pt,Te,nr,_r.value,Xe),_r!==null&&(u&&_r.alternate!==null&&Pt.delete(_r.key===null?nr:_r.key),je=M(_r,je,nr),Tr===null?Bt=_r:Tr.sibling=_r,Tr=_r);return u&&Pt.forEach(function(See){return f(Te,See)}),yr&&Po(Te,nr),Bt}function Jr(Te,je,Ee,Xe){if(typeof Ee=="object"&&Ee!==null&&Ee.type===j&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:e:{for(var Bt=Ee.key;je!==null;){if(je.key===Bt){if(Bt=Ee.type,Bt===j){if(je.tag===7){p(Te,je.sibling),Xe=k(je,Ee.props.children),Xe.return=Te,Te=Xe;break e}}else if(je.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===D&&eu(Bt)===je.type){p(Te,je.sibling),Xe=k(je,Ee.props),om(Xe,Ee),Xe.return=Te,Te=Xe;break e}p(Te,je);break}else f(Te,je);je=je.sibling}Ee.type===j?(Xe=Kc(Ee.props.children,Te.mode,Xe,Ee.key),Xe.return=Te,Te=Xe):(Xe=Ig(Ee.type,Ee.key,Ee.props,null,Te.mode,Xe),om(Xe,Ee),Xe.return=Te,Te=Xe)}return V(Te);case w:e:{for(Bt=Ee.key;je!==null;){if(je.key===Bt)if(je.tag===4&&je.stateNode.containerInfo===Ee.containerInfo&&je.stateNode.implementation===Ee.implementation){p(Te,je.sibling),Xe=k(je,Ee.children||[]),Xe.return=Te,Te=Xe;break e}else{p(Te,je);break}else f(Te,je);je=je.sibling}Xe=dj(Ee,Te.mode,Xe),Xe.return=Te,Te=Xe}return V(Te);case D:return Ee=eu(Ee),Jr(Te,je,Ee,Xe)}if(q(Ee))return Et(Te,je,Ee,Xe);if(R(Ee)){if(Bt=R(Ee),typeof Bt!="function")throw Error(n(150));return Ee=Bt.call(Ee),Gt(Te,je,Ee,Xe)}if(typeof Ee.then=="function")return Jr(Te,je,Vg(Ee),Xe);if(Ee.$$typeof===S)return Jr(Te,je,Fg(Te,Ee),Xe);qg(Te,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,je!==null&&je.tag===6?(p(Te,je.sibling),Xe=k(je,Ee),Xe.return=Te,Te=Xe):(p(Te,je),Xe=uj(Ee,Te.mode,Xe),Xe.return=Te,Te=Xe),V(Te)):p(Te,je)}return function(Te,je,Ee,Xe){try{im=0;var Bt=Jr(Te,je,Ee,Xe);return Dd=null,Bt}catch(Pt){if(Pt===Ed||Pt===Bg)throw Pt;var Tr=ks(29,Pt,null,Te.mode);return Tr.lanes=Xe,Tr.return=Te,Tr}finally{}}}var ru=nP(!0),aP=nP(!1),zl=!1;function Sj(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nj(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Vl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ql(u,f,p){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(Pr&2)!==0){var k=b.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),b.pending=f,f=Rg(u),BD(u,null,p),f}return Pg(u,b,f,p),Rg(u)}function lm(u,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var b=f.lanes;b&=u.pendingLanes,p|=b,f.lanes=p,qe(u,p)}}function kj(u,f){var p=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var k=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};M===null?k=M=V:M=M.next=V,p=p.next}while(p!==null);M===null?k=M=f:M=M.next=f}else k=M=f;p={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:M,shared:b.shared,callbacks:b.callbacks},u.updateQueue=p;return}u=p.lastBaseUpdate,u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=f}var Cj=!1;function cm(){if(Cj){var u=Od;if(u!==null)throw u}}function um(u,f,p,b){Cj=!1;var k=u.updateQueue;zl=!1;var M=k.firstBaseUpdate,V=k.lastBaseUpdate,J=k.shared.pending;if(J!==null){k.shared.pending=null;var me=J,Pe=me.next;me.next=null,V===null?M=Pe:V.next=Pe,V=me;var Ue=u.alternate;Ue!==null&&(Ue=Ue.updateQueue,J=Ue.lastBaseUpdate,J!==V&&(J===null?Ue.firstBaseUpdate=Pe:J.next=Pe,Ue.lastBaseUpdate=me))}if(M!==null){var Qe=k.baseState;V=0,Ue=Pe=me=null,J=M;do{var Ie=J.lane&-536870913,He=Ie!==J.lane;if(He?(mr&Ie)===Ie:(b&Ie)===Ie){Ie!==0&&Ie===Ad&&(Cj=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Et=u,Gt=J;Ie=f;var Jr=p;switch(Gt.tag){case 1:if(Et=Gt.payload,typeof Et=="function"){Qe=Et.call(Jr,Qe,Ie);break e}Qe=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Gt.payload,Ie=typeof Et=="function"?Et.call(Jr,Qe,Ie):Et,Ie==null)break e;Qe=m({},Qe,Ie);break e;case 2:zl=!0}}Ie=J.callback,Ie!==null&&(u.flags|=64,He&&(u.flags|=8192),He=k.callbacks,He===null?k.callbacks=[Ie]:He.push(Ie))}else He={lane:Ie,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ue===null?(Pe=Ue=He,me=Qe):Ue=Ue.next=He,V|=Ie;if(J=J.next,J===null){if(J=k.shared.pending,J===null)break;He=J,J=He.next,He.next=null,k.lastBaseUpdate=He,k.shared.pending=null}}while(!0);Ue===null&&(me=Qe),k.baseState=me,k.firstBaseUpdate=Pe,k.lastBaseUpdate=Ue,M===null&&(k.shared.lanes=0),Kl|=V,u.lanes=V,u.memoizedState=Qe}}function sP(u,f){if(typeof u!="function")throw Error(n(191,u));u.call(f)}function iP(u,f){var p=u.callbacks;if(p!==null)for(u.callbacks=null,u=0;u<p.length;u++)sP(p[u],f)}var Pd=U(null),Ug=U(0);function oP(u,f){u=Uo,ie(Ug,u),ie(Pd,f),Uo=u|f.baseLanes}function Tj(){ie(Ug,Uo),ie(Pd,Pd.current)}function _j(){Uo=Ug.current,Q(Pd),Q(Ug)}var Cs=U(null),Ys=null;function Ul(u){var f=u.alternate;ie(Rn,Rn.current&1),ie(Cs,u),Ys===null&&(f===null||Pd.current!==null||f.memoizedState!==null)&&(Ys=u)}function Mj(u){ie(Rn,Rn.current),ie(Cs,u),Ys===null&&(Ys=u)}function lP(u){u.tag===22?(ie(Rn,Rn.current),ie(Cs,u),Ys===null&&(Ys=u)):Wl()}function Wl(){ie(Rn,Rn.current),ie(Cs,Cs.current)}function Ts(u){Q(Cs),Ys===u&&(Ys=null),Q(Rn)}var Rn=U(0);function Wg(u){for(var f=u;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||RS(p)||IS(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Lo=0,rr=null,Kr=null,Vn=null,Gg=!1,Rd=!1,nu=!1,Yg=0,dm=0,Id=null,hZ=0;function Nn(){throw Error(n(321))}function Aj(u,f){if(f===null)return!1;for(var p=0;p<f.length&&p<u.length;p++)if(!Ns(u[p],f[p]))return!1;return!0}function Oj(u,f,p,b,k,M){return Lo=M,rr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,F.H=u===null||u.memoizedState===null?UP:Wj,nu=!1,M=p(b,k),nu=!1,Rd&&(M=uP(f,p,b,k)),cP(u),M}function cP(u){F.H=mm;var f=Kr!==null&&Kr.next!==null;if(Lo=0,Vn=Kr=rr=null,Gg=!1,dm=0,Id=null,f)throw Error(n(300));u===null||qn||(u=u.dependencies,u!==null&&$g(u)&&(qn=!0))}function uP(u,f,p,b){rr=u;var k=0;do{if(Rd&&(Id=null),dm=0,Rd=!1,25<=k)throw Error(n(301));if(k+=1,Vn=Kr=null,u.updateQueue!=null){var M=u.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}F.H=WP,M=f(p,b)}while(Rd);return M}function mZ(){var u=F.H,f=u.useState()[0];return f=typeof f.then=="function"?fm(f):f,u=u.useState()[0],(Kr!==null?Kr.memoizedState:null)!==u&&(rr.flags|=1024),f}function Ej(){var u=Yg!==0;return Yg=0,u}function Dj(u,f,p){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~p}function Pj(u){if(Gg){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Gg=!1}Lo=0,Vn=Kr=rr=null,Rd=!1,dm=Yg=0,Id=null}function qa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?rr.memoizedState=Vn=u:Vn=Vn.next=u,Vn}function In(){if(Kr===null){var u=rr.alternate;u=u!==null?u.memoizedState:null}else u=Kr.next;var f=Vn===null?rr.memoizedState:Vn.next;if(f!==null)Vn=f,Kr=u;else{if(u===null)throw rr.alternate===null?Error(n(467)):Error(n(310));Kr=u,u={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},Vn===null?rr.memoizedState=Vn=u:Vn=Vn.next=u}return Vn}function Kg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fm(u){var f=dm;return dm+=1,Id===null&&(Id=[]),u=eP(Id,u,f),f=rr,(Vn===null?f.memoizedState:Vn.next)===null&&(f=f.alternate,F.H=f===null||f.memoizedState===null?UP:Wj),u}function Xg(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return fm(u);if(u.$$typeof===S)return ja(u)}throw Error(n(438,String(u)))}function Rj(u){var f=null,p=rr.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var b=rr.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(k){return k.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=Kg(),rr.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(u),b=0;b<u;b++)p[b]=L;return f.index++,p}function $o(u,f){return typeof f=="function"?f(u):f}function Jg(u){var f=In();return Ij(f,Kr,u)}function Ij(u,f,p){var b=u.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=p;var k=u.baseQueue,M=b.pending;if(M!==null){if(k!==null){var V=k.next;k.next=M.next,M.next=V}f.baseQueue=k=M,b.pending=null}if(M=u.baseState,k===null)u.memoizedState=M;else{f=k.next;var J=V=null,me=null,Pe=f,Ue=!1;do{var Qe=Pe.lane&-536870913;if(Qe!==Pe.lane?(mr&Qe)===Qe:(Lo&Qe)===Qe){var Ie=Pe.revertLane;if(Ie===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),Qe===Ad&&(Ue=!0);else if((Lo&Ie)===Ie){Pe=Pe.next,Ie===Ad&&(Ue=!0);continue}else Qe={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},me===null?(J=me=Qe,V=M):me=me.next=Qe,rr.lanes|=Ie,Kl|=Ie;Qe=Pe.action,nu&&p(M,Qe),M=Pe.hasEagerState?Pe.eagerState:p(M,Qe)}else Ie={lane:Qe,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},me===null?(J=me=Ie,V=M):me=me.next=Ie,rr.lanes|=Qe,Kl|=Qe;Pe=Pe.next}while(Pe!==null&&Pe!==f);if(me===null?V=M:me.next=J,!Ns(M,u.memoizedState)&&(qn=!0,Ue&&(p=Od,p!==null)))throw p;u.memoizedState=M,u.baseState=V,u.baseQueue=me,b.lastRenderedState=M}return k===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function Lj(u){var f=In(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var b=p.dispatch,k=p.pending,M=f.memoizedState;if(k!==null){p.pending=null;var V=k=k.next;do M=u(M,V.action),V=V.next;while(V!==k);Ns(M,f.memoizedState)||(qn=!0),f.memoizedState=M,f.baseQueue===null&&(f.baseState=M),p.lastRenderedState=M}return[M,b]}function dP(u,f,p){var b=rr,k=In(),M=yr;if(M){if(p===void 0)throw Error(n(407));p=p()}else p=f();var V=!Ns((Kr||k).memoizedState,p);if(V&&(k.memoizedState=p,qn=!0),k=k.queue,Hj(mP.bind(null,b,k,u),[u]),k.getSnapshot!==f||V||Vn!==null&&Vn.memoizedState.tag&1){if(b.flags|=2048,Ld(9,{destroy:void 0},hP.bind(null,b,k,p,f),null),tn===null)throw Error(n(349));M||(Lo&127)!==0||fP(b,f,p)}return p}function fP(u,f,p){u.flags|=16384,u={getSnapshot:f,value:p},f=rr.updateQueue,f===null?(f=Kg(),rr.updateQueue=f,f.stores=[u]):(p=f.stores,p===null?f.stores=[u]:p.push(u))}function hP(u,f,p,b){f.value=p,f.getSnapshot=b,pP(f)&&gP(u)}function mP(u,f,p){return p(function(){pP(f)&&gP(u)})}function pP(u){var f=u.getSnapshot;u=u.value;try{var p=f();return!Ns(u,p)}catch{return!0}}function gP(u){var f=Yc(u,2);f!==null&&xs(f,u,2)}function $j(u){var f=qa();if(typeof u=="function"){var p=u;if(u=p(),nu){Je(!0);try{p()}finally{Je(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:u},f}function xP(u,f,p,b){return u.baseState=p,Ij(u,Kr,typeof b=="function"?b:$o)}function pZ(u,f,p,b,k){if(ex(u))throw Error(n(485));if(u=f.action,u!==null){var M={payload:k,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){M.listeners.push(V)}};F.T!==null?p(!0):M.isTransition=!1,b(M),p=f.pending,p===null?(M.next=f.pending=M,yP(f,M)):(M.next=p.next,f.pending=p.next=M)}}function yP(u,f){var p=f.action,b=f.payload,k=u.state;if(f.isTransition){var M=F.T,V={};F.T=V;try{var J=p(k,b),me=F.S;me!==null&&me(V,J),bP(u,f,J)}catch(Pe){Fj(u,f,Pe)}finally{M!==null&&V.types!==null&&(M.types=V.types),F.T=M}}else try{M=p(k,b),bP(u,f,M)}catch(Pe){Fj(u,f,Pe)}}function bP(u,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){vP(u,f,b)},function(b){return Fj(u,f,b)}):vP(u,f,p)}function vP(u,f,p){f.status="fulfilled",f.value=p,wP(f),u.state=p,f=u.pending,f!==null&&(p=f.next,p===f?u.pending=null:(p=p.next,f.next=p,yP(u,p)))}function Fj(u,f,p){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=p,wP(f),f=f.next;while(f!==b)}u.action=null}function wP(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function jP(u,f){return f}function SP(u,f){if(yr){var p=tn.formState;if(p!==null){e:{var b=rr;if(yr){if(cn){t:{for(var k=cn,M=Gs;k.nodeType!==8;){if(!M){k=null;break t}if(k=Ks(k.nextSibling),k===null){k=null;break t}}M=k.data,k=M==="F!"||M==="F"?k:null}if(k){cn=Ks(k.nextSibling),b=k.data==="F!";break e}}Hl(b)}b=!1}b&&(f=p[0])}}return p=qa(),p.memoizedState=p.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jP,lastRenderedState:f},p.queue=b,p=zP.bind(null,rr,b),b.dispatch=p,b=$j(!1),M=Uj.bind(null,rr,!1,b.queue),b=qa(),k={state:f,dispatch:null,action:u,pending:null},b.queue=k,p=pZ.bind(null,rr,k,M,p),k.dispatch=p,b.memoizedState=u,[f,p,!1]}function NP(u){var f=In();return kP(f,Kr,u)}function kP(u,f,p){if(f=Ij(u,f,jP)[0],u=Jg($o)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=fm(f)}catch(V){throw V===Ed?Bg:V}else b=f;f=In();var k=f.queue,M=k.dispatch;return p!==f.memoizedState&&(rr.flags|=2048,Ld(9,{destroy:void 0},gZ.bind(null,k,p),null)),[b,M,u]}function gZ(u,f){u.action=f}function CP(u){var f=In(),p=Kr;if(p!==null)return kP(f,p,u);In(),f=f.memoizedState,p=In();var b=p.queue.dispatch;return p.memoizedState=u,[f,b,!1]}function Ld(u,f,p,b){return u={tag:u,create:p,deps:b,inst:f,next:null},f=rr.updateQueue,f===null&&(f=Kg(),rr.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=u.next=u:(b=p.next,p.next=u,u.next=b,f.lastEffect=u),u}function TP(){return In().memoizedState}function Qg(u,f,p,b){var k=qa();rr.flags|=u,k.memoizedState=Ld(1|f,{destroy:void 0},p,b===void 0?null:b)}function Zg(u,f,p,b){var k=In();b=b===void 0?null:b;var M=k.memoizedState.inst;Kr!==null&&b!==null&&Aj(b,Kr.memoizedState.deps)?k.memoizedState=Ld(f,M,p,b):(rr.flags|=u,k.memoizedState=Ld(1|f,M,p,b))}function _P(u,f){Qg(8390656,8,u,f)}function Hj(u,f){Zg(2048,8,u,f)}function xZ(u){rr.flags|=4;var f=rr.updateQueue;if(f===null)f=Kg(),rr.updateQueue=f,f.events=[u];else{var p=f.events;p===null?f.events=[u]:p.push(u)}}function MP(u){var f=In().memoizedState;return xZ({ref:f,nextImpl:u}),function(){if((Pr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function AP(u,f){return Zg(4,2,u,f)}function OP(u,f){return Zg(4,4,u,f)}function EP(u,f){if(typeof f=="function"){u=u();var p=f(u);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function DP(u,f,p){p=p!=null?p.concat([u]):null,Zg(4,4,EP.bind(null,f,u),p)}function Bj(){}function PP(u,f){var p=In();f=f===void 0?null:f;var b=p.memoizedState;return f!==null&&Aj(f,b[1])?b[0]:(p.memoizedState=[u,f],u)}function RP(u,f){var p=In();f=f===void 0?null:f;var b=p.memoizedState;if(f!==null&&Aj(f,b[1]))return b[0];if(b=u(),nu){Je(!0);try{u()}finally{Je(!1)}}return p.memoizedState=[b,f],b}function zj(u,f,p){return p===void 0||(Lo&1073741824)!==0&&(mr&261930)===0?u.memoizedState=f:(u.memoizedState=p,u=I4(),rr.lanes|=u,Kl|=u,p)}function IP(u,f,p,b){return Ns(p,f)?p:Pd.current!==null?(u=zj(u,p,b),Ns(u,f)||(qn=!0),u):(Lo&42)===0||(Lo&1073741824)!==0&&(mr&261930)===0?(qn=!0,u.memoizedState=p):(u=I4(),rr.lanes|=u,Kl|=u,f)}function LP(u,f,p,b,k){var M=P.p;P.p=M!==0&&8>M?M:8;var V=F.T,J={};F.T=J,Uj(u,!1,f,p);try{var me=k(),Pe=F.S;if(Pe!==null&&Pe(J,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ue=fZ(me,b);hm(u,f,Ue,As(u))}else hm(u,f,b,As(u))}catch(Qe){hm(u,f,{then:function(){},status:"rejected",reason:Qe},As())}finally{P.p=M,V!==null&&J.types!==null&&(V.types=J.types),F.T=V}}function yZ(){}function Vj(u,f,p,b){if(u.tag!==5)throw Error(n(476));var k=$P(u).queue;LP(u,k,f,B,p===null?yZ:function(){return FP(u),p(b)})}function $P(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:B},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:p},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function FP(u){var f=$P(u);f.next===null&&(f=u.alternate.memoizedState),hm(u,f.next.queue,{},As())}function qj(){return ja(Am)}function HP(){return In().memoizedState}function BP(){return In().memoizedState}function bZ(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var p=As();u=Vl(p);var b=ql(f,u,p);b!==null&&(xs(b,f,p),lm(b,f,p)),f={cache:bj()},u.payload=f;return}f=f.return}}function vZ(u,f,p){var b=As();p={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ex(u)?VP(f,p):(p=lj(u,f,p,b),p!==null&&(xs(p,u,b),qP(p,f,b)))}function zP(u,f,p){var b=As();hm(u,f,p,b)}function hm(u,f,p,b){var k={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(ex(u))VP(f,k);else{var M=u.alternate;if(u.lanes===0&&(M===null||M.lanes===0)&&(M=f.lastRenderedReducer,M!==null))try{var V=f.lastRenderedState,J=M(V,p);if(k.hasEagerState=!0,k.eagerState=J,Ns(J,V))return Pg(u,f,k,0),tn===null&&Dg(),!1}catch{}finally{}if(p=lj(u,f,k,b),p!==null)return xs(p,u,b),qP(p,f,b),!0}return!1}function Uj(u,f,p,b){if(b={lane:2,revertLane:SS(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},ex(u)){if(f)throw Error(n(479))}else f=lj(u,p,b,2),f!==null&&xs(f,u,2)}function ex(u){var f=u.alternate;return u===rr||f!==null&&f===rr}function VP(u,f){Rd=Gg=!0;var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}function qP(u,f,p){if((p&4194048)!==0){var b=f.lanes;b&=u.pendingLanes,p|=b,f.lanes=p,qe(u,p)}}var mm={readContext:ja,use:Xg,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};mm.useEffectEvent=Nn;var UP={readContext:ja,use:Xg,useCallback:function(u,f){return qa().memoizedState=[u,f===void 0?null:f],u},useContext:ja,useEffect:_P,useImperativeHandle:function(u,f,p){p=p!=null?p.concat([u]):null,Qg(4194308,4,EP.bind(null,f,u),p)},useLayoutEffect:function(u,f){return Qg(4194308,4,u,f)},useInsertionEffect:function(u,f){Qg(4,2,u,f)},useMemo:function(u,f){var p=qa();f=f===void 0?null:f;var b=u();if(nu){Je(!0);try{u()}finally{Je(!1)}}return p.memoizedState=[b,f],b},useReducer:function(u,f,p){var b=qa();if(p!==void 0){var k=p(f);if(nu){Je(!0);try{p(f)}finally{Je(!1)}}}else k=f;return b.memoizedState=b.baseState=k,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:k},b.queue=u,u=u.dispatch=vZ.bind(null,rr,u),[b.memoizedState,u]},useRef:function(u){var f=qa();return u={current:u},f.memoizedState=u},useState:function(u){u=$j(u);var f=u.queue,p=zP.bind(null,rr,f);return f.dispatch=p,[u.memoizedState,p]},useDebugValue:Bj,useDeferredValue:function(u,f){var p=qa();return zj(p,u,f)},useTransition:function(){var u=$j(!1);return u=LP.bind(null,rr,u.queue,!0,!1),qa().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,p){var b=rr,k=qa();if(yr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),tn===null)throw Error(n(349));(mr&127)!==0||fP(b,f,p)}k.memoizedState=p;var M={value:p,getSnapshot:f};return k.queue=M,_P(mP.bind(null,b,M,u),[u]),b.flags|=2048,Ld(9,{destroy:void 0},hP.bind(null,b,M,p,f),null),p},useId:function(){var u=qa(),f=tn.identifierPrefix;if(yr){var p=Ki,b=Yi;p=(b&~(1<<32-ne(b)-1)).toString(32)+p,f="_"+f+"R_"+p,p=Yg++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=hZ++,f="_"+f+"r_"+p.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:qj,useFormState:SP,useActionState:SP,useOptimistic:function(u){var f=qa();f.memoizedState=f.baseState=u;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Uj.bind(null,rr,!0,p),p.dispatch=f,[u,f]},useMemoCache:Rj,useCacheRefresh:function(){return qa().memoizedState=bZ.bind(null,rr)},useEffectEvent:function(u){var f=qa(),p={impl:u};return f.memoizedState=p,function(){if((Pr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Wj={readContext:ja,use:Xg,useCallback:PP,useContext:ja,useEffect:Hj,useImperativeHandle:DP,useInsertionEffect:AP,useLayoutEffect:OP,useMemo:RP,useReducer:Jg,useRef:TP,useState:function(){return Jg($o)},useDebugValue:Bj,useDeferredValue:function(u,f){var p=In();return IP(p,Kr.memoizedState,u,f)},useTransition:function(){var u=Jg($o)[0],f=In().memoizedState;return[typeof u=="boolean"?u:fm(u),f]},useSyncExternalStore:dP,useId:HP,useHostTransitionStatus:qj,useFormState:NP,useActionState:NP,useOptimistic:function(u,f){var p=In();return xP(p,Kr,u,f)},useMemoCache:Rj,useCacheRefresh:BP};Wj.useEffectEvent=MP;var WP={readContext:ja,use:Xg,useCallback:PP,useContext:ja,useEffect:Hj,useImperativeHandle:DP,useInsertionEffect:AP,useLayoutEffect:OP,useMemo:RP,useReducer:Lj,useRef:TP,useState:function(){return Lj($o)},useDebugValue:Bj,useDeferredValue:function(u,f){var p=In();return Kr===null?zj(p,u,f):IP(p,Kr.memoizedState,u,f)},useTransition:function(){var u=Lj($o)[0],f=In().memoizedState;return[typeof u=="boolean"?u:fm(u),f]},useSyncExternalStore:dP,useId:HP,useHostTransitionStatus:qj,useFormState:CP,useActionState:CP,useOptimistic:function(u,f){var p=In();return Kr!==null?xP(p,Kr,u,f):(p.baseState=u,[u,p.queue.dispatch])},useMemoCache:Rj,useCacheRefresh:BP};WP.useEffectEvent=MP;function Gj(u,f,p,b){f=u.memoizedState,p=p(b,f),p=p==null?f:m({},f,p),u.memoizedState=p,u.lanes===0&&(u.updateQueue.baseState=p)}var Yj={enqueueSetState:function(u,f,p){u=u._reactInternals;var b=As(),k=Vl(b);k.payload=f,p!=null&&(k.callback=p),f=ql(u,k,b),f!==null&&(xs(f,u,b),lm(f,u,b))},enqueueReplaceState:function(u,f,p){u=u._reactInternals;var b=As(),k=Vl(b);k.tag=1,k.payload=f,p!=null&&(k.callback=p),f=ql(u,k,b),f!==null&&(xs(f,u,b),lm(f,u,b))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var p=As(),b=Vl(p);b.tag=2,f!=null&&(b.callback=f),f=ql(u,b,p),f!==null&&(xs(f,u,p),lm(f,u,p))}};function GP(u,f,p,b,k,M,V){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,M,V):f.prototype&&f.prototype.isPureReactComponent?!em(p,b)||!em(k,M):!0}function YP(u,f,p,b){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,b),f.state!==u&&Yj.enqueueReplaceState(f,f.state,null)}function au(u,f){var p=f;if("ref"in f){p={};for(var b in f)b!=="ref"&&(p[b]=f[b])}if(u=u.defaultProps){p===f&&(p=m({},p));for(var k in u)p[k]===void 0&&(p[k]=u[k])}return p}function KP(u){Eg(u)}function XP(u){console.error(u)}function JP(u){Eg(u)}function tx(u,f){try{var p=u.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function QP(u,f,p){try{var b=u.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Kj(u,f,p){return p=Vl(p),p.tag=3,p.payload={element:null},p.callback=function(){tx(u,f)},p}function ZP(u){return u=Vl(u),u.tag=3,u}function e4(u,f,p,b){var k=p.type.getDerivedStateFromError;if(typeof k=="function"){var M=b.value;u.payload=function(){return k(M)},u.callback=function(){QP(f,p,b)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(u.callback=function(){QP(f,p,b),typeof k!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var J=b.stack;this.componentDidCatch(b.value,{componentStack:J!==null?J:""})})}function wZ(u,f,p,b,k){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=p.alternate,f!==null&&Md(f,p,k,!0),p=Cs.current,p!==null){switch(p.tag){case 31:case 13:return Ys===null?hx():p.alternate===null&&kn===0&&(kn=3),p.flags&=-257,p.flags|=65536,p.lanes=k,b===zg?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([b]):f.add(b),vS(u,b,k)),!1;case 22:return p.flags|=65536,b===zg?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([b]):p.add(b)),vS(u,b,k)),!1}throw Error(n(435,p.tag))}return vS(u,b,k),hx(),!1}if(yr)return f=Cs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=k,b!==mj&&(u=Error(n(422),{cause:b}),nm(qs(u,p)))):(b!==mj&&(f=Error(n(423),{cause:b}),nm(qs(f,p))),u=u.current.alternate,u.flags|=65536,k&=-k,u.lanes|=k,b=qs(b,p),k=Kj(u.stateNode,b,k),kj(u,k),kn!==4&&(kn=2)),!1;var M=Error(n(520),{cause:b});if(M=qs(M,p),jm===null?jm=[M]:jm.push(M),kn!==4&&(kn=2),f===null)return!0;b=qs(b,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,u=k&-k,p.lanes|=u,u=Kj(p.stateNode,b,u),kj(p,u),!1;case 1:if(f=p.type,M=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Xl===null||!Xl.has(M))))return p.flags|=65536,k&=-k,p.lanes|=k,k=ZP(k),e4(k,u,p,b),kj(p,k),!1}p=p.return}while(p!==null);return!1}var Xj=Error(n(461)),qn=!1;function Sa(u,f,p,b){f.child=u===null?aP(f,null,p,b):ru(f,u.child,p,b)}function t4(u,f,p,b,k){p=p.render;var M=f.ref;if("ref"in b){var V={};for(var J in b)J!=="ref"&&(V[J]=b[J])}else V=b;return Qc(f),b=Oj(u,f,p,V,M,k),J=Ej(),u!==null&&!qn?(Dj(u,f,k),Fo(u,f,k)):(yr&&J&&fj(f),f.flags|=1,Sa(u,f,b,k),f.child)}function r4(u,f,p,b,k){if(u===null){var M=p.type;return typeof M=="function"&&!cj(M)&&M.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=M,n4(u,f,M,b,k)):(u=Ig(p.type,null,b,f,f.mode,k),u.ref=f.ref,u.return=f,f.child=u)}if(M=u.child,!aS(u,k)){var V=M.memoizedProps;if(p=p.compare,p=p!==null?p:em,p(V,b)&&u.ref===f.ref)return Fo(u,f,k)}return f.flags|=1,u=Do(M,b),u.ref=f.ref,u.return=f,f.child=u}function n4(u,f,p,b,k){if(u!==null){var M=u.memoizedProps;if(em(M,b)&&u.ref===f.ref)if(qn=!1,f.pendingProps=b=M,aS(u,k))(u.flags&131072)!==0&&(qn=!0);else return f.lanes=u.lanes,Fo(u,f,k)}return Jj(u,f,p,b,k)}function a4(u,f,p,b){var k=b.children,M=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(M=M!==null?M.baseLanes|p:p,u!==null){for(b=f.child=u.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~M}else b=0,f.child=null;return s4(u,f,M,p,b)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Hg(f,M!==null?M.cachePool:null),M!==null?oP(f,M):Tj(),lP(f);else return b=f.lanes=536870912,s4(u,f,M!==null?M.baseLanes|p:p,p,b)}else M!==null?(Hg(f,M.cachePool),oP(f,M),Wl(),f.memoizedState=null):(u!==null&&Hg(f,null),Tj(),Wl());return Sa(u,f,k,p),f.child}function pm(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function s4(u,f,p,b,k){var M=wj();return M=M===null?null:{parent:zn._currentValue,pool:M},f.memoizedState={baseLanes:p,cachePool:M},u!==null&&Hg(f,null),Tj(),lP(f),u!==null&&Md(u,f,b,!0),f.childLanes=k,null}function rx(u,f){return f=ax({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function i4(u,f,p){return ru(f,u.child,null,p),u=rx(f,f.pendingProps),u.flags|=2,Ts(f),f.memoizedState=null,u}function jZ(u,f,p){var b=f.pendingProps,k=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(yr){if(b.mode==="hidden")return u=rx(f,b),f.lanes=536870912,pm(null,u);if(Mj(f),(u=cn)?(u=y3(u,Gs),u=u!==null&&u.data==="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:$l!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},p=VD(u),p.return=f,f.child=p,wa=f,cn=null)):u=null,u===null)throw Hl(f);return f.lanes=536870912,null}return rx(f,b)}var M=u.memoizedState;if(M!==null){var V=M.dehydrated;if(Mj(f),k)if(f.flags&256)f.flags&=-257,f=i4(u,f,p);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(n(558));else if(qn||Md(u,f,p,!1),k=(p&u.childLanes)!==0,qn||k){if(b=tn,b!==null&&(V=Ce(b,p),V!==0&&V!==M.retryLane))throw M.retryLane=V,Yc(u,V),xs(b,u,V),Xj;hx(),f=i4(u,f,p)}else u=M.treeContext,cn=Ks(V.nextSibling),wa=f,yr=!0,Fl=null,Gs=!1,u!==null&&WD(f,u),f=rx(f,b),f.flags|=4096;return f}return u=Do(u.child,{mode:b.mode,children:b.children}),u.ref=f.ref,f.child=u,u.return=f,u}function nx(u,f){var p=f.ref;if(p===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(u===null||u.ref!==p)&&(f.flags|=4194816)}}function Jj(u,f,p,b,k){return Qc(f),p=Oj(u,f,p,b,void 0,k),b=Ej(),u!==null&&!qn?(Dj(u,f,k),Fo(u,f,k)):(yr&&b&&fj(f),f.flags|=1,Sa(u,f,p,k),f.child)}function o4(u,f,p,b,k,M){return Qc(f),f.updateQueue=null,p=uP(f,b,p,k),cP(u),b=Ej(),u!==null&&!qn?(Dj(u,f,M),Fo(u,f,M)):(yr&&b&&fj(f),f.flags|=1,Sa(u,f,p,M),f.child)}function l4(u,f,p,b,k){if(Qc(f),f.stateNode===null){var M=kd,V=p.contextType;typeof V=="object"&&V!==null&&(M=ja(V)),M=new p(b,M),f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Yj,f.stateNode=M,M._reactInternals=f,M=f.stateNode,M.props=b,M.state=f.memoizedState,M.refs={},Sj(f),V=p.contextType,M.context=typeof V=="object"&&V!==null?ja(V):kd,M.state=f.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(Gj(f,p,V,b),M.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(V=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),V!==M.state&&Yj.enqueueReplaceState(M,M.state,null),um(f,b,M,k),cm(),M.state=f.memoizedState),typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(u===null){M=f.stateNode;var J=f.memoizedProps,me=au(p,J);M.props=me;var Pe=M.context,Ue=p.contextType;V=kd,typeof Ue=="object"&&Ue!==null&&(V=ja(Ue));var Qe=p.getDerivedStateFromProps;Ue=typeof Qe=="function"||typeof M.getSnapshotBeforeUpdate=="function",J=f.pendingProps!==J,Ue||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(J||Pe!==V)&&YP(f,M,b,V),zl=!1;var Ie=f.memoizedState;M.state=Ie,um(f,b,M,k),cm(),Pe=f.memoizedState,J||Ie!==Pe||zl?(typeof Qe=="function"&&(Gj(f,p,Qe,b),Pe=f.memoizedState),(me=zl||GP(f,p,me,b,Ie,Pe,V))?(Ue||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(f.flags|=4194308)):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Pe),M.props=b,M.state=Pe,M.context=V,b=me):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{M=f.stateNode,Nj(u,f),V=f.memoizedProps,Ue=au(p,V),M.props=Ue,Qe=f.pendingProps,Ie=M.context,Pe=p.contextType,me=kd,typeof Pe=="object"&&Pe!==null&&(me=ja(Pe)),J=p.getDerivedStateFromProps,(Pe=typeof J=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==Qe||Ie!==me)&&YP(f,M,b,me),zl=!1,Ie=f.memoizedState,M.state=Ie,um(f,b,M,k),cm();var He=f.memoizedState;V!==Qe||Ie!==He||zl||u!==null&&u.dependencies!==null&&$g(u.dependencies)?(typeof J=="function"&&(Gj(f,p,J,b),He=f.memoizedState),(Ue=zl||GP(f,p,Ue,b,Ie,He,me)||u!==null&&u.dependencies!==null&&$g(u.dependencies))?(Pe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,He,me),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,He,me)),typeof M.componentDidUpdate=="function"&&(f.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof M.componentDidUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=He),M.props=b,M.state=He,M.context=me,b=Ue):(typeof M.componentDidUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===u.memoizedProps&&Ie===u.memoizedState||(f.flags|=1024),b=!1)}return M=b,nx(u,f),b=(f.flags&128)!==0,M||b?(M=f.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:M.render(),f.flags|=1,u!==null&&b?(f.child=ru(f,u.child,null,k),f.child=ru(f,null,p,k)):Sa(u,f,p,k),f.memoizedState=M.state,u=f.child):u=Fo(u,f,k),u}function c4(u,f,p,b){return Xc(),f.flags|=256,Sa(u,f,p,b),f.child}var Qj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zj(u){return{baseLanes:u,cachePool:QD()}}function eS(u,f,p){return u=u!==null?u.childLanes&~p:0,f&&(u|=Ms),u}function u4(u,f,p){var b=f.pendingProps,k=!1,M=(f.flags&128)!==0,V;if((V=M)||(V=u!==null&&u.memoizedState===null?!1:(Rn.current&2)!==0),V&&(k=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,u===null){if(yr){if(k?Ul(f):Wl(),(u=cn)?(u=y3(u,Gs),u=u!==null&&u.data!=="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:$l!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},p=VD(u),p.return=f,f.child=p,wa=f,cn=null)):u=null,u===null)throw Hl(f);return IS(u)?f.lanes=32:f.lanes=536870912,null}var J=b.children;return b=b.fallback,k?(Wl(),k=f.mode,J=ax({mode:"hidden",children:J},k),b=Kc(b,k,p,null),J.return=f,b.return=f,J.sibling=b,f.child=J,b=f.child,b.memoizedState=Zj(p),b.childLanes=eS(u,V,p),f.memoizedState=Qj,pm(null,b)):(Ul(f),tS(f,J))}var me=u.memoizedState;if(me!==null&&(J=me.dehydrated,J!==null)){if(M)f.flags&256?(Ul(f),f.flags&=-257,f=rS(u,f,p)):f.memoizedState!==null?(Wl(),f.child=u.child,f.flags|=128,f=null):(Wl(),J=b.fallback,k=f.mode,b=ax({mode:"visible",children:b.children},k),J=Kc(J,k,p,null),J.flags|=2,b.return=f,J.return=f,b.sibling=J,f.child=b,ru(f,u.child,null,p),b=f.child,b.memoizedState=Zj(p),b.childLanes=eS(u,V,p),f.memoizedState=Qj,f=pm(null,b));else if(Ul(f),IS(J)){if(V=J.nextSibling&&J.nextSibling.dataset,V)var Pe=V.dgst;V=Pe,b=Error(n(419)),b.stack="",b.digest=V,nm({value:b,source:null,stack:null}),f=rS(u,f,p)}else if(qn||Md(u,f,p,!1),V=(p&u.childLanes)!==0,qn||V){if(V=tn,V!==null&&(b=Ce(V,p),b!==0&&b!==me.retryLane))throw me.retryLane=b,Yc(u,b),xs(V,u,b),Xj;RS(J)||hx(),f=rS(u,f,p)}else RS(J)?(f.flags|=192,f.child=u.child,f=null):(u=me.treeContext,cn=Ks(J.nextSibling),wa=f,yr=!0,Fl=null,Gs=!1,u!==null&&WD(f,u),f=tS(f,b.children),f.flags|=4096);return f}return k?(Wl(),J=b.fallback,k=f.mode,me=u.child,Pe=me.sibling,b=Do(me,{mode:"hidden",children:b.children}),b.subtreeFlags=me.subtreeFlags&65011712,Pe!==null?J=Do(Pe,J):(J=Kc(J,k,p,null),J.flags|=2),J.return=f,b.return=f,b.sibling=J,f.child=b,pm(null,b),b=f.child,J=u.child.memoizedState,J===null?J=Zj(p):(k=J.cachePool,k!==null?(me=zn._currentValue,k=k.parent!==me?{parent:me,pool:me}:k):k=QD(),J={baseLanes:J.baseLanes|p,cachePool:k}),b.memoizedState=J,b.childLanes=eS(u,V,p),f.memoizedState=Qj,pm(u.child,b)):(Ul(f),p=u.child,u=p.sibling,p=Do(p,{mode:"visible",children:b.children}),p.return=f,p.sibling=null,u!==null&&(V=f.deletions,V===null?(f.deletions=[u],f.flags|=16):V.push(u)),f.child=p,f.memoizedState=null,p)}function tS(u,f){return f=ax({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function ax(u,f){return u=ks(22,u,null,f),u.lanes=0,u}function rS(u,f,p){return ru(f,u.child,null,p),u=tS(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function d4(u,f,p){u.lanes|=f;var b=u.alternate;b!==null&&(b.lanes|=f),xj(u.return,f,p)}function nS(u,f,p,b,k,M){var V=u.memoizedState;V===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:k,treeForkCount:M}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=p,V.tailMode=k,V.treeForkCount=M)}function f4(u,f,p){var b=f.pendingProps,k=b.revealOrder,M=b.tail;b=b.children;var V=Rn.current,J=(V&2)!==0;if(J?(V=V&1|2,f.flags|=128):V&=1,ie(Rn,V),Sa(u,f,b,p),b=yr?rm:0,!J&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&d4(u,p,f);else if(u.tag===19)d4(u,p,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(k){case"forwards":for(p=f.child,k=null;p!==null;)u=p.alternate,u!==null&&Wg(u)===null&&(k=p),p=p.sibling;p=k,p===null?(k=f.child,f.child=null):(k=p.sibling,p.sibling=null),nS(f,!1,k,p,M,b);break;case"backwards":case"unstable_legacy-backwards":for(p=null,k=f.child,f.child=null;k!==null;){if(u=k.alternate,u!==null&&Wg(u)===null){f.child=k;break}u=k.sibling,k.sibling=p,p=k,k=u}nS(f,!0,p,null,M,b);break;case"together":nS(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function Fo(u,f,p){if(u!==null&&(f.dependencies=u.dependencies),Kl|=f.lanes,(p&f.childLanes)===0)if(u!==null){if(Md(u,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,p=Do(u,u.pendingProps),f.child=p,p.return=f;u.sibling!==null;)u=u.sibling,p=p.sibling=Do(u,u.pendingProps),p.return=f;p.sibling=null}return f.child}function aS(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&$g(u)))}function SZ(u,f,p){switch(f.tag){case 3:Oe(f,f.stateNode.containerInfo),Bl(f,zn,u.memoizedState.cache),Xc();break;case 27:case 5:Ae(f);break;case 4:Oe(f,f.stateNode.containerInfo);break;case 10:Bl(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Mj(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Ul(f),f.flags|=128,null):(p&f.child.childLanes)!==0?u4(u,f,p):(Ul(f),u=Fo(u,f,p),u!==null?u.sibling:null);Ul(f);break;case 19:var k=(u.flags&128)!==0;if(b=(p&f.childLanes)!==0,b||(Md(u,f,p,!1),b=(p&f.childLanes)!==0),k){if(b)return f4(u,f,p);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),ie(Rn,Rn.current),b)break;return null;case 22:return f.lanes=0,a4(u,f,p,f.pendingProps);case 24:Bl(f,zn,u.memoizedState.cache)}return Fo(u,f,p)}function h4(u,f,p){if(u!==null)if(u.memoizedProps!==f.pendingProps)qn=!0;else{if(!aS(u,p)&&(f.flags&128)===0)return qn=!1,SZ(u,f,p);qn=(u.flags&131072)!==0}else qn=!1,yr&&(f.flags&1048576)!==0&&UD(f,rm,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(u=eu(f.elementType),f.type=u,typeof u=="function")cj(u)?(b=au(u,b),f.tag=1,f=l4(null,f,u,b,p)):(f.tag=0,f=Jj(null,f,u,b,p));else{if(u!=null){var k=u.$$typeof;if(k===E){f.tag=11,f=t4(null,f,u,b,p);break e}else if(k===O){f.tag=14,f=r4(null,f,u,b,p);break e}}throw f=G(u)||u,Error(n(306,f,""))}}return f;case 0:return Jj(u,f,f.type,f.pendingProps,p);case 1:return b=f.type,k=au(b,f.pendingProps),l4(u,f,b,k,p);case 3:e:{if(Oe(f,f.stateNode.containerInfo),u===null)throw Error(n(387));b=f.pendingProps;var M=f.memoizedState;k=M.element,Nj(u,f),um(f,b,null,p);var V=f.memoizedState;if(b=V.cache,Bl(f,zn,b),b!==M.cache&&yj(f,[zn],p,!0),cm(),b=V.element,M.isDehydrated)if(M={element:b,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=c4(u,f,b,p);break e}else if(b!==k){k=qs(Error(n(424)),f),nm(k),f=c4(u,f,b,p);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(cn=Ks(u.firstChild),wa=f,yr=!0,Fl=null,Gs=!0,p=aP(f,null,b,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Xc(),b===k){f=Fo(u,f,p);break e}Sa(u,f,b,p)}f=f.child}return f;case 26:return nx(u,f),u===null?(p=N3(f.type,null,f.pendingProps,null))?f.memoizedState=p:yr||(p=f.type,u=f.pendingProps,b=vx(ge.current).createElement(p),b[vt]=f,b[jr]=u,Na(b,p,u),cr(b),f.stateNode=b):f.memoizedState=N3(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Ae(f),u===null&&yr&&(b=f.stateNode=w3(f.type,f.pendingProps,ge.current),wa=f,Gs=!0,k=cn,ec(f.type)?(LS=k,cn=Ks(b.firstChild)):cn=k),Sa(u,f,f.pendingProps.children,p),nx(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&yr&&((k=b=cn)&&(b=ZZ(b,f.type,f.pendingProps,Gs),b!==null?(f.stateNode=b,wa=f,cn=Ks(b.firstChild),Gs=!1,k=!0):k=!1),k||Hl(f)),Ae(f),k=f.type,M=f.pendingProps,V=u!==null?u.memoizedProps:null,b=M.children,ES(k,M)?b=null:V!==null&&ES(k,V)&&(f.flags|=32),f.memoizedState!==null&&(k=Oj(u,f,mZ,null,null,p),Am._currentValue=k),nx(u,f),Sa(u,f,b,p),f.child;case 6:return u===null&&yr&&((u=p=cn)&&(p=eee(p,f.pendingProps,Gs),p!==null?(f.stateNode=p,wa=f,cn=null,u=!0):u=!1),u||Hl(f)),null;case 13:return u4(u,f,p);case 4:return Oe(f,f.stateNode.containerInfo),b=f.pendingProps,u===null?f.child=ru(f,null,b,p):Sa(u,f,b,p),f.child;case 11:return t4(u,f,f.type,f.pendingProps,p);case 7:return Sa(u,f,f.pendingProps,p),f.child;case 8:return Sa(u,f,f.pendingProps.children,p),f.child;case 12:return Sa(u,f,f.pendingProps.children,p),f.child;case 10:return b=f.pendingProps,Bl(f,f.type,b.value),Sa(u,f,b.children,p),f.child;case 9:return k=f.type._context,b=f.pendingProps.children,Qc(f),k=ja(k),b=b(k),f.flags|=1,Sa(u,f,b,p),f.child;case 14:return r4(u,f,f.type,f.pendingProps,p);case 15:return n4(u,f,f.type,f.pendingProps,p);case 19:return f4(u,f,p);case 31:return jZ(u,f,p);case 22:return a4(u,f,p,f.pendingProps);case 24:return Qc(f),b=ja(zn),u===null?(k=wj(),k===null&&(k=tn,M=bj(),k.pooledCache=M,M.refCount++,M!==null&&(k.pooledCacheLanes|=p),k=M),f.memoizedState={parent:b,cache:k},Sj(f),Bl(f,zn,k)):((u.lanes&p)!==0&&(Nj(u,f),um(f,null,null,p),cm()),k=u.memoizedState,M=f.memoizedState,k.parent!==b?(k={parent:b,cache:b},f.memoizedState=k,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=k),Bl(f,zn,b)):(b=M.cache,Bl(f,zn,b),b!==k.cache&&yj(f,[zn],p,!0))),Sa(u,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function Ho(u){u.flags|=4}function sS(u,f,p,b,k){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(k&335544128)===k)if(u.stateNode.complete)u.flags|=8192;else if(H4())u.flags|=8192;else throw tu=zg,jj}else u.flags&=-16777217}function m4(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!M3(f))if(H4())u.flags|=8192;else throw tu=zg,jj}function sx(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?he():536870912,u.lanes|=f,Bd|=f)}function gm(u,f){if(!yr)switch(u.tailMode){case"hidden":f=u.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?u.tail=null:p.sibling=null;break;case"collapsed":p=u.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function un(u){var f=u.alternate!==null&&u.alternate.child===u.child,p=0,b=0;if(f)for(var k=u.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=b,u.childLanes=p,f}function NZ(u,f,p){var b=f.pendingProps;switch(hj(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(f),null;case 1:return un(f),null;case 3:return p=f.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Io(zn),xe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(u===null||u.child===null)&&(_d(f)?Ho(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,pj())),un(f),null;case 26:var k=f.type,M=f.memoizedState;return u===null?(Ho(f),M!==null?(un(f),m4(f,M)):(un(f),sS(f,k,null,b,p))):M?M!==u.memoizedState?(Ho(f),un(f),m4(f,M)):(un(f),f.flags&=-16777217):(u=u.memoizedProps,u!==b&&Ho(f),un(f),sS(f,k,u,b,p)),null;case 27:if(Ve(f),p=ge.current,k=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Ho(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return un(f),null}u=le.current,_d(f)?GD(f):(u=w3(k,b,p),f.stateNode=u,Ho(f))}return un(f),null;case 5:if(Ve(f),k=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Ho(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return un(f),null}if(M=le.current,_d(f))GD(f);else{var V=vx(ge.current);switch(M){case 1:M=V.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:M=V.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":M=V.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":M=V.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":M=V.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof b.is=="string"?V.createElement("select",{is:b.is}):V.createElement("select"),b.multiple?M.multiple=!0:b.size&&(M.size=b.size);break;default:M=typeof b.is=="string"?V.createElement(k,{is:b.is}):V.createElement(k)}}M[vt]=f,M[jr]=b;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)M.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=M;e:switch(Na(M,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Ho(f)}}return un(f),sS(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,p),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==b&&Ho(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(n(166));if(u=ge.current,_d(f)){if(u=f.stateNode,p=f.memoizedProps,b=null,k=wa,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}u[vt]=f,u=!!(u.nodeValue===p||b!==null&&b.suppressHydrationWarning===!0||u3(u.nodeValue,p)),u||Hl(f,!0)}else u=vx(u).createTextNode(b),u[vt]=f,f.stateNode=u}return un(f),null;case 31:if(p=f.memoizedState,u===null||u.memoizedState!==null){if(b=_d(f),p!==null){if(u===null){if(!b)throw Error(n(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(557));u[vt]=f}else Xc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;un(f),u=!1}else p=pj(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=p),u=!0;if(!u)return f.flags&256?(Ts(f),f):(Ts(f),null);if((f.flags&128)!==0)throw Error(n(558))}return un(f),null;case 13:if(b=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(k=_d(f),b!==null&&b.dehydrated!==null){if(u===null){if(!k)throw Error(n(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[vt]=f}else Xc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;un(f),k=!1}else k=pj(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=k),k=!0;if(!k)return f.flags&256?(Ts(f),f):(Ts(f),null)}return Ts(f),(f.flags&128)!==0?(f.lanes=p,f):(p=b!==null,u=u!==null&&u.memoizedState!==null,p&&(b=f.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),M=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==k&&(b.flags|=2048)),p!==u&&p&&(f.child.flags|=8192),sx(f,f.updateQueue),un(f),null);case 4:return xe(),u===null&&TS(f.stateNode.containerInfo),un(f),null;case 10:return Io(f.type),un(f),null;case 19:if(Q(Rn),b=f.memoizedState,b===null)return un(f),null;if(k=(f.flags&128)!==0,M=b.rendering,M===null)if(k)gm(b,!1);else{if(kn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(M=Wg(u),M!==null){for(f.flags|=128,gm(b,!1),u=M.updateQueue,f.updateQueue=u,sx(f,u),f.subtreeFlags=0,u=p,p=f.child;p!==null;)zD(p,u),p=p.sibling;return ie(Rn,Rn.current&1|2),yr&&Po(f,b.treeForkCount),f.child}u=u.sibling}b.tail!==null&&ht()>ux&&(f.flags|=128,k=!0,gm(b,!1),f.lanes=4194304)}else{if(!k)if(u=Wg(M),u!==null){if(f.flags|=128,k=!0,u=u.updateQueue,f.updateQueue=u,sx(f,u),gm(b,!0),b.tail===null&&b.tailMode==="hidden"&&!M.alternate&&!yr)return un(f),null}else 2*ht()-b.renderingStartTime>ux&&p!==536870912&&(f.flags|=128,k=!0,gm(b,!1),f.lanes=4194304);b.isBackwards?(M.sibling=f.child,f.child=M):(u=b.last,u!==null?u.sibling=M:f.child=M,b.last=M)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=ht(),u.sibling=null,p=Rn.current,ie(Rn,k?p&1|2:p&1),yr&&Po(f,b.treeForkCount),u):(un(f),null);case 22:case 23:return Ts(f),_j(),b=f.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(p&536870912)!==0&&(f.flags&128)===0&&(un(f),f.subtreeFlags&6&&(f.flags|=8192)):un(f),p=f.updateQueue,p!==null&&sx(f,p.retryQueue),p=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==p&&(f.flags|=2048),u!==null&&Q(Zc),null;case 24:return p=null,u!==null&&(p=u.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),Io(zn),un(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function kZ(u,f){switch(hj(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Io(zn),xe(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Ve(f),null;case 31:if(f.memoizedState!==null){if(Ts(f),f.alternate===null)throw Error(n(340));Xc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(Ts(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Xc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Q(Rn),null;case 4:return xe(),null;case 10:return Io(f.type),null;case 22:case 23:return Ts(f),_j(),u!==null&&Q(Zc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Io(zn),null;case 25:return null;default:return null}}function p4(u,f){switch(hj(f),f.tag){case 3:Io(zn),xe();break;case 26:case 27:case 5:Ve(f);break;case 4:xe();break;case 31:f.memoizedState!==null&&Ts(f);break;case 13:Ts(f);break;case 19:Q(Rn);break;case 10:Io(f.type);break;case 22:case 23:Ts(f),_j(),u!==null&&Q(Zc);break;case 24:Io(zn)}}function xm(u,f){try{var p=f.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var k=b.next;p=k;do{if((p.tag&u)===u){b=void 0;var M=p.create,V=p.inst;b=M(),V.destroy=b}p=p.next}while(p!==k)}}catch(J){Ur(f,f.return,J)}}function Gl(u,f,p){try{var b=f.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var M=k.next;b=M;do{if((b.tag&u)===u){var V=b.inst,J=V.destroy;if(J!==void 0){V.destroy=void 0,k=f;var me=p,Pe=J;try{Pe()}catch(Ue){Ur(k,me,Ue)}}}b=b.next}while(b!==M)}}catch(Ue){Ur(f,f.return,Ue)}}function g4(u){var f=u.updateQueue;if(f!==null){var p=u.stateNode;try{iP(f,p)}catch(b){Ur(u,u.return,b)}}}function x4(u,f,p){p.props=au(u.type,u.memoizedProps),p.state=u.memoizedState;try{p.componentWillUnmount()}catch(b){Ur(u,f,b)}}function ym(u,f){try{var p=u.ref;if(p!==null){switch(u.tag){case 26:case 27:case 5:var b=u.stateNode;break;case 30:b=u.stateNode;break;default:b=u.stateNode}typeof p=="function"?u.refCleanup=p(b):p.current=b}}catch(k){Ur(u,f,k)}}function Xi(u,f){var p=u.ref,b=u.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(k){Ur(u,f,k)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(k){Ur(u,f,k)}else p.current=null}function y4(u){var f=u.type,p=u.memoizedProps,b=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&b.focus();break e;case"img":p.src?b.src=p.src:p.srcSet&&(b.srcset=p.srcSet)}}catch(k){Ur(u,u.return,k)}}function iS(u,f,p){try{var b=u.stateNode;GZ(b,u.type,p,f),b[jr]=f}catch(k){Ur(u,u.return,k)}}function b4(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&ec(u.type)||u.tag===4}function oS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||b4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&ec(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function lS(u,f,p){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(u,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(u),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=Oo));else if(b!==4&&(b===27&&ec(u.type)&&(p=u.stateNode,f=null),u=u.child,u!==null))for(lS(u,f,p),u=u.sibling;u!==null;)lS(u,f,p),u=u.sibling}function ix(u,f,p){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?p.insertBefore(u,f):p.appendChild(u);else if(b!==4&&(b===27&&ec(u.type)&&(p=u.stateNode),u=u.child,u!==null))for(ix(u,f,p),u=u.sibling;u!==null;)ix(u,f,p),u=u.sibling}function v4(u){var f=u.stateNode,p=u.memoizedProps;try{for(var b=u.type,k=f.attributes;k.length;)f.removeAttributeNode(k[0]);Na(f,b,p),f[vt]=u,f[jr]=p}catch(M){Ur(u,u.return,M)}}var Bo=!1,Un=!1,cS=!1,w4=typeof WeakSet=="function"?WeakSet:Set,ca=null;function CZ(u,f){if(u=u.containerInfo,AS=Tx,u=DD(u),rj(u)){if("selectionStart"in u)var p={start:u.selectionStart,end:u.selectionEnd};else e:{p=(p=u.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var k=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var V=0,J=-1,me=-1,Pe=0,Ue=0,Qe=u,Ie=null;t:for(;;){for(var He;Qe!==p||k!==0&&Qe.nodeType!==3||(J=V+k),Qe!==M||b!==0&&Qe.nodeType!==3||(me=V+b),Qe.nodeType===3&&(V+=Qe.nodeValue.length),(He=Qe.firstChild)!==null;)Ie=Qe,Qe=He;for(;;){if(Qe===u)break t;if(Ie===p&&++Pe===k&&(J=V),Ie===M&&++Ue===b&&(me=V),(He=Qe.nextSibling)!==null)break;Qe=Ie,Ie=Qe.parentNode}Qe=He}p=J===-1||me===-1?null:{start:J,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(OS={focusedElem:u,selectionRange:p},Tx=!1,ca=f;ca!==null;)if(f=ca,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,ca=u;else for(;ca!==null;){switch(f=ca,M=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(p=0;p<u.length;p++)k=u[p],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&M!==null){u=void 0,p=f,k=M.memoizedProps,M=M.memoizedState,b=p.stateNode;try{var Et=au(p.type,k);u=b.getSnapshotBeforeUpdate(Et,M),b.__reactInternalSnapshotBeforeUpdate=u}catch(Gt){Ur(p,p.return,Gt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,p=u.nodeType,p===9)PS(u);else if(p===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":PS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=f.sibling,u!==null){u.return=f.return,ca=u;break}ca=f.return}}function j4(u,f,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Vo(u,p),b&4&&xm(5,p);break;case 1:if(Vo(u,p),b&4)if(u=p.stateNode,f===null)try{u.componentDidMount()}catch(V){Ur(p,p.return,V)}else{var k=au(p.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(k,f,u.__reactInternalSnapshotBeforeUpdate)}catch(V){Ur(p,p.return,V)}}b&64&&g4(p),b&512&&ym(p,p.return);break;case 3:if(Vo(u,p),b&64&&(u=p.updateQueue,u!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{iP(u,f)}catch(V){Ur(p,p.return,V)}}break;case 27:f===null&&b&4&&v4(p);case 26:case 5:Vo(u,p),f===null&&b&4&&y4(p),b&512&&ym(p,p.return);break;case 12:Vo(u,p);break;case 31:Vo(u,p),b&4&&k4(u,p);break;case 13:Vo(u,p),b&4&&C4(u,p),b&64&&(u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(p=RZ.bind(null,p),tee(u,p))));break;case 22:if(b=p.memoizedState!==null||Bo,!b){f=f!==null&&f.memoizedState!==null||Un,k=Bo;var M=Un;Bo=b,(Un=f)&&!M?qo(u,p,(p.subtreeFlags&8772)!==0):Vo(u,p),Bo=k,Un=M}break;case 30:break;default:Vo(u,p)}}function S4(u){var f=u.alternate;f!==null&&(u.alternate=null,S4(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Ze(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var pn=null,hs=!1;function zo(u,f,p){for(p=p.child;p!==null;)N4(u,f,p),p=p.sibling}function N4(u,f,p){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(we,p)}catch{}switch(p.tag){case 26:Un||Xi(p,f),zo(u,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Un||Xi(p,f);var b=pn,k=hs;ec(p.type)&&(pn=p.stateNode,hs=!1),zo(u,f,p),Tm(p.stateNode),pn=b,hs=k;break;case 5:Un||Xi(p,f);case 6:if(b=pn,k=hs,pn=null,zo(u,f,p),pn=b,hs=k,pn!==null)if(hs)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(p.stateNode)}catch(M){Ur(p,f,M)}else try{pn.removeChild(p.stateNode)}catch(M){Ur(p,f,M)}break;case 18:pn!==null&&(hs?(u=pn,g3(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,p.stateNode),Kd(u)):g3(pn,p.stateNode));break;case 4:b=pn,k=hs,pn=p.stateNode.containerInfo,hs=!0,zo(u,f,p),pn=b,hs=k;break;case 0:case 11:case 14:case 15:Gl(2,p,f),Un||Gl(4,p,f),zo(u,f,p);break;case 1:Un||(Xi(p,f),b=p.stateNode,typeof b.componentWillUnmount=="function"&&x4(p,f,b)),zo(u,f,p);break;case 21:zo(u,f,p);break;case 22:Un=(b=Un)||p.memoizedState!==null,zo(u,f,p),Un=b;break;default:zo(u,f,p)}}function k4(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Kd(u)}catch(p){Ur(f,f.return,p)}}}function C4(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Kd(u)}catch(p){Ur(f,f.return,p)}}function TZ(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new w4),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new w4),f;default:throw Error(n(435,u.tag))}}function ox(u,f){var p=TZ(u);f.forEach(function(b){if(!p.has(b)){p.add(b);var k=IZ.bind(null,u,b);b.then(k,k)}})}function ms(u,f){var p=f.deletions;if(p!==null)for(var b=0;b<p.length;b++){var k=p[b],M=u,V=f,J=V;e:for(;J!==null;){switch(J.tag){case 27:if(ec(J.type)){pn=J.stateNode,hs=!1;break e}break;case 5:pn=J.stateNode,hs=!1;break e;case 3:case 4:pn=J.stateNode.containerInfo,hs=!0;break e}J=J.return}if(pn===null)throw Error(n(160));N4(M,V,k),pn=null,hs=!1,M=k.alternate,M!==null&&(M.return=null),k.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)T4(f,u),f=f.sibling}var Ni=null;function T4(u,f){var p=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ms(f,u),ps(u),b&4&&(Gl(3,u,u.return),xm(3,u),Gl(5,u,u.return));break;case 1:ms(f,u),ps(u),b&512&&(Un||p===null||Xi(p,p.return)),b&64&&Bo&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(p=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:var k=Ni;if(ms(f,u),ps(u),b&512&&(Un||p===null||Xi(p,p.return)),b&4){var M=p!==null?p.memoizedState:null;if(b=u.memoizedState,p===null)if(b===null)if(u.stateNode===null){e:{b=u.type,p=u.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":M=k.getElementsByTagName("title")[0],(!M||M[oe]||M[vt]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=k.createElement(b),k.head.insertBefore(M,k.querySelector("head > title"))),Na(M,b,p),M[vt]=u,cr(M),b=M;break e;case"link":var V=T3("link","href",k).get(b+(p.href||""));if(V){for(var J=0;J<V.length;J++)if(M=V[J],M.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&M.getAttribute("rel")===(p.rel==null?null:p.rel)&&M.getAttribute("title")===(p.title==null?null:p.title)&&M.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(J,1);break t}}M=k.createElement(b),Na(M,b,p),k.head.appendChild(M);break;case"meta":if(V=T3("meta","content",k).get(b+(p.content||""))){for(J=0;J<V.length;J++)if(M=V[J],M.getAttribute("content")===(p.content==null?null:""+p.content)&&M.getAttribute("name")===(p.name==null?null:p.name)&&M.getAttribute("property")===(p.property==null?null:p.property)&&M.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&M.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(J,1);break t}}M=k.createElement(b),Na(M,b,p),k.head.appendChild(M);break;default:throw Error(n(468,b))}M[vt]=u,cr(M),b=M}u.stateNode=b}else _3(k,u.type,u.stateNode);else u.stateNode=C3(k,b,u.memoizedProps);else M!==b?(M===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):M.count--,b===null?_3(k,u.type,u.stateNode):C3(k,b,u.memoizedProps)):b===null&&u.stateNode!==null&&iS(u,u.memoizedProps,p.memoizedProps)}break;case 27:ms(f,u),ps(u),b&512&&(Un||p===null||Xi(p,p.return)),p!==null&&b&4&&iS(u,u.memoizedProps,p.memoizedProps);break;case 5:if(ms(f,u),ps(u),b&512&&(Un||p===null||Xi(p,p.return)),u.flags&32){k=u.stateNode;try{la(k,"")}catch(Et){Ur(u,u.return,Et)}}b&4&&u.stateNode!=null&&(k=u.memoizedProps,iS(u,k,p!==null?p.memoizedProps:k)),b&1024&&(cS=!0);break;case 6:if(ms(f,u),ps(u),b&4){if(u.stateNode===null)throw Error(n(162));b=u.memoizedProps,p=u.stateNode;try{p.nodeValue=b}catch(Et){Ur(u,u.return,Et)}}break;case 3:if(Sx=null,k=Ni,Ni=wx(f.containerInfo),ms(f,u),Ni=k,ps(u),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Kd(f.containerInfo)}catch(Et){Ur(u,u.return,Et)}cS&&(cS=!1,_4(u));break;case 4:b=Ni,Ni=wx(u.stateNode.containerInfo),ms(f,u),ps(u),Ni=b;break;case 12:ms(f,u),ps(u);break;case 31:ms(f,u),ps(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,ox(u,b)));break;case 13:ms(f,u),ps(u),u.child.flags&8192&&u.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(cx=ht()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,ox(u,b)));break;case 22:k=u.memoizedState!==null;var me=p!==null&&p.memoizedState!==null,Pe=Bo,Ue=Un;if(Bo=Pe||k,Un=Ue||me,ms(f,u),Un=Ue,Bo=Pe,ps(u),b&8192)e:for(f=u.stateNode,f._visibility=k?f._visibility&-2:f._visibility|1,k&&(p===null||me||Bo||Un||su(u)),p=null,f=u;;){if(f.tag===5||f.tag===26){if(p===null){me=p=f;try{if(M=me.stateNode,k)V=M.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{J=me.stateNode;var Qe=me.memoizedProps.style,Ie=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;J.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Et){Ur(me,me.return,Et)}}}else if(f.tag===6){if(p===null){me=f;try{me.stateNode.nodeValue=k?"":me.memoizedProps}catch(Et){Ur(me,me.return,Et)}}}else if(f.tag===18){if(p===null){me=f;try{var He=me.stateNode;k?x3(He,!0):x3(me.stateNode,!1)}catch(Et){Ur(me,me.return,Et)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=u.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,ox(u,p))));break;case 19:ms(f,u),ps(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,ox(u,b)));break;case 30:break;case 21:break;default:ms(f,u),ps(u)}}function ps(u){var f=u.flags;if(f&2){try{for(var p,b=u.return;b!==null;){if(b4(b)){p=b;break}b=b.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var k=p.stateNode,M=oS(u);ix(u,M,k);break;case 5:var V=p.stateNode;p.flags&32&&(la(V,""),p.flags&=-33);var J=oS(u);ix(u,J,V);break;case 3:case 4:var me=p.stateNode.containerInfo,Pe=oS(u);lS(u,Pe,me);break;default:throw Error(n(161))}}catch(Ue){Ur(u,u.return,Ue)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function _4(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;_4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Vo(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)j4(u,f.alternate,f),f=f.sibling}function su(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Gl(4,f,f.return),su(f);break;case 1:Xi(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&x4(f,f.return,p),su(f);break;case 27:Tm(f.stateNode);case 26:case 5:Xi(f,f.return),su(f);break;case 22:f.memoizedState===null&&su(f);break;case 30:su(f);break;default:su(f)}u=u.sibling}}function qo(u,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,k=u,M=f,V=M.flags;switch(M.tag){case 0:case 11:case 15:qo(k,M,p),xm(4,M);break;case 1:if(qo(k,M,p),b=M,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Pe){Ur(b,b.return,Pe)}if(b=M,k=b.updateQueue,k!==null){var J=b.stateNode;try{var me=k.shared.hiddenCallbacks;if(me!==null)for(k.shared.hiddenCallbacks=null,k=0;k<me.length;k++)sP(me[k],J)}catch(Pe){Ur(b,b.return,Pe)}}p&&V&64&&g4(M),ym(M,M.return);break;case 27:v4(M);case 26:case 5:qo(k,M,p),p&&b===null&&V&4&&y4(M),ym(M,M.return);break;case 12:qo(k,M,p);break;case 31:qo(k,M,p),p&&V&4&&k4(k,M);break;case 13:qo(k,M,p),p&&V&4&&C4(k,M);break;case 22:M.memoizedState===null&&qo(k,M,p),ym(M,M.return);break;case 30:break;default:qo(k,M,p)}f=f.sibling}}function uS(u,f){var p=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==p&&(u!=null&&u.refCount++,p!=null&&am(p))}function dS(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&am(u))}function ki(u,f,p,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)M4(u,f,p,b),f=f.sibling}function M4(u,f,p,b){var k=f.flags;switch(f.tag){case 0:case 11:case 15:ki(u,f,p,b),k&2048&&xm(9,f);break;case 1:ki(u,f,p,b);break;case 3:ki(u,f,p,b),k&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&am(u)));break;case 12:if(k&2048){ki(u,f,p,b),u=f.stateNode;try{var M=f.memoizedProps,V=M.id,J=M.onPostCommit;typeof J=="function"&&J(V,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(me){Ur(f,f.return,me)}}else ki(u,f,p,b);break;case 31:ki(u,f,p,b);break;case 13:ki(u,f,p,b);break;case 23:break;case 22:M=f.stateNode,V=f.alternate,f.memoizedState!==null?M._visibility&2?ki(u,f,p,b):bm(u,f):M._visibility&2?ki(u,f,p,b):(M._visibility|=2,$d(u,f,p,b,(f.subtreeFlags&10256)!==0||!1)),k&2048&&uS(V,f);break;case 24:ki(u,f,p,b),k&2048&&dS(f.alternate,f);break;default:ki(u,f,p,b)}}function $d(u,f,p,b,k){for(k=k&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var M=u,V=f,J=p,me=b,Pe=V.flags;switch(V.tag){case 0:case 11:case 15:$d(M,V,J,me,k),xm(8,V);break;case 23:break;case 22:var Ue=V.stateNode;V.memoizedState!==null?Ue._visibility&2?$d(M,V,J,me,k):bm(M,V):(Ue._visibility|=2,$d(M,V,J,me,k)),k&&Pe&2048&&uS(V.alternate,V);break;case 24:$d(M,V,J,me,k),k&&Pe&2048&&dS(V.alternate,V);break;default:$d(M,V,J,me,k)}f=f.sibling}}function bm(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=u,b=f,k=b.flags;switch(b.tag){case 22:bm(p,b),k&2048&&uS(b.alternate,b);break;case 24:bm(p,b),k&2048&&dS(b.alternate,b);break;default:bm(p,b)}f=f.sibling}}var vm=8192;function Fd(u,f,p){if(u.subtreeFlags&vm)for(u=u.child;u!==null;)A4(u,f,p),u=u.sibling}function A4(u,f,p){switch(u.tag){case 26:Fd(u,f,p),u.flags&vm&&u.memoizedState!==null&&hee(p,Ni,u.memoizedState,u.memoizedProps);break;case 5:Fd(u,f,p);break;case 3:case 4:var b=Ni;Ni=wx(u.stateNode.containerInfo),Fd(u,f,p),Ni=b;break;case 22:u.memoizedState===null&&(b=u.alternate,b!==null&&b.memoizedState!==null?(b=vm,vm=16777216,Fd(u,f,p),vm=b):Fd(u,f,p));break;default:Fd(u,f,p)}}function O4(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function wm(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var b=f[p];ca=b,D4(b,u)}O4(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)E4(u),u=u.sibling}function E4(u){switch(u.tag){case 0:case 11:case 15:wm(u),u.flags&2048&&Gl(9,u,u.return);break;case 3:wm(u);break;case 12:wm(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,lx(u)):wm(u);break;default:wm(u)}}function lx(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var b=f[p];ca=b,D4(b,u)}O4(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Gl(8,f,f.return),lx(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,lx(f));break;default:lx(f)}u=u.sibling}}function D4(u,f){for(;ca!==null;){var p=ca;switch(p.tag){case 0:case 11:case 15:Gl(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:am(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,ca=b;else e:for(p=u;ca!==null;){b=ca;var k=b.sibling,M=b.return;if(S4(b),b===p){ca=null;break e}if(k!==null){k.return=M,ca=k;break e}ca=M}}}var _Z={getCacheForType:function(u){var f=ja(zn),p=f.data.get(u);return p===void 0&&(p=u(),f.data.set(u,p)),p},cacheSignal:function(){return ja(zn).controller.signal}},MZ=typeof WeakMap=="function"?WeakMap:Map,Pr=0,tn=null,dr=null,mr=0,qr=0,_s=null,Yl=!1,Hd=!1,fS=!1,Uo=0,kn=0,Kl=0,iu=0,hS=0,Ms=0,Bd=0,jm=null,gs=null,mS=!1,cx=0,P4=0,ux=1/0,dx=null,Xl=null,ea=0,Jl=null,zd=null,Wo=0,pS=0,gS=null,R4=null,Sm=0,xS=null;function As(){return(Pr&2)!==0&&mr!==0?mr&-mr:F.T!==null?SS():Lt()}function I4(){if(Ms===0)if((mr&536870912)===0||yr){var u=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),Ms=u}else Ms=536870912;return u=Cs.current,u!==null&&(u.flags|=32),Ms}function xs(u,f,p){(u===tn&&(qr===2||qr===9)||u.cancelPendingCommit!==null)&&(Vd(u,0),Ql(u,mr,Ms,!1)),se(u,p),((Pr&2)===0||u!==tn)&&(u===tn&&((Pr&2)===0&&(iu|=p),kn===4&&Ql(u,mr,Ms,!1)),Ji(u))}function L4(u,f,p){if((Pr&6)!==0)throw Error(n(327));var b=!p&&(f&127)===0&&(f&u.expiredLanes)===0||Ne(u,f),k=b?EZ(u,f):bS(u,f,!0),M=b;do{if(k===0){Hd&&!b&&Ql(u,f,0,!1);break}else{if(p=u.current.alternate,M&&!AZ(p)){k=bS(u,f,!1),M=!1;continue}if(k===2){if(M=f,u.errorRecoveryDisabledLanes&M)var V=0;else V=u.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var J=u;k=jm;var me=J.current.memoizedState.isDehydrated;if(me&&(Vd(J,V).flags|=256),V=bS(J,V,!1),V!==2){if(fS&&!me){J.errorRecoveryDisabledLanes|=M,iu|=M,k=4;break e}M=gs,gs=k,M!==null&&(gs===null?gs=M:gs.push.apply(gs,M))}k=V}if(M=!1,k!==2)continue}}if(k===1){Vd(u,0),Ql(u,f,0,!0);break}e:{switch(b=u,M=k,M){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:Ql(b,f,Ms,!Yl);break e;case 2:gs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(k=cx+300-ht(),10<k)){if(Ql(b,f,Ms,!Yl),be(b,0,!0)!==0)break e;Wo=f,b.timeoutHandle=m3($4.bind(null,b,p,gs,dx,mS,f,Ms,iu,Bd,Yl,M,"Throttled",-0,0),k);break e}$4(b,p,gs,dx,mS,f,Ms,iu,Bd,Yl,M,null,-0,0)}}break}while(!0);Ji(u)}function $4(u,f,p,b,k,M,V,J,me,Pe,Ue,Qe,Ie,He){if(u.timeoutHandle=-1,Qe=f.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oo},A4(f,M,Qe);var Et=(M&62914560)===M?cx-ht():(M&4194048)===M?P4-ht():0;if(Et=mee(Qe,Et),Et!==null){Wo=M,u.cancelPendingCommit=Et(W4.bind(null,u,f,M,p,b,k,V,J,me,Ue,Qe,null,Ie,He)),Ql(u,M,V,!Pe);return}}W4(u,f,M,p,b,k,V,J,me)}function AZ(u){for(var f=u;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var k=p[b],M=k.getSnapshot;k=k.value;try{if(!Ns(M(),k))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ql(u,f,p,b){f&=~hS,f&=~iu,u.suspendedLanes|=f,u.pingedLanes&=~f,b&&(u.warmLanes|=f),b=u.expirationTimes;for(var k=f;0<k;){var M=31-ne(k),V=1<<M;b[M]=-1,k&=~V}p!==0&&Ye(u,p,f)}function fx(){return(Pr&6)===0?(Nm(0),!1):!0}function yS(){if(dr!==null){if(qr===0)var u=dr.return;else u=dr,Ro=Jc=null,Pj(u),Dd=null,im=0,u=dr;for(;u!==null;)p4(u.alternate,u),u=u.return;dr=null}}function Vd(u,f){var p=u.timeoutHandle;p!==-1&&(u.timeoutHandle=-1,XZ(p)),p=u.cancelPendingCommit,p!==null&&(u.cancelPendingCommit=null,p()),Wo=0,yS(),tn=u,dr=p=Do(u.current,null),mr=f,qr=0,_s=null,Yl=!1,Hd=Ne(u,f),fS=!1,Bd=Ms=hS=iu=Kl=kn=0,gs=jm=null,mS=!1,(f&8)!==0&&(f|=f&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=f;0<b;){var k=31-ne(b),M=1<<k;f|=u[k],b&=~M}return Uo=f,Dg(),p}function F4(u,f){rr=null,F.H=mm,f===Ed||f===Bg?(f=tP(),qr=3):f===jj?(f=tP(),qr=4):qr=f===Xj?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,_s=f,dr===null&&(kn=1,tx(u,qs(f,u.current)))}function H4(){var u=Cs.current;return u===null?!0:(mr&4194048)===mr?Ys===null:(mr&62914560)===mr||(mr&536870912)!==0?u===Ys:!1}function B4(){var u=F.H;return F.H=mm,u===null?mm:u}function z4(){var u=F.A;return F.A=_Z,u}function hx(){kn=4,Yl||(mr&4194048)!==mr&&Cs.current!==null||(Hd=!0),(Kl&134217727)===0&&(iu&134217727)===0||tn===null||Ql(tn,mr,Ms,!1)}function bS(u,f,p){var b=Pr;Pr|=2;var k=B4(),M=z4();(tn!==u||mr!==f)&&(dx=null,Vd(u,f)),f=!1;var V=kn;e:do try{if(qr!==0&&dr!==null){var J=dr,me=_s;switch(qr){case 8:yS(),V=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(f=!0);var Pe=qr;if(qr=0,_s=null,qd(u,J,me,Pe),p&&Hd){V=0;break e}break;default:Pe=qr,qr=0,_s=null,qd(u,J,me,Pe)}}OZ(),V=kn;break}catch(Ue){F4(u,Ue)}while(!0);return f&&u.shellSuspendCounter++,Ro=Jc=null,Pr=b,F.H=k,F.A=M,dr===null&&(tn=null,mr=0,Dg()),V}function OZ(){for(;dr!==null;)V4(dr)}function EZ(u,f){var p=Pr;Pr|=2;var b=B4(),k=z4();tn!==u||mr!==f?(dx=null,ux=ht()+500,Vd(u,f)):Hd=Ne(u,f);e:do try{if(qr!==0&&dr!==null){f=dr;var M=_s;t:switch(qr){case 1:qr=0,_s=null,qd(u,f,M,1);break;case 2:case 9:if(ZD(M)){qr=0,_s=null,q4(f);break}f=function(){qr!==2&&qr!==9||tn!==u||(qr=7),Ji(u)},M.then(f,f);break e;case 3:qr=7;break e;case 4:qr=5;break e;case 7:ZD(M)?(qr=0,_s=null,q4(f)):(qr=0,_s=null,qd(u,f,M,7));break;case 5:var V=null;switch(dr.tag){case 26:V=dr.memoizedState;case 5:case 27:var J=dr;if(V?M3(V):J.stateNode.complete){qr=0,_s=null;var me=J.sibling;if(me!==null)dr=me;else{var Pe=J.return;Pe!==null?(dr=Pe,mx(Pe)):dr=null}break t}}qr=0,_s=null,qd(u,f,M,5);break;case 6:qr=0,_s=null,qd(u,f,M,6);break;case 8:yS(),kn=6;break e;default:throw Error(n(462))}}DZ();break}catch(Ue){F4(u,Ue)}while(!0);return Ro=Jc=null,F.H=b,F.A=k,Pr=p,dr!==null?0:(tn=null,mr=0,Dg(),kn)}function DZ(){for(;dr!==null&&!ct();)V4(dr)}function V4(u){var f=h4(u.alternate,u,Uo);u.memoizedProps=u.pendingProps,f===null?mx(u):dr=f}function q4(u){var f=u,p=f.alternate;switch(f.tag){case 15:case 0:f=o4(p,f,f.pendingProps,f.type,void 0,mr);break;case 11:f=o4(p,f,f.pendingProps,f.type.render,f.ref,mr);break;case 5:Pj(f);default:p4(p,f),f=dr=zD(f,Uo),f=h4(p,f,Uo)}u.memoizedProps=u.pendingProps,f===null?mx(u):dr=f}function qd(u,f,p,b){Ro=Jc=null,Pj(f),Dd=null,im=0;var k=f.return;try{if(wZ(u,k,f,p,mr)){kn=1,tx(u,qs(p,u.current)),dr=null;return}}catch(M){if(k!==null)throw dr=k,M;kn=1,tx(u,qs(p,u.current)),dr=null;return}f.flags&32768?(yr||b===1?u=!0:Hd||(mr&536870912)!==0?u=!1:(Yl=u=!0,(b===2||b===9||b===3||b===6)&&(b=Cs.current,b!==null&&b.tag===13&&(b.flags|=16384))),U4(f,u)):mx(f)}function mx(u){var f=u;do{if((f.flags&32768)!==0){U4(f,Yl);return}u=f.return;var p=NZ(f.alternate,f,Uo);if(p!==null){dr=p;return}if(f=f.sibling,f!==null){dr=f;return}dr=f=u}while(f!==null);kn===0&&(kn=5)}function U4(u,f){do{var p=kZ(u.alternate,u);if(p!==null){p.flags&=32767,dr=p;return}if(p=u.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(u=u.sibling,u!==null)){dr=u;return}dr=u=p}while(u!==null);kn=6,dr=null}function W4(u,f,p,b,k,M,V,J,me){u.cancelPendingCommit=null;do px();while(ea!==0);if((Pr&6)!==0)throw Error(n(327));if(f!==null){if(f===u.current)throw Error(n(177));if(M=f.lanes|f.childLanes,M|=oj,De(u,p,M,V,J,me),u===tn&&(dr=tn=null,mr=0),zd=f,Jl=u,Wo=p,pS=M,gS=k,R4=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,LZ(tt,function(){return J4(),null})):(u.callbackNode=null,u.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=F.T,F.T=null,k=P.p,P.p=2,V=Pr,Pr|=4;try{CZ(u,f,p)}finally{Pr=V,P.p=k,F.T=b}}ea=1,G4(),Y4(),K4()}}function G4(){if(ea===1){ea=0;var u=Jl,f=zd,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=F.T,F.T=null;var b=P.p;P.p=2;var k=Pr;Pr|=4;try{T4(f,u);var M=OS,V=DD(u.containerInfo),J=M.focusedElem,me=M.selectionRange;if(V!==J&&J&&J.ownerDocument&&ED(J.ownerDocument.documentElement,J)){if(me!==null&&rj(J)){var Pe=me.start,Ue=me.end;if(Ue===void 0&&(Ue=Pe),"selectionStart"in J)J.selectionStart=Pe,J.selectionEnd=Math.min(Ue,J.value.length);else{var Qe=J.ownerDocument||document,Ie=Qe&&Qe.defaultView||window;if(Ie.getSelection){var He=Ie.getSelection(),Et=J.textContent.length,Gt=Math.min(me.start,Et),Jr=me.end===void 0?Gt:Math.min(me.end,Et);!He.extend&&Gt>Jr&&(V=Jr,Jr=Gt,Gt=V);var Te=OD(J,Gt),je=OD(J,Jr);if(Te&&je&&(He.rangeCount!==1||He.anchorNode!==Te.node||He.anchorOffset!==Te.offset||He.focusNode!==je.node||He.focusOffset!==je.offset)){var Ee=Qe.createRange();Ee.setStart(Te.node,Te.offset),He.removeAllRanges(),Gt>Jr?(He.addRange(Ee),He.extend(je.node,je.offset)):(Ee.setEnd(je.node,je.offset),He.addRange(Ee))}}}}for(Qe=[],He=J;He=He.parentNode;)He.nodeType===1&&Qe.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Qe.length;J++){var Xe=Qe[J];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}Tx=!!AS,OS=AS=null}finally{Pr=k,P.p=b,F.T=p}}u.current=f,ea=2}}function Y4(){if(ea===2){ea=0;var u=Jl,f=zd,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=F.T,F.T=null;var b=P.p;P.p=2;var k=Pr;Pr|=4;try{j4(u,f.alternate,f)}finally{Pr=k,P.p=b,F.T=p}}ea=3}}function K4(){if(ea===4||ea===3){ea=0,St();var u=Jl,f=zd,p=Wo,b=R4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ea=5:(ea=0,zd=Jl=null,X4(u,u.pendingLanes));var k=u.pendingLanes;if(k===0&&(Xl=null),nt(p),f=f.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(we,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=F.T,k=P.p,P.p=2,F.T=null;try{for(var M=u.onRecoverableError,V=0;V<b.length;V++){var J=b[V];M(J.value,{componentStack:J.stack})}}finally{F.T=f,P.p=k}}(Wo&3)!==0&&px(),Ji(u),k=u.pendingLanes,(p&261930)!==0&&(k&42)!==0?u===xS?Sm++:(Sm=0,xS=u):Sm=0,Nm(0)}}function X4(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,am(f)))}function px(){return G4(),Y4(),K4(),J4()}function J4(){if(ea!==5)return!1;var u=Jl,f=pS;pS=0;var p=nt(Wo),b=F.T,k=P.p;try{P.p=32>p?32:p,F.T=null,p=gS,gS=null;var M=Jl,V=Wo;if(ea=0,zd=Jl=null,Wo=0,(Pr&6)!==0)throw Error(n(331));var J=Pr;if(Pr|=4,E4(M.current),M4(M,M.current,V,p),Pr=J,Nm(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(we,M)}catch{}return!0}finally{P.p=k,F.T=b,X4(u,f)}}function Q4(u,f,p){f=qs(p,f),f=Kj(u.stateNode,f,2),u=ql(u,f,2),u!==null&&(se(u,2),Ji(u))}function Ur(u,f,p){if(u.tag===3)Q4(u,u,p);else for(;f!==null;){if(f.tag===3){Q4(f,u,p);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Xl===null||!Xl.has(b))){u=qs(p,u),p=ZP(2),b=ql(f,p,2),b!==null&&(e4(p,b,f,u),se(b,2),Ji(b));break}}f=f.return}}function vS(u,f,p){var b=u.pingCache;if(b===null){b=u.pingCache=new MZ;var k=new Set;b.set(f,k)}else k=b.get(f),k===void 0&&(k=new Set,b.set(f,k));k.has(p)||(fS=!0,k.add(p),u=PZ.bind(null,u,f,p),f.then(u,u))}function PZ(u,f,p){var b=u.pingCache;b!==null&&b.delete(f),u.pingedLanes|=u.suspendedLanes&p,u.warmLanes&=~p,tn===u&&(mr&p)===p&&(kn===4||kn===3&&(mr&62914560)===mr&&300>ht()-cx?(Pr&2)===0&&Vd(u,0):hS|=p,Bd===mr&&(Bd=0)),Ji(u)}function Z4(u,f){f===0&&(f=he()),u=Yc(u,f),u!==null&&(se(u,f),Ji(u))}function RZ(u){var f=u.memoizedState,p=0;f!==null&&(p=f.retryLane),Z4(u,p)}function IZ(u,f){var p=0;switch(u.tag){case 31:case 13:var b=u.stateNode,k=u.memoizedState;k!==null&&(p=k.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(f),Z4(u,p)}function LZ(u,f){return gt(u,f)}var gx=null,Ud=null,wS=!1,xx=!1,jS=!1,Zl=0;function Ji(u){u!==Ud&&u.next===null&&(Ud===null?gx=Ud=u:Ud=Ud.next=u),xx=!0,wS||(wS=!0,FZ())}function Nm(u,f){if(!jS&&xx){jS=!0;do for(var p=!1,b=gx;b!==null;){if(u!==0){var k=b.pendingLanes;if(k===0)var M=0;else{var V=b.suspendedLanes,J=b.pingedLanes;M=(1<<31-ne(42|u)+1)-1,M&=k&~(V&~J),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(p=!0,n3(b,M))}else M=mr,M=be(b,b===tn?M:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(M&3)===0||Ne(b,M)||(p=!0,n3(b,M));b=b.next}while(p);jS=!1}}function $Z(){e3()}function e3(){xx=wS=!1;var u=0;Zl!==0&&KZ()&&(u=Zl);for(var f=ht(),p=null,b=gx;b!==null;){var k=b.next,M=t3(b,f);M===0?(b.next=null,p===null?gx=k:p.next=k,k===null&&(Ud=p)):(p=b,(u!==0||(M&3)!==0)&&(xx=!0)),b=k}ea!==0&&ea!==5||Nm(u),Zl!==0&&(Zl=0)}function t3(u,f){for(var p=u.suspendedLanes,b=u.pingedLanes,k=u.expirationTimes,M=u.pendingLanes&-62914561;0<M;){var V=31-ne(M),J=1<<V,me=k[V];me===-1?((J&p)===0||(J&b)!==0)&&(k[V]=Fe(J,f)):me<=f&&(u.expiredLanes|=J),M&=~J}if(f=tn,p=mr,p=be(u,u===f?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b=u.callbackNode,p===0||u===f&&(qr===2||qr===9)||u.cancelPendingCommit!==null)return b!==null&&b!==null&&Re(b),u.callbackNode=null,u.callbackPriority=0;if((p&3)===0||Ne(u,p)){if(f=p&-p,f===u.callbackPriority)return f;switch(b!==null&&Re(b),nt(p)){case 2:case 8:p=ke;break;case 32:p=tt;break;case 268435456:p=ft;break;default:p=tt}return b=r3.bind(null,u),p=gt(p,b),u.callbackPriority=f,u.callbackNode=p,f}return b!==null&&b!==null&&Re(b),u.callbackPriority=2,u.callbackNode=null,2}function r3(u,f){if(ea!==0&&ea!==5)return u.callbackNode=null,u.callbackPriority=0,null;var p=u.callbackNode;if(px()&&u.callbackNode!==p)return null;var b=mr;return b=be(u,u===tn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b===0?null:(L4(u,b,f),t3(u,ht()),u.callbackNode!=null&&u.callbackNode===p?r3.bind(null,u):null)}function n3(u,f){if(px())return null;L4(u,f,!0)}function FZ(){JZ(function(){(Pr&6)!==0?gt(rt,$Z):e3()})}function SS(){if(Zl===0){var u=Ad;u===0&&(u=pt,pt<<=1,(pt&261888)===0&&(pt=256)),Zl=u}return Zl}function a3(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:kg(""+u)}function s3(u,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,u.id&&p.setAttribute("form",u.id),f.parentNode.insertBefore(p,f),u=new FormData(u),p.parentNode.removeChild(p),u}function HZ(u,f,p,b,k){if(f==="submit"&&p&&p.stateNode===k){var M=a3((k[jr]||null).action),V=b.submitter;V&&(f=(f=V[jr]||null)?a3(f.formAction):V.getAttribute("formAction"),f!==null&&(M=f,V=null));var J=new Mg("action","action",null,b,k);u.push({event:J,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Zl!==0){var me=V?s3(k,V):new FormData(k);Vj(p,{pending:!0,data:me,method:k.method,action:M},null,me)}}else typeof M=="function"&&(J.preventDefault(),me=V?s3(k,V):new FormData(k),Vj(p,{pending:!0,data:me,method:k.method,action:M},M,me))},currentTarget:k}]})}}for(var NS=0;NS<ij.length;NS++){var kS=ij[NS],BZ=kS.toLowerCase(),zZ=kS[0].toUpperCase()+kS.slice(1);Si(BZ,"on"+zZ)}Si(ID,"onAnimationEnd"),Si(LD,"onAnimationIteration"),Si($D,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(aZ,"onTransitionRun"),Si(sZ,"onTransitionStart"),Si(iZ,"onTransitionCancel"),Si(FD,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(km));function i3(u,f){f=(f&4)!==0;for(var p=0;p<u.length;p++){var b=u[p],k=b.event;b=b.listeners;e:{var M=void 0;if(f)for(var V=b.length-1;0<=V;V--){var J=b[V],me=J.instance,Pe=J.currentTarget;if(J=J.listener,me!==M&&k.isPropagationStopped())break e;M=J,k.currentTarget=Pe;try{M(k)}catch(Ue){Eg(Ue)}k.currentTarget=null,M=me}else for(V=0;V<b.length;V++){if(J=b[V],me=J.instance,Pe=J.currentTarget,J=J.listener,me!==M&&k.isPropagationStopped())break e;M=J,k.currentTarget=Pe;try{M(k)}catch(Ue){Eg(Ue)}k.currentTarget=null,M=me}}}}function fr(u,f){var p=f[kr];p===void 0&&(p=f[kr]=new Set);var b=u+"__bubble";p.has(b)||(o3(f,u,2,!1),p.add(b))}function CS(u,f,p){var b=0;f&&(b|=4),o3(p,u,b,f)}var yx="_reactListening"+Math.random().toString(36).slice(2);function TS(u){if(!u[yx]){u[yx]=!0,va.forEach(function(p){p!=="selectionchange"&&(VZ.has(p)||CS(p,!1,u),CS(p,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[yx]||(f[yx]=!0,CS("selectionchange",!1,f))}}function o3(u,f,p,b){switch(I3(f)){case 2:var k=xee;break;case 8:k=yee;break;default:k=zS}p=k.bind(null,f,p,u),k=void 0,!G1||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),b?k!==void 0?u.addEventListener(f,p,{capture:!0,passive:k}):u.addEventListener(f,p,!0):k!==void 0?u.addEventListener(f,p,{passive:k}):u.addEventListener(f,p,!1)}function _S(u,f,p,b,k){var M=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var J=b.stateNode.containerInfo;if(J===k)break;if(V===4)for(V=b.return;V!==null;){var me=V.tag;if((me===3||me===4)&&V.stateNode.containerInfo===k)return;V=V.return}for(;J!==null;){if(V=bt(J),V===null)return;if(me=V.tag,me===5||me===6||me===26||me===27){b=M=V;continue e}J=J.parentNode}}b=b.return}fD(function(){var Pe=M,Ue=U1(p),Qe=[];e:{var Ie=HD.get(u);if(Ie!==void 0){var He=Mg,Et=u;switch(u){case"keypress":if(Tg(p)===0)break e;case"keydown":case"keyup":He=IQ;break;case"focusin":Et="focus",He=J1;break;case"focusout":Et="blur",He=J1;break;case"beforeblur":case"afterblur":He=J1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=pD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=NQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=FQ;break;case ID:case LD:case $D:He=TQ;break;case FD:He=BQ;break;case"scroll":case"scrollend":He=jQ;break;case"wheel":He=VQ;break;case"copy":case"cut":case"paste":He=MQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=xD;break;case"toggle":case"beforetoggle":He=UQ}var Gt=(f&4)!==0,Jr=!Gt&&(u==="scroll"||u==="scrollend"),Te=Gt?Ie!==null?Ie+"Capture":null:Ie;Gt=[];for(var je=Pe,Ee;je!==null;){var Xe=je;if(Ee=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Ee===null||Te===null||(Xe=Gh(je,Te),Xe!=null&&Gt.push(Cm(je,Xe,Ee))),Jr)break;je=je.return}0<Gt.length&&(Ie=new He(Ie,Et,null,p,Ue),Qe.push({event:Ie,listeners:Gt}))}}if((f&7)===0){e:{if(Ie=u==="mouseover"||u==="pointerover",He=u==="mouseout"||u==="pointerout",Ie&&p!==q1&&(Et=p.relatedTarget||p.fromElement)&&(bt(Et)||Et[Dt]))break e;if((He||Ie)&&(Ie=Ue.window===Ue?Ue:(Ie=Ue.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,He?(Et=p.relatedTarget||p.toElement,He=Pe,Et=Et?bt(Et):null,Et!==null&&(Jr=i(Et),Gt=Et.tag,Et!==Jr||Gt!==5&&Gt!==27&&Gt!==6)&&(Et=null)):(He=null,Et=Pe),He!==Et)){if(Gt=pD,Xe="onMouseLeave",Te="onMouseEnter",je="mouse",(u==="pointerout"||u==="pointerover")&&(Gt=xD,Xe="onPointerLeave",Te="onPointerEnter",je="pointer"),Jr=He==null?Ie:en(He),Ee=Et==null?Ie:en(Et),Ie=new Gt(Xe,je+"leave",He,p,Ue),Ie.target=Jr,Ie.relatedTarget=Ee,Xe=null,bt(Ue)===Pe&&(Gt=new Gt(Te,je+"enter",Et,p,Ue),Gt.target=Ee,Gt.relatedTarget=Jr,Xe=Gt),Jr=Xe,He&&Et)t:{for(Gt=qZ,Te=He,je=Et,Ee=0,Xe=Te;Xe;Xe=Gt(Xe))Ee++;Xe=0;for(var Bt=je;Bt;Bt=Gt(Bt))Xe++;for(;0<Ee-Xe;)Te=Gt(Te),Ee--;for(;0<Xe-Ee;)je=Gt(je),Xe--;for(;Ee--;){if(Te===je||je!==null&&Te===je.alternate){Gt=Te;break t}Te=Gt(Te),je=Gt(je)}Gt=null}else Gt=null;He!==null&&l3(Qe,Ie,He,Gt,!1),Et!==null&&Jr!==null&&l3(Qe,Jr,Et,Gt,!0)}}e:{if(Ie=Pe?en(Pe):window,He=Ie.nodeName&&Ie.nodeName.toLowerCase(),He==="select"||He==="input"&&Ie.type==="file")var Tr=kD;else if(SD(Ie))if(CD)Tr=tZ;else{Tr=ZQ;var Pt=QQ}else He=Ie.nodeName,!He||He.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Pe&&Ng(Pe.elementType)&&(Tr=kD):Tr=eZ;if(Tr&&(Tr=Tr(u,Pe))){ND(Qe,Tr,p,Ue);break e}Pt&&Pt(u,Ie,Pe),u==="focusout"&&Pe&&Ie.type==="number"&&Pe.memoizedProps.value!=null&&fe(Ie,"number",Ie.value)}switch(Pt=Pe?en(Pe):window,u){case"focusin":(SD(Pt)||Pt.contentEditable==="true")&&(jd=Pt,nj=Pe,tm=null);break;case"focusout":tm=nj=jd=null;break;case"mousedown":aj=!0;break;case"contextmenu":case"mouseup":case"dragend":aj=!1,PD(Qe,p,Ue);break;case"selectionchange":if(nZ)break;case"keydown":case"keyup":PD(Qe,p,Ue)}var nr;if(Z1)e:{switch(u){case"compositionstart":var pr="onCompositionStart";break e;case"compositionend":pr="onCompositionEnd";break e;case"compositionupdate":pr="onCompositionUpdate";break e}pr=void 0}else wd?wD(u,p)&&(pr="onCompositionEnd"):u==="keydown"&&p.keyCode===229&&(pr="onCompositionStart");pr&&(yD&&p.locale!=="ko"&&(wd||pr!=="onCompositionStart"?pr==="onCompositionEnd"&&wd&&(nr=hD()):(Ll=Ue,Y1="value"in Ll?Ll.value:Ll.textContent,wd=!0)),Pt=bx(Pe,pr),0<Pt.length&&(pr=new gD(pr,u,null,p,Ue),Qe.push({event:pr,listeners:Pt}),nr?pr.data=nr:(nr=jD(p),nr!==null&&(pr.data=nr)))),(nr=GQ?YQ(u,p):KQ(u,p))&&(pr=bx(Pe,"onBeforeInput"),0<pr.length&&(Pt=new gD("onBeforeInput","beforeinput",null,p,Ue),Qe.push({event:Pt,listeners:pr}),Pt.data=nr)),HZ(Qe,u,Pe,p,Ue)}i3(Qe,f)})}function Cm(u,f,p){return{instance:u,listener:f,currentTarget:p}}function bx(u,f){for(var p=f+"Capture",b=[];u!==null;){var k=u,M=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||M===null||(k=Gh(u,p),k!=null&&b.unshift(Cm(u,k,M)),k=Gh(u,f),k!=null&&b.push(Cm(u,k,M))),u.tag===3)return b;u=u.return}return[]}function qZ(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function l3(u,f,p,b,k){for(var M=f._reactName,V=[];p!==null&&p!==b;){var J=p,me=J.alternate,Pe=J.stateNode;if(J=J.tag,me!==null&&me===b)break;J!==5&&J!==26&&J!==27||Pe===null||(me=Pe,k?(Pe=Gh(p,M),Pe!=null&&V.unshift(Cm(p,Pe,me))):k||(Pe=Gh(p,M),Pe!=null&&V.push(Cm(p,Pe,me)))),p=p.return}V.length!==0&&u.push({event:f,listeners:V})}var UZ=/\r\n?/g,WZ=/\u0000|\uFFFD/g;function c3(u){return(typeof u=="string"?u:""+u).replace(UZ,`
`).replace(WZ,"")}function u3(u,f){return f=c3(f),c3(u)===f}function Xr(u,f,p,b,k,M){switch(p){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||la(u,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&la(u,""+b);break;case"className":xd(u,"class",b);break;case"tabIndex":xd(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":xd(u,p,b);break;case"style":Gi(u,b,M);break;case"data":if(f!=="object"){xd(u,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||p!=="href")){u.removeAttribute(p);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(p);break}b=kg(""+b),u.setAttribute(p,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(p==="formAction"?(f!=="input"&&Xr(u,f,"name",k.name,k,null),Xr(u,f,"formEncType",k.formEncType,k,null),Xr(u,f,"formMethod",k.formMethod,k,null),Xr(u,f,"formTarget",k.formTarget,k,null)):(Xr(u,f,"encType",k.encType,k,null),Xr(u,f,"method",k.method,k,null),Xr(u,f,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(p);break}b=kg(""+b),u.setAttribute(p,b);break;case"onClick":b!=null&&(u.onclick=Oo);break;case"onScroll":b!=null&&fr("scroll",u);break;case"onScrollEnd":b!=null&&fr("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(k.children!=null)throw Error(n(60));u.innerHTML=p}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}p=kg(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,""+b):u.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,""):u.removeAttribute(p);break;case"capture":case"download":b===!0?u.setAttribute(p,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,b):u.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(p,b):u.removeAttribute(p);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(p):u.setAttribute(p,b);break;case"popover":fr("beforetoggle",u),fr("toggle",u),gd(u,"popover",b);break;case"xlinkActuate":wi(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":wi(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":wi(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":wi(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":wi(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":wi(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":wi(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":wi(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":wi(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":gd(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=vQ.get(p)||p,gd(u,p,b))}}function MS(u,f,p,b,k,M){switch(p){case"style":Gi(u,b,M);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(k.children!=null)throw Error(n(60));u.innerHTML=p}}break;case"children":typeof b=="string"?la(u,b):(typeof b=="number"||typeof b=="bigint")&&la(u,""+b);break;case"onScroll":b!=null&&fr("scroll",u);break;case"onScrollEnd":b!=null&&fr("scrollend",u);break;case"onClick":b!=null&&(u.onclick=Oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cs.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(k=p.endsWith("Capture"),f=p.slice(2,k?p.length-7:void 0),M=u[jr]||null,M=M!=null?M[p]:null,typeof M=="function"&&u.removeEventListener(f,M,k),typeof b=="function")){typeof M!="function"&&M!==null&&(p in u?u[p]=null:u.hasAttribute(p)&&u.removeAttribute(p)),u.addEventListener(f,b,k);break e}p in u?u[p]=b:b===!0?u.setAttribute(p,""):gd(u,p,b)}}}function Na(u,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fr("error",u),fr("load",u);var b=!1,k=!1,M;for(M in p)if(p.hasOwnProperty(M)){var V=p[M];if(V!=null)switch(M){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Xr(u,f,M,V,p,null)}}k&&Xr(u,f,"srcSet",p.srcSet,p,null),b&&Xr(u,f,"src",p.src,p,null);return;case"input":fr("invalid",u);var J=M=V=k=null,me=null,Pe=null;for(b in p)if(p.hasOwnProperty(b)){var Ue=p[b];if(Ue!=null)switch(b){case"name":k=Ue;break;case"type":V=Ue;break;case"checked":me=Ue;break;case"defaultChecked":Pe=Ue;break;case"value":M=Ue;break;case"defaultValue":J=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(n(137,f));break;default:Xr(u,f,b,Ue,p,null)}}W(u,M,J,me,Pe,V,k,!1);return;case"select":fr("invalid",u),b=V=M=null;for(k in p)if(p.hasOwnProperty(k)&&(J=p[k],J!=null))switch(k){case"value":M=J;break;case"defaultValue":V=J;break;case"multiple":b=J;default:Xr(u,f,k,J,p,null)}f=M,p=V,u.multiple=!!b,f!=null?mt(u,!!b,f,!1):p!=null&&mt(u,!!b,p,!0);return;case"textarea":fr("invalid",u),M=k=b=null;for(V in p)if(p.hasOwnProperty(V)&&(J=p[V],J!=null))switch(V){case"value":b=J;break;case"defaultValue":k=J;break;case"children":M=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Xr(u,f,V,J,p,null)}vr(u,b,k,M);return;case"option":for(me in p)if(p.hasOwnProperty(me)&&(b=p[me],b!=null))switch(me){case"selected":u.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Xr(u,f,me,b,p,null)}return;case"dialog":fr("beforetoggle",u),fr("toggle",u),fr("cancel",u),fr("close",u);break;case"iframe":case"object":fr("load",u);break;case"video":case"audio":for(b=0;b<km.length;b++)fr(km[b],u);break;case"image":fr("error",u),fr("load",u);break;case"details":fr("toggle",u);break;case"embed":case"source":case"link":fr("error",u),fr("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in p)if(p.hasOwnProperty(Pe)&&(b=p[Pe],b!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Xr(u,f,Pe,b,p,null)}return;default:if(Ng(f)){for(Ue in p)p.hasOwnProperty(Ue)&&(b=p[Ue],b!==void 0&&MS(u,f,Ue,b,p,void 0));return}}for(J in p)p.hasOwnProperty(J)&&(b=p[J],b!=null&&Xr(u,f,J,b,p,null))}function GZ(u,f,p,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,M=null,V=null,J=null,me=null,Pe=null,Ue=null;for(He in p){var Qe=p[He];if(p.hasOwnProperty(He)&&Qe!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":me=Qe;default:b.hasOwnProperty(He)||Xr(u,f,He,null,b,Qe)}}for(var Ie in b){var He=b[Ie];if(Qe=p[Ie],b.hasOwnProperty(Ie)&&(He!=null||Qe!=null))switch(Ie){case"type":M=He;break;case"name":k=He;break;case"checked":Pe=He;break;case"defaultChecked":Ue=He;break;case"value":V=He;break;case"defaultValue":J=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,f));break;default:He!==Qe&&Xr(u,f,Ie,He,b,Qe)}}Y(u,V,J,me,Pe,Ue,M,k);return;case"select":He=V=J=Ie=null;for(M in p)if(me=p[M],p.hasOwnProperty(M)&&me!=null)switch(M){case"value":break;case"multiple":He=me;default:b.hasOwnProperty(M)||Xr(u,f,M,null,b,me)}for(k in b)if(M=b[k],me=p[k],b.hasOwnProperty(k)&&(M!=null||me!=null))switch(k){case"value":Ie=M;break;case"defaultValue":J=M;break;case"multiple":V=M;default:M!==me&&Xr(u,f,k,M,b,me)}f=J,p=V,b=He,Ie!=null?mt(u,!!p,Ie,!1):!!b!=!!p&&(f!=null?mt(u,!!p,f,!0):mt(u,!!p,p?[]:"",!1));return;case"textarea":He=Ie=null;for(J in p)if(k=p[J],p.hasOwnProperty(J)&&k!=null&&!b.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Xr(u,f,J,null,b,k)}for(V in b)if(k=b[V],M=p[V],b.hasOwnProperty(V)&&(k!=null||M!=null))switch(V){case"value":Ie=k;break;case"defaultValue":He=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:k!==M&&Xr(u,f,V,k,b,M)}ur(u,Ie,He);return;case"option":for(var Et in p)if(Ie=p[Et],p.hasOwnProperty(Et)&&Ie!=null&&!b.hasOwnProperty(Et))switch(Et){case"selected":u.selected=!1;break;default:Xr(u,f,Et,null,b,Ie)}for(me in b)if(Ie=b[me],He=p[me],b.hasOwnProperty(me)&&Ie!==He&&(Ie!=null||He!=null))switch(me){case"selected":u.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:Xr(u,f,me,Ie,b,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in p)Ie=p[Gt],p.hasOwnProperty(Gt)&&Ie!=null&&!b.hasOwnProperty(Gt)&&Xr(u,f,Gt,null,b,Ie);for(Pe in b)if(Ie=b[Pe],He=p[Pe],b.hasOwnProperty(Pe)&&Ie!==He&&(Ie!=null||He!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,f));break;default:Xr(u,f,Pe,Ie,b,He)}return;default:if(Ng(f)){for(var Jr in p)Ie=p[Jr],p.hasOwnProperty(Jr)&&Ie!==void 0&&!b.hasOwnProperty(Jr)&&MS(u,f,Jr,void 0,b,Ie);for(Ue in b)Ie=b[Ue],He=p[Ue],!b.hasOwnProperty(Ue)||Ie===He||Ie===void 0&&He===void 0||MS(u,f,Ue,Ie,b,He);return}}for(var Te in p)Ie=p[Te],p.hasOwnProperty(Te)&&Ie!=null&&!b.hasOwnProperty(Te)&&Xr(u,f,Te,null,b,Ie);for(Qe in b)Ie=b[Qe],He=p[Qe],!b.hasOwnProperty(Qe)||Ie===He||Ie==null&&He==null||Xr(u,f,Qe,Ie,b,He)}function d3(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YZ(){if(typeof performance.getEntriesByType=="function"){for(var u=0,f=0,p=performance.getEntriesByType("resource"),b=0;b<p.length;b++){var k=p[b],M=k.transferSize,V=k.initiatorType,J=k.duration;if(M&&J&&d3(V)){for(V=0,J=k.responseEnd,b+=1;b<p.length;b++){var me=p[b],Pe=me.startTime;if(Pe>J)break;var Ue=me.transferSize,Qe=me.initiatorType;Ue&&d3(Qe)&&(me=me.responseEnd,V+=Ue*(me<J?1:(J-Pe)/(me-Pe)))}if(--b,f+=8*(M+V)/(k.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var AS=null,OS=null;function vx(u){return u.nodeType===9?u:u.ownerDocument}function f3(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h3(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function ES(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var DS=null;function KZ(){var u=window.event;return u&&u.type==="popstate"?u===DS?!1:(DS=u,!0):(DS=null,!1)}var m3=typeof setTimeout=="function"?setTimeout:void 0,XZ=typeof clearTimeout=="function"?clearTimeout:void 0,p3=typeof Promise=="function"?Promise:void 0,JZ=typeof queueMicrotask=="function"?queueMicrotask:typeof p3<"u"?function(u){return p3.resolve(null).then(u).catch(QZ)}:m3;function QZ(u){setTimeout(function(){throw u})}function ec(u){return u==="head"}function g3(u,f){var p=f,b=0;do{var k=p.nextSibling;if(u.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"||p==="/&"){if(b===0){u.removeChild(k),Kd(f);return}b--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")b++;else if(p==="html")Tm(u.ownerDocument.documentElement);else if(p==="head"){p=u.ownerDocument.head,Tm(p);for(var M=p.firstChild;M;){var V=M.nextSibling,J=M.nodeName;M[oe]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&M.rel.toLowerCase()==="stylesheet"||p.removeChild(M),M=V}}else p==="body"&&Tm(u.ownerDocument.body);p=k}while(p);Kd(f)}function x3(u,f){var p=u;u=0;do{var b=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(u===0)break;u--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||u++;p=b}while(p)}function PS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":PS(p),Ze(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}u.removeChild(p)}}function ZZ(u,f,p,b){for(;u.nodeType===1;){var k=p;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[oe])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(M=u.getAttribute("rel"),M==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(M!==k.rel||u.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||u.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||u.getAttribute("title")!==(k.title==null?null:k.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(M=u.getAttribute("src"),(M!==(k.src==null?null:k.src)||u.getAttribute("type")!==(k.type==null?null:k.type)||u.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&M&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var M=k.name==null?null:""+k.name;if(k.type==="hidden"&&u.getAttribute("name")===M)return u}else return u;if(u=Ks(u.nextSibling),u===null)break}return null}function eee(u,f,p){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!p||(u=Ks(u.nextSibling),u===null))return null;return u}function y3(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!f||(u=Ks(u.nextSibling),u===null))return null;return u}function RS(u){return u.data==="$?"||u.data==="$~"}function IS(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function tee(u,f){var p=u.ownerDocument;if(u.data==="$~")u._reactRetry=f;else if(u.data!=="$?"||p.readyState!=="loading")f();else{var b=function(){f(),p.removeEventListener("DOMContentLoaded",b)};p.addEventListener("DOMContentLoaded",b),u._reactRetry=b}}function Ks(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return u}var LS=null;function b3(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var p=u.data;if(p==="/$"||p==="/&"){if(f===0)return Ks(u.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}u=u.nextSibling}return null}function v3(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var p=u.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return u;f--}else p!=="/$"&&p!=="/&"||f++}u=u.previousSibling}return null}function w3(u,f,p){switch(f=vx(p),u){case"html":if(u=f.documentElement,!u)throw Error(n(452));return u;case"head":if(u=f.head,!u)throw Error(n(453));return u;case"body":if(u=f.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function Tm(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);Ze(u)}var Xs=new Map,j3=new Set;function wx(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Go=P.d;P.d={f:ree,r:nee,D:aee,C:see,L:iee,m:oee,X:cee,S:lee,M:uee};function ree(){var u=Go.f(),f=fx();return u||f}function nee(u){var f=lr(u);f!==null&&f.tag===5&&f.type==="form"?FP(f):Go.r(u)}var Wd=typeof document>"u"?null:document;function S3(u,f,p){var b=Wd;if(b&&typeof f=="string"&&f){var k=ds(f);k='link[rel="'+u+'"][href="'+k+'"]',typeof p=="string"&&(k+='[crossorigin="'+p+'"]'),j3.has(k)||(j3.add(k),u={rel:u,crossOrigin:p,href:f},b.querySelector(k)===null&&(f=b.createElement("link"),Na(f,"link",u),cr(f),b.head.appendChild(f)))}}function aee(u){Go.D(u),S3("dns-prefetch",u,null)}function see(u,f){Go.C(u,f),S3("preconnect",u,f)}function iee(u,f,p){Go.L(u,f,p);var b=Wd;if(b&&u&&f){var k='link[rel="preload"][as="'+ds(f)+'"]';f==="image"&&p&&p.imageSrcSet?(k+='[imagesrcset="'+ds(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(k+='[imagesizes="'+ds(p.imageSizes)+'"]')):k+='[href="'+ds(u)+'"]';var M=k;switch(f){case"style":M=Gd(u);break;case"script":M=Yd(u)}Xs.has(M)||(u=m({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:u,as:f},p),Xs.set(M,u),b.querySelector(k)!==null||f==="style"&&b.querySelector(_m(M))||f==="script"&&b.querySelector(Mm(M))||(f=b.createElement("link"),Na(f,"link",u),cr(f),b.head.appendChild(f)))}}function oee(u,f){Go.m(u,f);var p=Wd;if(p&&u){var b=f&&typeof f.as=="string"?f.as:"script",k='link[rel="modulepreload"][as="'+ds(b)+'"][href="'+ds(u)+'"]',M=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=Yd(u)}if(!Xs.has(M)&&(u=m({rel:"modulepreload",href:u},f),Xs.set(M,u),p.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Mm(M)))return}b=p.createElement("link"),Na(b,"link",u),cr(b),p.head.appendChild(b)}}}function lee(u,f,p){Go.S(u,f,p);var b=Wd;if(b&&u){var k=Cr(b).hoistableStyles,M=Gd(u);f=f||"default";var V=k.get(M);if(!V){var J={loading:0,preload:null};if(V=b.querySelector(_m(M)))J.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":f},p),(p=Xs.get(M))&&$S(u,p);var me=V=b.createElement("link");cr(me),Na(me,"link",u),me._p=new Promise(function(Pe,Ue){me.onload=Pe,me.onerror=Ue}),me.addEventListener("load",function(){J.loading|=1}),me.addEventListener("error",function(){J.loading|=2}),J.loading|=4,jx(V,f,b)}V={type:"stylesheet",instance:V,count:1,state:J},k.set(M,V)}}}function cee(u,f){Go.X(u,f);var p=Wd;if(p&&u){var b=Cr(p).hoistableScripts,k=Yd(u),M=b.get(k);M||(M=p.querySelector(Mm(k)),M||(u=m({src:u,async:!0},f),(f=Xs.get(k))&&FS(u,f),M=p.createElement("script"),cr(M),Na(M,"link",u),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function uee(u,f){Go.M(u,f);var p=Wd;if(p&&u){var b=Cr(p).hoistableScripts,k=Yd(u),M=b.get(k);M||(M=p.querySelector(Mm(k)),M||(u=m({src:u,async:!0,type:"module"},f),(f=Xs.get(k))&&FS(u,f),M=p.createElement("script"),cr(M),Na(M,"link",u),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function N3(u,f,p,b){var k=(k=ge.current)?wx(k):null;if(!k)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Gd(p.href),p=Cr(k).hoistableStyles,b=p.get(f),b||(b={type:"style",instance:null,count:0,state:null},p.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){u=Gd(p.href);var M=Cr(k).hoistableStyles,V=M.get(u);if(V||(k=k.ownerDocument||k,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(u,V),(M=k.querySelector(_m(u)))&&!M._p&&(V.instance=M,V.state.loading=5),Xs.has(u)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Xs.set(u,p),M||dee(k,u,p,V.state))),f&&b===null)throw Error(n(528,""));return V}if(f&&b!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Yd(p),p=Cr(k).hoistableScripts,b=p.get(f),b||(b={type:"script",instance:null,count:0,state:null},p.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function Gd(u){return'href="'+ds(u)+'"'}function _m(u){return'link[rel="stylesheet"]['+u+"]"}function k3(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function dee(u,f,p,b){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=u.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),Na(f,"link",p),cr(f),u.head.appendChild(f))}function Yd(u){return'[src="'+ds(u)+'"]'}function Mm(u){return"script[async]"+u}function C3(u,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var b=u.querySelector('style[data-href~="'+ds(p.href)+'"]');if(b)return f.instance=b,cr(b),b;var k=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),cr(b),Na(b,"style",k),jx(b,p.precedence,u),f.instance=b;case"stylesheet":k=Gd(p.href);var M=u.querySelector(_m(k));if(M)return f.state.loading|=4,f.instance=M,cr(M),M;b=k3(p),(k=Xs.get(k))&&$S(b,k),M=(u.ownerDocument||u).createElement("link"),cr(M);var V=M;return V._p=new Promise(function(J,me){V.onload=J,V.onerror=me}),Na(M,"link",b),f.state.loading|=4,jx(M,p.precedence,u),f.instance=M;case"script":return M=Yd(p.src),(k=u.querySelector(Mm(M)))?(f.instance=k,cr(k),k):(b=p,(k=Xs.get(M))&&(b=m({},p),FS(b,k)),u=u.ownerDocument||u,k=u.createElement("script"),cr(k),Na(k,"link",b),u.head.appendChild(k),f.instance=k);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,jx(b,p.precedence,u));return f.instance}function jx(u,f,p){for(var b=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,M=k,V=0;V<b.length;V++){var J=b[V];if(J.dataset.precedence===f)M=J;else if(M!==k)break}M?M.parentNode.insertBefore(u,M.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(u,f.firstChild))}function $S(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function FS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Sx=null;function T3(u,f,p){if(Sx===null){var b=new Map,k=Sx=new Map;k.set(p,b)}else k=Sx,b=k.get(p),b||(b=new Map,k.set(p,b));if(b.has(u))return b;for(b.set(u,null),p=p.getElementsByTagName(u),k=0;k<p.length;k++){var M=p[k];if(!(M[oe]||M[vt]||u==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var V=M.getAttribute(f)||"";V=u+V;var J=b.get(V);J?J.push(M):b.set(V,[M])}}return b}function _3(u,f,p){u=u.ownerDocument||u,u.head.insertBefore(p,f==="title"?u.querySelector("head > title"):null)}function fee(u,f,p){if(p===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function M3(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function hee(u,f,p,b){if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var k=Gd(b.href),M=f.querySelector(_m(k));if(M){f=M._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(u.count++,u=Nx.bind(u),f.then(u,u)),p.state.loading|=4,p.instance=M,cr(M);return}M=f.ownerDocument||f,b=k3(b),(k=Xs.get(k))&&$S(b,k),M=M.createElement("link"),cr(M);var V=M;V._p=new Promise(function(J,me){V.onload=J,V.onerror=me}),Na(M,"link",b),p.instance=M}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(u.count++,p=Nx.bind(u),f.addEventListener("load",p),f.addEventListener("error",p))}}var HS=0;function mee(u,f){return u.stylesheets&&u.count===0&&Cx(u,u.stylesheets),0<u.count||0<u.imgCount?function(p){var b=setTimeout(function(){if(u.stylesheets&&Cx(u,u.stylesheets),u.unsuspend){var M=u.unsuspend;u.unsuspend=null,M()}},6e4+f);0<u.imgBytes&&HS===0&&(HS=62500*YZ());var k=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Cx(u,u.stylesheets),u.unsuspend)){var M=u.unsuspend;u.unsuspend=null,M()}},(u.imgBytes>HS?50:800)+f);return u.unsuspend=p,function(){u.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function Nx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cx(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var kx=null;function Cx(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,kx=new Map,f.forEach(pee,u),kx=null,Nx.call(u))}function pee(u,f){if(!(f.state.loading&4)){var p=kx.get(u);if(p)var b=p.get(null);else{p=new Map,kx.set(u,p);for(var k=u.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<k.length;M++){var V=k[M];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),b=V)}b&&p.set(null,b)}k=f.instance,V=k.getAttribute("data-precedence"),M=p.get(V)||b,M===b&&p.set(null,k),p.set(V,k),this.count++,b=Nx.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),M?M.parentNode.insertBefore(k,M.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(k,u.firstChild)),f.state.loading|=4}}var Am={$$typeof:S,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function gee(u,f,p,b,k,M,V,J,me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=de(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.hiddenUpdates=de(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=M,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function A3(u,f,p,b,k,M,V,J,me,Pe,Ue,Qe){return u=new gee(u,f,p,V,me,Pe,Ue,Qe,J),f=1,M===!0&&(f|=24),M=ks(3,null,null,f),u.current=M,M.stateNode=u,f=bj(),f.refCount++,u.pooledCache=f,f.refCount++,M.memoizedState={element:b,isDehydrated:p,cache:f},Sj(M),u}function O3(u){return u?(u=kd,u):kd}function E3(u,f,p,b,k,M){k=O3(k),b.context===null?b.context=k:b.pendingContext=k,b=Vl(f),b.payload={element:p},M=M===void 0?null:M,M!==null&&(b.callback=M),p=ql(u,b,f),p!==null&&(xs(p,u,f),lm(p,u,f))}function D3(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var p=u.retryLane;u.retryLane=p!==0&&p<f?p:f}}function BS(u,f){D3(u,f),(u=u.alternate)&&D3(u,f)}function P3(u){if(u.tag===13||u.tag===31){var f=Yc(u,67108864);f!==null&&xs(f,u,67108864),BS(u,67108864)}}function R3(u){if(u.tag===13||u.tag===31){var f=As();f=Be(f);var p=Yc(u,f);p!==null&&xs(p,u,f),BS(u,f)}}var Tx=!0;function xee(u,f,p,b){var k=F.T;F.T=null;var M=P.p;try{P.p=2,zS(u,f,p,b)}finally{P.p=M,F.T=k}}function yee(u,f,p,b){var k=F.T;F.T=null;var M=P.p;try{P.p=8,zS(u,f,p,b)}finally{P.p=M,F.T=k}}function zS(u,f,p,b){if(Tx){var k=VS(b);if(k===null)_S(u,f,b,_x,p),L3(u,b);else if(vee(k,u,f,p,b))b.stopPropagation();else if(L3(u,b),f&4&&-1<bee.indexOf(u)){for(;k!==null;){var M=lr(k);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var V=ue(M.pendingLanes);if(V!==0){var J=M;for(J.pendingLanes|=2,J.entangledLanes|=2;V;){var me=1<<31-ne(V);J.entanglements[1]|=me,V&=~me}Ji(M),(Pr&6)===0&&(ux=ht()+500,Nm(0))}}break;case 31:case 13:J=Yc(M,2),J!==null&&xs(J,M,2),fx(),BS(M,2)}if(M=VS(b),M===null&&_S(u,f,b,_x,p),M===k)break;k=M}k!==null&&b.stopPropagation()}else _S(u,f,b,null,p)}}function VS(u){return u=U1(u),qS(u)}var _x=null;function qS(u){if(_x=null,u=bt(u),u!==null){var f=i(u);if(f===null)u=null;else{var p=f.tag;if(p===13){if(u=o(f),u!==null)return u;u=null}else if(p===31){if(u=l(f),u!==null)return u;u=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return _x=u,null}function I3(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case rt:return 2;case ke:return 8;case tt:case Se:return 32;case ft:return 268435456;default:return 32}default:return 32}}var US=!1,tc=null,rc=null,nc=null,Om=new Map,Em=new Map,ac=[],bee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L3(u,f){switch(u){case"focusin":case"focusout":tc=null;break;case"dragenter":case"dragleave":rc=null;break;case"mouseover":case"mouseout":nc=null;break;case"pointerover":case"pointerout":Om.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Em.delete(f.pointerId)}}function Dm(u,f,p,b,k,M){return u===null||u.nativeEvent!==M?(u={blockedOn:f,domEventName:p,eventSystemFlags:b,nativeEvent:M,targetContainers:[k]},f!==null&&(f=lr(f),f!==null&&P3(f)),u):(u.eventSystemFlags|=b,f=u.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),u)}function vee(u,f,p,b,k){switch(f){case"focusin":return tc=Dm(tc,u,f,p,b,k),!0;case"dragenter":return rc=Dm(rc,u,f,p,b,k),!0;case"mouseover":return nc=Dm(nc,u,f,p,b,k),!0;case"pointerover":var M=k.pointerId;return Om.set(M,Dm(Om.get(M)||null,u,f,p,b,k)),!0;case"gotpointercapture":return M=k.pointerId,Em.set(M,Dm(Em.get(M)||null,u,f,p,b,k)),!0}return!1}function $3(u){var f=bt(u.target);if(f!==null){var p=i(f);if(p!==null){if(f=p.tag,f===13){if(f=o(p),f!==null){u.blockedOn=f,br(u.priority,function(){R3(p)});return}}else if(f===31){if(f=l(p),f!==null){u.blockedOn=f,br(u.priority,function(){R3(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){u.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Mx(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var p=VS(u.nativeEvent);if(p===null){p=u.nativeEvent;var b=new p.constructor(p.type,p);q1=b,p.target.dispatchEvent(b),q1=null}else return f=lr(p),f!==null&&P3(f),u.blockedOn=p,!1;f.shift()}return!0}function F3(u,f,p){Mx(u)&&p.delete(f)}function wee(){US=!1,tc!==null&&Mx(tc)&&(tc=null),rc!==null&&Mx(rc)&&(rc=null),nc!==null&&Mx(nc)&&(nc=null),Om.forEach(F3),Em.forEach(F3)}function Ax(u,f){u.blockedOn===f&&(u.blockedOn=null,US||(US=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wee)))}var Ox=null;function H3(u){Ox!==u&&(Ox=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ox===u&&(Ox=null);for(var f=0;f<u.length;f+=3){var p=u[f],b=u[f+1],k=u[f+2];if(typeof b!="function"){if(qS(b||p)===null)continue;break}var M=lr(p);M!==null&&(u.splice(f,3),f-=3,Vj(M,{pending:!0,data:k,method:p.method,action:b},b,k))}}))}function Kd(u){function f(me){return Ax(me,u)}tc!==null&&Ax(tc,u),rc!==null&&Ax(rc,u),nc!==null&&Ax(nc,u),Om.forEach(f),Em.forEach(f);for(var p=0;p<ac.length;p++){var b=ac[p];b.blockedOn===u&&(b.blockedOn=null)}for(;0<ac.length&&(p=ac[0],p.blockedOn===null);)$3(p),p.blockedOn===null&&ac.shift();if(p=(u.ownerDocument||u).$$reactFormReplay,p!=null)for(b=0;b<p.length;b+=3){var k=p[b],M=p[b+1],V=k[jr]||null;if(typeof M=="function")V||H3(p);else if(V){var J=null;if(M&&M.hasAttribute("formAction")){if(k=M,V=M[jr]||null)J=V.formAction;else if(qS(k)!==null)continue}else J=V.action;typeof J=="function"?p[b+1]=J:(p.splice(b,3),b-=3),H3(p)}}}function B3(){function u(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(V){return k=V})},focusReset:"manual",scroll:"manual"})}function f(){k!==null&&(k(),k=null),b||setTimeout(p,20)}function p(){if(!b&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){b=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),k!==null&&(k(),k=null)}}}function WS(u){this._internalRoot=u}Ex.prototype.render=WS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,b=As();E3(p,b,u,f,null,null)},Ex.prototype.unmount=WS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;E3(u.current,2,null,u,null,null),fx(),f[Dt]=null}};function Ex(u){this._internalRoot=u}Ex.prototype.unstable_scheduleHydration=function(u){if(u){var f=Lt();u={blockedOn:null,target:u,priority:f};for(var p=0;p<ac.length&&f!==0&&f<ac[p].priority;p++);ac.splice(p,0,u),p===0&&$3(u)}};var z3=e.version;if(z3!=="19.2.0")throw Error(n(527,z3,"19.2.0"));P.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=d(f),u=u!==null?h(u):null,u=u===null?null:u.stateNode,u};var jee={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dx.isDisabled&&Dx.supportsFiber)try{we=Dx.inject(jee),at=Dx}catch{}}return Rm.createRoot=function(u,f){if(!a(u))throw Error(n(299));var p=!1,b="",k=KP,M=XP,V=JP;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(k=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=A3(u,1,!1,null,null,p,b,null,k,M,V,B3),u[Dt]=f.current,TS(u),new WS(f)},Rm.hydrateRoot=function(u,f,p){if(!a(u))throw Error(n(299));var b=!1,k="",M=KP,V=XP,J=JP,me=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onUncaughtError!==void 0&&(M=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(J=p.onRecoverableError),p.formState!==void 0&&(me=p.formState)),f=A3(u,1,!0,f,p??null,b,k,me,M,V,J,B3),f.context=O3(null),p=f.current,b=As(),b=Be(b),k=Vl(b),k.callback=null,ql(p,k,b),p=b,f.current.lanes=p,se(f,p),Ji(f),u[Dt]=f.current,TS(u),new Ex(f)},Rm.version="19.2.0",Rm}var Q3;function Ree(){if(Q3)return KS.exports;Q3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),KS.exports=Pee(),KS.exports}var Iee=Ree();const Lee=Dr(Iee);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z3="popstate";function $ee(t={}){function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return k_("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Bp(a)}return Hee(e,r,null,t)}function Sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fee(){return Math.random().toString(36).substring(2,10)}function e6(t,e){return{usr:t.state,key:t.key,idx:e}}function k_(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_h(e):e,state:r,key:e&&e.key||n||Fee()}}function Bp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _h(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Hee(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let v=h(),N=v==null?null:v-d;d=v,c&&c({action:l,location:j.location,delta:N})}function g(v,N){l="PUSH";let C=k_(j.location,v,N);d=h()+1;let S=e6(C,d),E=j.createHref(C);try{o.pushState(S,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(E)}i&&c&&c({action:l,location:j.location,delta:1})}function y(v,N){l="REPLACE";let C=k_(j.location,v,N);d=h();let S=e6(C,d),E=j.createHref(C);o.replaceState(S,"",E),i&&c&&c({action:l,location:j.location,delta:0})}function w(v){return Bee(v)}let j={get action(){return l},get location(){return t(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Z3,m),c=v,()=>{a.removeEventListener(Z3,m),c=null}},createHref(v){return e(a,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:y,go(v){return o.go(v)}};return j}function Bee(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Sn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Bp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Fz(t,e,r="/"){return zee(t,e,r,!1)}function zee(t,e,r,n){let a=typeof e=="string"?_h(e):e,i=vl(a.pathname||"/",r);if(i==null)return null;let o=Hz(t);Vee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ete(i);l=Qee(o[c],d,n)}return l}function Hz(t,e=[],r=[],n="",a=!1){let i=(o,l,c=a,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;Sn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=ll([n,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(Sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Hz(o.children,e,g,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:Xee(m,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Bz(o.path))i(o,l,!0,d)}),e}function Bz(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Bz(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Vee(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Jee(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var qee=/^:[\w-]+$/,Uee=3,Wee=2,Gee=1,Yee=10,Kee=-2,t6=t=>t==="*";function Xee(t,e){let r=t.split("/"),n=r.length;return r.some(t6)&&(n+=Kee),e&&(n+=Wee),r.filter(a=>!t6(a)).reduce((a,i)=>a+(qee.test(i)?Uee:i===""?Gee:Yee),n)}function Jee(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Qee(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:ll([i,m.pathname]),pathnameBase:ate(ll([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=ll([i,m.pathnameBase]))}return o}function ob(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Zee(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let w=l[g]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[g];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Zee(t,e=!1,r=!0){vo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function ete(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function tte(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?_h(t):t;return{pathname:r?r.startsWith("/")?r:rte(r,e):e,search:ste(n),hash:ite(a)}}function rte(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ZS(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nte(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zz(t){let e=nte(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Vz(t,e,r,n=!1){let a;typeof t=="string"?a=_h(t):(a={...t},Sn(!a.pathname||!a.pathname.includes("?"),ZS("?","pathname","search",a)),Sn(!a.pathname||!a.pathname.includes("#"),ZS("#","pathname","hash",a)),Sn(!a.search||!a.search.includes("#"),ZS("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=tte(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ll=t=>t.join("/").replace(/\/\/+/g,"/"),ate=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ste=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ite=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ote(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var qz=["POST","PUT","PATCH","DELETE"];new Set(qz);var lte=["GET",...qz];new Set(lte);var Mh=x.createContext(null);Mh.displayName="DataRouter";var Sw=x.createContext(null);Sw.displayName="DataRouterState";x.createContext(!1);var Uz=x.createContext({isTransitioning:!1});Uz.displayName="ViewTransition";var cte=x.createContext(new Map);cte.displayName="Fetchers";var ute=x.createContext(null);ute.displayName="Await";var Co=x.createContext(null);Co.displayName="Navigation";var G0=x.createContext(null);G0.displayName="Location";var zi=x.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var hA=x.createContext(null);hA.displayName="RouteError";function dte(t,{relative:e}={}){Sn(Y0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(Co),{hash:a,pathname:i,search:o}=K0(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:ll([r,i])),n.createHref({pathname:l,search:o,hash:a})}function Y0(){return x.useContext(G0)!=null}function Zn(){return Sn(Y0(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(G0).location}var Wz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gz(t){x.useContext(Co).static||x.useLayoutEffect(t)}function Nt(){let{isDataRoute:t}=x.useContext(zi);return t?Cte():fte()}function fte(){Sn(Y0(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Mh),{basename:e,navigator:r}=x.useContext(Co),{matches:n}=x.useContext(zi),{pathname:a}=Zn(),i=JSON.stringify(zz(n)),o=x.useRef(!1);return Gz(()=>{o.current=!0}),x.useCallback((c,d={})=>{if(vo(o.current,Wz),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=Vz(c,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ll([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,a,t])}var hte=x.createContext(null);function mte(t){let e=x.useContext(zi).outlet;return x.useMemo(()=>e&&x.createElement(hte.Provider,{value:t},e),[e,t])}function Ea(){let{matches:t}=x.useContext(zi),e=t[t.length-1];return e?e.params:{}}function K0(t,{relative:e}={}){let{matches:r}=x.useContext(zi),{pathname:n}=Zn(),a=JSON.stringify(zz(r));return x.useMemo(()=>Vz(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function pte(t,e){return Yz(t,e)}function Yz(t,e,r,n,a){var C;Sn(Y0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Co),{matches:o}=x.useContext(zi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";Kz(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Zn(),y;if(e){let S=typeof e=="string"?_h(e):e;Sn(h==="/"||((C=S.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=g;let w=y.pathname||"/",j=w;if(h!=="/"){let S=h.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=Fz(t,{pathname:j});vo(m||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),vo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=vte(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:ll([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:ll([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,a);return e&&N?x.createElement(G0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},N):N}function gte(){let t=kte(),e=ote(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:a},r):null,o)}var xte=x.createElement(gte,null),yte=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(zi.Provider,{value:this.props.routeContext},x.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bte({routeContext:t,match:e,children:r}){let n=x.useContext(Mh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(zi.Provider,{value:t},r)}function vte(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Sn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:g}=r,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,y=!1,w=null,j=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||xte,l&&(c<0&&m===0?(Kz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):c===m&&(y=!0,j=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),N=()=>{let C;return g?C=w:y?C=j:h.route.Component?C=x.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,x.createElement(bte,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:C})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(yte,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):N()},null)}function mA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wte(t){let e=x.useContext(Mh);return Sn(e,mA(t)),e}function jte(t){let e=x.useContext(Sw);return Sn(e,mA(t)),e}function Ste(t){let e=x.useContext(zi);return Sn(e,mA(t)),e}function pA(t){let e=Ste(t),r=e.matches[e.matches.length-1];return Sn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Nte(){return pA("useRouteId")}function kte(){var n;let t=x.useContext(hA),e=jte("useRouteError"),r=pA("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Cte(){let{router:t}=wte("useNavigate"),e=pA("useNavigate"),r=x.useRef(!1);return Gz(()=>{r.current=!0}),x.useCallback(async(a,i={})=>{vo(r.current,Wz),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var r6={};function Kz(t,e,r){!e&&!r6[t]&&(r6[t]=!0,vo(!1,r))}x.memo(Tte);function Tte({routes:t,future:e,state:r,unstable_onError:n}){return Yz(t,void 0,r,n,e)}function _te(t){return mte(t.context)}function lt(t){Sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mte({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Sn(!Y0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=_h(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:g="default"}=r,y=x.useMemo(()=>{let w=vl(c,o);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:g},navigationType:n}},[o,c,d,h,m,g,n]);return vo(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(Co.Provider,{value:l},x.createElement(G0.Provider,{children:e,value:y}))}function Ate({children:t,location:e}){return pte(C_(t),e)}function C_(t,e=[]){let r=[];return x.Children.forEach(t,(n,a)=>{if(!x.isValidElement(n))return;let i=[...e,a];if(n.type===x.Fragment){r.push.apply(r,C_(n.props.children,i));return}Sn(n.type===lt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=C_(n.props.children,i)),r.push(o)}),r}var Py="get",Ry="application/x-www-form-urlencoded";function Nw(t){return t!=null&&typeof t.tagName=="string"}function Ote(t){return Nw(t)&&t.tagName.toLowerCase()==="button"}function Ete(t){return Nw(t)&&t.tagName.toLowerCase()==="form"}function Dte(t){return Nw(t)&&t.tagName.toLowerCase()==="input"}function Pte(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rte(t,e){return t.button===0&&(!e||e==="_self")&&!Pte(t)}var Rx=null;function Ite(){if(Rx===null)try{new FormData(document.createElement("form"),0),Rx=!1}catch{Rx=!0}return Rx}var Lte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eN(t){return t!=null&&!Lte.has(t)?(vo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ry}"`),null):t}function $te(t,e){let r,n,a,i,o;if(Ete(t)){let l=t.getAttribute("action");n=l?vl(l,e):null,r=t.getAttribute("method")||Py,a=eN(t.getAttribute("enctype"))||Ry,i=new FormData(t)}else if(Ote(t)||Dte(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?vl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Py,a=eN(t.getAttribute("formenctype"))||eN(l.getAttribute("enctype"))||Ry,i=new FormData(l,t),!Ite()){let{name:d,type:h,value:m}=t;if(h==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,m)}}else{if(Nw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Py,n=null,a=Ry,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fte(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&vl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Hte(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bte(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zte(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await Hte(i,r);return o.links?o.links():[]}return[]}));return Wte(n.flat(1).filter(Bte).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function n6(t,e,r,n,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var h;return r[d].pathname!==c.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Vte(t,e,{includeHydrateFallback:r}={}){return qte(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function qte(t){return[...new Set(t)]}function Ute(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Wte(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(Ute(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function Xz(){let t=x.useContext(Mh);return gA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Gte(){let t=x.useContext(Sw);return gA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xA=x.createContext(void 0);xA.displayName="FrameworkContext";function Jz(){let t=x.useContext(xA);return gA(t,"You must render this element inside a <HydratedRouter> element"),t}function Yte(t,e){let r=x.useContext(xA),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,g=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=N=>{N.forEach(C=>{o(C.isIntersecting)})},v=new IntersectionObserver(j,{threshold:.5});return g.current&&v.observe(g.current),()=>{v.disconnect()}}},[t]),x.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let y=()=>{a(!0)},w=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Im(l,y),onBlur:Im(c,w),onMouseEnter:Im(d,y),onMouseLeave:Im(h,w),onTouchStart:Im(m,y)}]:[!1,g,{}]}function Im(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Kte({page:t,...e}){let{router:r}=Xz(),n=x.useMemo(()=>Fz(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?x.createElement(Jte,{page:t,matches:n,...e}):null}function Xte(t){let{manifest:e,routeModules:r}=Jz(),[n,a]=x.useState([]);return x.useEffect(()=>{let i=!1;return zte(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function Jte({page:t,matches:e,...r}){let n=Zn(),{manifest:a,routeModules:i}=Jz(),{basename:o}=Xz(),{loaderData:l,matches:c}=Gte(),d=x.useMemo(()=>n6(t,e,c,a,n,"data"),[t,e,c,a,n]),h=x.useMemo(()=>n6(t,e,c,a,n,"assets"),[t,e,c,a,n]),m=x.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,j=!1;if(e.forEach(N=>{var S;let C=a.routes[N.route.id];!C||!C.hasLoader||(!d.some(E=>E.route.id===N.route.id)&&N.route.id in l&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||C.hasClientLoader?j=!0:w.add(N.route.id))}),w.size===0)return[];let v=Fte(t,o,"data");return j&&w.size>0&&v.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,n,a,d,e,t,i]),g=x.useMemo(()=>Vte(h,a),[h,a]),y=Xte(h);return x.createElement(x.Fragment,null,m.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:j})=>x.createElement("link",{key:w,nonce:r.nonce,...j})))}function Qte(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Qz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qz&&(window.__reactRouterVersion="7.9.3")}catch{}function Zte({basename:t,children:e,window:r}){let n=x.useRef();n.current==null&&(n.current=$ee({window:r,v5Compat:!0}));let a=n.current,[i,o]=x.useState({action:a.action,location:a.location}),l=x.useCallback(c=>{x.startTransition(()=>o(c))},[o]);return x.useLayoutEffect(()=>a.listen(l),[a,l]),x.createElement(Mte,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var Zz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mc=x.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...g},y){let{basename:w}=x.useContext(Co),j=typeof d=="string"&&Zz.test(d),v,N=!1;if(typeof d=="string"&&j&&(v=d,Qz))try{let $=new URL(window.location.href),L=d.startsWith("//")?new URL($.protocol+d):new URL(d),I=vl(L.pathname,w);L.origin===$.origin&&I!=null?d=I+L.search+L.hash:N=!0}catch{vo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=dte(d,{relative:a}),[S,E,T]=Yte(n,g),A=nre(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:m});function O($){e&&e($),$.defaultPrevented||A($)}let D=x.createElement("a",{...g,...T,href:v||C,onClick:N||i?e:O,ref:Qte(y,E),target:c,"data-discover":!j&&r==="render"?"true":void 0});return S&&!j?x.createElement(x.Fragment,null,D,x.createElement(Kte,{page:C})):D});Mc.displayName="Link";var ere=x.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let m=K0(o,{relative:d.relative}),g=Zn(),y=x.useContext(Sw),{navigator:w,basename:j}=x.useContext(Co),v=y!=null&&lre(m)&&l===!0,N=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=g.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(C=C.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&j&&(S=vl(S,j)||S);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=C===N||!a&&C.startsWith(N)&&C.charAt(E)==="/",A=S!=null&&(S===N||!a&&S.startsWith(N)&&S.charAt(N.length)==="/"),O={isActive:T,isPending:A,isTransitioning:v},D=T?e:void 0,$;typeof n=="function"?$=n(O):$=[n,T?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(O):i;return x.createElement(Mc,{...d,"aria-current":D,className:$,ref:h,style:L,to:o,viewTransition:l},typeof c=="function"?c(O):c)});ere.displayName="NavLink";var tre=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Py,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...g},y)=>{let w=ire(),j=ore(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&Zz.test(l),C=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,T=(E==null?void 0:E.getAttribute("formmethod"))||o;w(E||S.currentTarget,{fetcherKey:e,method:T,navigate:r,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return x.createElement("form",{ref:y,method:v,action:j,onSubmit:n?c:C,...g,"data-discover":!N&&t==="render"?"true":void 0})});tre.displayName="Form";function rre(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eV(t){let e=x.useContext(Mh);return Sn(e,rre(t)),e}function nre(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Nt(),c=Zn(),d=K0(t,{relative:i});return x.useCallback(h=>{if(Rte(h,e)){h.preventDefault();let m=r!==void 0?r:Bp(c)===Bp(d);l(t,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,n,e,t,a,i,o])}var are=0,sre=()=>`__${String(++are)}__`;function ire(){let{router:t}=eV("useSubmit"),{basename:e}=x.useContext(Co),r=Nte();return x.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=$te(n,e);if(a.navigate===!1){let h=a.fetcherKey||sre();await t.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function ore(t,{relative:e}={}){let{basename:r}=x.useContext(Co),n=x.useContext(zi);Sn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...K0(t||".",{relative:e})},o=Zn();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ll([r,i.pathname])),Bp(i)}function lre(t,{relative:e}={}){let r=x.useContext(Uz);Sn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eV("useViewTransitionState"),a=K0(t,{relative:e});if(!r.isTransitioning)return!1;let i=vl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=vl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ob(a.pathname,o)!=null||ob(a.pathname,i)!=null}var yA=$z();const tV=Dr(yA),a6=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function cre(t,e){var a,i,o,l,c,d,h,m,g,y,w,j,v,N,C,S,E,T,A,O,D,$,L,I,R,H,G;const r=((a=t.stoptime)==null?void 0:a.name)||((o=(i=e==null?void 0:e.stoptimes)==null?void 0:i.data.find(q=>String(q.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(d=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(q=>String(q.id)===String(t.itemtrouble_id)))!=null&&d.name,(h=t.jenisaktifitas)!=null&&h.name||(g=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(q=>String(q.id)===String(t.jenisaktifitas_id)))!=null&&g.name,(y=t.kegiatan)!=null&&y.name||(j=(w=e==null?void 0:e.kegiatans)==null?void 0:w.data.find(q=>String(q.id)===String(t.kegiatan_id)))!=null&&j.name;const n=((v=t.unitsp)==null?void 0:v.name)||((C=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(q=>String(q.id)===String(t.unitsp_id)))==null?void 0:C.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((E=t.group)==null?void 0:E.name)||"-",unit:((T=t.unit)==null?void 0:T.name)||"-",mesin:((A=t.mesin)==null?void 0:A.name)||"-",stopJam:((O=t.startstop)==null?void 0:O.stop_time_hh)??null,stopMenit:((D=t.startstop)==null?void 0:D.stop_time_mm)??null,startJam:(($=t.startstop)==null?void 0:$.start_time_hh)??null,startMenit:((L=t.startstop)==null?void 0:L.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((I=t.itemtrouble)==null?void 0:I.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((R=t.jenisaktifitas)==null?void 0:R.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((H=t.jenisaktifitas)==null?void 0:H.name)||"-",kegiatan:((G=t.kegiatan)==null?void 0:G.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const Lm=Cee(),rV=x.createContext(null),ou=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,roles:t.roles||[],customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null,position:t.position}},ure=({children:t})=>{const[e,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),[d,h]=x.useState(!0),[m,g]=x.useState(!0),[y,w]=x.useState(null),j=Nt(),v=x.useRef(!1),N=x.useCallback(async()=>{o(!0);try{const Y=n||localStorage.getItem("token");Y&&await fetch(`${Lm.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),a(null),r(null),c(null),o(!1),j("/login")}},[n,j]),C=x.useCallback(async()=>{if(v.current)return new Promise(W=>{const fe=setInterval(()=>{v.current||(clearInterval(fe),W(localStorage.getItem("token")))},100)});v.current=!0;const Y=localStorage.getItem("refreshToken");if(!Y)return await N(),null;try{const W=await fetch(`${Lm.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify({refresh_token:Y})});if(!W.ok){if(W.status===401)return await N(),null;throw new Error("Token refresh failed")}const fe=await W.json(),mt=fe.access_token,ur=fe.refresh_token||Y;return localStorage.setItem("token",mt),localStorage.setItem("refreshToken",ur),a(mt),r(vr=>vr?{...vr,access_token:mt,refresh_token:ur}:null),mt}catch{return await N(),null}finally{v.current=!1}},[N]),S=x.useCallback(async(Y,W={})=>{let fe=n||localStorage.getItem("token");const mt=async ur=>{var Wi;if(!ur)throw new Error("No token found");const vr=new Headers(W.headers||{});((Wi=vr.get("Content-Type"))!=null&&Wi.includes("application/json")||!vr.has("Content-Type"))&&vr.set("Content-Type","application/json"),vr.set("Authorization",`Bearer ${ur}`);const la=await fetch(`${Lm.envVariables.VITE_REACT_API_URL}${Y}`,{...W,headers:vr});if(la.status===204||la.statusText==="No Content")return null;if(!la.ok){let Gi;try{Gi=await la.json()}catch{Gi=await la.text()}throw new Error(Gi.message||`HTTP error! Status: ${la.status}`)}let ji;try{return ji=await la.text(),ji?JSON.parse(ji):null}catch{return ji}};try{return await mt(fe)}catch(ur){if(ur instanceof Error&&ur.message.includes("status: 401")){const vr=await C();if(vr)return await mt(vr)}throw ur}},[n,C]),E=x.useCallback(async()=>{const Y=await S("/user/profile?includes_trashed=true"),W=ou(Y);return r(W),localStorage.setItem("user",JSON.stringify(W)),W},[S]),T=x.useCallback(async()=>{const Y=localStorage.getItem("token"),W=localStorage.getItem("user"),fe=localStorage.getItem("refreshToken");if(Y&&fe){a(Y);try{if(W){const ur=JSON.parse(W);r(ou(ur))}const mt=await E();r(mt)}catch{await N()}}},[E,N]),A=x.useCallback(async()=>{const[Y,W,fe,mt,ur,vr,la,ji,Wi]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:Y,shifts:fe,groups:W,stoptimes:Wi,units:mt,itemtroubles:vr,jenisaktivitas:la,kegiatans:ji,unitspareparts:ur}},[S]),O=x.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(Y){throw Y}},[S]),D=x.useCallback(async Y=>{const W=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <AddAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <asset>
              <Name>${Y.name}</Name>
              <Category>${Y.category}</Category>
              <Location>${Y.location}</Location>
              <PurchaseDate>${Y.purchase_date}</PurchaseDate>
              <Description>${Y.description}</Description>
              <Type>${Y.type??""}</Type>
              <Make>${Y.make??""}</Make>
              <Model>${Y.model??""}</Model>
              <Status>${Y.status??""}</Status>
              <LastMaintenance>${Y.last_maintenance??""}</LastMaintenance>
              <NextMaintenance>${Y.next_maintenance??""}</NextMaintenance>
              <WorkOrders>${Y.work_orders??""}</WorkOrders>
              <Health>${Y.health??""}</Health>
            </asset>
          </AddAsset>
        </soap:Body>
      </soap:Envelope>`;try{const fe=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/ERPService/AssetManagement/AddAsset"},body:W});if(console.log("ERP SOAP Response:",fe),typeof fe=="string"&&fe.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return fe}catch(fe){throw console.error("Error adding asset:",fe),fe}},[]),$=x.useCallback(async Y=>{const W=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${Y.id}</assetId>
            <assetName>${Y.name}</assetName>
            <assetCategory>${Y.category}</assetCategory>
            <assetLocation>${Y.location}</assetLocation>
            <purchaseDate>${Y.purchase_date}</purchaseDate>
            <description>${Y.description}</description>
            <assetType>${Y.type??""}</assetType>
            <assetMake>${Y.make??""}</assetMake>
            <assetModel>${Y.model??""}</assetModel>
            <assetStatus>${Y.status??""}</assetStatus>
            <lastMaintenance>${Y.last_maintenance??""}</lastMaintenance>
            <nextMaintenance>${Y.next_maintenance??""}</nextMaintenance>
            <workOrders>${Y.work_orders??""}</workOrders>
            <health>${Y.health??""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{return await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/ERPService/AssetManagement/EditAsset"},body:W})}catch(fe){throw console.error("Error editing asset:",fe),fe}},[S]),L=x.useCallback(async Y=>{const W=`<?xml version="1.0" encoding="utf-8"?>
    <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
      <soap:Body>
        <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
          <assetId>${Y}</assetId>
        </DeleteAsset>
      </soap:Body>
    </soap:Envelope>`;try{const fe=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/ERPService/AssetManagement/DeleteAsset"},body:W});if(console.log("ERP SOAP Delete Response:",fe),typeof fe=="string"&&fe.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return fe}catch(fe){throw console.error("Error deleting asset:",fe),fe}},[S]),I=x.useCallback(async()=>{try{const Y=await S("/history?includes_trashed=true");return Y&&Y.history&&Array.isArray(Y.history)?Y.history:Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected audit trail response format:",Y),[])}catch(Y){return console.error("Failed to fetch audit trail:",Y),[]}},[S]),R=x.useCallback(Y=>{var fe;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(Y))return Y.some(mt=>{var vr;const ur=/^\d+$/.test(mt)?a6(mt):mt;return ur?(vr=e.permissions)==null?void 0:vr.includes(ur):!1});const W=/^\d+$/.test(Y)?a6(Y):Y;return W&&((fe=e.permissions)==null?void 0:fe.includes(W))||!1},[e]);x.useEffect(()=>{(async()=>{g(!0);try{if(await T(),n){const W=await A();c(W)}}catch{await N()}finally{g(!1),h(!1)}})()},[n,T,A,N]);const H=async(Y,W,fe,mt,ur,vr,la,ji)=>{const Wi=await fetch(`${Lm.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Y,nik:fe,email:W,password:mt,department:ur,position:vr,role_id:la||null,customPermissions:ji?ji.map(Number):[]})}),Gi=await Wi.json();if(!Wi.ok)throw new Error(Gi.message||"User creation failed");return Gi},G=x.useCallback(async(Y,W)=>{g(!0);try{const fe=await fetch(`${Lm.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:Y,password:W})});if(!fe.ok){const vr=await fe.json();throw new Error(vr.message||"Login failed")}const mt=await fe.json(),ur=ou({...mt.user,access_token:mt.access_token,refresh_token:mt.refresh_token,permissions:mt.user.permissions||mt.user.allPermissions||[]});localStorage.setItem("token",mt.access_token),localStorage.setItem("refreshToken",mt.refresh_token),localStorage.setItem("user",JSON.stringify(ur)),a(mt.access_token),r(ur);try{const vr=await A();c(vr)}catch{}j("/dashboard")}catch(fe){throw fe}finally{g(!1)}},[j,A]),q=x.useCallback(async Y=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),[S]),F=x.useCallback(async(Y="")=>{try{const W=await S(Y?`/mhs?search=${encodeURIComponent(Y)}?includes_trashed=true`:"/mhs?includes_trashed=true"),fe=await A(),mt=W.data||W;if(!Array.isArray(mt))throw new Error("Invalid response format");return mt.map(ur=>cre(ur,fe))}catch{return[]}},[S,A]),P=x.useCallback(async Y=>await S(`/mhs/${Y}?includes_trashed=true`),[S]),B=x.useCallback(async(Y,W)=>await S(`/mhs/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),[S]),K=x.useCallback(async Y=>await S(`/mhs/${Y}?includes_trashed=true`,{method:"DELETE"}),[S]),te=x.useCallback(async Y=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),[S]),U=x.useCallback(async()=>{const Y=await S("/ayam?includes_trashed=true");return Array.isArray(Y)?Y:Array.isArray(Y.data)?Y.data:[]},[S]),Q=x.useCallback(async Y=>{const W=await S(`/ayam/${Y}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",W),W},[S]),ie=x.useCallback(async Y=>{if(!Y.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${Y.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).data},[S]),le=x.useCallback(async Y=>await S(`/ayam/${Y}?includes_trashed=true`,{method:"DELETE"}),[S]),ce=x.useCallback(async Y=>(await U()).filter(fe=>(fe.requester_id===parseInt(Y)||fe.assigned_to_id===parseInt(Y))&&(fe.handling_status==="New"||fe.handling_status==="Progress")),[U]),ge=x.useCallback(async(Y,W)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:Y,new_password:W,new_password_confirmation:W})})},[S]),$e=x.useCallback(async()=>{try{const Y=await S("/users?includes_trashed=true");let W;return Y&&Y.success!==void 0?W=Y.data||[]:Array.isArray(Y)?W=Y:W=[],W.map(fe=>ou(fe))}catch(Y){return console.error("Failed to fetch users:",Y),[]}},[S]);x.useCallback(async Y=>{const W=await S(`/users/${Y}?includes_trashed=true`);return ou(W)},[S]);const Oe=x.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(W=>ou(W)),[S]),xe=x.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(W=>({id:String(W.id),name:W.name,description:W.description||`${W.name} role`,permissions:W.permissions.map(String),isSuperadmin:W.name==="superadmin"})),[S]),Ae=x.useCallback(async Y=>{const W=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Y.name,description:Y.description,permissions:Y.permissions.map(Number)})});return{id:String(W.id),name:W.name,description:W.description,permissions:W.permissions.map(String)}},[S]),Ve=x.useCallback(async(Y,W)=>{var mt;const fe=await S(`/roles/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:W.name,description:W.description,permissions:(mt=W.permissions)==null?void 0:mt.map(Number)})});return{id:String(fe.id),name:fe.name,description:fe.description,permissions:fe.permissions.map(String)}},[S]),ee=x.useCallback(async Y=>{await S(`/roles/${Y}?includes_trashed=true`,{method:"DELETE"})},[S]),ae=x.useCallback(async(Y,W)=>{const fe=await S(`/users/${Y}?includes_trashed=true`),mt=await S(`/users/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:fe.name,nik:fe.nik,email:fe.email,department:fe.department,roleId:W.roleId||null,customPermissions:W.customPermissions||[]})});return ou(mt)},[S]),Z=x.useCallback(async Y=>{await S(`/users/${Y}?includes_trashed=true`,{method:"DELETE"})},[S]),ve=x.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(Y){return console.error("Failed to fetch service groups:",Y),[]}},[S]),Ge=x.useCallback(async Y=>{try{return(await S(`/service-groups/${Y}?includes_trashed=true`)).data}catch(W){throw console.error(`Failed to fetch service group with id ${Y}:`,W),W}},[S]),Ke=x.useCallback(async Y=>{try{const W=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!W)throw new Error("No response from server");if(W.success===!1)throw new Error(W.message||"Failed to create service group");const fe=W.data||W;return{id:fe.id,group_name:fe.group_name,group_description:fe.group_description}}catch(W){throw console.error("Error adding service group:",W),new Error(`Failed to add service group: ${W instanceof Error?W.message:String(W)}`)}},[S]),pe=x.useCallback(async(Y,W)=>{try{const fe=await S(`/service-groups/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),mt=fe.data||fe;return{id:mt.id,group_name:mt.group_name,group_description:mt.group_description}}catch(fe){throw console.error(`Failed to update service group with id ${Y}:`,fe),new Error(`Failed to update service group: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),ot=x.useCallback(async Y=>{try{await S(`/service-groups/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete service group with id ${Y}:`,W),new Error(`Failed to delete service group: ${W instanceof Error?W.message:String(W)}`)}},[S]),gt=x.useCallback(async Y=>{try{return(await S("/service-catalogues?includes_trashed=true")).data.map(fe=>({id:fe.id,service_name:fe.service_name,service_description:fe.service_description,service_type:fe.service_type,priority:fe.priority,service_owner:fe.service_owner,sla:fe.sla,impact:fe.impact,created_at:fe.created_at,updated_at:fe.updated_at}))}catch(W){return console.error("Failed to fetch services:",W),[]}},[S]),Re=x.useCallback(async Y=>{try{const W=await S(`/service-catalogues?owner=${Y}&includes_trashed=true`);return W.data||W}catch(W){return console.error("Failed to fetch services by owner:",W),[]}},[S]),ct=x.useCallback(async Y=>{try{const W=await S("/service-catalogues?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),fe=W.data||W;return{id:fe.id,service_name:fe.service_name,service_description:fe.service_description,service_type:fe.service_type,priority:fe.priority,service_owner:fe.service_owner,sla:fe.sla,impact:fe.impact,created_at:fe.created_at,updated_at:fe.updated_at}}catch(W){throw console.error("Error adding service catalogue:",W),new Error(`Failed to add service catalogue: ${W instanceof Error?W.message:String(W)}`)}},[S]),St=x.useCallback(async(Y,W)=>{try{const fe=await S(`/service-catalogues/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),mt=fe.data||fe;return{id:mt.id,service_name:mt.service_name,service_description:mt.service_description,service_type:mt.service_type,priority:mt.priority,service_owner:mt.service_owner,sla:mt.sla,impact:mt.impact,created_at:mt.created_at,updated_at:mt.updated_at}}catch(fe){throw console.error(`Failed to update service catalogue with id ${Y}:`,fe),new Error(`Failed to update service catalogue: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),ht=x.useCallback(async Y=>{try{await S(`/service-catalogues/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete service catalogue with id ${Y}:`,W),new Error(`Failed to delete service catalogue: ${W instanceof Error?W.message:String(W)}`)}},[S]),Ft=x.useCallback(Y=>{w(Y)},[]),rt=x.useCallback(async()=>{try{const Y=await S("/department?includes_trashed=true");return Y.data||Y}catch(Y){return console.error("Failed to fetch departments:",Y),[]}},[S]),ke=x.useCallback(async Y=>(await S(`/department/${Y}?includes_trashed=true`)).data,[S]),tt=x.useCallback(async Y=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),[S]),Se=x.useCallback(async(Y,W)=>{try{const fe=await S(`/department/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),mt=fe.data||fe;return{id:mt.id,name:mt.name,head_id:mt.head_id}}catch(fe){throw console.error(`Failed to update service group with id ${Y}:`,fe),new Error(`Failed to update service group: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),ft=x.useCallback(async Y=>{try{await S(`/department/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete service catalogue with id ${Y}:`,W),new Error(`Failed to delete service catalogue: ${W instanceof Error?W.message:String(W)}`)}},[S]),xt=x.useCallback(async()=>{try{const Y=await S("/stoptime?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected stop times response format:",Y),[])}catch(Y){return console.error("Failed to fetch stop times:",Y),[]}},[S]),wt=x.useCallback(async Y=>{try{const W=await S(`/stoptime/${Y}`);if(console.log("StopTimes by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch stop time with id ${Y}:`,W),new Error(`Failed to fetch stop time: ${W instanceof Error?W.message:String(W)}`)}},[S]),we=x.useCallback(async Y=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding stop time:",W),new Error(`Failed to add stop time: ${W instanceof Error?W.message:String(W)}`)}},[S]),at=x.useCallback(async(Y,W)=>{try{const fe=await S(`/stoptime/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update stop time response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update stop time with id ${Y}:`,fe),new Error(`Failed to update stop time: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),Je=x.useCallback(async Y=>{try{await S(`/stoptime/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete stop time with id ${Y}:`,W),new Error(`Failed to delete stop time: ${W instanceof Error?W.message:String(W)}`)}},[S]),ne=x.useCallback(async()=>{try{const Y=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected jenis aktifitas response format:",Y),[])}catch(Y){return console.error("Failed to fetch jenis aktifitas:",Y),[]}},[S]),re=x.useCallback(async Y=>{try{const W=await S(`/jenisaktifitas/${Y}`);if(console.log("Jenis Aktifitas by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch jenis aktifitas with id ${Y}:`,W),new Error(`Failed to fetch jenis aktifitas: ${W instanceof Error?W.message:String(W)}`)}},[S]),Me=x.useCallback(async Y=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding jenis aktifitas:",W),new Error(`Failed to add jenis aktifitas: ${W instanceof Error?W.message:String(W)}`)}},[S]),et=x.useCallback(async(Y,W)=>{try{const fe=await S(`/jenisaktifitas/${Y}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update jenis aktifitas response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update jenis aktifitas with id ${Y}:`,fe),new Error(`Failed to update jenis aktifitas: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),pt=x.useCallback(async Y=>{try{await S(`/jenisaktifitas/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete jenis aktifitas with id ${Y}:`,W),new Error(`Failed to delete jenis aktifitas: ${W instanceof Error?W.message:String(W)}`)}},[S]),ye=x.useCallback(async()=>{try{const Y=await S("/kegiatan?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected activity response format:",Y),[])}catch(Y){return console.error("Failed to fetch activity:",Y),[]}},[S]),z=x.useCallback(async Y=>{try{const W=await S(`/kegiatan/${Y}?includes_trashed=true`);if(console.log("Activity by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch activity with id ${Y}:`,W),new Error(`Failed to fetch activity: ${W instanceof Error?W.message:String(W)}`)}},[S]),ue=x.useCallback(async Y=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding activity:",W),new Error(`Failed to add activity: ${W instanceof Error?W.message:String(W)}`)}},[S]),be=x.useCallback(async(Y,W)=>{try{const fe=await S(`/kegiatan/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update activity response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update activity with id ${Y}:`,fe),new Error(`Failed to update activity: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),Ne=x.useCallback(async Y=>{try{await S(`/kegiatan/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete activity with id ${Y}:`,W),new Error(`Failed to delete activity: ${W instanceof Error?W.message:String(W)}`)}},[S]),Fe=x.useCallback(async()=>{try{const Y=await S("/itemtrouble?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected trouble item response format:",Y),[])}catch(Y){return console.error("Failed to fetch trouble item:",Y),[]}},[S]),he=x.useCallback(async Y=>{try{const W=await S(`/itemtrouble/${Y}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch trouble item with id ${Y}:`,W),new Error(`Failed to fetch trouble item: ${W instanceof Error?W.message:String(W)}`)}},[S]),de=x.useCallback(async Y=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding trouble item:",W),new Error(`Failed to add trouble item: ${W instanceof Error?W.message:String(W)}`)}},[S]),se=x.useCallback(async(Y,W)=>{try{const fe=await S(`/itemtrouble/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update trouble item response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update trouble item with id ${Y}:`,fe),new Error(`Failed to update trouble item: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),De=x.useCallback(async Y=>{try{await S(`/itemtrouble/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete trouble item with id ${Y}:`,W),new Error(`Failed to delete trouble item: ${W instanceof Error?W.message:String(W)}`)}},[S]),Ye=x.useCallback(async()=>{try{const Y=await S("/unit?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected Work Unit response format:",Y),[])}catch(Y){return console.error("Failed to fetch Work Unit:",Y),[]}},[S]),qe=x.useCallback(async Y=>{try{const W=await S(`/unit/${Y}?includes_trashed=true`);if(console.log("Work Unit by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch work unit with id ${Y}:`,W),new Error(`Failed to fetch work unit: ${W instanceof Error?W.message:String(W)}`)}},[S]),Ce=x.useCallback(async Y=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding work unit:",W),new Error(`Failed to add work unit: ${W instanceof Error?W.message:String(W)}`)}},[S]),Be=x.useCallback(async(Y,W)=>{try{const fe=await S(`/unit/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update work unit response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update work unit with id ${Y}:`,fe),new Error(`Failed to update work unit: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),nt=x.useCallback(async Y=>{try{await S(`/unit/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete work unit with id ${Y}:`,W),new Error(`Failed to delete work unit: ${W instanceof Error?W.message:String(W)}`)}},[S]),Lt=x.useCallback(async()=>{try{const Y=await S("/group?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected Work Group response format:",Y),[])}catch(Y){return console.error("Failed to fetch Work Group:",Y),[]}},[S]),br=x.useCallback(async Y=>{try{const W=await S(`/group/${Y}?includes_trashed=true`);if(console.log("Work Group by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch work group with id ${Y}:`,W),new Error(`Failed to fetch work group: ${W instanceof Error?W.message:String(W)}`)}},[S]),$r=x.useCallback(async Y=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding work group:",W),new Error(`Failed to add work group: ${W instanceof Error?W.message:String(W)}`)}},[S]),vt=x.useCallback(async(Y,W)=>{try{const fe=await S(`/group/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update work group response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update work group with id ${Y}:`,fe),new Error(`Failed to update work group: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),jr=x.useCallback(async Y=>{try{await S(`/group/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete work group with id ${Y}:`,W),new Error(`Failed to delete work group: ${W instanceof Error?W.message:String(W)}`)}},[S]),Dt=x.useCallback(async()=>{try{const Y=await S("/shift?includes_trashed=true");return Array.isArray(Y)?Y:Y&&Array.isArray(Y.data)?Y.data:(console.warn("Unexpected Work Shift response format:",Y),[])}catch(Y){return console.error("Failed to fetch Work Shift:",Y),[]}},[S]),kr=x.useCallback(async Y=>{try{const W=await S(`/shift/${Y}?includes_trashed=true`);if(console.log("Work Shift by ID response:",W),W&&typeof W=="object")return W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch work shift with id ${Y}:`,W),new Error(`Failed to fetch work shift: ${W instanceof Error?W.message:String(W)}`)}},[S]),_e=x.useCallback(async Y=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})}catch(W){throw console.error("Error adding work shift:",W),new Error(`Failed to add work shift: ${W instanceof Error?W.message:String(W)}`)}},[S]),Le=x.useCallback(async(Y,W)=>{try{const fe=await S(`/shift/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(console.log("Update work shift response:",fe),fe&&typeof fe=="object")return fe.data?fe.data:fe;throw new Error("Invalid response format")}catch(fe){throw console.error(`Failed to update work shift with id ${Y}:`,fe),new Error(`Failed to update work shift: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),ze=x.useCallback(async Y=>{try{await S(`/shift/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete work shift with id ${Y}:`,W),new Error(`Failed to delete work shift: ${W instanceof Error?W.message:String(W)}`)}},[S]),oe=x.useCallback(async Y=>{try{const W=await S(`/unit/${Y}?includes_trashed=true`);if(console.log("Unit by ID response:",W),W&&typeof W=="object")return W.success!==void 0&&W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch unit with id ${Y}:`,W),new Error(`Failed to fetch unit: ${W instanceof Error?W.message:String(W)}`)}},[S]),Ze=x.useCallback(async Y=>{try{const W=await S(`/mesin/${Y}?includes_trashed=true`);if(console.log("Mesin by ID response:",W),W&&typeof W=="object")return W.success!==void 0&&W.data?W.data:W;throw new Error("Invalid response format")}catch(W){throw console.error(`Failed to fetch mesin with id ${Y}:`,W),new Error(`Failed to fetch mesin: ${W instanceof Error?W.message:String(W)}`)}},[S]),bt=x.useCallback(async()=>{try{const Y=await S("/unit?includes_trashed=true");let W=[];return Array.isArray(Y)?W=Y:Y&&Array.isArray(Y.data)&&(W=Y.data),await Promise.all(W.map(async mt=>{try{const ur=await S(`/unit/${mt.id}?includes_trashed=true`);let vr=ur;return ur&&ur.success!==void 0&&ur.data&&(vr=ur.data),{id:vr.id,name:vr.name,created_at:vr.created_at,updated_at:vr.updated_at,deleted_at:vr.deleted_at,mesin:vr.mesin||[]}}catch(ur){return console.error(`Failed to get detail for unit ${mt.id}:`,ur),{id:mt.id,name:mt.name,created_at:mt.created_at,updated_at:mt.updated_at,deleted_at:mt.deleted_at,mesin:[]}}}))}catch(Y){return console.error("Failed to fetch units with machines:",Y),[]}},[S]),lr=x.useCallback(async()=>{try{const Y=await S("/interval?includes_trashed=true");let W=[];Array.isArray(Y)?W=Y:Y&&Array.isArray(Y.data)&&(W=Y.data);const fe=await bt(),mt=await S("/mesin?includes_trashed=true");let ur=[];return Array.isArray(mt)?ur=mt:mt&&Array.isArray(mt.data)&&(ur=mt.data),{unit:fe,mesin:ur,unitsWithMachines:fe,intervals:W}}catch(Y){return console.error("Error fetching master monitoring data:",Y),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,bt]),en=x.useCallback(async()=>{try{const Y=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(Y))return Y;if(Y&&Y.success!==void 0){if(Y.success&&Array.isArray(Y.data))return Y.data;if(Y.success&&Array.isArray(Y.result))return Y.result}return Y&&Array.isArray(Y.data)?Y.data:Y&&Array.isArray(Y.result)?Y.result:(console.warn("Unexpected monitoring schedule response format:",Y),[])}catch(Y){throw console.error("Error fetching monitoring schedule:",Y),new Error(`Failed to fetch monitoring schedule: ${Y instanceof Error?Y.message:String(Y)}`)}},[S]),Cr=x.useCallback(async Y=>{try{const W=await S(`/monitoring-schedules/${Y}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",W),W&&W.success!==void 0){if(W.success&&W.data)return W.data;if(!W.success)throw new Error(W.message||"Failed to fetch monitoring schedule")}if(W&&W.id_monitoring_schedule)return W;if(Array.isArray(W)&&W.length>0)return W[0];throw new Error("Invalid response format")}catch(W){if(console.error(`Failed to fetch monitoring schedule with id ${Y}:`,W),W instanceof Error){if(W.message.includes("404"))throw new Error(`Monitoring schedule with id ${Y} not found`);if(W.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${W instanceof Error?W.message:String(W)}`)}},[S]),cr=x.useCallback(async Y=>{try{const W=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!W)throw new Error("No response from server");if(W.success===!1)throw new Error(W.message||"Failed to create monitoring schedule");const fe=W.data||W.result||W;if(!fe)throw new Error("Invalid response format");return fe}catch(W){if(console.error("Error adding monitoring schedule:",W),W instanceof Error){if(W.message.includes("401"))throw new Error("Unauthorized - Please login again");if(W.message.includes("404"))throw new Error("Endpoint not found");if(W.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${W instanceof Error?W.message:String(W)}`)}},[S]),va=x.useCallback(async Y=>{try{const W=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});return Array.isArray(W)?W:W&&Array.isArray(W.data)?W.data:(console.warn("Unexpected response format from monitoring-activities POST:",W),[])}catch(W){throw console.error("Error adding monitoring activities:",W),new Error(`Failed to add monitoring activities: ${W instanceof Error?W.message:String(W)}`)}},[S]),cs=x.useCallback(async Y=>{try{const W=Y.map(mt=>({id_monitoring_activity:mt.id,...mt.data})),fe=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});return Array.isArray(fe)?fe:fe&&Array.isArray(fe.data)?fe.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",fe),[])}catch(W){throw console.error("Error updating monitoring activities:",W),new Error(`Failed to update monitoring activities: ${W instanceof Error?W.message:String(W)}`)}},[S]),Pa=x.useCallback(async Y=>{try{const W=await S(`/mesin/${Y}?includes_trashed=true`);return console.log("Mesin detail response:",W),W&&W.success!==void 0?W.data:W}catch(W){throw console.error(`Failed to fetch mesin detail with id ${Y}:`,W),new Error(`Failed to fetch mesin detail: ${W instanceof Error?W.message:String(W)}`)}},[S]),Vr=x.useCallback(async()=>{try{const Y=await S("/vendor?includes_trashed=true");return Y.data||Y}catch(Y){return console.error("Failed to fetch vendor:",Y),[]}},[S]),Il=x.useCallback(async Y=>(await S(`/vendor/${Y}?includes_trashed=true`)).data,[S]),qc=x.useCallback(async Y=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),[S]),wg=x.useCallback(async(Y,W)=>{try{const fe=await S(`/vendor/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),mt=fe.data||fe;return{id:mt.id,name:mt.name,address:mt.address,contact_person:mt.contact_person,email:mt.email,telp:mt.telp,HP:mt.HP}}catch(fe){throw console.error(`Failed to update vendor with id ${Y}:`,fe),new Error(`Failed to update vendor: ${fe instanceof Error?fe.message:String(fe)}`)}},[S]),B1=x.useCallback(async Y=>{try{await S(`/vendor/${Y}?includes_trashed=true`,{method:"DELETE"})}catch(W){throw console.error(`Failed to delete vendor with id ${Y}:`,W),new Error(`Failed to delete vendor: ${W instanceof Error?W.message:String(W)}`)}},[S]),gd=x.useCallback(async()=>{try{const Y=await S("/approval-templates?includes_trashed=true");return Y.data||Y}catch(Y){return console.error("Failed to fetch approval templates:",Y),[]}},[S]),xd=x.useCallback(async Y=>await S(`/approval-templates/${Y}?includes_trashed=true`),[S]),wi=x.useCallback(async Y=>{const W=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});return W.data||W},[S]),us=x.useCallback(async(Y,W)=>{const fe=await S(`/approval-templates/${Y}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});return fe.data||fe},[S]),jg=x.useCallback(async Y=>{await S(`/approval-templates/${Y}?includes_trashed=true`,{method:"DELETE"})},[S]),z1=x.useCallback(async(Y,W)=>{const fe=await S(`/approval-templates/${Y}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});return fe.data||fe},[S]),Wh=x.useCallback(async(Y,W,fe)=>{const mt=await S(`/template-approvers/${W}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)});return mt.data||mt},[S]),Sg=x.useCallback(async(Y,W)=>{await S(`/template-approvers/${W}?includes_trashed=true`,{method:"DELETE"})},[S]),yd=x.useCallback(async Y=>(await S(`/approval-templates/${Y}?includes_trashed=true`)).approvers||[],[S]),V1=x.useCallback(async Y=>{const W=await S(`/approval-templates/${Y}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return W.data||W},[S]),ds=x.useCallback(async(Y,W)=>{const fe=await S(`/schedules/${Y}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:W})});return fe&&fe.message?{success:!0,message:fe.message,data:fe.data||fe}:fe},[S]);return s.jsx(rV.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:G,register:H,logout:N,isLoggingOut:i,fetchWithAuth:S,getAllMasterData:A,submitMachineHistory:q,getMachineHistories:F,getMachineHistoryById:P,updateMachineHistory:B,deleteMachineHistory:K,masterData:l,isMasterDataLoading:d,addWorkOrderIT:te,getWorkOrdersIT:U,updateWorkOrderIT:ie,deleteWorkOrder:le,getWorkOrderById:Q,departments:[],services:[],serviceGroups:[],getServices:gt,getServicesByOwner:Re,addServiceCatalogue:ct,updateServiceCatalogue:St,deleteServiceCatalogue:ht,getServiceGroups:ve,getServiceGroup:Ge,addServiceGroup:Ke,updateServiceGroup:pe,deleteServiceGroup:ot,changePassword:ge,fetchUser:E,fetchedUsers:Oe,getUsers:$e,hasPermission:R,setEditingUser:Ft,getRoles:xe,createRole:Ae,updateRole:Ve,deleteRole:ee,updateUserPermissions:ae,deleteUser:Z,isAuthLoading:m,getERPData:O,addAsset:D,editAsset:$,deleteAsset:L,getWorkOrdersForUser:ce,getAuditTrail:I,getDepartment:rt,getDepartmentById:ke,addDepartment:tt,updateDepartment:Se,deleteDepartment:ft,getMonitoringSchedules:en,addMonitoringSchedule:cr,addMonitoringActivities:va,updateMonitoringActivity:cs,getStopTimes:xt,getStopTimesById:wt,addStopTimes:we,updateStopTimes:at,deleteStopTimes:Je,getActivityTypes:ne,getActivityTypesById:re,addActivityTypes:Me,updateActivityTypes:et,deleteActivityTypes:pt,getActivity:ye,getActivityById:z,addActivity:ue,updateActivity:be,deleteActivity:Ne,getTroubleItem:Fe,getTroubleItemById:he,addTroubleItem:de,updateTroubleItem:se,deleteTroubleItem:De,getWorkUnit:Ye,getWorkUnitById:qe,addWorkUnit:Ce,updateWorkUnit:Be,deleteWorkUnit:nt,getWorkGroup:Lt,getWorkGroupById:br,addWorkGroup:$r,updateWorkGroup:vt,deleteWorkGroup:jr,getWorkShift:Dt,getWorkShiftById:kr,addWorkShift:_e,updateWorkShift:Le,deleteWorkShift:ze,getUnit:oe,getMesin:Ze,getUnitsWithMachines:bt,getAllMasterMonitoring:lr,getMesinDetail:Pa,getMonitoringScheduleById:Cr,getVendor:Vr,getVendorById:Il,addVendor:qc,updateVendor:wg,deleteVendor:B1,getApprovalTemplates:gd,getApprovalTemplateById:xd,createApprovalTemplate:wi,updateApprovalTemplate:us,deleteApprovalTemplate:jg,addApproverToTemplate:z1,updateApprover:Wh,deleteApprover:Sg,getTemplateApprovers:yd,setApprovalTemplateActive:V1,approveSchedule:ds},children:t})},Ct=()=>{const t=x.useContext(rV);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Rf="/assets/logo-wida-OsCBOu3a.png";var nV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s6=X.createContext&&X.createContext(nV),dre=["attr","size","title"];function fre(t,e){if(t==null)return{};var r=hre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lb.apply(this,arguments)}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mre(t,e,r){return e=pre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pre(t){var e=gre(t,"string");return typeof e=="symbol"?e:e+""}function gre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aV(t){return t&&t.map((e,r)=>X.createElement(e.tag,cb({key:r},e.attr),aV(e.child)))}function bi(t){return e=>X.createElement(xre,lb({attr:cb({},t.attr)},e),aV(t.child))}function xre(t){var e=r=>{var{attr:n,size:a,title:i}=t,o=fre(t,dre),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),X.createElement("svg",lb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:cb(cb({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),t.children)};return s6!==void 0?X.createElement(s6.Consumer,null,r=>e(r)):e(nV)}function Ix(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function bA(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function yre(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function bre(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function vre(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Iy(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Ly(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function wre(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function o6(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function l6(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function jre(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Sre(t){return bi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const Lx=["Hello","Bonjour","Holla","こんにちは ","Salam","안녕하세요","Hallo","Namaste","早上好"],Nre=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState(""),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(Lx[0]),[w,j]=x.useState(!1),{login:v}=Ct(),N=Nt();x.useEffect(()=>{m(!0);let A;const O=setInterval(()=>{j(!0),A=setTimeout(()=>{y(D=>{const L=(Lx.indexOf(D)+1)%Lx.length;return Lx[L]}),j(!1)},500)},3e3);return()=>{clearInterval(O),clearTimeout(A)}},[]);const C={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=w?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},E=async A=>{A.preventDefault(),l(""),d(!0);try{await v(t,r),N("/dashboard")}catch(O){l(O instanceof Error?O.message:"Login failed")}finally{d(!1)}},T=()=>{i(!a)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:s.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${h?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[s.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[s.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${h?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:Rf,alt:"Logo Wida",className:"h-10 w-auto"}),s.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),s.jsx("h1",{style:{...C,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${h?"opacity-100":"opacity-0"}`,children:g}),s.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),s.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${h?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&s.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{children:o})]}),s.jsxs("form",{onSubmit:E,className:"space-y-6","aria-label":"Login Form",children:[s.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[s.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),s.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:A=>e(A.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),s.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",type:a?"text":"password",placeholder:"••••••••",value:r,onChange:A=>n(A.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),s.jsx("button",{type:"button",onClick:T,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":a?"Hide password":"Show password",children:a?s.jsx(Iy,{size:18}):s.jsx(Ly,{size:18})})]}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),s.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),s.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${h?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),s.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${h?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",s.jsx(Mc,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),s.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:s.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${h?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),s.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${h?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),s.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),s.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[s.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),s.jsx("div",{className:"text-purple-300 animate-pulse-light",children:s.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),s.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[s.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:s.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),s.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),s.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:s.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},vA=x.createContext({});function wA(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const jA=typeof window<"u",sV=jA?x.useLayoutEffect:x.useEffect,kw=x.createContext(null);function SA(t,e){t.indexOf(e)===-1&&t.push(e)}function NA(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const wl=(t,e,r)=>r>e?e:r<t?t:r;let kA=()=>{};const jl={},iV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oV(t){return typeof t=="object"&&t!==null}const lV=t=>/^0[^.\s]+$/u.test(t);function CA(t){let e;return()=>(e===void 0&&(e=t()),e)}const fi=t=>t,kre=(t,e)=>r=>e(t(r)),X0=(...t)=>t.reduce(kre),zp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class TA{constructor(){this.subscriptions=[]}add(e){return SA(this.subscriptions,e),()=>NA(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uo=t=>t*1e3,ui=t=>t/1e3;function cV(t,e){return e?t*(1e3/e):0}const uV=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Cre=1e-7,Tre=12;function _re(t,e,r,n,a){let i,o,l=0;do o=e+(r-e)/2,i=uV(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Cre&&++l<Tre);return o}function J0(t,e,r,n){if(t===e&&r===n)return fi;const a=i=>_re(i,0,1,t,r);return i=>i===0||i===1?i:uV(a(i),e,n)}const dV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fV=t=>e=>1-t(1-e),hV=J0(.33,1.53,.69,.99),_A=fV(hV),mV=dV(_A),pV=t=>(t*=2)<1?.5*_A(t):.5*(2-Math.pow(2,-10*(t-1))),MA=t=>1-Math.sin(Math.acos(t)),gV=fV(MA),xV=dV(MA),Mre=J0(.42,0,1,1),Are=J0(0,0,.58,1),yV=J0(.42,0,.58,1),Ore=t=>Array.isArray(t)&&typeof t[0]!="number",bV=t=>Array.isArray(t)&&typeof t[0]=="number",Ere={linear:fi,easeIn:Mre,easeInOut:yV,easeOut:Are,circIn:MA,circInOut:xV,circOut:gV,backIn:_A,backInOut:mV,backOut:hV,anticipate:pV},Dre=t=>typeof t=="string",c6=t=>{if(bV(t)){kA(t.length===4);const[e,r,n,a]=t;return J0(e,r,n,a)}else if(Dre(t))return Ere[t];return t},$x=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pre(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,g=!1)=>{const w=g&&a?r:n;return m&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(h))}};return d}const Rre=40;function vV(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=$x.reduce((S,E)=>(S[E]=Pre(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:g,render:y,postRender:w}=o,j=()=>{const S=jl.useManualTiming?a.timestamp:performance.now();r=!1,jl.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(S-a.timestamp,Rre),1)),a.timestamp=S,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),h.process(a),m.process(a),g.process(a),y.process(a),w.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(j))},v=()=>{r=!0,n=!0,a.isProcessing||t(j)};return{schedule:$x.reduce((S,E)=>{const T=o[E];return S[E]=(A,O=!1,D=!1)=>(r||v(),T.schedule(A,O,D)),S},{}),cancel:S=>{for(let E=0;E<$x.length;E++)o[$x[E]].cancel(S)},state:a,steps:o}}const{schedule:gn,cancel:Ac,state:Ta,steps:tN}=vV(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0);let $y;function Ire(){$y=void 0}const bs={now:()=>($y===void 0&&bs.set(Ta.isProcessing||jl.useManualTiming?Ta.timestamp:performance.now()),$y),set:t=>{$y=t,queueMicrotask(Ire)}},wV=t=>e=>typeof e=="string"&&e.startsWith(t),AA=wV("--"),Lre=wV("var(--"),OA=t=>Lre(t)?$re.test(t.split("/*")[0].trim()):!1,$re=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ah={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vp={...Ah,transform:t=>wl(0,1,t)},Fx={...Ah,default:1},bp=t=>Math.round(t*1e5)/1e5,EA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fre(t){return t==null}const Hre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DA=(t,e)=>r=>!!(typeof r=="string"&&Hre.test(r)&&r.startsWith(t)||e&&!Fre(r)&&Object.prototype.hasOwnProperty.call(r,e)),jV=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(EA);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Bre=t=>wl(0,255,t),rN={...Ah,transform:t=>Math.round(Bre(t))},vu={test:DA("rgb","red"),parse:jV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+rN.transform(t)+", "+rN.transform(e)+", "+rN.transform(r)+", "+bp(Vp.transform(n))+")"};function zre(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const T_={test:DA("#"),parse:zre,transform:vu.transform},Q0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lc=Q0("deg"),fo=Q0("%"),Xt=Q0("px"),Vre=Q0("vh"),qre=Q0("vw"),u6={...fo,parse:t=>fo.parse(t)/100,transform:t=>fo.transform(t*100)},df={test:DA("hsl","hue"),parse:jV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+fo.transform(bp(e))+", "+fo.transform(bp(r))+", "+bp(Vp.transform(n))+")"},Gn={test:t=>vu.test(t)||T_.test(t)||df.test(t),parse:t=>vu.test(t)?vu.parse(t):df.test(t)?df.parse(t):T_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vu.transform(t):df.transform(t),getAnimatableNone:t=>{const e=Gn.parse(t);return e.alpha=0,Gn.transform(e)}},Ure=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wre(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(EA))==null?void 0:e.length)||0)+(((r=t.match(Ure))==null?void 0:r.length)||0)>0}const SV="number",NV="color",Gre="var",Yre="var(",d6="${}",Kre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qp(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(Kre,c=>(Gn.test(c)?(n.color.push(i),a.push(NV),r.push(Gn.parse(c))):c.startsWith(Yre)?(n.var.push(i),a.push(Gre),r.push(c)):(n.number.push(i),a.push(SV),r.push(parseFloat(c))),++i,d6)).split(d6);return{values:r,split:l,indexes:n,types:a}}function kV(t){return qp(t).values}function CV(t){const{split:e,types:r}=qp(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===SV?i+=bp(a[o]):l===NV?i+=Gn.transform(a[o]):i+=a[o]}return i}}const Xre=t=>typeof t=="number"?0:Gn.test(t)?Gn.getAnimatableNone(t):t;function Jre(t){const e=kV(t);return CV(t)(e.map(Xre))}const Oc={test:Wre,parse:kV,createTransformer:CV,getAnimatableNone:Jre};function nN(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Qre({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=nN(c,l,t+1/3),i=nN(c,l,t),o=nN(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function ub(t,e){return r=>r>0?e:t}const vn=(t,e,r)=>t+(e-t)*r,aN=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},Zre=[T_,vu,df],ene=t=>Zre.find(e=>e.test(t));function f6(t){const e=ene(t);if(!e)return!1;let r=e.parse(t);return e===df&&(r=Qre(r)),r}const h6=(t,e)=>{const r=f6(t),n=f6(e);if(!r||!n)return ub(t,e);const a={...r};return i=>(a.red=aN(r.red,n.red,i),a.green=aN(r.green,n.green,i),a.blue=aN(r.blue,n.blue,i),a.alpha=vn(r.alpha,n.alpha,i),vu.transform(a))},__=new Set(["none","hidden"]);function tne(t,e){return __.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function rne(t,e){return r=>vn(t,e,r)}function PA(t){return typeof t=="number"?rne:typeof t=="string"?OA(t)?ub:Gn.test(t)?h6:sne:Array.isArray(t)?TV:typeof t=="object"?Gn.test(t)?h6:nne:ub}function TV(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>PA(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function nne(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=PA(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ane(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],l=t.values[o]??0;r[a]=l,n[i]++}return r}const sne=(t,e)=>{const r=Oc.createTransformer(e),n=qp(t),a=qp(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?__.has(t)&&!a.values.length||__.has(e)&&!n.values.length?tne(t,e):X0(TV(ane(n,a),a.values),r):ub(t,e)};function _V(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?vn(t,e,r):PA(t)(t,e)}const ine=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>gn.update(e,r),stop:()=>Ac(e),now:()=>Ta.isProcessing?Ta.timestamp:bs.now()}},MV=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},db=2e4;function RA(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<db;)e+=r,n=t.next(e);return e>=db?1/0:e}function one(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(RA(n),db);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:ui(a)}}const lne=5;function AV(t,e,r){const n=Math.max(e-lne,0);return cV(r-t(n),e-n)}const Tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sN=.001;function cne({duration:t=Tn.duration,bounce:e=Tn.bounce,velocity:r=Tn.velocity,mass:n=Tn.mass}){let a,i,o=1-e;o=wl(Tn.minDamping,Tn.maxDamping,o),t=wl(Tn.minDuration,Tn.maxDuration,ui(t)),o<1?(a=d=>{const h=d*o,m=h*t,g=h-r,y=M_(d,o),w=Math.exp(-m);return sN-g/y*w},i=d=>{const m=d*o*t,g=m*r+r,y=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),j=M_(Math.pow(d,2),o);return(-a(d)+sN>0?-1:1)*((g-y)*w)/j}):(a=d=>{const h=Math.exp(-d*t),m=(d-r)*t+1;return-sN+h*m},i=d=>{const h=Math.exp(-d*t),m=(r-d)*(t*t);return h*m});const l=5/t,c=dne(a,i,l);if(t=uo(t),isNaN(c))return{stiffness:Tn.stiffness,damping:Tn.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const une=12;function dne(t,e,r){let n=r;for(let a=1;a<une;a++)n=n-t(n)/e(n);return n}function M_(t,e){return t*Math.sqrt(1-e*e)}const fne=["duration","bounce"],hne=["stiffness","damping","mass"];function m6(t,e){return e.some(r=>t[r]!==void 0)}function mne(t){let e={velocity:Tn.velocity,stiffness:Tn.stiffness,damping:Tn.damping,mass:Tn.mass,isResolvedFromDuration:!1,...t};if(!m6(t,hne)&&m6(t,fne))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*wl(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tn.mass,stiffness:a,damping:i}}else{const r=cne(t);e={...e,...r,mass:Tn.mass},e.isResolvedFromDuration=!0}return e}function fb(t=Tn.visualDuration,e=Tn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:g,isResolvedFromDuration:y}=mne({...r,velocity:-ui(r.velocity||0)}),w=g||0,j=d/(2*Math.sqrt(c*h)),v=o-i,N=ui(Math.sqrt(c/h)),C=Math.abs(v)<5;n||(n=C?Tn.restSpeed.granular:Tn.restSpeed.default),a||(a=C?Tn.restDelta.granular:Tn.restDelta.default);let S;if(j<1){const T=M_(N,j);S=A=>{const O=Math.exp(-j*N*A);return o-O*((w+j*N*v)/T*Math.sin(T*A)+v*Math.cos(T*A))}}else if(j===1)S=T=>o-Math.exp(-N*T)*(v+(w+N*v)*T);else{const T=N*Math.sqrt(j*j-1);S=A=>{const O=Math.exp(-j*N*A),D=Math.min(T*A,300);return o-O*((w+j*N*v)*Math.sinh(D)+T*v*Math.cosh(D))/T}}const E={calculatedDuration:y&&m||null,next:T=>{const A=S(T);if(y)l.done=T>=m;else{let O=T===0?w:0;j<1&&(O=T===0?uo(w):AV(S,T,A));const D=Math.abs(O)<=n,$=Math.abs(o-A)<=a;l.done=D&&$}return l.value=l.done?o:A,l},toString:()=>{const T=Math.min(RA(E),db),A=MV(O=>E.next(T*O).value,T,30);return T+"ms "+A},toTransition:()=>{}};return E}fb.applyToOptions=t=>{const e=one(t,100,fb);return t.ease=e.ease,t.duration=uo(e.duration),t.type="keyframes",t};function A_({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],g={done:!1,value:m},y=D=>l!==void 0&&D<l||c!==void 0&&D>c,w=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let j=r*e;const v=m+j,N=o===void 0?v:o(v);N!==v&&(j=N-m);const C=D=>-j*Math.exp(-D/n),S=D=>N+C(D),E=D=>{const $=C(D),L=S(D);g.done=Math.abs($)<=d,g.value=g.done?N:L};let T,A;const O=D=>{y(g.value)&&(T=D,A=fb({keyframes:[g.value,w(g.value)],velocity:AV(S,D,g.value),damping:a,stiffness:i,restDelta:d,restSpeed:h}))};return O(0),{calculatedDuration:null,next:D=>{let $=!1;return!A&&T===void 0&&($=!0,E(D),O(D)),T!==void 0&&D>=T?A.next(D-T):(!$&&E(D),g)}}}function pne(t,e,r){const n=[],a=r||jl.mix||_V,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||fi:e;l=X0(c,l)}n.push(l)}return n}function gne(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(kA(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=pne(e,n,a),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const g=zp(t[m],t[m+1],h);return l[m](g)};return r?h=>d(wl(t[0],t[i-1],h)):d}function xne(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=zp(0,e,n);t.push(vn(r,1,a))}}function yne(t){const e=[0];return xne(e,t.length-1),e}function bne(t,e){return t.map(r=>r*e)}function vne(t,e){return t.map(()=>e||yV).splice(0,t.length-1)}function vp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Ore(n)?n.map(c6):c6(n),i={done:!1,value:e[0]},o=bne(r&&r.length===e.length?r:yne(e),t),l=gne(o,e,{ease:Array.isArray(a)?a:vne(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const wne=t=>t!==null;function IA(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(wne),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const jne={decay:A_,inertia:A_,tween:vp,keyframes:vp,spring:fb};function OV(t){typeof t.type=="string"&&(t.type=jne[t.type])}class LA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Sne=t=>t/100;class $A extends LA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==bs.now()&&this.tick(bs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OV(e);const{type:r=vp,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||vp;c!==vp&&typeof l[0]!="number"&&(this.mixKeyframes=X0(Sne,_V(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=RA(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:g,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let S=this.currentTime,E=n;if(m){const D=Math.min(this.currentTime,a)/l;let $=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&$--,$=Math.min($,m+1),!!($%2)&&(g==="reverse"?(L=1-L,y&&(L-=y/l)):g==="mirror"&&(E=o)),S=wl(0,1,L)*l}const T=C?{done:!1,value:h[0]}:E.next(S);i&&(T.value=i(T.value));let{done:A}=T;!C&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&w!==A_&&(T.value=IA(h,this.options,v,this.speed)),j&&j(T.value),O&&this.finish(),T}then(e,r){return this.finished.then(e,r)}get duration(){return ui(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ui(e)}get time(){return ui(this.currentTime)}set time(e){var r;e=uo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ui(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=ine,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Nne(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wu=t=>t*180/Math.PI,O_=t=>{const e=wu(Math.atan2(t[1],t[0]));return E_(e)},kne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:O_,rotateZ:O_,skewX:t=>wu(Math.atan(t[1])),skewY:t=>wu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},E_=t=>(t=t%360,t<0&&(t+=360),t),p6=O_,g6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),x6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Cne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g6,scaleY:x6,scale:t=>(g6(t)+x6(t))/2,rotateX:t=>E_(wu(Math.atan2(t[6],t[5]))),rotateY:t=>E_(wu(Math.atan2(-t[2],t[0]))),rotateZ:p6,rotate:p6,skewX:t=>wu(Math.atan(t[4])),skewY:t=>wu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function D_(t){return t.includes("scale")?1:0}function P_(t,e){if(!t||t==="none")return D_(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Cne,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=kne,a=l}if(!a)return D_(e);const i=n[e],o=a[1].split(",").map(_ne);return typeof i=="function"?i(o):o[i]}const Tne=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return P_(r,e)};function _ne(t){return parseFloat(t.trim())}const Oh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eh=new Set(Oh),y6=t=>t===Ah||t===Xt,Mne=new Set(["x","y","z"]),Ane=Oh.filter(t=>!Mne.has(t));function One(t){const e=[];return Ane.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Du={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>P_(e,"x"),y:(t,{transform:e})=>P_(e,"y")};Du.translateX=Du.x;Du.translateY=Du.y;const Pu=new Set;let R_=!1,I_=!1,L_=!1;function EV(){if(I_){const t=Array.from(Pu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=One(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}I_=!1,R_=!1,Pu.forEach(t=>t.complete(L_)),Pu.clear()}function DV(){Pu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(I_=!0)})}function Ene(){L_=!0,DV(),EV(),L_=!1}class FA{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Pu.add(this),R_||(R_=!0,gn.read(DV),gn.resolveKeyframes(EV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Nne(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pu.delete(this)}cancel(){this.state==="scheduled"&&(Pu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dne=t=>t.startsWith("--");function Pne(t,e,r){Dne(e)?t.style.setProperty(e,r):t.style[e]=r}const Rne=CA(()=>window.ScrollTimeline!==void 0),Ine={};function Lne(t,e){const r=CA(t);return()=>Ine[e]??r()}const PV=Lne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lp=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,b6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lp([0,.65,.55,1]),circOut:lp([.55,0,1,.45]),backIn:lp([.31,.01,.66,-.59]),backOut:lp([.33,1.53,.69,.99])};function RV(t,e){if(t)return typeof t=="function"?PV()?MV(t,e):"ease-out":bV(t)?lp(t):Array.isArray(t)?t.map(r=>RV(r,e)||b6.easeOut):b6[t]}function $ne(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:r};c&&(h.offset=c);const m=RV(l,a);Array.isArray(m)&&(h.easing=m);const g={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(h,g)}function IV(t){return typeof t=="function"&&"applyToOptions"in t}function Fne({type:t,...e}){return IV(t)&&PV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Hne extends LA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,kA(typeof e.type!="string");const d=Fne(e);this.animation=$ne(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=IA(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Pne(r,n,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ui(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ui(e)}get time(){return ui(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=uo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Rne()?(this.animation.timeline=e,fi):r(this)}}const LV={anticipate:pV,backInOut:mV,circInOut:xV};function Bne(t){return t in LV}function zne(t){typeof t.ease=="string"&&Bne(t.ease)&&(t.ease=LV[t.ease])}const v6=10;class Vne extends Hne{constructor(e){zne(e),OV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new $A({...o,autoplay:!1}),c=uo(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-v6).value,l.sample(c).value,v6),l.stop()}}const w6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oc.test(t)||t==="0")&&!t.startsWith("url("));function qne(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Une(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=w6(a,e),l=w6(i,e);return!o||!l?!1:qne(t)||(r==="spring"||IV(r))&&n}function $_(t){t.duration=0,t.type="keyframes"}const Wne=new Set(["opacity","clipPath","filter","transform"]),Gne=CA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Yne(t){var h;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Gne()&&r&&Wne.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Kne=40;class Xne extends LA{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var w;super(),this.stop=()=>{var j,v;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=bs.now();const g={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},y=(h==null?void 0:h.KeyframeResolver)||FA;this.keyframeResolver=new y(l,(j,v,N)=>this.onKeyframesResolved(j,v,g,!N),c,d,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=n;this.resolvedAt=bs.now(),Une(e,i,o,l)||((jl.instantAnimations||!c)&&(h==null||h(IA(e,n,r))),e[0]=e[e.length-1],$_(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Kne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!d&&Yne(g)?new Vne({...g,element:g.motionValue.owner.current}):new $A(g);y.finished.then(()=>this.notifyFinished()).catch(fi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Ene()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Jne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qne(t){const e=Jne.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function $V(t,e,r=1){const[n,a]=Qne(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return iV(o)?parseFloat(o):o}return OA(a)?$V(a,e,r+1):a}function HA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const FV=new Set(["width","height","top","left","right","bottom",...Oh]),Zne={test:t=>t==="auto",parse:t=>t},HV=t=>e=>e.test(t),BV=[Ah,Xt,fo,lc,qre,Vre,Zne],j6=t=>BV.find(HV(t));function eae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lV(t):!0}const tae=new Set(["brightness","contrast","saturate","opacity"]);function rae(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(EA)||[];if(!n)return t;const a=r.replace(n,"");let i=tae.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const nae=/\b([a-z-]*)\(.*?\)/gu,F_={...Oc,getAnimatableNone:t=>{const e=t.match(nae);return e?e.map(rae).join(" "):t}},S6={...Ah,transform:Math.round},aae={rotate:lc,rotateX:lc,rotateY:lc,rotateZ:lc,scale:Fx,scaleX:Fx,scaleY:Fx,scaleZ:Fx,skew:lc,skewX:lc,skewY:lc,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:Vp,originX:u6,originY:u6,originZ:Xt},BA={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...aae,zIndex:S6,fillOpacity:Vp,strokeOpacity:Vp,numOctaves:S6},sae={...BA,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:F_,WebkitFilter:F_},zV=t=>sae[t];function VV(t,e){let r=zV(t);return r!==F_&&(r=Oc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const iae=new Set(["auto","none","0"]);function oae(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!iae.has(i)&&qp(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=VV(r,a)}class lae extends FA{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),OA(d))){const h=$V(d,r.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!FV.has(n)||e.length!==2)return;const[a,i]=e,o=j6(a),l=j6(i);if(o!==l)if(y6(o)&&y6(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Du[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||eae(e[a]))&&n.push(a);n.length&&oae(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Du[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Du[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function cae(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const qV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function UV(t){return oV(t)&&"offsetHeight"in t}const N6=30,uae=t=>!isNaN(parseFloat(t));class dae{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=bs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=bs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new TA);const n=this.events[e].add(r);return e==="change"?()=>{n(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,N6);return cV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function If(t,e){return new dae(t,e)}const{schedule:zA}=vV(queueMicrotask,!1),Mi={x:!1,y:!1};function WV(){return Mi.x||Mi.y}function fae(t){return t==="x"||t==="y"?Mi[t]?null:(Mi[t]=!0,()=>{Mi[t]=!1}):Mi.x||Mi.y?null:(Mi.x=Mi.y=!0,()=>{Mi.x=Mi.y=!1})}function GV(t,e){const r=cae(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function k6(t){return!(t.pointerType==="touch"||WV())}function hae(t,e,r={}){const[n,a,i]=GV(t,r),o=l=>{if(!k6(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{k6(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const YV=(t,e)=>e?t===e?!0:YV(t,e.parentElement):!1,VA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pae(t){return mae.has(t.tagName)||t.tabIndex!==-1}const Fy=new WeakSet;function C6(t){return e=>{e.key==="Enter"&&t(e)}}function iN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gae=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=C6(()=>{if(Fy.has(r))return;iN(r,"down");const a=C6(()=>{iN(r,"up")}),i=()=>iN(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function T6(t){return VA(t)&&!WV()}function xae(t,e,r={}){const[n,a,i]=GV(t,r),o=l=>{const c=l.currentTarget;if(!T6(l))return;Fy.add(c);const d=e(c,l),h=(y,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Fy.has(c)&&Fy.delete(c),T6(y)&&typeof d=="function"&&d(y,{success:w})},m=y=>{h(y,c===window||c===document||r.useGlobalTarget||YV(c,y.target))},g=y=>{h(y,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",g,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),UV(l)&&(l.addEventListener("focus",d=>gae(d,a)),!pae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function KV(t){return oV(t)&&"ownerSVGElement"in t}function yae(t){return KV(t)&&t.tagName==="svg"}const Ba=t=>!!(t&&t.getVelocity),bae=[...BV,Gn,Oc],vae=t=>bae.find(HV(t)),qA=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wae(...t){return e=>{let r=!1;const n=t.map(a=>{const i=_6(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():_6(t[a],null)}}}}function jae(...t){return x.useCallback(wae(...t),t)}class Sae extends x.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=UV(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nae({children:t,isPresent:e,anchorX:r,root:n}){const a=x.useId(),i=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(qA),c=jae(i,t==null?void 0:t.ref);return x.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:g,right:y}=o.current;if(e||!i.current||!d||!h)return;const w=r==="left"?`left: ${g}`:`right: ${y}`;i.current.dataset.motionPopId=a;const j=document.createElement("style");l&&(j.nonce=l);const v=n??document.head;return v.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(j)&&v.removeChild(j)}},[e]),s.jsx(Sae,{isPresent:e,childRef:i,sizeRef:o,children:x.cloneElement(t,{ref:c})})}const kae=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=wA(Cae),h=x.useId();let m=!0,g=x.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:r,custom:a,onExitComplete:y=>{d.set(y,!0);for(const w of d.values())if(!w)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&m&&(g={...g}),x.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[r]),x.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Nae,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(kw.Provider,{value:g,children:t})};function Cae(){return new Map}function XV(t=!0){const e=x.useContext(kw);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=x.useId();x.useEffect(()=>{if(t)return a(i)},[t]);const o=x.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Hx=t=>t.key||"";function M6(t){const e=[];return x.Children.forEach(t,r=>{x.isValidElement(r)&&e.push(r)}),e}const Mt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=XV(o),m=x.useMemo(()=>M6(t),[t]),g=o&&!d?[]:m.map(Hx),y=x.useRef(!0),w=x.useRef(m),j=wA(()=>new Map),[v,N]=x.useState(m),[C,S]=x.useState(m);sV(()=>{y.current=!1,w.current=m;for(let A=0;A<C.length;A++){const O=Hx(C[A]);g.includes(O)?j.delete(O):j.get(O)!==!0&&j.set(O,!1)}},[C,g.length,g.join("-")]);const E=[];if(m!==v){let A=[...m];for(let O=0;O<C.length;O++){const D=C[O],$=Hx(D);g.includes($)||(A.splice(O,0,D),E.push(D))}return i==="wait"&&E.length&&(A=E),S(M6(A)),N(m),null}const{forceRender:T}=x.useContext(vA);return s.jsx(s.Fragment,{children:C.map(A=>{const O=Hx(A),D=o&&!d?!1:m===C||g.includes(O),$=()=>{if(j.has(O))j.set(O,!0);else return;let L=!0;j.forEach(I=>{I||(L=!1)}),L&&(T==null||T(),S(w.current),o&&(h==null||h()),n&&n())};return s.jsx(kae,{isPresent:D,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:D?void 0:$,anchorX:l,children:A},O)})})},JV=x.createContext({strict:!1}),A6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lf={};for(const t in A6)Lf[t]={isEnabled:e=>A6[t].some(r=>!!e[r])};function Tae(t){for(const e in t)Lf[e]={...Lf[e],...t[e]}}const _ae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_ae.has(t)}let QV=t=>!hb(t);function Mae(t){typeof t=="function"&&(QV=e=>e.startsWith("on")?!hb(e):t(e))}try{Mae(require("@emotion/is-prop-valid").default)}catch{}function Aae(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(QV(a)||r===!0&&hb(a)||!e&&!hb(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const Cw=x.createContext({});function Tw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Up(t){return typeof t=="string"||Array.isArray(t)}const UA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WA=["initial",...UA];function _w(t){return Tw(t.animate)||WA.some(e=>Up(t[e]))}function ZV(t){return!!(_w(t)||t.variants)}function Oae(t,e){if(_w(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Up(r)?r:void 0,animate:Up(n)?n:void 0}}return t.inherit!==!1?e:{}}function Eae(t){const{initial:e,animate:r}=Oae(t,x.useContext(Cw));return x.useMemo(()=>({initial:e,animate:r}),[O6(e),O6(r)])}function O6(t){return Array.isArray(t)?t.join(" "):t}const Wp={};function Dae(t){for(const e in t)Wp[e]=t[e],AA(e)&&(Wp[e].isCSSVariable=!0)}function eq(t,{layout:e,layoutId:r}){return Eh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Wp[t]||t==="opacity")}const Pae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rae=Oh.length;function Iae(t,e,r){let n="",a=!0;for(let i=0;i<Rae;i++){const o=Oh[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=qV(l,BA[o]);if(!c){a=!1;const h=Pae[o]||o;n+=`${h}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function GA(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Eh.has(c)){o=!0;continue}else if(AA(c)){a[c]=d;continue}else{const h=qV(d,BA[c]);c.startsWith("origin")?(l=!0,i[c]=h):n[c]=h}}if(e.transform||(o||r?n.transform=Iae(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;n.transformOrigin=`${c} ${d} ${h}`}}const YA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tq(t,e,r){for(const n in e)!Ba(e[n])&&!eq(n,r)&&(t[n]=e[n])}function Lae({transformTemplate:t},e){return x.useMemo(()=>{const r=YA();return GA(r,e,t),Object.assign({},r.vars,r.style)},[e])}function $ae(t,e){const r=t.style||{},n={};return tq(n,r,t),Object.assign(n,Lae(t,e)),n}function Fae(t,e){const r={},n=$ae(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Hae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bae={offset:"strokeDashoffset",array:"strokeDasharray"};function zae(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Hae:Bae;t[i.offset]=Xt.transform(-n);const o=Xt.transform(e),l=Xt.transform(r);t[i.array]=`${o} ${l}`}function rq(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(GA(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&zae(m,a,i,o,!1)}const nq=()=>({...YA(),attrs:{}}),aq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Vae(t,e,r,n){const a=x.useMemo(()=>{const i=nq();return rq(i,e,aq(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};tq(i,t.style,t),a.style={...i,...a.style}}return a}const qae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KA(t){return typeof t!="string"||t.includes("-")?!1:!!(qae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Uae(t,e,r,{latestValues:n},a,i=!1){const l=(KA(t)?Vae:Fae)(e,n,a,t),c=Aae(e,typeof t=="string",i),d=t!==x.Fragment?{...c,...l,ref:r}:{},{children:h}=e,m=x.useMemo(()=>Ba(h)?h.get():h,[h]);return x.createElement(t,{...d,children:m})}function E6(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function XA(t,e,r,n){if(typeof e=="function"){const[a,i]=E6(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=E6(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function Hy(t){return Ba(t)?t.get():t}function Wae({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:Gae(r,n,a,t),renderState:e()}}function Gae(t,e,r,n){const a={},i=n(t,{});for(const g in i)a[g]=Hy(i[g]);let{initial:o,animate:l}=t;const c=_w(t),d=ZV(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Tw(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const w=XA(t,g[y]);if(w){const{transitionEnd:j,transition:v,...N}=w;for(const C in N){let S=N[C];if(Array.isArray(S)){const E=h?S.length-1:0;S=S[E]}S!==null&&(a[C]=S)}for(const C in j)a[C]=j[C]}}}return a}const sq=t=>(e,r)=>{const n=x.useContext(Cw),a=x.useContext(kw),i=()=>Wae(t,e,n,a);return r?i():wA(i)};function JA(t,e,r){var i;const{style:n}=t,a={};for(const o in n)(Ba(n[o])||e.style&&Ba(e.style[o])||eq(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Yae=sq({scrapeMotionValuesFromProps:JA,createRenderState:YA});function iq(t,e,r){const n=JA(t,e,r);for(const a in t)if(Ba(t[a])||Ba(e[a])){const i=Oh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const Kae=sq({scrapeMotionValuesFromProps:iq,createRenderState:nq}),Xae=Symbol.for("motionComponentSymbol");function ff(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jae(t,e,r){return x.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):ff(r)&&(r.current=n))},[e])}const QA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qae="framerAppearId",oq="data-"+QA(Qae),lq=x.createContext({});function Zae(t,e,r,n,a){var j,v;const{visualElement:i}=x.useContext(Cw),o=x.useContext(JV),l=x.useContext(kw),c=x.useContext(qA).reducedMotion,d=x.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=x.useContext(lq);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&ese(d.current,r,a,m);const g=x.useRef(!1);x.useInsertionEffect(()=>{h&&g.current&&h.update(r,l)});const y=r[oq],w=x.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,y)));return sV(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,y)}),w.current=!1),h.enteringChildren=void 0)}),h}function ese(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:cq(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&ff(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:d})}function cq(t){if(t)return t.options.allowProjection!==!1?t.projection:cq(t.parent)}function oN(t,{forwardMotionProps:e=!1}={},r,n){r&&Tae(r);const a=KA(t)?Kae:Yae;function i(l,c){let d;const h={...x.useContext(qA),...l,layoutId:tse(l)},{isStatic:m}=h,g=Eae(l),y=a(l,m);if(!m&&jA){rse();const w=nse(h);d=w.MeasureLayout,g.visualElement=Zae(t,y,h,n,w.ProjectionNode)}return s.jsxs(Cw.Provider,{value:g,children:[d&&g.visualElement?s.jsx(d,{visualElement:g.visualElement,...h}):null,Uae(t,l,Jae(y,g.visualElement,c),y,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=x.forwardRef(i);return o[Xae]=t,o}function tse({layoutId:t}){const e=x.useContext(vA).id;return e&&t!==void 0?e+"-"+t:t}function rse(t,e){x.useContext(JV).strict}function nse(t){const{drag:e,layout:r}=Lf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ase(t,e){if(typeof Proxy>"u")return oN;const r=new Map,n=(i,o)=>oN(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,oN(o,void 0,t,e)),r.get(o))})}function uq({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function sse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ise(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lN(t){return t===void 0||t===1}function H_({scale:t,scaleX:e,scaleY:r}){return!lN(t)||!lN(e)||!lN(r)}function hu(t){return H_(t)||dq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dq(t){return D6(t.x)||D6(t.y)}function D6(t){return t&&t!=="0%"}function mb(t,e,r){const n=t-r,a=e*n;return r+a}function P6(t,e,r,n,a){return a!==void 0&&(t=mb(t,a,n)),mb(t,r,n)+e}function B_(t,e=0,r=1,n,a){t.min=P6(t.min,e,r,n,a),t.max=P6(t.max,e,r,n,a)}function fq(t,{x:e,y:r}){B_(t.x,e.translate,e.scale,e.originPoint),B_(t.y,r.translate,r.scale,r.originPoint)}const R6=.999999999999,I6=1.0000000000001;function ose(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&mf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fq(t,o)),n&&hu(i.latestValues)&&mf(t,i.latestValues))}e.x<I6&&e.x>R6&&(e.x=1),e.y<I6&&e.y>R6&&(e.y=1)}function hf(t,e){t.min=t.min+e,t.max=t.max+e}function L6(t,e,r,n,a=.5){const i=vn(t.min,t.max,a);B_(t,e,r,i,n)}function mf(t,e){L6(t.x,e.x,e.scaleX,e.scale,e.originX),L6(t.y,e.y,e.scaleY,e.scale,e.originY)}function hq(t,e){return uq(ise(t.getBoundingClientRect(),e))}function lse(t,e,r){const n=hq(t,r),{scroll:a}=e;return a&&(hf(n.x,a.offset.x),hf(n.y,a.offset.y)),n}const $6=()=>({translate:0,scale:1,origin:0,originPoint:0}),pf=()=>({x:$6(),y:$6()}),F6=()=>({min:0,max:0}),Ln=()=>({x:F6(),y:F6()}),z_={current:null},mq={current:!1};function cse(){if(mq.current=!0,!!jA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>z_.current=t.matches;t.addEventListener("change",e),e()}else z_.current=!1}const use=new WeakMap;function dse(t,e,r){for(const n in e){const a=e[n],i=r[n];if(Ba(a))t.addValue(n,a);else if(Ba(i))t.addValue(n,If(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,If(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const H6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fse{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=FA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=bs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,gn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=_w(r),this.isVariantNode=ZV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const y=m[g];c[g]!==void 0&&Ba(y)&&y.set(c[g])}}mount(e){var r;this.current=e,use.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),mq.current||cse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:z_.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ac(this.notifyUpdate),Ac(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Eh.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&gn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lf){const r=Lf[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<H6.length;n++){const a=H6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=dse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=If(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(iV(n)||lV(n))?n=parseFloat(n):!vae(n)&&Oc.test(r)&&(n=VV(e,r)),this.setBaseTarget(e,Ba(n)?n.get():n)),Ba(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=XA(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ba(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new TA),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){zA.render(this.render)}}class pq extends fse{constructor(){super(...arguments),this.KeyframeResolver=lae}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ba(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function gq(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function hse(t){return window.getComputedStyle(t)}class mse extends pq{constructor(){super(...arguments),this.type="html",this.renderInstance=gq}readValueFromInstance(e,r){var n;if(Eh.has(r))return(n=this.projection)!=null&&n.isProjecting?D_(r):Tne(e,r);{const a=hse(e),i=(AA(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return hq(e,r)}build(e,r,n){GA(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return JA(e,r,n)}}const xq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pse(t,e,r,n){gq(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(xq.has(a)?a:QA(a),e.attrs[a])}class gse extends pq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Eh.has(r)){const n=zV(r);return n&&n.default||0}return r=xq.has(r)?r:QA(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return iq(e,r,n)}build(e,r,n){rq(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){pse(e,r,n,a)}mount(e){this.isSVGTag=aq(e.tagName),super.mount(e)}}const xse=(t,e)=>KA(t)?new gse(e):new mse(e,{allowProjection:t!==x.Fragment});function jf(t,e,r){const n=t.getProps();return XA(n,e,r!==void 0?r:n.custom,t)}const V_=t=>Array.isArray(t);function yse(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,If(r))}function bse(t){return V_(t)?t[t.length-1]||0:t}function vse(t,e){const r=jf(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=bse(i[o]);yse(t,o,l)}}function wse(t){return!!(Ba(t)&&t.add)}function q_(t,e){const r=t.getValue("willChange");if(wse(r))return r.add(e);if(!r&&jl.WillChange){const n=new jl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function yq(t){return t.props[oq]}const jse=t=>t!==null;function Sse(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(jse),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Nse={type:"spring",stiffness:500,damping:25,restSpeed:10},kse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Cse={type:"keyframes",duration:.8},Tse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_se=(t,{keyframes:e})=>e.length>2?Cse:Eh.has(t)?t.startsWith("scale")?kse(e[1]):Nse:Tse;function Mse({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const ZA=(t,e,r,n={},a,i)=>o=>{const l=HA(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-uo(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};Mse(l)||Object.assign(h,_se(t,h)),h.duration&&(h.duration=uo(h.duration)),h.repeatDelay&&(h.repeatDelay=uo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&($_(h),h.delay===0&&(m=!0)),(jl.instantAnimations||jl.skipAnimations)&&(m=!0,$_(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const g=Sse(h.keyframes,l);if(g!==void 0){gn.update(()=>{h.onUpdate(g),h.onComplete()});return}}return l.isSync?new $A(h):new Xne(h)};function Ase({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function bq(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),g=l[h];if(g===void 0||d&&Ase(d,h))continue;const y={delay:r,...HA(i||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=yq(t);if(N){const C=window.MotionHandoffAnimation(N,h,gn);C!==null&&(y.startTime=C,j=!0)}}q_(t,h),m.start(ZA(h,m,g,t.shouldReduceMotion&&FV.has(h)?{type:!1}:y,t,j));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{gn.update(()=>{o&&vse(t,o)})}),c}function vq(t,e,r,n=0,a=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function U_(t,e,r={}){var c;const n=jf(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(bq(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=a;return Ose(t,e,d,h,m,g,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Ose(t,e,r=0,n=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(U_(c,e,{...o,delay:r+(typeof n=="function"?0:n)+vq(t.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Ese(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>U_(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=U_(t,e,r);else{const a=typeof e=="function"?jf(t,e,r.custom):e;n=Promise.all(bq(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function wq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Dse=WA.length;function jq(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?jq(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Dse;r++){const n=WA[r],a=t.props[n];(Up(a)||a===!1)&&(e[n]=a)}return e}const Pse=[...UA].reverse(),Rse=UA.length;function Ise(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Ese(t,r,n)))}function Lse(t){let e=Ise(t),r=B6(),n=!0;const a=c=>(d,h)=>{var g;const m=jf(t,h,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:y,transitionEnd:w,...j}=m;d={...d,...j,...w}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=jq(t.parent)||{},m=[],g=new Set;let y={},w=1/0;for(let v=0;v<Rse;v++){const N=Pse[v],C=r[N],S=d[N]!==void 0?d[N]:h[N],E=Up(S),T=N===c?C.isActive:null;T===!1&&(w=v);let A=S===h[N]&&S!==d[N]&&E;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),C.protectedKeys={...y},!C.isActive&&T===null||!S&&!C.prevProp||Tw(S)||typeof S=="boolean")continue;const O=$se(C.prevProp,S);let D=O||N===c&&C.isActive&&!A&&E||v>w&&E,$=!1;const L=Array.isArray(S)?S:[S];let I=L.reduce(a(N),{});T===!1&&(I={});const{prevResolvedValues:R={}}=C,H={...R,...I},G=P=>{D=!0,g.has(P)&&($=!0,g.delete(P)),C.needsAnimating[P]=!0;const B=t.getValue(P);B&&(B.liveStyle=!1)};for(const P in H){const B=I[P],K=R[P];if(y.hasOwnProperty(P))continue;let te=!1;V_(B)&&V_(K)?te=!wq(B,K):te=B!==K,te?B!=null?G(P):g.add(P):B!==void 0&&g.has(P)?G(P):C.protectedKeys[P]=!0}C.prevProp=S,C.prevResolvedValues=I,C.isActive&&(y={...y,...I}),n&&t.blockInitialAnimation&&(D=!1);const q=A&&O;D&&(!q||$)&&m.push(...L.map(P=>{const B={type:N};if(typeof P=="string"&&n&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,te=jf(K,P);if(K.enteringChildren&&te){const{delayChildren:U}=te.transition||{};B.delay=vq(K.enteringChildren,t,U)}}return{animation:P,options:B}}))}if(g.size){const v={};if(typeof d.initial!="boolean"){const N=jf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}g.forEach(N=>{const C=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),v[N]=C??null}),m.push({animation:v})}let j=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var y;return(y=g.animationState)==null?void 0:y.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=B6(),n=!0}}}function $se(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wq(e,t):!1}function lu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B6(){return{animate:lu(!0),whileInView:lu(),whileHover:lu(),whileTap:lu(),whileDrag:lu(),whileFocus:lu(),exit:lu()}}class Lc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fse extends Lc{constructor(e){super(e),e.animationState||(e.animationState=Lse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hse=0;class Bse extends Lc{constructor(){super(...arguments),this.id=Hse++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zse={animation:{Feature:Fse},exit:{Feature:Bse}};function Gp(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Z0(t){return{point:{x:t.pageX,y:t.pageY}}}const Vse=t=>e=>VA(e)&&t(e,Z0(e));function wp(t,e,r,n){return Gp(t,e,Vse(r),n)}const Sq=1e-4,qse=1-Sq,Use=1+Sq,Nq=.01,Wse=0-Nq,Gse=0+Nq;function Ya(t){return t.max-t.min}function Yse(t,e,r){return Math.abs(t-e)<=r}function z6(t,e,r,n=.5){t.origin=n,t.originPoint=vn(e.min,e.max,t.origin),t.scale=Ya(r)/Ya(e),t.translate=vn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=qse&&t.scale<=Use||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wse&&t.translate<=Gse||isNaN(t.translate))&&(t.translate=0)}function jp(t,e,r,n){z6(t.x,e.x,r.x,n?n.originX:void 0),z6(t.y,e.y,r.y,n?n.originY:void 0)}function V6(t,e,r){t.min=r.min+e.min,t.max=t.min+Ya(e)}function Kse(t,e,r){V6(t.x,e.x,r.x),V6(t.y,e.y,r.y)}function q6(t,e,r){t.min=e.min-r.min,t.max=t.min+Ya(e)}function Sp(t,e,r){q6(t.x,e.x,r.x),q6(t.y,e.y,r.y)}function ri(t){return[t("x"),t("y")]}const kq=({current:t})=>t?t.ownerDocument.defaultView:null,U6=(t,e)=>Math.abs(t-e);function Xse(t,e){const r=U6(t.x,e.x),n=U6(t.y,e.y);return Math.sqrt(r**2+n**2)}class Cq{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=uN(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=Xse(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:j}=g,{timestamp:v}=Ta;this.history.push({...j,timestamp:v});const{onStart:N,onMove:C}=this.handlers;y||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=cN(y,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=uN(g.type==="pointercancel"?this.lastMoveEventInfo:cN(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,N),j&&j(g,N)},!VA(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Z0(e),c=cN(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ta;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,uN(c,this.history)),this.removeListeners=X0(wp(this.contextWindow,"pointermove",this.handlePointerMove),wp(this.contextWindow,"pointerup",this.handlePointerUp),wp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ac(this.updatePoint)}}function cN(t,e){return e?{point:e(t.point)}:t}function W6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uN({point:t},e){return{point:t,delta:W6(t,Tq(e)),offset:W6(t,Jse(e)),velocity:Qse(e,.1)}}function Jse(t){return t[0]}function Tq(t){return t[t.length-1]}function Qse(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=Tq(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>uo(e)));)r--;if(!n)return{x:0,y:0};const i=ui(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zse(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?vn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?vn(r,t,n.max):Math.min(t,r)),t}function G6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function eie(t,{top:e,left:r,bottom:n,right:a}){return{x:G6(t.x,r,a),y:G6(t.y,e,n)}}function Y6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function tie(t,e){return{x:Y6(t.x,e.x),y:Y6(t.y,e.y)}}function rie(t,e){let r=.5;const n=Ya(t),a=Ya(e);return a>n?r=zp(e.min,e.max-n,t.min):n>a&&(r=zp(t.min,t.max-a,e.min)),wl(0,1,r)}function nie(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const W_=.35;function aie(t=W_){return t===!1?t=0:t===!0&&(t=W_),{x:K6(t,"left","right"),y:K6(t,"top","bottom")}}function K6(t,e,r){return{min:X6(t,e),max:X6(t,r)}}function X6(t,e){return typeof t=="number"?t:t[e]||0}const sie=new WeakMap;class iie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Z0(m).point)},o=(m,g)=>{const{drag:y,dragPropagation:w,onDragStart:j}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fae(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(N=>{let C=this.getAxisMotionValue(N).get()||0;if(fo.test(C)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[N];E&&(C=Ya(E)*(parseFloat(C)/100))}}this.originPoint[N]=C}),j&&gn.postRender(()=>j(m,g)),q_(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:j,onDrag:v}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=g;if(w&&this.currentDirection===null){this.currentDirection=oie(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),v&&v(m,g)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ri(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Cq(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:kq(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&gn.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!Bx(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Zse(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&ff(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=eie(n.layoutBox,e):this.constraints=!1,this.elastic=aie(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ri(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nie(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ff(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=lse(n,a.root,this.visualElement.getTransformPagePoint());let o=tie(a.layout.layoutBox,i);if(r){const l=r(sse(o));this.hasMutatedConstraints=!!l,l&&(o=uq(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ri(h=>{if(!Bx(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const g=a?200:1e6,y=a?40:1e7,w={type:"inertia",velocity:n?e[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return q_(this.visualElement,e),n.start(ZA(e,n,0,r,this.visualElement,!1))}stopAnimation(){ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ri(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ri(r=>{const{drag:n}=this.getProps();if(!Bx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-vn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ff(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ri(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=rie({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ri(o=>{if(!Bx(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(vn(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;sie.set(this.visualElement,this);const e=this.visualElement.current,r=wp(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ff(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),gn.read(n);const o=Gp(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ri(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=W_,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Bx(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function oie(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class lie extends Lc{constructor(e){super(e),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new iie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const J6=t=>(e,r)=>{t&&gn.postRender(()=>t(e,r))};class cie extends Lc{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(e){this.session=new Cq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:J6(e),onStart:J6(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&gn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=wp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const By={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $m={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const r=Q6(t,e.target.x),n=Q6(t,e.target.y);return`${r}% ${n}%`}},uie={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=Oc.parse(t);if(a.length>5)return n;const i=Oc.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=vn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let dN=!1;class die extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Dae(fie),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),dN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),By.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,dN=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||gn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;dN=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _q(t){const[e,r]=XV(),n=x.useContext(vA);return s.jsx(die,{...t,layoutGroup:n,switchLayoutGroup:x.useContext(lq),isPresent:e,safeToRemove:r})}const fie={borderRadius:{...$m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:uie};function hie(t,e,r){const n=Ba(t)?t:If(t);return n.start(ZA("",n,e,r)),n.animation}const mie=(t,e)=>t.depth-e.depth;class pie{constructor(){this.children=[],this.isDirty=!1}add(e){SA(this.children,e),this.isDirty=!0}remove(e){NA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mie),this.isDirty=!1,this.children.forEach(e)}}function gie(t,e){const r=bs.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(Ac(n),t(i-e))};return gn.setup(n,!0),()=>Ac(n)}const Mq=["TopLeft","TopRight","BottomLeft","BottomRight"],xie=Mq.length,Z6=t=>typeof t=="string"?parseFloat(t):t,eR=t=>typeof t=="number"||Xt.test(t);function yie(t,e,r,n,a,i){a?(t.opacity=vn(0,r.opacity??1,bie(n)),t.opacityExit=vn(e.opacity??1,0,vie(n))):i&&(t.opacity=vn(e.opacity??1,r.opacity??1,n));for(let o=0;o<xie;o++){const l=`border${Mq[o]}Radius`;let c=tR(e,l),d=tR(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||eR(c)===eR(d)?(t[l]=Math.max(vn(Z6(c),Z6(d),n),0),(fo.test(d)||fo.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=vn(e.rotate||0,r.rotate||0,n))}function tR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bie=Aq(0,.5,gV),vie=Aq(.5,.95,fi);function Aq(t,e,r){return n=>n<t?0:n>e?1:r(zp(t,e,n))}function rR(t,e){t.min=e.min,t.max=e.max}function Js(t,e){rR(t.x,e.x),rR(t.y,e.y)}function nR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function aR(t,e,r,n,a){return t-=e,t=mb(t,1/r,n),a!==void 0&&(t=mb(t,1/a,n)),t}function wie(t,e=0,r=1,n=.5,a,i=t,o=t){if(fo.test(e)&&(e=parseFloat(e),e=vn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=vn(i.min,i.max,n);t===i&&(l-=e),t.min=aR(t.min,e,r,l,a),t.max=aR(t.max,e,r,l,a)}function sR(t,e,[r,n,a],i,o){wie(t,e[r],e[n],e[a],e.scale,i,o)}const jie=["x","scaleX","originX"],Sie=["y","scaleY","originY"];function iR(t,e,r,n){sR(t.x,e,jie,r?r.x:void 0,n?n.x:void 0),sR(t.y,e,Sie,r?r.y:void 0,n?n.y:void 0)}function oR(t){return t.translate===0&&t.scale===1}function Oq(t){return oR(t.x)&&oR(t.y)}function lR(t,e){return t.min===e.min&&t.max===e.max}function Nie(t,e){return lR(t.x,e.x)&&lR(t.y,e.y)}function cR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Eq(t,e){return cR(t.x,e.x)&&cR(t.y,e.y)}function uR(t){return Ya(t.x)/Ya(t.y)}function dR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kie{constructor(){this.members=[]}add(e){SA(this.members,e),e.scheduleRender()}remove(e){if(NA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cie(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:g,skewX:y,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const fN=["","X","Y","Z"],Tie=1e3;let _ie=0;function hN(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Dq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=yq(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",gn,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Dq(n)}function Pq({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=_ie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Oie),this.nodes.forEach(Rie),this.nodes.forEach(Iie),this.nodes.forEach(Eie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TA),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KV(o)&&!yae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const g=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{m=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,h&&h(),h=gie(g,250),By.hasAnimatedSinceResize&&(By.hasAnimatedSinceResize=!1,this.nodes.forEach(mR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Bie,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!Eq(this.targetLayout,y),C=!m&&g;if(this.options.layoutRoot||this.resumeFrom||C||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...HA(w,"layout"),onPlay:j,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,C)}else m||mR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pie),this.nodes.forEach(Mie),this.nodes.forEach(Aie)):this.nodes.forEach(hR),this.clearAllSnapshots();const l=bs.now();Ta.delta=wl(0,1e3/60,l-Ta.timestamp),Ta.timestamp=l,Ta.isProcessing=!0,tN.update.process(Ta),tN.preRender.process(Ta),tN.render.process(Ta),Ta.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Die),this.sharedNodes.forEach($ie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ya(this.snapshot.measuredBox.x)&&!Ya(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Oq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||hu(this.latestValues)||h)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),zie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ln();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Vie))){const{scroll:h}=this.root;h&&(hf(l.x,h.offset.x),hf(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Ln();if(Js(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Js(l,o),hf(l.x,m.offset.x),hf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Ln();Js(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&mf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),hu(h.latestValues)&&mf(c,h.latestValues)}return hu(this.latestValues)&&mf(c,this.latestValues),c}removeTransform(o){const l=Ln();Js(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!hu(d.latestValues))continue;H_(d.latestValues)&&d.updateSnapshot();const h=Ln(),m=d.measurePageBox();Js(h,m),iR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return hu(this.latestValues)&&iR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ta.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Ta.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),Sp(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Js(this.target,this.layout.layoutBox),fq(this.target,this.targetDelta)):Js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),Sp(this.relativeTargetOrigin,this.target,y.target),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||H_(this.parent.latestValues)||dq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ta.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Js(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;ose(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ln());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nR(this.prevProjectionDelta.x,this.projectionDelta.x),nR(this.prevProjectionDelta.y,this.projectionDelta.y)),jp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!dR(this.projectionDelta.x,this.prevProjectionDelta.x)||!dR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pf(),this.projectionDelta=pf(),this.projectionDeltaWithTransform=pf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=pf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Ln(),y=c?c.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,v=this.getStack(),N=!v||v.members.length<=1,C=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(Hie));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const T=E/1e3;pR(m.x,o.x,T),pR(m.y,o.y,T),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sp(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fie(this.relativeTarget,this.relativeTargetOrigin,g,T),S&&Nie(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ln()),Js(S,this.relativeTarget)),j&&(this.animationValues=h,yie(h,d,this.latestValues,T,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{By.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=If(0)),this.currentAnimation=hie(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Rq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ln();const m=Ya(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=Ya(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Js(l,c),mf(l,h),jp(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kie),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&hN("z",o,d,this.animationValues);for(let h=0;h<fN.length;h++)hN(`rotate${fN[h]}`,o,d,this.animationValues),hN(`skew${fN[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Hy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Hy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Cie(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Wp){if(h[w]===void 0)continue;const{correct:j,applyTo:v,isCSSVariable:N}=Wp[w],C=m==="none"?h[w]:j(h[w],d);if(v){const S=v.length;for(let E=0;E<S;E++)o[v[E]]=C}else N?this.options.visualElement.renderState.vars[w]=C:o[w]=C}this.options.layoutId&&(o.pointerEvents=d===this?Hy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(fR),this.root.sharedNodes.clear()}}}function Mie(t){t.updateLayout()}function Aie(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?ri(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],y=Ya(g);g.min=n[m].min,g.max=g.min+y}):Rq(i,e.layoutBox,n)&&ri(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],y=Ya(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=pf();jp(l,n,e.layoutBox);const c=pf();o?jp(c,t.applyTransform(a,!0),e.measuredBox):jp(c,n,e.layoutBox);const d=!Oq(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const w=Ln();Sp(w,e.layoutBox,g.layoutBox);const j=Ln();Sp(j,n,y.layoutBox),Eq(w,j)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Oie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Eie(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Die(t){t.clearSnapshot()}function fR(t){t.clearMeasurements()}function hR(t){t.isLayoutDirty=!1}function Pie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rie(t){t.resolveTargetDelta()}function Iie(t){t.calcProjection()}function Lie(t){t.resetSkewAndRotation()}function $ie(t){t.removeLeadSnapshot()}function pR(t,e,r){t.translate=vn(e.translate,0,r),t.scale=vn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function gR(t,e,r,n){t.min=vn(e.min,r.min,n),t.max=vn(e.max,r.max,n)}function Fie(t,e,r,n){gR(t.x,e.x,r.x,n),gR(t.y,e.y,r.y,n)}function Hie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bie={duration:.45,ease:[.4,0,.1,1]},xR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yR=xR("applewebkit/")&&!xR("chrome/")?Math.round:fi;function bR(t){t.min=yR(t.min),t.max=yR(t.max)}function zie(t){bR(t.x),bR(t.y)}function Rq(t,e,r){return t==="position"||t==="preserve-aspect"&&!Yse(uR(e),uR(r),.2)}function Vie(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qie=Pq({attachResizeListener:(t,e)=>Gp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mN={current:void 0},Iq=Pq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mN.current){const t=new qie({});t.mount(window),t.setOptions({layoutScroll:!0}),mN.current=t}return mN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uie={pan:{Feature:cie},drag:{Feature:lie,ProjectionNode:Iq,MeasureLayout:_q}};function vR(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&gn.postRender(()=>i(e,Z0(e)))}class Wie extends Lc{mount(){const{current:e}=this.node;e&&(this.unmount=hae(e,(r,n)=>(vR(this.node,n,"Start"),a=>vR(this.node,a,"End"))))}unmount(){}}class Gie extends Lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=X0(Gp(this.node.current,"focus",()=>this.onFocus()),Gp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wR(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&gn.postRender(()=>i(e,Z0(e)))}class Yie extends Lc{mount(){const{current:e}=this.node;e&&(this.unmount=xae(e,(r,n)=>(wR(this.node,n,"Start"),(a,{success:i})=>wR(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const G_=new WeakMap,pN=new WeakMap,Kie=t=>{const e=G_.get(t.target);e&&e(t)},Xie=t=>{t.forEach(Kie)};function Jie({root:t,...e}){const r=t||document;pN.has(r)||pN.set(r,{});const n=pN.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(Xie,{root:t,...e})),n[a]}function Qie(t,e,r){const n=Jie(e);return G_.set(t,r),n.observe(t),()=>{G_.delete(t),n.unobserve(t)}}const Zie={some:0,all:1};class eoe extends Lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Zie[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),g=d?h:m;g&&g(c)};return Qie(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(toe(e,r))&&this.startObserver()}unmount(){}}function toe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const roe={inView:{Feature:eoe},tap:{Feature:Yie},focus:{Feature:Gie},hover:{Feature:Wie}},noe={layout:{ProjectionNode:Iq,MeasureLayout:_q}},aoe={...zse,...roe,...Uie,...noe},_=ase(aoe,xse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ioe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),jR=t=>{const e=ioe(t);return e.charAt(0).toUpperCase()+e.slice(1)},Lq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),ooe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var loe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...loe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Lq("lucide",a),...!i&&!ooe(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>x.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(coe,{ref:i,iconNode:e,className:Lq(`lucide-${soe(jR(t))}`,`lucide-${t}`,n),...a}));return r.displayName=jR(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ri=st("activity",uoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],foe=st("align-center",doe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],moe=st("align-justify",hoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],goe=st("align-left",poe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],yoe=st("align-right",xoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],voe=st("archive",boe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Or=st("arrow-left",woe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Soe=st("arrow-right",joe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],eO=st("bell",Noe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Coe=st("bold",koe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$f=st("book-open",Toe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Moe=st("box",_oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],$q=st("boxes",Aoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Ff=st("building",Ooe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pa=st("calendar",Eoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Poe=st("camera",Doe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],eg=st("chart-bar",Roe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],SR=st("chart-column",Ioe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Fi=st("chart-no-axes-column",Loe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Foe=st("chart-pie",$oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jn=st("chevron-down",Hoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vi=st("chevron-left",Boe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zr=st("chevron-right",zoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pb=st("chevron-up",Voe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ht=st("circle-check-big",qoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Woe=st("circle-x",Uoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],ir=st("clipboard",Goe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],It=st("clock",Yoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Xoe=st("code",Koe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],Qoe=st("component",Joe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],ele=st("computer",Zoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rle=st("credit-card",tle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mw=st("database",nle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tO=st("external-link",ale);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],es=st("eye",sle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sf=st("file-text",ile);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],lle=st("file",ole);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ule=st("folder-plus",cle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],fle=st("folder",dle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],mle=st("frown",hle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],is=st("funnel",ple);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xle=st("globe",gle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],ble=st("hammer",yle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],wle=st("heading-1",vle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Sle=st("heading-2",jle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],kle=st("heading-3",Nle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Hf=st("history",Cle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],wr=st("hourglass",Tle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tg=st("house",_le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ma=st("info",Mle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Ole=st("italic",Ale);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bf=st("key",Ele);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Fq=st("life-buoy",Dle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Rle=st("link",Ple);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],Yp=st("list-check",Ile);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],zy=st("list-checks",Lle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Fle=st("list-ordered",$le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],ld=st("list-plus",Hle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Hq=st("list",Ble);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gb=st("loader",zle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qle=st("lock",Vle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wle=st("log-out",Ule);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rg=st("mail",Gle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zf=st("map-pin",Yle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Nf=st("message-square",Kle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Dh=st("monitor",Xle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Bq=st("moon",Jle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ma=st("package",Qle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],ece=st("paint-bucket",Zle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rce=st("palette",tce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],pi=st("paperclip",nce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Wu=st("phone",ace);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],ice=st("pilcrow",sce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jn=st("plus",oce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cce=st("printer",lce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],dce=st("receipt",uce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],hce=st("redo-2",fce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pce=st("refresh-cw",mce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],xce=st("remove-formatting",gce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nr=st("save",yce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bn=st("search",bce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],An=st("settings",vce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],jce=st("shopping-cart",wce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hn=st("square-pen",Sce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],kce=st("strikethrough",Nce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Y_=st("sun",Cce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],Hi=st("tool-case",Tce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],yn=st("trash-2",_ce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ju=st("trending-up",Mce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zt=st("triangle-alert",Ace);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],zq=st("type",Oce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Dce=st("undo-2",Ece);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ls=st("upload",Pce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NR=st("user-check",Rce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xb=st("user-cog",Ice);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$ce=st("user-plus",Lce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mr=st("user",Fce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ia=st("users",Hce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],kf=st("warehouse",Bce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],hn=st("wrench",zce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dt=st("x",Vce),ta=X.memo(({icon:t,text:e,to:r,expanded:n})=>{const a=Nt(),o=Zn().pathname===r;return s.jsxs(_.button,{onClick:()=>a(r),whileHover:{backgroundColor:o?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${o?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
      `,children:[s.jsx("span",{className:`text-xl transition-colors duration-200 ${o?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&s.jsx(_.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),qce=()=>{const[t,e]=x.useState(()=>{const c=localStorage.getItem("sidebarOpen");return c?JSON.parse(c):!1}),[r,n]=x.useState(window.innerWidth<768),{user:a,hasPermission:i}=Ct(),o=x.useRef(null);x.useEffect(()=>{const c=o.current;if(c){const d=sessionStorage.getItem("sidebarScrollPos");d&&(c.scrollTop=parseInt(d,10));const h=()=>{sessionStorage.setItem("sidebarScrollPos",c.scrollTop.toString())};return c.addEventListener("scroll",h),()=>{c.removeEventListener("scroll",h)}}},[]);const l=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(c=>!c)};return s.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:s.jsx(Mt,{children:(!r||t)&&s.jsxs(_.div,{initial:{width:r?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:`bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden ${r?"fixed z-50 h-full":""}`,children:[s.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:Rf,alt:"Logo Wida",className:"h-9 w-auto"}),s.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):s.jsx("img",{src:Rf,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),s.jsx("button",{onClick:l,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?s.jsx(Vi,{className:"text-xl"}):s.jsx(Zr,{className:"text-xl"})})]}),s.jsxs("nav",{ref:o,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[i("1")&&s.jsx(ta,{icon:s.jsx(tg,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&s.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),i("23")&&s.jsx(ta,{icon:s.jsx(Yp,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(Hf,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(Hf,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&s.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),i("23")&&s.jsx(ta,{icon:s.jsx(zf,{}),text:"Work Location",to:"/worklocation",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(ia,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),i("15")&&s.jsx(ta,{icon:s.jsx(Bf,{}),text:"User Management",to:"/permissions",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(hn,{}),text:"Spare Part",to:"/sparepart",expanded:t}),i("3")&&s.jsx(ta,{icon:s.jsx(ma,{}),text:"Assets",to:"/assets",expanded:t}),i("3")&&s.jsx(ta,{icon:s.jsx(ma,{}),text:"Vendors",to:"/vendors",expanded:t}),i("3")&&s.jsx(ta,{icon:s.jsx(Fq,{}),text:"Services",to:"/services",expanded:t}),i("3")&&s.jsx(ta,{icon:s.jsx(Hi,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&s.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),i("31")&&s.jsx(ta,{icon:s.jsx(eg,{}),text:"Machine History",to:"/machinehistory",expanded:t}),i("31")&&s.jsx(ta,{icon:s.jsx(Dh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&s.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),i("7")&&s.jsx(ta,{icon:s.jsx(ir,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&s.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),i("23")&&s.jsx(ta,{icon:s.jsx(Qoe,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(jce,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(dce,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),i("23")&&s.jsx(ta,{icon:s.jsx(voe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),s.jsx("div",{className:"p-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(a==null?void 0:a.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),s.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})," "]})]})})]})})})},jt=X.memo(qce),kR=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:s.jsx(Zt,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:s.jsx(pa,{className:"text-blue-500"})}],CR={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit":"Edit Work Unit","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},Ot=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:a,toggleSidebar:i})=>{const{user:o,logout:l}=Ct(),c=Nt(),d=Zn(),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),v=x.useRef(null),N=x.useRef(null);x.useEffect(()=>{const T=A=>{v.current&&!v.current.contains(A.target)&&m(!1),N.current&&!N.current.contains(A.target)&&y(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const S=(()=>{const T=d.pathname.split("/").filter(D=>D!==""),A=[];A.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let O="";for(let D=0;D<T.length;D++){const $=T[D];if(O+=`/${$}`,/^\d+$/.test($)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($))continue;const L=CR[O]||$.charAt(0).toUpperCase()+$.slice(1).replace(/([A-Z])/g," $1");A.push({label:L,path:O,isClickable:D<T.length-1&&CR[O]!==void 0})}return A})(),E=n.props.className||"";return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[a&&s.jsx(_.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s.jsx(Zr,{className:"text-xl"})}),X.cloneElement(n,{className:`text-xl text-blue-600 ${E}`}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})]}),s.jsxs("div",{className:"flex items-center space-x-3 relative",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(!w),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":w?"Switch to light mode":"Switch to dark mode",children:w?s.jsx(Y_,{className:"text-yellow-400 text-xl"}):s.jsx(Bq,{className:"text-xl"})}),s.jsxs("div",{className:"relative",ref:v,children:[s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!h),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[s.jsx(eO,{className:"text-xl"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),s.jsx(Mt,{children:h&&s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[s.jsx("div",{className:"p-4 border-b border-gray-100",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),s.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:kR.length>0?kR.map(T=>s.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[T.icon&&s.jsx("div",{className:"flex-shrink-0 mr-3",children:T.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:T.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:T.description}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:T.date})]})]},T.id)):s.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),s.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:s.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),s.jsxs("div",{className:"relative",ref:N,children:[s.jsxs(_.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>y(!g),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[s.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),s.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),s.jsx(jn,{className:"text-gray-500 text-base"})]}),s.jsx(Mt,{children:g&&s.jsxs(_.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[s.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),s.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),s.jsxs("button",{onClick:()=>{c("/settings"),y(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[s.jsx(An,{size:16,className:"mr-2"})," Settings"]}),s.jsx("hr",{className:"my-1 border-gray-100"}),s.jsxs("button",{onClick:()=>{c("/logout")},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[s.jsx(Wle,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),s.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:s.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((T,A)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[A===0?s.jsx(tg,{size:16,className:"text-gray-400"}):s.jsx(Zr,{size:16,className:"text-gray-400"}),T.isClickable?s.jsx("button",{onClick:()=>c(T.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:T.label}):s.jsx("span",{className:"text-gray-600 font-medium",children:T.label})]},T.path))})})]})},zx=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},TR=()=>{var I;const[t,e]=x.useState(!1),[r,n]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[a,i]=x.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=Ct(),[d,h]=x.useState(null),m=Nt(),[g,y]=x.useState(!1),[w,j]=x.useState(window.innerWidth<768),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=x.useRef(null),T=x.useRef(null);x.useEffect(()=>{const R=()=>{j(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),x.useEffect(()=>{const R=H=>{E.current&&!E.current.contains(H.target)&&N(!1),T.current&&!T.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const A=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:s.jsx(ju,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:s.jsx(Zt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:s.jsx(Ht,{className:"text-blue-500"}),date:"Jul 28, 2023"}],O=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],D={total:142,running:118,maintenance:15,breakdown:5,idle:4},$={total:86,overdue:5},L=()=>{y(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(R=>!R)};return x.useEffect(()=>{i(1),(async()=>{try{const H=await l("/protected-data");h(H)}catch(H){console.error("Failed to fetch data:",H)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(tg,{}),isMobile:w,toggleSidebar:L}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((I=o==null?void 0:o.roles)==null?void 0:I[0]),"!"]}),s.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(zx,{title:"Total Assets",value:D.total.toString(),change:"+8%",icon:s.jsx(ma,{})}),s.jsx(zx,{title:"Assets Running",value:D.running.toString(),change:"+5%",icon:s.jsx(Ht,{})}),s.jsx(zx,{title:"Work Orders",value:$.total.toString(),change:"-3%",icon:s.jsx(ir,{})}),s.jsx(zx,{title:"Overdue Tasks",value:$.overdue.toString(),change:"+2%",icon:s.jsx(It,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs(_.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:A.map(R=>s.jsxs(_.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[s.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:R.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:R.title}),s.jsx("p",{className:"text-sm text-gray-600",children:R.description}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.date})]})]},R.id))})]}),s.jsxs(_.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),s.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Fi,{className:"mx-auto text-4xl mb-2"}),s.jsx("p",{children:"Asset Status Chart"})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),s.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(D.running/D.total*100),"%)"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),s.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(D.maintenance/D.total*100),"%)"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),s.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(D.breakdown/D.total*100),"%)"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),s.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(D.idle/D.total*100),"%)"]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs(_.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:O.map(R=>s.jsx(_.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(_.img,{whileHover:{rotate:5},src:R.avatar,alt:R.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center flex-wrap",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:R.name}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:R.role})]}),s.jsx("p",{className:"text-sm mt-1 text-gray-700",children:R.comment}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.time})]})]})},R.id))})]}),s.jsxs(_.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:s.jsx(ir,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:s.jsx(ma,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:s.jsx(Nf,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:s.jsx(Fi,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((R,H)=>s.jsxs(_.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:R.onClick,children:[s.jsx("span",{children:R.text}),R.icon]},H))})]})]})]})]})]})]})},Uce=()=>s.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:s.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),Ua=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:a}=Ct(),i=Nt(),o=Zn();return x.useEffect(()=>{if(!a){if(!e){i("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&i("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,i,o,a]),a?s.jsx(Uce,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?s.jsx(_te,{}):null},Wce=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(""),[o,l]=x.useState(!1),c=async d=>{d.preventDefault(),n(""),i(""),l(!0);try{await new Promise(h=>setTimeout(h,1e3)),i(`Password reset link sent to ${t}`),e("")}catch(h){n(h instanceof Error?h.message:"Failed to send reset link")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"rounded-lg flex items-center justify-center",children:s.jsx("img",{src:Rf,alt:"Logo Wida",className:"h-20 w-auto"})}),s.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),s.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&s.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{children:r})]}),a&&s.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:a})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),s.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),s.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),s.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",s.jsx(Mc,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),s.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},Gce=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:s.jsx("div",{className:"w-full max-w-4xl",children:s.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"rounded-lg flex items-center justify-center",children:s.jsx("img",{src:Rf,alt:"Logo Wida",className:"h-20 w-auto"})}),s.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),s.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),s.jsx("p",{children:"We collect personal information when you register, including:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[s.jsx("li",{children:"Full name and contact details"}),s.jsx("li",{children:"Professional credentials (for healthcare providers)"}),s.jsx("li",{children:"Usage data and cookies"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),s.jsx("p",{children:"Your data helps us:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[s.jsx("li",{children:"Provide pharmaceutical services"}),s.jsx("li",{children:"Secure your account with authentication"}),s.jsx("li",{children:"Improve our platform"}),s.jsx("li",{children:"Comply with legal requirements"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),s.jsx("p",{children:"We implement security measures including:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[s.jsx("li",{children:"Encryption of sensitive data"}),s.jsx("li",{children:"Regular security audits"}),s.jsx("li",{children:"Access controls to personal information"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),s.jsx("p",{children:"We only share data with:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[s.jsx("li",{children:"Verified healthcare partners (with consent)"}),s.jsx("li",{children:"Legal authorities when required"}),s.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),s.jsx("p",{children:"You may request to:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[s.jsx("li",{children:"Access your personal data"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Delete your account data"}),s.jsx("li",{children:"Opt-out of marketing communications"})]})]}),s.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[s.jsx(Mc,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),Yce=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],Kce=()=>{const{logout:t,isLoggingOut:e}=Ct(),[r,n]=x.useState(null),[a,i]=x.useState(!1),[o]=x.useState(Yce[0]),[l,c]=x.useState(!1);x.useEffect(()=>{i(!0);let y;return c(!0),y=setTimeout(()=>{c(!1)},500),()=>{clearTimeout(y)}},[]);const d={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},h=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(y){n("Failed to logout. Please try again."),console.error("Logout error:",y)}},g=()=>{window.history.back()};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:s.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[s.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[s.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${a?"opacity-100":"opacity-0"}`,children:[s.jsx("img",{src:Rf,alt:"Logo Wida",className:"h-10 w-auto"}),s.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),s.jsx("h1",{style:{...d,...h},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${a?"opacity-100":"opacity-0"}`,children:o}),s.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),s.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${a?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?s.jsx(s.Fragment,{children:s.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:s.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):s.jsxs(s.Fragment,{children:[r&&s.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{children:r})]}),s.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[s.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[s.jsx(jre,{className:"mr-2"}),"Yes, Sign Out Now"]}),s.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:s.jsxs("button",{onClick:g,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[s.jsx(bA,{className:"mr-2"}),"No, Stay Logged In"]})})]}),s.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${a?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",s.jsx(Mc,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:s.jsxs("span",{className:"inline-flex items-center",children:[s.jsx(wre,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),s.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:s.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${a?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),s.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${a?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),s.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),s.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[s.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),s.jsx("div",{className:"text-purple-300 animate-pulse-light",children:s.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),s.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[s.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:s.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),s.jsx("p",{children:"Security check on exit completed"})]})]}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:s.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Vx=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Xce=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[a,i]=x.useState(t);x.useEffect(()=>{i(t)},[t]);const o=d=>{d.preventDefault(),r(a)},l=({title:d,children:h,icon:m})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[m&&s.jsx("div",{className:"mr-3 text-blue-600",children:m}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d})]})}),s.jsx("div",{className:"p-6",children:h})]}),c=({label:d,value:h,icon:m,fullWidth:g=!1,priority:y="medium"})=>{const w={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${g?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${w[y]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[m&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:m}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:d}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:h})]})]})})})};return s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.name}),s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${a.status==="running"?"bg-green-100 text-green-800 border border-green-300":a.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":a.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"w-4 h-4"}),"Asset ID: ",a.id]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(An,{className:"w-4 h-4"}),"Type: ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]})})}),s.jsx(l,{title:"Basic Information",icon:s.jsx(ma,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(c,{label:"Asset ID",value:a.id,icon:s.jsx(Bf,{className:"w-4 h-4"}),priority:"high"}),s.jsx(c,{label:"Asset Name",value:a.name,icon:s.jsx(ma,{className:"w-4 h-4"}),priority:"high"}),s.jsx(c,{label:"Asset Type",value:a.type.charAt(0).toUpperCase()+a.type.slice(1),icon:s.jsx(An,{className:"w-4 h-4"}),priority:"high"}),s.jsx(c,{label:"Make",value:a.make,icon:s.jsx(hn,{className:"w-4 h-4"})}),s.jsx(c,{label:"Model",value:a.model,icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(c,{label:"Location",value:a.location,icon:s.jsx(tg,{className:"w-4 h-4"})})]})}),s.jsx(l,{title:"Status & Maintenance",icon:s.jsx(ir,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(c,{label:"Current Status",value:a.status.charAt(0).toUpperCase()+a.status.slice(1),icon:s.jsx(Ht,{className:"w-4 h-4"}),priority:"high"}),s.jsx(c,{label:"Last Maintenance",value:a.lastMaintenance,icon:s.jsx(pa,{className:"w-4 h-4"})}),s.jsx(c,{label:"Next Maintenance",value:a.nextMaintenance,icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(c,{label:"Work Orders",value:a.workOrders.toString(),icon:s.jsx(ir,{className:"w-4 h-4"})}),s.jsx(c,{label:"Health Status",value:`${a.health}%`,icon:s.jsx(Fi,{className:"w-4 h-4"}),priority:"high"})]})}),s.jsx(l,{title:"Technical Details",icon:s.jsx(hn,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Make:"})," ",a.make]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Model:"})," ",a.model]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]}),s.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Health Score:"})," ",a.health,"%"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",a.workOrders]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status.charAt(0).toUpperCase()+a.status.slice(1)]})]})]})]})}),s.jsx(l,{title:"Maintenance Timeline",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),s.jsx("span",{className:"text-sm text-green-600",children:a.lastMaintenance})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),s.jsx("span",{className:"text-sm text-blue-600",children:a.nextMaintenance})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),s.jsx("span",{className:"text-sm text-yellow-600",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]})}),s.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&s.jsx(_.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},Jce=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(()=>{const Re=localStorage.getItem("sidebarOpen");return Re?JSON.parse(Re):!1}),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[v,N]=x.useState(null),[C,S]=x.useState(!1),[E,T]=x.useState(1),[A]=x.useState(5),{user:O,fetchWithAuth:D,hasPermission:$,getERPData:L,deleteAsset:I}=Ct(),[R,H]=x.useState(null),G=Nt(),[q,F]=x.useState(!1),[P,B]=x.useState(window.innerWidth<768),[K,te]=x.useState(!1),[U,Q]=x.useState(!1),ie=x.useRef(null),le=x.useRef(null),[ce,ge]=x.useState([]),[$e,Oe]=x.useState(!1),[xe,Ae]=x.useState(null);x.useEffect(()=>{const Re=()=>{B(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Re),()=>window.removeEventListener("resize",Re)},[]),x.useEffect(()=>{const Re=ct=>{ie.current&&!ie.current.contains(ct.target)&&te(!1),le.current&&!le.current.contains(ct.target)&&Q(!1)};return document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[]);const Ve=async()=>{Oe(!0),Ae(null);try{const Re=await L();ge(Re)}catch(Re){Ae("Failed to load data from ERP."),console.error("Error fetching ERP data:",Re)}finally{Oe(!1)}},ee=()=>{F(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Re=>!Re)},ae=ce.filter(Re=>{const ct=String(Re.id),St=a.toLowerCase();return Re.name.toLowerCase().includes(St)||ct.toLowerCase().includes(St)||Re.category.toLowerCase().includes(St)||Re.location.toLowerCase().includes(St)}),Z=E*A,ve=Z-A,Ge=ae.slice(ve,Z),Ke=Math.ceil(ae.length/A),pe=Re=>T(Re);x.useEffect(()=>{T(1),(async()=>{try{const ct=await D("/protected-data");H(ct)}catch(ct){console.error("Failed to fetch data:",ct)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[a,o,c,r,t,D]);const ot=Re=>{N(Re),j(!0),S(!1)},gt=async Re=>{if(window.confirm(`Are you sure you want to delete asset with ID: ${Re}?`)){if(console.log("Attempting to delete asset with ID:",Re),!Re){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await I(Re),ge(ce.filter(ct=>String(ct.id)!==Re)),console.log(`Asset with ID: ${Re} deleted successfully.`)}catch(ct){console.error("Failed to delete asset:",ct),alert("Failed to delete asset.")}}};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ma,{}),isMobile:P,toggleSidebar:ee}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(_.button,{onClick:Ve,disabled:$e,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${$e?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s.jsx(Mw,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:$e?"Loading...":"Load Data from ERP"})]}),s.jsxs(_.button,{onClick:()=>G("/assets/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Asset"})]}),s.jsxs(_.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Import"})]}),s.jsxs(_.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(is,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Filters"}),h?s.jsx(pb,{}):s.jsx(jn,{})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Vx,{title:"Total Assets",value:ce.length.toString(),change:"+12%",icon:s.jsx(ma,{})}),s.jsx(Vx,{title:"Active Assets",value:"N/A",change:"+5%",icon:s.jsx(Ht,{})}),s.jsx(Vx,{title:"In Maintenance",value:"N/A",change:"-2%",icon:s.jsx(hn,{})}),s.jsx(Vx,{title:"Critical Issues",value:"N/A",change:"+1",icon:s.jsx(Zt,{})})]}),s.jsx(_.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:Re=>i(Re.target.value)})]}),s.jsx(Mt,{children:h&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Re=>l(Re.target.value),children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"running",children:"Running"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"breakdown",children:"Breakdown"}),s.jsx("option",{value:"idle",children:"Idle"})]}),s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:Re=>d(Re.target.value),children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"mechanical",children:"Mechanical"}),s.jsx("option",{value:"electrical",children:"Electrical"}),s.jsx("option",{value:"vehicle",children:"Vehicle"}),s.jsx("option",{value:"building",children:"Building"})]})]})})]})}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[$e&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),xe&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(Zt,{className:"text-red-500 mr-2"}),xe]})})}),!$e&&ce.length===0&&!xe&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(ma,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),Ge.length>0&&Ge.map(Re=>s.jsxs(_.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"ml-0",children:[" ",s.jsx("div",{className:"text-base font-medium text-gray-900",children:Re.name}),s.jsx("div",{className:"text-sm text-gray-600",children:Re.category})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:Re.location})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:Re.purchaseDate})," "]}),s.jsxs("td",{className:"px-6 py-4",children:[" ",s.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:Re.description})," "]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>G(`/assets/editasset/${Re.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:s.jsx(Hn,{className:"w-5 h-5"})}),s.jsx(_.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>gt(String(Re.id)),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:s.jsx(yn,{className:"w-5 h-5"})}),s.jsx(_.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>ot(Re),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:s.jsx(es,{className:"w-5 h-5"})})]})})]},Re.id))]})]})})}),ae.length>A&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",s.jsx("span",{className:"font-semibold",children:ve+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(Z,ae.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:ae.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(E-1),disabled:E===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Ke},(Re,ct)=>s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(ct+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${E===ct+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ct+1},ct+1)),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(E+1),disabled:E===Ke,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:C?"Edit Asset":"Asset Details"}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{j(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:s.jsx(Xce,{asset:v,isEditing:C,onSave:()=>{},onCancel:()=>{j(!1),N(null),S(!1)}})})]})})]})},Qce=()=>{var I;const{user:t,hasPermission:e,logout:r}=Ct(),n=Nt();Zn();const[a,i]=x.useState(!1),[o,l]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[c,d]=x.useState(window.innerWidth<768),[h,m]=x.useState("profile"),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=x.useRef(null);x.useEffect(()=>{const R=()=>{d(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),x.useEffect(()=>{const R=H=>{C.current&&!C.current.contains(H.target)&&N(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const[S,E]=x.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),T=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(R=>!R)},A=R=>{const{name:H,value:G,type:q}=R.target,F=q==="checkbox"?R.target.checked:void 0;E(P=>({...P,[H]:q==="checkbox"?F:G}))},O=()=>{y(!1)},D=({title:R,children:H})=>s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:R}),H]}),$=({label:R,value:H,children:G,editable:q=!0,onEdit:F})=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"mb-2 sm:mb-0",children:[s.jsx("p",{className:"font-medium text-gray-700",children:R}),H!==void 0&&s.jsx("p",{className:"text-sm text-gray-600",children:typeof H=="boolean"?H?"Enabled":"Disabled":H})]}),q&&s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),G]}),L=({isOpen:R,onClose:H,title:G,children:q,actions:F})=>R?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:G}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:H,className:"text-gray-500 hover:text-gray-700",children:s.jsx(dt,{size:20})})]}),s.jsx("div",{className:"p-6",children:q}),F&&s.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:F})]})}):null;return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(An,{}),isMobile:c,toggleSidebar:T}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),s.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[s.jsx(_.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:s.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:s.jsx(Mr,{}),label:"Profile"},{id:"security",icon:s.jsx(qle,{}),label:"Security"},{id:"notifications",icon:s.jsx(eO,{}),label:"Notifications"},{id:"preferences",icon:s.jsx(Y_,{}),label:"Preferences"},{id:"billing",icon:s.jsx(rle,{}),label:"Billing"},{id:"team",icon:s.jsx(ia,{}),label:"Team Settings"},{id:"integrations",icon:s.jsx(xle,{}),label:"Integrations"},{id:"data",icon:s.jsx(Mw,{}),label:"Data Management"}].map(R=>s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(R.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${h===R.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[s.jsx("span",{className:"text-xl mr-3 text-blue-500",children:R.icon}),s.jsx("span",{className:"text-base",children:R.label})]},R.id))})})}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[h==="profile"&&s.jsx(D,{title:"Profile Information",children:g?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",value:S.name,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),s.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"text",name:"nik",value:S.email,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx($,{label:"Name",value:t==null?void 0:t.name,editable:!1}),s.jsx($,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),s.jsx($,{label:"Role",value:(I=t==null?void 0:t.roles)==null?void 0:I[0],editable:!1}),s.jsx($,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),h==="security"&&s.jsxs(D,{title:"Security Settings",children:[s.jsx($,{label:"Password",value:"••••••••",onEdit:()=>n("/settings/change-password")}),s.jsx($,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),s.jsx($,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),h==="notifications"&&s.jsxs(D,{title:"Notification Preferences",children:[s.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:A,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsx($,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),h==="preferences"&&s.jsxs(D,{title:"Preferences",children:[s.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),s.jsx(Mt,{mode:"wait",children:s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!a),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a?s.jsx(Y_,{className:"text-yellow-400"}):s.jsx(Bq,{})},a?"sun-card":"moon-card")})]}),s.jsx($,{label:"Language",value:"English",onEdit:()=>{}}),s.jsx($,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),h==="billing"&&s.jsxs(D,{title:"Billing Information",children:[s.jsx($,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),s.jsx($,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),s.jsx($,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),h==="team"&&s.jsxs(D,{title:"Team Settings",children:[s.jsx($,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),s.jsx($,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),s.jsx($,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),h==="integrations"&&s.jsxs(D,{title:"Integrations",children:[s.jsx($,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),s.jsx($,{label:"Slack",value:"Not connected",onEdit:()=>{}}),s.jsx($,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),h==="data"&&s.jsxs(D,{title:"Data Management",children:[s.jsx($,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),s.jsx($,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>j(!0)})]})]})]})]})})]}),s.jsxs(L,{isOpen:w,onClose:()=>j(!1),title:"Delete Account",children:[s.jsx("div",{className:"text-gray-700 mb-6",children:s.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function Vq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Vq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Vq(t))&&(n&&(n+=" "),n+=e);return n}const qq=6048e5,Zce=864e5,Aw=6e4,Ow=36e5,eue=1e3,_R=Symbol.for("constructDateFrom");function Yr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&_R in t?t[_R](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rt(t,e){return Yr(e||t,t)}function Li(t,e,r){const n=Rt(t,r==null?void 0:r.in);return isNaN(e)?Yr((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Bi(t,e,r){const n=Rt(t,r==null?void 0:r.in);if(isNaN(e))return Yr(t,NaN);if(!e)return n;const a=n.getDate(),i=Yr(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function Uq(t,e,r){return Yr(t,+Rt(t)+e)}function tue(t,e,r){return Uq(t,e*Ow)}let rue={};function cd(){return rue}function Sl(t,e){var l,c,d,h;const r=cd(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=Rt(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Vf(t,e){return Sl(t,{...e,weekStartsOn:1})}function Wq(t,e){const r=Rt(t,e==null?void 0:e.in),n=r.getFullYear(),a=Yr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Vf(a),o=Yr(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Vf(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function yb(t){const e=Rt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ml(t,...e){const r=Yr.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Gu(t,e){const r=Rt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function qf(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e),i=Gu(n),o=Gu(a),l=+i-yb(i),c=+o-yb(o);return Math.round((l-c)/Zce)}function nue(t,e){const r=Wq(t,e),n=Yr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vf(n)}function K_(t,e,r){const n=Rt(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*Aw),n}function rO(t,e,r){return Bi(t,e*3,r)}function aue(t,e,r){return Uq(t,e*1e3)}function bb(t,e,r){return Li(t,e*7,r)}function cl(t,e,r){return Bi(t,e*12,r)}function MR(t,e){let r,n=e==null?void 0:e.in;return t.forEach(a=>{!n&&typeof a=="object"&&(n=Yr.bind(null,a));const i=Rt(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Yr(n,r||NaN)}function AR(t,e){let r,n=e==null?void 0:e.in;return t.forEach(a=>{!n&&typeof a=="object"&&(n=Yr.bind(null,a));const i=Rt(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Yr(n,r||NaN)}function sue(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e);return+Gu(n)==+Gu(a)}function ul(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vb(t){return!(!ul(t)&&typeof t!="number"||isNaN(+Rt(t)))}function wb(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function Ru(t,e){const r=Rt(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function jb(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e),i=n.getFullYear()-a.getFullYear(),o=Ru(n)-Ru(a);return i*4+o}function Sb(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e);return n.getFullYear()-a.getFullYear()}function iue(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e),i=OR(n,a),o=Math.abs(qf(n,a));n.setDate(n.getDate()-i*o);const l=+(OR(n,a)===-i),c=i*(o-l);return c===0?0:c}function OR(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Gq(t,e){const r=Rt(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function Yq(t,e){const r=Rt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function X_(t,e){const r=Rt(t,e==null?void 0:e.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function Kq(t,e){const r=Rt(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Xq(t,e){const r=Rt(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ew(t,e){const r=Rt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function oue(t,e){var l,c;const r=cd(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Rt(t,e==null?void 0:e.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const lue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cue=(t,e,r)=>{let n;const a=lue[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gN(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const uue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},due={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hue={date:gN({formats:uue,defaultWidth:"full"}),time:gN({formats:due,defaultWidth:"full"}),dateTime:gN({formats:fue,defaultWidth:"full"})},mue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pue=(t,e,r,n)=>mue[t];function Fm(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const gue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jue=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Sue={ordinalNumber:jue,era:Fm({values:gue,defaultWidth:"wide"}),quarter:Fm({values:xue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fm({values:yue,defaultWidth:"wide"}),day:Fm({values:bue,defaultWidth:"wide"}),dayPeriod:Fm({values:vue,defaultWidth:"wide",formattingValues:wue,defaultFormattingWidth:"wide"})};function Hm(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?kue(l,m=>m.test(o)):Nue(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function Nue(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kue(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Cue(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Tue=/^(\d+)(th|st|nd|rd)?/i,_ue=/\d+/i,Mue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Aue={any:[/^b/i,/^(a|c)/i]},Oue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Eue={any:[/1/i,/2/i,/3/i,/4/i]},Due={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fue={ordinalNumber:Cue({matchPattern:Tue,parsePattern:_ue,valueCallback:t=>parseInt(t,10)}),era:Hm({matchPatterns:Mue,defaultMatchWidth:"wide",parsePatterns:Aue,defaultParseWidth:"any"}),quarter:Hm({matchPatterns:Oue,defaultMatchWidth:"wide",parsePatterns:Eue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hm({matchPatterns:Due,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any"}),day:Hm({matchPatterns:Rue,defaultMatchWidth:"wide",parsePatterns:Iue,defaultParseWidth:"any"}),dayPeriod:Hm({matchPatterns:Lue,defaultMatchWidth:"any",parsePatterns:$ue,defaultParseWidth:"any"})},Jq={code:"en-US",formatDistance:cue,formatLong:hue,formatRelative:pue,localize:Sue,match:Fue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hue(t,e){const r=Rt(t,e==null?void 0:e.in);return qf(r,Ew(r))+1}function nO(t,e){const r=Rt(t,e==null?void 0:e.in),n=+Vf(r)-+nue(r);return Math.round(n/qq)+1}function aO(t,e){var h,m,g,y;const r=Rt(t,e==null?void 0:e.in),n=r.getFullYear(),a=cd(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Yr((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Sl(o,e),c=Yr((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Sl(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function Bue(t,e){var l,c,d,h;const r=cd(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=aO(t,e),i=Yr((e==null?void 0:e.in)||t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Sl(i,e)}function Qq(t,e){const r=Rt(t,e==null?void 0:e.in),n=+Sl(r,e)-+Bue(r,e);return Math.round(n/qq)+1}function Gr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ic={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Gr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Gr(r+1,2)},d(t,e){return Gr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Gr(t.getHours()%12||12,e.length)},H(t,e){return Gr(t.getHours(),e.length)},m(t,e){return Gr(t.getMinutes(),e.length)},s(t,e){return Gr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Gr(a,e.length)}},Xd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ER={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ic.y(t,e)},Y:function(t,e,r,n){const a=aO(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Gr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Gr(i,e.length)},R:function(t,e){const r=Wq(t);return Gr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Gr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Gr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Gr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ic.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Gr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Qq(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Gr(a,e.length)},I:function(t,e,r){const n=nO(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Gr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ic.d(t,e)},D:function(t,e,r){const n=Hue(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Gr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Gr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Gr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Gr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Xd.noon:n===0?a=Xd.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Xd.evening:n>=12?a=Xd.afternoon:n>=4?a=Xd.morning:a=Xd.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ic.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ic.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Gr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Gr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ic.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ic.s(t,e)},S:function(t,e){return ic.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return PR(n);case"XXXX":case"XX":return mu(n);case"XXXXX":case"XXX":default:return mu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return PR(n);case"xxxx":case"xx":return mu(n);case"xxxxx":case"xxx":default:return mu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+DR(n,":");case"OOOO":default:return"GMT"+mu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+DR(n,":");case"zzzz":default:return"GMT"+mu(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Gr(n,e.length)},T:function(t,e,r){return Gr(+t,e.length)}};function DR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Gr(i,2)}function PR(t,e){return t%60===0?(t>0?"-":"+")+Gr(Math.abs(t)/60,2):mu(t,e)}function mu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Gr(Math.trunc(n/60),2),i=Gr(n%60,2);return r+a+e+i}const RR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Zq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zue=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return RR(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",RR(n,e)).replace("{{time}}",Zq(a,e))},J_={p:Zq,P:zue},Vue=/^D+$/,que=/^Y+$/,Uue=["D","DD","YY","YYYY"];function Wue(t){return Vue.test(t)}function Gue(t){return que.test(t)}function Yue(t,e,r){const n=Kue(t,e,r);if(console.warn(n),Uue.includes(t))throw new RangeError(n)}function Kue(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Que=/^'([^]*?)'?$/,Zue=/''/g,ede=/[a-zA-Z]/;function IR(t,e,r){var h,m,g,y,w,j,v,N;const n=cd(),a=(r==null?void 0:r.locale)??n.locale??Jq,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((j=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??n.weekStartsOn??((N=(v=n.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)??0,l=Rt(t,r==null?void 0:r.in);if(!vb(l))throw new RangeError("Invalid time value");let c=e.match(Jue).map(C=>{const S=C[0];if(S==="p"||S==="P"){const E=J_[S];return E(C,a.formatLong)}return C}).join("").match(Xue).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const S=C[0];if(S==="'")return{isToken:!1,value:tde(C)};if(ER[S])return{isToken:!0,value:C};if(S.match(ede))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:C}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(C=>{if(!C.isToken)return C.value;const S=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Gue(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Wue(S))&&Yue(S,e,String(t));const E=ER[S[0]];return E(l,S,a.localize,d)}).join("")}function tde(t){const e=t.match(Que);return e?e[1].replace(Zue,"'"):t}function LR(t,e){return Rt(t,e==null?void 0:e.in).getDate()}function rde(t,e){return Rt(t,e==null?void 0:e.in).getDay()}function nde(t,e){const r=Rt(t,e==null?void 0:e.in),n=r.getFullYear(),a=r.getMonth(),i=Yr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function ade(){return Object.assign({},cd())}function dl(t,e){return Rt(t,e==null?void 0:e.in).getHours()}function sde(t,e){const r=Rt(t,e==null?void 0:e.in).getDay();return r===0?7:r}function fl(t,e){return Rt(t,e==null?void 0:e.in).getMinutes()}function Ha(t,e){return Rt(t,e==null?void 0:e.in).getMonth()}function wc(t){return Rt(t).getSeconds()}function Q_(t){return+Rt(t)}function or(t,e){return Rt(t,e==null?void 0:e.in).getFullYear()}function Ec(t,e){return+Rt(t)>+Rt(e)}function oo(t,e){return+Rt(t)<+Rt(e)}function ide(t,e){return+Rt(t)==+Rt(e)}function ode(t,e){const r=lde(e)?new e(0):Yr(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function lde(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const cde=10;class eU{constructor(){_t(this,"subPriority",0)}validate(e,r){return!0}}class ude extends eU{constructor(e,r,n,a,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class dde extends eU{constructor(r,n){super();_t(this,"priority",cde);_t(this,"subPriority",-1);this.context=r||(a=>Yr(n,a))}set(r,n){return n.timestampIsSet?r:Yr(r,ode(r,this.context))}}class Lr{run(e,r,n,a){const i=this.parse(e,r,n,a);return i?{setter:new ude(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}class fde extends Lr{constructor(){super(...arguments);_t(this,"priority",140);_t(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const $n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},so={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Fn(t,e){return t&&{value:e(t.value),rest:t.rest}}function wn(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function io(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*Ow+i*Aw+o*eue),rest:e.slice(r[0].length)}}function tU(t){return wn($n.anyDigitsSigned,t)}function En(t,e){switch(t){case 1:return wn($n.singleDigit,e);case 2:return wn($n.twoDigits,e);case 3:return wn($n.threeDigits,e);case 4:return wn($n.fourDigits,e);default:return wn(new RegExp("^\\d{1,"+t+"}"),e)}}function Nb(t,e){switch(t){case 1:return wn($n.singleDigitSigned,e);case 2:return wn($n.twoDigitsSigned,e);case 3:return wn($n.threeDigitsSigned,e);case 4:return wn($n.fourDigitsSigned,e);default:return wn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function sO(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rU(t,e){const r=e>0,n=r?e:1-e;let a;if(n<=50)a=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=t>=i%100;a=t+o-(l?100:0)}return r?a:1-a}function nU(t){return t%400===0||t%4===0&&t%100!==0}class hde extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Fn(En(4,r),i);case"yo":return Fn(a.ordinalNumber(r,{unit:"year"}),i);default:return Fn(En(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=rU(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class mde extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Fn(En(4,r),i);case"Yo":return Fn(a.ordinalNumber(r,{unit:"year"}),i);default:return Fn(En(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=aO(r,i);if(a.isTwoDigitYear){const c=rU(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Sl(r,i)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Sl(r,i)}}class pde extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Nb(n==="R"?4:n.length,r)}set(r,n,a){const i=Yr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Vf(i)}}class gde extends Lr{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Nb(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class xde extends Lr{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return En(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class yde extends Lr{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return En(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class bde extends Lr{constructor(){super(...arguments);_t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_t(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return Fn(wn($n.month,r),i);case"MM":return Fn(En(2,r),i);case"Mo":return Fn(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class vde extends Lr{constructor(){super(...arguments);_t(this,"priority",110);_t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return Fn(wn($n.month,r),i);case"LL":return Fn(En(2,r),i);case"Lo":return Fn(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function wde(t,e,r){const n=Rt(t,r==null?void 0:r.in),a=Qq(n,r)-e;return n.setDate(n.getDate()-a*7),Rt(n,r==null?void 0:r.in)}class jde extends Lr{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return wn($n.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return En(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Sl(wde(r,a,i),i)}}function Sde(t,e,r){const n=Rt(t,r==null?void 0:r.in),a=nO(n,r)-e;return n.setDate(n.getDate()-a*7),n}class Nde extends Lr{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return wn($n.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return En(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Vf(Sde(r,a))}}const kde=[31,28,31,30,31,30,31,31,30,31,30,31],Cde=[31,29,31,30,31,30,31,31,30,31,30,31];class Tde extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subPriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return wn($n.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return En(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=nU(a),o=r.getMonth();return i?n>=1&&n<=Cde[o]:n>=1&&n<=kde[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class _de extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subpriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return wn($n.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return En(n.length,r)}}validate(r,n){const a=r.getFullYear();return nU(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function iO(t,e,r){var m,g,y,w;const n=cd(),a=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,i=Rt(t,r==null?void 0:r.in),o=i.getDay(),c=(e%7+7)%7,d=7-a,h=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return Li(i,h,r)}class Mde extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=iO(r,a,i),r.setHours(0,0,0,0),r}}class Ade extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Fn(En(n.length,r),o);case"eo":return Fn(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=iO(r,a,i),r.setHours(0,0,0,0),r}}class Ode extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Fn(En(n.length,r),o);case"co":return Fn(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=iO(r,a,i),r.setHours(0,0,0,0),r}}function Ede(t,e,r){const n=Rt(t,r==null?void 0:r.in),a=sde(n,r),i=e-a;return Li(n,i,r)}class Dde extends Lr{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return En(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Fn(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Fn(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Fn(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Fn(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=Ede(r,a),r.setHours(0,0,0,0),r}}class Pde extends Lr{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(sO(a),0,0,0),r}}class Rde extends Lr{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(sO(a),0,0,0),r}}class Ide extends Lr{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(sO(a),0,0,0),r}}class Lde extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return wn($n.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return En(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class $de extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return wn($n.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return En(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class Fde extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return wn($n.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return En(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Hde extends Lr{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return wn($n.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return En(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class Bde extends Lr{constructor(){super(...arguments);_t(this,"priority",60);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return wn($n.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return En(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class zde extends Lr{constructor(){super(...arguments);_t(this,"priority",50);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return wn($n.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return En(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class Vde extends Lr{constructor(){super(...arguments);_t(this,"priority",30);_t(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Fn(En(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class qde extends Lr{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return io(so.basicOptionalMinutes,r);case"XX":return io(so.basic,r);case"XXXX":return io(so.basicOptionalSeconds,r);case"XXXXX":return io(so.extendedOptionalSeconds,r);case"XXX":default:return io(so.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Yr(r,r.getTime()-yb(r)-a)}}class Ude extends Lr{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return io(so.basicOptionalMinutes,r);case"xx":return io(so.basic,r);case"xxxx":return io(so.basicOptionalSeconds,r);case"xxxxx":return io(so.extendedOptionalSeconds,r);case"xxx":default:return io(so.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Yr(r,r.getTime()-yb(r)-a)}}class Wde extends Lr{constructor(){super(...arguments);_t(this,"priority",40);_t(this,"incompatibleTokens","*")}parse(r){return tU(r)}set(r,n,a){return[Yr(r,a*1e3),{timestampIsSet:!0}]}}class Gde extends Lr{constructor(){super(...arguments);_t(this,"priority",20);_t(this,"incompatibleTokens","*")}parse(r){return tU(r)}set(r,n,a){return[Yr(r,a),{timestampIsSet:!0}]}}const Yde={G:new fde,y:new hde,Y:new mde,R:new pde,u:new gde,Q:new xde,q:new yde,M:new bde,L:new vde,w:new jde,I:new Nde,d:new Tde,D:new _de,E:new Mde,e:new Ade,c:new Ode,i:new Dde,a:new Pde,b:new Rde,B:new Ide,h:new Lde,H:new $de,K:new Fde,k:new Hde,m:new Bde,s:new zde,S:new Vde,X:new qde,x:new Ude,t:new Wde,T:new Gde},Kde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jde=/^'([^]*?)'?$/,Qde=/''/g,Zde=/\S/,efe=/[a-zA-Z]/;function tfe(t,e,r,n){var v,N,C,S,E,T,A,O;const a=()=>Yr((n==null?void 0:n.in)||r,NaN),i=ade(),o=(n==null?void 0:n.locale)??i.locale??Jq,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(C=i.locale)==null?void 0:C.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((T=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((O=(A=i.locale)==null?void 0:A.options)==null?void 0:O.weekStartsOn)??0;if(!e)return t?a():Rt(r,n==null?void 0:n.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},h=[new dde(n==null?void 0:n.in,r)],m=e.match(Xde).map(D=>{const $=D[0];if($ in J_){const L=J_[$];return L(D,o.formatLong)}return D}).join("").match(Kde),g=[];for(let D of m){const $=D[0],L=Yde[$];if(L){const{incompatibleTokens:I}=L;if(Array.isArray(I)){const H=g.find(G=>I.includes(G.token)||G.token===$);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${D}\` at the same time`)}else if(L.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);g.push({token:$,fullToken:D});const R=L.run(t,D,o.match,d);if(!R)return a();h.push(R.setter),t=R.rest}else{if($.match(efe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");if(D==="''"?D="'":$==="'"&&(D=rfe(D)),t.indexOf(D)===0)t=t.slice(D.length);else return a()}}if(t.length>0&&Zde.test(t))return a();const y=h.map(D=>D.priority).sort((D,$)=>$-D).filter((D,$,L)=>L.indexOf(D)===$).map(D=>h.filter($=>$.priority===D).sort(($,L)=>L.subPriority-$.subPriority)).map(D=>D[0]);let w=Rt(r,n==null?void 0:n.in);if(isNaN(+w))return a();const j={};for(const D of y){if(!D.validate(w,d))return a();const $=D.set(w,j,d);Array.isArray($)?(w=$[0],Object.assign(j,$[1])):w=$}return w}function rfe(t){return t.match(Jde)[1].replace(Qde,"'")}function nfe(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function afe(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e);return+X_(n)==+X_(a)}function sfe(t,e,r){const[n,a]=Ml(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()}function Kp(t,e,r){const n=+Rt(t,r==null?void 0:r.in),[a,i]=[+Rt(e.start,r==null?void 0:r.in),+Rt(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=a&&n<=i}function ife(t,e,r){return Li(t,-1,r)}function ofe(t,e){const r=()=>Yr(e==null?void 0:e.in,NaN),a=dfe(t);let i;if(a.date){const d=ffe(a.date,2);i=hfe(d.restDateString,d.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(a.time&&(l=mfe(a.time),isNaN(l)))return r();if(a.timezone){if(c=pfe(a.timezone),isNaN(c))return r()}else{const d=new Date(o+l),h=Rt(0,e==null?void 0:e.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return Rt(o+l+c,e==null?void 0:e.in)}const qx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ufe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dfe(t){const e={},r=t.split(qx.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],qx.timeZoneDelimiter.test(e.date)&&(e.date=t.split(qx.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=qx.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function ffe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function hfe(t,e){if(e===null)return new Date(NaN);const r=t.match(lfe);if(!r)return new Date(NaN);const n=!!r[4],a=Bm(r[1]),i=Bm(r[2])-1,o=Bm(r[3]),l=Bm(r[4]),c=Bm(r[5])-1;if(n)return vfe(e,l,c)?gfe(e,l,c):new Date(NaN);{const d=new Date(0);return!yfe(e,i,o)||!bfe(e,a)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(a,o)),d)}}function Bm(t){return t?parseInt(t):1}function mfe(t){const e=t.match(cfe);if(!e)return NaN;const r=xN(e[1]),n=xN(e[2]),a=xN(e[3]);return wfe(r,n,a)?r*Ow+n*Aw+a*1e3:NaN}function xN(t){return t&&parseFloat(t.replace(",","."))||0}function pfe(t){if(t==="Z")return 0;const e=t.match(ufe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return jfe(n,a)?r*(n*Ow+a*Aw):NaN}function gfe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const xfe=[31,null,31,30,31,30,31,31,30,31,30,31];function aU(t){return t%400===0||t%4===0&&t%100!==0}function yfe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(xfe[e]||(aU(t)?29:28))}function bfe(t,e){return e>=1&&e<=(aU(t)?366:365)}function vfe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function wfe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function jfe(t,e){return e>=0&&e<=59}function si(t,e,r){const n=Rt(t,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),o=Yr(t,0);o.setFullYear(a,e,15),o.setHours(0,0,0,0);const l=nde(o);return n.setMonth(e,Math.min(i,l)),n}function Vy(t,e,r){const n=Rt(t,r==null?void 0:r.in);return n.setHours(e),n}function qy(t,e,r){const n=Rt(t,r==null?void 0:r.in);return n.setMinutes(e),n}function sf(t,e,r){const n=Rt(t,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,i=e-a;return si(n,n.getMonth()+i*3)}function Uy(t,e,r){const n=Rt(t,r==null?void 0:r.in);return n.setSeconds(e),n}function to(t,e,r){const n=Rt(t,r==null?void 0:r.in);return isNaN(+n)?Yr(t,NaN):(n.setFullYear(e),n)}function Iu(t,e,r){return Bi(t,-e,r)}function sU(t,e,r){return rO(t,-1,r)}function $R(t,e,r){return bb(t,-1,r)}function Uf(t,e,r){return cl(t,-e,r)}function Dw(){return typeof window<"u"}function Ph(t){return iU(t)?(t.nodeName||"").toLowerCase():"#document"}function Ls(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function To(t){var e;return(e=(iU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iU(t){return Dw()?t instanceof Node||t instanceof Ls(t).Node:!1}function Ka(t){return Dw()?t instanceof Element||t instanceof Ls(t).Element:!1}function wo(t){return Dw()?t instanceof HTMLElement||t instanceof Ls(t).HTMLElement:!1}function FR(t){return!Dw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ls(t).ShadowRoot}const Sfe=new Set(["inline","contents"]);function ng(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=gi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Sfe.has(a)}const Nfe=new Set(["table","td","th"]);function kfe(t){return Nfe.has(Ph(t))}const Cfe=[":popover-open",":modal"];function Pw(t){return Cfe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Tfe=["transform","translate","scale","rotate","perspective"],_fe=["transform","translate","scale","rotate","perspective","filter"],Mfe=["paint","layout","strict","content"];function oO(t){const e=lO(),r=Ka(t)?gi(t):t;return Tfe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||_fe.some(n=>(r.willChange||"").includes(n))||Mfe.some(n=>(r.contain||"").includes(n))}function Afe(t){let e=Dc(t);for(;wo(e)&&!Wf(e);){if(oO(e))return e;if(Pw(e))return null;e=Dc(e)}return null}function lO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ofe=new Set(["html","body","#document"]);function Wf(t){return Ofe.has(Ph(t))}function gi(t){return Ls(t).getComputedStyle(t)}function Rw(t){return Ka(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Dc(t){if(Ph(t)==="html")return t;const e=t.assignedSlot||t.parentNode||FR(t)&&t.host||To(t);return FR(e)?e.host:e}function oU(t){const e=Dc(t);return Wf(e)?t.ownerDocument?t.ownerDocument.body:t.body:wo(e)&&ng(e)?e:oU(e)}function Xp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=oU(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Ls(a);if(i){const l=Z_(o);return e.concat(o,o.visualViewport||[],ng(a)?a:[],l&&r?Xp(l):[])}return e.concat(a,Xp(a,[],r))}function Z_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Gf=Math.min,Lu=Math.max,kb=Math.round,Ux=Math.floor,ho=t=>({x:t,y:t}),Efe={left:"right",right:"left",bottom:"top",top:"bottom"},Dfe={start:"end",end:"start"};function Pfe(t,e,r){return Lu(t,Gf(e,r))}function Iw(t,e){return typeof t=="function"?t(e):t}function Yf(t){return t.split("-")[0]}function ag(t){return t.split("-")[1]}function Rfe(t){return t==="x"?"y":"x"}function cO(t){return t==="y"?"height":"width"}const Ife=new Set(["top","bottom"]);function Su(t){return Ife.has(Yf(t))?"y":"x"}function uO(t){return Rfe(Su(t))}function Lfe(t,e,r){r===void 0&&(r=!1);const n=ag(t),a=uO(t),i=cO(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Cb(o)),[o,Cb(o)]}function $fe(t){const e=Cb(t);return[e5(t),e,e5(e)]}function e5(t){return t.replace(/start|end/g,e=>Dfe[e])}const HR=["left","right"],BR=["right","left"],Ffe=["top","bottom"],Hfe=["bottom","top"];function Bfe(t,e,r){switch(t){case"top":case"bottom":return r?e?BR:HR:e?HR:BR;case"left":case"right":return e?Ffe:Hfe;default:return[]}}function zfe(t,e,r,n){const a=ag(t);let i=Bfe(Yf(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(e5)))),i}function Cb(t){return t.replace(/left|right|bottom|top/g,e=>Efe[e])}function Vfe(t){return{top:0,right:0,bottom:0,left:0,...t}}function lU(t){return typeof t!="number"?Vfe(t):{top:t,right:t,bottom:t,left:t}}function Tb(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}var qfe=typeof document<"u",Ufe=function(){},_b=qfe?x.useLayoutEffect:Ufe;const Wfe={...ib},Gfe=Wfe.useInsertionEffect,Yfe=Gfe||(t=>t());function Kfe(t){const e=x.useRef(()=>{});return Yfe(()=>{e.current=t}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function zR(t,e,r){let{reference:n,floating:a}=t;const i=Su(e),o=uO(e),l=cO(o),c=Yf(e),d=i==="y",h=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-a.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-a.width,y:m};break;default:y={x:n.x,y:n.y}}switch(ag(e)){case"start":y[o]-=g*(r&&d?-1:1);break;case"end":y[o]+=g*(r&&d?-1:1);break}return y}const Xfe=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:h,y:m}=zR(d,n,c),g=n,y={},w=0;for(let j=0;j<l.length;j++){const{name:v,fn:N}=l[j],{x:C,y:S,data:E,reset:T}=await N({x:h,y:m,initialPlacement:n,placement:g,strategy:a,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=C??h,m=S??m,y={...y,[v]:{...y[v],...E}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):T.rects),{x:h,y:m}=zR(d,g,c)),j=-1)}return{x:h,y:m,placement:g,strategy:a,middlewareData:y}};async function Jfe(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=Iw(e,t),w=lU(y),v=l[g?m==="floating"?"reference":"floating":m],N=Tb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),C=m==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=Tb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:c}):C);return{top:(N.top-T.top+w.top)/E.y,bottom:(T.bottom-N.bottom+w.bottom)/E.y,left:(N.left-T.left+w.left)/E.x,right:(T.right-N.right+w.right)/E.x}}const Qfe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Iw(t,e)||{};if(d==null)return{};const m=lU(h),g={x:r,y:n},y=uO(a),w=cO(y),j=await o.getDimensions(d),v=y==="y",N=v?"top":"left",C=v?"bottom":"right",S=v?"clientHeight":"clientWidth",E=i.reference[w]+i.reference[y]-g[y]-i.floating[w],T=g[y]-i.reference[y],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let O=A?A[S]:0;(!O||!await(o.isElement==null?void 0:o.isElement(A)))&&(O=l.floating[S]||i.floating[w]);const D=E/2-T/2,$=O/2-j[w]/2-1,L=Gf(m[N],$),I=Gf(m[C],$),R=L,H=O-j[w]-I,G=O/2-j[w]/2+D,q=Pfe(R,G,H),F=!c.arrow&&ag(a)!=null&&G!==q&&i.reference[w]/2-(G<R?L:I)-j[w]/2<0,P=F?G<R?G-R:G-H:0;return{[y]:g[y]+P,data:{[y]:q,centerOffset:G-q-P,...F&&{alignmentOffset:P}},reset:F}}}),Zfe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...v}=Iw(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Yf(a),C=Su(l),S=Yf(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),T=g||(S||!j?[Cb(l)]:$fe(l)),A=w!=="none";!g&&A&&T.push(...zfe(l,j,w,E));const O=[l,...T],D=await Jfe(e,v),$=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&$.push(D[N]),m){const G=Lfe(a,o,E);$.push(D[G[0]],D[G[1]])}if(L=[...L,{placement:a,overflows:$}],!$.every(G=>G<=0)){var I,R;const G=(((I=i.flip)==null?void 0:I.index)||0)+1,q=O[G];if(q&&(!(m==="alignment"?C!==Su(q):!1)||L.every(B=>Su(B.placement)===C?B.overflows[0]>0:!0)))return{data:{index:G,overflows:L},reset:{placement:q}};let F=(R=L.filter(P=>P.overflows[0]<=0).sort((P,B)=>P.overflows[1]-B.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(y){case"bestFit":{var H;const P=(H=L.filter(B=>{if(A){const K=Su(B.placement);return K===C||K==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(K=>K>0).reduce((K,te)=>K+te,0)]).sort((B,K)=>B[1]-K[1])[0])==null?void 0:H[0];P&&(F=P);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}},ehe=new Set(["left","top"]);async function the(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Yf(r),l=ag(r),c=Su(r)==="y",d=ehe.has(o)?-1:1,h=i&&c?-1:1,m=Iw(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:g*d}:{x:g*d,y:y*h}}const rhe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await the(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}};function cU(t){const e=gi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=wo(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=kb(r)!==i||kb(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function dO(t){return Ka(t)?t:t.contextElement}function Cf(t){const e=dO(t);if(!wo(e))return ho(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=cU(e);let o=(i?kb(r.width):r.width)/n,l=(i?kb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nhe=ho(0);function uU(t){const e=Ls(t);return!lO()||!e.visualViewport?nhe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ahe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ls(t)?!1:e}function Yu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=dO(t);let o=ho(1);e&&(n?Ka(n)&&(o=Cf(n)):o=Cf(t));const l=ahe(i,r,n)?uU(i):ho(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,h=a.width/o.x,m=a.height/o.y;if(i){const g=Ls(i),y=n&&Ka(n)?Ls(n):n;let w=g,j=Z_(w);for(;j&&n&&y!==w;){const v=Cf(j),N=j.getBoundingClientRect(),C=gi(j),S=N.left+(j.clientLeft+parseFloat(C.paddingLeft))*v.x,E=N.top+(j.clientTop+parseFloat(C.paddingTop))*v.y;c*=v.x,d*=v.y,h*=v.x,m*=v.y,c+=S,d+=E,w=Ls(j),j=Z_(w)}}return Tb({width:h,height:m,x:c,y:d})}function Lw(t,e){const r=Rw(t).scrollLeft;return e?e.left+r:Yu(To(t)).left+r}function dU(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Lw(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function she(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=To(n),l=e?Pw(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ho(1);const h=ho(0),m=wo(n);if((m||!m&&!i)&&((Ph(n)!=="body"||ng(o))&&(c=Rw(n)),wo(n))){const y=Yu(n);d=Cf(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const g=o&&!m&&!i?dU(o,c):ho(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+g.x,y:r.y*d.y-c.scrollTop*d.y+h.y+g.y}}function ihe(t){return Array.from(t.getClientRects())}function ohe(t){const e=To(t),r=Rw(t),n=t.ownerDocument.body,a=Lu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Lu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Lw(t);const l=-r.scrollTop;return gi(n).direction==="rtl"&&(o+=Lu(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const VR=25;function lhe(t,e){const r=Ls(t),n=To(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const h=lO();(!h||h&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Lw(n);if(d<=0){const h=n.ownerDocument,m=h.body,g=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-y);w<=VR&&(i-=w)}else d<=VR&&(i+=d);return{width:i,height:o,x:l,y:c}}const che=new Set(["absolute","fixed"]);function uhe(t,e){const r=Yu(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=wo(t)?Cf(t):ho(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function qR(t,e,r){let n;if(e==="viewport")n=lhe(t,r);else if(e==="document")n=ohe(To(t));else if(Ka(e))n=uhe(e,r);else{const a=uU(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Tb(n)}function fU(t,e){const r=Dc(t);return r===e||!Ka(r)||Wf(r)?!1:gi(r).position==="fixed"||fU(r,e)}function dhe(t,e){const r=e.get(t);if(r)return r;let n=Xp(t,[],!1).filter(l=>Ka(l)&&Ph(l)!=="body"),a=null;const i=gi(t).position==="fixed";let o=i?Dc(t):t;for(;Ka(o)&&!Wf(o);){const l=gi(o),c=oO(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&che.has(a.position)||ng(o)&&!c&&fU(t,o))?n=n.filter(h=>h!==o):a=l,o=Dc(o)}return e.set(t,n),n}function fhe(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?Pw(e)?[]:dhe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,h)=>{const m=qR(e,h,a);return d.top=Lu(m.top,d.top),d.right=Gf(m.right,d.right),d.bottom=Gf(m.bottom,d.bottom),d.left=Lu(m.left,d.left),d},qR(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hhe(t){const{width:e,height:r}=cU(t);return{width:e,height:r}}function mhe(t,e,r){const n=wo(e),a=To(e),i=r==="fixed",o=Yu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=ho(0);function d(){c.x=Lw(a)}if(n||!n&&!i)if((Ph(e)!=="body"||ng(a))&&(l=Rw(e)),n){const y=Yu(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else a&&d();i&&!n&&a&&d();const h=a&&!n&&!i?dU(a,l):ho(0),m=o.left+l.scrollLeft-c.x-h.x,g=o.top+l.scrollTop-c.y-h.y;return{x:m,y:g,width:o.width,height:o.height}}function yN(t){return gi(t).position==="static"}function UR(t,e){if(!wo(t)||gi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return To(t)===r&&(r=r.ownerDocument.body),r}function hU(t,e){const r=Ls(t);if(Pw(t))return r;if(!wo(t)){let a=Dc(t);for(;a&&!Wf(a);){if(Ka(a)&&!yN(a))return a;a=Dc(a)}return r}let n=UR(t,e);for(;n&&kfe(n)&&yN(n);)n=UR(n,e);return n&&Wf(n)&&yN(n)&&!oO(n)?r:n||Afe(t)||r}const phe=async function(t){const e=this.getOffsetParent||hU,r=this.getDimensions,n=await r(t.floating);return{reference:mhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ghe(t){return gi(t).direction==="rtl"}const xhe={convertOffsetParentRelativeRectToViewportRelativeRect:she,getDocumentElement:To,getClippingRect:fhe,getOffsetParent:hU,getElementRects:phe,getClientRects:ihe,getDimensions:hhe,getScale:Cf,isElement:Ka,isRTL:ghe};function mU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yhe(t,e){let r=null,n;const a=To(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:m,width:g,height:y}=d;if(l||e(),!g||!y)return;const w=Ux(m),j=Ux(a.clientWidth-(h+g)),v=Ux(a.clientHeight-(m+y)),N=Ux(h),S={rootMargin:-w+"px "+-j+"px "+-v+"px "+-N+"px",threshold:Lu(0,Gf(1,c))||1};let E=!0;function T(A){const O=A[0].intersectionRatio;if(O!==c){if(!E)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!mU(d,t.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(T,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,S)}r.observe(t)}return o(!0),i}function pU(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=dO(t),h=a||i?[...d?Xp(d):[],...Xp(e)]:[];h.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=d&&l?yhe(d,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let w,j=c?Yu(t):null;c&&v();function v(){const N=Yu(t);j&&!mU(j,N)&&r(),j=N,w=requestAnimationFrame(v)}return r(),()=>{var N;h.forEach(C=>{a&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),m==null||m(),(N=y)==null||N.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const bhe=rhe,vhe=Zfe,WR=Qfe,whe=(t,e,r)=>{const n=new Map,a={platform:xhe,...r},i={...a.platform,_c:n};return Xfe(t,e,{...a,platform:i})};var jhe=typeof document<"u",She=function(){},Wy=jhe?x.useLayoutEffect:She;function Mb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Mb(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Mb(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function gU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GR(t,e){const r=gU(t);return Math.round(e*r)/r}function bN(t){const e=x.useRef(t);return Wy(()=>{e.current=t}),e}function Nhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,m]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=x.useState(n);Mb(g,n)||y(n);const[w,j]=x.useState(null),[v,N]=x.useState(null),C=x.useCallback(B=>{B!==A.current&&(A.current=B,j(B))},[]),S=x.useCallback(B=>{B!==O.current&&(O.current=B,N(B))},[]),E=i||w,T=o||v,A=x.useRef(null),O=x.useRef(null),D=x.useRef(h),$=c!=null,L=bN(c),I=bN(a),R=bN(d),H=x.useCallback(()=>{if(!A.current||!O.current)return;const B={placement:e,strategy:r,middleware:g};I.current&&(B.platform=I.current),whe(A.current,O.current,B).then(K=>{const te={...K,isPositioned:R.current!==!1};G.current&&!Mb(D.current,te)&&(D.current=te,yA.flushSync(()=>{m(te)}))})},[g,e,r,I,R]);Wy(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(B=>({...B,isPositioned:!1})))},[d]);const G=x.useRef(!1);Wy(()=>(G.current=!0,()=>{G.current=!1}),[]),Wy(()=>{if(E&&(A.current=E),T&&(O.current=T),E&&T){if(L.current)return L.current(E,T,H);H()}},[E,T,H,L,$]);const q=x.useMemo(()=>({reference:A,floating:O,setReference:C,setFloating:S}),[C,S]),F=x.useMemo(()=>({reference:E,floating:T}),[E,T]),P=x.useMemo(()=>{const B={position:r,left:0,top:0};if(!F.floating)return B;const K=GR(F.floating,h.x),te=GR(F.floating,h.y);return l?{...B,transform:"translate("+K+"px, "+te+"px)",...gU(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:te}},[r,l,F.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:H,refs:q,elements:F,floatingStyles:P}),[h,H,q,F,P])}const khe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?WR({element:n.current,padding:a}).fn(r):{}:n?WR({element:n,padding:a}).fn(r):{}}}},Che=(t,e)=>({...bhe(t),options:[t,e]}),The=(t,e)=>({...vhe(t),options:[t,e]}),_he=(t,e)=>({...khe(t),options:[t,e]}),Mhe={...ib};let YR=!1,Ahe=0;const KR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ahe++;function Ohe(){const[t,e]=x.useState(()=>YR?KR():void 0);return _b(()=>{t==null&&e(KR())},[]),x.useEffect(()=>{YR=!0},[]),t}const Ehe=Mhe.useId,xU=Ehe||Ohe,Dhe=x.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:m,stroke:g,d:y,style:{transform:w,...j}={},...v}=e,N=xU(),[C,S]=x.useState(!1);if(_b(()=>{if(!a)return;gi(a).direction==="rtl"&&S(!0)},[a]),!a)return null;const[E,T]=n.split("-"),A=E==="top"||E==="bottom";let O=m;(A&&o!=null&&o.x||!A&&o!=null&&o.y)&&(O=null);const D=h*2,$=D/2,L=l/2*(d/-8+1),I=c/2*d/4,R=!!y,H=O&&T==="end"?"bottom":"top";let G=O&&T==="end"?"right":"left";O&&C&&(G=T==="end"?"left":"right");const q=(i==null?void 0:i.x)!=null?O||i.x:"",F=(i==null?void 0:i.y)!=null?O||i.y:"",P=y||"M0,0"+(" H"+l)+(" L"+(l-L)+","+(c-I))+(" Q"+l/2+","+c+" "+L+","+(c-I))+" Z",B={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[E];return s.jsxs("svg",{...v,"aria-hidden":!0,ref:r,width:R?l:l+D,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[G]:q,[H]:F,[E]:A||R?"100%":"calc(100% - "+D/2+"px)",transform:[B,w].filter(K=>!!K).join(" "),...j},children:[D>0&&s.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:g,strokeWidth:D+(y?0:1),d:P}),s.jsx("path",{stroke:D&&!y?v.fill:"none",d:P}),s.jsx("clipPath",{id:N,children:s.jsx("rect",{x:-$,y:$*(R?-1:1),width:l+D,height:l})})]})});function Phe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(a=>a(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const Rhe=x.createContext(null),Ihe=x.createContext(null),Lhe=()=>{var t;return((t=x.useContext(Rhe))==null?void 0:t.id)||null},$he=()=>x.useContext(Ihe);function Fhe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,a=xU(),i=x.useRef({}),[o]=x.useState(()=>Phe()),l=Lhe()!=null,[c,d]=x.useState(n.reference),h=Kfe((y,w,j)=>{i.current.openEvent=y?w:void 0,o.emit("openchange",{open:y,event:w,reason:j,nested:l}),r==null||r(y,w,j)}),m=x.useMemo(()=>({setPositionReference:d}),[]),g=x.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return x.useMemo(()=>({dataRef:i,open:e,onOpenChange:h,elements:g,events:o,floatingId:a,refs:m}),[e,h,g,o,a,m])}function Hhe(t){t===void 0&&(t={});const{nodeId:e}=t,r=Fhe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,a=n.elements,[i,o]=x.useState(null),[l,c]=x.useState(null),h=(a==null?void 0:a.domReference)||i,m=x.useRef(null),g=$he();_b(()=>{h&&(m.current=h)},[h]);const y=Nhe({...t,elements:{...a,...l&&{reference:l}}}),w=x.useCallback(S=>{const E=Ka(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(E),y.refs.setReference(E)},[y.refs]),j=x.useCallback(S=>{(Ka(S)||S===null)&&(m.current=S,o(S)),(Ka(y.refs.reference.current)||y.refs.reference.current===null||S!==null&&!Ka(S))&&y.refs.setReference(S)},[y.refs]),v=x.useMemo(()=>({...y.refs,setReference:j,setPositionReference:w,domReference:m}),[y.refs,j,w]),N=x.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),C=x.useMemo(()=>({...y,...n,refs:v,elements:N,nodeId:e}),[y,v,N,e,n]);return _b(()=>{n.dataRef.current.floatingContext=C;const S=g==null?void 0:g.nodesRef.current.find(E=>E.id===e);S&&(S.context=C)}),x.useMemo(()=>({...y,context:C,refs:v,elements:N}),[y,v,N,C])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var t5=function(e,r){return t5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},t5(e,r)};function Da(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var xr=function(){return xr=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},xr.apply(this,arguments)};function lo(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Bhe=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,a=n===void 0?!1:n,i=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return X.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},zhe=function(t,e){var r=x.useRef(null),n=x.useRef(t);n.current=t;var a=x.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,i))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},$w=function(t){var e=t.children,r=t.onClickOutside,n=t.className,a=t.containerRef,i=t.style,o=t.ignoreClass,l=zhe(r,o);return X.createElement("div",{className:n,style:i,ref:function(c){l.current=c,a&&(a.current=c)}},e)},kt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(kt||(kt={}));function yU(){var t=typeof window<"u"?window:globalThis;return t}var sg=12;function zr(t){if(t==null)return new Date;var e=typeof t=="string"?ofe(t):Rt(t);return Fw(e)?e:new Date}function vN(t,e,r,n,a){a===void 0&&(a=zr());for(var i=Kf(r)||Kf(fO()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var d=c[l],h=tfe(t,d,a,{locale:i});if(Fw(h)&&(!n||t===mn(h,d,r)))return h}return null}function Fw(t,e){return vb(t)&&!oo(t,new Date("1/1/1800"))}function mn(t,e,r){if(r==="en")return IR(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Kf(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Kf(fO()),IR(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ai(t,e){var r=e.dateFormat,n=e.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return t&&mn(t,a,n)||""}var bU=" - ";function Vhe(t,e,r){if(!t&&!e)return"";var n=t?ai(t,r):"",a=e?ai(e,r):"",i=r.rangeSeparator||bU;return"".concat(n).concat(i).concat(a)}function qhe(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?ai(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=ai(t[1],e);return"".concat(r,", ").concat(n)}var a=t.length-1;return"".concat(r," (+").concat(a,")")}function wN(t,e){var r=e.hour,n=r===void 0?0:r,a=e.minute,i=a===void 0?0:a,o=e.second,l=o===void 0?0:o;return Vy(qy(Uy(t,l),i),n)}function Uhe(t){return nO(t)}function Whe(t,e){return mn(t,"ddd",e)}function Gy(t){return Gu(t)}function jc(t,e,r){var n=Kf(e||fO());return Sl(t,{locale:n,weekStartsOn:r})}function hl(t){return Kq(t)}function cp(t){return Ew(t)}function XR(t){return X_(t)}function JR(){return Gu(zr())}function QR(t){return Gq(t)}function Ghe(t){return oue(t)}function Yhe(t){return Yq(t)}function ro(t,e){return t&&e?sfe(t,e):!t&&!e}function Ga(t,e){return t&&e?nfe(t,e):!t&&!e}function Ab(t,e){return t&&e?afe(t,e):!t&&!e}function gr(t,e){return t&&e?sue(t,e):!t&&!e}function Nu(t,e){return t&&e?ide(t,e):!t&&!e}function pu(t,e,r){var n,a=Gu(e),i=Gq(r);try{n=Kp(t,{start:a,end:i})}catch{n=!1}return n}function fO(){var t=yU();return t.__localeId__}function Kf(t){if(typeof t=="string"){var e=yU();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Khe(t,e,r){return e(mn(t,"EEEE",r))}function Xhe(t,e){return mn(t,"EEEEEE",e)}function Jhe(t,e){return mn(t,"EEE",e)}function hO(t,e){return mn(si(zr(),t),"LLLL",e)}function vU(t,e){return mn(si(zr(),t),"LLL",e)}function Qhe(t,e){return mn(sf(zr(),t),"QQQ",e)}function oi(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,d=r.filterDate;return ig(t,{minDate:n,maxDate:a})||i&&i.some(function(h){return h instanceof Date?gr(t,h):gr(t,h.date)})||o&&o.some(function(h){var m=h.start,g=h.end;return Kp(t,{start:m,end:g})})||l&&!l.some(function(h){return gr(t,h)})||c&&!c.some(function(h){var m=h.start,g=h.end;return Kp(t,{start:m,end:g})})||d&&!d(zr(t))||!1}function mO(t,e){var r=e===void 0?{}:e,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var o=i.start,l=i.end;return Kp(t,{start:o,end:l})}):n&&n.some(function(i){var o;return i instanceof Date?gr(t,i):gr(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function wU(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return ig(t,{minDate:n?Kq(n):void 0,maxDate:a?Yq(a):void 0})||(i==null?void 0:i.some(function(c){return Ga(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ga(t,c)})||l&&!l(zr(t))||!1}function Wx(t,e,r,n){var a=or(t),i=Ha(t),o=or(e),l=Ha(e),c=or(n);return a===o&&a===c?i<=r&&r<=l:a<o?c===a&&i<=r||c===o&&l>=r||c<o&&c>a:!1}function Zhe(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates;return ig(t,{minDate:n,maxDate:a})||i&&i.some(function(l){return Ga(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return Ga(l,t)})||!1}function Gx(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return ig(t,{minDate:n,maxDate:a})||(i==null?void 0:i.some(function(c){return Ab(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ab(t,c)})||l&&!l(zr(t))||!1}function Yx(t,e,r){if(!e||!r||!vb(e)||!vb(r))return!1;var n=or(e),a=or(r);return n<=t&&a>=t}function Yy(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return ig(c,{minDate:n?Ew(n):void 0,maxDate:a?Xq(a):void 0})||(i==null?void 0:i.some(function(d){return ro(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return ro(c,d)})||l&&!l(zr(c))||!1}function Kx(t,e,r,n){var a=or(t),i=Ru(t),o=or(e),l=Ru(e),c=or(n);return a===o&&a===c?i<=r&&r<=l:a<o?c===a&&i<=r||c===o&&l>=r||c<o&&c>a:!1}function ig(t,e){var r,n=e===void 0?{}:e,a=n.minDate,i=n.maxDate;return(r=a&&qf(t,a)<0||i&&qf(t,i)>0)!==null&&r!==void 0?r:!1}function ZR(t,e){return e.some(function(r){return dl(r)===dl(t)&&fl(r)===fl(t)&&wc(r)===wc(t)})}function eI(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,a=r.includeTimes,i=r.filterTime;return n&&ZR(t,n)||a&&!ZR(t,a)||i&&!i(t)||!1}function tI(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=zr();a=Vy(a,dl(t)),a=qy(a,fl(t)),a=Uy(a,wc(t));var i=zr();i=Vy(i,dl(r)),i=qy(i,fl(r)),i=Uy(i,wc(r));var o=zr();o=Vy(o,dl(n)),o=qy(o,fl(n)),o=Uy(o,wc(n));var l;try{l=!Kp(a,{start:i,end:o})}catch{l=!1}return l}function rI(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,i=Iu(t,1);return n&&wb(n,i)>0||a&&a.every(function(o){return wb(o,i)>0})||!1}function nI(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,i=Bi(t,1);return n&&wb(i,n)>0||a&&a.every(function(o){return wb(i,o)>0})||!1}function eme(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,i=Ew(t),o=sU(i);return n&&jb(n,o)>0||a&&a.every(function(l){return jb(l,o)>0})||!1}function tme(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,i=Xq(t),o=rO(i,1);return n&&jb(o,n)>0||a&&a.every(function(l){return jb(o,l)>0})||!1}function aI(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,i=Uf(t,1);return n&&Sb(n,i)>0||a&&a.every(function(o){return Sb(o,i)>0})||!1}function rme(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.yearItemNumber,i=a===void 0?sg:a,o=cp(Uf(t,i)),l=rl(o,i).endPeriod,c=n&&or(n);return c&&c>l||!1}function sI(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,i=cl(t,1);return n&&Sb(i,n)>0||a&&a.every(function(o){return Sb(i,o)>0})||!1}function nme(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.yearItemNumber,i=a===void 0?sg:a,o=cl(t,i),l=rl(o,i).startPeriod,c=n&&or(n);return c&&c<l||!1}function jU(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(a){return qf(a,e)>=0});return AR(n)}else return r?AR(r):e}function SU(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(a){return qf(a,e)<=0});return MR(n)}else return r?MR(r):e}function iI(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,i=t.length;a<i;a++){var o=t[a];if(ul(o)){var l=mn(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),h=(r=d[0])!==null&&r!==void 0?r:"",m=o[h];if(typeof h=="string"&&Array.isArray(m))for(var g=0,y=m.length;g<y;g++){var w=m[g];if(w){var l=mn(w,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(h)||(c.push(h),n.set(l,c))}}}}return n}function ame(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function sme(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var a=n.date,i=n.holidayName;if(ul(a)){var o=mn(a,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&ame(l.holidayNames,[i]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?lo(lo([],c,!0),[i],!1):[i],r.set(o,l)}}}),r}function ime(t,e,r,n,a){for(var i=a.length,o=[],l=0;l<i;l++){var c=t,d=a[l];d&&(c=tue(c,dl(d)),c=K_(c,fl(d)),c=aue(c,wc(d)));var h=K_(t,(r+1)*n);Ec(c,e)&&oo(c,h)&&d!=null&&o.push(d)}return o}function oI(t){return t<10?"0".concat(t):"".concat(t)}function rl(t,e){e===void 0&&(e=sg);var r=Math.ceil(or(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function ome(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function lI(t){var e=t.getSeconds(),r=t.getMilliseconds();return Rt(t.getTime()-e*1e3-r)}function lme(t,e){return lI(t).getTime()===lI(e).getTime()}function cI(t){if(!ul(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function jN(t,e){if(!ul(t)||!ul(e))throw new Error("Invalid date received");var r=cI(t),n=cI(e);return oo(r,n)}function NU(t){return t.key===kt.Space}var cme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=X.createRef(),n.onTimeChange=function(a){var i,o;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(a!=null&&a.includes(":")){var h=a.split(":"),m=h[0],g=h[1];d.setHours(Number(m)),d.setMinutes(Number(g))}(o=(i=n.props).onChange)===null||o===void 0||o.call(i,d)},n.renderTimeInput=function(){var a=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?x.cloneElement(c,{date:o,value:a,onChange:n.onTimeChange}):X.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:a,onChange:function(d){n.onTimeChange(d.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return X.createElement("div",{className:"react-datepicker__input-time-container"},X.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),X.createElement("div",{className:"react-datepicker-time__input-container"},X.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(x.Component),ume=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=x.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,i,o=n.key;o===kt.Space&&(n.preventDefault(),n.key=kt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isSameDay=function(n){return gr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),oi(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return mO(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return gr(r.props.day,jc(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&gr(n,jc(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,i=n.highlightDates;if(!i)return!1;var o=mn(a,"MM.dd.yyyy");return i.get(o)},r.getHolidaysClass=function(){var n,a=r.props,i=a.day,o=a.holidays;if(!o)return[void 0];var l=mn(i,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:pu(a,i,o)},r.isInSelectingRange=function(){var n,a=r.props,i=a.day,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.selectsDisabledDaysInRange,h=a.startDate,m=a.swapRange,g=a.endDate,y=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!y||!d&&r.isDisabled())return!1;if(o&&g&&(oo(y,g)||Nu(y,g)))return pu(i,y,g);if(l&&h&&(Ec(y,h)||Nu(y,h)))return pu(i,h,y);if(c&&h&&!g){if(Nu(y,h)||Ec(y,h))return pu(i,h,y);if(m&&oo(y,h))return pu(i,y,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,o=a.startDate,l=a.selectsStart,c=a.swapRange,d=a.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?gr(i,h):d&&c&&o&&h?gr(i,oo(h,o)?h:o):gr(i,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,d=a.swapRange,h=a.startDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?gr(i,m):c&&d&&h&&m?gr(i,oo(m,h)?h:m):c?gr(i,m):gr(i,o)},r.isRangeStart=function(){var n=r.props,a=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:gr(i,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:gr(o,a)},r.isWeekend=function(){var n=rde(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ha(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ha(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(zr())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return $t("react-datepicker__day",a,"react-datepicker__day--"+Whe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,i=n.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=r.isDisabled()||r.isExcluded()?c:o;return"".concat(d," ").concat(mn(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,i=n.holidays,o=i===void 0?new Map:i,l=n.excludeDates,c=mn(a,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),r.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?gr(h,a):gr(h==null?void 0:h.date,a)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&gr(a,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(LR(r.props.day),r.props.day):LR(r.props.day)},r.render=function(){return X.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&X.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(x.Component),dme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=x.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,i,o=n.key;o===kt.Space&&(n.preventDefault(),n.key=kt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!gr(r.props.date,r.props.selected)&&gr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||gr(r.props.date,r.props.selected)&&gr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&gr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,i=r.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&gr(this.props.date,this.props.selected)};return X.createElement("div",{ref:this.weekNumberEl,className:$t(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(x.Component),fme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return oi(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,i){for(var o,l,c,d=new Date(n),h=0;h<7;h++){var m=new Date(n);m.setDate(m.getDate()+h);var g=!r.isDisabled(m);if(g){d=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,a,i),r.props.showWeekPicker&&r.handleDayClick(d,i),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Uhe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Li(n,6),i=new Date(n);i<=a;){if(!r.isDisabled(i))return!1;i=Li(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;a.push(X.createElement(dme,xr({key:"W"},e.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=Li(n,l);return X.createElement(ume,xr({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return jc(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!gr(r.startOfWeek(),r.props.selected)&&gr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":gr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return X.createElement("div",{className:$t(r,n),role:"row"},this.renderDays())},e})(x.Component),zm,hme=6,Tf={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},SN=(zm={},zm[Tf.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},zm[Tf.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},zm[Tf.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},zm),Xx=1;function uI(t,e){return t?Tf.FOUR_COLUMNS:e?Tf.TWO_COLUMNS:Tf.THREE_COLUMNS}var mme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=lo([],Array(12),!0).map(function(){return x.createRef()}),r.QUARTER_REFS=lo([],Array(4),!0).map(function(){return x.createRef()}),r.isDisabled=function(n){return oi(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return mO(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var i,o;(o=(i=r.props).onDayClick)===null||o===void 0||o.call(i,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,i;(i=(a=r.props).onDayMouseEnter)===null||i===void 0||i.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ga(si(i,n),o)},r.isRangeStartQuarter=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ab(sf(i,n),o)},r.isRangeEndMonth=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ga(si(i,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ab(sf(i,n),l)},r.isInSelectingRangeMonth=function(n){var a,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||d)||!g?!1:l&&m?Wx(g,m,n,o):c&&h||d&&h&&!m?Wx(h,g,n,o):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.startDate,c=i.selectsStart,d=si(o,n),h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?Ga(d,h):Ga(d,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,h=si(o,n),m=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||d?Ga(h,m):Ga(h,l)},r.isInSelectingRangeQuarter=function(n){var a,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||d)||!g?!1:l&&m?Kx(g,m,n,o):c&&h||d&&h&&!m?Kx(h,g,n,o):!1},r.isWeekInMonth=function(n){var a=r.props.day,i=Li(n,6);return Ga(n,a)||Ga(i,a)},r.isCurrentMonth=function(n,a){return or(n)===or(zr())&&a===Ha(zr())},r.isCurrentQuarter=function(n,a){return or(n)===or(zr())&&a===Ru(zr())},r.isSelectedMonth=function(n,a,i){return Ha(i)===a&&or(n)===or(i)},r.isSelectMonthInList=function(n,a,i){return i.some(function(o){return r.isSelectedMonth(n,a,o)})},r.isSelectedQuarter=function(n,a,i){return Ru(n)===a&&or(n)===or(i)},r.isMonthSelected=function(){var n=r.props,a=n.day,i=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=Ha(a);return l?o==null?void 0:o.some(function(d){return r.isSelectedMonth(a,c,d)}):!!i&&r.isSelectedMonth(a,c,i)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,i=0,o=!1,l=jc(hl(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(w){return r.props.showWeekPicker?jc(w,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(w){return r.props.showWeekPicker?jc(w,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?d(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(X.createElement(fme,xr({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:Ha(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!o;){i++,l=bb(l,1);var g=a&&i>=hme,y=!a&&!r.isWeekInMonth(l);if(g||y)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,a){var i=r.isMonthDisabledForLabelDate(a),o=i.isDisabled,l=i.labelDate;o||r.handleDayClick(hl(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),i=a.isDisabled,o=a.labelDate;i||r.handleDayMouseEnter(hl(o))},r.handleMonthNavigation=function(n,a){var i,o,l,c;(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,i){var o,l=r.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,m=l.minDate,g=l.maxDate,y=l.showFourColumnMonthYearPicker,w=l.showTwoColumnMonthYearPicker;if(d){var j=uI(y,w),v=r.getVerticalOffset(j),N=(o=SN[j])===null||o===void 0?void 0:o.grid,C=function(O,D,$){var L,I,R=D,H=$;switch(O){case kt.ArrowRight:R=Bi(D,Xx),H=$===11?0:$+Xx;break;case kt.ArrowLeft:R=Iu(D,Xx),H=$===0?11:$-Xx;break;case kt.ArrowUp:R=Iu(D,v),H=!((L=N==null?void 0:N[0])===null||L===void 0)&&L.includes($)?$+12-v:$-v;break;case kt.ArrowDown:R=Bi(D,v),H=!((I=N==null?void 0:N[N.length-1])===null||I===void 0)&&I.includes($)?$-12+v:$+v;break}return{newCalculatedDate:R,newCalculatedMonth:H}},S=function(O,D,$){for(var L=40,I=O,R=!1,H=0,G=C(I,D,$),q=G.newCalculatedDate,F=G.newCalculatedMonth;!R;){if(H>=L){q=D,F=$;break}if(m&&q<m){I=kt.ArrowRight;var P=C(I,q,F);q=P.newCalculatedDate,F=P.newCalculatedMonth}if(g&&q>g){I=kt.ArrowLeft;var P=C(I,q,F);q=P.newCalculatedDate,F=P.newCalculatedMonth}if(Zhe(q,r.props)){var P=C(I,q,F);q=P.newCalculatedDate,F=P.newCalculatedMonth}else R=!0;H++}return{newCalculatedDate:q,newCalculatedMonth:F}};if(a===kt.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),h==null||h(c));return}var E=S(a,d,i),T=E.newCalculatedDate,A=E.newCalculatedMonth;switch(a){case kt.ArrowRight:case kt.ArrowLeft:case kt.ArrowUp:case kt.ArrowDown:r.handleMonthNavigation(A,T);break}}},r.getVerticalOffset=function(n){var a,i;return(i=(a=SN[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,a){var i=r.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==kt.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var i=sf(r.props.day,a);Gx(i,r.props)||r.handleDayClick(XR(i),n)},r.onQuarterMouseEnter=function(n){var a=sf(r.props.day,n);Gx(a,r.props)||r.handleDayMouseEnter(XR(a))},r.handleQuarterNavigation=function(n,a){var i,o,l,c;r.isDisabled(a)||r.isExcluded(a)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var i,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case kt.Enter:r.onQuarterClick(n,a),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case kt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,rO(r.props.preSelection,1));break;case kt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,sU(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,i=r.props,o=i.day,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=si(o,n);return{isDisabled:(a=(l||c||d||h)&&wU(m,r.props))!==null&&a!==void 0?a:!1,labelDate:m}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate,c=a.preSelection,d=a.monthClassName,h=d?d(si(i,n)):void 0,m=r.getSelection();return $t("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(i,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?Wx(o,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ha(r.props.preSelection),i=r.isMonthDisabledForLabelDate(a).isDisabled,o=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ru(r.props.preSelection),i=Gx(r.props.day,r.props),o=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var a=r.props,i=a.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=a.day,h=a.locale,m=si(d,n),g=r.isDisabled(m)||r.isExcluded(m)?c:o;return"".concat(g," ").concat(mn(m,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var a=r.props,i=a.day,o=a.startDate,l=a.endDate,c=a.selected,d=a.minDate,h=a.maxDate,m=a.excludeDates,g=a.includeDates,y=a.filterDate,w=a.preSelection,j=a.disabledKeyboardNavigation,v=(d||h||m||g||y)&&Gx(sf(i,n),r.props);return $t("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&w&&r.isSelectedQuarter(i,n,w)&&!v,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?Kx(o,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var a=r.props,i=a.showFullMonthYearPicker,o=a.renderMonthContent,l=a.locale,c=a.day,d=vU(n,l),h=hO(n,l);return o?o(n,d,h,c):i?h:d},r.getQuarterContent=function(n){var a,i=r.props,o=i.renderQuarterContent,l=i.locale,c=Qhe(n,l);return(a=o==null?void 0:o(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,i=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,d=(n=SN[uI(o,i)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(h,m){return X.createElement("div",{className:"react-datepicker__month-wrapper",key:m},h.map(function(g,y){return X.createElement("div",{ref:r.MONTH_REFS[g],key:y,onClick:function(w){r.onMonthClick(w,g)},onKeyDown:function(w){NU(w)&&(w.preventDefault(),w.key=kt.Enter),r.onMonthKeyDown(w,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(l,g)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,g,c):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,i=n.selected,o=[1,2,3,4];return X.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return X.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(d){r.onQuarterClick(d,l)},onKeyDown:function(d){r.onQuarterKeyDown(d,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(a,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,i=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,d=n.showWeekPicker;return $t("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,i=r.selectsMultiple;if(i)return a;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",d=n||a;return d?X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(mn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):X.createElement("div",{role:"table"},this.props.dayNamesHeader&&X.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(mn(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(x.Component),pme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var i;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var o=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(i=r.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return X.createElement("div",{ref:function(i){r.monthOptionButtonsRef[a]=i,r.isSelectedMonth(a)&&(i==null||i.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?X.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return X.createElement($w,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(x.Component),gme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,i){return X.createElement("option",{key:a,value:i},a)})},r.renderSelectMode=function(n){return X.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return X.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return X.createElement(pme,xr({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,i=[r.renderReadView(!a,n)];return a&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return vU(i,r.props.locale)}:function(i){return hO(i,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return X.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e})(x.Component);function xme(t,e){for(var r=[],n=hl(t),a=hl(e);!Ec(n,a);)r.push(zr(n)),n=Bi(n,1);return r}var yme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var i=Q_(a),o=ro(n.props.date,a)&&Ga(n.props.date,a);return X.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?X.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",mn(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:xme(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=$t({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return X.createElement($w,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(x.Component),bme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=hl(r.props.minDate),a=hl(r.props.maxDate),i=[];!Ec(n,a);){var o=Q_(n);i.push(X.createElement("option",{key:o,value:o},mn(n,r.props.dateFormat,r.props.locale))),n=Bi(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return X.createElement("select",{value:Q_(hl(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=mn(r.props.date,r.props.dateFormat,r.props.locale);return X.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return X.createElement(yme,xr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=zr(n);ro(r.props.date,a)&&Ga(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(x.Component),vme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var a,i;(r.props.minTime||r.props.maxTime)&&tI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&eI(n,r.props)||(i=(a=r.props).onChange)===null||i===void 0||i.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&lme(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&tI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&eI(n,r.props)},r.liClasses=function(n){var a,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(dl(n)*3600+fl(n)*60+wc(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,a){var i,o;n.key===kt.Space&&(n.preventDefault(),n.key=kt.Enter),(n.key===kt.ArrowUp||n.key===kt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===kt.ArrowDown||n.key===kt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===kt.Enter&&r.handleClick(a),(o=(i=r.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},r.renderTimes=function(){for(var n,a=[],i=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||zr(),c=Gy(l),d=r.props.injectTimes&&r.props.injectTimes.sort(function(v,N){return v.getTime()-N.getTime()}),h=60*ome(l),m=h/o,g=0;g<m;g++){var y=K_(c,g*o);if(a.push(y),d){var w=ime(c,y,g,o,d);a=a.concat(w)}}var j=a.reduce(function(v,N){return N.getTime()<=l.getTime()?N:v},a[0]);return a.map(function(v){return X.createElement("li",{key:v.valueOf(),onClick:r.handleClick.bind(r,v),className:r.liClasses(v),ref:function(N){v===j&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,v)},tabIndex:v===j?0:-1,role:"option","aria-selected":r.isSelectedTime(v)?"true":void 0,"aria-disabled":r.isDisabledTime(v)?"true":void 0},mn(v,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?X.createElement(X.Fragment,null):X.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},X.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,a=this.state.height;return X.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),X.createElement("div",{className:"react-datepicker__time"},X.createElement("div",{className:"react-datepicker__time-box"},X.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(x.Component),dI=3,wme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=lo([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(a){return oi(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return mO(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var i=function(){var o,l;(l=(o=n.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(a,i){n.props.onDayClick&&n.props.onDayClick(a,i)},n.handleYearNavigation=function(a,i){var o,l,c,d,h=n.props,m=h.date,g=h.yearItemNumber;if(!(m===void 0||g===void 0)){var y=rl(m,g).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,i),a-y<0?n.updateFocusOnPaginate(g-(y-a)):a-y>=g?n.updateFocusOnPaginate(Math.abs(g-(a-y))):(d=(c=n.YEAR_REFS[a-y])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},n.isSameDay=function(a,i){return gr(a,i)},n.isCurrentYear=function(a){return a===or(zr())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&ro(to(zr(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&ro(to(zr(),a),n.props.endDate)},n.isInRange=function(a){return Yx(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&h?Yx(a,n.selectingDate(),h):l&&d||c&&d&&!h?Yx(a,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var i;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,d=to(zr(),a);return c?ro(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):ro(d,l??null)},n.isSelectingRangeEnd=function(a){var i;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,h=to(zr(),a);return c||d?ro(h,(i=n.selectingDate())!==null&&i!==void 0?i:null):ro(h,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var i=n.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.selected,g=cp(to(n.props.date,a)),y=(o||l||c||d||h)&&Yy(a,n.props),w=!!m&&gr(g,cp(m)),j=gr(g,cp(n.props.preSelection));return!n.props.inline&&!w&&j&&!y}},n.isSelectedYear=function(a){var i=n.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(d){return a===or(d)}):!!l&&a===or(l)},n.onYearClick=function(a,i){var o=n.props.date;o!==void 0&&n.handleYearClick(cp(to(o,i)),a)},n.onYearKeyDown=function(a,i){var o,l,c=a.key,d=n.props,h=d.date,m=d.yearItemNumber,g=d.handleOnKeyDown;if(c!==kt.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case kt.Enter:if(n.props.selected==null)break;n.onYearClick(a,i),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case kt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,cl(n.props.preSelection,1));break;case kt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,Uf(n.props.preSelection,1));break;case kt.ArrowUp:{if(h===void 0||m===void 0||n.props.preSelection==null)break;var y=rl(h,m).startPeriod,w=dI,j=i-w;if(j<y){var v=m%w;i>=y&&i<y+v?w=v:w+=v,j=i-w}n.handleYearNavigation(j,Uf(n.props.preSelection,w));break}case kt.ArrowDown:{if(h===void 0||m===void 0||n.props.preSelection==null)break;var N=rl(h,m).endPeriod,w=dI,j=i+w;if(j>N){var v=m%w;i<=N&&i>N-v?w=v:w+=v,j=i+w}n.handleYearNavigation(j,cl(n.props.preSelection,w));break}}g&&g(a)},n.getYearClassNames=function(a){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=i.filterDate,g=i.yearClassName;return $t("react-datepicker__year-text","react-datepicker__year-".concat(a),o?g==null?void 0:g(to(o,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||d||h||m)&&Yy(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=or(n.props.preSelection),o=Yy(a,n.props);return a===i&&!o?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var r=this,n=[],a=this.props,i=a.date,o=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(i===void 0)return null;for(var d=rl(i,o),h=d.startPeriod,m=d.endPeriod,g=function(j){n.push(X.createElement("div",{ref:y.YEAR_REFS[j-h],onClick:function(v){r.onYearClick(v,j)},onKeyDown:function(v){NU(v)&&(v.preventDefault(),v.key=kt.Enter),r.onYearKeyDown(v,j)},tabIndex:Number(y.getYearTabIndex(j)),className:y.getYearClassNames(j),onMouseEnter:y.props.usePointerEvent?void 0:function(v){return l(v,j)},onPointerEnter:y.props.usePointerEvent?function(v){return l(v,j)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(v){return c(v,j)},onPointerLeave:y.props.usePointerEvent?function(v){return c(v,j)}:void 0,key:j,"aria-current":y.isCurrentYear(j)?"date":void 0},y.getYearContent(j)))},y=this,w=h;w<=m;w++)g(w);return X.createElement("div",{className:"react-datepicker__year"},X.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(x.Component);function jme(t,e,r,n){for(var a=[],i=0;i<2*e+1;i++){var o=t+e-i,l=!0;r&&(l=or(r)<=o),n&&l&&(l=or(n)>=o),l&&a.push(o)}return a}var Sme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var h=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((d=n.yearOptionButtonsRef[h])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(m){return X.createElement("div",{ref:function(g){n.yearOptionButtonsRef[m]=g,m===l&&(g==null||g.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),onKeyDown:n.handleOptionKeyDown.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?X.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",m)}),d=n.props.minDate?or(n.props.minDate):null,h=n.props.maxDate?or(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(m){return m===h}))&&c.unshift(X.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(m){return m===d}))&&c.push(X.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(d){return d+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=a||(i?10:5);return n.state={yearsList:jme(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=$t({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return X.createElement($w,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(x.Component),Nme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?or(r.props.minDate):1900,a=r.props.maxDate?or(r.props.maxDate):2100,i=[],o=n;o<=a;o++)i.push(X.createElement("option",{key:o,value:o},o));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return X.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return X.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},X.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return X.createElement(Sme,xr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var i,o;(o=(i=r.props).onSelect)===null||o===void 0||o.call(i,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(x.Component),kme=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],kU="react-datepicker-ignore-onclickoutside",Cme=function(t){var e=(t.className||"").split(/\s+/);return kme.some(function(r){return e.indexOf(r)>=0})},Tme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var i,o;Cme(a.target)&&((o=(i=n.props).onDropdownFocus)===null||o===void 0||o.call(i,a))},n.getDateInView=function(){var a=n.props,i=a.preSelection,o=a.selected,l=a.openToDate,c=jU(n.props),d=SU(n.props),h=zr(),m=l||o||i;return m||(c&&oo(h,c)?c:d&&Ec(h,d)?d:h)},n.increaseMonth=function(){n.setState(function(a){var i=a.date;return{date:Bi(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var i=a.date;return{date:Iu(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,i,o){n.props.onSelect(a,i,o),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,i){n.setState({selectingDate:to(zr(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,i)},n.handleYearMouseLeave=function(a,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,i)},n.handleYearChange=function(a){var i,o,l,c;(o=(i=n.props).onYearChange)===null||o===void 0||o.call(i,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!oi(a,n.props))return a;for(var i=hl(a),o=Yhe(a),l=iue(o,i),c=null,d=0;d<=l;d++){var h=Li(i,d);if(!oi(h,n.props)){c=h;break}}return c},n.handleMonthChange=function(a){var i,o,l,c=(i=n.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var i,o;(o=(i=n.props).onMonthChange)===null||o===void 0||o.call(i,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(i){var o=i.date;return{date:to(o,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(i){var o=i.date;return{date:si(o,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(i){var o=i.date;return{date:to(si(o,Ha(a)),or(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var i=jc(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(X.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},X.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),X.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=Li(i,l),d=n.formatWeekday(c,n.props.locale),h=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return X.createElement("div",{key:l,role:"columnheader",className:$t("react-datepicker__day-name",h)},X.createElement("span",{className:"react-datepicker__sr-only"},mn(c,"EEEE",n.props.locale)),X.createElement("span",{"aria-hidden":"true"},d))}))},n.formatWeekday=function(a,i){return n.props.formatWeekDay?Khe(a,n.props.formatWeekDay,i):n.props.useWeekdaysShort?Jhe(a,i):Xhe(a,i)},n.decreaseYear=function(){n.setState(function(a){var i,o=a.date;return{date:Uf(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,i,o;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,h=Iu(n.state.date,d),m;switch(!0){case n.props.showMonthYearPicker:m=aI(n.state.date,n.props);break;case n.props.showYearPicker:m=rme(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=eme(n.state.date,n.props);break;default:m=rI(h,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(w=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),w=void 0);var j=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,N=v.previousMonthButtonLabel,C=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=v.previousYearButtonLabel,E=S===void 0?e.defaultProps.previousYearButtonLabel:S,T=n.props,A=T.previousMonthAriaLabel,O=A===void 0?typeof C=="string"?C:"Previous Month":A,D=T.previousYearAriaLabel,$=D===void 0?typeof E=="string"?E:"Previous Year":D;return X.createElement("button",{type:"button",className:y.join(" "),onClick:w,onKeyDown:n.props.handleOnKeyDown,"aria-label":j?$:O},X.createElement("span",{className:g.join(" ")},j?E:C))}}},n.increaseYear=function(){n.setState(function(a){var i,o=a.date;return{date:cl(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=sI(n.state.date,n.props);break;case n.props.showYearPicker:i=nme(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=tme(n.state.date,n.props);break;default:i=nI(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,m=h.nextMonthButtonLabel,g=m===void 0?e.defaultProps.nextMonthButtonLabel:m,y=h.nextYearButtonLabel,w=y===void 0?e.defaultProps.nextYearButtonLabel:y,j=n.props,v=j.nextMonthAriaLabel,N=v===void 0?typeof g=="string"?g:"Next Month":v,C=j.nextYearAriaLabel,S=C===void 0?typeof w=="string"?w:"Next Year":C;return X.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?S:N},X.createElement("span",{className:l.join(" ")},d?w:g))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),X.createElement("h2",{className:i.join(" ")},mn(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return X.createElement(Nme,xr({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:or(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return X.createElement(gme,xr({},e.defaultProps,n.props,{month:Ha(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return X.createElement(bme,xr({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(JR(),a),n.props.setPreSelection&&n.props.setPreSelection(JR())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return X.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a){return X.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a))},n.renderDefaultHeader=function(a){var i=a.monthDate,o=a.i;return X.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),X.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(a){var i,o,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,h=d.showYearPicker,m=d.yearItemNumber,g;if(h){var y=rl(l,m),w=y.startPeriod,j=y.endPeriod;g={startYear:w,endYear:j}}var v=rI(n.state.date,n.props),N=nI(n.state.date,n.props),C=aI(n.state.date,n.props),S=sI(n.state.date,n.props);return X.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(i=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,xr(xr(xr({},n.state),h&&{visibleYearsRange:g}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:N,prevYearButtonDisabled:C,nextYearButtonDisabled:S})))},n.renderYearHeader=function(a){var i=a.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,h=rl(i,d),m=h.startPeriod,g=h.endPeriod;return X.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(g):or(i))},n.renderHeader=function(a){var i=a.monthDate,o=a.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?cl(n.state.date,c):Iu(n.state.date,c),h=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,m=0;m<l;++m){var g=m-h+c,y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?cl(d,g):Bi(d,g),w="month-".concat(m),j=m<l-1,v=m>0;o.push(X.createElement("div",{key:w,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:y,i:m}),X.createElement(mme,xr({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:y,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:v,dayNamesHeader:n.renderDayNamesHeader(y)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return X.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),X.createElement(wme,xr({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return X.createElement(vme,xr({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,i=a&&Fw(a)&&!!n.props.selected,o=i?"".concat(oI(a.getHours()),":").concat(oI(a.getMinutes())):"";if(n.props.showTimeInput)return X.createElement(cme,xr({},e.defaultProps,n.props,{date:a,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,i=rl(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=or(n.state.date):c="".concat(hO(Ha(n.state.date),n.props.locale)," ").concat(or(n.state.date)),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return X.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:kU,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:sg}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!gr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Ga(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!gr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||Bhe;return X.createElement($w,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},X.createElement("div",{style:{display:"contents"},ref:this.containerRef},X.createElement(r,{className:$t("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(x.Component),_me=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,a=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return X.createElement("i",{className:"".concat(i," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(X.isValidElement(e)){var o=e;return X.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof a=="function"&&a(l)}})}return X.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},X.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CU=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return tV.createPortal(this.props.children,this.el)},e})(x.Component),Mme="[tabindex], a, button, input, select, textarea",Ame=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},TU=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Mme),1,-1).filter(Ame)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=x.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?X.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},X.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,X.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(x.Component);function Ome(t){function e(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=x.useRef(null),o=Hhe(xr({open:!a,whileElementsMounted:pU,placement:r.popperPlacement,middleware:lo([The({padding:15}),Che(10),_he({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=xr(xr({},r),{hidePopper:a,popperProps:xr(xr({},o),{arrowRef:i})});return X.createElement(t,xr({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Eme=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,a=n===void 0?!0:n,i=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,d=t.portalId,h=t.portalHost,m=t.popperProps,g=t.showArrow,y=void 0;if(!a){var w=$t("react-datepicker-popper",e);y=X.createElement(TU,{enableTabLoop:l},X.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},i,g&&X.createElement(Dhe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(y=x.createElement(t.popperContainer,{},y)),d&&!a&&(y=X.createElement(CU,{portalId:d,portalHost:h},y));var j=$t("react-datepicker-wrapper",r);return X.createElement(X.Fragment,null,X.createElement("div",{ref:m.refs.setReference,className:j},o),y)},Dme=Ome(Eme);function Pme(t,e){return t&&e?Ha(t)!==Ha(e)||or(t)!==or(e):t!==e}var NN="Date input not valid.",Xf=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:zr()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,o){var l=new Date(o.date);return Fw(l)?lo(lo([],i,!0),[xr(xr({},o),{date:l})],!1):i},[])},n.calcInitialState=function(){var a,i=n.getPreSelection(),o=jU(n.props),l=SU(n.props),c=o&&oo(i,Gy(o))?o:l&&Ec(i,QR(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:iI(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,i=n.props,o=i.locale,l=i.startDate,c=i.endDate,d=i.rangeSeparator,h=i.selected,m=i.selectedDates,g=i.selectsMultiple,y=i.selectsRange,w=i.value,j=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,v=n.state.inputValue;return typeof w=="string"?w:typeof v=="string"?v:y?Vhe(l,c,{dateFormat:j,locale:o,rangeSeparator:d}):g?qhe(m??[],{dateFormat:j,locale:o}):ai(h,{dateFormat:j,locale:o})},n.resetHiddenStatus=function(){n.setState(xr(xr({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(xr(xr({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},n.setBlur=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,i){i===void 0&&(i=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:kN},function(){a||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ul(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var i,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(i=n.props).onFocus)===null||o===void 0||o.call(i,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(xr(xr({},n.state),{inputValue:null}))},n.handleBlur=function(a){var i,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(i=n.props).onBlur)===null||o===void 0||o.call(i,a)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var i,o;n.props.inline||n.setOpen(!1),(o=(i=n.props).onClickOutside)===null||o===void 0||o.call(i,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,i,o,l,c,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var m=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:Rme});var g=n.props,y=g.selectsRange,w=g.startDate,j=g.endDate,v=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,N=(i=n.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,C=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(y){var S=n.props.rangeSeparator,E=S.trim(),T=C.split(v.includes(E)?S:E,2).map(function(H){return H.trim()}),A=T[0],O=T[1],D=vN(A??"",v,n.props.locale,N),$=D?vN(O??"",v,n.props.locale,N):null,L=(w==null?void 0:w.getTime())!==(D==null?void 0:D.getTime()),I=(j==null?void 0:j.getTime())!==($==null?void 0:$.getTime());if(!L&&!I||D&&oi(D,n.props)||$&&oi($,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[D,$],m)}else{var R=vN(C,v,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(R||!C)&&n.setSelected(R,m,!0)}}},n.handleSelect=function(a,i,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,d=l.startDate,h=l.endDate,m=l.swapRange,g=!c||d&&!h&&(m||!jN(a,d));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&g&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(a,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):g&&n.setOpen(!1)}},n.setSelected=function(a,i,o,l){var c,d,h=a;if(n.props.showYearPicker){if(h!==null&&Yy(or(h),n.props))return}else if(n.props.showMonthYearPicker){if(h!==null&&wU(h,n.props))return}else if(h!==null&&oi(h,n.props))return;var m=n.props,g=m.onChange,y=m.selectsRange,w=m.startDate,j=m.endDate,v=m.selectsMultiple,N=m.selectedDates,C=m.minTime,S=m.swapRange;if(!Nu(n.props.selected,h)||n.props.allowSameDay||y||v)if(h!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(h=wN(h,{hour:dl(n.props.selected),minute:fl(n.props.selected),second:wc(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&C&&(h=wN(h,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),n.props.inline||n.setState({preSelection:h}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),y){var E=!w&&!j,T=w&&!j,A=!w&&!!j,O=w&&j;E?g==null||g([h,null],i):T?h===null?g==null||g([null,null],i):jN(h,w)?S?g==null||g([h,w],i):g==null||g([h,null],i):g==null||g([w,h],i):A&&(h&&jN(h,j)?g==null||g([h,j],i):g==null||g([h,null],i)),O&&(g==null||g([h,null],i))}else if(v){if(h!==null)if(!(N!=null&&N.length))g==null||g([h],i);else{var D=N.some(function(L){return gr(L,h)});if(D){var $=N.filter(function(L){return!gr(L,h)});g==null||g($,i)}else g==null||g(lo(lo([],N,!0),[h],!1),i)}}else g==null||g(h,i);o||((d=(c=n.props).onSelect)===null||d===void 0||d.call(c,h,i),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var i=ul(n.props.minDate),o=ul(n.props.maxDate),l=!0;if(a){var c=Gy(a);if(i&&o)l=pu(a,n.props.minDate,n.props.maxDate);else if(i){var d=Gy(n.props.minDate);l=Ec(a,d)||Nu(c,d)}else if(o){var h=QR(n.props.maxDate);l=oo(a,h)||Nu(c,h)}}l&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var i,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:wN(l,{hour:dl(a),minute:fl(a)});n.setState({preSelection:c}),(o=(i=n.props).onChange)===null||o===void 0||o.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(a=n.props).onInputClick)===null||i===void 0||i.call(a)},n.onInputKeyDown=function(a){var i,o,l,c,d,h;(o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,a);var m=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===kt.ArrowDown||m===kt.ArrowUp||m===kt.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===kt.ArrowDown||m===kt.ArrowUp){a.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var w=zr(n.state.preSelection);m===kt.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===kN?(n.handleSelect(w,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):m===kt.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===kt.Tab&&n.setOpen(!1),n.inputOk()||(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:NN})}},n.onPortalKeyDown=function(a){var i=a.key;i===kt.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var i,o,l,c,d,h,m=n.props,g=m.minDate,y=m.maxDate,w=m.disabledKeyboardNavigation,j=m.showWeekPicker,v=m.shouldCloseOnSelect,N=m.locale,C=m.calendarStartDay,S=m.adjustDateOnChange,E=m.inline;if((o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,a),!w){var T=a.key,A=a.shiftKey,O=zr(n.state.preSelection),D=function(q,F){var P=F;switch(q){case kt.ArrowRight:P=j?bb(F,1):Li(F,1);break;case kt.ArrowLeft:P=j?$R(F):ife(F);break;case kt.ArrowUp:P=$R(F);break;case kt.ArrowDown:P=bb(F,1);break;case kt.PageUp:P=A?Uf(F,1):Iu(F,1);break;case kt.PageDown:P=A?cl(F,1):Bi(F,1);break;case kt.Home:P=jc(F,N,C);break;case kt.End:P=Ghe(F);break}return P},$=function(q,F){for(var P=40,B=q,K=!1,te=0,U=D(q,F);!K;){if(te>=P){U=F;break}g&&U<g&&(B=kt.ArrowRight,U=oi(g,n.props)?D(B,U):g),y&&U>y&&(B=kt.ArrowLeft,U=oi(y,n.props)?D(B,U):y),oi(U,n.props)?((B===kt.PageUp||B===kt.Home)&&(B=kt.ArrowRight),(B===kt.PageDown||B===kt.End)&&(B=kt.ArrowLeft),U=D(B,U)):K=!0,te++}return U};if(T===kt.Enter){a.preventDefault(),n.handleSelect(O,a),!v&&n.setPreSelection(O);return}else if(T===kt.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:NN});return}var L=null;switch(T){case kt.ArrowLeft:case kt.ArrowRight:case kt.ArrowUp:case kt.ArrowDown:case kt.PageUp:case kt.PageDown:case kt.Home:case kt.End:L=$(T,O);break}if(!L){(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:NN});return}if(a.preventDefault(),n.setState({lastPreSelectChange:kN}),S&&n.setSelected(L),n.setPreSelection(L),E){var I=Ha(O),R=Ha(L),H=or(O),G=or(L);I!==R||H!==G?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var i=a.key;i===kt.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var i=n.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,i;return!n.props.inline&&!n.isCalendarOpen()?null:X.createElement(Tme,xr({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:sme(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a,i=n.props.locale,o=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(ai(n.props.startDate,{dateFormat:c,locale:i}),". ").concat(n.props.endDate?"End date: "+ai(n.props.endDate,{dateFormat:c,locale:i}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(ai(n.props.selected,{dateFormat:o,locale:i})):n.props.showYearPicker?d="Selected year: ".concat(ai(n.props.selected,{dateFormat:"yyyy",locale:i})):n.props.showMonthYearPicker?d="Selected month: ".concat(ai(n.props.selected,{dateFormat:"MMMM yyyy",locale:i})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(ai(n.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(ai(n.props.selected,{dateFormat:c,locale:i})),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,i,o=$t(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),l=n.props.customInput||X.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return x.cloneElement(l,(i={},i[c]=function(d){n.input=d},i.value=n.getInputValue(),i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=$t(l.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var a=n.props,i=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,d=a.endDate,h=a.clearButtonTitle,m=a.clearButtonClassName,g=m===void 0?"":m,y=a.ariaLabelClose,w=y===void 0?"Close":y,j=a.selectedDates,v=a.readOnly;return i&&!v&&(l!=null||c!=null||d!=null||j!=null&&j.length)?X.createElement("button",{type:"button",className:$t("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":w,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:kU,readOnly:!1,rangeSeparator:bU,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:sg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var a,i,o,l;r.inline&&Pme(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:iI(this.props.highlightDates)}),!n.focused&&!Nu(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,i=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),X.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&X.createElement(_me,xr({icon:a,className:$t(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?X.createElement(TU,{enableTabLoop:this.props.enableTabLoop},X.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=X.createElement(CU,xr({portalId:this.props.portalId},this.props),n)),X.createElement("div",null,this.renderInputContainer(),n)}return X.createElement(Dme,xr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(x.Component),Rme="input",kN="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:_U,setPrototypeOf:fI,isFrozen:Ime,getPrototypeOf:Lme,getOwnPropertyDescriptor:$me}=Object;let{freeze:ts,seal:xi,create:MU}=Object,{apply:r5,construct:n5}=typeof Reflect<"u"&&Reflect;ts||(ts=function(e){return e});xi||(xi=function(e){return e});r5||(r5=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return e.apply(r,a)});n5||(n5=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new e(...n)});const Jx=rs(Array.prototype.forEach),Fme=rs(Array.prototype.lastIndexOf),hI=rs(Array.prototype.pop),Vm=rs(Array.prototype.push),Hme=rs(Array.prototype.splice),Ky=rs(String.prototype.toLowerCase),CN=rs(String.prototype.toString),TN=rs(String.prototype.match),qm=rs(String.prototype.replace),Bme=rs(String.prototype.indexOf),zme=rs(String.prototype.trim),Ai=rs(Object.prototype.hasOwnProperty),Wa=rs(RegExp.prototype.test),Um=Vme(TypeError);function rs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return r5(t,e,n)}}function Vme(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return n5(t,r)}}function hr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ky;fI&&fI(t,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){const i=r(a);i!==a&&(Ime(e)||(e[n]=i),a=i)}t[a]=!0}return t}function qme(t){for(let e=0;e<t.length;e++)Ai(t,e)||(t[e]=null);return t}function Qo(t){const e=MU(null);for(const[r,n]of _U(t))Ai(t,r)&&(Array.isArray(n)?e[r]=qme(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Qo(n):e[r]=n);return e}function Wm(t,e){for(;t!==null;){const n=$me(t,e);if(n){if(n.get)return rs(n.get);if(typeof n.value=="function")return rs(n.value)}t=Lme(t)}function r(){return null}return r}const mI=ts(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_N=ts(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),MN=ts(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ume=ts(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),AN=ts(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wme=ts(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pI=ts(["#text"]),gI=ts(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ON=ts(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xI=ts(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qx=ts(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gme=xi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yme=xi(/<%[\w\W]*|[\w\W]*%>/gm),Kme=xi(/\$\{[\w\W]*/gm),Xme=xi(/^data-[\-\w.\u00B7-\uFFFF]+$/),Jme=xi(/^aria-[\-\w]+$/),AU=xi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Qme=xi(/^(?:\w+script|data):/i),Zme=xi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),OU=xi(/^html$/i),epe=xi(/^[a-z][.\w]*(-[.\w]+)+$/i);var yI=Object.freeze({__proto__:null,ARIA_ATTR:Jme,ATTR_WHITESPACE:Zme,CUSTOM_ELEMENT:epe,DATA_ATTR:Xme,DOCTYPE_NAME:OU,ERB_EXPR:Yme,IS_ALLOWED_URI:AU,IS_SCRIPT_OR_DATA:Qme,MUSTACHE_EXPR:Gme,TMPLIT_EXPR:Kme});const Gm={element:1,text:3,progressingInstruction:7,comment:8,document:9},tpe=function(){return typeof window>"u"?null:window},rpe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},bI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function EU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tpe();const e=ze=>EU(ze);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==Gm.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,a=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:y}=t,w=c.prototype,j=Wm(w,"cloneNode"),v=Wm(w,"remove"),N=Wm(w,"nextSibling"),C=Wm(w,"childNodes"),S=Wm(w,"parentNode");if(typeof o=="function"){const ze=r.createElement("template");ze.content&&ze.content.ownerDocument&&(r=ze.content.ownerDocument)}let E,T="";const{implementation:A,createNodeIterator:O,createDocumentFragment:D,getElementsByTagName:$}=r,{importNode:L}=n;let I=bI();e.isSupported=typeof _U=="function"&&typeof S=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:H,TMPLIT_EXPR:G,DATA_ATTR:q,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:K}=yI;let{IS_ALLOWED_URI:te}=yI,U=null;const Q=hr({},[...mI,..._N,...MN,...AN,...pI]);let ie=null;const le=hr({},[...gI,...ON,...xI,...Qx]);let ce=Object.seal(MU(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ge=null,$e=null,Oe=!0,xe=!0,Ae=!1,Ve=!0,ee=!1,ae=!0,Z=!1,ve=!1,Ge=!1,Ke=!1,pe=!1,ot=!1,gt=!0,Re=!1;const ct="user-content-";let St=!0,ht=!1,Ft={},rt=null;const ke=hr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let tt=null;const Se=hr({},["audio","video","img","source","image","track"]);let ft=null;const xt=hr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wt="http://www.w3.org/1998/Math/MathML",we="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml";let Je=at,ne=!1,re=null;const Me=hr({},[wt,we,at],CN);let et=hr({},["mi","mo","mn","ms","mtext"]),pt=hr({},["annotation-xml"]);const ye=hr({},["title","style","font","a","script"]);let z=null;const ue=["application/xhtml+xml","text/html"],be="text/html";let Ne=null,Fe=null;const he=r.createElement("form"),de=function(oe){return oe instanceof RegExp||oe instanceof Function},se=function(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Fe&&Fe===oe)){if((!oe||typeof oe!="object")&&(oe={}),oe=Qo(oe),z=ue.indexOf(oe.PARSER_MEDIA_TYPE)===-1?be:oe.PARSER_MEDIA_TYPE,Ne=z==="application/xhtml+xml"?CN:Ky,U=Ai(oe,"ALLOWED_TAGS")?hr({},oe.ALLOWED_TAGS,Ne):Q,ie=Ai(oe,"ALLOWED_ATTR")?hr({},oe.ALLOWED_ATTR,Ne):le,re=Ai(oe,"ALLOWED_NAMESPACES")?hr({},oe.ALLOWED_NAMESPACES,CN):Me,ft=Ai(oe,"ADD_URI_SAFE_ATTR")?hr(Qo(xt),oe.ADD_URI_SAFE_ATTR,Ne):xt,tt=Ai(oe,"ADD_DATA_URI_TAGS")?hr(Qo(Se),oe.ADD_DATA_URI_TAGS,Ne):Se,rt=Ai(oe,"FORBID_CONTENTS")?hr({},oe.FORBID_CONTENTS,Ne):ke,ge=Ai(oe,"FORBID_TAGS")?hr({},oe.FORBID_TAGS,Ne):Qo({}),$e=Ai(oe,"FORBID_ATTR")?hr({},oe.FORBID_ATTR,Ne):Qo({}),Ft=Ai(oe,"USE_PROFILES")?oe.USE_PROFILES:!1,Oe=oe.ALLOW_ARIA_ATTR!==!1,xe=oe.ALLOW_DATA_ATTR!==!1,Ae=oe.ALLOW_UNKNOWN_PROTOCOLS||!1,Ve=oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=oe.SAFE_FOR_TEMPLATES||!1,ae=oe.SAFE_FOR_XML!==!1,Z=oe.WHOLE_DOCUMENT||!1,Ke=oe.RETURN_DOM||!1,pe=oe.RETURN_DOM_FRAGMENT||!1,ot=oe.RETURN_TRUSTED_TYPE||!1,Ge=oe.FORCE_BODY||!1,gt=oe.SANITIZE_DOM!==!1,Re=oe.SANITIZE_NAMED_PROPS||!1,St=oe.KEEP_CONTENT!==!1,ht=oe.IN_PLACE||!1,te=oe.ALLOWED_URI_REGEXP||AU,Je=oe.NAMESPACE||at,et=oe.MATHML_TEXT_INTEGRATION_POINTS||et,pt=oe.HTML_INTEGRATION_POINTS||pt,ce=oe.CUSTOM_ELEMENT_HANDLING||{},oe.CUSTOM_ELEMENT_HANDLING&&de(oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&de(oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),oe.CUSTOM_ELEMENT_HANDLING&&typeof oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(xe=!1),pe&&(Ke=!0),Ft&&(U=hr({},pI),ie=[],Ft.html===!0&&(hr(U,mI),hr(ie,gI)),Ft.svg===!0&&(hr(U,_N),hr(ie,ON),hr(ie,Qx)),Ft.svgFilters===!0&&(hr(U,MN),hr(ie,ON),hr(ie,Qx)),Ft.mathMl===!0&&(hr(U,AN),hr(ie,xI),hr(ie,Qx))),oe.ADD_TAGS&&(U===Q&&(U=Qo(U)),hr(U,oe.ADD_TAGS,Ne)),oe.ADD_ATTR&&(ie===le&&(ie=Qo(ie)),hr(ie,oe.ADD_ATTR,Ne)),oe.ADD_URI_SAFE_ATTR&&hr(ft,oe.ADD_URI_SAFE_ATTR,Ne),oe.FORBID_CONTENTS&&(rt===ke&&(rt=Qo(rt)),hr(rt,oe.FORBID_CONTENTS,Ne)),St&&(U["#text"]=!0),Z&&hr(U,["html","head","body"]),U.table&&(hr(U,["tbody"]),delete ge.tbody),oe.TRUSTED_TYPES_POLICY){if(typeof oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Um('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Um('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=oe.TRUSTED_TYPES_POLICY,T=E.createHTML("")}else E===void 0&&(E=rpe(y,a)),E!==null&&typeof T=="string"&&(T=E.createHTML(""));ts&&ts(oe),Fe=oe}},De=hr({},[..._N,...MN,...Ume]),Ye=hr({},[...AN,...Wme]),qe=function(oe){let Ze=S(oe);(!Ze||!Ze.tagName)&&(Ze={namespaceURI:Je,tagName:"template"});const bt=Ky(oe.tagName),lr=Ky(Ze.tagName);return re[oe.namespaceURI]?oe.namespaceURI===we?Ze.namespaceURI===at?bt==="svg":Ze.namespaceURI===wt?bt==="svg"&&(lr==="annotation-xml"||et[lr]):!!De[bt]:oe.namespaceURI===wt?Ze.namespaceURI===at?bt==="math":Ze.namespaceURI===we?bt==="math"&&pt[lr]:!!Ye[bt]:oe.namespaceURI===at?Ze.namespaceURI===we&&!pt[lr]||Ze.namespaceURI===wt&&!et[lr]?!1:!Ye[bt]&&(ye[bt]||!De[bt]):!!(z==="application/xhtml+xml"&&re[oe.namespaceURI]):!1},Ce=function(oe){Vm(e.removed,{element:oe});try{S(oe).removeChild(oe)}catch{v(oe)}},Be=function(oe,Ze){try{Vm(e.removed,{attribute:Ze.getAttributeNode(oe),from:Ze})}catch{Vm(e.removed,{attribute:null,from:Ze})}if(Ze.removeAttribute(oe),oe==="is")if(Ke||pe)try{Ce(Ze)}catch{}else try{Ze.setAttribute(oe,"")}catch{}},nt=function(oe){let Ze=null,bt=null;if(Ge)oe="<remove></remove>"+oe;else{const Cr=TN(oe,/^[\r\n\t ]+/);bt=Cr&&Cr[0]}z==="application/xhtml+xml"&&Je===at&&(oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+oe+"</body></html>");const lr=E?E.createHTML(oe):oe;if(Je===at)try{Ze=new g().parseFromString(lr,z)}catch{}if(!Ze||!Ze.documentElement){Ze=A.createDocument(Je,"template",null);try{Ze.documentElement.innerHTML=ne?T:lr}catch{}}const en=Ze.body||Ze.documentElement;return oe&&bt&&en.insertBefore(r.createTextNode(bt),en.childNodes[0]||null),Je===at?$.call(Ze,Z?"html":"body")[0]:Z?Ze.documentElement:en},Lt=function(oe){return O.call(oe.ownerDocument||oe,oe,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},br=function(oe){return oe instanceof m&&(typeof oe.nodeName!="string"||typeof oe.textContent!="string"||typeof oe.removeChild!="function"||!(oe.attributes instanceof h)||typeof oe.removeAttribute!="function"||typeof oe.setAttribute!="function"||typeof oe.namespaceURI!="string"||typeof oe.insertBefore!="function"||typeof oe.hasChildNodes!="function")},$r=function(oe){return typeof l=="function"&&oe instanceof l};function vt(ze,oe,Ze){Jx(ze,bt=>{bt.call(e,oe,Ze,Fe)})}const jr=function(oe){let Ze=null;if(vt(I.beforeSanitizeElements,oe,null),br(oe))return Ce(oe),!0;const bt=Ne(oe.nodeName);if(vt(I.uponSanitizeElement,oe,{tagName:bt,allowedTags:U}),ae&&oe.hasChildNodes()&&!$r(oe.firstElementChild)&&Wa(/<[/\w!]/g,oe.innerHTML)&&Wa(/<[/\w!]/g,oe.textContent)||oe.nodeType===Gm.progressingInstruction||ae&&oe.nodeType===Gm.comment&&Wa(/<[/\w]/g,oe.data))return Ce(oe),!0;if(!U[bt]||ge[bt]){if(!ge[bt]&&kr(bt)&&(ce.tagNameCheck instanceof RegExp&&Wa(ce.tagNameCheck,bt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(bt)))return!1;if(St&&!rt[bt]){const lr=S(oe)||oe.parentNode,en=C(oe)||oe.childNodes;if(en&&lr){const Cr=en.length;for(let cr=Cr-1;cr>=0;--cr){const va=j(en[cr],!0);va.__removalCount=(oe.__removalCount||0)+1,lr.insertBefore(va,N(oe))}}}return Ce(oe),!0}return oe instanceof c&&!qe(oe)||(bt==="noscript"||bt==="noembed"||bt==="noframes")&&Wa(/<\/no(script|embed|frames)/i,oe.innerHTML)?(Ce(oe),!0):(ee&&oe.nodeType===Gm.text&&(Ze=oe.textContent,Jx([R,H,G],lr=>{Ze=qm(Ze,lr," ")}),oe.textContent!==Ze&&(Vm(e.removed,{element:oe.cloneNode()}),oe.textContent=Ze)),vt(I.afterSanitizeElements,oe,null),!1)},Dt=function(oe,Ze,bt){if(gt&&(Ze==="id"||Ze==="name")&&(bt in r||bt in he))return!1;if(!(xe&&!$e[Ze]&&Wa(q,Ze))){if(!(Oe&&Wa(F,Ze))){if(!ie[Ze]||$e[Ze]){if(!(kr(oe)&&(ce.tagNameCheck instanceof RegExp&&Wa(ce.tagNameCheck,oe)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(oe))&&(ce.attributeNameCheck instanceof RegExp&&Wa(ce.attributeNameCheck,Ze)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(Ze,oe))||Ze==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&Wa(ce.tagNameCheck,bt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(bt))))return!1}else if(!ft[Ze]){if(!Wa(te,qm(bt,B,""))){if(!((Ze==="src"||Ze==="xlink:href"||Ze==="href")&&oe!=="script"&&Bme(bt,"data:")===0&&tt[oe])){if(!(Ae&&!Wa(P,qm(bt,B,"")))){if(bt)return!1}}}}}}return!0},kr=function(oe){return oe!=="annotation-xml"&&TN(oe,K)},_e=function(oe){vt(I.beforeSanitizeAttributes,oe,null);const{attributes:Ze}=oe;if(!Ze||br(oe))return;const bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let lr=Ze.length;for(;lr--;){const en=Ze[lr],{name:Cr,namespaceURI:cr,value:va}=en,cs=Ne(Cr),Pa=va;let Vr=Cr==="value"?Pa:zme(Pa);if(bt.attrName=cs,bt.attrValue=Vr,bt.keepAttr=!0,bt.forceKeepAttr=void 0,vt(I.uponSanitizeAttribute,oe,bt),Vr=bt.attrValue,Re&&(cs==="id"||cs==="name")&&(Be(Cr,oe),Vr=ct+Vr),ae&&Wa(/((--!?|])>)|<\/(style|title|textarea)/i,Vr)){Be(Cr,oe);continue}if(cs==="attributename"&&TN(Vr,"href")){Be(Cr,oe);continue}if(bt.forceKeepAttr)continue;if(!bt.keepAttr){Be(Cr,oe);continue}if(!Ve&&Wa(/\/>/i,Vr)){Be(Cr,oe);continue}ee&&Jx([R,H,G],qc=>{Vr=qm(Vr,qc," ")});const Il=Ne(oe.nodeName);if(!Dt(Il,cs,Vr)){Be(Cr,oe);continue}if(E&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!cr)switch(y.getAttributeType(Il,cs)){case"TrustedHTML":{Vr=E.createHTML(Vr);break}case"TrustedScriptURL":{Vr=E.createScriptURL(Vr);break}}if(Vr!==Pa)try{cr?oe.setAttributeNS(cr,Cr,Vr):oe.setAttribute(Cr,Vr),br(oe)?Ce(oe):hI(e.removed)}catch{Be(Cr,oe)}}vt(I.afterSanitizeAttributes,oe,null)},Le=function ze(oe){let Ze=null;const bt=Lt(oe);for(vt(I.beforeSanitizeShadowDOM,oe,null);Ze=bt.nextNode();)vt(I.uponSanitizeShadowNode,Ze,null),jr(Ze),_e(Ze),Ze.content instanceof i&&ze(Ze.content);vt(I.afterSanitizeShadowDOM,oe,null)};return e.sanitize=function(ze){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ze=null,bt=null,lr=null,en=null;if(ne=!ze,ne&&(ze="<!-->"),typeof ze!="string"&&!$r(ze))if(typeof ze.toString=="function"){if(ze=ze.toString(),typeof ze!="string")throw Um("dirty is not a string, aborting")}else throw Um("toString is not a function");if(!e.isSupported)return ze;if(ve||se(oe),e.removed=[],typeof ze=="string"&&(ht=!1),ht){if(ze.nodeName){const va=Ne(ze.nodeName);if(!U[va]||ge[va])throw Um("root node is forbidden and cannot be sanitized in-place")}}else if(ze instanceof l)Ze=nt("<!---->"),bt=Ze.ownerDocument.importNode(ze,!0),bt.nodeType===Gm.element&&bt.nodeName==="BODY"||bt.nodeName==="HTML"?Ze=bt:Ze.appendChild(bt);else{if(!Ke&&!ee&&!Z&&ze.indexOf("<")===-1)return E&&ot?E.createHTML(ze):ze;if(Ze=nt(ze),!Ze)return Ke?null:ot?T:""}Ze&&Ge&&Ce(Ze.firstChild);const Cr=Lt(ht?ze:Ze);for(;lr=Cr.nextNode();)jr(lr),_e(lr),lr.content instanceof i&&Le(lr.content);if(ht)return ze;if(Ke){if(pe)for(en=D.call(Ze.ownerDocument);Ze.firstChild;)en.appendChild(Ze.firstChild);else en=Ze;return(ie.shadowroot||ie.shadowrootmode)&&(en=L.call(n,en,!0)),en}let cr=Z?Ze.outerHTML:Ze.innerHTML;return Z&&U["!doctype"]&&Ze.ownerDocument&&Ze.ownerDocument.doctype&&Ze.ownerDocument.doctype.name&&Wa(OU,Ze.ownerDocument.doctype.name)&&(cr="<!DOCTYPE "+Ze.ownerDocument.doctype.name+`>
`+cr),ee&&Jx([R,H,G],va=>{cr=qm(cr,va," ")}),E&&ot?E.createHTML(cr):cr},e.setConfig=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};se(ze),ve=!0},e.clearConfig=function(){Fe=null,ve=!1},e.isValidAttribute=function(ze,oe,Ze){Fe||se({});const bt=Ne(ze),lr=Ne(oe);return Dt(bt,lr,Ze)},e.addHook=function(ze,oe){typeof oe=="function"&&Vm(I[ze],oe)},e.removeHook=function(ze,oe){if(oe!==void 0){const Ze=Fme(I[ze],oe);return Ze===-1?void 0:Hme(I[ze],Ze,1)[0]}return hI(I[ze])},e.removeHooks=function(ze){I[ze]=[]},e.removeAllHooks=function(){I=bI()},e}var Al=EU();function npe(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const Zx=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},vI=({isOpen:t,onClose:e,title:r,children:n,className:a,maxWidth:i="max-w-xl"})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${a||"w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),a5=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const a=t*60+e,i=r*60+n;let o=Math.abs(i-a);return o>720&&(o=1440-o),o},s5=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},ape=({record:t,onClose:e})=>{const r=(m,g)=>{if(m==null||g===null||g===void 0)return"-";const y=m.toString().padStart(2,"0"),w=g.toString().padStart(2,"0");return`${y}:${w}`},n=m=>m==null?"-":typeof m=="object"?m.name||JSON.stringify(m):typeof m=="string"?m.trim()!==""?m.trim():"-":typeof m=="number"?m.toLocaleString("id-ID"):String(m),a=a5(t.stopJam,t.stopMenit,t.startJam,t.startMenit),i=s5(a),o=({status:m})=>{const g={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},l=({activity:m})=>{const g={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},c=({title:m,children:g,icon:y})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[y&&s.jsx("div",{className:"mr-3 text-blue-600",children:y}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m})]})}),s.jsx("div",{className:"p-6",children:g})]}),d=({label:m,value:g,icon:y,fullWidth:w=!1,priority:j="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${w?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${v[j]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[y&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:y}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:m}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:g})]})]})})})},h=({label:m,htmlContent:g,icon:y,fullWidth:w=!1})=>{if(!g)return s.jsx(d,{label:m,value:"-",icon:y,fullWidth:w,priority:"low"});const j=Al.sanitize(g,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return s.jsx("div",{className:`${w?"col-span-full":""}`,children:s.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[y&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:y}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:m}),s.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:j}})]})]})})})};return s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),s.jsx(l,{activity:t.perbaikanPerawatan}),s.jsx(o,{status:t.stopTime})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"w-4 h-4"}),"Duration: ",n(i)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(hn,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),s.jsx(c,{title:"Basic Information",icon:s.jsx(ir,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(d,{label:"Date",value:n(t.date),icon:s.jsx(pa,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Shift",value:n(t.shift),icon:s.jsx(It,{className:"w-4 h-4"})}),s.jsx(d,{label:"Group",value:n(t.group),icon:s.jsx(ia,{className:"w-4 h-4"})}),s.jsx(d,{label:"Machine",value:n(t.mesin),icon:s.jsx(An,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Unit",value:n(t.unit),icon:s.jsx(ma,{className:"w-4 h-4"})}),s.jsx(d,{label:"Running Hour",value:n(t.runningHour),icon:s.jsx(It,{className:"w-4 h-4"})})]})}),s.jsx(c,{title:"Time Details",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(d,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Duration",value:n(i),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Stop Type",value:n(t.stopTime),icon:s.jsx(Zt,{className:"w-4 h-4"})})]})}),s.jsx(c,{title:"Issue & Problem Details",icon:s.jsx(Zt,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(d,{label:"Item Trouble",value:n(t.itemTrouble),icon:s.jsx(hn,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Issue Description",value:n(t.jenisGangguan),icon:s.jsx(Zt,{className:"w-4 h-4"}),priority:"high"}),s.jsx(h,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:s.jsx(Ht,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(d,{label:"Root Cause",value:n(t.rootCause),icon:s.jsx(Bn,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(c,{title:"Maintenance Activity",icon:s.jsx(hn,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(d,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:s.jsx(An,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:s.jsx(hn,{className:"w-4 h-4"})}),s.jsx(d,{label:"Kegiatan",value:n(t.kegiatan),icon:s.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(c,{title:"Spare Parts Used",icon:s.jsx(ma,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(d,{label:"Part Code",value:n(t.kodePart),icon:s.jsx(ma,{className:"w-4 h-4"})}),s.jsx(d,{label:"Part Name",value:n(t.sparePart),icon:s.jsx(ma,{className:"w-4 h-4"}),priority:"high"}),s.jsx(d,{label:"ID Part",value:n(t.idPart),icon:s.jsx(Bf,{className:"w-4 h-4"})}),s.jsx(d,{label:"Quantity",value:n(t.jumlah),icon:s.jsx(Fi,{className:"w-4 h-4"})}),s.jsx(d,{label:"Unit",value:n(t.unitSparePart),icon:s.jsx(ma,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(c,{title:"Event Timeline",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),s.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),s.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),s.jsx("span",{className:"text-sm text-green-600",children:n(i)})]})]})}),s.jsx(c,{title:"Technical Summary",icon:s.jsx(Fi,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),s.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(i)," downtime"]})]})]})}),s.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:s.jsx(_.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},spe=()=>{const[t,e]=x.useState(()=>{const _e=localStorage.getItem("sidebarOpen");return _e?JSON.parse(_e):!1}),[r,n]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState([]),[c,d]=x.useState([]),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(1),[C]=x.useState(10),{user:S,getMachineHistories:E,deleteMachineHistory:T,isAuthenticated:A,isMasterDataLoading:O,hasPermission:D}=Ct(),[$,L]=x.useState([]),[I,R]=x.useState([]),[H,G]=x.useState(!0),[q,F]=x.useState(null),[P,B]=x.useState([]),K=Nt(),[te,U]=x.useState(window.innerWidth<768),[Q,ie]=x.useState(!1),[le,ce]=x.useState(null),[ge,$e]=x.useState(null),[Oe,xe]=x.useState(null),[Ae,Ve]=x.useState([]),[ee,ae]=x.useState(!1),[Z,ve]=x.useState(!1),Ge=x.useRef(null),Ke=x.useRef(null),[pe,ot]=x.useState({key:"date",direction:"descending"}),[gt,Re]=x.useState(!1),ct=x.useRef(null),St=x.useRef(null),[ht,Ft]=x.useState(!1),[rt,ke]=x.useState(!1),[tt,Se]=x.useState(null),[ft,xt]=x.useState(!1),wt=x.useRef(null),[we,at]=x.useState(!1),Je=x.useRef(null),ne=location.pathname==="/machinehistory",re=location.pathname==="/machinehistory/reports",Me=npe(r,300),et=x.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),pt=x.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),ye=x.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),z=x.useCallback(async()=>{try{G(!0);const _e=await E();L(_e||[]),R(_e||[]);const Le=Array.from(new Set(_e.map(ze=>ze.mesin))).filter(Boolean).map(ze=>({id:ze,name:ze}));B(Le)}catch(_e){console.error("Failed to load data:",_e),L([]),B([])}finally{G(!1)}},[E]),ue=_e=>{const Le=_e.target.value;n(Le)};x.useEffect(()=>{N(1)},[]),x.useEffect(()=>{z()},[z]),x.useEffect(()=>{let _e=[...$];if(Me.trim()){const Le=Me.toLowerCase().trim();_e=_e.filter(ze=>{var va,cs,Pa,Vr;const oe=Le.split(":");let Ze="all",bt=Le;oe.length>1&&et.some(Il=>Il.name.toLowerCase()===oe[0].trim())&&(Ze=oe[0].trim(),bt=oe.slice(1).join(":").trim());const lr=(va=ze.mesin)==null?void 0:va.toLowerCase().includes(bt),en=(cs=ze.jenisGangguan)==null?void 0:cs.toLowerCase().includes(bt),Cr=(Pa=ze.id)==null?void 0:Pa.toLowerCase().includes(bt),cr=(Vr=ze.itemTrouble)==null?void 0:Vr.toLowerCase().includes(bt);return Ze==="machine name"?lr:Ze==="issue description"?en:Ze==="record id"?Cr:Ze==="item trouble"?cr:lr||en||Cr||cr})}if(ge){const Le=new Date(ge);Le.setHours(0,0,0,0),_e=_e.filter(ze=>{const oe=new Date(ze.date);return oe.setHours(0,0,0,0),oe>=Le})}if(Oe){const Le=new Date(Oe);Le.setHours(23,59,59,999),_e=_e.filter(ze=>{const oe=new Date(ze.date);return oe.setHours(0,0,0,0),oe<=Le})}o.length>0&&(_e=_e.filter(Le=>o.includes(Le.perbaikanPerawatan))),c.length>0&&(_e=_e.filter(Le=>c.includes(Le.mesin))),Ae.length>0&&(_e=_e.filter(Le=>Ae.includes(Le.shift))),pe!==null&&_e.sort((Le,ze)=>{const oe=he(Le[pe.key]),Ze=he(ze[pe.key]);return oe<Ze?pe.direction==="ascending"?-1:1:oe>Ze?pe.direction==="ascending"?1:-1:0}),R(_e)},[$,Me,ge,Oe,o,c,Ae,pe,et,pt,ye]),x.useEffect(()=>{const _e=()=>{U(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]),x.useEffect(()=>{const _e=Le=>{Ge.current&&!Ge.current.contains(Le.target)&&ae(!1),Ke.current&&!Ke.current.contains(Le.target)&&ve(!1),ct.current&&!ct.current.contains(Le.target)&&!Le.target.closest(".search-suggestions")&&Re(!1),St.current&&!St.current.contains(Le.target)&&!Le.target.closest(".machine-filter-toggle")&&Ft(!1),wt.current&&!wt.current.contains(Le.target)&&!Le.target.closest(".status-filter-toggle")&&xt(!1),Je.current&&!Je.current.contains(Le.target)&&!Le.target.closest(".shift-filter-toggle")&&at(!1)};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[]);const be=X.useMemo(()=>{if(!r)return et;const _e=r.toLowerCase();return et.filter(Le=>Le.name.toLowerCase().includes(_e))},[r,et]),Ne=_e=>{var Le;n(`${_e}: `),Re(!1),(Le=ct.current)==null||Le.focus()},Fe=_e=>{let Le="ascending";pe&&pe.key===_e&&pe.direction==="ascending"&&(Le="descending"),ot({key:_e,direction:Le})},he=_e=>typeof _e=="object"&&_e!==null?_e.name||_e.toString():(_e==null?void 0:_e.toString())||"",de=async _e=>{try{await T(_e),L($.filter(Le=>Le.id!==_e)),ie(!1),ce(null)}catch(Le){console.error("Failed to delete record:",Le),F("Failed to delete record. Please try again.")}},se=v*C,De=se-C,Ye=I.slice(De,se),qe=Math.ceil(I.length/C),Ce=_e=>N(_e),Be=(_e,Le)=>{if(_e==null||Le===null||Le===void 0)return"-";const ze=_e.toString().padStart(2,"0"),oe=Le.toString().padStart(2,"0");return`${ze}:${oe}`},nt=_e=>{const Le=a5(_e.stopJam,_e.stopMenit,_e.startJam,_e.startMenit);return s5(Le)},Lt=_e=>{switch((_e||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},br=(_e,Le)=>{d(Le?ze=>[...ze,_e]:ze=>ze.filter(oe=>oe!==_e))},$r=(_e,Le)=>{l(Le?ze=>[...ze,_e]:ze=>ze.filter(oe=>oe!==_e))},vt=(_e,Le)=>{Ve(Le?ze=>[...ze,_e]:ze=>ze.filter(oe=>oe!==_e))},jr=()=>{alert("Import functionality is not yet implemented.")},Dt=_e=>{j(_e),y(!0)},kr=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(_e=>!_e)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(eg,{}),isMobile:te,toggleSidebar:kr}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>K("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>K("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${re?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",s.jsx("span",{className:"text-blue-600",children:"Records"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[D("create_machine_history")&&s.jsxs(_.button,{onClick:()=>K("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Record"})]}),s.jsxs(_.button,{onClick:jr,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:h?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Zx,{title:"Total Records",value:I.length.toLocaleString("id-ID"),change:"+8%",icon:s.jsx(ir,{})}),s.jsx(Zx,{title:"Avg Durationtime",value:I.length>0?s5(Math.round(I.reduce((_e,Le)=>{const ze=a5(Le.stopJam,Le.stopMenit,Le.startJam,Le.startMenit)||0;return _e+ze},0)/I.length)):"0min",change:"-5%",icon:s.jsx(It,{})}),s.jsx(Zx,{title:"Repairs",value:I.filter(_e=>_e.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:s.jsx(hn,{})}),s.jsx(Zx,{title:"Maintenance",value:I.filter(_e=>_e.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:s.jsx(Ht,{})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:ct,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:ue,onFocus:()=>Re(!0),"aria-label":"Search records"}),s.jsx(Mt,{children:gt&&be.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:be.map(_e=>s.jsx(_.button,{onClick:()=>Ne(_e.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:_e.name})},_e.id))})})]})}),s.jsx(Mt,{children:h&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[s.jsx(pa,{className:"text-gray-500 text-base"}),s.jsx(Xf,{selected:ge,onChange:_e=>$e(_e),selectsStart:!0,startDate:ge,endDate:Oe,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),s.jsx("span",{className:"text-gray-400",children:"-"}),s.jsx(Xf,{selected:Oe,onChange:_e=>xe(_e),selectsEnd:!0,startDate:ge,endDate:Oe,minDate:ge||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(ge||Oe)&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{$e(null),xe(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:s.jsx(dt,{className:"text-base"})})]}),s.jsxs("div",{ref:wt,className:"relative w-full",children:[s.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:_e=>{_e.stopPropagation(),xt(!ft)},"aria-expanded":ft,"aria-haspopup":"true","aria-label":"Filter by Type",children:[s.jsx("span",{children:o.length>0?o.length===pt.length?"All Types":`Selected (${o.length})`:"All Types"}),s.jsx(jn,{className:`transform transition-transform ${ft?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),s.jsx(Mt,{children:ft&&s.jsxs(_.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[s.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===pt.length&&pt.length>0,onChange:_e=>{_e.target.checked?l(pt.map(Le=>Le.value)):l([])}}),s.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),pt.map(_e=>s.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(_e.value),onChange:Le=>$r(_e.value,Le.target.checked)}),s.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.label})]},_e.value))]})})]}),s.jsxs("div",{ref:St,className:"relative w-full",children:[s.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>Ft(!ht),"aria-expanded":ht,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[s.jsx("span",{children:c.length>0?c.length===P.length&&P.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),s.jsx(jn,{className:`transform transition-transform ${ht?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),s.jsx(Mt,{children:ht&&s.jsxs(_.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[s.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===P.length&&P.length>0,onChange:_e=>{_e.target.checked?d(P.map(Le=>Le.name)):d([])}}),s.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),P.map(_e=>s.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(_e.name),onChange:Le=>br(_e.name,Le.target.checked)}),s.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.name})]},_e.id))]})})]}),s.jsxs("div",{ref:Je,className:"relative w-full",children:[s.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:_e=>{_e.stopPropagation(),at(!we)},"aria-expanded":we,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[s.jsx("span",{children:Ae.length>0?Ae.length===ye.length?"All Shifts":`Selected (${Ae.length})`:"All Shifts"}),s.jsx(jn,{className:`transform transition-transform ${we?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),s.jsx(Mt,{children:we&&s.jsxs(_.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[s.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ae.length===ye.length&&ye.length>0,onChange:_e=>{_e.target.checked?Ve(ye.map(Le=>Le.value)):Ve([])}}),s.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ye.map(_e=>s.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[s.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ae.includes(_e.value),onChange:Le=>vt(_e.value,Le.target.checked)}),s.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.label})]},_e.value))]})})]})]})})]}),H?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):I.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Ma,{className:"text-blue-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:Me||o.length>0||c.length>0||ge||Oe||Ae.length>0?"No records found matching your filters.":"No records available."}),(Me||o.length>0||c.length>0||ge||Oe||Ae.length>0)&&s.jsx("button",{onClick:()=>{n(""),l([]),d([]),$e(null),xe(null),Ve([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Fe("date"),children:["Date",(pe==null?void 0:pe.key)==="date"&&s.jsx("span",{className:"ml-1",children:pe.direction==="ascending"?"↑":"↓"})]}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ye.map(_e=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.date}),s.jsxs("div",{className:"text-xs text-gray-600",children:[Be(_e.stopJam,_e.stopMenit)," - ",Be(_e.startJam,_e.startMenit)]})]}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.mesin}),s.jsx("div",{className:"text-xs text-gray-600",children:_e.unit})]}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",_e.shift,", Group ",_e.group]})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:nt(_e)})}),s.jsxs("td",{className:"px-5 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.itemTrouble}),s.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:_e.jenisGangguan})]}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx(_.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Lt(_e.stopTime)}`,children:_e.stopTime})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(`/machinehistory/edit/${_e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${_e.mesin} on ${_e.date}`,children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ce(_e.id),ie(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${_e.mesin} on ${_e.date}`,children:s.jsx(yn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Dt(_e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${_e.mesin} on ${_e.date}`,children:s.jsx(es,{className:"inline text-base"})})]})]},_e.id))})]})})}),I.length>C&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold",children:De+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(se,I.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:I.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ce(v-1),disabled:v===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:qe},(_e,Le)=>s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ce(Le+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${v===Le+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Le+1}`,children:Le+1},Le+1)),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ce(v+1),disabled:v===qe,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),w&&s.jsx(vI,{isOpen:g,onClose:()=>{y(!1),j(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:s.jsx(ape,{record:w,onClose:()=>y(!1)})}),s.jsx(vI,{isOpen:Q,onClose:()=>ie(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ie(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le&&de(le),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function ipe(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DU(t){var e=ipe(t,"string");return Ku(e)=="symbol"?e:e+""}function up(t,e,r){return(e=DU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(r),!0).forEach(function(n){up(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t){if(Array.isArray(t))return t}function lpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function PU(t,e){if(t){if(typeof t=="string")return i5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i5(t,e):void 0}}function cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ml(t,e){return ope(t)||lpe(t,e)||PU(t,e)||cpe()}function upe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _o(t,e){if(t==null)return{};var r,n,a=upe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var dpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function RU(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,d=t.onChange,h=t.onInputChange,m=t.onMenuClose,g=t.onMenuOpen,y=t.value,w=_o(t,dpe),j=x.useState(l!==void 0?l:r),v=ml(j,2),N=v[0],C=v[1],S=x.useState(c!==void 0?c:a),E=ml(S,2),T=E[0],A=E[1],O=x.useState(y!==void 0?y:o),D=ml(O,2),$=D[0],L=D[1],I=x.useCallback(function(B,K){typeof d=="function"&&d(B,K),L(B)},[d]),R=x.useCallback(function(B,K){var te;typeof h=="function"&&(te=h(B,K)),C(te!==void 0?te:B)},[h]),H=x.useCallback(function(){typeof g=="function"&&g(),A(!0)},[g]),G=x.useCallback(function(){typeof m=="function"&&m(),A(!1)},[m]),q=l!==void 0?l:N,F=c!==void 0?c:T,P=y!==void 0?y:$;return qt(qt({},w),{},{inputValue:q,menuIsOpen:F,onChange:I,onInputChange:R,onMenuClose:G,onMenuOpen:H,value:P})}function Yt(){return Yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yt.apply(null,arguments)}function fpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DU(n.key),n)}}function hpe(t,e,r){return e&&jI(t.prototype,e),r&&jI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},o5(t,e)}function mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ob(t)}function IU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!t})()}function ppe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gpe(t,e){if(e&&(Ku(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ppe(t)}function xpe(t){var e=IU();return function(){var r,n=Ob(t);if(e){var a=Ob(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return gpe(this,r)}}function ype(t){if(Array.isArray(t))return i5(t)}function bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _f(t){return ype(t)||bpe(t)||PU(t)||vpe()}function wpe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function jpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Spe=(function(){function t(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jpe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=wpe(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t})(),Ia="-ms-",Eb="-moz-",Rr="-webkit-",LU="comm",pO="rule",gO="decl",Npe="@import",$U="@keyframes",kpe="@layer",Cpe=Math.abs,Hw=String.fromCharCode,Tpe=Object.assign;function _pe(t,e){return _a(t,0)^45?(((e<<2^_a(t,0))<<2^_a(t,1))<<2^_a(t,2))<<2^_a(t,3):0}function FU(t){return t.trim()}function Mpe(t,e){return(t=e.exec(t))?t[0]:t}function Ir(t,e,r){return t.replace(e,r)}function l5(t,e){return t.indexOf(e)}function _a(t,e){return t.charCodeAt(e)|0}function Jp(t,e,r){return t.slice(e,r)}function no(t){return t.length}function xO(t){return t.length}function ey(t,e){return e.push(t),t}function Ape(t,e){return t.map(e).join("")}var Bw=1,Jf=1,HU=0,js=0,Yn=0,Rh="";function zw(t,e,r,n,a,i,o){return{value:t,root:e,parent:r,type:n,props:a,children:i,line:Bw,column:Jf,length:o,return:""}}function Ym(t,e){return Tpe(zw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ope(){return Yn}function Epe(){return Yn=js>0?_a(Rh,--js):0,Jf--,Yn===10&&(Jf=1,Bw--),Yn}function $s(){return Yn=js<HU?_a(Rh,js++):0,Jf++,Yn===10&&(Jf=1,Bw++),Yn}function mo(){return _a(Rh,js)}function Xy(){return js}function og(t,e){return Jp(Rh,t,e)}function Qp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function BU(t){return Bw=Jf=1,HU=no(Rh=t),js=0,[]}function zU(t){return Rh="",t}function Jy(t){return FU(og(js-1,c5(t===91?t+2:t===40?t+1:t)))}function Dpe(t){for(;(Yn=mo())&&Yn<33;)$s();return Qp(t)>2||Qp(Yn)>3?"":" "}function Ppe(t,e){for(;--e&&$s()&&!(Yn<48||Yn>102||Yn>57&&Yn<65||Yn>70&&Yn<97););return og(t,Xy()+(e<6&&mo()==32&&$s()==32))}function c5(t){for(;$s();)switch(Yn){case t:return js;case 34:case 39:t!==34&&t!==39&&c5(Yn);break;case 40:t===41&&c5(t);break;case 92:$s();break}return js}function Rpe(t,e){for(;$s()&&t+Yn!==57;)if(t+Yn===84&&mo()===47)break;return"/*"+og(e,js-1)+"*"+Hw(t===47?t:$s())}function Ipe(t){for(;!Qp(mo());)$s();return og(t,js)}function Lpe(t){return zU(Qy("",null,null,null,[""],t=BU(t),0,[0],t))}function Qy(t,e,r,n,a,i,o,l,c){for(var d=0,h=0,m=o,g=0,y=0,w=0,j=1,v=1,N=1,C=0,S="",E=a,T=i,A=n,O=S;v;)switch(w=C,C=$s()){case 40:if(w!=108&&_a(O,m-1)==58){l5(O+=Ir(Jy(C),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:O+=Jy(C);break;case 9:case 10:case 13:case 32:O+=Dpe(w);break;case 92:O+=Ppe(Xy()-1,7);continue;case 47:switch(mo()){case 42:case 47:ey($pe(Rpe($s(),Xy()),e,r),c);break;default:O+="/"}break;case 123*j:l[d++]=no(O)*N;case 125*j:case 59:case 0:switch(C){case 0:case 125:v=0;case 59+h:N==-1&&(O=Ir(O,/\f/g,"")),y>0&&no(O)-m&&ey(y>32?NI(O+";",n,r,m-1):NI(Ir(O," ","")+";",n,r,m-2),c);break;case 59:O+=";";default:if(ey(A=SI(O,e,r,d,h,a,l,S,E=[],T=[],m),i),C===123)if(h===0)Qy(O,e,A,A,E,i,m,l,T);else switch(g===99&&_a(O,3)===110?100:g){case 100:case 108:case 109:case 115:Qy(t,A,A,n&&ey(SI(t,A,A,0,0,a,l,S,a,E=[],m),T),a,T,m,l,n?E:T);break;default:Qy(O,A,A,A,[""],T,0,l,T)}}d=h=y=0,j=N=1,S=O="",m=o;break;case 58:m=1+no(O),y=w;default:if(j<1){if(C==123)--j;else if(C==125&&j++==0&&Epe()==125)continue}switch(O+=Hw(C),C*j){case 38:N=h>0?1:(O+="\f",-1);break;case 44:l[d++]=(no(O)-1)*N,N=1;break;case 64:mo()===45&&(O+=Jy($s())),g=mo(),h=m=no(S=O+=Ipe(Xy())),C++;break;case 45:w===45&&no(O)==2&&(j=0)}}return i}function SI(t,e,r,n,a,i,o,l,c,d,h){for(var m=a-1,g=a===0?i:[""],y=xO(g),w=0,j=0,v=0;w<n;++w)for(var N=0,C=Jp(t,m+1,m=Cpe(j=o[w])),S=t;N<y;++N)(S=FU(j>0?g[N]+" "+C:Ir(C,/&\f/g,g[N])))&&(c[v++]=S);return zw(t,e,r,a===0?pO:l,c,d,h)}function $pe(t,e,r){return zw(t,e,r,LU,Hw(Ope()),Jp(t,2,-2),0)}function NI(t,e,r,n){return zw(t,e,r,gO,Jp(t,0,n),Jp(t,n+1,-1),n)}function Mf(t,e){for(var r="",n=xO(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function Fpe(t,e,r,n){switch(t.type){case kpe:if(t.children.length)break;case Npe:case gO:return t.return=t.return||t.value;case LU:return"";case $U:return t.return=t.value+"{"+Mf(t.children,n)+"}";case pO:t.value=t.props.join(",")}return no(r=Mf(t.children,n))?t.return=t.value+"{"+r+"}":""}function Hpe(t){var e=xO(t);return function(r,n,a,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,a,i)||"";return o}}function Bpe(t){return function(e){e.root||(e=e.return)&&t(e)}}function zpe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Vpe=function(e,r,n){for(var a=0,i=0;a=i,i=mo(),a===38&&i===12&&(r[n]=1),!Qp(i);)$s();return og(e,js)},qpe=function(e,r){var n=-1,a=44;do switch(Qp(a)){case 0:a===38&&mo()===12&&(r[n]=1),e[n]+=Vpe(js-1,r,n);break;case 2:e[n]+=Jy(a);break;case 4:if(a===44){e[++n]=mo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Hw(a)}while(a=$s());return e},Upe=function(e,r){return zU(qpe(BU(e),r))},kI=new WeakMap,Wpe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!kI.get(n))&&!a){kI.set(e,!0);for(var i=[],o=Upe(r,i),l=n.props,c=0,d=0;c<o.length;c++)for(var h=0;h<l.length;h++,d++)e.props[d]=i[c]?o[c].replace(/&\f/g,l[h]):l[h]+" "+o[c]}}},Gpe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function VU(t,e){switch(_pe(t,e)){case 5103:return Rr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Rr+t+Eb+t+Ia+t+t;case 6828:case 4268:return Rr+t+Ia+t+t;case 6165:return Rr+t+Ia+"flex-"+t+t;case 5187:return Rr+t+Ir(t,/(\w+).+(:[^]+)/,Rr+"box-$1$2"+Ia+"flex-$1$2")+t;case 5443:return Rr+t+Ia+"flex-item-"+Ir(t,/flex-|-self/,"")+t;case 4675:return Rr+t+Ia+"flex-line-pack"+Ir(t,/align-content|flex-|-self/,"")+t;case 5548:return Rr+t+Ia+Ir(t,"shrink","negative")+t;case 5292:return Rr+t+Ia+Ir(t,"basis","preferred-size")+t;case 6060:return Rr+"box-"+Ir(t,"-grow","")+Rr+t+Ia+Ir(t,"grow","positive")+t;case 4554:return Rr+Ir(t,/([^-])(transform)/g,"$1"+Rr+"$2")+t;case 6187:return Ir(Ir(Ir(t,/(zoom-|grab)/,Rr+"$1"),/(image-set)/,Rr+"$1"),t,"")+t;case 5495:case 3959:return Ir(t,/(image-set\([^]*)/,Rr+"$1$`$1");case 4968:return Ir(Ir(t,/(.+:)(flex-)?(.*)/,Rr+"box-pack:$3"+Ia+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rr+t+t;case 4095:case 3583:case 4068:case 2532:return Ir(t,/(.+)-inline(.+)/,Rr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(no(t)-1-e>6)switch(_a(t,e+1)){case 109:if(_a(t,e+4)!==45)break;case 102:return Ir(t,/(.+:)(.+)-([^]+)/,"$1"+Rr+"$2-$3$1"+Eb+(_a(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~l5(t,"stretch")?VU(Ir(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(_a(t,e+1)!==115)break;case 6444:switch(_a(t,no(t)-3-(~l5(t,"!important")&&10))){case 107:return Ir(t,":",":"+Rr)+t;case 101:return Ir(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rr+(_a(t,14)===45?"inline-":"")+"box$3$1"+Rr+"$2$3$1"+Ia+"$2box$3")+t}break;case 5936:switch(_a(t,e+11)){case 114:return Rr+t+Ia+Ir(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Rr+t+Ia+Ir(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Rr+t+Ia+Ir(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Rr+t+Ia+t+t}return t}var Ype=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case gO:e.return=VU(e.value,e.length);break;case $U:return Mf([Ym(e,{value:Ir(e.value,"@","@"+Rr)})],a);case pO:if(e.length)return Ape(e.props,function(i){switch(Mpe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mf([Ym(e,{props:[Ir(i,/:(read-\w+)/,":"+Eb+"$1")]})],a);case"::placeholder":return Mf([Ym(e,{props:[Ir(i,/:(plac\w+)/,":"+Rr+"input-$1")]}),Ym(e,{props:[Ir(i,/:(plac\w+)/,":"+Eb+"$1")]}),Ym(e,{props:[Ir(i,/:(plac\w+)/,Ia+"input-$1")]})],a)}return""})}},Kpe=[Ype],Xpe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(j){var v=j.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var a=e.stylisPlugins||Kpe,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(j){for(var v=j.getAttribute("data-emotion").split(" "),N=1;N<v.length;N++)i[v[N]]=!0;l.push(j)});var c,d=[Wpe,Gpe];{var h,m=[Fpe,Bpe(function(j){h.insert(j)})],g=Hpe(d.concat(a,m)),y=function(v){return Mf(Lpe(v),g)};c=function(v,N,C,S){h=C,y(v?v+"{"+N.styles+"}":N.styles),S&&(w.inserted[N.name]=!0)}}var w={key:r,sheet:new Spe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return w.sheet.hydrate(l),w},EN={exports:{}},Fr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function Jpe(){if(CI)return Fr;CI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,j=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function S(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case e:switch(T=T.type,T){case c:case d:case n:case i:case a:case m:return T;default:switch(T=T&&T.$$typeof,T){case l:case h:case w:case y:case o:return T;default:return A}}case r:return A}}}function E(T){return S(T)===d}return Fr.AsyncMode=c,Fr.ConcurrentMode=d,Fr.ContextConsumer=l,Fr.ContextProvider=o,Fr.Element=e,Fr.ForwardRef=h,Fr.Fragment=n,Fr.Lazy=w,Fr.Memo=y,Fr.Portal=r,Fr.Profiler=i,Fr.StrictMode=a,Fr.Suspense=m,Fr.isAsyncMode=function(T){return E(T)||S(T)===c},Fr.isConcurrentMode=E,Fr.isContextConsumer=function(T){return S(T)===l},Fr.isContextProvider=function(T){return S(T)===o},Fr.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},Fr.isForwardRef=function(T){return S(T)===h},Fr.isFragment=function(T){return S(T)===n},Fr.isLazy=function(T){return S(T)===w},Fr.isMemo=function(T){return S(T)===y},Fr.isPortal=function(T){return S(T)===r},Fr.isProfiler=function(T){return S(T)===i},Fr.isStrictMode=function(T){return S(T)===a},Fr.isSuspense=function(T){return S(T)===m},Fr.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===d||T===i||T===a||T===m||T===g||typeof T=="object"&&T!==null&&(T.$$typeof===w||T.$$typeof===y||T.$$typeof===o||T.$$typeof===l||T.$$typeof===h||T.$$typeof===v||T.$$typeof===N||T.$$typeof===C||T.$$typeof===j)},Fr.typeOf=S,Fr}var TI;function Qpe(){return TI||(TI=1,EN.exports=Jpe()),EN.exports}var DN,_I;function Zpe(){if(_I)return DN;_I=1;var t=Qpe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=a;function o(w){return t.isMemo(w)?a:i[w.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function y(w,j,v){if(typeof j!="string"){if(g){var N=m(j);N&&N!==g&&y(w,N,v)}var C=c(j);d&&(C=C.concat(d(j)));for(var S=o(w),E=o(j),T=0;T<C.length;++T){var A=C[T];if(!r[A]&&!(v&&v[A])&&!(E&&E[A])&&!(S&&S[A])){var O=h(j,A);try{l(w,A,O)}catch{}}}}return w}return DN=y,DN}Zpe();var e0e=!0;function t0e(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var qU=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||e0e===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},r0e=function(e,r,n){qU(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function n0e(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var a0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s0e=/[A-Z]|^ms/g,i0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,UU=function(e){return e.charCodeAt(1)===45},MI=function(e){return e!=null&&typeof e!="boolean"},PN=zpe(function(t){return UU(t)?t:t.replace(s0e,"-$&").toLowerCase()}),AI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(i0e,function(n,a,i){return ao={name:a,styles:i,next:ao},a})}return a0e[e]!==1&&!UU(e)&&typeof r=="number"&&r!==0?r+"px":r};function Zp(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return ao={name:a.name,styles:a.styles,next:ao},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)ao={name:o.name,styles:o.styles,next:ao},o=o.next;var l=i.styles+";";return l}return o0e(t,e,r)}case"function":{if(t!==void 0){var c=ao,d=r(t);return ao=c,Zp(t,e,d)}break}}var h=r;return h}function o0e(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Zp(t,e,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;MI(l)&&(n+=PN(i)+":"+AI(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)MI(o[c])&&(n+=PN(i)+":"+AI(i,o[c])+";");else{var d=Zp(t,e,o);switch(i){case"animation":case"animationName":{n+=PN(i)+":"+d+";";break}default:n+=i+"{"+d+"}"}}}return n}var OI=/label:\s*([^\s;{]+)\s*(;|$)/g,ao;function WU(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";ao=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,a+=Zp(r,e,i);else{var o=i;a+=o[0]}for(var l=1;l<t.length;l++)if(a+=Zp(r,e,t[l]),n){var c=i;a+=c[l]}OI.lastIndex=0;for(var d="",h;(h=OI.exec(a))!==null;)d+="-"+h[1];var m=n0e(a)+d;return{name:m,styles:a,next:ao}}var l0e=function(e){return e()},c0e=ib.useInsertionEffect?ib.useInsertionEffect:!1,u0e=c0e||l0e,GU=x.createContext(typeof HTMLElement<"u"?Xpe({key:"css"}):null);GU.Provider;var d0e=function(e){return x.forwardRef(function(r,n){var a=x.useContext(GU);return e(r,a,n)})},f0e=x.createContext({}),yO={}.hasOwnProperty,u5="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h0e=function(e,r){var n={};for(var a in r)yO.call(r,a)&&(n[a]=r[a]);return n[u5]=e,n},m0e=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return qU(r,n,a),u0e(function(){return r0e(r,n,a)}),null},p0e=d0e(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[u5],i=[n],o="";typeof t.className=="string"?o=t0e(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=WU(i,void 0,x.useContext(f0e));o+=e.key+"-"+l.name;var c={};for(var d in t)yO.call(t,d)&&d!=="css"&&d!==u5&&(c[d]=t[d]);return c.className=o,r&&(c.ref=r),x.createElement(x.Fragment,null,x.createElement(m0e,{cache:e,serialized:l,isStringTag:typeof a=="string"}),x.createElement(a,c))}),g0e=p0e,Vt=function(e,r){var n=arguments;if(r==null||!yO.call(r,"css"))return x.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=g0e,i[1]=h0e(e,r);for(var o=2;o<a;o++)i[o]=n[o];return x.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Vt||(Vt={}));function bO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return WU(e)}function x0e(){var t=bO.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function y0e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var d5=x.useLayoutEffect,b0e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Db=function(){};function v0e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function w0e(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var i=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(v0e(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Pb=function(e){return A0e(e)?e.filter(Boolean):Ku(e)==="object"&&e!==null?[e]:[]},YU=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=_o(e,b0e);return qt({},r)},On=function(e,r,n){var a=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:a(n??{},o(r,e),l)}};function Vw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function j0e(t){return Vw(t)?window.innerHeight:t.clientHeight}function KU(t){return Vw(t)?window.pageYOffset:t.scrollTop}function Rb(t,e){if(Vw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function S0e(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function N0e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function ty(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Db,a=KU(t),i=e-a,o=10,l=0;function c(){l+=o;var d=N0e(l,a,i,r);Rb(t,d),l<r?window.requestAnimationFrame(c):n(t)}c()}function EI(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Rb(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Rb(t,Math.max(e.offsetTop-a,0))}function k0e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function DI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function C0e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var XU=!1,T0e={get passive(){return XU=!0}},ry=typeof window<"u"?window:{};ry.addEventListener&&ry.removeEventListener&&(ry.addEventListener("p",Db,T0e),ry.removeEventListener("p",Db,!1));var _0e=XU;function M0e(t){return t!=null}function A0e(t){return Array.isArray(t)}function dp(t,e,r){return t?e:r}var O0e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=Object.entries(e).filter(function(o){var l=ml(o,1),c=l[0];return!n.includes(c)});return i.reduce(function(o,l){var c=ml(l,2),d=c[0],h=c[1];return o[d]=h,o},{})},E0e=["children","innerProps"],D0e=["children","innerProps"];function P0e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=S0e(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var h=c.getBoundingClientRect(),m=h.height,g=r.getBoundingClientRect(),y=g.bottom,w=g.height,j=g.top,v=r.offsetParent.getBoundingClientRect(),N=v.top,C=o?window.innerHeight:j0e(c),S=KU(c),E=parseInt(getComputedStyle(r).marginBottom,10),T=parseInt(getComputedStyle(r).marginTop,10),A=N-T,O=C-j,D=A+S,$=m-S-j,L=y-C+S+E,I=S+j-T,R=160;switch(a){case"auto":case"bottom":if(O>=w)return{placement:"bottom",maxHeight:e};if($>=w&&!o)return i&&ty(c,L,R),{placement:"bottom",maxHeight:e};if(!o&&$>=n||o&&O>=n){i&&ty(c,L,R);var H=o?O-E:$-E;return{placement:"bottom",maxHeight:H}}if(a==="auto"||o){var G=e,q=o?A:D;return q>=n&&(G=Math.min(q-E-l,e)),{placement:"top",maxHeight:G}}if(a==="bottom")return i&&Rb(c,L),{placement:"bottom",maxHeight:e};break;case"top":if(A>=w)return{placement:"top",maxHeight:e};if(D>=w&&!o)return i&&ty(c,I,R),{placement:"top",maxHeight:e};if(!o&&D>=n||o&&A>=n){var F=e;return(!o&&D>=n||o&&A>=n)&&(F=o?A-T:D-T),i&&ty(c,I,R),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return d}function R0e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var JU=function(e){return e==="auto"?"bottom":e},I0e=function(e,r){var n,a=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return qt((n={label:"menu"},up(n,R0e(a),"100%"),up(n,"position","absolute"),up(n,"width","100%"),up(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},QU=x.createContext(null),L0e=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,d=x.useContext(QU)||{},h=d.setPortalPlacement,m=x.useRef(null),g=x.useState(a),y=ml(g,2),w=y[0],j=y[1],v=x.useState(null),N=ml(v,2),C=N[0],S=N[1],E=c.spacing.controlHeight;return d5(function(){var T=m.current;if(T){var A=o==="fixed",O=l&&!A,D=P0e({maxHeight:a,menuEl:T,minHeight:n,placement:i,shouldScroll:O,isFixedPosition:A,controlHeight:E});j(D.maxHeight),S(D.placement),h==null||h(D.placement)}},[a,i,o,l,n,h,E]),r({ref:m,placerProps:qt(qt({},e),{},{placement:C||JU(i),maxHeight:w})})},$0e=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Vt("div",Yt({},On(e,"menu",{menu:!0}),{ref:n},a),r)},F0e=$0e,H0e=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return qt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},B0e=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,i=e.isMulti;return Vt("div",Yt({},On(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:a},n),r)},ZU=function(e,r){var n=e.theme,a=n.spacing.baseUnit,i=n.colors;return qt({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},z0e=ZU,V0e=ZU,q0e=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,i=_o(e,E0e);return Vt("div",Yt({},On(qt(qt({},i),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},U0e=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,i=_o(e,D0e);return Vt("div",Yt({},On(qt(qt({},i),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},W0e=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},G0e=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=x.useRef(null),d=x.useRef(null),h=x.useState(JU(o)),m=ml(h,2),g=m[0],y=m[1],w=x.useMemo(function(){return{setPortalPlacement:y}},[]),j=x.useState(null),v=ml(j,2),N=v[0],C=v[1],S=x.useCallback(function(){if(a){var O=k0e(a),D=l==="fixed"?0:window.pageYOffset,$=O[g]+D;($!==(N==null?void 0:N.offset)||O.left!==(N==null?void 0:N.rect.left)||O.width!==(N==null?void 0:N.rect.width))&&C({offset:$,rect:O})}},[a,l,g,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);d5(function(){S()},[S]);var E=x.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),a&&c.current&&(d.current=pU(a,c.current,S,{elementResize:"ResizeObserver"in window}))},[a,S]);d5(function(){E()},[E]);var T=x.useCallback(function(O){c.current=O,E()},[E]);if(!r&&l!=="fixed"||!N)return null;var A=Vt("div",Yt({ref:T},On(qt(qt({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Vt(QU.Provider,{value:w},r?yA.createPortal(A,r):A)},Y0e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},K0e=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,i=e.isRtl;return Vt("div",Yt({},On(e,"container",{"--is-disabled":a,"--is-rtl":i}),n),r)},X0e=function(e,r){var n=e.theme.spacing,a=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return qt({alignItems:"center",display:a&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},J0e=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,i=e.hasValue;return Vt("div",Yt({},On(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":i}),n),r)},Q0e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Z0e=function(e){var r=e.children,n=e.innerProps;return Vt("div",Yt({},On(e,"indicatorsContainer",{indicators:!0}),n),r)},PI,ege=["size"],tge=["innerProps","isRtl","size"],rge={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},eW=function(e){var r=e.size,n=_o(e,ege);return Vt("svg",Yt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:rge},n))},vO=function(e){return Vt(eW,Yt({size:20},e),Vt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},tW=function(e){return Vt(eW,Yt({size:20},e),Vt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},rW=function(e,r){var n=e.isFocused,a=e.theme,i=a.spacing.baseUnit,o=a.colors;return qt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},nge=rW,age=function(e){var r=e.children,n=e.innerProps;return Vt("div",Yt({},On(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Vt(tW,null))},sge=rW,ige=function(e){var r=e.children,n=e.innerProps;return Vt("div",Yt({},On(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Vt(vO,null))},oge=function(e,r){var n=e.isDisabled,a=e.theme,i=a.spacing.baseUnit,o=a.colors;return qt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},lge=function(e){var r=e.innerProps;return Vt("span",Yt({},r,On(e,"indicatorSeparator",{"indicator-separator":!0})))},cge=x0e(PI||(PI=y0e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),uge=function(e,r){var n=e.isFocused,a=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return qt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},RN=function(e){var r=e.delay,n=e.offset;return Vt("span",{css:bO({animation:"".concat(cge," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dge=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,i=a===void 0?4:a,o=_o(e,tge);return Vt("div",Yt({},On(qt(qt({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Vt(RN,{delay:0,offset:n}),Vt(RN,{delay:160,offset:!0}),Vt(RN,{delay:320,offset:!n}))},fge=function(e,r){var n=e.isDisabled,a=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return qt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},hge=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Vt("div",Yt({ref:i},On(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},mge=hge,pge=["data"],gge=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},xge=function(e){var r=e.children,n=e.cx,a=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,h=e.theme,m=e.selectProps;return Vt("div",Yt({},On(e,"group",{group:!0}),c),Vt(o,Yt({},l,{selectProps:m,theme:h,getStyles:a,getClassNames:i,cx:n}),d),Vt("div",null,r))},yge=function(e,r){var n=e.theme,a=n.colors,i=n.spacing;return qt({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},bge=function(e){var r=YU(e);r.data;var n=_o(r,pge);return Vt("div",Yt({},On(e,"groupHeading",{"group-heading":!0}),n))},vge=xge,wge=["innerRef","isDisabled","isHidden","inputClassName"],jge=function(e,r){var n=e.isDisabled,a=e.value,i=e.theme,o=i.spacing,l=i.colors;return qt(qt({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Sge),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},nW={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Sge={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":qt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},nW)},Nge=function(e){return qt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},nW)},kge=function(e){var r=e.cx,n=e.value,a=YU(e),i=a.innerRef,o=a.isDisabled,l=a.isHidden,c=a.inputClassName,d=_o(a,wge);return Vt("div",Yt({},On(e,"input",{"input-container":!0}),{"data-value":n||""}),Vt("input",Yt({className:r({input:!0},c),ref:i,style:Nge(l),disabled:o},d)))},Cge=kge,Tge=function(e,r){var n=e.theme,a=n.spacing,i=n.borderRadius,o=n.colors;return qt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:a.baseUnit/2})},_ge=function(e,r){var n=e.theme,a=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return qt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Mge=function(e,r){var n=e.theme,a=n.spacing,i=n.borderRadius,o=n.colors,l=e.isFocused;return qt({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},aW=function(e){var r=e.children,n=e.innerProps;return Vt("div",n,r)},Age=aW,Oge=aW;function Ege(t){var e=t.children,r=t.innerProps;return Vt("div",Yt({role:"button"},r),e||Vt(vO,{size:14}))}var Dge=function(e){var r=e.children,n=e.components,a=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,d=n.Container,h=n.Label,m=n.Remove;return Vt(d,{data:a,innerProps:qt(qt({},On(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Vt(h,{data:a,innerProps:qt({},On(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Vt(m,{data:a,innerProps:qt(qt({},On(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Pge=Dge,Rge=function(e,r){var n=e.isDisabled,a=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return qt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?c.primary:c.primary50}})},Ige=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return Vt("div",Yt({},On(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},Lge=Ige,$ge=function(e,r){var n=e.theme,a=n.spacing,i=n.colors;return qt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Fge=function(e){var r=e.children,n=e.innerProps;return Vt("div",Yt({},On(e,"placeholder",{placeholder:!0}),n),r)},Hge=Fge,Bge=function(e,r){var n=e.isDisabled,a=e.theme,i=a.spacing,o=a.colors;return qt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},zge=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Vt("div",Yt({},On(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Vge=zge,qge={ClearIndicator:ige,Control:mge,DropdownIndicator:age,DownChevron:tW,CrossIcon:vO,Group:vge,GroupHeading:bge,IndicatorsContainer:Z0e,IndicatorSeparator:lge,Input:Cge,LoadingIndicator:dge,Menu:F0e,MenuList:B0e,MenuPortal:G0e,LoadingMessage:U0e,NoOptionsMessage:q0e,MultiValue:Pge,MultiValueContainer:Age,MultiValueLabel:Oge,MultiValueRemove:Ege,Option:Lge,Placeholder:Hge,SelectContainer:K0e,SingleValue:Vge,ValueContainer:J0e},Uge=function(e){return qt(qt({},qge),e.components)},RI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Wge(t,e){return!!(t===e||RI(t)&&RI(e))}function Gge(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Wge(t[r],e[r]))return!1;return!0}function Yge(t,e){e===void 0&&(e=Gge);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var o=t.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}var Kge={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Xge=function(e){return Vt("span",Yt({css:Kge},e))},II=Xge,Jge={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,d=e.isSelected,h=e.isAppleDevice,m=function(j,v){return j&&j.length?"".concat(j.indexOf(v)+1," of ").concat(j.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&h){var g=c?" disabled":"",y="".concat(d?" selected":"").concat(g);return"".concat(o).concat(y,", ").concat(m(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Qge=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,d=e.id,h=e.isAppleDevice,m=c.ariaLiveMessages,g=c.getOptionLabel,y=c.inputValue,w=c.isMulti,j=c.isOptionDisabled,v=c.isSearchable,N=c.menuIsOpen,C=c.options,S=c.screenReaderStatus,E=c.tabSelectsValue,T=c.isLoading,A=c["aria-label"],O=c["aria-live"],D=x.useMemo(function(){return qt(qt({},Jge),m||{})},[m]),$=x.useMemo(function(){var q="";if(r&&D.onChange){var F=r.option,P=r.options,B=r.removedValue,K=r.removedValues,te=r.value,U=function(Oe){return Array.isArray(Oe)?null:Oe},Q=B||F||U(te),ie=Q?g(Q):"",le=P||K||void 0,ce=le?le.map(g):[],ge=qt({isDisabled:Q&&j(Q,l),label:ie,labels:ce},r);q=D.onChange(ge)}return q},[r,D,j,l,g]),L=x.useMemo(function(){var q="",F=n||a,P=!!(n&&l&&l.includes(n));if(F&&D.onFocus){var B={focused:F,label:g(F),isDisabled:j(F,l),isSelected:P,options:i,context:F===n?"menu":"value",selectValue:l,isAppleDevice:h};q=D.onFocus(B)}return q},[n,a,g,j,D,i,l,h]),I=x.useMemo(function(){var q="";if(N&&C.length&&!T&&D.onFilter){var F=S({count:i.length});q=D.onFilter({inputValue:y,resultsMessage:F})}return q},[i,y,N,D,C,S,T]),R=(r==null?void 0:r.action)==="initial-input-focus",H=x.useMemo(function(){var q="";if(D.guidance){var F=a?"value":N?"menu":"input";q=D.guidance({"aria-label":A,context:F,isDisabled:n&&j(n,l),isMulti:w,isSearchable:v,tabSelectsValue:E,isInitialFocus:R})}return q},[A,n,a,w,j,v,N,D,l,E,R]),G=Vt(x.Fragment,null,Vt("span",{id:"aria-selection"},$),Vt("span",{id:"aria-focused"},L),Vt("span",{id:"aria-results"},I),Vt("span",{id:"aria-guidance"},H));return Vt(x.Fragment,null,Vt(II,{id:d},R&&G),Vt(II,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!R&&G))},Zge=Qge,f5=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],exe=new RegExp("["+f5.map(function(t){return t.letters}).join("")+"]","g"),sW={};for(var IN=0;IN<f5.length;IN++)for(var LN=f5[IN],$N=0;$N<LN.letters.length;$N++)sW[LN.letters[$N]]=LN.base;var iW=function(e){return e.replace(exe,function(r){return sW[r]})},txe=Yge(iW),LI=function(e){return e.replace(/^\s+|\s+$/g,"")},rxe=function(e){return"".concat(e.label," ").concat(e.value)},nxe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=qt({ignoreCase:!0,ignoreAccents:!0,stringify:rxe,trim:!0,matchFrom:"any"},e),i=a.ignoreCase,o=a.ignoreAccents,l=a.stringify,c=a.trim,d=a.matchFrom,h=c?LI(n):n,m=c?LI(l(r)):l(r);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=txe(h),m=iW(m)),d==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},axe=["innerRef"];function sxe(t){var e=t.innerRef,r=_o(t,axe),n=O0e(r,"onExited","in","enter","exit","appear");return Vt("input",Yt({ref:e},n,{css:bO({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var ixe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function oxe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,i=t.onTopLeave,o=x.useRef(!1),l=x.useRef(!1),c=x.useRef(0),d=x.useRef(null),h=x.useCallback(function(v,N){if(d.current!==null){var C=d.current,S=C.scrollTop,E=C.scrollHeight,T=C.clientHeight,A=d.current,O=N>0,D=E-T-S,$=!1;D>N&&o.current&&(n&&n(v),o.current=!1),O&&l.current&&(i&&i(v),l.current=!1),O&&N>D?(r&&!o.current&&r(v),A.scrollTop=E,$=!0,o.current=!0):!O&&-N>S&&(a&&!l.current&&a(v),A.scrollTop=0,$=!0,l.current=!0),$&&ixe(v)}},[r,n,a,i]),m=x.useCallback(function(v){h(v,v.deltaY)},[h]),g=x.useCallback(function(v){c.current=v.changedTouches[0].clientY},[]),y=x.useCallback(function(v){var N=c.current-v.changedTouches[0].clientY;h(v,N)},[h]),w=x.useCallback(function(v){if(v){var N=_0e?{passive:!1}:!1;v.addEventListener("wheel",m,N),v.addEventListener("touchstart",g,N),v.addEventListener("touchmove",y,N)}},[y,g,m]),j=x.useCallback(function(v){v&&(v.removeEventListener("wheel",m,!1),v.removeEventListener("touchstart",g,!1),v.removeEventListener("touchmove",y,!1))},[y,g,m]);return x.useEffect(function(){if(e){var v=d.current;return w(v),function(){j(v)}}},[e,w,j]),function(v){d.current=v}}var $I=["boxSizing","height","overflow","paddingRight","position"],FI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function HI(t){t.cancelable&&t.preventDefault()}function BI(t){t.stopPropagation()}function zI(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function VI(){return"ontouchstart"in window||navigator.maxTouchPoints}var qI=!!(typeof window<"u"&&window.document&&window.document.createElement),Km=0,Jd={capture:!1,passive:!1};function lxe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=x.useRef({}),i=x.useRef(null),o=x.useCallback(function(c){if(qI){var d=document.body,h=d&&d.style;if(n&&$I.forEach(function(w){var j=h&&h[w];a.current[w]=j}),n&&Km<1){var m=parseInt(a.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,y=window.innerWidth-g+m||0;Object.keys(FI).forEach(function(w){var j=FI[w];h&&(h[w]=j)}),h&&(h.paddingRight="".concat(y,"px"))}d&&VI()&&(d.addEventListener("touchmove",HI,Jd),c&&(c.addEventListener("touchstart",zI,Jd),c.addEventListener("touchmove",BI,Jd))),Km+=1}},[n]),l=x.useCallback(function(c){if(qI){var d=document.body,h=d&&d.style;Km=Math.max(Km-1,0),n&&Km<1&&$I.forEach(function(m){var g=a.current[m];h&&(h[m]=g)}),d&&VI()&&(d.removeEventListener("touchmove",HI,Jd),c&&(c.removeEventListener("touchstart",zI,Jd),c.removeEventListener("touchmove",BI,Jd)))}},[n]);return x.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var cxe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},uxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dxe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,d=oxe({isEnabled:a,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),h=lxe({isEnabled:r}),m=function(y){d(y),h(y)};return Vt(x.Fragment,null,r&&Vt("div",{onClick:cxe,css:uxe}),e(m))}var fxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},hxe=function(e){var r=e.name,n=e.onFocus;return Vt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:fxe,value:"",onChange:function(){}})},mxe=hxe;function wO(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function pxe(){return wO(/^iPhone/i)}function oW(){return wO(/^Mac/i)}function gxe(){return wO(/^iPad/i)||oW()&&navigator.maxTouchPoints>1}function xxe(){return pxe()||gxe()}function yxe(){return oW()||xxe()}var bxe=function(e){return e.label},lW=function(e){return e.label},cW=function(e){return e.value},vxe=function(e){return!!e.isDisabled},wxe={clearIndicator:sge,container:Y0e,control:fge,dropdownIndicator:nge,group:gge,groupHeading:yge,indicatorsContainer:Q0e,indicatorSeparator:oge,input:jge,loadingIndicator:uge,loadingMessage:V0e,menu:I0e,menuList:H0e,menuPortal:W0e,multiValue:Tge,multiValueLabel:_ge,multiValueRemove:Mge,noOptionsMessage:z0e,option:Rge,placeholder:$ge,singleValue:Bge,valueContainer:X0e},jxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Sxe=4,uW=4,Nxe=38,kxe=uW*2,Cxe={baseUnit:uW,controlHeight:Nxe,menuGutter:kxe},FN={borderRadius:Sxe,colors:jxe,spacing:Cxe},Txe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:DI(),captureMenuScroll:!DI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:nxe(),formatGroupLabel:bxe,getOptionLabel:lW,getOptionValue:cW,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:vxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!C0e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function UI(t,e,r,n){var a=hW(t,e,r),i=mW(t,e,r),o=fW(t,e),l=Ib(t,e);return{type:"option",data:e,isDisabled:a,isSelected:i,label:o,value:l,index:n}}function Zy(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,l){return UI(t,o,e,l)}).filter(function(o){return GI(t,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var i=UI(t,r,e,n);return GI(t,i)?i:void 0}).filter(M0e)}function dW(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,_f(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function WI(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,_f(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function _xe(t,e){return dW(Zy(t,e))}function GI(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,i=e.isSelected,o=e.label,l=e.value;return(!gW(t)||!i)&&pW(t,{label:o,value:l,data:a},n)}function Mxe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var i=e.indexOf(r);if(i>-1)return r;if(a<e.length)return e[a]}return null}function Axe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var HN=function(e,r){var n,a=(n=e.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return a||null},fW=function(e,r){return e.getOptionLabel(r)},Ib=function(e,r){return e.getOptionValue(r)};function hW(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function mW(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Ib(t,e);return r.some(function(a){return Ib(t,a)===n})}function pW(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var gW=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Oxe=1,jO=(function(t){mpe(r,t);var e=xpe(r);function r(n){var a;if(fpe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,d){var h=a.props,m=h.onChange,g=h.name;d.name=g,a.ariaOnChange(c,d),m(c,d)},a.setValue=function(c,d,h){var m=a.props,g=m.closeMenuOnSelect,y=m.isMulti,w=m.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:w}),g&&(a.setState({inputIsHiddenAfterUpdate:!y}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:d,option:h})},a.selectOption=function(c){var d=a.props,h=d.blurInputOnSelect,m=d.isMulti,g=d.name,y=a.state.selectValue,w=m&&a.isOptionSelected(c,y),j=a.isOptionDisabled(c,y);if(w){var v=a.getOptionValue(c);a.setValue(y.filter(function(N){return a.getOptionValue(N)!==v}),"deselect-option",c)}else if(!j)m?a.setValue([].concat(_f(y),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:g});return}h&&a.blurInput()},a.removeValue=function(c){var d=a.props.isMulti,h=a.state.selectValue,m=a.getOptionValue(c),g=h.filter(function(w){return a.getOptionValue(w)!==m}),y=dp(d,g,g[0]||null);a.onChange(y,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(dp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,d=a.state.selectValue,h=d[d.length-1],m=d.slice(0,d.length-1),g=dp(c,m,m[0]||null);h&&a.onChange(g,{action:"pop-value",removedValue:h})},a.getFocusedOptionId=function(c){return HN(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return WI(Zy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return w0e.apply(void 0,[a.props.classNamePrefix].concat(d))},a.getOptionLabel=function(c){return fW(a.props,c)},a.getOptionValue=function(c){return Ib(a.props,c)},a.getStyles=function(c,d){var h=a.props.unstyled,m=wxe[c](d,h);m.boxSizing="border-box";var g=a.props.styles[c];return g?g(m,d):m},a.getClassNames=function(c,d){var h,m;return(h=(m=a.props.classNames)[c])===null||h===void 0?void 0:h.call(m,d)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Uge(a.props)},a.buildCategorizedOptions=function(){return Zy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return dW(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,d){a.setState({ariaSelection:qt({value:c},d)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():d&&a.openMenu("first"):(d&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var d=a.props,h=d.isMulti,m=d.menuIsOpen;a.focusInput(),m?(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Vw(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var d=c.touches,h=d&&d.item(0);h&&(a.initialTouchX=h.clientX,a.initialTouchY=h.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var d=c.touches,h=d&&d.item(0);if(h){var m=Math.abs(h.clientX-a.initialTouchX),g=Math.abs(h.clientY-a.initialTouchY),y=5;a.userIsDragging=m>y||g>y}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var d=a.props.inputValue,h=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(h,{action:"input-change",prevInputValue:d}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var d=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:d}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var d=a.getFocusableOptions(),h=d.indexOf(c);a.setState({focusedOption:c,focusedOptionId:h>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return gW(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var d=a.props,h=d.isMulti,m=d.backspaceRemovesValue,g=d.escapeClearsValue,y=d.inputValue,w=d.isClearable,j=d.isDisabled,v=d.menuIsOpen,N=d.onKeyDown,C=d.tabSelectsValue,S=d.openMenuOnFocus,E=a.state,T=E.focusedOption,A=E.focusedValue,O=E.selectValue;if(!j&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!h||y)return;a.focusValue("previous");break;case"ArrowRight":if(!h||y)return;a.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(A)a.removeValue(A);else{if(!m)return;h?a.popValue():w&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!v||!C||!T||S&&a.isOptionSelected(T,O))return;a.selectOption(T);break;case"Enter":if(c.keyCode===229)break;if(v){if(!T||a.isComposing)return;a.selectOption(T);break}return;case"Escape":v?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:y}),a.onMenuClose()):w&&g&&a.clearValue();break;case" ":if(y)return;if(!v){a.openMenu("first");break}if(!T)return;a.selectOption(T);break;case"ArrowUp":v?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":v?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!v)return;a.focusOption("pageup");break;case"PageDown":if(!v)return;a.focusOption("pagedown");break;case"Home":if(!v)return;a.focusOption("first");break;case"End":if(!v)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Oxe),a.state.selectValue=Pb(n.value),n.menuIsOpen&&a.state.selectValue.length){var i=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),l=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=i,a.state.focusedOption=o[l],a.state.focusedOptionId=HN(i,o[l])}return a}return hpe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&EI(this.menuListRef,this.focusedOptionRef),yxe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(EI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,i){this.props.onInputChange(a,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,d=this.buildFocusableOptions(),h=a==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(a){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var d=o.length-1,h=-1;if(o.length){switch(a){case"previous":c===0?h=0:c===-1?h=d:h=c-1;break;case"next":c>-1&&c<d&&(h=c+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(o);o||(d=-1),a==="up"?c=d>0?d-1:l.length-1:a==="down"?c=(d+1)%l.length:a==="pageup"?(c=d-i,c<0&&(c=0)):a==="pagedown"?(c=d+i,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(FN):qt(qt({},FN),this.props.theme):FN})},{key:"getCommonProps",value:function(){var a=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,h=this.setValue,m=this.props,g=m.isMulti,y=m.isRtl,w=m.options,j=this.hasValue();return{clearValue:a,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:j,isMulti:g,isRtl:y,options:w,selectOption:d,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,i=a.isClearable,o=a.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(a,i){return hW(this.props,a,i)}},{key:"isOptionSelected",value:function(a,i){return mW(this.props,a,i)}},{key:"filterOption",value:function(a,i){return pW(this.props,a,i)}},{key:"formatOptionLabel",value:function(a,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var a=this.props,i=a.isDisabled,o=a.isSearchable,l=a.inputId,c=a.inputValue,d=a.tabIndex,h=a.form,m=a.menuIsOpen,g=a.required,y=this.getComponents(),w=y.Input,j=this.state,v=j.inputIsHidden,N=j.ariaSelection,C=this.commonProps,S=l||this.getElementId("input"),E=qt(qt(qt({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?x.createElement(w,Yt({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:c},E)):x.createElement(sxe,Yt({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Db,onFocus:this.onInputFocus,disabled:i,tabIndex:d,inputMode:"none",form:h,value:""},E))})},{key:"renderPlaceholderOrValue",value:function(){var a=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,d=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,g=this.commonProps,y=this.props,w=y.controlShouldRenderValue,j=y.isDisabled,v=y.isMulti,N=y.inputValue,C=y.placeholder,S=this.state,E=S.selectValue,T=S.focusedValue,A=S.isFocused;if(!this.hasValue()||!w)return N?null:x.createElement(m,Yt({},g,{key:"placeholder",isDisabled:j,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),C);if(v)return E.map(function(D,$){var L=D===T,I="".concat(a.getOptionLabel(D),"-").concat(a.getOptionValue(D));return x.createElement(o,Yt({},g,{components:{Container:l,Label:c,Remove:d},isFocused:L,isDisabled:j,key:I,index:$,removeProps:{onClick:function(){return a.removeValue(D)},onTouchEnd:function(){return a.removeValue(D)},onMouseDown:function(H){H.preventDefault()}},data:D}),a.formatOptionLabel(D,"value"))});if(N)return null;var O=E[0];return x.createElement(h,Yt({},g,{data:O,isDisabled:j}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),i=a.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(i,Yt({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),i=a.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!i||!d)return null;var m={"aria-hidden":"true"};return x.createElement(i,Yt({},o,{innerProps:m,isDisabled:c,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator,o=a.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return x.createElement(o,Yt({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),i=a.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(i,Yt({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,d=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,g=i.NoOptionsMessage,y=i.Option,w=this.commonProps,j=this.state.focusedOption,v=this.props,N=v.captureMenuScroll,C=v.inputValue,S=v.isLoading,E=v.loadingMessage,T=v.minMenuHeight,A=v.maxMenuHeight,O=v.menuIsOpen,D=v.menuPlacement,$=v.menuPosition,L=v.menuPortalTarget,I=v.menuShouldBlockScroll,R=v.menuShouldScrollIntoView,H=v.noOptionsMessage,G=v.onMenuScrollToTop,q=v.onMenuScrollToBottom;if(!O)return null;var F=function(ie,le){var ce=ie.type,ge=ie.data,$e=ie.isDisabled,Oe=ie.isSelected,xe=ie.label,Ae=ie.value,Ve=j===ge,ee=$e?void 0:function(){return a.onOptionHover(ge)},ae=$e?void 0:function(){return a.selectOption(ge)},Z="".concat(a.getElementId("option"),"-").concat(le),ve={id:Z,onClick:ae,onMouseMove:ee,onMouseOver:ee,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:Oe};return x.createElement(y,Yt({},w,{innerProps:ve,data:ge,isDisabled:$e,isSelected:Oe,key:Z,label:xe,type:ce,value:Ae,isFocused:Ve,innerRef:Ve?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(ie.data,"menu"))},P;if(this.hasOptions())P=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var ie=Q.data,le=Q.options,ce=Q.index,ge="".concat(a.getElementId("group"),"-").concat(ce),$e="".concat(ge,"-heading");return x.createElement(o,Yt({},w,{key:ge,data:ie,options:le,Heading:l,headingProps:{id:$e,data:Q.data},label:a.formatGroupLabel(Q.data)}),Q.options.map(function(Oe){return F(Oe,"".concat(ce,"-").concat(Oe.index))}))}else if(Q.type==="option")return F(Q,"".concat(Q.index))});else if(S){var B=E({inputValue:C});if(B===null)return null;P=x.createElement(m,w,B)}else{var K=H({inputValue:C});if(K===null)return null;P=x.createElement(g,w,K)}var te={minMenuHeight:T,maxMenuHeight:A,menuPlacement:D,menuPosition:$,menuShouldScrollIntoView:R},U=x.createElement(L0e,Yt({},w,te),function(Q){var ie=Q.ref,le=Q.placerProps,ce=le.placement,ge=le.maxHeight;return x.createElement(c,Yt({},w,te,{innerRef:ie,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:S,placement:ce}),x.createElement(dxe,{captureEnabled:N,onTopArrive:G,onBottomArrive:q,lockEnabled:I},function($e){return x.createElement(d,Yt({},w,{innerRef:function(xe){a.getMenuListRef(xe),$e(xe)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:a.getElementId("listbox")},isLoading:S,maxHeight:ge,focusedOption:j}),P)}))});return L||$==="fixed"?x.createElement(h,Yt({},w,{appendTo:L,controlElement:this.controlRef,menuPlacement:D,menuPosition:$}),U):U}},{key:"renderFormField",value:function(){var a=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,d=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return x.createElement(mxe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(o){var g=m.map(function(j){return a.getOptionValue(j)}).join(o);return x.createElement("input",{name:d,type:"hidden",value:g})}else{var y=m.length>0?m.map(function(j,v){return x.createElement("input",{key:"i-".concat(v),name:d,type:"hidden",value:a.getOptionValue(j)})}):x.createElement("input",{name:d,type:"hidden",value:""});return x.createElement("div",null,y)}else{var w=m[0]?this.getOptionValue(m[0]):"";return x.createElement("input",{name:d,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,d=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return x.createElement(Zge,Yt({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:d,selectValue:h,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),i=a.Control,o=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,d=this.props,h=d.className,m=d.id,g=d.isDisabled,y=d.menuIsOpen,w=this.state.isFocused,j=this.commonProps=this.getCommonProps();return x.createElement(l,Yt({},j,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:w}),this.renderLiveRegion(),x.createElement(i,Yt({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:w,menuIsOpen:y}),x.createElement(c,Yt({},j,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(o,Yt({},j,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,d=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,g=i.instancePrefix,y=a.options,w=a.value,j=a.menuIsOpen,v=a.inputValue,N=a.isMulti,C=Pb(w),S={};if(o&&(w!==o.value||y!==o.options||j!==o.menuIsOpen||v!==o.inputValue)){var E=j?_xe(a,C):[],T=j?WI(Zy(a,C),"".concat(g,"-option")):[],A=l?Mxe(i,C):null,O=Axe(i,E),D=HN(T,O);S={selectValue:C,focusedOption:O,focusedOptionId:D,focusableOptionsWithIds:T,focusedValue:A,clearFocusValueOnUpdate:!1}}var $=c!=null&&a!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},L=d,I=h&&m;return h&&!I&&(L={value:dp(N,C,C[0]||null),options:C,action:"initial-input-focus"},I=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(L=null),qt(qt(qt({},S),$),{},{prevProps:a,ariaSelection:L,prevWasFocused:I})}}]),r})(x.Component);jO.defaultProps=Txe;var Exe=x.forwardRef(function(t,e){var r=RU(t);return x.createElement(jO,Yt({ref:e},r))}),Sr=Exe;function Ca(t){this.content=t}Ca.prototype={constructor:Ca,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,a=n.find(t),i=n.content.slice();return a==-1?i.push(r||t,e):(i[a+1]=e,r&&(i[a]=r)),new Ca(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ca(r)},addToStart:function(t,e){return new Ca([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ca(r)},addBefore:function(t,e,r){var n=this.remove(e),a=n.content.slice(),i=n.find(t);return a.splice(i==-1?a.length:i,0,e,r),new Ca(a)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ca.from(t),t.size?new Ca(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ca.from(t),t.size?new Ca(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ca.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ca.from=function(t){if(t instanceof Ca)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ca(e)};function xW(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let a=t.child(n),i=e.child(n);if(a==i){r+=a.nodeSize;continue}if(!a.sameMarkup(i))return r;if(a.isText&&a.text!=i.text){for(let o=0;a.text[o]==i.text[o];o++)r++;return r}if(a.content.size||i.content.size){let o=xW(a.content,i.content,r+1);if(o!=null)return o}r+=a.nodeSize}}function yW(t,e,r,n){for(let a=t.childCount,i=e.childCount;;){if(a==0||i==0)return a==i?null:{a:r,b:n};let o=t.child(--a),l=e.child(--i),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let d=0,h=Math.min(o.text.length,l.text.length);for(;d<h&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let d=yW(o.content,l.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class it{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,a=0,i){for(let o=0,l=0;l<r;o++){let c=this.content[o],d=l+c.nodeSize;if(d>e&&n(c,a+l,i||null,o)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,r-h),n,a+h)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,a){let i="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?a?typeof a=="function"?a(l):a:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(o?o=!1:i+=n),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,a=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)a.push(e.content[i]);return new it(a,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],a=0;if(r>e)for(let i=0,o=0;o<r;i++){let l=this.content[i],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),a+=l.nodeSize),o=c}return new it(n,a)}cutByIndex(e,r){return e==r?it.empty:e==0&&r==this.content.length?this:new it(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let a=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return a[e]=r,new it(a,i)}addToStart(e){return new it([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new it(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];e(a,n,r),n+=a.nodeSize}}findDiffStart(e,r=0){return xW(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return yW(this,e,r,n)}findIndex(e){if(e==0)return ny(0,e);if(e==this.size)return ny(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),i=n+a.nodeSize;if(i>=e)return i==e?ny(r+1,i):ny(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return it.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new it(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return it.empty;let r,n=0;for(let a=0;a<e.length;a++){let i=e[a];n+=i.nodeSize,a&&i.isText&&e[a-1].sameMarkup(i)?(r||(r=e.slice(0,a)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new it(r||e,n)}static from(e){if(!e)return it.empty;if(e instanceof it)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new it([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}it.empty=new it([],0);const BN={index:0,offset:0};function ny(t,e){return BN.index=t,BN.offset=e,BN}function Lb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Lb(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Lb(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let rn=class h5{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let a=0;a<e.length;a++){let i=e[a];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,a));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,a)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Lb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return h5.none;if(e instanceof h5)return[e];let r=e.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};rn.none=[];class $b extends Error{}class Tt{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=vW(this.content,e+this.openStart,r);return n&&new Tt(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Tt(bW(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Tt.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Tt(it.fromJSON(e,r.content),n,a)}static maxOpen(e,r=!0){let n=0,a=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)a++;return new Tt(e,n,a)}}Tt.empty=new Tt(it.empty,0,0);function bW(t,e,r){let{index:n,offset:a}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(a==e||i.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(bW(i.content,e-a-1,r-a-1)))}function vW(t,e,r,n){let{index:a,offset:i}=t.findIndex(e),o=t.maybeChild(a);if(i==e||o.isText)return n&&!n.canReplace(a,a,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=vW(o.content,e-i-1,r,o);return l&&t.replaceChild(a,o.copy(l))}function Dxe(t,e,r){if(r.openStart>t.depth)throw new $b("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new $b("Inconsistent open depths");return wW(t,e,r,0)}function wW(t,e,r,n){let a=t.index(n),i=t.node(n);if(a==e.index(n)&&n<t.depth-r.openStart){let o=wW(t,e,r,n+1);return i.copy(i.content.replaceChild(a,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return Fu(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Pxe(r,t);return Fu(i,SW(t,o,l,e,n))}else return Fu(i,Fb(t,e,n))}function jW(t,e){if(!e.type.compatibleContent(t.type))throw new $b("Cannot join "+e.type.name+" onto "+t.type.name)}function m5(t,e,r){let n=t.node(r);return jW(n,e.node(r)),n}function $u(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Np(t,e,r,n){let a=(e||t).node(r),i=0,o=e?e.index(r):a.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&($u(t.nodeAfter,n),i++));for(let l=i;l<o;l++)$u(a.child(l),n);e&&e.depth==r&&e.textOffset&&$u(e.nodeBefore,n)}function Fu(t,e){return t.type.checkContent(e),t.copy(e)}function SW(t,e,r,n,a){let i=t.depth>a&&m5(t,e,a+1),o=n.depth>a&&m5(r,n,a+1),l=[];return Np(null,t,a,l),i&&o&&e.index(a)==r.index(a)?(jW(i,o),$u(Fu(i,SW(t,e,r,n,a+1)),l)):(i&&$u(Fu(i,Fb(t,e,a+1)),l),Np(e,r,a,l),o&&$u(Fu(o,Fb(r,n,a+1)),l)),Np(n,null,a,l),new it(l)}function Fb(t,e,r){let n=[];if(Np(null,t,r,n),t.depth>r){let a=m5(t,e,r+1);$u(Fu(a,Fb(t,e,r+1)),n)}return Np(e,null,r,n),new it(n)}function Pxe(t,e){let r=e.depth-t.openStart,a=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)a=e.node(i).copy(it.from(a));return{start:a.resolveNoCache(t.openStart+r),end:a.resolveNoCache(a.content.size-t.openEnd-r)}}class e0{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(r);return n?e.child(r).cut(n):a}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)a+=n.child(i).nodeSize;return a}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return rn.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),a=e.maybeChild(r);if(!n){let l=n;n=a,a=l}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!a||!i[o].isInSet(a.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!a||!n[i].isInSet(a.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Hb(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,i=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(i),d=i-c;if(n.push(o,l,a+c),!d||(o=o.child(l),o.isText))break;i=d-1,a+=c+1}return new e0(r,n,i)}static resolveCached(e,r){let n=YI.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else YI.set(e,n=new Rxe);let a=n.elts[n.i]=e0.resolve(e,r);return n.i=(n.i+1)%Ixe,a}}class Rxe{constructor(){this.elts=[],this.i=0}}const Ixe=12,YI=new WeakMap;class Hb{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Lxe=Object.create(null);let Sc=class p5{constructor(e,r,n,a=rn.none){this.type=e,this.attrs=r,this.marks=a,this.content=n||it.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,a=0){this.content.nodesBetween(e,r,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,a){return this.content.textBetween(e,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Lb(this.attrs,r||e.defaultAttrs||Lxe)&&rn.sameSet(this.marks,n||rn.none)}copy(e=null){return e==this.content?this:new p5(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new p5(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Tt.empty;let a=this.resolve(e),i=this.resolve(r),o=n?0:a.sharedDepth(r),l=a.start(o),d=a.node(o).content.cut(a.pos-l,i.pos-l);return new Tt(d,a.depth-o,i.depth-o)}replace(e,r,n){return Dxe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(a==e||r.isText)return r;e-=a+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(e){return e0.resolveCached(this,e)}resolveNoCache(e){return e0.resolve(this,e)}rangeHasMark(e,r,n){let a=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),NW(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=it.empty,a=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,a,i),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=a;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=rn.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!rn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let a=it.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,a,n);return i.type.checkAttrs(i.attrs),i}};Sc.prototype.text=void 0;class Bb extends Sc{constructor(e,r,n,a){if(super(e,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):NW(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Bb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Bb(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function NW(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Xu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new $xe(e,r);if(n.next==null)return Xu.empty;let a=kW(n);n.next&&n.err("Unexpected trailing text");let i=Uxe(qxe(a));return Wxe(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let a=this;for(let i=r;a&&i<n;i++)a=a.matchType(e.child(i).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let a=[this];function i(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return it.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:h,next:m}=o.next[d];if(!(h.isText||h.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);let g=i(m,l.concat(h));if(g)return g}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),i=a.match;if(i.matchType(e)){let o=[];for(let l=a;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!a.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:a}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),e.map((n,a)=>{let i=a+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}Xu.empty=new Xu(!0);class $xe{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function kW(t){let e=[];do e.push(Fxe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Fxe(t){let e=[];do e.push(Hxe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Hxe(t){let e=Vxe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Bxe(t,e);else break;return e}function KI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Bxe(t,e){let r=KI(t),n=r;return t.eat(",")&&(t.next!="}"?n=KI(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function zxe(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let i in r){let o=r[i];o.isInGroup(e)&&a.push(o)}return a.length==0&&t.err("No node type or group '"+e+"' found"),a}function Vxe(t){if(t.eat("(")){let e=kW(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=zxe(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function qxe(t){let e=[[]];return a(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let d={term:c,to:l};return e[o].push(d),d}function a(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(i(d,l)),[]);if(o.type=="seq")for(let c=0;;c++){let d=i(o.exprs[c],l);if(c==o.exprs.length-1)return d;a(d,l=r())}else if(o.type=="star"){let c=r();return n(l,c),a(i(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return a(i(o.expr,l),c),a(i(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let d=0;d<o.min;d++){let h=r();a(i(o.expr,c),h),c=h}if(o.max==-1)a(i(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let h=r();n(c,h),a(i(o.expr,c),h),c=h}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function CW(t,e){return e-t}function XI(t,e){let r=[];return n(e),r.sort(CW);function n(a){let i=t[a];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(a);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&r.indexOf(c)==-1&&n(c)}}}function Uxe(t){let e=Object.create(null);return r(XI(t,0));function r(n){let a=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let h=0;h<a.length;h++)a[h][0]==l&&(d=a[h][1]);XI(t,c).forEach(h=>{d||a.push([l,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let i=e[n.join(",")]=new Xu(n.indexOf(t.length-1)>-1);for(let o=0;o<a.length;o++){let l=a[o][1].sort(CW);i.next.push({type:a[o][0],next:e[l.join(",")]||r(l)})}return i}}function Wxe(t,e){for(let r=0,n=[t];r<n.length;r++){let a=n[r],i=!a.validEnd,o=[];for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),n.indexOf(d)==-1&&n.push(d)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function TW(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function _W(t,e){let r=Object.create(null);for(let n in t){let a=e&&e[n];if(a===void 0){let i=t[n];if(i.hasDefault)a=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function MW(t,e,r,n){for(let a in e)if(!(a in t))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in t){let i=t[a];i.validate&&i.validate(e[a])}}function AW(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Yxe(t,n,e[n]);return r}let JI=class OW{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=AW(e,n.attrs),this.defaultAttrs=TW(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_W(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Sc(this,this.computeAttrs(e),it.from(r),rn.setFrom(n))}createChecked(e=null,r,n){return r=it.from(r),this.checkContent(r),new Sc(this,this.computeAttrs(e),r,rn.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=it.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let a=this.contentMatch.matchFragment(r),i=a&&a.fillBefore(it.empty,!0);return i?new Sc(this,e,r.append(i),rn.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){MW(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:rn.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new OW(i,r,o));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Gxe(t,e,r){let n=r.split("|");return a=>{let i=a===null?"null":typeof a;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class Yxe{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Gxe(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class qw{constructor(e,r,n,a){this.name=e,this.rank=r,this.schema=n,this.spec=a,this.attrs=AW(e,a.attrs),this.excluded=null;let i=TW(this.attrs);this.instance=i?new rn(this,i):null}create(e=null){return!e&&this.instance?this.instance:new rn(this,_W(this.attrs,e))}static compile(e,r){let n=Object.create(null),a=0;return e.forEach((i,o)=>n[i]=new qw(i,a++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){MW(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class EW{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in e)r[a]=e[a];r.nodes=Ca.from(e.nodes),r.marks=Ca.from(e.marks||{}),this.nodes=JI.compile(this.spec.nodes,this),this.marks=qw.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let i=this.nodes[a],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=Xu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?QI(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let a in this.marks){let i=this.marks[a],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:QI(this,o.split(" "))}this.nodeFromJSON=a=>Sc.fromJSON(this,a),this.markFromJSON=a=>rn.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof JI){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,a)}text(e,r){let n=this.nodes.text;return new Bb(n,n.defaultAttrs,e,rn.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function QI(t,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],i=t.marks[a],o=i;if(i)r.push(i);else for(let l in t.marks){let c=t.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function Kxe(t){return t.tag!=null}function Xxe(t){return t.style!=null}class Nc{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(Kxe(a))this.tags.push(a);else if(Xxe(a)){let i=/[^=]*/.exec(a.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let i=e.nodes[a.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new eL(this,r,!1);return n.addAll(e,rn.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new eL(this,r,!0);return n.addAll(e,rn.none,r.from,r.to),Tt.maxOpen(n.finish())}matchTag(e,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let i=this.tags[a];if(Zxe(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,a){for(let i=a?this.styles.indexOf(a)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(a){let i=a.priority==null?50:a.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<i)break}r.splice(o,0,a)}for(let a in e.marks){let i=e.marks[a].spec.parseDOM;i&&i.forEach(o=>{n(o=tL(o)),o.mark||o.ignore||o.clearMark||(o.mark=a)})}for(let a in e.nodes){let i=e.nodes[a].spec.parseDOM;i&&i.forEach(o=>{n(o=tL(o)),o.node||o.ignore||o.mark||(o.node=a)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Nc(e,Nc.schemaRules(e)))}}const DW={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Jxe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},PW={ol:!0,ul:!0},t0=1,g5=2,kp=4;function ZI(t,e,r){return e!=null?(e?t0:0)|(e==="full"?g5:0):t&&t.whitespace=="pre"?t0|g5:r&~kp}class ay{constructor(e,r,n,a,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=a,this.options=o,this.content=[],this.activeMarks=rn.none,this.match=i||(o&kp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(it.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&t0)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-a[0].length))}}let r=it.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(it.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!DW.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class eL{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,i,o=ZI(null,r.preserveWhitespace,0)|(n?kp:0);a?i=new ay(a.type,a.attrs,rn.none,!0,r.topMatch||a.type.contentMatch,o):n?i=new ay(null,null,rn.none,!0,null,o):i=new ay(e.schema.topNodeType,null,rn.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,a=this.top,i=a.options&g5?"full":this.localPreserveWS||(a.options&t0)>0;if(i==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=a.content[a.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let a=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;PW.hasOwnProperty(o)&&this.parser.normalizeLists&&Qxe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:Jxe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,h=this.needsBlock;if(DW.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=c&&c.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),d&&this.sync(i),this.needsBlock=h}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=a}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let i=this.parser.matchedStyles[a],o=n.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,a){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(i=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,r,n,a){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=a==null?null:e.childNodes[a];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r,n){let a,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!a||a.length>d.length+l)&&(a=d,i=c,!d.length))break;if(c.solid){if(n)break;l+=2}}if(!a)return null;this.sync(i);for(let o=0;o<a.length;o++)r=this.enterInner(a[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let a=this.findPlace(e,r,n);if(a){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=rn.none;for(let l of a.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):rL(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,r,n,a){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,a)),i}enterInner(e,r,n,a=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=ZI(e,i,o.options);o.options&kp&&o.content.length==0&&(l|=kp);let c=rn.none;return n=n.filter(d=>(o.type?o.type.allowsMarkType(d.type):rL(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new ay(e,r,c,a,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=t0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(a?0:1),o=(l,c)=>{for(;l>=0;l--){let d=r[l];if(d==""){if(l==r.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let h=c>0||c==0&&a?this.nodes[c].type:n&&c>=i?n.node(c-i).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function Qxe(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&PW.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Zxe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function tL(t){let e={};for(let r in t)e[r]=t[r];return e}function rL(t,e){let r=e.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:h}=l.edge(c);if(d==e||i.indexOf(h)<0&&o(h))return!0}};if(o(a.contentMatch))return!0}}class ud{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=zN(r).createDocumentFragment());let a=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)a=i.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],h=this.serializeMark(d,o.isInline,r);h&&(i.push([d,a]),a.appendChild(h.dom),a=h.contentDOM||h.dom)}}a.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:a}=eb(zN(r),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,a)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let a=e.marks.length-1;a>=0;a--){let i=this.serializeMark(e.marks[a],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let a=this.marks[e.type.name];return a&&eb(zN(n),a(e,r),null,e.attrs)}static renderSpec(e,r,n=null,a){return eb(e,r,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ud(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=nL(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return nL(e.marks)}}function nL(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function zN(t){return t.document||window.document}const aL=new WeakMap;function eye(t){let e=aL.get(t);return e===void 0&&aL.set(t,e=tye(t)),e}function tye(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(t),e}function eb(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],i;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=eye(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=a.indexOf(" ");o>0&&(r=a.slice(0,o),a=a.slice(o+1));let l,c=r?t.createElementNS(r,a):t.createElement(a),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let m in d)if(d[m]!=null){let g=m.indexOf(" ");g>0?c.setAttributeNS(m.slice(0,g),m.slice(g+1),d[m]):m=="style"&&c.style?c.style.cssText=d[m]:c.setAttribute(m,d[m])}}for(let m=h;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:y,contentDOM:w}=eb(t,g,r,n);if(c.appendChild(y),w){if(l)throw new RangeError("Multiple content holes");l=w}}}return{dom:c,contentDOM:l}}const RW=65535,IW=Math.pow(2,16);function rye(t,e){return t+e*IW}function sL(t){return t&RW}function nye(t){return(t-(t&RW))/IW}const LW=1,$W=2,tb=4,FW=8;class x5{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&FW)>0}get deletedBefore(){return(this.delInfo&(LW|tb))>0}get deletedAfter(){return(this.delInfo&($W|tb))>0}get deletedAcross(){return(this.delInfo&tb)>0}}class Rs{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Rs.empty)return Rs.empty}recover(e){let r=0,n=sL(e);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+nye(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let a=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?a:0);if(c>e)break;let d=this.ranges[l+i],h=this.ranges[l+o],m=c+d;if(e<=m){let g=d?e==c?-1:e==m?1:r:r,y=c+a+(g<0?0:h);if(n)return y;let w=e==(r<0?c:m)?null:rye(l/3,e-c),j=e==c?$W:e==m?LW:tb;return(r<0?e!=c:e!=m)&&(j|=FW),new x5(y,j,w)}a+=h-d}return n?e+a:new x5(e+a,0,null)}touches(e,r){let n=0,a=sL(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[l+i],h=c+d;if(e<=h&&l==a*3)return!0;n+=this.ranges[l+o]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,i=0;a<this.ranges.length;a+=3){let o=this.ranges[a],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),d=this.ranges[a+r],h=this.ranges[a+n];e(l,l+d,c,c+h),i+=h-d}}invert(){return new Rs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Rs.empty:new Rs(e<0?[0,-e,0]:[0,0,e])}}Rs.empty=new Rs([]);class r0{constructor(e,r,n=0,a=e?e.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new r0(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let a=e.getMirror(r);this.appendMap(e._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let a=e.getMirror(r);this.appendMap(e._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let e=new r0;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let a=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}a|=l.delInfo,e=l.pos}return n?e:new x5(e,a,null)}}const VN=Object.create(null);let Va=class{getMap(){return Rs.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=VN[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in VN)throw new RangeError("Duplicate use of step JSON ID "+e);return VN[e]=r,r.prototype.jsonID=e,r}};class Kn{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Kn(e,null)}static fail(e){return new Kn(null,e)}static fromReplace(e,r,n,a){try{return Kn.ok(e.replace(r,n,a))}catch(i){if(i instanceof $b)return Kn.fail(i.message);throw i}}}function SO(t,e,r){let n=[];for(let a=0;a<t.childCount;a++){let i=t.child(a);i.content.size&&(i=i.copy(SO(i.content,e,i))),i.isInline&&(i=e(i,r,a)),n.push(i)}return it.fromArray(n)}class xc extends Va{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),i=new Tt(SO(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),a),r.openStart,r.openEnd);return Kn.fromReplace(e,this.from,this.to,i)}invert(){return new Ii(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new xc(r.pos,n.pos,this.mark)}merge(e){return e instanceof xc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xc(r.from,r.to,e.markFromJSON(r.mark))}}Va.jsonID("addMark",xc);class Ii extends Va{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Tt(SO(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),r.openStart,r.openEnd);return Kn.fromReplace(e,this.from,this.to,n)}invert(){return new xc(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ii(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ii&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ii(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ii(r.from,r.to,e.markFromJSON(r.mark))}}Va.jsonID("removeMark",Ii);class yc extends Va{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Kn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Kn.fromReplace(e,this.pos,this.pos+1,new Tt(it.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new yc(this.pos,r.marks[a]);return new yc(this.pos,this.mark)}}return new Ju(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new yc(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new yc(r.pos,e.markFromJSON(r.mark))}}Va.jsonID("addNodeMark",yc);class Ju extends Va{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Kn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Kn.fromReplace(e,this.pos,this.pos+1,new Tt(it.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new yc(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ju(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ju(r.pos,e.markFromJSON(r.mark))}}Va.jsonID("removeNodeMark",Ju);class fa extends Va{constructor(e,r,n,a=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=a}apply(e){return this.structure&&y5(e,this.from,this.to)?Kn.fail("Structure replace would overwrite content"):Kn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Rs([this.from,this.to-this.from,this.slice.size])}invert(e){return new fa(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new fa(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof fa)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Tt.empty:new Tt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new fa(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Tt.empty:new Tt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new fa(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new fa(r.from,r.to,Tt.fromJSON(e,r.slice),!!r.structure)}}Va.jsonID("replace",fa);class ga extends Va{constructor(e,r,n,a,i,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(y5(e,this.from,this.gapFrom)||y5(e,this.gapTo,this.to)))return Kn.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Kn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Kn.fromReplace(e,this.from,this.to,n):Kn.fail("Content does not fit in gap")}getMap(){return new Rs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new ga(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||i>n.pos?null:new ga(r.pos,n.pos,a,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ga(r.from,r.to,r.gapFrom,r.gapTo,Tt.fromJSON(e,r.slice),r.insert,!!r.structure)}}Va.jsonID("replaceAround",ga);function y5(t,e,r){let n=t.resolve(e),a=r-e,i=n.depth;for(;a>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,a--;if(a>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;a>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,a--}}return!1}function aye(t,e,r,n){let a=[],i=[],o,l;t.doc.nodesBetween(e,r,(c,d,h)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&h.type.allowsMarkType(n.type)){let g=Math.max(d,e),y=Math.min(d+c.nodeSize,r),w=n.addToSet(m);for(let j=0;j<m.length;j++)m[j].isInSet(w)||(o&&o.to==g&&o.mark.eq(m[j])?o.to=y:a.push(o=new Ii(g,y,m[j])));l&&l.to==g?l.to=y:i.push(l=new xc(g,y,n))}}),a.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function sye(t,e,r,n){let a=[],i=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(n instanceof qw){let d=o.marks,h;for(;h=n.isInSet(d);)(c||(c=[])).push(h),d=h.removeFromSet(d)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let d=Math.min(l+o.nodeSize,r);for(let h=0;h<c.length;h++){let m=c[h],g;for(let y=0;y<a.length;y++){let w=a[y];w.step==i-1&&m.eq(a[y].style)&&(g=w)}g?(g.to=d,g.step=i):a.push({style:m,from:Math.max(l,e),to:d,step:i})}}}),a.forEach(o=>t.step(new Ii(o.from,o.to,o.style)))}function NO(t,e,r,n=r.contentMatch,a=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<i.childCount;c++){let d=i.child(c),h=l+d.nodeSize,m=n.matchType(d.type);if(!m)o.push(new fa(l,h,Tt.empty));else{n=m;for(let g=0;g<d.marks.length;g++)r.allowsMarkType(d.marks[g].type)||t.step(new Ii(l,h,d.marks[g]));if(a&&d.isText&&r.whitespace!="pre"){let g,y=/\r?\n|\r/g,w;for(;g=y.exec(d.text);)w||(w=new Tt(it.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),o.push(new fa(l+g.index,l+g.index+g[0].length,w))}}l=h}if(!n.validEnd){let c=n.fillBefore(it.empty,!0);t.replace(l,l,new Tt(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function iye(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Ih(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let a=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&a.canReplace(i,o,r))return n;if(n==0||a.type.spec.isolating||!iye(a,i,o))break}return null}function oye(t,e,r){let{$from:n,$to:a,depth:i}=e,o=n.before(i+1),l=a.after(i+1),c=o,d=l,h=it.empty,m=0;for(let w=i,j=!1;w>r;w--)j||n.index(w)>0?(j=!0,h=it.from(n.node(w).copy(h)),m++):c--;let g=it.empty,y=0;for(let w=i,j=!1;w>r;w--)j||a.after(w+1)<a.end(w)?(j=!0,g=it.from(a.node(w).copy(g)),y++):d++;t.step(new ga(c,d,o,l,new Tt(h.append(g),m,y),h.size-m,!0))}function kO(t,e,r=null,n=t){let a=lye(t,e),i=a&&cye(n,e);return i?a.map(iL).concat({type:e,attrs:r}).concat(i.map(iL)):null}function iL(t){return{type:t,attrs:null}}function lye(t,e){let{parent:r,startIndex:n,endIndex:a}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,a,o)?i:null}function cye(t,e){let{parent:r,startIndex:n,endIndex:a}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=n;c&&d<a;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:o}function uye(t,e,r){let n=it.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=it.from(r[o].type.create(r[o].attrs,n))}let a=e.start,i=e.end;t.step(new ga(a,i,a,i,new Tt(n,0,0),r.length,!0))}function dye(t,e,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof a=="function"?a(o):a;if(o.isTextblock&&!o.hasMarkup(n,c)&&fye(t.doc,t.mapping.slice(i).map(l),n)){let d=null;if(n.schema.linebreakReplacement){let y=n.whitespace=="pre",w=!!n.contentMatch.matchType(n.schema.linebreakReplacement);y&&!w?d=!1:!y&&w&&(d=!0)}d===!1&&BW(t,o,l,i),NO(t,t.mapping.slice(i).map(l,1),n,void 0,d===null);let h=t.mapping.slice(i),m=h.map(l,1),g=h.map(l+o.nodeSize,1);return t.step(new ga(m,g,m+1,g-1,new Tt(it.from(n.create(c,null,o.marks)),0,0),1,!0)),d===!0&&HW(t,o,l,i),!1}})}function HW(t,e,r,n){e.forEach((a,i)=>{if(a.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(a.text);){let c=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function BW(t,e,r,n){e.forEach((a,i)=>{if(a.type==a.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function fye(t,e,r){let n=t.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function hye(t,e,r,n,a){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,a||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ga(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Tt(it.from(o),0,0),1,!0))}function pl(t,e,r=1,n){let a=t.resolve(e),i=a.depth-r,o=n&&n[n.length-1]||a.parent;if(i<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!o.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let d=a.depth-1,h=r-2;d>i;d--,h--){let m=a.node(d),g=a.index(d);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(g,m.childCount),w=n&&n[h+1];w&&(y=y.replaceChild(0,w.type.create(w.attrs)));let j=n&&n[h]||m;if(!m.canReplace(g+1,m.childCount)||!j.type.validContent(y))return!1}let l=a.indexAfter(i),c=n&&n[0];return a.node(i).canReplaceWith(l,l,c?c.type:a.node(i+1).type)}function mye(t,e,r=1,n){let a=t.doc.resolve(e),i=it.empty,o=it.empty;for(let l=a.depth,c=a.depth-r,d=r-1;l>c;l--,d--){i=it.from(a.node(l).copy(i));let h=n&&n[d];o=it.from(h?h.type.create(h.attrs,o):a.node(l).copy(o))}t.step(new fa(e,e,new Tt(i.append(o),r,r),!0))}function $c(t,e){let r=t.resolve(e),n=r.index();return zW(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function pye(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let a=0;a<e.childCount;a++){let i=e.child(a),o=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function zW(t,e){return!!(t&&e&&!t.isLeaf&&pye(t,e))}function Uw(t,e,r=-1){let n=t.resolve(e);for(let a=n.depth;;a--){let i,o,l=n.index(a);if(a==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(a+1),l++,o=n.node(a).maybeChild(l)):(i=n.node(a).maybeChild(l-1),o=n.node(a+1)),i&&!i.isTextblock&&zW(i,o)&&n.node(a).canReplace(l,l+1))return e;if(a==0)break;e=r<0?n.before(a):n.after(a)}}function gye(t,e,r){let n=null,{linebreakReplacement:a}=t.doc.type.schema,i=t.doc.resolve(e-r),o=i.node().type;if(a&&o.inlineContent){let h=o.whitespace=="pre",m=!!o.contentMatch.matchType(a);h&&!m?n=!1:!h&&m&&(n=!0)}let l=t.steps.length;if(n===!1){let h=t.doc.resolve(e+r);BW(t,h.node(),h.before(),l)}o.inlineContent&&NO(t,e+r-1,o,i.node().contentMatchAt(i.index()),n==null);let c=t.mapping.slice(l),d=c.map(e-r);if(t.step(new fa(d,c.map(e+r,-1),Tt.empty,!0)),n===!0){let h=t.doc.resolve(d);HW(t,h.node(),h.before(),t.steps.length)}return t}function xye(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let i=n.index(a);if(n.node(a).canReplaceWith(i,i,r))return n.before(a+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let i=n.indexAfter(a);if(n.node(a).canReplaceWith(i,i,r))return n.after(a+1);if(i<n.node(a).childCount)return null}return null}function VW(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let a=r.content;for(let i=0;i<r.openStart;i++)a=a.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),d=n.node(o),h=!1;if(i==1)h=d.canReplace(c,c,a);else{let m=d.contentMatchAt(c).findWrapping(a.firstChild.type);h=m&&d.canReplaceWith(c,c,m[0])}if(h)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function Ww(t,e,r=e,n=Tt.empty){if(e==r&&!n.size)return null;let a=t.resolve(e),i=t.resolve(r);return qW(a,i,n)?new fa(e,r,n):new yye(a,i,n).fit()}function qW(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class yye{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=it.empty;for(let a=0;a<=e.depth;a++){let i=e.node(a);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=it.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let i=this.placed,o=n.depth,l=a.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new Tt(i,o,l);return e>-1?new ga(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new fa(n.pos,a.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(a=0),i.type.spec.isolating&&a<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let a,i=null;n?(i=qN(this.unplaced.content,n-1).firstChild,a=i.content):a=this.unplaced.content;let o=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],h,m=null;if(r==1&&(o?d.matchType(o.type)||(m=d.fillBefore(it.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:m};if(r==2&&o&&(h=d.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:h};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=qN(e,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Tt(e,r+1,Math.max(n,a.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=qN(e,r);if(a.childCount<=1&&r>0){let i=e.size-r<=r+a.size;this.unplaced=new Tt(fp(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new Tt(fp(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:a,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let j=0;j<i.length;j++)this.openFrontierNode(i[j]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,d=0,h=[],{match:m,type:g}=this.frontier[r];if(a){for(let j=0;j<a.childCount;j++)h.push(a.child(j));m=m.matchFragment(a)}let y=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let j=l.child(d),v=m.matchType(j.type);if(!v)break;d++,(d>1||c==0||j.content.size)&&(m=v,h.push(UW(j.mark(g.allowedMarks(j.marks)),d==1?c:0,d==l.childCount?y:-1)))}let w=d==l.childCount;w||(y=-1),this.placed=hp(this.placed,r,it.from(h)),this.frontier[r].match=m,w&&y<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,v=l;j<y;j++){let N=v.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),v=N.content}this.unplaced=w?e==0?Tt.empty:new Tt(fp(o.content,e-1,1),e-1,y<0?o.openEnd:e-1):new Tt(fp(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!UN(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=UN(e,r,a,n,i);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],h=UN(e,l,d,c,!0);if(!h||h.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=hp(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let a=e.node(n),i=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,i)}return e}openFrontierNode(e,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=hp(this.placed,this.depth,it.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(it.empty,!0);r.childCount&&(this.placed=hp(this.placed,this.frontier.length,r))}}function fp(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(fp(t.firstChild.content,e-1,r)))}function hp(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(hp(t.lastChild.content,e-1,r)))}function qN(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function UW(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,UW(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(it.empty,!0)))),t.copy(n)}function UN(t,e,r,n,a){let i=t.node(e),o=a?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!bye(r,i.content,o)?l:null}function bye(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function vye(t){return t.spec.defining||t.spec.definingForContent}function wye(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let a=t.doc.resolve(e),i=t.doc.resolve(r);if(qW(a,i,n))return t.step(new fa(e,r,n));let o=GW(a,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(a.depth+1);o.unshift(l);for(let g=a.depth,y=a.pos-1;g>0;g--,y--){let w=a.node(g).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(g)>-1?l=g:a.before(g)==y&&o.splice(1,0,-g)}let c=o.indexOf(l),d=[],h=n.openStart;for(let g=n.content,y=0;;y++){let w=g.firstChild;if(d.push(w),y==n.openStart)break;g=w.content}for(let g=h-1;g>=0;g--){let y=d[g],w=vye(y.type);if(w&&!y.sameMarkup(a.node(Math.abs(l)-1)))h=g;else if(w||!y.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let y=(g+h+1)%(n.openStart+1),w=d[y];if(w)for(let j=0;j<o.length;j++){let v=o[(j+c)%o.length],N=!0;v<0&&(N=!1,v=-v);let C=a.node(v-1),S=a.index(v-1);if(C.canReplaceWith(S,S,w.type,w.marks))return t.replace(a.before(v),N?i.after(v):r,new Tt(WW(n.content,0,n.openStart,y),y,n.openEnd))}}let m=t.steps.length;for(let g=o.length-1;g>=0&&(t.replace(e,r,n),!(t.steps.length>m));g--){let y=o[g];y<0||(e=a.before(y),r=i.after(y))}}function WW(t,e,r,n,a){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(WW(i.content,e+1,r,n,i)))}if(e>n){let i=a.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(it.empty,!0))}return t}function jye(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let a=xye(t.doc,e,n.type);a!=null&&(e=r=a)}t.replaceRange(e,r,new Tt(it.from(n),0,0))}function Sye(t,e,r){let n=t.doc.resolve(e),a=t.doc.resolve(r),i=GW(n,a);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),a.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),a.indexAfter(l-1))))return t.delete(n.before(l),a.after(l))}for(let o=1;o<=n.depth&&o<=a.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&a.end(o)-r!=a.depth-o&&n.start(o-1)==a.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),a.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function GW(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let a=n;a>=0;a--){let i=t.start(a);if(i<t.pos-(t.depth-a)||e.end(a)>e.pos+(e.depth-a)||t.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(i==e.start(a)||a==t.depth&&a==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==i-1)&&r.push(a)}return r}class Af extends Va{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Kn.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return Kn.fromReplace(e,this.pos,this.pos+1,new Tt(it.from(a),0,r.isLeaf?0:1))}getMap(){return Rs.empty}invert(e){return new Af(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Af(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Af(r.pos,r.attr,r.value)}}Va.jsonID("attr",Af);class n0 extends Va{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let a in e.attrs)r[a]=e.attrs[a];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Kn.ok(n)}getMap(){return Rs.empty}invert(e){return new n0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new n0(r.attr,r.value)}}Va.jsonID("docAttr",n0);let Qf=class extends Error{};Qf=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Qf.prototype=Object.create(Error.prototype);Qf.prototype.constructor=Qf;Qf.prototype.name="TransformError";class YW{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new r0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Qf(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Tt.empty){let a=Ww(this.doc,e,r,n);return a&&this.step(a),this}replaceWith(e,r,n){return this.replace(e,r,new Tt(it.from(n),0,0))}delete(e,r){return this.replace(e,r,Tt.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return wye(this,e,r,n),this}replaceRangeWith(e,r,n){return jye(this,e,r,n),this}deleteRange(e,r){return Sye(this,e,r),this}lift(e,r){return oye(this,e,r),this}join(e,r=1){return gye(this,e,r),this}wrap(e,r){return uye(this,e,r),this}setBlockType(e,r=e,n,a=null){return dye(this,e,r,n,a),this}setNodeMarkup(e,r,n=null,a){return hye(this,e,r,n,a),this}setNodeAttribute(e,r,n){return this.step(new Af(e,r,n)),this}setDocAttribute(e,r){return this.step(new n0(e,r)),this}addNodeMark(e,r){return this.step(new yc(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof rn)r.isInSet(n.marks)&&this.step(new Ju(e,r));else{let a=n.marks,i,o=[];for(;i=r.isInSet(a);)o.push(new Ju(e,i)),a=i.removeFromSet(a);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return mye(this,e,r,n),this}addMark(e,r,n){return aye(this,e,r,n),this}removeMark(e,r,n){return sye(this,e,r,n),this}clearIncompatible(e,r,n){return NO(this,e,r,n),this}}const WN=Object.create(null);class sr{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new Nye(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Tt.empty){let n=r.content.lastChild,a=null;for(let l=0;l<r.openEnd;l++)a=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:d}=o[l],h=e.mapping.slice(i);e.replaceRange(h.map(c.pos),h.map(d.pos),l?Tt.empty:r),l==0&&cL(e,i,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,a=this.ranges;for(let i=0;i<a.length;i++){let{$from:o,$to:l}=a[i],c=e.mapping.slice(n),d=c.map(o.pos),h=c.map(l.pos);i?e.deleteRange(d,h):(e.replaceRangeWith(d,h,r),cL(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let a=e.parent.inlineContent?new Qt(e):of(e.node(0),e.parent,e.pos,e.index(),r,n);if(a)return a;for(let i=e.depth-1;i>=0;i--){let o=r<0?of(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):of(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Fs(e.node(0))}static atStart(e){return of(e,e,0,0,1)||new Fs(e)}static atEnd(e){return of(e,e,e.content.size,e.childCount,-1)||new Fs(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=WN[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in WN)throw new RangeError("Duplicate use of selection JSON ID "+e);return WN[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Qt.between(this.$anchor,this.$head).getBookmark()}}sr.prototype.visible=!0;class Nye{constructor(e,r){this.$from=e,this.$to=r}}let oL=!1;function lL(t){!oL&&!t.parent.inlineContent&&(oL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Qt extends sr{constructor(e,r=e){lL(e),lL(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return sr.near(n);let a=e.resolve(r.map(this.anchor));return new Qt(a.parent.inlineContent?a:n,n)}replace(e,r=Tt.empty){if(super.replace(e,r),r==Tt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Qt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Gw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Qt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let a=e.resolve(r);return new this(a,n==r?a:e.resolve(n))}static between(e,r,n){let a=e.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let i=sr.findFrom(r,n,!0)||sr.findFrom(r,-n,!0);if(i)r=i.$head;else return sr.near(r,n)}return e.parent.inlineContent||(a==0?e=r:(e=(sr.findFrom(e,-n,!0)||sr.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=a<0&&(e=r))),new Qt(e,r)}}sr.jsonID("text",Qt);class Gw{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Gw(e.map(this.anchor),e.map(this.head))}resolve(e){return Qt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ut extends sr{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),i=e.resolve(a);return n?sr.near(i):new Ut(i)}content(){return new Tt(it.from(this.node),0,0)}eq(e){return e instanceof Ut&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new CO(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ut(e.resolve(r.anchor))}static create(e,r){return new Ut(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ut.prototype.visible=!1;sr.jsonID("node",Ut);class CO{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Gw(n,n):new CO(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ut.isSelectable(n)?new Ut(r):sr.near(r)}}class Fs extends sr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Tt.empty){if(r==Tt.empty){e.delete(0,e.doc.content.size);let n=sr.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Fs(e)}map(e){return new Fs(e)}eq(e){return e instanceof Fs}getBookmark(){return kye}}sr.jsonID("all",Fs);const kye={map(){return this},resolve(t){return new Fs(t)}};function of(t,e,r,n,a,i=!1){if(e.inlineContent)return Qt.create(t,r);for(let o=n-(a>0?0:1);a>0?o<e.childCount:o>=0;o+=a){let l=e.child(o);if(l.isAtom){if(!i&&Ut.isSelectable(l))return Ut.create(t,r-(a<0?l.nodeSize:0))}else{let c=of(t,l,r+a,a<0?l.childCount:0,a,i);if(c)return c}r+=l.nodeSize*a}return null}function cL(t,e,r){let n=t.steps.length-1;if(n<e)return;let a=t.steps[n];if(!(a instanceof fa||a instanceof ga))return;let i=t.mapping.maps[n],o;i.forEach((l,c,d,h)=>{o==null&&(o=h)}),t.setSelection(sr.near(t.doc.resolve(o),r))}const uL=1,sy=2,dL=4;class Cye extends YW{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|uL)&~sy,this.storedMarks=null,this}get selectionSet(){return(this.updated&uL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=sy,this}ensureMarks(e){return rn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&sy)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~sy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||rn.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let a=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(e,i)),this.selection.empty||this.setSelection(sr.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dL,this}get scrolledIntoView(){return(this.updated&dL)>0}}function fL(t,e){return!e||!t?t:t.bind(e)}class mp{constructor(e,r,n){this.name=e,this.init=fL(r.init,n),this.apply=fL(r.apply,n)}}const Tye=[new mp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new mp("selection",{init(t,e){return t.selection||sr.atStart(e.doc)},apply(t){return t.selection}}),new mp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new mp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class GN{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Tye.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new mp(n.key,n.spec.state,n))})}}class gf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),a=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=a?a[o].n:0,d=a?a[o].state:this,h=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,d,n);if(h&&n.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!a){a=[];for(let m=0;m<this.config.plugins.length;m++)a.push(m<o?{state:n,n:r.length}:{state:this,n:0})}r.push(h),n=n.applyInner(h),i=!0}a&&(a[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new gf(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let i=n[a];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new Cye(this)}static create(e){let r=new GN(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new gf(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(e,n);return n}reconfigure(e){let r=new GN(this.schema,e.plugins),n=r.fields,a=new gf(r);for(let i=0;i<n.length;i++){let o=n[i].name;a[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,a)}return a}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],i=a.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(a,this[a.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new GN(e.schema,e.plugins),i=new gf(a);return a.fields.forEach(o=>{if(o.name=="doc")i.doc=Sc.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=sr.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){i[o.name]=d.fromJSON.call(c,e,r[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function KW(t,e,r){for(let n in t){let a=t[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=KW(a,e,{})),r[n]=a}return r}class Pn{constructor(e){this.spec=e,this.props={},e.props&&KW(e.props,this,this.props),this.key=e.key?e.key.key:XW("plugin")}getState(e){return e[this.key]}}const YN=Object.create(null);function XW(t){return t in YN?t+"$"+ ++YN[t]:(YN[t]=0,t+"$")}class ya{constructor(e="key"){this.key=XW(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Aa=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Zf=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let b5=null;const el=function(t,e,r){let n=b5||(b5=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},_ye=function(){b5=null},Qu=function(t,e,r,n){return r&&(hL(t,e,r,n,-1)||hL(t,e,r,n,1))},Mye=/^(img|br|input|textarea|hr)$/i;function hL(t,e,r,n,a){for(var i;;){if(t==r&&e==n)return!0;if(e==(a<0?0:li(t))){let o=t.parentNode;if(!o||o.nodeType!=1||lg(t)||Mye.test(t.nodeName)||t.contentEditable=="false")return!1;e=Aa(t)+(a<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(a<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=a;else return!1;else t=o,e=a<0?li(t):0}else return!1}}function li(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Aye(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=li(t)}else if(t.parentNode&&!lg(t))e=Aa(t),t=t.parentNode;else return null}}function Oye(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!lg(t))e=Aa(t)+1,t=t.parentNode;else return null}}function Eye(t,e,r){for(let n=e==0,a=e==li(t);n||a;){if(t==r)return!0;let i=Aa(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,a=a&&i==li(t)}}function lg(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Yw=function(t){return t.focusNode&&Qu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function yu(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function Dye(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Pye(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(li(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(li(n.startContainer),n.startOffset)}}}const jo=typeof navigator<"u"?navigator:null,mL=typeof document<"u"?document:null,Fc=jo&&jo.userAgent||"",v5=/Edge\/(\d+)/.exec(Fc),JW=/MSIE \d/.exec(Fc),w5=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fc),ws=!!(JW||w5||v5),kc=JW?document.documentMode:w5?+w5[1]:v5?+v5[1]:0,hi=!ws&&/gecko\/(\d+)/i.test(Fc);hi&&+(/Firefox\/(\d+)/.exec(Fc)||[0,0])[1];const j5=!ws&&/Chrome\/(\d+)/.exec(Fc),za=!!j5,QW=j5?+j5[1]:0,ns=!ws&&!!jo&&/Apple Computer/.test(jo.vendor),eh=ns&&(/Mobile\/\w+/.test(Fc)||!!jo&&jo.maxTouchPoints>2),ii=eh||(jo?/Mac/.test(jo.platform):!1),Rye=jo?/Win/.test(jo.platform):!1,nl=/Android \d/.test(Fc),cg=!!mL&&"webkitFontSmoothing"in mL.documentElement.style,Iye=cg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Lye(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Yo(t,e){return typeof t=="number"?t:t[e]}function $ye(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function pL(t,e,r){let n=t.someProp("scrollThreshold")||0,a=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Zf(o);continue}let l=o,c=l==i.body,d=c?Lye(i):$ye(l),h=0,m=0;if(e.top<d.top+Yo(n,"top")?m=-(d.top-e.top+Yo(a,"top")):e.bottom>d.bottom-Yo(n,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Yo(a,"top")-d.top:e.bottom-d.bottom+Yo(a,"bottom")),e.left<d.left+Yo(n,"left")?h=-(d.left-e.left+Yo(a,"left")):e.right>d.right-Yo(n,"right")&&(h=e.right-d.right+Yo(a,"right")),h||m)if(c)i.defaultView.scrollBy(h,m);else{let y=l.scrollLeft,w=l.scrollTop;m&&(l.scrollTop+=m),h&&(l.scrollLeft+=h);let j=l.scrollLeft-y,v=l.scrollTop-w;e={left:e.left-j,top:e.top-v,right:e.right-j,bottom:e.bottom-v}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Zf(o)}}function Fye(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,a;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,a=c.top;break}}return{refDOM:n,refTop:a,stack:ZW(t.dom)}}function ZW(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Zf(n));return e}function Hye({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;eG(r,n==0?0:n-e)}function eG(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:a,left:i}=t[r];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let Qd=null;function Bye(t){if(t.setActive)return t.setActive();if(Qd)return t.focus(Qd);let e=ZW(t);t.focus(Qd==null?{get preventScroll(){return Qd={preventScroll:!0},!0}}:void 0),Qd||(Qd=!1,eG(e,0))}function tG(t,e){let r,n=2e8,a,i=0,o=e.top,l=e.top,c,d;for(let h=t.firstChild,m=0;h;h=h.nextSibling,m++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=el(h).getClientRects();else continue;for(let y=0;y<g.length;y++){let w=g[y];if(w.top<=o&&w.bottom>=l){o=Math.max(w.bottom,o),l=Math.min(w.top,l);let j=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(j<n){r=h,n=j,a=j&&r.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,h.nodeType==1&&j&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!c&&w.left<=e.left&&w.right>=e.left&&(c=h,d={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!r&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!r&&c&&(r=c,a=d,n=0),r&&r.nodeType==3?zye(r,a):!r||n&&r.nodeType==1?{node:t,offset:i}:tG(r,a)}function zye(t,e){let r=t.nodeValue.length,n=document.createRange();for(let a=0;a<r;a++){n.setEnd(t,a+1),n.setStart(t,a);let i=cc(n,1);if(i.top!=i.bottom&&TO(e,i))return{node:t,offset:a+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function TO(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Vye(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function qye(t,e,r){let{node:n,offset:a}=tG(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,a,i)}function Uye(t,e,r,n){let a=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?a=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(a=l.posAfter),o=!0),!l.contentDOM&&a<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return a>-1?a:t.docView.posFromDOM(e,r,-1)}function rG(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=a;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(TO(e,d))return rG(o,e,d)}}if((i=(i+1)%n)==a)break}return t}function Wye(t,e){let r=t.dom.ownerDocument,n,a=0,i=Pye(r,e.left,e.top);i&&({node:n,offset:a}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=t.dom.getBoundingClientRect();if(!TO(e,d)||(o=rG(t.dom,e,d),!o))return null}if(ns)for(let d=o;n&&d;d=Zf(d))d.draggable&&(n=void 0);if(o=Vye(o,e),n){if(hi&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let h=n.childNodes[a],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&a++}let d;cg&&a&&n.nodeType==1&&(d=n.childNodes[a-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&a--,n==t.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(l=Uye(t,n,a,e))}l==null&&(l=qye(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function gL(t){return t.top<t.bottom||t.left<t.right}function cc(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(gL(n))return n}return Array.prototype.find.call(r,gL)||t.getBoundingClientRect()}const Gye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function nG(t,e,r){let{node:n,offset:a,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=cg||hi;if(n.nodeType==3)if(o&&(Gye.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let c=cc(el(n,a,a),r);if(hi&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let d=cc(el(n,a-1,a-1),-1);if(d.top==c.top){let h=cc(el(n,a,a+1),-1);if(h.top!=c.top)return Xm(h,h.left<d.left)}}return c}else{let c=a,d=a,h=r<0?1:-1;return r<0&&!a?(d++,h=-1):r>=0&&a==n.nodeValue.length?(c--,h=1):r<0?c--:d++,Xm(cc(el(n,c,d),h),h<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&a&&(r<0||a==li(n))){let c=n.childNodes[a-1];if(c.nodeType==1)return KN(c.getBoundingClientRect(),!1)}if(i==null&&a<li(n)){let c=n.childNodes[a];if(c.nodeType==1)return KN(c.getBoundingClientRect(),!0)}return KN(n.getBoundingClientRect(),r>=0)}if(i==null&&a&&(r<0||a==li(n))){let c=n.childNodes[a-1],d=c.nodeType==3?el(c,li(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Xm(cc(d,1),!1)}if(i==null&&a<li(n)){let c=n.childNodes[a];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?el(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return Xm(cc(d,-1),!0)}return Xm(cc(n.nodeType==3?el(n):n,-r),r>=0)}function Xm(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function KN(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function aG(t,e,r){let n=t.state,a=t.root.activeElement;n!=e&&t.updateState(e),a!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),a!=t.dom&&a&&a.focus()}}function Yye(t,e,r){let n=e.selection,a=r=="up"?n.$from:n.$to;return aG(t,e,()=>{let{node:i}=t.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=nG(t,a.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=el(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let h=c[d];if(h.bottom>h.top+1&&(r=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const Kye=/[\u0590-\u08ac]/;function Xye(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,i=!a,o=a==n.parent.content.size,l=t.domSelection();return l?!Kye.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?i:o:aG(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:h,anchorOffset:m}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",r,"character");let y=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:w,focusOffset:j}=t.domSelectionRange(),v=w&&!y.contains(w.nodeType==1?w:w.parentNode)||c==w&&d==j;try{l.collapse(h,m),c&&(c!=h||d!=m)&&l.extend&&l.extend(c,d)}catch{}return g!=null&&(l.caretBidiLevel=g),v}):n.pos==n.start()||n.pos==n.end()}let xL=null,yL=null,bL=!1;function Jye(t,e,r){return xL==e&&yL==r?bL:(xL=e,yL=r,bL=r=="up"||r=="down"?Yye(t,e,r):Xye(t,e,r))}const mi=0,vL=1,ku=2,So=3;class ug{constructor(e,r,n,a){this.parent=e,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=mi,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=r>Aa(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){a=!1;break}if(i.previousSibling)break}if(a==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){a=!0;break}if(i.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,a=e;a;a=a.parentNode){let i=this.getDesc(a),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let a=e;a;a=a.parentNode){let i=this.getDesc(a);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],i=n+a.size;if(n==e&&i!=n){for(;!a.border&&a.children.length;)for(let o=0;o<a.children.length;o++){let l=a.children[o];if(l.size){a=l;break}}return a}if(e<i)return a.descAt(e-n-a.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],l=i+o.size;if(l>e||o instanceof iG){a=e-i;break}i=l}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof sG&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Aa(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Aa(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,i=-1;for(let o=n,l=0;;l++){let c=this.children[l],d=o+c.size;if(a==-1&&e<=d){let h=o+c.border;if(e>=h&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,h);e=o;for(let m=l;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){a=Aa(g.dom)+1;break}e-=g.size}a==-1&&(a=0)}if(a>-1&&(d>r||l==this.children.length-1)){r=d;for(let h=l+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Aa(m.dom);break}r+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:r,fromOffset:a,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,a=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let y=0,w=0;y<this.children.length;y++){let j=this.children[y],v=w+j.size;if(i>w&&o<v)return j.setSelection(e-w-j.border,r-w-j.border,n,a);w=v}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),h=n.domSelectionRange(),m=!1;if((hi||ns)&&e==r){let{node:y,offset:w}=l;if(y.nodeType==3){if(m=!!(w&&y.nodeValue[w-1]==`
`),m&&w==y.nodeValue.length)for(let j=y,v;j;j=j.parentNode){if(v=j.nextSibling){v.nodeName=="BR"&&(l=c={node:v.parentNode,offset:Aa(v)+1});break}let N=j.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let j=y.childNodes[w-1];m=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(hi&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let y=h.focusNode.childNodes[h.focusOffset];y&&y.contentEditable=="false"&&(a=!0)}if(!(a||m&&ns)&&Qu(l.node,l.offset,h.anchorNode,h.anchorOffset)&&Qu(c.node,c.offset,h.focusNode,h.focusOffset))return;let g=!1;if((d.extend||e==r)&&!(m&&hi)){d.collapse(l.node,l.offset);try{e!=r&&d.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>r){let w=l;l=c,c=w}let y=document.createRange();y.setEnd(c.node,c.offset),y.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,a=0;a<this.children.length;a++){let i=this.children[a],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+i.border,c=o-i.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?ku:vL,e==l&&r==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=So:i.markDirty(e-l,r-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?ku:So}n=o}this.dirty=ku}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ku:vL;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class sG extends ug{constructor(e,r,n,a){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return a;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==mi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Qye extends ug{constructor(e,r,n,a){super(e,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Zu extends ug{constructor(e,r,n,a,i){super(e,[],n,a),this.mark=r,this.spec=i}static create(e,r,n,a){let i=a.nodeViews[r.type.name],o=i&&i(r,a,n);return(!o||!o.dom)&&(o=ud.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Zu(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&So||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=So&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=mi){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=mi}}slice(e,r,n){let a=Zu.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=N5(i,r,o,n)),e>0&&(i=N5(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=a;return a.children=i,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Cc extends ug{constructor(e,r,n,a,i,o,l,c,d){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=l}static create(e,r,n,a,i,o){let l=i.nodeViews[r.type.name],c,d=l&&l(r,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,a),h=d&&d.dom,m=d&&d.contentDOM;if(r.isText){if(!h)h=document.createTextNode(r.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=ud.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),r.type.spec.draggable&&(h.draggable=!0));let g=h;return h=cG(h,n,r),d?c=new Zye(e,r,n,a,h,m||null,g,d,i,o+1):r.isText?new Kw(e,r,n,a,h,g,i):new Cc(e,r,n,a,h,m||null,g,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>it.empty)}return e}matchesNode(e,r,n){return this.dirty==mi&&e.eq(this.node)&&zb(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,a=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new tbe(this,o&&o.node,e);abe(this.node,this.innerDeco,(d,h,m)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?rn.none:this.node.child(h).marks,n,e),c.placeWidget(d,e,a)},(d,h,m,g)=>{c.syncToMarks(d.marks,n,e);let y;c.findNodeMatch(d,h,m,g)||l&&e.state.selection.from>a&&e.state.selection.to<a+d.nodeSize&&(y=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(d,h,m,y,e)||c.updateNextNode(d,h,m,e,g,a)||c.addNode(d,h,m,e,a),a+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==ku)&&(o&&this.protectLocalComposition(e,o),oG(this.contentDOM,this.children,e),eh&&sbe(this.dom))}localCompositionInfo(e,r){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof Qt)||n<r||a>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=ibe(this.node.content,o,n-r,a-r);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Qye(this,i,r,a);e.input.compositionNodes.push(o),this.children=N5(this.children,n,n+a.length,e,o)}update(e,r,n,a){return this.dirty==So||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,a),!0)}updateInner(e,r,n,a){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=mi}updateOuterDeco(e){if(zb(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=lG(this.dom,this.nodeDOM,S5(this.outerDeco,this.node,r),S5(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function wL(t,e,r,n,a){cG(n,e,t);let i=new Cc(void 0,t,e,r,n,n,n,a,0);return i.contentDOM&&i.updateChildren(a,0),i}class Kw extends Cc{constructor(e,r,n,a,i,o,l){super(e,r,n,a,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,a){return this.dirty==So||this.dirty!=mi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=mi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=mi,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let a=this.node.cut(e,r),i=document.createTextNode(a.text);return new Kw(this.parent,a,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=So)}get domAtom(){return!1}isText(e){return this.node.text==e}}class iG extends ug{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==mi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Zye extends Cc{constructor(e,r,n,a,i,o,l,c,d,h){super(e,r,n,a,i,o,l,d,h),this.spec=c}update(e,r,n,a){if(this.dirty==So)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,a),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,a){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function oG(t,e,r){let n=t.firstChild,a=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=jL(n),a=!0;n=n.nextSibling}else a=!0,t.insertBefore(l,n);if(o instanceof Zu){let c=n?n.previousSibling:t.lastChild;oG(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=jL(n),a=!0;a&&r.trackWrites==t&&(r.trackWrites=null)}const Cp=function(t){t&&(this.nodeName=t)};Cp.prototype=Object.create(null);const Cu=[new Cp];function S5(t,e,r){if(t.length==0)return Cu;let n=r?Cu[0]:new Cp,a=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&a.push(n=new Cp(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&a.length==1&&a.push(n=new Cp(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return a}function lG(t,e,r,n){if(r==Cu&&n==Cu)return e;let a=e;for(let i=0;i<n.length;i++){let o=n[i],l=r[i];if(i){let c;l&&l.nodeName==o.nodeName&&a!=t&&(c=a.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=Cu[0]),a=c}ebe(a,l||Cu[0],o)}return a}function ebe(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)a.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<a.length;i++)n.indexOf(a[i])==-1&&t.classList.add(a[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)t.style.removeProperty(a[1])}r.style&&(t.style.cssText+=r.style)}}function cG(t,e,r){return lG(t,t,Cu,S5(e,r,t.nodeType!=1))}function zb(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function jL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class tbe{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=rbe(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let a=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;a<o&&(a==i-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<i;)this.destroyRest(),this.top.dirty=mi,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[i])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Zu.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,a){let i=-1,o;if(a>=this.preMatch.index&&(o=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,a,i){let o=this.top.children[a];return o.dirty==So&&o.dom==o.contentDOM&&(o.dirty=ku),o.update(e,r,n,i)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=r}}updateNextNode(e,r,n,a,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Cc){let d=this.preMatch.matched.get(c);if(d!=null&&d!=i)return!1;let h=c.dom,m,g=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=So&&zb(r,c.outerDeco));if(!g&&c.update(e,r,n,a))return this.destroyBetween(this.index,l),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(c,e,r,n,a,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=ku,m.updateChildren(a,o+1),m.dirty=mi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,a,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!zb(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let l=Cc.create(this.top,r,n,a,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,a,i){let o=Cc.create(this.top,e,r,n,a,i);o.contentDOM&&o.updateChildren(a,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let i=new sG(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Zu;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Kw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ns||za)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new iG(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function rbe(t,e){let r=e,n=r.children.length,a=t.childCount,i=new Map,o=[];e:for(;a>0;){let l;for(;;)if(n){let d=r.children[n-1];if(d instanceof Zu)r=d,n=d.children.length;else{l=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(a-1))break;--a,i.set(l,a),o.push(l)}}return{index:a,matched:i,matches:o.reverse()}}function nbe(t,e){return t.type.side-e.type.side}function abe(t,e,r,n){let a=e.locals(t),i=0;if(a.length==0){for(let d=0;d<t.childCount;d++){let h=t.child(d);n(h,a,e.forChild(i,h),d),i+=h.nodeSize}return}let o=0,l=[],c=null;for(let d=0;;){let h,m;for(;o<a.length&&a[o].to==i;){let v=a[o++];v.widget&&(h?(m||(m=[h])).push(v):h=v)}if(h)if(m){m.sort(nbe);for(let v=0;v<m.length;v++)r(m[v],d,!!c)}else r(h,d,!!c);let g,y;if(c)y=-1,g=c,c=null;else if(d<t.childCount)y=d,g=t.child(d++);else break;for(let v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;o<a.length&&a[o].from<=i&&a[o].to>i;)l.push(a[o++]);let w=i+g.nodeSize;if(g.isText){let v=w;o<a.length&&a[o].from<v&&(v=a[o].from);for(let N=0;N<l.length;N++)l[N].to<v&&(v=l[N].to);v<w&&(c=g.cut(v-i),g=g.cut(0,v-i),w=v,y=-1)}else for(;o<a.length&&a[o].to<w;)o++;let j=g.isInline&&!g.isLeaf?l.filter(v=>!v.inline):l.slice();n(g,j,e.forChild(i,g),y),i=w}}function sbe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function ibe(t,e,r,n){for(let a=0,i=0;a<t.childCount&&i<=n;){let o=t.child(a++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;a<t.childCount;){let d=t.child(a++);if(i+=d.nodeSize,!d.isText)break;c+=d.text}if(i>=r){if(i>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let d=l<n?c.lastIndexOf(e,n-l-1):-1;if(d>=0&&d+e.length+l>=r)return l+d;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function N5(t,e,r,n,a){let i=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],d=l,h=l+=c.size;d>=r||h<=e?i.push(c):(d<e&&i.push(c.slice(0,e-d,n)),a&&(i.push(a),a=void 0),h>r&&i.push(c.slice(r-d,c.size,n)))}return i}function _O(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let a=t.docView.nearestDesc(r.focusNode),i=a&&a.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,d;if(Yw(r)){for(c=o;a&&!a.node;)a=a.parent;let m=a.node;if(a&&m.isAtom&&Ut.isSelectable(m)&&a.parent&&!(m.isInline&&Eye(r.focusNode,r.focusOffset,a.dom))){let g=a.posBefore;d=new Ut(o==g?l:n.resolve(g))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=o,g=o;for(let y=0;y<r.rangeCount;y++){let w=r.getRangeAt(y);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[c,o]=g==t.state.selection.anchor?[g,m]:[m,g],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let h=n.resolve(c);if(!d){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=MO(t,h,l,m)}return d}function uG(t){return t.editable?t.hasFocus():fG(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function gl(t,e=!1){let r=t.state.selection;if(dG(t,r),!!uG(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&za){let n=t.domSelectionRange(),a=t.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&Qu(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)lbe(t);else{let{anchor:n,head:a}=r,i,o;SL&&!(r instanceof Qt)&&(r.$from.parent.inlineContent||(i=NL(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=NL(t,r.to))),t.docView.setSelection(n,a,t,e),SL&&(i&&kL(i),o&&kL(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&obe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const SL=ns||za&&QW<63;function NL(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),a=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(ns&&a&&a.contentEditable=="false")return XN(a);if((!a||a.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(a)return XN(a);if(i)return XN(i)}}function XN(t){return t.contentEditable="true",ns&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function kL(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function obe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!uG(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function lbe(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Aa(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&ws&&kc<=11&&(r.disabled=!0,r.disabled=!1)}function dG(t,e){if(e instanceof Ut){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(CL(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else CL(t)}function CL(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function MO(t,e,r,n){return t.someProp("createSelectionBetween",a=>a(t,e,r))||Qt.between(e,r,n)}function TL(t){return t.editable&&!t.hasFocus()?!1:fG(t)}function fG(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function cbe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Qu(e.node,e.offset,r.anchorNode,r.anchorOffset)}function k5(t,e){let{$anchor:r,$head:n}=t.selection,a=e>0?r.max(n):r.min(n),i=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return i&&sr.findFrom(i,e)}function uc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function _L(t,e,r){let n=t.state.selection;if(n instanceof Qt)if(r.indexOf("s")>-1){let{$head:a}=n,i=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(a.pos+i.nodeSize*(e<0?-1:1));return uc(t,new Qt(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let a=k5(t.state,e);return a&&a instanceof Ut?uc(t,a):!1}else if(!(ii&&r.indexOf("m")>-1)){let a=n.$head,i=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?a.pos-i.nodeSize:a.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Ut.isSelectable(i)?uc(t,new Ut(e<0?t.state.doc.resolve(a.pos-i.nodeSize):a)):cg?uc(t,new Qt(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ut&&n.node.isInline)return uc(t,new Qt(e>0?n.$to:n.$from));{let a=k5(t.state,e);return a?uc(t,a):!1}}}function Vb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Tp(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Zd(t,e){return e<0?ube(t):dbe(t)}function ube(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a,i,o=!1;for(hi&&r.nodeType==1&&n<Vb(r)&&Tp(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(Tp(l,-1))a=r,i=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(hG(r))break;{let l=r.previousSibling;for(;l&&Tp(l,-1);)a=r.parentNode,i=Aa(l),l=l.previousSibling;if(l)r=l,n=Vb(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?C5(t,r,n):a&&C5(t,a,i)}function dbe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a=Vb(r),i,o;for(;;)if(n<a){if(r.nodeType!=1)break;let l=r.childNodes[n];if(Tp(l,1))i=r,o=++n;else break}else{if(hG(r))break;{let l=r.nextSibling;for(;l&&Tp(l,1);)i=l.parentNode,o=Aa(l)+1,l=l.nextSibling;if(l)r=l,n=0,a=Vb(r);else{if(r=r.parentNode,r==t.dom)break;n=a=0}}}i&&C5(t,i,o)}function hG(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function fbe(t,e){for(;t&&e==t.childNodes.length&&!lg(t);)e=Aa(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function hbe(t,e){for(;t&&!e&&!lg(t);)e=Aa(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function C5(t,e,r){if(e.nodeType!=3){let i,o;(o=fbe(e,r))?(e=o,r=0):(i=hbe(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Yw(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&gl(t)},50)}function ML(t,e){let r=t.state.doc.resolve(e);if(!(za||Rye)&&r.parent.inlineContent){let a=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(i.left-a.left)>1)return i.left<a.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(i.left-a.left)>1)return i.left>a.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function AL(t,e,r){let n=t.state.selection;if(n instanceof Qt&&!n.empty||r.indexOf("s")>-1||ii&&r.indexOf("m")>-1)return!1;let{$from:a,$to:i}=n;if(!a.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=k5(t.state,e);if(o&&o instanceof Ut)return uc(t,o)}if(!a.parent.inlineContent){let o=e<0?a:i,l=n instanceof Fs?sr.near(o,e):sr.findFrom(o,e);return l?uc(t,l):!1}return!1}function OL(t,e){if(!(t.state.selection instanceof Qt))return!0;let{$head:r,$anchor:n,empty:a}=t.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function EL(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function mbe(t){if(!ns||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;EL(t,n,"true"),setTimeout(()=>EL(t,n,"false"),20)}return!1}function pbe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function gbe(t,e){let r=e.keyCode,n=pbe(e);if(r==8||ii&&r==72&&n=="c")return OL(t,-1)||Zd(t,-1);if(r==46&&!e.shiftKey||ii&&r==68&&n=="c")return OL(t,1)||Zd(t,1);if(r==13||r==27)return!0;if(r==37||ii&&r==66&&n=="c"){let a=r==37?ML(t,t.state.selection.from)=="ltr"?-1:1:-1;return _L(t,a,n)||Zd(t,a)}else if(r==39||ii&&r==70&&n=="c"){let a=r==39?ML(t,t.state.selection.from)=="ltr"?1:-1:1;return _L(t,a,n)||Zd(t,a)}else{if(r==38||ii&&r==80&&n=="c")return AL(t,-1,n)||Zd(t,-1);if(r==40||ii&&r==78&&n=="c")return mbe(t)||AL(t,1,n)||Zd(t,1);if(n==(ii?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function AO(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let r=[],{content:n,openStart:a,openEnd:i}=e;for(;a>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,i--;let y=n.firstChild;r.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),n=y.content}let o=t.someProp("clipboardSerializer")||ud.fromSchema(t.state.schema),l=bG(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let d=c.firstChild,h,m=0;for(;d&&d.nodeType==1&&(h=yG[d.nodeName.toLowerCase()]);){for(let y=h.length-1;y>=0;y--){let w=l.createElement(h[y]);for(;c.firstChild;)w.appendChild(c.firstChild);c.appendChild(w),m++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${a} ${i}${m?` -${m}`:""} ${JSON.stringify(r)}`);let g=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function mG(t,e,r,n,a){let i=a.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||i||!r);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,i||n,t)}),i)return l=new Tt(it.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",g=>g(e,a,n,t));if(m)l=m;else{let g=a.marks(),{schema:y}=t.state,w=ud.fromSchema(y);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(j=>{let v=o.appendChild(document.createElement("p"));j&&v.appendChild(w.serializeNode(y.text(j,g)))})}}else t.someProp("transformPastedHTML",m=>{r=m(r,t)}),o=vbe(r),cg&&wbe(o);let d=o&&o.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Nc.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||h),context:a,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!xbe.test(g.parentNode.nodeName)?{ignore:!0}:null}})),h)l=jbe(DL(l,+h[1],+h[2]),h[4]);else if(l=Tt.maxOpen(ybe(l.content,a),!0),l.openStart||l.openEnd){let m=0,g=0;for(let y=l.content.firstChild;m<l.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=l.content.lastChild;g<l.openEnd&&!y.type.spec.isolating;g++,y=y.lastChild);l=DL(l,m,g)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const xbe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ybe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(l=>{if(!o)return;let c=a.findWrapping(l.type),d;if(!c)return o=null;if(d=o.length&&i.length&&gG(c,i,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=xG(o[o.length-1],i.length));let h=pG(l,c);o.push(h),a=a.matchType(h.type),i=c}}),o)return it.from(o)}return t}function pG(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,it.from(t));return t}function gG(t,e,r,n,a){if(a<t.length&&a<e.length&&t[a]==e[a]){let i=gG(t,e,r,n.lastChild,a+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(a==t.length-1?r.type:t[a+1]))return n.copy(n.content.append(it.from(pG(r,t,a+1))))}}function xG(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,xG(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(it.empty,!0);return t.copy(r.append(n))}function T5(t,e,r,n,a,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),a<n-1&&(l=T5(l,e,r,n,a+1,i)),a>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=a).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(it.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function DL(t,e,r){return e<t.openStart&&(t=new Tt(T5(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new Tt(T5(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const yG={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let PL=null;function bG(){return PL||(PL=document.implementation.createHTMLDocument("title"))}let JN=null;function bbe(t){let e=window.trustedTypes;return e?(JN||(JN=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),JN.createHTML(t)):t}function vbe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=bG().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),a;if((a=n&&yG[n[1].toLowerCase()])&&(t=a.map(i=>"<"+i+">").join("")+t+a.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=bbe(t),a)for(let i=0;i<a.length;i++)r=r.querySelector(a[i])||r;return r}function wbe(t){let e=t.querySelectorAll(za?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function jbe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:a,openStart:i,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;a=it.from(c.create(n[l+1],a)),i++,o++}return new Tt(a,i,o)}const as={},ss={},Sbe={touchstart:!0,touchmove:!0};class Nbe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function kbe(t){for(let e in as){let r=as[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{Tbe(t,n)&&!OO(t,n)&&(t.editable||!(n.type in ss))&&r(t,n)},Sbe[e]?{passive:!0}:void 0)}ns&&t.dom.addEventListener("input",()=>null),_5(t)}function bc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Cbe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _5(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>OO(t,n))})}function OO(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function Tbe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function _be(t,e){!OO(t,e)&&as[e.type]&&(t.editable||!(e.type in ss))&&as[e.type](t,e)}ss.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!wG(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(nl&&za&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),eh&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",a=>a(t,yu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||gbe(t,r)?r.preventDefault():bc(t,"key")};ss.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ss.keypress=(t,e)=>{let r=e;if(wG(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||ii&&r.metaKey)return;if(t.someProp("handleKeyPress",a=>a(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Qt)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,a,i))&&t.dispatch(i()),r.preventDefault()}};function Xw(t){return{left:t.clientX,top:t.clientY}}function Mbe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function EO(t,e,r,n,a){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,r,i.nodeAfter,i.before(o),a,!0):l(t,r,i.node(o),i.before(o),a,!1)))return!0;return!1}function Of(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function Abe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ut.isSelectable(n)?(Of(t,new Ut(r)),!0):!1}function Obe(t,e){if(e==-1)return!1;let r=t.state.selection,n,a;r instanceof Ut&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(Ut.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?a=i.before(r.$from.depth):a=i.before(o);break}}return a!=null?(Of(t,Ut.create(t.state.doc,a)),!0):!1}function Ebe(t,e,r,n,a){return EO(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(a?Obe(t,r):Abe(t,r))}function Dbe(t,e,r,n){return EO(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",a=>a(t,e,n))}function Pbe(t,e,r,n){return EO(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",a=>a(t,e,n))||Rbe(t,r,n)}function Rbe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Of(t,Qt.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let i=a.depth+1;i>0;i--){let o=i>a.depth?a.nodeAfter:a.node(i),l=a.before(i);if(o.inlineContent)Of(t,Qt.create(n,l+1,l+1+o.content.size));else if(Ut.isSelectable(o))Of(t,Ut.create(n,l));else continue;return!0}}function DO(t){return qb(t)}const vG=ii?"metaKey":"ctrlKey";as.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=DO(t),a=Date.now(),i="singleClick";a-t.input.lastClick.time<500&&Mbe(r,t.input.lastClick)&&!r[vG]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:i,button:r.button};let o=t.posAtCoords(Xw(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Ibe(t,o,r,!!n)):(i=="doubleClick"?Dbe:Pbe)(t,o.pos,o.inside,r)?r.preventDefault():bc(t,"pointer"))};class Ibe{constructor(e,r,n,a){this.view=e,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[vG],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let h=e.state.doc.resolve(r.pos);i=h.parent,o=h.depth?h.before():0}const l=a?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof Ut&&d.from<=o&&d.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>gl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Xw(e))),this.updateAllowDefault(e),this.allowDefault||!r?bc(this.view,"pointer"):Ebe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ns&&this.mightDrag&&!this.mightDrag.node.isAtom||za&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Of(this.view,sr.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):bc(this.view,"pointer")}move(e){this.updateAllowDefault(e),bc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}as.touchstart=t=>{t.input.lastTouch=Date.now(),DO(t),bc(t,"pointer")};as.touchmove=t=>{t.input.lastTouch=Date.now(),bc(t,"pointer")};as.contextmenu=t=>DO(t);function wG(t,e){return t.composing?!0:ns&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Lbe=nl?5e3:-1;ss.compositionstart=ss.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Qt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),qb(t,!0),t.markCursor=null;else if(qb(t,!e.selection.empty),hi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let a=n.focusNode,i=n.focusOffset;a&&a.nodeType==1&&i!=0;){let o=i<0?a.lastChild:a.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else a=o,i=-1}}t.input.composing=!0}jG(t,Lbe)};ss.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,jG(t,20))};function jG(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>qb(t),e))}function SG(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Fbe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function $be(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=Aye(e.focusNode,e.focusOffset),n=Oye(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!a||!a.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function Fbe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function qb(t,e=!1){if(!(nl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),SG(t),e||t.docView&&t.docView.dirty){let r=_O(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Hbe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const a0=ws&&kc<15||eh&&Iye<604;as.copy=ss.cut=(t,e)=>{let r=e,n=t.state.selection,a=r.type=="cut";if(n.empty)return;let i=a0?null:r.clipboardData,o=n.content(),{dom:l,text:c}=AO(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):Hbe(t,l),a&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Bbe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function zbe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?s0(t,n.value,null,a,e):s0(t,n.textContent,n.innerHTML,a,e)},50)}function s0(t,e,r,n,a){let i=mG(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,a,i||Tt.empty)))return!0;if(!i)return!1;let o=Bbe(i),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function NG(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ss.paste=(t,e)=>{let r=e;if(t.composing&&!nl)return;let n=a0?null:r.clipboardData,a=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&s0(t,NG(n),n.getData("text/html"),a,r)?r.preventDefault():zbe(t,r)};class kG{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const Vbe=ii?"altKey":"ctrlKey";function CG(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[Vbe]}as.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=t.state.selection,i=a.empty?null:t.posAtCoords(Xw(r)),o;if(!(i&&i.pos>=a.from&&i.pos<=(a instanceof Ut?a.to-1:a.to))){if(n&&n.mightDrag)o=Ut.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=t.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=Ut.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:d,slice:h}=AO(t,l);(!r.dataTransfer.files.length||!za||QW>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(a0?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",a0||r.dataTransfer.setData("text/plain",d),t.dragging=new kG(h,CG(t,r),o)};as.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ss.dragover=ss.dragenter=(t,e)=>e.preventDefault();ss.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let a=t.posAtCoords(Xw(r));if(!a)return;let i=t.state.doc.resolve(a.pos),o=n&&n.slice;o?t.someProp("transformPasted",w=>{o=w(o,t,!1)}):o=mG(t,NG(r.dataTransfer),a0?null:r.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&CG(t,r));if(t.someProp("handleDrop",w=>w(t,r,o||Tt.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?VW(t.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:w}=n;w?w.replace(d):d.deleteSelection()}let h=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(g))return;let y=d.doc.resolve(h);if(m&&Ut.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new Ut(y));else{let w=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((j,v,N,C)=>w=C),d.setSelection(MO(t,y,d.doc.resolve(w)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};as.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&gl(t)},20))};as.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};as.beforeinput=(t,e)=>{if(za&&nl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,yu(8,"Backspace")))))return;let{$cursor:a}=t.state.selection;a&&a.pos>0&&t.dispatch(t.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let t in ss)as[t]=ss[t];function i0(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Ub{constructor(e,r){this.toDOM=e,this.spec=r||Hu,this.side=this.spec.side||0}map(e,r,n,a){let{pos:i,deleted:o}=e.mapResult(r.from+a,this.side<0?-1:1);return o?null:new Xa(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Ub&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&i0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Tc{constructor(e,r){this.attrs=e,this.spec=r||Hu}map(e,r,n,a){let i=e.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Xa(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Tc&&i0(this.attrs,e.attrs)&&i0(this.spec,e.spec)}static is(e){return e.type instanceof Tc}destroy(){}}class PO{constructor(e,r){this.attrs=e,this.spec=r||Hu}map(e,r,n,a){let i=e.mapResult(r.from+a,1);if(i.deleted)return null;let o=e.mapResult(r.to+a,-1);return o.deleted||o.pos<=i.pos?null:new Xa(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:a}=e.content.findIndex(r.from),i;return a==r.from&&!(i=e.child(n)).isText&&a+i.nodeSize==r.to}eq(e){return this==e||e instanceof PO&&i0(this.attrs,e.attrs)&&i0(this.spec,e.spec)}destroy(){}}class Xa{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Xa(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Xa(e,e,new Ub(r,n))}static inline(e,r,n,a){return new Xa(e,r,new Tc(n,a))}static node(e,r,n,a){return new Xa(e,r,new PO(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Tc}get widget(){return this.type instanceof Ub}}const lf=[],Hu={};class bn{constructor(e,r){this.local=e.length?e:lf,this.children=r.length?r:lf}static create(e,r){return r.length?Wb(r,e,0,Hu):La}find(e,r,n){let a=[];return this.findInner(e??0,r??1e9,a,0,n),a}findInner(e,r,n,a,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+a,l.to+a))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,a+l,i)}}map(e,r,n){return this==La||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Hu)}mapInner(e,r,n,a,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,a);c&&c.type.valid(r,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?qbe(this.children,o||[],e,r,n,a,i):o?new bn(o.sort(Bu),lf):La}add(e,r){return r.length?this==La?bn.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let a,i=0;e.forEach((l,c)=>{let d=c+n,h;if(h=_G(r,l,d)){for(a||(a=this.children.slice());i<a.length&&a[i]<c;)i+=3;a[i]==c?a[i+2]=a[i+2].addInner(l,h,d+1):a.splice(i,0,c,c+l.nodeSize,Wb(h,l,d+1,Hu)),i+=3}});let o=TG(i?MG(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new bn(o.length?this.local.concat(o).sort(Bu):this.local,a||this.children)}remove(e){return e.length==0||this==La?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,a=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+r,c=n[i+1]+r;for(let h=0,m;h<e.length;h++)(m=e[h])&&m.from>l&&m.to<c&&(e[h]=null,(o||(o=[])).push(m));if(!o)continue;n==this.children&&(n=this.children.slice());let d=n[i+2].removeInner(o,l+1);d!=La?n[i+2]=d:(n.splice(i,3),i-=3)}if(a.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<a.length;l++)a[l].eq(o,r)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new bn(a,n):La}forChild(e,r){if(this==La)return this;if(r.isLeaf)return bn.empty;let n,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,o=i+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof Tc){let d=Math.max(i,c.from)-i,h=Math.min(o,c.to)-i;d<h&&(a||(a=[])).push(c.copy(d,h))}}if(a){let l=new bn(a.sort(Bu),lf);return n?new mc([l,n]):l}return n||La}eq(e){if(this==e)return!0;if(!(e instanceof bn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return RO(this.localsInner(e))}localsInner(e){if(this==La)return lf;if(e.inlineContent||!this.local.some(Tc.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Tc||r.push(this.local[n]);return r}forEachSet(e){e(this)}}bn.empty=new bn([],[]);bn.removeOverlap=RO;const La=bn.empty;class mc{constructor(e){this.members=e}map(e,r){const n=this.members.map(a=>a.map(e,r,Hu));return mc.from(n)}forChild(e,r){if(r.isLeaf)return bn.empty;let n=[];for(let a=0;a<this.members.length;a++){let i=this.members[a].forChild(e,r);i!=La&&(i instanceof mc?n=n.concat(i.members):n.push(i))}return mc.from(n)}eq(e){if(!(e instanceof mc)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let a=0;a<this.members.length;a++){let i=this.members[a].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?RO(n?r:r.sort(Bu)):lf}static from(e){switch(e.length){case 0:return La;case 1:return e[0];default:return new mc(e.every(r=>r instanceof bn)?e:e.reduce((r,n)=>r.concat(n instanceof bn?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function qbe(t,e,r,n,a,i,o){let l=t.slice();for(let d=0,h=i;d<r.maps.length;d++){let m=0;r.maps[d].forEach((g,y,w,j)=>{let v=j-w-(y-g);for(let N=0;N<l.length;N+=3){let C=l[N+1];if(C<0||g>C+h-m)continue;let S=l[N]+h-m;y>=S?l[N+1]=g<=S?-2:-1:g>=h&&v&&(l[N]+=v,l[N+1]+=v)}m+=v}),h=r.maps[d].map(h,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let h=r.map(t[d]+i),m=h-a;if(m<0||m>=n.content.size){c=!0;continue}let g=r.map(t[d+1]+i,-1),y=g-a,{index:w,offset:j}=n.content.findIndex(m),v=n.maybeChild(w);if(v&&j==m&&j+v.nodeSize==y){let N=l[d+2].mapInner(r,v,h+1,t[d]+i+1,o);N!=La?(l[d]=m,l[d+1]=y,l[d+2]=N):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=Ube(l,t,e,r,a,i,o),h=Wb(d,n,0,o);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<h.children.length;m+=3){let y=h.children[m];for(;g<l.length&&l[g]<y;)g+=3;l.splice(g,0,h.children[m],h.children[m+1],h.children[m+2])}}return new bn(e.sort(Bu),l)}function TG(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let a=t[n];r.push(new Xa(a.from+e,a.to+e,a.type))}return r}function Ube(t,e,r,n,a,i,o){function l(c,d){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(n,a,d);m?r.push(m):o.onRemove&&o.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return r}function _G(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,a=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((a||(a=[])).push(o),t[i]=null);return a}function MG(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Wb(t,e,r,n){let a=[],i=!1;e.forEach((l,c)=>{let d=_G(t,l,c+r);if(d){i=!0;let h=Wb(d,l,r+c+1,n);h!=La&&a.push(c,c+l.nodeSize,h)}});let o=TG(i?MG(t):t,-r).sort(Bu);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||a.length?new bn(o,a):La}function Bu(t,e){return t.from-e.from||t.to-e.to}function RO(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let a=r+1;a<e.length;a++){let i=e[a];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[a]=i.copy(i.from,n.to),RL(e,a+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),RL(e,a,n.copy(i.from,n.to)));break}}}return e}function RL(t,e,r){for(;e<t.length&&Bu(r,t[e])>0;)e++;t.splice(e,0,r)}function QN(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=La&&e.push(n)}),t.cursorWrapper&&e.push(bn.create(t.state.doc,[t.cursorWrapper.deco])),mc.from(e)}const Wbe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Gbe=ws&&kc<=11;class Ybe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Kbe{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ybe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);ws&&kc<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),Gbe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Wbe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(TL(this.view)){if(this.suppressingSelectionUpdates)return gl(this.view);if(ws&&kc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Qu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=Zf(i))r.add(i);for(let i=e.anchorNode;i;i=Zf(i))if(r.has(i)){n=i;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&TL(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,c=[];if(e.editable)for(let h=0;h<r.length;h++){let m=this.registerMutation(r[h],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(hi&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,g]=h;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of h){let y=g.parentNode;y&&y.nodeName=="LI"&&(!m||Qbe(e,m)!=y)&&g.remove()}}}let d=null;i<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Yw(n)&&(d=_O(e))&&d.eq(sr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,gl(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||a)&&(i>-1&&(e.docView.markDirty(i,o),Xbe(e)),this.handleDOMChange(i,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||gl(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let m=e.addedNodes[h];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,i=e.nextSibling;if(ws&&kc<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:m,nextSibling:g}=e.addedNodes[h];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(a=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g)}let o=a&&a.parentNode==e.target?Aa(a)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=i&&i.parentNode==e.target?Aa(i):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let IL=new WeakMap,LL=!1;function Xbe(t){if(!IL.has(t)&&(IL.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=hi,LL)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),LL=!0}}function $L(t,e){let r=e.startContainer,n=e.startOffset,a=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Qu(o.node,o.offset,a,i)&&([r,n,a,i]=[a,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:i}}function Jbe(t,e){if(e.getComposedRanges){let a=e.getComposedRanges(t.root)[0];if(a)return $L(t,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?$L(t,r):null}function Qbe(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Zbe(t,e,r){let{node:n,fromOffset:a,toOffset:i,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,h=c.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:c.anchorOffset}],Yw(c)||d.push({node:c.focusNode,offset:c.focusOffset})),za&&t.input.lastKeyCode===8)for(let v=i;v>a;v--){let N=n.childNodes[v-1],C=N.pmViewDesc;if(N.nodeName=="BR"&&!C){i=v;break}if(!C||C.size)break}let m=t.state.doc,g=t.someProp("domParser")||Nc.fromSchema(t.state.schema),y=m.resolve(o),w=null,j=g.parse(n,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:a,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:eve,context:y});if(d&&d[0].pos!=null){let v=d[0].pos,N=d[1]&&d[1].pos;N==null&&(N=v),w={anchor:v+o,head:N+o}}return{doc:j,sel:w,from:o,to:l}}function eve(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ns&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||ns&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const tve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function rve(t,e,r,n,a){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=_O(t,O);if(D&&!t.state.selection.eq(D)){if(za&&nl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,yu(13,"Enter"))))return;let $=t.state.tr.setSelection(D);O=="pointer"?$.setMeta("pointer",!0):O=="key"&&$.scrollIntoView(),i&&$.setMeta("composition",i),t.dispatch($)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,d=Zbe(t,e,r),h=t.state.doc,m=h.slice(d.from,d.to),g,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,y="end"):(g=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let w=sve(m.content,d.doc.content,d.from,g,y);if(w&&t.input.domChangeCount++,(eh&&t.input.lastIOSEnter>Date.now()-225||nl)&&a.some(O=>O.nodeType==1&&!tve.test(O.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",O=>O(t,yu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(n&&c instanceof Qt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))w={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let O=FL(t,t.state.doc,d.sel);if(O&&!O.eq(t.state.selection)){let D=t.state.tr.setSelection(O);i&&D.setMeta("composition",i),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Qt&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),ws&&kc<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>d.from&&d.doc.textBetween(w.start-d.from-1,w.start-d.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let j=d.doc.resolveNoCache(w.start-d.from),v=d.doc.resolveNoCache(w.endB-d.from),N=h.resolve(w.start),C=j.sameParent(v)&&j.parent.inlineContent&&N.end()>=w.endA;if((eh&&t.input.lastIOSEnter>Date.now()-225&&(!C||a.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!C&&j.pos<d.doc.content.size&&(!j.sameParent(v)||!j.parent.inlineContent)&&j.pos<v.pos&&!/\S/.test(d.doc.textBetween(j.pos,v.pos,"","")))&&t.someProp("handleKeyDown",O=>O(t,yu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&ave(h,w.start,w.endA,j,v)&&t.someProp("handleKeyDown",O=>O(t,yu(8,"Backspace")))){nl&&za&&t.domObserver.suppressSelectionUpdates();return}za&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),nl&&!C&&j.start()!=v.start()&&v.parentOffset==0&&j.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==w.endA&&(w.endB-=2,v=d.doc.resolveNoCache(w.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,yu(13,"Enter"))})},20));let S=w.start,E=w.endA,T=O=>{let D=O||t.state.tr.replace(S,E,d.doc.slice(w.start-d.from,w.endB-d.from));if(d.sel){let $=FL(t,D.doc,d.sel);$&&!(za&&t.composing&&$.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&($.head==S||$.head==D.mapping.map(E)-1)||ws&&$.empty&&$.head==S)&&D.setSelection($)}return i&&D.setMeta("composition",i),D.scrollIntoView()},A;if(C){if(j.pos==v.pos){ws&&kc<=11&&j.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>gl(t),20));let O=T(t.state.tr.delete(S,E)),D=h.resolve(w.start).marksAcross(h.resolve(w.endA));D&&O.ensureMarks(D),t.dispatch(O)}else if(w.endA==w.endB&&(A=nve(j.parent.content.cut(j.parentOffset,v.parentOffset),N.parent.content.cut(N.parentOffset,w.endA-N.start())))){let O=T(t.state.tr);A.type=="add"?O.addMark(S,E,A.mark):O.removeMark(S,E,A.mark),t.dispatch(O)}else if(j.parent.child(j.index()).isText&&j.index()==v.index()-(v.textOffset?0:1)){let O=j.parent.textBetween(j.parentOffset,v.parentOffset),D=()=>T(t.state.tr.insertText(O,S,E));t.someProp("handleTextInput",$=>$(t,S,E,O,D))||t.dispatch(D())}}else t.dispatch(T())}function FL(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:MO(t,e.resolve(r.anchor),e.resolve(r.head))}function nve(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,a=r,i=n,o,l,c;for(let h=0;h<n.length;h++)a=n[h].removeFromSet(a);for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);if(a.length==1&&i.length==0)l=a[0],o="add",c=h=>h.mark(l.addToSet(h.marks));else if(a.length==0&&i.length==1)l=i[0],o="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(it.from(d).eq(t))return{mark:l,type:o}}function ave(t,e,r,n,a){if(r-e<=a.pos-n.pos||ZN(n,!0,!1)<a.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&r==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(ZN(i,!0,!0));return!o.parent.isTextblock||o.pos>r||ZN(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function ZN(t,e,r){let n=t.depth,a=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,a++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,a++}return a}function sve(t,e,r,n,a){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(a=="end"){let c=Math.max(0,i-Math.min(o,l));n-=o+c-i}if(o<i&&t.size<e.size){let c=n<=i&&n>=o?i-n:0;i-=c,i&&i<e.size&&HL(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=n<=i&&n>=l?i-n:0;i-=c,i&&i<t.size&&HL(t.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function HL(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class AG{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Nbe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(UL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=VL(this),zL(this),this.nodeViews=qL(this),this.docView=wL(this.state.doc,BL(this),QN(this),this.dom,this),this.domObserver=new Kbe(this,(n,a,i,o)=>rve(this,n,a,i,o)),this.domObserver.start(),kbe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_5(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(UL),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let a=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(SG(this),o=!0),this.state=e;let l=a.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let y=qL(this);ove(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&_5(this),this.editable=VL(this),zL(this);let c=QN(this),d=BL(this),h=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,d,c);(m||!e.selection.eq(a.selection))&&(o=!0);let g=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Fye(this);if(o){this.domObserver.stop();let y=m&&(ws||za)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&ive(a.selection,e.selection);if(m){let w=za?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$be(this)),(i||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=wL(e.doc,d,c,this.dom,this)),w&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&cbe(this))?gl(this,y):(dG(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&Hye(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ut){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&pL(this,r.getBoundingClientRect(),e)}else pL(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(a=i)}this.dragging=new kG(e.slice,e.move,a<0?void 0:Ut.create(this.state.doc,a))}someProp(e,r){let n=this._props&&this._props[e],a;if(n!=null&&(a=r?r(n):n))return a;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(a=r?r(l):l))return a}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(a=r?r(l):l))return a}}hasFocus(){if(ws){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Bye(this.dom),gl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Wye(this,e)}coordsAtPos(e,r=1){return nG(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let a=this.docView.posFromDOM(e,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,r){return Jye(this,r||this.state,e)}pasteHTML(e,r){return s0(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return s0(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return AO(this,e)}destroy(){this.docView&&(Cbe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],QN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,_ye())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return _be(this,e)}domSelectionRange(){let e=this.domSelection();return e?ns&&this.root.nodeType===11&&Dye(this.dom.ownerDocument)==this.dom&&Jbe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}AG.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function BL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Xa.node(0,t.state.doc.content.size,e)]}function zL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Xa.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function VL(t){return!t.someProp("editable",e=>e(t.state)===!1)}function ive(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function qL(t){let e=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function ove(t,e){let r=0,n=0;for(let a in t){if(t[a]!=e[a])return!0;r++}for(let a in e)n++;return r!=n}function UL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lve=typeof navigator<"u"&&/Mac/.test(navigator.platform),cve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Oa=0;Oa<10;Oa++)Pc[48+Oa]=Pc[96+Oa]=String(Oa);for(var Oa=1;Oa<=24;Oa++)Pc[Oa+111]="F"+Oa;for(var Oa=65;Oa<=90;Oa++)Pc[Oa]=String.fromCharCode(Oa+32),Gb[Oa]=String.fromCharCode(Oa);for(var e2 in Pc)Gb.hasOwnProperty(e2)||(Gb[e2]=Pc[e2]);function uve(t){var e=lve&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||cve&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Gb:Pc)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const dve=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),fve=typeof navigator<"u"&&/Win/.test(navigator.platform);function hve(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,a,i,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))dve?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function mve(t){let e=Object.create(null);for(let r in t)e[hve(r)]=t[r];return e}function t2(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function pve(t){return new Pn({props:{handleKeyDown:OG(t)}})}function OG(t){let e=mve(t);return function(r,n){let a=uve(n),i,o=e[t2(a,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let l=e[t2(a,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(fve&&n.ctrlKey&&n.altKey)&&(i=Pc[n.keyCode])&&i!=a){let l=e[t2(i,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const IO=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function EG(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const DG=(t,e,r)=>{let n=EG(t,r);if(!n)return!1;let a=LO(n);if(!a){let o=n.blockRange(),l=o&&Ih(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=a.nodeBefore;if(zG(t,a,e,-1))return!0;if(n.parent.content.size==0&&(th(i,"end")||Ut.isSelectable(i)))for(let o=n.depth;;o--){let l=Ww(t.doc,n.before(o),n.after(o),Tt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(th(i,"end")?sr.findFrom(c.doc.resolve(c.mapping.map(a.pos,-1)),-1):Ut.create(c.doc,a.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),!0):!1},gve=(t,e,r)=>{let n=EG(t,r);if(!n)return!1;let a=LO(n);return a?PG(t,a,e):!1},xve=(t,e,r)=>{let n=IG(t,r);if(!n)return!1;let a=$O(n);return a?PG(t,a,e):!1};function PG(t,e,r){let n=e.nodeBefore,a=n,i=e.pos-1;for(;!a.isTextblock;i--){if(a.type.spec.isolating)return!1;let h=a.lastChild;if(!h)return!1;a=h}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let d=Ww(t.doc,i,c,Tt.empty);if(!d||d.from!=i||d instanceof fa&&d.slice.size>=c-i)return!1;if(r){let h=t.tr.step(d);h.setSelection(Qt.create(h.doc,i)),r(h.scrollIntoView())}return!0}function th(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const RG=(t,e,r)=>{let{$head:n,empty:a}=t.selection,i=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=LO(n)}let o=i&&i.nodeBefore;return!o||!Ut.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ut.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function LO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function IG(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const LG=(t,e,r)=>{let n=IG(t,r);if(!n)return!1;let a=$O(n);if(!a)return!1;let i=a.nodeAfter;if(zG(t,a,e,1))return!0;if(n.parent.content.size==0&&(th(i,"start")||Ut.isSelectable(i))){let o=Ww(t.doc,n.before(),n.after(),Tt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(th(i,"start")?sr.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):Ut.create(l.doc,l.mapping.map(a.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),!0):!1},$G=(t,e,r)=>{let{$head:n,empty:a}=t.selection,i=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=$O(n)}let o=i&&i.nodeAfter;return!o||!Ut.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ut.create(t.doc,i.pos)).scrollIntoView()),!0)};function $O(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const yve=(t,e)=>{let r=t.selection,n=r instanceof Ut,a;if(n){if(r.node.isTextblock||!$c(t.doc,r.from))return!1;a=r.from}else if(a=Uw(t.doc,r.from,-1),a==null)return!1;if(e){let i=t.tr.join(a);n&&i.setSelection(Ut.create(i.doc,a-t.doc.resolve(a).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},bve=(t,e)=>{let r=t.selection,n;if(r instanceof Ut){if(r.node.isTextblock||!$c(t.doc,r.to))return!1;n=r.to}else if(n=Uw(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},vve=(t,e)=>{let{$from:r,$to:n}=t.selection,a=r.blockRange(n),i=a&&Ih(a);return i==null?!1:(e&&e(t.tr.lift(a,i).scrollIntoView()),!0)},FG=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function FO(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const wve=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),i=r.indexAfter(-1),o=FO(a.contentMatchAt(i));if(!o||!a.canReplaceWith(i,i,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(sr.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},HG=(t,e)=>{let r=t.selection,{$from:n,$to:a}=r;if(r instanceof Fs||n.parent.inlineContent||a.parent.inlineContent)return!1;let i=FO(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(Qt.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},BG=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(pl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),a=n&&Ih(n);return a==null?!1:(e&&e(t.tr.lift(n,a).scrollIntoView()),!0)};function jve(t){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof Ut&&e.selection.node.isBlock)return!n.parentOffset||!pl(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,c=!1,d=!1;for(let y=n.depth;;y--)if(n.node(y).isBlock){c=n.end(y)==n.pos+(n.depth-y),d=n.start(y)==n.pos-(n.depth-y),l=FO(n.node(y-1).contentMatchAt(n.indexAfter(y-1))),i.unshift(c&&l?{type:l}:null),o=y;break}else{if(y==1)return!1;i.unshift(null)}let h=e.tr;(e.selection instanceof Qt||e.selection instanceof Fs)&&h.deleteSelection();let m=h.mapping.map(n.pos),g=pl(h.doc,m,i.length,i);if(g||(i[0]=l?{type:l}:null,g=pl(h.doc,m,i.length,i)),!g)return!1;if(h.split(m,i.length,i),!c&&d&&n.node(o).type!=l){let y=h.mapping.map(n.before(o)),w=h.doc.resolve(y);l&&n.node(o-1).canReplaceWith(w.index(),w.index()+1,l)&&h.setNodeMarkup(h.mapping.map(n.before(o)),l)}return r&&r(h.scrollIntoView()),!0}}const Sve=jve(),Nve=(t,e)=>{let{$from:r,to:n}=t.selection,a,i=r.sharedDepth(n);return i==0?!1:(a=r.before(i),e&&e(t.tr.setSelection(Ut.create(t.doc,a))),!0)};function kve(t,e,r){let n=e.nodeBefore,a=e.nodeAfter,i=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(a.isTextblock||$c(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function zG(t,e,r,n){let a=e.nodeBefore,i=e.nodeAfter,o,l,c=a.type.spec.isolating||i.type.spec.isolating;if(!c&&kve(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=a.contentMatchAt(a.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(r){let y=e.pos+i.nodeSize,w=it.empty;for(let N=o.length-1;N>=0;N--)w=it.from(o[N].create(null,w));w=it.from(a.copy(w));let j=t.tr.step(new ga(e.pos-1,y,e.pos,y,new Tt(w,1,0),o.length,!0)),v=j.doc.resolve(y+2*o.length);v.nodeAfter&&v.nodeAfter.type==a.type&&$c(j.doc,v.pos)&&j.join(v.pos),r(j.scrollIntoView())}return!0}let h=i.type.spec.isolating||n>0&&c?null:sr.findFrom(e,1),m=h&&h.$from.blockRange(h.$to),g=m&&Ih(m);if(g!=null&&g>=e.depth)return r&&r(t.tr.lift(m,g).scrollIntoView()),!0;if(d&&th(i,"start",!0)&&th(a,"end")){let y=a,w=[];for(;w.push(y),!y.isTextblock;)y=y.lastChild;let j=i,v=1;for(;!j.isTextblock;j=j.firstChild)v++;if(y.canReplace(y.childCount,y.childCount,j.content)){if(r){let N=it.empty;for(let S=w.length-1;S>=0;S--)N=it.from(w[S].copy(N));let C=t.tr.step(new ga(e.pos-w.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new Tt(N,w.length,0),0,!0));r(C.scrollIntoView())}return!0}}return!1}function VG(t){return function(e,r){let n=e.selection,a=t<0?n.$from:n.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return a.node(i).isTextblock?(r&&r(e.tr.setSelection(Qt.create(e.doc,t<0?a.start(i):a.end(i)))),!0):!1}}const Cve=VG(-1),Tve=VG(1);function _ve(t,e=null){return function(r,n){let{$from:a,$to:i}=r.selection,o=a.blockRange(i),l=o&&kO(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function WL(t,e=null){return function(r,n){let a=!1;for(let i=0;i<r.selection.ranges.length&&!a;i++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[i];r.doc.nodesBetween(o,l,(c,d)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)a=!0;else{let h=r.doc.resolve(d),m=h.index();a=h.parent.canReplaceWith(m,m+1,t)}})}if(!a)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];i.setBlockType(l,c,t,e)}n(i.scrollIntoView())}return!0}}function HO(...t){return function(e,r,n){for(let a=0;a<t.length;a++)if(t[a](e,r,n))return!0;return!1}}HO(IO,DG,RG);HO(IO,LG,$G);HO(FG,HG,BG,Sve);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Mve(t,e=null){return function(r,n){let{$from:a,$to:i}=r.selection,o=a.blockRange(i);if(!o)return!1;let l=n?r.tr:null;return Ave(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function Ave(t,e,r,n=null){let a=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);i=new Hb(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Hb(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let l=kO(i,r,n,e);return l?(t&&Ove(t,e,l,a,r),!0):!1}function Ove(t,e,r,n,a){let i=it.empty;for(let h=r.length-1;h>=0;h--)i=it.from(r[h].type.create(r[h].attrs,i));t.step(new ga(e.start-(n?2:0),e.end,e.start,e.end,new Tt(i,0,0),r.length,!0));let o=0;for(let h=0;h<r.length;h++)r[h].type==a&&(o=h+1);let l=r.length-o,c=e.start+r.length-(n?2:0),d=e.parent;for(let h=e.startIndex,m=e.endIndex,g=!0;h<m;h++,g=!1)!g&&pl(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(h).nodeSize;return t}function Eve(t){return function(e,r){let{$from:n,$to:a}=e.selection,i=n.blockRange(a,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?Dve(e,r,t,i):Pve(e,r,i):!0:!1}}function Dve(t,e,r,n){let a=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(a.step(new ga(i-1,o,i,o,new Tt(it.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Hb(a.doc.resolve(n.$from.pos),a.doc.resolve(o),n.depth));const l=Ih(n);if(l==null)return!1;a.lift(n,l);let c=a.doc.resolve(a.mapping.map(i,-1)-1);return $c(a.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&a.join(c.pos),e(a.scrollIntoView()),!0}function Pve(t,e,r){let n=t.tr,a=r.parent;for(let y=r.end,w=r.endIndex-1,j=r.startIndex;w>j;w--)y-=a.child(w).nodeSize,n.delete(y-1,y+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==a.childCount,d=i.node(-1),h=i.index(-1);if(!d.canReplace(h+(l?0:1),h+1,o.content.append(c?it.empty:it.from(a))))return!1;let m=i.pos,g=m+o.nodeSize;return n.step(new ga(m-(l?1:0),g+(c?1:0),m+1,g-1,new Tt((l?it.empty:it.from(a.copy(it.empty))).append(c?it.empty:it.from(a.copy(it.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function Rve(t){return function(e,r){let{$from:n,$to:a}=e.selection,i=n.blockRange(a,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let d=c.lastChild&&c.lastChild.type==l.type,h=it.from(d?t.create():null),m=new Tt(it.from(t.create(null,it.from(l.type.create(null,h)))),d?3:1,0),g=i.start,y=i.end;r(e.tr.step(new ga(g-(d?3:1),y,g,y,m,1,!0)).scrollIntoView())}return!0}}var Ive=Object.defineProperty,qG=(t,e)=>{for(var r in e)Ive(t,r,{get:e[r],enumerable:!0})};function Jw(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:a}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,i=r.storedMarks,r}}}var Qw=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:a}=r,i=this.buildProps(a);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...d)=>{const h=l(...d)(i);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:i}=n,o=[],l=!!t,c=t||a.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...w)=>{const j=this.buildProps(c,e),v=g(...w)(j);return o.push(v),h}])),run:d};return h}createCan(t){const{rawCommands:e,state:r}=this,n=!1,a=t||r.tr,i=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:i}=n,o={tr:t,editor:n,view:i,state:Jw({state:a,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(o)]))}};return o}},Lve=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(a=>a.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(a=>a!==r):delete this.callbacks[e]),this}once(e,r){const n=(...a)=>{this.off(e,n),r.apply(this,a)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function UG(t,e){const r=new YW(t);return e.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}var WG=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&WG(n)}return t};function iy(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return WG(r)}function o0(t,e,r){if(t instanceof Sc||t instanceof it)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,a=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return it.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),o0("",e,r)}if(a){if(r.errorOnInvalidContent){let o=!1,l="";const c=new EW({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(r.slice?Nc.fromSchema(c).parseSlice(iy(t),r.parseOptions):Nc.fromSchema(c).parse(iy(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=Nc.fromSchema(e);return r.slice?i.parseSlice(iy(t),r.parseOptions).content:i.parse(iy(t),r.parseOptions)}return o0("",e,r)}function M5(t,e,r={},n={}){return o0(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function $ve(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function Fve(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(a,i)=>{r(a)&&n.push({node:a,pos:i})}),n}function Hve(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function Zw(t){return e=>Hve(e.$from,t)}function zt(t,e,r){return t.config[e]===void 0&&t.parent?zt(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?zt(t.parent,e,r):null}):t.config[e]}function BO(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=zt(e,"addExtensions",r);return n?[e,...BO(n())]:e}).flat(10)}function zO(t,e){const r=ud.fromSchema(e).serializeFragment(t),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function GG(t){return typeof t=="function"}function Wr(t,e=void 0,...r){return GG(t)?e?t.bind(e)(...r):t(...r):t}function Bve(t={}){return Object.keys(t).length===0&&t.constructor===Object}function l0(t){const e=t.filter(a=>a.type==="extension"),r=t.filter(a=>a.type==="node"),n=t.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function YG(t){const e=[],{nodeExtensions:r,markExtensions:n}=l0(t),a=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:a},c=zt(o,"addGlobalAttributes",l);if(!c)return;c().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([g,y])=>{e.push({type:m,name:g,attribute:{...i,...y}})})})})}),a.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=zt(o,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([h,m])=>{const g={...i,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:h,attribute:g})})}),e}function Dn(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([a,i])=>{if(!n[a]){n[a]=i;return}if(a==="class"){const l=i?String(i).split(" "):[],c=n[a]?n[a].split(" "):[],d=l.filter(h=>!c.includes(h));n[a]=[...c,...d].join(" ")}else if(a==="style"){const l=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],c=n[a]?n[a].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;c.forEach(h=>{const[m,g]=h.split(":").map(y=>y.trim());d.set(m,g)}),l.forEach(h=>{const[m,g]=h.split(":").map(y=>y.trim());d.set(m,g)}),n[a]=Array.from(d.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else n[a]=i}),n},{})}function Yb(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Dn(r,n),{})}function zve(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function GL(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const a=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):zve(r.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...n,...a}}}}function YL(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Bve(r)?!1:r!=null))}function Vve(t,e){var r;const n=YG(t),{nodeExtensions:a,markExtensions:i}=l0(t),o=(r=a.find(d=>zt(d,"topNode")))==null?void 0:r.name,l=Object.fromEntries(a.map(d=>{const h=n.filter(N=>N.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((N,C)=>{const S=zt(C,"extendNodeSchema",m);return{...N,...S?S(d):{}}},{}),y=YL({...g,content:Wr(zt(d,"content",m)),marks:Wr(zt(d,"marks",m)),group:Wr(zt(d,"group",m)),inline:Wr(zt(d,"inline",m)),atom:Wr(zt(d,"atom",m)),selectable:Wr(zt(d,"selectable",m)),draggable:Wr(zt(d,"draggable",m)),code:Wr(zt(d,"code",m)),whitespace:Wr(zt(d,"whitespace",m)),linebreakReplacement:Wr(zt(d,"linebreakReplacement",m)),defining:Wr(zt(d,"defining",m)),isolating:Wr(zt(d,"isolating",m)),attrs:Object.fromEntries(h.map(N=>{var C,S;return[N.name,{default:(C=N==null?void 0:N.attribute)==null?void 0:C.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),w=Wr(zt(d,"parseHTML",m));w&&(y.parseDOM=w.map(N=>GL(N,h)));const j=zt(d,"renderHTML",m);j&&(y.toDOM=N=>j({node:N,HTMLAttributes:Yb(N,h)}));const v=zt(d,"renderText",m);return v&&(y.toText=v),[d.name,y]})),c=Object.fromEntries(i.map(d=>{const h=n.filter(v=>v.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((v,N)=>{const C=zt(N,"extendMarkSchema",m);return{...v,...C?C(d):{}}},{}),y=YL({...g,inclusive:Wr(zt(d,"inclusive",m)),excludes:Wr(zt(d,"excludes",m)),group:Wr(zt(d,"group",m)),spanning:Wr(zt(d,"spanning",m)),code:Wr(zt(d,"code",m)),attrs:Object.fromEntries(h.map(v=>{var N,C;return[v.name,{default:(N=v==null?void 0:v.attribute)==null?void 0:N.default,validate:(C=v==null?void 0:v.attribute)==null?void 0:C.validate}]}))}),w=Wr(zt(d,"parseHTML",m));w&&(y.parseDOM=w.map(v=>GL(v,h)));const j=zt(d,"renderHTML",m);return j&&(y.toDOM=v=>j({mark:v,HTMLAttributes:Yb(v,h)})),[d.name,y]}));return new EW({topNode:o,nodes:l,marks:c})}function qve(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function VO(t){return t.sort((r,n)=>{const a=zt(r,"priority")||100,i=zt(n,"priority")||100;return a>i?-1:a<i?1:0})}function KG(t){const e=VO(BO(t)),r=qve(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function XG(t,e,r){const{from:n,to:a}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,a,(c,d,h,m)=>{var g;c.isBlock&&d>n&&(l+=i);const y=o==null?void 0:o[c.type.name];if(y)return h&&(l+=y({node:c,pos:d,parent:h,index:m,range:e})),!1;c.isText&&(l+=(g=c==null?void 0:c.text)==null?void 0:g.slice(Math.max(n,d)-d,a-d))}),l}function Uve(t,e){const r={from:0,to:t.content.size};return XG(t,r,e)}function JG(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function Ol(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function QG(t,e){const r=Ol(e,t.schema),{from:n,to:a,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,a,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function Qn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Wve(t,e){const r=Qn(e,t.schema),{from:n,to:a}=t.selection,i=[];t.doc.nodesBetween(n,a,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function e1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function ZG(t,e){const r=e1(typeof e=="string"?e:e.name,t.schema);return r==="node"?Wve(t,e):r==="mark"?QG(t,e):{}}function Gve(t,e=JSON.stringify){const r={};return t.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function Yve(t){const e=Gve(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,o)=>o!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function eY(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((a,i)=>{const o=[];if(a.ranges.length)a.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const d=e.slice(i).map(l,-1),h=e.slice(i).map(c),m=e.invert().map(d,-1),g=e.invert().map(h);n.push({oldRange:{from:m,to:g},newRange:{from:d,to:h}})})}),Yve(n)}function qO(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Kb(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>r.strict?e[a]===t[a]:qO(e[a])?e[a].test(t[a]):e[a]===t[a]):!0}function tY(t,e,r={}){return t.find(n=>n.type===e&&Kb(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function KL(t,e,r={}){return!!tY(t,e,r)}function UO(t,e,r){var n;if(!t||!e)return;let a=t.parent.childAfter(t.parentOffset);if((!a.node||!a.node.marks.some(h=>h.type===e))&&(a=t.parent.childBefore(t.parentOffset)),!a.node||!a.node.marks.some(h=>h.type===e)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!tY([...a.node.marks],e,r)))return;let o=a.index,l=t.start()+a.offset,c=o+1,d=l+a.node.nodeSize;for(;o>0&&KL([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&KL([...t.parent.child(c).marks],e,r);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function WO(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(a=>{const i=r.resolve(t),o=UO(i,a.type);o&&n.push({mark:a,...o})}):r.nodesBetween(t,e,(a,i)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(o=>({from:i,to:i+a.nodeSize,mark:o})))}),n}var Kve=(t,e,r,n=20)=>{const a=t.doc.resolve(r);let i=n,o=null;for(;i>0&&o===null;){const l=a.node(i);(l==null?void 0:l.type.name)===e?o=l:i-=1}return[o,i]};function r2(t,e){return e.nodes[t]||e.marks[t]||null}function rb(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=t.find(i=>i.type===e&&i.name===n);return a?a.attribute.keepOnSplit:!1}))}var Xve=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(a,i,o,l)=>{var c,d;const h=((d=(c=a.type.spec).toText)==null?void 0:d.call(c,{node:a,pos:i,parent:o,index:l}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?h:h.slice(0,Math.max(0,n-i))}),r};function A5(t,e,r={}){const{empty:n,ranges:a}=t.selection,i=e?Ol(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Kb(m.attrs,r,{strict:!1}));let o=0;const l=[];if(a.forEach(({$from:m,$to:g})=>{const y=m.pos,w=g.pos;t.doc.nodesBetween(y,w,(j,v)=>{if(!j.isText&&!j.marks.length)return;const N=Math.max(y,v),C=Math.min(w,v+j.nodeSize),S=C-N;o+=S,l.push(...j.marks.map(E=>({mark:E,from:N,to:C})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Kb(m.mark.attrs,r,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),d=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,g)=>m+g.to-g.from,0);return(c>0?c+d:c)>=o}function Rc(t,e,r={}){const{from:n,to:a,empty:i}=t.selection,o=e?Qn(e,t.schema):null,l=[];t.doc.nodesBetween(n,a,(m,g)=>{if(m.isText)return;const y=Math.max(n,g),w=Math.min(a,g+m.nodeSize);l.push({node:m,from:y,to:w})});const c=a-n,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Kb(m.node.attrs,r,{strict:!1}));return i?!!d.length:d.reduce((m,g)=>m+g.to-g.from,0)>=c}function Jve(t,e,r={}){if(!e)return Rc(t,null,r)||A5(t,null,r);const n=e1(e,t.schema);return n==="node"?Rc(t,e,r):n==="mark"?A5(t,e,r):!1}var Qve=(t,e)=>{const{$from:r,$to:n,$anchor:a}=t.selection;if(e){const i=Zw(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return a.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},Zve=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function XL(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function JL(t,e){const{nodeExtensions:r}=l0(e),n=r.find(o=>o.name===t);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},i=Wr(zt(n,"group",a));return typeof i!="string"?!1:i.split(" ").includes("list")}function t1(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let a=!0;return t.content.forEach(i=>{a!==!1&&(t1(i,{ignoreWhitespace:r,checkChildren:e})||(a=!1))}),a}return!1}function rY(t){return t instanceof Ut}function nY(t){return t instanceof Qt}function Tu(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function aY(t,e=null){if(!e)return null;const r=sr.atStart(t),n=sr.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const a=r.from,i=n.to;return e==="all"?Qt.create(t,Tu(0,a,i),Tu(t.content.size,a,i)):Qt.create(t,Tu(e,a,i),Tu(e,a,i))}function ewe(t,e,r){const n=t.steps.length-1;if(n<e)return;const a=t.steps[n];if(!(a instanceof fa||a instanceof ga))return;const i=t.mapping.maps[n];let o=0;i.forEach((l,c,d,h)=>{o===0&&(o=h)}),t.setSelection(sr.near(t.doc.resolve(o),r))}var r1=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},twe=(t,e)=>{if(qO(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function oy(t){var e;const{editor:r,from:n,to:a,text:i,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let h=!1;const m=Xve(d)+i;return o.forEach(g=>{if(h)return;const y=twe(m,g.find);if(!y)return;const w=c.state.tr,j=Jw({state:c.state,transaction:w}),v={from:n-(y[0].length-i.length),to:a},{commands:N,chain:C,can:S}=new Qw({editor:r,state:j});g.handler({state:j,range:v,match:y,commands:N,chain:C,can:S})===null||!w.steps.length||(g.undoable&&w.setMeta(l,{transform:w,from:n,to:a,text:i}),c.dispatch(w),h=!0)}),h}function rwe(t){const{editor:e,rules:r}=t,n=new Pn({state:{init(){return null},apply(a,i,o){const l=a.getMeta(n);if(l)return l;const c=a.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=zO(it.from(h),o.schema);const{from:m}=c,g=m+h.length;oy({editor:e,from:m,to:g,text:h,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:i}},props:{handleTextInput(a,i,o,l){return oy({editor:e,from:i,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:i}=a.state.selection;i&&oy({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,i){if(i.key!=="Enter")return!1;const{$cursor:o}=a.state.selection;return o?oy({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function nwe(t){return Object.prototype.toString.call(t).slice(8,-1)}function ly(t){return nwe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function sY(t,e){const r={...t};return ly(t)&&ly(e)&&Object.keys(e).forEach(n=>{ly(e[n])&&ly(t[n])?r[n]=sY(t[n],e[n]):r[n]=e[n]}),r}var GO=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Wr(zt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Wr(zt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>sY(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},El=class iY extends GO{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new iY(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const o=a.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===r.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function awe(t){return typeof t=="number"}var swe=class{constructor(t){this.find=t.find,this.handler=t.handler}},iwe=(t,e,r)=>{if(qO(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(a=>{const i=[a.text];return i.index=a.index,i.input=t,i.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(a.replaceWith)),i}):[]};function owe(t){const{editor:e,state:r,from:n,to:a,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:d,can:h}=new Qw({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,a,(y,w)=>{var j,v,N,C,S;if((v=(j=y.type)==null?void 0:j.spec)!=null&&v.code||!(y.isText||y.isTextblock||y.isInline))return;const E=(S=(C=(N=y.content)==null?void 0:N.size)!=null?C:y.nodeSize)!=null?S:0,T=Math.max(n,w),A=Math.min(a,w+E);if(T>=A)return;const O=y.isText?y.text||"":y.textBetween(T-w,A-w,void 0,"￼");iwe(O,i.find,o).forEach($=>{if($.index===void 0)return;const L=T+$.index+1,I=L+$[0].length,R={from:r.tr.mapping.map(L),to:r.tr.mapping.map(I)},H=i.handler({state:r,range:R,match:$,commands:c,chain:d,can:h,pasteEvent:o,dropEvent:l});m.push(H)})}),m.every(y=>y!==null)}var cy=null,lwe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function cwe(t){const{editor:e,rules:r}=t;let n=null,a=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:h,from:m,to:g,rule:y,pasteEvt:w})=>{const j=h.tr,v=Jw({state:h,transaction:j});if(!(!owe({editor:e,state:v,from:Math.max(m-1,0),to:g.b-1,rule:y,pasteEvent:w,dropEvent:l})||!j.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return r.map(h=>new Pn({view(m){const g=w=>{var j;n=(j=m.dom.parentElement)!=null&&j.contains(w.target)?m.dom.parentElement:null,n&&(cy=e)},y=()=>{cy&&(cy=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(i=n===m.dom.parentElement,l=g,!i){const y=cy;y!=null&&y.isEditable&&setTimeout(()=>{const w=y.state.selection;w&&y.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,g)=>{var y;const w=(y=g.clipboardData)==null?void 0:y.getData("text/html");return o=g,a=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,y)=>{const w=m[0],j=w.getMeta("uiEvent")==="paste"&&!a,v=w.getMeta("uiEvent")==="drop"&&!i,N=w.getMeta("applyPasteRules"),C=!!N;if(!j&&!v&&!C)return;if(C){let{text:T}=N;typeof T=="string"?T=T:T=zO(it.from(T),y.schema);const{from:A}=N,O=A+T.length,D=lwe(T);return c({rule:h,state:y,from:A,to:{b:O},pasteEvt:D})}const S=g.doc.content.findDiffStart(y.doc.content),E=g.doc.content.findDiffEnd(y.doc.content);if(!(!awe(S)||!E||S===E.b))return c({rule:h,state:y,from:S,to:E,pasteEvt:o})}}))}var n1=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=KG(t),this.schema=Vve(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:r2(e.name,this.schema)},n=zt(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return VO([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:r2(n.name,this.schema)},i=[],o=zt(n,"addKeyboardShortcuts",a);let l={};if(n.type==="mark"&&zt(n,"exitable",a)&&(l.ArrowRight=()=>El.handleExit({editor:t,mark:n})),o){const g=Object.fromEntries(Object.entries(o()).map(([y,w])=>[y,()=>w({editor:t})]));l={...l,...g}}const c=pve(l);i.push(c);const d=zt(n,"addInputRules",a);if(XL(n,t.options.enableInputRules)&&d){const g=d();if(g&&g.length){const y=rwe({editor:t,rules:g}),w=Array.isArray(y)?y:[y];i.push(...w)}}const h=zt(n,"addPasteRules",a);if(XL(n,t.options.enablePasteRules)&&h){const g=h();if(g&&g.length){const y=cwe({editor:t,rules:g});i.push(...y)}}const m=zt(n,"addProseMirrorPlugins",a);if(m){const g=m();i.push(...g)}return i})}get attributes(){return YG(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=l0(this.extensions);return Object.fromEntries(e.filter(r=>!!zt(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Qn(r.name,this.schema)},i=zt(r,"addNodeView",a);if(!i)return[];const o=(l,c,d,h,m)=>{const g=Yb(l,n);return i()({node:l,view:c,getPos:d,decorations:h,innerDecorations:m,editor:t,extension:r,HTMLAttributes:g})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=l0(this.extensions);return Object.fromEntries(e.filter(r=>!!zt(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ol(r.name,this.schema)},i=zt(r,"addMarkView",a);if(!i)return[];const o=(l,c,d)=>{const h=Yb(l,n);return i()({mark:l,view:c,inline:d,editor:t,extension:r,HTMLAttributes:h,updateAttributes:m=>{k1e(l,t,m)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:r2(e.name,this.schema)};e.type==="mark"&&((r=Wr(zt(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const a=zt(e,"onBeforeCreate",n),i=zt(e,"onCreate",n),o=zt(e,"onUpdate",n),l=zt(e,"onSelectionUpdate",n),c=zt(e,"onTransaction",n),d=zt(e,"onFocus",n),h=zt(e,"onBlur",n),m=zt(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};n1.resolve=KG;n1.sort=VO;n1.flatten=BO;var uwe={};qG(uwe,{ClipboardTextSerializer:()=>lY,Commands:()=>dY,Delete:()=>fY,Drop:()=>hY,Editable:()=>mY,FocusEvents:()=>gY,Keymap:()=>xY,Paste:()=>yY,Tabindex:()=>bY,focusEventsPluginKey:()=>pY});var an=class oY extends GO{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new oY(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},lY=an.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Pn({key:new ya("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:a}=e,{ranges:i}=a,o=Math.min(...i.map(h=>h.$from.pos)),l=Math.max(...i.map(h=>h.$to.pos)),c=JG(r);return XG(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),cY={};qG(cY,{blur:()=>dwe,clearContent:()=>fwe,clearNodes:()=>hwe,command:()=>mwe,createParagraphNear:()=>pwe,cut:()=>gwe,deleteCurrentNode:()=>xwe,deleteNode:()=>ywe,deleteRange:()=>bwe,deleteSelection:()=>vwe,enter:()=>wwe,exitCode:()=>jwe,extendMarkRange:()=>Swe,first:()=>Nwe,focus:()=>Cwe,forEach:()=>Twe,insertContent:()=>_we,insertContentAt:()=>Awe,joinBackward:()=>Dwe,joinDown:()=>Ewe,joinForward:()=>Pwe,joinItemBackward:()=>Rwe,joinItemForward:()=>Iwe,joinTextblockBackward:()=>Lwe,joinTextblockForward:()=>$we,joinUp:()=>Owe,keyboardShortcut:()=>Hwe,lift:()=>Bwe,liftEmptyBlock:()=>zwe,liftListItem:()=>Vwe,newlineInCode:()=>qwe,resetAttributes:()=>Uwe,scrollIntoView:()=>Wwe,selectAll:()=>Gwe,selectNodeBackward:()=>Ywe,selectNodeForward:()=>Kwe,selectParentNode:()=>Xwe,selectTextblockEnd:()=>Jwe,selectTextblockStart:()=>Qwe,setContent:()=>Zwe,setMark:()=>t1e,setMeta:()=>r1e,setNode:()=>n1e,setNodeSelection:()=>a1e,setTextSelection:()=>s1e,sinkListItem:()=>i1e,splitBlock:()=>o1e,splitListItem:()=>l1e,toggleList:()=>c1e,toggleMark:()=>u1e,toggleNode:()=>d1e,toggleWrap:()=>f1e,undoInputRule:()=>h1e,unsetAllMarks:()=>m1e,unsetMark:()=>p1e,updateAttributes:()=>g1e,wrapIn:()=>x1e,wrapInList:()=>y1e});var dwe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),fwe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),hwe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:a}=n;return r&&a.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:h}=e,m=d.resolve(h.map(c)),g=d.resolve(h.map(c+l.nodeSize)),y=m.blockRange(g);if(!y)return;const w=Ih(y);if(l.type.isTextblock){const{defaultType:j}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,j)}(w||w===0)&&e.lift(y,w)})}),!0},mwe=t=>e=>t(e),pwe=()=>({state:t,dispatch:e})=>HG(t,e),gwe=(t,e)=>({editor:r,tr:n})=>{const{state:a}=r,i=a.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new Qt(n.doc.resolve(Math.max(o-1,0)))),!0},xwe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const a=t.selection.$anchor;for(let i=a.depth;i>0;i-=1)if(a.node(i).type===n.type){if(e){const l=a.before(i),c=a.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},ywe=t=>({tr:e,state:r,dispatch:n})=>{const a=Qn(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===a){if(n){const c=i.before(o),d=i.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},bwe=t=>({tr:e,dispatch:r})=>{const{from:n,to:a}=t;return r&&e.delete(n,a),!0},vwe=()=>({state:t,dispatch:e})=>IO(t,e),wwe=()=>({commands:t})=>t.keyboardShortcut("Enter"),jwe=()=>({state:t,dispatch:e})=>wve(t,e),Swe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{const i=Ol(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:d,to:h}=l;if(a){const m=UO(c,i,e);if(m&&m.from<=d&&m.to>=h){const g=Qt.create(o,m.from,m.to);r.setSelection(g)}}return!0},Nwe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function kwe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function YO(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Cwe=(t=null,e={})=>({editor:r,view:n,tr:a,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(YO()||kwe())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!nY(r.state.selection))return o(),!0;const l=aY(a.doc,t)||r.state.selection,c=r.state.selection.eq(l);return i&&(c||a.setSelection(l),c&&a.storedMarks&&a.setStoredMarks(a.storedMarks),o()),!0},Twe=(t,e)=>r=>t.every((n,a)=>e(n,{...r,index:a})),_we=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),Mwe=t=>!("type"in t),Awe=(t,e,r)=>({tr:n,dispatch:a,editor:i})=>{var o;if(a){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=v=>{i.emit("contentError",{editor:i,error:v,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{o0(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(v){c(v)}try{l=o0(e,i.schema,{parseOptions:d,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(v){return c(v),!1}let{from:h,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,y=!0;if((Mwe(l)?l:[l]).forEach(v=>{v.check(),g=g?v.isText&&v.marks.length===0:!1,y=y?v.isBlock:!1}),h===m&&y){const{parent:v}=n.doc.resolve(h);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(h-=1,m+=1)}let j;if(g){if(Array.isArray(e))j=e.map(v=>v.text||"").join("");else if(e instanceof it){let v="";e.forEach(N=>{N.text&&(v+=N.text)}),j=v}else typeof e=="object"&&e&&e.text?j=e.text:j=e;n.insertText(j,h,m)}else{j=l;const v=n.doc.resolve(h),N=v.node(),C=v.parentOffset===0,S=N.isText||N.isTextblock,E=N.content.size>0;C&&S&&E&&(h=Math.max(0,h-1)),n.replaceWith(h,m,j)}r.updateSelection&&ewe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:j}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:j})}return!0},Owe=()=>({state:t,dispatch:e})=>yve(t,e),Ewe=()=>({state:t,dispatch:e})=>bve(t,e),Dwe=()=>({state:t,dispatch:e})=>DG(t,e),Pwe=()=>({state:t,dispatch:e})=>LG(t,e),Rwe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Uw(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Iwe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Uw(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Lwe=()=>({state:t,dispatch:e})=>gve(t,e),$we=()=>({state:t,dispatch:e})=>xve(t,e);function uY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Fwe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,a,i,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))YO()||uY()?o=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var Hwe=t=>({editor:e,view:r,tr:n,dispatch:a})=>{const i=Fwe(t).split(/-(?!$)/),o=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",d=>d(r,l))});return c==null||c.steps.forEach(d=>{const h=d.map(n.mapping);h&&a&&n.maybeStep(h)}),!0},Bwe=(t,e={})=>({state:r,dispatch:n})=>{const a=Qn(t,r.schema);return Rc(r,a,e)?vve(r,n):!1},zwe=()=>({state:t,dispatch:e})=>BG(t,e),Vwe=t=>({state:e,dispatch:r})=>{const n=Qn(t,e.schema);return Eve(n)(e,r)},qwe=()=>({state:t,dispatch:e})=>FG(t,e);function QL(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,a)=>(r.includes(a)||(n[a]=t[a]),n),{})}var Uwe=(t,e)=>({tr:r,state:n,dispatch:a})=>{let i=null,o=null;const l=e1(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=Qn(t,n.schema)),l==="mark"&&(o=Ol(t,n.schema)),a&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,h)=>{i&&i===d.type&&r.setNodeMarkup(h,void 0,QL(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&r.addMark(h,h+d.nodeSize,o.create(QL(m.attrs,e)))})})}),!0):!1},Wwe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Gwe=()=>({tr:t,dispatch:e})=>{if(e){const r=new Fs(t.doc);t.setSelection(r)}return!0},Ywe=()=>({state:t,dispatch:e})=>RG(t,e),Kwe=()=>({state:t,dispatch:e})=>$G(t,e),Xwe=()=>({state:t,dispatch:e})=>Nve(t,e),Jwe=()=>({state:t,dispatch:e})=>Tve(t,e),Qwe=()=>({state:t,dispatch:e})=>Cve(t,e),Zwe=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(n.preserveWhitespace!=="full"){const d=M5(t,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!r),!0}return o&&i.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function e1e(t,e,r){var n;const{selection:a}=e;let i=null;if(nY(a)&&(i=a.$cursor),i){const l=(n=t.storedMarks)!=null?n:i.marks();return i.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(d=>d.type.excludes(r)))}const{ranges:o}=a;return o.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(h,m,g)=>{if(d)return!1;if(h.isInline){const y=!g||g.type.allowsMarkType(r),w=!!r.isInSet(h.marks)||!h.marks.some(j=>j.type.excludes(r));d=y&&w}return!d}),d})}var t1e=(t,e={})=>({tr:r,state:n,dispatch:a})=>{const{selection:i}=r,{empty:o,ranges:l}=i,c=Ol(t,n.schema);if(a)if(o){const d=QG(n,c);r.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;n.doc.nodesBetween(h,m,(g,y)=>{const w=Math.max(y,h),j=Math.min(y+g.nodeSize,m);g.marks.find(N=>N.type===c)?g.marks.forEach(N=>{c===N.type&&r.addMark(w,j,c.create({...N.attrs,...e}))}):r.addMark(w,j,c.create(e))})});return e1e(n,r,c)},r1e=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),n1e=(t,e={})=>({state:r,dispatch:n,chain:a})=>{const i=Qn(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),i.isTextblock?a().command(({commands:l})=>WL(i,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>WL(i,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},a1e=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,a=Tu(t,0,n.content.size),i=Ut.create(n,a);e.setSelection(i)}return!0},s1e=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:a,to:i}=typeof t=="number"?{from:t,to:t}:t,o=Qt.atStart(n).from,l=Qt.atEnd(n).to,c=Tu(a,o,l),d=Tu(i,o,l),h=Qt.create(n,c,d);e.setSelection(h)}return!0},i1e=t=>({state:e,dispatch:r})=>{const n=Qn(t,e.schema);return Rve(n)(e,r)};function ZL(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(a=>e==null?void 0:e.includes(a.type.name));t.tr.ensureMarks(n)}}var o1e=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:a})=>{const{selection:i,doc:o}=e,{$from:l,$to:c}=i,d=a.extensionManager.attributes,h=rb(d,l.node().type.name,l.node().attrs);if(i instanceof Ut&&i.node.isBlock)return!l.parentOffset||!pl(o,l.pos)?!1:(n&&(t&&ZL(r,a.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:$ve(l.node(-1).contentMatchAt(l.indexAfter(-1)));let y=m&&g?[{type:g,attrs:h}]:void 0,w=pl(e.doc,e.mapping.map(l.pos),1,y);if(!y&&!w&&pl(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(w=!0,y=g?[{type:g,attrs:h}]:void 0),n){if(w&&(i instanceof Qt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,y),g&&!m&&!l.parentOffset&&l.parent.type!==g)){const j=e.mapping.map(l.before()),v=e.doc.resolve(j);l.node(-1).canReplaceWith(v.index(),v.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&ZL(r,a.extensionManager.splittableMarks),e.scrollIntoView()}return w},l1e=(t,e={})=>({tr:r,state:n,dispatch:a,editor:i})=>{var o;const l=Qn(t,n.schema),{$from:c,$to:d}=n.selection,h=n.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(d))return!1;const m=c.node(-1);if(m.type!==l)return!1;const g=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){let N=it.empty;const C=c.index(-1)?1:c.index(-2)?2:3;for(let D=c.depth-C;D>=c.depth-3;D-=1)N=it.from(c.node(D).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,E={...rb(g,c.node().type.name,c.node().attrs),...e},T=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(E))||void 0;N=N.append(it.from(l.createAndFill(null,T)||void 0));const A=c.before(c.depth-(C-1));r.replace(A,c.after(-S),new Tt(N,4-C,0));let O=-1;r.doc.nodesBetween(A,r.doc.content.size,(D,$)=>{if(O>-1)return!1;D.isTextblock&&D.content.size===0&&(O=$+1)}),O>-1&&r.setSelection(Qt.near(r.doc.resolve(O))),r.scrollIntoView()}return!0}const y=d.pos===c.end()?m.contentMatchAt(0).defaultType:null,w={...rb(g,m.type.name,m.attrs),...e},j={...rb(g,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,d.pos);const v=y?[{type:l,attrs:w},{type:y,attrs:j}]:[{type:l,attrs:w}];if(!pl(r.doc,c.pos,2))return!1;if(a){const{selection:N,storedMarks:C}=n,{splittableMarks:S}=i.extensionManager,E=C||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,v).scrollIntoView(),!E||!a)return!0;const T=E.filter(A=>S.includes(A.type.name));r.ensureMarks(T)}return!0},n2=(t,e)=>{const r=Zw(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=t.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&$c(t.doc,r.pos)&&t.join(r.pos),!0},a2=(t,e)=>{const r=Zw(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=t.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&$c(t.doc,n)&&t.join(n),!0},c1e=(t,e,r,n={})=>({editor:a,tr:i,state:o,dispatch:l,chain:c,commands:d,can:h})=>{const{extensions:m,splittableMarks:g}=a.extensionManager,y=Qn(t,o.schema),w=Qn(e,o.schema),{selection:j,storedMarks:v}=o,{$from:N,$to:C}=j,S=N.blockRange(C),E=v||j.$to.parentOffset&&j.$from.marks();if(!S)return!1;const T=Zw(A=>JL(A.type.name,m))(j);if(S.depth>=1&&T&&S.depth-T.depth<=1){if(T.node.type===y)return d.liftListItem(w);if(JL(T.node.type.name,m)&&y.validContent(T.node.content)&&l)return c().command(()=>(i.setNodeMarkup(T.pos,y),!0)).command(()=>n2(i,y)).command(()=>a2(i,y)).run()}return!r||!E||!l?c().command(()=>h().wrapInList(y,n)?!0:d.clearNodes()).wrapInList(y,n).command(()=>n2(i,y)).command(()=>a2(i,y)).run():c().command(()=>{const A=h().wrapInList(y,n),O=E.filter(D=>g.includes(D.type.name));return i.ensureMarks(O),A?!0:d.clearNodes()}).wrapInList(y,n).command(()=>n2(i,y)).command(()=>a2(i,y)).run()},u1e=(t,e={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:i=!1}=r,o=Ol(t,n.schema);return A5(n,o,e)?a.unsetMark(o,{extendEmptyMarkRange:i}):a.setMark(o,e)},d1e=(t,e,r={})=>({state:n,commands:a})=>{const i=Qn(t,n.schema),o=Qn(e,n.schema),l=Rc(n,i,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?a.setNode(o,c):a.setNode(i,{...c,...r})},f1e=(t,e={})=>({state:r,commands:n})=>{const a=Qn(t,r.schema);return Rc(r,a,e)?n.lift(a):n.wrapIn(a,e)},h1e=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let i;if(a.spec.isInputRules&&(i=a.getState(t))){if(e){const o=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},m1e=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:a}=r;return n||e&&a.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},p1e=(t,e={})=>({tr:r,state:n,dispatch:a})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=Ol(t,n.schema),{$from:d,empty:h,ranges:m}=l;if(!a)return!0;if(h&&o){let{from:g,to:y}=l;const w=(i=d.marks().find(v=>v.type===c))==null?void 0:i.attrs,j=UO(d,c,w);j&&(g=j.from,y=j.to),r.removeMark(g,y,c)}else m.forEach(g=>{r.removeMark(g.$from.pos,g.$to.pos,c)});return r.removeStoredMark(c),!0},g1e=(t,e={})=>({tr:r,state:n,dispatch:a})=>{let i=null,o=null;const l=e1(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=Qn(t,n.schema)),l==="mark"&&(o=Ol(t,n.schema)),a&&r.selection.ranges.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;let m,g,y,w;r.selection.empty?n.doc.nodesBetween(d,h,(j,v)=>{i&&i===j.type&&(y=Math.max(v,d),w=Math.min(v+j.nodeSize,h),m=v,g=j)}):n.doc.nodesBetween(d,h,(j,v)=>{v<d&&i&&i===j.type&&(y=Math.max(v,d),w=Math.min(v+j.nodeSize,h),m=v,g=j),v>=d&&v<=h&&(i&&i===j.type&&r.setNodeMarkup(v,void 0,{...j.attrs,...e}),o&&j.marks.length&&j.marks.forEach(N=>{if(o===N.type){const C=Math.max(v,d),S=Math.min(v+j.nodeSize,h);r.addMark(C,S,o.create({...N.attrs,...e}))}}))}),g&&(m!==void 0&&r.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(j=>{o===j.type&&r.addMark(y,w,o.create({...j.attrs,...e}))}))}),!0):!1},x1e=(t,e={})=>({state:r,dispatch:n})=>{const a=Qn(t,r.schema);return _ve(a,e)(r,n)},y1e=(t,e={})=>({state:r,dispatch:n})=>{const a=Qn(t,r.schema);return Mve(a,e)(r,n)},dY=an.create({name:"commands",addCommands(){return{...cY}}}),fY=an.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,a;const i=()=>{var o,l,c,d;if((d=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const h=UG(t.before,[t,...e]);eY(h).forEach(y=>{h.mapping.mapResult(y.oldRange.from).deletedAfter&&h.mapping.mapResult(y.oldRange.to).deletedBefore&&h.before.nodesBetween(y.oldRange.from,y.oldRange.to,(w,j)=>{const v=j+w.nodeSize-2,N=y.oldRange.from<=j&&v<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:j,to:v,newFrom:h.mapping.map(j),newTo:h.mapping.map(v),deletedRange:y.oldRange,newRange:y.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:h})})});const g=h.mapping;h.steps.forEach((y,w)=>{var j,v;if(y instanceof Ii){const N=g.slice(w).map(y.from,-1),C=g.slice(w).map(y.to),S=g.invert().map(N,-1),E=g.invert().map(C),T=(j=h.doc.nodeAt(N-1))==null?void 0:j.marks.some(O=>O.eq(y.mark)),A=(v=h.doc.nodeAt(C))==null?void 0:v.marks.some(O=>O.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:S,to:E},newRange:{from:N,to:C},partial:!!(A||T),editor:this.editor,transaction:t,combinedTransform:h})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(i,0):i()}}),hY=an.create({name:"drop",addProseMirrorPlugins(){return[new Pn({key:new ya("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),mY=an.create({name:"editable",addProseMirrorPlugins(){return[new Pn({key:new ya("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pY=new ya("focusEvents"),gY=an.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Pn({key:pY,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),xY=an.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:h,$anchor:m}=c,{pos:g,parent:y}=m,w=m.parent.isTextblock&&g>0?l.doc.resolve(g-1):m,j=w.parent.type.spec.isolating,v=m.pos-m.parentOffset,N=j&&w.parent.childCount===1?v===m.pos:sr.atStart(d).from===g;return!h||!y.type.isTextblock||y.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return YO()||uY()?i:a},addProseMirrorPlugins(){return[new Pn({key:new ya("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(j=>j.getMeta("composition")))return;const n=t.some(j=>j.docChanged)&&!e.doc.eq(r.doc),a=t.some(j=>j.getMeta("preventClearDocument"));if(!n||a)return;const{empty:i,from:o,to:l}=e.selection,c=sr.atStart(e.doc).from,d=sr.atEnd(e.doc).to;if(i||!(o===c&&l===d)||!t1(r.doc))return;const g=r.tr,y=Jw({state:r,transaction:g}),{commands:w}=new Qw({editor:this.editor,state:y});if(w.clearNodes(),!!g.steps.length)return g}})]}}),yY=an.create({name:"paste",addProseMirrorPlugins(){return[new Pn({key:new ya("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),bY=an.create({name:"tabindex",addProseMirrorPlugins(){return[new Pn({key:new ya("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),b1e=class cf{constructor(e,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new cf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new cf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new cf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,o=this.pos+n+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!a&&l.depth<=this.depth)return;const c=new cf(l,this.editor,a,a?r:null);a&&(c.actualDepth=this.depth+1),e.push(new cf(l,this.editor,a,a?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(r).length>0){const i=a.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==r[c])break}}else n=a;a=a.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const i=Object.keys(r);return this.children.forEach(o=>{n&&a.length>0||(o.node.type.name===e&&i.every(c=>r[c]===o.node.attrs[c])&&a.push(o),!(n&&a.length>0)&&(a=a.concat(o.querySelectorAll(e,r,n))))}),a}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},v1e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function w1e(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(a),a}var j1e=class extends Lve{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:i})=>this.options.onDrop(n,a,i)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=aY(e,this.options.autofocus);this.editorState=gf.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=w1e(v1e,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=GG(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(a=>{const i=typeof a=="string"?`${a}$`:a.key;r=r.filter(o=>!o.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[mY,lY.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),dY,gY,xY,bY,hY,yY,fY].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new n1(n,this)}createCommandManager(){this.commandManager=new Qw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=M5(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=M5(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new AG(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(d)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),a=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(d=>d.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return ZG(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return Jve(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return zO(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return Uve(this.state.doc,{blockSeparator:e,textSerializers:{...JG(this.schema),...r}})}get isEmpty(){return t1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new b1e(e,this)}get $doc(){return this.$pos(0)}};function ed(t){return new r1({find:t.find,handler:({state:e,range:r,match:n})=>{const a=Wr(t.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:i}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),d=r.from+l.indexOf(o),h=d+o.length;if(WO(r.from,r.to,e.doc).filter(y=>y.mark.type.excluded.find(j=>j===t.type&&j!==y.mark.type)).filter(y=>y.to>d).length)return null;h<r.to&&i.delete(h,r.to),d>r.from&&i.delete(r.from+c,d);const g=r.from+c+o.length;i.addMark(r.from+c,g,t.type.create(a||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function S1e(t){return new r1({find:t.find,handler:({state:e,range:r,match:n})=>{const a=Wr(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let l=r.to;const c=t.type.create(a);if(n[1]){const d=n[0].lastIndexOf(n[1]);let h=o+d;h>l?h=l:l=h+n[1].length;const m=n[0][n[0].length-1];i.insertText(m,o+n[0].length-1),i.replaceWith(h,l,c)}else if(n[0]){const d=t.type.isInline?o:o-1;i.insert(d,t.type.create(a)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function O5(t){return new r1({find:t.find,handler:({state:e,range:r,match:n})=>{const a=e.doc.resolve(r.from),i=Wr(t.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)},undoable:t.undoable})}function rh(t){return new r1({find:t.find,handler:({state:e,range:r,match:n,chain:a})=>{const i=Wr(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),d=c&&kO(c,t.type,i);if(!d)return null;if(o.wrap(c,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:y}=t.editor.extensionManager,w=g||m.$to.parentOffset&&m.$from.marks();if(w){const j=w.filter(v=>y.includes(v.type.name));o.ensureMarks(j)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(m,i).run()}const h=o.doc.resolve(r.from-1).nodeBefore;h&&h.type===t.type&&$c(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,h))&&o.join(r.from-1)},undoable:t.undoable})}function N1e(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Ut){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let a=n.depth;for(;a>=0;){const i=n.index(a);if(n.node(a).contentMatchAt(i).matchType(e))return!0;a-=1}return!1}function k1e(t,e,r={}){const{state:n}=e,{doc:a,tr:i}=n,o=t;a.descendants((l,c)=>{const d=i.mapping.map(c),h=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(y=>{if(y!==o)return!1;m=y}),!m)return;let g=!1;if(Object.keys(r).forEach(y=>{r[y]!==m.attrs[y]&&(g=!0)}),g){const y=t.type.create({...t.attrs,...r});i.removeMark(d,h,t.type),i.addMark(d,h,y)}}),i.docChanged&&e.view.dispatch(i)}var zs=class vY extends GO{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new vY(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Ic(t){return new swe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:a})=>{const i=Wr(t.getAttributes,void 0,n,a);if(i===!1||i===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let d=r.to;if(l){const h=c.search(/\S/),m=r.from+c.indexOf(l),g=m+l.length;if(WO(r.from,r.to,e.doc).filter(w=>w.mark.type.excluded.find(v=>v===t.type&&v!==w.mark.type)).filter(w=>w.to>m).length)return null;g<r.to&&o.delete(g,r.to),m>r.from&&o.delete(r.from+h,m),d=r.from+h+l.length,o.addMark(r.from+h,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var C1e=20,wY=(t,e=0)=>{const r=[];return!t.children.length||e>C1e||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...wY(n,e+1))}),r},T1e=t=>{if(!t.children.length)return;const e=wY(t);e&&e.forEach(r=>{var n,a;const i=r.getAttribute("style"),o=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${o};${i}`)})},_1e=El.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&T1e(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(i=>!!i))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),M1e=an.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const i=n[a].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),jY=an.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const i=n[a].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),SY=an.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),A1e=an.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),O1e=an.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),E1e=an.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(M1e.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(jY.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(SY.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(A1e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(O1e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(_1e.configure(this.options.textStyle)),t}}),D1e=an.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),P1e=D1e,R1e=jY,I1e=SY;const L1e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",$1e="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",E5="numeric",D5="ascii",P5="alpha",_p="asciinumeric",pp="alphanumeric",R5="domain",NY="emoji",F1e="scheme",H1e="slashscheme",s2="whitespace";function B1e(t,e){return t in e||(e[t]=[]),e[t]}function _u(t,e,r){e[E5]&&(e[_p]=!0,e[pp]=!0),e[D5]&&(e[_p]=!0,e[P5]=!0),e[_p]&&(e[pp]=!0),e[P5]&&(e[pp]=!0),e[pp]&&(e[R5]=!0),e[NY]&&(e[R5]=!0);for(const n in e){const a=B1e(n,r);a.indexOf(t)<0&&a.push(t)}}function z1e(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function ys(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ys.groups={};ys.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],i=e.jr[n][1];if(i&&a.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let a=0;a<t.length;a++)this.tt(t[a],e,r,n)},tr(t,e,r,n){n=n||ys.groups;let a;return e&&e.j?a=e:(a=new ys(e),r&&n&&_u(e,r,n)),this.jr.push([t,a]),a},ts(t,e,r,n){let a=this;const i=t.length;if(!i)return a;for(let o=0;o<i-1;o++)a=a.tt(t[o]);return a.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||ys.groups;const a=this;if(e&&e.j)return a.j[t]=e,e;const i=e;let o,l=a.go(t);if(l?(o=new ys,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new ys,i){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(z1e(o.t,n),r);_u(i,c,n)}else r&&_u(i,r,n);o.t=i}return a.j[t]=o,o}};const ar=(t,e,r,n,a)=>t.ta(e,r,n,a),Cn=(t,e,r,n,a)=>t.tr(e,r,n,a),e$=(t,e,r,n,a)=>t.ts(e,r,n,a),ut=(t,e,r,n,a)=>t.tt(e,r,n,a),Zo="WORD",I5="UWORD",kY="ASCIINUMERICAL",CY="ALPHANUMERICAL",c0="LOCALHOST",L5="TLD",$5="UTLD",nb="SCHEME",uf="SLASH_SCHEME",KO="NUM",F5="WS",XO="NL",Mp="OPENBRACE",Ap="CLOSEBRACE",Xb="OPENBRACKET",Jb="CLOSEBRACKET",Qb="OPENPAREN",Zb="CLOSEPAREN",ev="OPENANGLEBRACKET",tv="CLOSEANGLEBRACKET",rv="FULLWIDTHLEFTPAREN",nv="FULLWIDTHRIGHTPAREN",av="LEFTCORNERBRACKET",sv="RIGHTCORNERBRACKET",iv="LEFTWHITECORNERBRACKET",ov="RIGHTWHITECORNERBRACKET",lv="FULLWIDTHLESSTHAN",cv="FULLWIDTHGREATERTHAN",uv="AMPERSAND",dv="APOSTROPHE",fv="ASTERISK",dc="AT",hv="BACKSLASH",mv="BACKTICK",pv="CARET",pc="COLON",JO="COMMA",gv="DOLLAR",Qi="DOT",xv="EQUALS",QO="EXCLAMATION",ni="HYPHEN",Op="PERCENT",yv="PIPE",bv="PLUS",vv="POUND",Ep="QUERY",ZO="QUOTE",TY="FULLWIDTHMIDDLEDOT",eE="SEMI",Zi="SLASH",Dp="TILDE",wv="UNDERSCORE",_Y="EMOJI",jv="SYM";var MY=Object.freeze({__proto__:null,ALPHANUMERICAL:CY,AMPERSAND:uv,APOSTROPHE:dv,ASCIINUMERICAL:kY,ASTERISK:fv,AT:dc,BACKSLASH:hv,BACKTICK:mv,CARET:pv,CLOSEANGLEBRACKET:tv,CLOSEBRACE:Ap,CLOSEBRACKET:Jb,CLOSEPAREN:Zb,COLON:pc,COMMA:JO,DOLLAR:gv,DOT:Qi,EMOJI:_Y,EQUALS:xv,EXCLAMATION:QO,FULLWIDTHGREATERTHAN:cv,FULLWIDTHLEFTPAREN:rv,FULLWIDTHLESSTHAN:lv,FULLWIDTHMIDDLEDOT:TY,FULLWIDTHRIGHTPAREN:nv,HYPHEN:ni,LEFTCORNERBRACKET:av,LEFTWHITECORNERBRACKET:iv,LOCALHOST:c0,NL:XO,NUM:KO,OPENANGLEBRACKET:ev,OPENBRACE:Mp,OPENBRACKET:Xb,OPENPAREN:Qb,PERCENT:Op,PIPE:yv,PLUS:bv,POUND:vv,QUERY:Ep,QUOTE:ZO,RIGHTCORNERBRACKET:sv,RIGHTWHITECORNERBRACKET:ov,SCHEME:nb,SEMI:eE,SLASH:Zi,SLASH_SCHEME:uf,SYM:jv,TILDE:Dp,TLD:L5,UNDERSCORE:wv,UTLD:$5,UWORD:I5,WORD:Zo,WS:F5});const Ko=/[a-z]/,Jm=new RegExp("\\p{L}","u"),i2=new RegExp("\\p{Emoji}","u"),Xo=/\d/,o2=/\s/,t$="\r",l2=`
`,V1e="️",q1e="‍",c2="￼";let uy=null,dy=null;function U1e(t=[]){const e={};ys.groups=e;const r=new ys;uy==null&&(uy=r$(L1e)),dy==null&&(dy=r$($1e)),ut(r,"'",dv),ut(r,"{",Mp),ut(r,"}",Ap),ut(r,"[",Xb),ut(r,"]",Jb),ut(r,"(",Qb),ut(r,")",Zb),ut(r,"<",ev),ut(r,">",tv),ut(r,"（",rv),ut(r,"）",nv),ut(r,"「",av),ut(r,"」",sv),ut(r,"『",iv),ut(r,"』",ov),ut(r,"＜",lv),ut(r,"＞",cv),ut(r,"&",uv),ut(r,"*",fv),ut(r,"@",dc),ut(r,"`",mv),ut(r,"^",pv),ut(r,":",pc),ut(r,",",JO),ut(r,"$",gv),ut(r,".",Qi),ut(r,"=",xv),ut(r,"!",QO),ut(r,"-",ni),ut(r,"%",Op),ut(r,"|",yv),ut(r,"+",bv),ut(r,"#",vv),ut(r,"?",Ep),ut(r,'"',ZO),ut(r,"/",Zi),ut(r,";",eE),ut(r,"~",Dp),ut(r,"_",wv),ut(r,"\\",hv),ut(r,"・",TY);const n=Cn(r,Xo,KO,{[E5]:!0});Cn(n,Xo,n);const a=Cn(n,Ko,kY,{[_p]:!0}),i=Cn(n,Jm,CY,{[pp]:!0}),o=Cn(r,Ko,Zo,{[D5]:!0});Cn(o,Xo,a),Cn(o,Ko,o),Cn(a,Xo,a),Cn(a,Ko,a);const l=Cn(r,Jm,I5,{[P5]:!0});Cn(l,Ko),Cn(l,Xo,i),Cn(l,Jm,l),Cn(i,Xo,i),Cn(i,Ko),Cn(i,Jm,i);const c=ut(r,l2,XO,{[s2]:!0}),d=ut(r,t$,F5,{[s2]:!0}),h=Cn(r,o2,F5,{[s2]:!0});ut(r,c2,h),ut(d,l2,c),ut(d,c2,h),Cn(d,o2,h),ut(h,t$),ut(h,l2),Cn(h,o2,h),ut(h,c2,h);const m=Cn(r,i2,_Y,{[NY]:!0});ut(m,"#"),Cn(m,i2,m),ut(m,V1e,m);const g=ut(m,q1e);ut(g,"#"),Cn(g,i2,m);const y=[[Ko,o],[Xo,a]],w=[[Ko,null],[Jm,l],[Xo,i]];for(let j=0;j<uy.length;j++)oc(r,uy[j],L5,Zo,y);for(let j=0;j<dy.length;j++)oc(r,dy[j],$5,I5,w);_u(L5,{tld:!0,ascii:!0},e),_u($5,{utld:!0,alpha:!0},e),oc(r,"file",nb,Zo,y),oc(r,"mailto",nb,Zo,y),oc(r,"http",uf,Zo,y),oc(r,"https",uf,Zo,y),oc(r,"ftp",uf,Zo,y),oc(r,"ftps",uf,Zo,y),_u(nb,{scheme:!0,ascii:!0},e),_u(uf,{slashscheme:!0,ascii:!0},e),t=t.sort((j,v)=>j[0]>v[0]?1:-1);for(let j=0;j<t.length;j++){const v=t[j][0],C=t[j][1]?{[F1e]:!0}:{[H1e]:!0};v.indexOf("-")>=0?C[R5]=!0:Ko.test(v)?Xo.test(v)?C[_p]=!0:C[D5]=!0:C[E5]=!0,e$(r,v,v,C)}return e$(r,"localhost",c0,{ascii:!0}),r.jd=new ys(jv),{start:r,tokens:Object.assign({groups:e},MY)}}function AY(t,e){const r=W1e(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,a=[];let i=0,o=0;for(;o<n;){let l=t,c=null,d=0,h=null,m=-1,g=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(m=0,g=0,h=l):m>=0&&(m+=r[o].length,g++),d+=r[o].length,i+=r[o].length,o++;i-=m,o-=g,d-=m,a.push({t:h.t,v:e.slice(i-d,i),s:i-d,e:i})}return a}function W1e(t){const e=[],r=t.length;let n=0;for(;n<r;){let a=t.charCodeAt(n),i,o=a<55296||a>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function oc(t,e,r,n,a){let i;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new ys(n),i.jr=a.slice(),t.j[c]=i),t=i}return i=new ys(r),i.jr=a.slice(),t.j[e[o-1]]=i,i}function r$(t){const e=[],r=[];let n=0,a="0123456789";for(;n<t.length;){let i=0;for(;a.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+i),10);o>0;o--)r.pop();n+=i}else r.push(t[n]),n++}return e}const u0={defaultProtocol:"http",events:null,format:n$,formatHref:n$,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tE(t,e=null){let r=Object.assign({},u0);t&&(r=Object.assign(r,t instanceof tE?t.o:t));const n=r.ignoreTags,a=[];for(let i=0;i<n.length;i++)a.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=a}tE.prototype={o:u0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let a=this.o[t];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:u0[t],typeof a=="function"&&n&&(a=a(e,r))):typeof a=="function"&&n&&(a=a(e,r.t,r)),a)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function n$(t){return t}function OY(t,e){this.t="token",this.v=t,this.tk=e}OY.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=u0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),a=t.get("tagName",r,e),i=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),d=t.get("rel",r,e),h=t.getObj("attributes",r,e),m=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),d&&(o.rel=d),h&&Object.assign(o,h),{tagName:a,attributes:o,content:i,eventListeners:m}}};function a1(t,e){class r extends OY{constructor(a,i){super(a,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const a$=a1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),s$=a1("text"),G1e=a1("nl"),fy=a1("url",{isLink:!0,toHref(t=u0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==c0&&t[1].t===pc}}),Qs=t=>new ys(t);function Y1e({groups:t}){const e=t.domain.concat([uv,fv,dc,hv,mv,pv,gv,xv,ni,KO,Op,yv,bv,vv,Zi,jv,Dp,wv]),r=[dv,pc,JO,Qi,QO,Op,Ep,ZO,eE,ev,tv,Mp,Ap,Jb,Xb,Qb,Zb,rv,nv,av,sv,iv,ov,lv,cv],n=[uv,dv,fv,hv,mv,pv,gv,xv,ni,Mp,Ap,Op,yv,bv,vv,Ep,Zi,jv,Dp,wv],a=Qs(),i=ut(a,Dp);ar(i,n,i),ar(i,t.domain,i);const o=Qs(),l=Qs(),c=Qs();ar(a,t.domain,o),ar(a,t.scheme,l),ar(a,t.slashscheme,c),ar(o,n,i),ar(o,t.domain,o);const d=ut(o,dc);ut(i,dc,d),ut(l,dc,d),ut(c,dc,d);const h=ut(i,Qi);ar(h,n,i),ar(h,t.domain,i);const m=Qs();ar(d,t.domain,m),ar(m,t.domain,m);const g=ut(m,Qi);ar(g,t.domain,m);const y=Qs(a$);ar(g,t.tld,y),ar(g,t.utld,y),ut(d,c0,y);const w=ut(m,ni);ut(w,ni,w),ar(w,t.domain,m),ar(y,t.domain,m),ut(y,Qi,g),ut(y,ni,w);const j=ut(y,pc);ar(j,t.numeric,a$);const v=ut(o,ni),N=ut(o,Qi);ut(v,ni,v),ar(v,t.domain,o),ar(N,n,i),ar(N,t.domain,o);const C=Qs(fy);ar(N,t.tld,C),ar(N,t.utld,C),ar(C,t.domain,o),ar(C,n,i),ut(C,Qi,N),ut(C,ni,v),ut(C,dc,d);const S=ut(C,pc),E=Qs(fy);ar(S,t.numeric,E);const T=Qs(fy),A=Qs();ar(T,e,T),ar(T,r,A),ar(A,e,T),ar(A,r,A),ut(C,Zi,T),ut(E,Zi,T);const O=ut(l,pc),D=ut(c,pc),$=ut(D,Zi),L=ut($,Zi);ar(l,t.domain,o),ut(l,Qi,N),ut(l,ni,v),ar(c,t.domain,o),ut(c,Qi,N),ut(c,ni,v),ar(O,t.domain,T),ut(O,Zi,T),ut(O,Ep,T),ar(L,t.domain,T),ar(L,e,T),ut(L,Zi,T);const I=[[Mp,Ap],[Xb,Jb],[Qb,Zb],[ev,tv],[rv,nv],[av,sv],[iv,ov],[lv,cv]];for(let R=0;R<I.length;R++){const[H,G]=I[R],q=ut(T,H);ut(A,H,q),ut(q,G,T);const F=Qs(fy);ar(q,e,F);const P=Qs();ar(q,r),ar(F,e,F),ar(F,r,P),ar(P,e,F),ar(P,r,P),ut(F,G,T),ut(P,G,T)}return ut(a,c0,C),ut(a,XO,G1e),{start:a,tokens:MY}}function K1e(t,e,r){let n=r.length,a=0,i=[],o=[];for(;a<n;){let l=t,c=null,d=null,h=0,m=null,g=-1;for(;a<n&&!(c=l.go(r[a].t));)o.push(r[a++]);for(;a<n&&(d=c||l.go(r[a].t));)c=null,l=d,l.accepts()?(g=0,m=l):g>=0&&g++,a++,h++;if(g<0)a-=h,a<n&&(o.push(r[a]),a++);else{o.length>0&&(i.push(u2(s$,e,o)),o=[]),a-=g,h-=g;const y=m.t,w=r.slice(a-h,a);i.push(u2(y,e,w))}}return o.length>0&&i.push(u2(s$,e,o)),i}function u2(t,e,r){const n=r[0].s,a=r[r.length-1].e,i=e.slice(n,a);return new t(i,r)}const X1e=typeof console<"u"&&console&&console.warn||(()=>{}),J1e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",dn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Q1e(){return ys.groups={},dn.scanner=null,dn.parser=null,dn.tokenQueue=[],dn.pluginQueue=[],dn.customSchemes=[],dn.initialized=!1,dn}function i$(t,e=!1){if(dn.initialized&&X1e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${J1e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);dn.customSchemes.push([t,e])}function Z1e(){dn.scanner=U1e(dn.customSchemes);for(let t=0;t<dn.tokenQueue.length;t++)dn.tokenQueue[t][1]({scanner:dn.scanner});dn.parser=Y1e(dn.scanner.tokens);for(let t=0;t<dn.pluginQueue.length;t++)dn.pluginQueue[t][1]({scanner:dn.scanner,parser:dn.parser});return dn.initialized=!0,dn}function rE(t){return dn.initialized||Z1e(),K1e(dn.parser.start,t,AY(dn.scanner.start,t))}rE.scan=AY;function EY(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new tE(r),a=rE(t),i=[];for(let o=0;o<a.length;o++){const l=a[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&i.push(l.toFormattedObject(n))}return i}var nE="[\0-   ᠎ -\u2029 　]",eje=new RegExp(nE),tje=new RegExp(`${nE}$`),rje=new RegExp(nE,"g");function nje(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function aje(t){return new Pn({key:new ya("autolink"),appendTransaction:(e,r,n)=>{const a=e.some(d=>d.docChanged)&&!r.doc.eq(n.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!a||i)return;const{tr:o}=n,l=UG(r.doc,[...e]);if(eY(l).forEach(({newRange:d})=>{const h=Fve(n.doc,d,y=>y.isTextblock);let m,g;if(h.length>1)m=h[0],g=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const y=n.doc.textBetween(d.from,d.to," "," ");if(!tje.test(y))return;m=h[0],g=n.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&g){const y=g.split(eje).filter(Boolean);if(y.length<=0)return!1;const w=y[y.length-1],j=m.pos+g.lastIndexOf(w);if(!w)return!1;const v=rE(w).map(N=>N.toObject(t.defaultProtocol));if(!nje(v))return!1;v.filter(N=>N.isLink).map(N=>({...N,from:j+N.start+1,to:j+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{WO(N.from,N.to,n.doc).some(C=>C.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function sje(t){return new Pn({key:new ya("handleClickLink"),props:{handleClick:(e,r,n)=>{var a,i;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let h=n.target;const m=[];for(;h.nodeName!=="DIV";)m.push(h),h=h.parentNode;o=m.find(g=>g.nodeName==="A")}if(!o)return!1;const l=ZG(e.state,t.type.name),c=(a=o==null?void 0:o.href)!=null?a:l.href,d=(i=o==null?void 0:o.target)!=null?i:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,d),!0):!1}}})}function ije(t){return new Pn({key:new ya("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:a}=e,{selection:i}=a,{empty:o}=i;if(o)return!1;let l="";n.content.forEach(d=>{l+=d.textContent});const c=EY(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function cu(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!t||t.replace(rje,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var DY=El.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){i$(t);return}i$(t.scheme,t.optionalSlashes)})},onDestroy(){Q1e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!cu(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!cu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!cu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Dn(this.options.HTMLAttributes,t),0]:["a",Dn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!cu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!cu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ic({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,a=EY(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!cu(o,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(aje({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!cu(a,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(sje({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(ije({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),oje=DY,d2={exports:{}},f2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o$;function lje(){if(o$)return f2;o$=1;var t=W0();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,g){var y=g(),w=n({inst:{value:y,getSnapshot:g}}),j=w[0].inst,v=w[1];return i(function(){j.value=y,j.getSnapshot=g,c(j)&&v({inst:j})},[m,y,g]),a(function(){return c(j)&&v({inst:j}),m(function(){c(j)&&v({inst:j})})},[m]),o(y),y}function c(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!r(m,y)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return f2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,f2}var l$;function PY(){return l$||(l$=1,d2.exports=lje()),d2.exports}var RY=PY(),h2,c$;function cje(){return c$||(c$=1,h2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],r.get(a[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),h2}var uje=cje();const dje=Dr(uje);var m2={exports:{}},p2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u$;function fje(){if(u$)return p2;u$=1;var t=W0(),e=PY();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return p2.useSyncExternalStoreWithSelector=function(d,h,m,g,y){var w=i(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=l(function(){function N(A){if(!C){if(C=!0,S=A,A=g(A),y!==void 0&&j.hasValue){var O=j.value;if(y(O,A))return E=O}return E=A}if(O=E,n(S,A))return O;var D=g(A);return y!==void 0&&y(O,D)?(S=A,O):(S=A,E=D)}var C=!1,S,E,T=m===void 0?null:m;return[function(){return N(h())},T===null?void 0:function(){return N(T())}]},[h,m,g,y]);var v=a(d,w[0],w[1]);return o(function(){j.hasValue=!0,j.value=v},[v]),c(v),v},p2}var d$;function hje(){return d$||(d$=1,m2.exports=fje()),m2.exports}var mje=hje(),pje=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},gje=({contentComponent:t})=>{const e=RY.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return s.jsx(s.Fragment,{children:Object.values(e)})};function xje(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:tV.createPortal(n.reactElement,n.element,r)},t.forEach(a=>a())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(a=>a())}}}var yje=class extends X.Component{constructor(t){var e;super(t),this.editorContentRef=X.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=xje(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:pje(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&s.jsx(gje,{contentComponent:t.contentComponent})]})}},bje=x.forwardRef((t,e)=>{const r=X.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return X.createElement(yje,{key:r,innerRef:e,...t})}),vje=X.memo(bje),wje=typeof window<"u"?x.useLayoutEffect:x.useEffect,jje=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function IY(t){var e;const[r]=x.useState(()=>new jje(t.editor)),n=mje.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:dje);return wje(()=>r.watch(t.editor),[t.editor,r]),x.useDebugValue(n),n}var Sje=!1,H5=typeof window>"u",Nje=H5||!!(typeof window<"u"&&window.next),kje=class LY{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?H5||Nje?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var a,i;return(i=(a=this.options.current).onBeforeCreate)==null?void 0:i.call(a,...n)},onBlur:(...n)=>{var a,i;return(i=(a=this.options.current).onBlur)==null?void 0:i.call(a,...n)},onCreate:(...n)=>{var a,i;return(i=(a=this.options.current).onCreate)==null?void 0:i.call(a,...n)},onDestroy:(...n)=>{var a,i;return(i=(a=this.options.current).onDestroy)==null?void 0:i.call(a,...n)},onFocus:(...n)=>{var a,i;return(i=(a=this.options.current).onFocus)==null?void 0:i.call(a,...n)},onSelectionUpdate:(...n)=>{var a,i;return(i=(a=this.options.current).onSelectionUpdate)==null?void 0:i.call(a,...n)},onTransaction:(...n)=>{var a,i;return(i=(a=this.options.current).onTransaction)==null?void 0:i.call(a,...n)},onUpdate:(...n)=>{var a,i;return(i=(a=this.options.current).onUpdate)==null?void 0:i.call(a,...n)},onContentError:(...n)=>{var a,i;return(i=(a=this.options.current).onContentError)==null?void 0:i.call(a,...n)},onDrop:(...n)=>{var a,i;return(i=(a=this.options.current).onDrop)==null?void 0:i.call(a,...n)},onPaste:(...n)=>{var a,i;return(i=(a=this.options.current).onPaste)==null?void 0:i.call(a,...n)},onDelete:(...n)=>{var a,i;return(i=(a=this.options.current).onDelete)==null?void 0:i.call(a,...n)}};return new j1e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((a,i)=>{var o;return a===((o=r.extensions)==null?void 0:o[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?LY.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,a)=>n===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Cje(t={},e=[]){const r=x.useRef(t);r.current=t;const[n]=x.useState(()=>new kje(r)),a=RY.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return x.useDebugValue(a),x.useEffect(n.onRender(e)),IY({editor:a,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),a}var Tje=x.createContext({editor:null});Tje.Consumer;var _je=x.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Mje=()=>x.useContext(_je);X.forwardRef((t,e)=>{const{onDragStart:r}=Mje(),n=t.as||"div";return s.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});X.createContext({markViewContentRef:()=>{}});var Sv=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},Aje=/^\s*>\s$/,Oje=zs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Sv("blockquote",{...Dn(this.options.HTMLAttributes,t),children:Sv("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rh({find:Aje,type:this.type})]}}),Eje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Dje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Pje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Rje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Ije=El.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Sv("strong",{...Dn(this.options.HTMLAttributes,t),children:Sv("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ed({find:Eje,type:this.type}),ed({find:Pje,type:this.type})]},addPasteRules(){return[Ic({find:Dje,type:this.type}),Ic({find:Rje,type:this.type})]}}),Lje=/(^|[^`])`([^`]+)`(?!`)$/,$je=/(^|[^`])`([^`]+)`(?!`)/g,Fje=El.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ed({find:Lje,type:this.type})]},addPasteRules(){return[Ic({find:$je,type:this.type})]}}),g2=4,Hje=/^```([a-z]+)?[\s\n]$/,Bje=/^~~~([a-z]+)?[\s\n]$/,zje=zs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:g2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Dn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:g2,{state:n}=t,{selection:a}=n,{$from:i,empty:o}=a;if(i.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:h}=a,y=n.doc.textBetween(d,h,`
`,`
`).split(`
`).map(w=>l+w).join(`
`);return c.replaceWith(d,h,n.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:g2,{state:n}=t,{selection:a}=n,{$from:i,empty:o}=a;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:d}=i,h=i.start(),m=i.end(),y=n.doc.textBetween(h,m,`
`,`
`).split(`
`);let w=0,j=0;const v=d-h;for(let A=0;A<y.length;A+=1){if(j+y[A].length>=v){w=A;break}j+=y[A].length+1}const C=((c=y[w].match(/^ */))==null?void 0:c[0])||"",S=Math.min(C.length,r);if(S===0)return!0;let E=h;for(let A=0;A<w;A+=1)E+=y[A].length+1;return l.delete(E,E+S),d-E<=S&&l.setSelection(Qt.create(l.doc,E)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=a,g=n.doc.textBetween(c,d,`
`,`
`).split(`
`).map(y=>{var w;const j=((w=y.match(/^ */))==null?void 0:w[0])||"",v=Math.min(j.length,r);return y.slice(v)}).join(`
`);return l.replaceWith(c,d,n.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:a,empty:i}=r;if(!i||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(sr.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[O5({find:Hje,type:this.type,getAttributes:t=>({language:t[1]})}),O5({find:Bje,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Pn({key:new ya("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,i=a==null?void 0:a.mode;if(!r||!i)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(Qt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Vje=zs.create({name:"doc",topNode:!0,content:"block+"}),qje=zs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Dn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:a,storedMarks:i}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=i||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:h})=>{if(h&&c&&o){const m=c.filter(g=>l.includes(g.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Uje=zs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Dn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>O5({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Wje=zs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Dn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!N1e(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,a=t();return rY(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Qt.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Ut.create(o.doc,c.pos)):o.setSelection(Qt.create(o.doc,c.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(o.insert(d,m),o.setSelection(Qt.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[S1e({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Gje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Yje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Kje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Xje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Jje=El.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ed({find:Gje,type:this.type}),ed({find:Kje,type:this.type})]},addPasteRules(){return[Ic({find:Yje,type:this.type}),Ic({find:Xje,type:this.type})]}}),Qje=Object.defineProperty,Zje=(t,e)=>{for(var r in e)Qje(t,r,{get:e[r],enumerable:!0})},eSe="listItem",f$="textStyle",h$=/^\s*([-+*])\s$/,$Y=zs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eSe,this.editor.getAttributes(f$)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=rh({find:h$,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rh({find:h$,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(f$),editor:this.editor})),[t]}}),FY=zs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Dn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),tSe={};Zje(tSe,{findListItemPos:()=>dg,getNextListDepth:()=>aE,handleBackspace:()=>B5,handleDelete:()=>z5,hasListBefore:()=>HY,hasListItemAfter:()=>rSe,hasListItemBefore:()=>BY,listItemHasSubList:()=>zY,nextListIsDeeper:()=>VY,nextListIsHigher:()=>qY});var dg=(t,e)=>{const{$from:r}=e.selection,n=Qn(t,e.schema);let a=null,i=r.depth,o=r.pos,l=null;for(;i>0&&l===null;)a=r.node(i),a.type===n?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},aE=(t,e)=>{const r=dg(t,e);if(!r)return!1;const[,n]=Kve(e,t,r.$pos.pos+4);return n},HY=(t,e,r)=>{const{$anchor:n}=t.selection,a=Math.max(0,n.pos-2),i=t.doc.resolve(a).node();return!(!i||!r.includes(i.type.name))},BY=(t,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==t)},zY=(t,e,r)=>{if(!r)return!1;const n=Qn(t,e.schema);let a=!1;return r.descendants(i=>{i.type===n&&(a=!0)}),a},B5=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Rc(t.state,e)&&HY(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((g,y)=>{g.type.name===e&&d.push({node:g,pos:y})});const h=d.at(-1);if(!h)return!1;const m=t.state.doc.resolve(c.start()+h.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!Rc(t.state,e)||!Zve(t.state))return!1;const n=dg(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=zY(e,t.state,i);return BY(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},VY=(t,e)=>{const r=aE(t,e),n=dg(t,e);return!n||!r?!1:r>n.depth},qY=(t,e)=>{const r=aE(t,e),n=dg(t,e);return!n||!r?!1:r<n.depth},z5=(t,e)=>{if(!Rc(t.state,e)||!Qve(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:VY(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():qY(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},rSe=(t,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==t)},UY=an.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&z5(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&z5(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&B5(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&B5(t,r,n)&&(e=!0)}),e}}}}),nSe="listItem",m$="textStyle",p$=/^(\d+)\.\s$/,WY=zs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Dn(this.options.HTMLAttributes,r),0]:["ol",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nSe,this.editor.getAttributes(m$)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=rh({find:p$,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rh({find:p$,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(m$)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),aSe=/^\s*(\[([( |x])?\])\s$/,sSe=zs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Dn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const a=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=h=>{var m,g;l.ariaLabel=((g=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:g.call(m,h,l.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return d(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",h=>h.preventDefault()),l.addEventListener("change",h=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=h.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const y=r();if(typeof y!="number")return!1;const w=g.doc.nodeAt(y);return g.setNodeMarkup(y,void 0,{...w==null?void 0:w.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{a.setAttribute(h,m)}),a.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),a.append(i,c),Object.entries(e).forEach(([h,m])=>{a.setAttribute(h,m)}),{dom:a,contentDOM:c,update:h=>h.type!==this.type?!1:(a.dataset.checked=h.attrs.checked,l.checked=h.attrs.checked,d(h),!0)}}},addInputRules(){return[rh({find:aSe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),iSe=zs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Dn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});an.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push($Y.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(FY.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(UY.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(WY.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(sSe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(iSe.configure(this.options.taskList)),t}});var oSe=zs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),lSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,cSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,uSe=El.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ed({find:lSe,type:this.type})]},addPasteRules(){return[Ic({find:cSe,type:this.type})]}}),dSe=zs.create({name:"text",group:"inline"}),fSe=El.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function hSe(t={}){return new Pn({view(e){return new mSe(e,t)}})}class mSe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let i=o=>{this[a](o)};return e.dom.addEventListener(a,i),{name:a,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,a=this.editorView.dom,i=a.getBoundingClientRect(),o=i.width/a.offsetWidth,l=i.height/a.offsetHeight;if(r){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let w=y.getBoundingClientRect(),j=m?w.bottom:w.top;m&&g&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*l;n={left:w.left,right:w.right,top:j-v,bottom:j+v}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;n={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let d,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),g=m.width/c.offsetWidth,y=m.height/c.offsetHeight;d=m.left-c.scrollLeft*g,h=m.top-c.scrollTop*y}this.element.style.left=(n.left-d)/o+"px",this.element.style.top=(n.top-h)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,i=typeof a=="function"?a(this.editorView,r,e):a;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=VW(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Mn extends sr{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Mn.valid(n)?new Mn(n):sr.near(n)}content(){return Tt.empty}eq(e){return e instanceof Mn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Mn(e.resolve(r.pos))}getBookmark(){return new sE(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!pSe(e)||!gSe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Mn.valid(e))return e;let a=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;a+=r;let c=e.doc.resolve(a);if(Mn.valid(c))return c}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Ut.isSelectable(i)){e=e.doc.resolve(a+i.nodeSize*r),n=!1;continue e}break}i=o,a+=r;let l=e.doc.resolve(a);if(Mn.valid(l))return l}return null}}}Mn.prototype.visible=!1;Mn.findFrom=Mn.findGapCursorFrom;sr.jsonID("gapcursor",Mn);class sE{constructor(e){this.pos=e}map(e){return new sE(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Mn.valid(r)?new Mn(r):sr.near(r)}}function pSe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function gSe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function xSe(){return new Pn({props:{decorations:wSe,createSelectionBetween(t,e,r){return e.pos==r.pos&&Mn.valid(r)?new Mn(r):null},handleClick:bSe,handleKeyDown:ySe,handleDOMEvents:{beforeinput:vSe}}})}const ySe=OG({ArrowLeft:hy("horiz",-1),ArrowRight:hy("horiz",1),ArrowUp:hy("vert",-1),ArrowDown:hy("vert",1)});function hy(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,i){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof Qt){if(!i.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let d=Mn.findGapCursorFrom(l,e,c);return d?(a&&a(n.tr.setSelection(new Mn(d))),!0):!1}}function bSe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!Mn.valid(n))return!1;let a=t.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&Ut.isSelectable(t.state.doc.nodeAt(a.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Mn(n))),!0)}function vSe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Mn))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let a=it.empty;for(let o=n.length-1;o>=0;o--)a=it.from(n[o].createAndFill(null,a));let i=t.state.tr.replace(r.pos,r.pos,new Tt(a,0,0));return i.setSelection(Qt.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function wSe(t){if(!(t.selection instanceof Mn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",bn.create(t.doc,[Xa.widget(t.selection.head,e,{key:"gapcursor"})])}var Nv=200,xa=function(){};xa.prototype.append=function(e){return e.length?(e=xa.from(e),!this.length&&e||e.length<Nv&&this.leafAppend(e)||this.length<Nv&&e.leafPrepend(this)||this.appendInner(e)):this};xa.prototype.prepend=function(e){return e.length?xa.from(e).append(this):this};xa.prototype.appendInner=function(e){return new jSe(this,e)};xa.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?xa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};xa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};xa.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};xa.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(i,o){return a.push(e(i,o))},r,n),a};xa.from=function(e){return e instanceof xa?e:e&&e.length?new GY(e):xa.empty};var GY=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,i){return a==0&&i==this.length?this:new e(this.values.slice(a,i))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,i,o,l){for(var c=i;c<o;c++)if(a(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(a,i,o,l){for(var c=i-1;c>=o;c--)if(a(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Nv)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Nv)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(xa);xa.empty=new GY([]);var jSe=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,i,o){var l=this.left.length;if(a<l&&this.left.forEachInner(n,a,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(a-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,i,o){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(n,a-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(a,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var i=this.left.length;return a<=i?this.left.slice(n,a):n>=i?this.right.slice(n-i,a-i):this.left.slice(n,i).append(this.right.slice(0,a-i))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(xa);const SSe=500;class Di{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,i;r&&(a=this.remapping(n,this.items.length),i=a.maps.length);let o=e.tr,l,c,d=[],h=[];return this.items.forEach((m,g)=>{if(!m.step){a||(a=this.remapping(n,g+1),i=a.maps.length),i--,h.push(m);return}if(a){h.push(new eo(m.map));let y=m.step.map(a.slice(i)),w;y&&o.maybeStep(y).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],d.push(new eo(w,void 0,void 0,d.length+h.length))),i--,w&&a.appendMap(w,i)}else o.maybeStep(m.step);if(m.selection)return l=a?m.selection.map(a.slice(i)):m.selection,c=new Di(this.items.slice(0,n).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,a){let i=[],o=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let m=e.steps[h].invert(e.docs[h]),g=new eo(e.mapping.maps[h],m,r),y;(y=c&&c.merge(g))&&(g=y,h?i.pop():l=l.slice(0,l.length-1)),i.push(g),r&&(o++,r=void 0),a||(c=g)}let d=o-n.depth;return d>kSe&&(l=NSe(l,d),o-=d),new Di(l.append(i),o)}remapping(e,r){let n=new r0;return this.items.forEach((a,i)=>{let o=a.mirrorOffset!=null&&i-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Di(this.items.append(e.map(r=>new eo(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},a);let c=r;this.items.forEach(g=>{let y=i.getMirror(--c);if(y==null)return;o=Math.min(o,y);let w=i.maps[y];if(g.step){let j=e.steps[y].invert(e.docs[y]),v=g.selection&&g.selection.map(i.slice(c+1,y));v&&l++,n.push(new eo(w,j,v))}else n.push(new eo(w))},a);let d=[];for(let g=r;g<o;g++)d.push(new eo(i.maps[g]));let h=this.items.slice(0,a).append(d).append(n),m=new Di(h,l);return m.emptyItemCount()>SSe&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)a.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let h=o.selection&&o.selection.map(r.slice(n));h&&i++;let m=new eo(d.invert(),c,h),g,y=a.length-1;(g=a.length&&a[y].merge(m))?a[y]=g:a.push(m)}}else o.map&&n--},this.items.length,0),new Di(xa.from(a.reverse()),i)}}Di.empty=new Di(xa.empty,0);function NSe(t,e){let r;return t.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),t.slice(r)}class eo{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new eo(r.getMap().invert(),r,this.selection)}}}class fc{constructor(e,r,n,a,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=i}}const kSe=20;function CSe(t,e,r,n){let a=r.getMeta(zu),i;if(a)return a.historyState;r.getMeta(MSe)&&(t=new fc(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(zu))return o.getMeta(zu).redo?new fc(t.done.addTransform(r,void 0,n,ab(e)),t.undone,g$(r.mapping.maps),t.prevTime,t.prevComposition):new fc(t.done,t.undone.addTransform(r,void 0,n,ab(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!TSe(r,t.prevRanges)),d=o?x2(t.prevRanges,r.mapping):g$(r.mapping.maps);return new fc(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,ab(e)),Di.empty,d,r.time,l??t.prevComposition)}else return(i=r.getMeta("rebased"))?new fc(t.done.rebased(r,i),t.undone.rebased(r,i),x2(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new fc(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),x2(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function TSe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,a)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&a>=e[i]&&(r=!0)}),r}function g$(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,a,i,o)=>e.push(i,o));return e}function x2(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let a=e.map(t[n],1),i=e.map(t[n+1],-1);a<=i&&r.push(a,i)}return r}function _Se(t,e,r){let n=ab(e),a=zu.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),a,n),c=new fc(r?l:i.remaining,r?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(zu,{redo:r,historyState:c})}let y2=!1,x$=null;function ab(t){let e=t.plugins;if(x$!=e){y2=!1,x$=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){y2=!0;break}}return y2}const zu=new ya("history"),MSe=new ya("closeHistory");function ASe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Pn({key:zu,state:{init(){return new fc(Di.empty,Di.empty,null,0,-1)},apply(e,r,n){return CSe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?KY:n=="historyRedo"?XY:null;return a?(r.preventDefault(),a(e.state,e.dispatch)):!1}}}})}function YY(t,e){return(r,n)=>{let a=zu.getState(r);if(!a||(t?a.undone:a.done).eventCount==0)return!1;if(n){let i=_Se(a,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const KY=YY(!1,!0),XY=YY(!0,!0);an.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Pn({key:new ya("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const a=this.options.limit;if(a==null||a===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>a){const o=i-a,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||a>n&&i>n&&i<=a)return!0;if(a>n&&i>n&&i>a||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-n,d=l-c,h=l;return e.deleteRange(d,h),!(this.storage.characters({node:e.doc})>n)}})]}});var OSe=an.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hSe(this.options)]}});an.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Pn({key:new ya("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=e,i=[];if(!r||!n)return bn.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(a>=d&&a<=d+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(a>=d&&a<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Xa.node(d,d+c.nodeSize,{class:this.options.className}))}),bn.create(t,i)}}})]}});var ESe=an.create({name:"gapCursor",addProseMirrorPlugins(){return[xSe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Wr(zt(t,"allowGapCursor",r)))!=null?e:null}}});an.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Pn({key:new ya("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!r)return null;const i=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,d=!o.isLeaf&&t1(o);if((c||!this.options.showOnlyCurrent)&&d){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const m=Xa.node(l,l+o.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});a.push(m)}return this.options.includeChildren}),bn.create(t,a)}}})]}});an.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Pn({key:new ya("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||rY(r.selection)||t.view.dragging?null:bn.create(r.doc,[Xa.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function y$({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var DSe=an.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new ya(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Pn({key:t,appendTransaction:(r,n,a)=>{const{doc:i,tr:o,schema:l}=a,c=t.getState(a),d=i.content.size,h=l.nodes[this.options.node];if(c)return o.insert(d,h.create())},state:{init:(r,n)=>{const a=n.tr.doc.lastChild;return!y$({node:a,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const a=r.doc.lastChild;return!y$({node:a,types:e})}}})]}}),PSe=an.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>KY(t,e),redo:()=>({state:t,dispatch:e})=>XY(t,e)}},addProseMirrorPlugins(){return[ASe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),RSe=an.create({name:"starterKit",addExtensions(){var t,e,r,n;const a=[];return this.options.bold!==!1&&a.push(Ije.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(Oje.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push($Y.configure(this.options.bulletList)),this.options.code!==!1&&a.push(Fje.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(zje.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(Vje.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(OSe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(ESe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(qje.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(Uje.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(PSe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(Wje.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(Jje.configure(this.options.italic)),this.options.listItem!==!1&&a.push(FY.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(UY.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&a.push(DY.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(WY.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(oSe.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(uSe.configure(this.options.strike)),this.options.text!==!1&&a.push(dSe.configure(this.options.text)),this.options.underline!==!1&&a.push(fSe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(DSe.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),ISe=RSe,LSe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,$Se=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,FSe=El.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ed({find:LSe,type:this.type})]},addPasteRules(){return[Ic({find:$Se,type:this.type})]}}),HSe=FSe;const BSe=[E1e,ISe.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),R1e.configure({types:["textStyle"]}),HSe.configure({multicolor:!0}),I1e.configure({types:["textStyle"]}),oje.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),P1e.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],zSe=({editor:t,onClose:e})=>{const[r,n]=x.useState(()=>t.getAttributes("link").href||""),[a,i]=x.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=x.useState(()=>{try{const{from:h,to:m}=t.state.selection;return h===m?"":t.state.doc.textBetween(h,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(a).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},d=()=>{t.chain().focus().setTextSelection(a).run(),t.chain().focus().unsetLink().run(),e()};return s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),s.jsx("input",{type:"url",value:r,onChange:h=>n(h.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&s.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),s.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&s.jsx("button",{onClick:d,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),s.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},VSe=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],a=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,i=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return s.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),s.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>s.jsx("button",{onClick:()=>i(l),className:`w-8 h-8 rounded border border-gray-300 ${a===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),s.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function qSe({editor:t}){const[e,r]=x.useState(!1),[n,a]=x.useState(null),[i,o]=x.useState(!1);if(!t)return null;const l=IY({editor:t,selector:d=>({isBold:d.editor.isActive("bold")??!1,canBold:d.editor.can().chain().toggleBold().run()??!1,isItalic:d.editor.isActive("italic")??!1,canItalic:d.editor.can().chain().toggleItalic().run()??!1,isStrike:d.editor.isActive("strike")??!1,canStrike:d.editor.can().chain().toggleStrike().run()??!1,isCode:d.editor.isActive("code")??!1,canCode:d.editor.can().chain().toggleCode().run()??!1,isLink:d.editor.isActive("link")??!1,currentColor:d.editor.getAttributes("textStyle").color,currentBackgroundColor:d.editor.getAttributes("highlight").color,currentFontFamily:d.editor.getAttributes("textStyle").fontFamily,isAlignLeft:d.editor.isActive({textAlign:"left"})??!1,isAlignCenter:d.editor.isActive({textAlign:"center"})??!1,isAlignRight:d.editor.isActive({textAlign:"right"})??!1,isAlignJustify:d.editor.isActive({textAlign:"justify"})??!1,canClearMarks:d.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:d.editor.isActive("paragraph")??!1,isHeading1:d.editor.isActive("heading",{level:1})??!1,isHeading2:d.editor.isActive("heading",{level:2})??!1,isHeading3:d.editor.isActive("heading",{level:3})??!1,isBulletList:d.editor.isActive("bulletList")??!1,isOrderedList:d.editor.isActive("orderedList")??!1,canUndo:d.editor.can().chain().undo().run()??!1,canRedo:d.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:s.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:s.jsx(Coe,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:s.jsx(Ole,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:s.jsx(kce,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:s.jsx(Xoe,{size:18})})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:s.jsx(goe,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:s.jsx(foe,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:s.jsx(yoe,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:s.jsx(moe,{size:18})})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsxs("button",{type:"button",onClick:()=>a("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[s.jsx(rce,{size:18}),l.currentColor&&s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),s.jsxs("button",{type:"button",onClick:()=>a("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[s.jsx(ece,{size:18}),l.currentBackgroundColor&&s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[s.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:s.jsx(zq,{size:18})}),i&&s.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(d=>s.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(d).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:d},children:d.split(",")[0]},d)),s.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),d.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:s.jsx(Rle,{size:18})}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:s.jsx(xce,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:s.jsx(yn,{size:18})})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:s.jsx(ice,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:s.jsx(wle,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:s.jsx(Sle,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:s.jsx(kle,{size:18})})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:s.jsx(Hq,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:s.jsx(Fle,{size:18})})]}),s.jsx("div",{className:"w-px bg-gray-300 mx-1"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[s.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:s.jsx(Dce,{size:18})}),s.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:s.jsx(hce,{size:18})})]})]})}),e&&s.jsx(zSe,{editor:t,onClose:()=>r(!1)}),n&&s.jsx(VSe,{editor:t,type:n,onClose:()=>a(null)})]})}const Nl=({value:t,onChange:e})=>{const r=Cje({extensions:BSe,content:t,onUpdate:({editor:n})=>{const a=n.getHTML();e(a)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?s.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[s.jsx(qSe,{editor:r}),s.jsx(vje,{editor:r,className:"min-h-[120px]"})]}):s.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},USe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,WSe=()=>{var $e,Oe,xe,Ae,Ve,ee,ae;const{getAllMasterData:t,submitMachineHistory:e}=Ct(),r=Nt(),[n,a]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[d,h]=x.useState(!1),[m,g]=x.useState(()=>{const Z=localStorage.getItem("sidebarOpen");return Z?JSON.parse(Z):!1}),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(Z=>!Z)},[w,j]=x.useState(window.innerWidth<768),[v,N]=x.useState([]),[C,S]=x.useState([]),[E,T]=x.useState([]),[A,O]=x.useState([]),[D,$]=x.useState([]),[L,I]=x.useState([]),[R,H]=x.useState([]),[G,q]=x.useState([]),[F,P]=x.useState([]),B={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[K,te]=x.useState(B),U=x.useCallback((Z,ve)=>{if(Z&&typeof Z=="object"&&"value"in Z&&ve)te(Ge=>({...Ge,[ve]:Z.value}));else if(Z&&"target"in Z){const{name:Ge,value:Ke}=Z.target;te(pe=>{if(["stopJam","startJam"].includes(Ge)){const ot=Ke.replace(/[^\d]/g,""),gt=parseInt(ot,10);return{...pe,[Ge]:ot===""?0:Math.max(0,Math.min(23,isNaN(gt)?0:gt))}}if(["stopMenit","startMenit"].includes(Ge)){const ot=Ke.replace(/[^\d]/g,""),gt=parseInt(ot,10);return{...pe,[Ge]:ot===""?0:Math.max(0,Math.min(59,isNaN(gt)?0:gt))}}return Ge==="runningHour"||Ge==="jumlah"?{...pe,[Ge]:Ke.replace(/[^\d.]/g,"")}:{...pe,[Ge]:Ke}})}},[]),Q=x.useCallback(Z=>{if(typeof Z=="string"){const ve=Z.replace(/[^\d]/g,""),Ge=parseInt(ve,10);return isNaN(Ge)?"":Ge.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(Z)||Z===null||Z===void 0?"":Z.toLocaleString("id-ID").replace(/,/g,".")},[]),ie=async Z=>{Z.preventDefault(),a(!0),o(null),c(null);const ve={...K,perbaikanPerawatan:K.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:K.runningHour?parseInt(String(K.runningHour).replace(/\./g,""),10):0,jumlah:K.jumlah?parseInt(String(K.jumlah).replace(/\./g,""),10):0,stopJam:K.stopJam===0&&String(K.stopJam)===""?null:K.stopJam,stopMenit:K.stopMenit===0&&String(K.stopMenit)===""?null:K.stopMenit,startJam:K.startJam===0&&String(K.startJam)===""?null:K.startJam,startMenit:K.startMenit===0&&String(K.startMenit)===""?null:K.startMenit};try{await e(ve),c("Data history mesin berhasil disimpan!"),h(!0),le()}catch(Ge){o(Ge.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",Ge)}finally{a(!1)}},le=x.useCallback(()=>{te(B),o(null),c(null)},[]),ce=x.useCallback(()=>{h(!1),r("/machinehistory")},[r]);x.useEffect(()=>{(async()=>{var ve,Ge,Ke,pe,ot,gt,Re,ct,St;try{const ht=await t();N(((ve=ht.mesin)==null?void 0:ve.data)||[]),S(((Ge=ht.shifts)==null?void 0:Ge.data)||[]),T(((Ke=ht.groups)==null?void 0:Ke.data)||[]),O(((pe=ht.stoptimes)==null?void 0:pe.data)||[]),$(((ot=ht.units)==null?void 0:ot.data)||[]),I(((gt=ht.itemtroubles)==null?void 0:gt.data)||[]),H(((Re=ht.jenisaktivitas)==null?void 0:Re.data)||[]),q(((ct=ht.kegiatans)==null?void 0:ct.data)||[]),P(((St=ht.unitspareparts)==null?void 0:St.data)||[])}catch(ht){console.error("Gagal mengambil semua data master:",ht),o(ht.message||"Gagal memuat daftar data master.")}})()},[t]);const ge={control:(Z,ve)=>({...Z,minHeight:"42px",borderColor:ve.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ve.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Z=>({...Z,padding:"0"}),singleValue:Z=>({...Z,color:"#374151"}),placeholder:Z=>({...Z,color:"#6B7280"}),dropdownIndicator:Z=>({...Z,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Z=>({...Z,display:"none"}),menu:Z=>({...Z,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Z,ve)=>({...Z,backgroundColor:ve.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:s.jsx(eg,{}),isMobile:w,toggleSidebar:y}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),s.jsxs(_.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to History"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:i}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),s.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"date",id:"date",value:K.date,onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"shift",id:"shift",options:(C||[]).map(Z=>({value:Z.id,label:Z.name})),value:C.map(Z=>({value:Z.id,label:Z.name})).find(Z=>Z.value===K.shift),onChange:Z=>U(Z,"shift"),placeholder:"Select Shift",styles:ge,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"group",id:"group",options:(E||[]).map(Z=>({value:Z.id,label:Z.name})),value:E.map(Z=>({value:Z.id,label:Z.name})).find(Z=>Z.value===K.group),onChange:Z=>U(Z,"group"),placeholder:"Select Group",styles:ge,required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-indigo-500"})," Time Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",name:"startJam",id:"startJam",value:K.startJam===null?"":K.startJam,onChange:U,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),s.jsx("span",{className:"text-gray-500 text-lg",children:":"}),s.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:K.startMenit===null?"":K.startMenit,onChange:U,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:K.stopJam===null?"":K.stopJam,onChange:U,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),s.jsx("span",{className:"text-gray-500 text-lg",children:":"}),s.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:K.stopMenit===null?"":K.stopMenit,onChange:U,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"stopTime",id:"stopTime",options:(A||[]).map(Z=>({value:Z.id,label:Z.name})),value:A.find(Z=>Z.id===K.stopTime)?{value:K.stopTime,label:(($e=A.find(Z=>Z.id===K.stopTime))==null?void 0:$e.name)||""}:null,onChange:Z=>U(Z,"stopTime"),placeholder:"Select Stop Type",styles:ge,required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-green-500"})," Machine Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"mesin",id:"mesin",options:(v||[]).map(Z=>({value:Z.id,label:Z.name})),value:v.find(Z=>Z.id===K.mesin)?{value:K.mesin,label:((Oe=v.find(Z=>Z.id===K.mesin))==null?void 0:Oe.name)||""}:null,onChange:Z=>U(Z,"mesin"),placeholder:"Select Machine",styles:ge,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:Q(K.runningHour),onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"unit",id:"unit",options:(D||[]).map(Z=>({value:Z.id,label:Z.name})),value:D.find(Z=>Z.id===K.unit)?{value:K.unit,label:((xe=D.find(Z=>Z.id===K.unit))==null?void 0:xe.name)||""}:null,onChange:Z=>U(Z,"unit"),placeholder:"Select Unit",styles:ge,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"itemTrouble",id:"itemTrouble",options:(L||[]).map(Z=>({value:Z.id,label:Z.name})),value:L.find(Z=>Z.id===K.itemTrouble)?{value:K.itemTrouble,label:((Ae=L.find(Z=>Z.id===K.itemTrouble))==null?void 0:Ae.name)||""}:null,onChange:Z=>U(Z,"itemTrouble"),placeholder:"Select Item Trouble",styles:ge,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:K.jenisGangguan,onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:K.bentukTindakan,onChange:Z=>{te(ve=>({...ve,bentukTindakan:Z}))}})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"rootCause",id:"rootCause",value:K.rootCause,onChange:U,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ld,{className:"mr-2 text-purple-500"})," Activity Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"jenisAktivitas",id:"jenisAktivitas",options:(R||[]).map(Z=>({value:Z.id,label:Z.name})),value:R.find(Z=>Z.id===K.jenisAktivitas)?{value:K.jenisAktivitas,label:((Ve=R.find(Z=>Z.id===K.jenisAktivitas))==null?void 0:Ve.name)||""}:null,onChange:Z=>U(Z,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:ge,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"kegiatan",id:"kegiatan",options:(G||[]).map(Z=>({value:Z.id,label:Z.name})),value:G.find(Z=>Z.id===K.kegiatan)?{value:K.kegiatan,label:((ee=G.find(Z=>Z.id===K.kegiatan))==null?void 0:ee.name)||""}:null,onChange:Z=>U(Z,"kegiatan"),placeholder:"Select Activity",styles:ge,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),s.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:K.kodePart,onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),s.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:K.sparePart,onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),s.jsx("input",{type:"text",name:"idPart",id:"idPart",value:K.idPart,onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),s.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:Q(K.jumlah),onChange:U,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),s.jsx(Sr,{name:"unitSparePart",id:"unitSparePart",options:(F||[]).map(Z=>({value:Z.id,label:Z.name})),value:F.find(Z=>Z.id===K.unitSparePart)?{value:K.unitSparePart,label:((ae=F.find(Z=>Z.id===K.unitSparePart))==null?void 0:ae.name)||""}:null,onChange:Z=>U(Z,"unitSparePart"),placeholder:"Select Unit",styles:ge})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsxs(_.button,{type:"button",onClick:le,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(yn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),s.jsx(USe,{isOpen:d,onClose:ce,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},GSe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,YSe=()=>{var H,G,q,F,P,B,K,te,U,Q,ie,le,ce,ge,$e,Oe,xe,Ae,Ve,ee,ae,Z,ve,Ge,Ke,pe,ot,gt,Re,ct,St,ht,Ft,rt,ke,tt;const{id:t}=Ea(),e=Nt(),[r,n]=x.useState(()=>{const Se=localStorage.getItem("sidebarOpen");return Se?JSON.parse(Se):!1}),a=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Se=>!Se)},[i,o]=x.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:d,isMasterDataLoading:h}=Ct(),[m,g]=x.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[y,w]=x.useState(!0),[j,v]=x.useState(!1),[N,C]=x.useState(null),[S,E]=x.useState(null),[T,A]=x.useState(!1);x.useEffect(()=>{(async()=>{var ft,xt,wt,we,at;try{if(w(!0),h||!d)return;if(t){const ne=(await l(t)).data;ne?g({date:ne.date||"",shift:String(ne.shift_id)||"",group:String(ne.group_id)||"",stopJam:((ft=ne.startstop)==null?void 0:ft.stop_time_hh)??null,stopMenit:((xt=ne.startstop)==null?void 0:xt.stop_time_mm)??null,startJam:((wt=ne.startstop)==null?void 0:wt.start_time_hh)??null,startMenit:((we=ne.startstop)==null?void 0:we.start_time_mm)??null,stopTime:String(ne.stoptime_id)||"",unit:String(ne.unit_id)||"",mesin:String(ne.mesin_id)||"",runningHour:ne.running_hour??0,itemTrouble:String(ne.itemtrouble_id)||"",jenisGangguan:ne.jenis_gangguan||"",bentukTindakan:ne.bentuk_tindakan||"",perbaikanPerawatan:((at=ne.jenisaktifitas)==null?void 0:at.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:ne.root_cause||"",jenisAktivitas:String(ne.jenisaktifitas_id)||"",kegiatan:String(ne.kegiatan_id)||"",kodePart:ne.kode_part||"",sparePart:ne.spare_part||"",idPart:ne.id_part||"",jumlah:ne.jumlah??0,unitSparePart:String(ne.unitsp_id)||""}):C("Data history mesin tidak ditemukan.")}else C("ID history mesin tidak diberikan untuk pengeditan.")}catch(Je){console.error("Error fetching machine history:",Je),C(Je.message||"Terjadi kesalahan saat memuat data.")}finally{w(!1)}})()},[t,d,h,l]);const O=x.useCallback((Se,ft)=>{if(Se&&typeof Se=="object"&&"value"in Se&&ft)g(xt=>({...xt,[ft]:Se.value}));else if(Se&&"target"in Se){const{name:xt,value:wt,type:we}=Se.target;g(at=>{if(["stopJam","startJam"].includes(xt)){const Je=wt.replace(/[^\d]/g,""),ne=parseInt(Je,10);return{...at,[xt]:Je===""?null:Math.max(0,Math.min(23,isNaN(ne)?0:ne))}}if(["stopMenit","startMenit"].includes(xt)){const Je=wt.replace(/[^\d]/g,""),ne=parseInt(Je,10);return{...at,[xt]:Je===""?null:Math.max(0,Math.min(59,isNaN(ne)?0:ne))}}return xt==="runningHour"||xt==="jumlah"?{...at,[xt]:wt.replace(/[^\d.]/g,"")}:{...at,[xt]:wt}})}},[]),D=x.useCallback(Se=>{if(Se===null||isNaN(Number(Se)))return"";if(typeof Se=="string"){const ft=Se.replace(/[^\d]/g,""),xt=parseInt(ft,10);return isNaN(xt)?"":xt.toLocaleString("id-ID").replace(/,/g,".")}return Se.toLocaleString("id-ID").replace(/,/g,".")},[]),$=async Se=>{Se.preventDefault(),v(!0),C(null),E(null);const ft={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const xt=await c(t,ft);E(xt.message||"Machine history updated successfully!"),A(!0)}catch(xt){console.error("Error updating machine history:",xt),C(xt.message||"Failed to update machine history.")}finally{v(!1)}},L=x.useCallback(()=>{g({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),C(null),E(null)},[]),I=x.useCallback(()=>{A(!1),e("/machinehistory")},[e]),R={control:(Se,ft)=>({...Se,minHeight:"42px",borderColor:ft.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ft.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Se=>({...Se,padding:"0"}),singleValue:Se=>({...Se,color:"#374151"}),placeholder:Se=>({...Se,color:"#6B7280"}),dropdownIndicator:Se=>({...Se,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Se=>({...Se,display:"none"}),menu:Se=>({...Se,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Se,ft)=>({...Se,backgroundColor:ft.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h||y?s.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:s.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[s.jsx(wr,{className:"animate-spin mr-3 text-2xl"}),s.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!d&&!h?s.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[s.jsx(dt,{className:"mr-3 text-2xl"}),s.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?s.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[s.jsx(dt,{className:"mr-3 text-2xl"}),s.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:s.jsx(eg,{}),isMobile:i,toggleSidebar:a}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),s.jsxs(_.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to History"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:N}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>C(null)})})]}),s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"shift",id:"shift",options:((G=(H=d==null?void 0:d.shifts)==null?void 0:H.data)==null?void 0:G.map(Se=>({value:Se.id,label:Se.name})))||[],value:((F=(q=d==null?void 0:d.shifts)==null?void 0:q.data)==null?void 0:F.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.shift)))||null,onChange:Se=>O(Se,"shift"),placeholder:"Select Shift",styles:R,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"group",id:"group",options:((B=(P=d==null?void 0:d.groups)==null?void 0:P.data)==null?void 0:B.map(Se=>({value:Se.id,label:Se.name})))||[],value:((te=(K=d==null?void 0:d.groups)==null?void 0:K.data)==null?void 0:te.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.group)))||null,onChange:Se=>O(Se,"group"),placeholder:"Select Group",styles:R,required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-indigo-500"})," Time Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:O,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),s.jsx("span",{className:"text-gray-500 text-lg",children:":"}),s.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:O,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:O,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),s.jsx("span",{className:"text-gray-500 text-lg",children:":"}),s.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:O,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"stopTime",id:"stopTime",options:((Q=(U=d==null?void 0:d.stoptimes)==null?void 0:U.data)==null?void 0:Q.map(Se=>({value:Se.id,label:Se.name})))||[],value:((le=(ie=d==null?void 0:d.stoptimes)==null?void 0:ie.data)==null?void 0:le.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.stopTime)))||null,onChange:Se=>O(Se,"stopTime"),placeholder:"Select Stop Type",styles:R,required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-green-500"})," Machine Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"mesin",id:"mesin",options:((ge=(ce=d==null?void 0:d.mesin)==null?void 0:ce.data)==null?void 0:ge.map(Se=>({value:Se.id,label:Se.name})))||[],value:((Oe=($e=d==null?void 0:d.mesin)==null?void 0:$e.data)==null?void 0:Oe.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.mesin)))||null,onChange:Se=>O(Se,"mesin"),placeholder:"Select Machine",styles:R,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:D(m.runningHour),onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"unit",id:"unit",options:((Ae=(xe=d==null?void 0:d.units)==null?void 0:xe.data)==null?void 0:Ae.map(Se=>({value:Se.id,label:Se.name})))||[],value:((ee=(Ve=d==null?void 0:d.units)==null?void 0:Ve.data)==null?void 0:ee.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.unit)))||null,onChange:Se=>O(Se,"unit"),placeholder:"Select Unit",styles:R,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"itemTrouble",id:"itemTrouble",options:((Z=(ae=d==null?void 0:d.itemtroubles)==null?void 0:ae.data)==null?void 0:Z.map(Se=>({value:Se.id,label:Se.name})))||[],value:((Ge=(ve=d==null?void 0:d.itemtroubles)==null?void 0:ve.data)==null?void 0:Ge.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.itemTrouble)))||null,onChange:Se=>O(Se,"itemTrouble"),placeholder:"Select Item Trouble",styles:R,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:m.bentukTindakan,onChange:Se=>{g(ft=>({...ft,bentukTindakan:Se}))}})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:O,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ld,{className:"mr-2 text-purple-500"})," Activity Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"jenisAktivitas",id:"jenisAktivitas",options:((pe=(Ke=d==null?void 0:d.jenisaktivitas)==null?void 0:Ke.data)==null?void 0:pe.map(Se=>({value:Se.id,label:Se.name})))||[],value:((gt=(ot=d==null?void 0:d.jenisaktivitas)==null?void 0:ot.data)==null?void 0:gt.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.jenisAktivitas)))||null,onChange:Se=>O(Se,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:R,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{name:"kegiatan",id:"kegiatan",options:((ct=(Re=d==null?void 0:d.kegiatans)==null?void 0:Re.data)==null?void 0:ct.map(Se=>({value:Se.id,label:Se.name})))||[],value:((ht=(St=d==null?void 0:d.kegiatans)==null?void 0:St.data)==null?void 0:ht.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.kegiatan)))||null,onChange:Se=>O(Se,"kegiatan"),placeholder:"Select Activity",styles:R,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),s.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),s.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),s.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),s.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:D(m.jumlah),onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),s.jsx(Sr,{name:"unitSparePart",id:"unitSparePart",options:((rt=(Ft=d==null?void 0:d.unitspareparts)==null?void 0:Ft.data)==null?void 0:rt.map(Se=>({value:Se.id,label:Se.name})))||[],value:((tt=(ke=d==null?void 0:d.unitspareparts)==null?void 0:ke.data)==null?void 0:tt.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.unitSparePart)))||null,onChange:Se=>O(Se,"unitSparePart"),placeholder:"Select Unit",styles:R})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsxs(_.button,{type:"button",onClick:L,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(yn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:j,children:j?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),s.jsx(GSe,{isOpen:T,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},b$={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},KSe=()=>{var Ve;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:a,updateUserPermissions:i,deleteUser:o,createRole:l,updateRole:c}=Ct(),d=Nt();Zn();const[h,m]=x.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),[g,y]=x.useState(window.innerWidth<768),[w,j]=x.useState("roles"),[v,N]=x.useState(null),[C,S]=x.useState(null),[E,T]=x.useState(!1),[A,O]=x.useState({}),[D,$]=x.useState("all"),[L,I]=x.useState(""),[R,H]=x.useState([]),[G,q]=x.useState([]),[F,P]=x.useState(!1);x.useRef(null),x.useEffect(()=>{const ee=()=>{y(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]),x.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(h))},[h]),x.useEffect(()=>{const ee=async()=>{try{const[ae,Z]=await Promise.all([n(),r("/roles")]),Ge=ae.map(pe=>({id:String(pe.id),name:pe.name,nik:pe.nik,email:pe.email,roleId:pe.role_id?String(pe.role_id):null,customPermissions:pe.customPermissions||[],department:pe.department||null,department_id:pe.department_id||null,permissions:pe.permissions||pe.allPermissions||[]})),Ke=Z.map(pe=>({id:String(pe.id),name:pe.name,description:pe.description||`${pe.name} role`,permissions:pe.permissions.map(String),isSuperadmin:pe.name==="superadmin"}));H(Ge),q(Ke)}catch(ae){console.error("Failed to fetch data:",ae)}};a("view_permissions")&&ee()},[n,r,a]);const B=()=>{m(ee=>!ee)},K=ee=>{O(ae=>({...ae,[ee]:!ae[ee]}))},te=ee=>{!v||v.isSuperadmin||N(ae=>({...ae,permissions:ae.permissions.includes(ee)?ae.permissions.filter(Z=>Z!==ee):[...ae.permissions,ee]}))},U=ee=>{!C||C.roleId==="3"||S(ae=>{if(!ae)return null;const Z=ae.customPermissions.includes(ee)?ae.customPermissions.filter(ve=>ve!==ee):[...ae.customPermissions,ee];return{...ae,customPermissions:Z,permissions:[...new Set([...ae.rolePermissions||[],...Z])]}})},Q=ee=>{N(ee),T(!0)},ie=x.useCallback(async()=>{if(!v||!a("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!v.name.trim()){alert("Role name cannot be empty!");return}try{const ee={name:v.name,description:v.description,permissions:v.permissions};v.id?await c(v.id,ee):await l(ee);const Z=(await r("/roles")).map(ve=>({id:String(ve.id),name:ve.name,description:ve.description,permissions:ve.permissions.map(String),isSuperadmin:ve.name==="superadmin"}));q(Z),T(!1),N(null)}catch(ee){console.error("Failed to save role:",ee)}},[v,a,c,l,r]),le=ee=>{const ae=G.find(Z=>String(Z.id)===String(ee.roleId));S({...ee,rolePermissions:(ae==null?void 0:ae.permissions)||[],customPermissions:ee.customPermissions||[],permissions:ee.permissions||[]})},ce=async()=>{if(C)try{const ee=await i(C.id,{roleId:C.roleId||null,customPermissions:C.customPermissions||[]});H(R.map(ae=>{if(ae.id===ee.id){const Z=ee.roleId||null,ve=G.find(ot=>String(ot.id)===String(Z)),Ge=(ve==null?void 0:ve.permissions)||[],Ke=ee.customPermissions||[],pe=[...new Set([...Ge,...Ke])];return{...ee,roleId:Z,customPermissions:Ke,rolePermissions:Ge,permissions:pe}}return ae})),S(null)}catch(ee){console.error("Failed to save user:",ee)}},ge=async ee=>{if(!(!a("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${ee}`,{method:"DELETE"});const Z=(await r("/roles")).map(ve=>({id:String(ve.id),name:ve.name,description:ve.description,permissions:ve.permissions.map(String),isSuperadmin:ve.name==="superadmin"}));q(Z)}catch(ae){console.error("Failed to delete role:",ae)}},$e=x.useCallback(async ee=>{if(window.confirm("Are you sure you want to delete this user?")){P(!0);try{await o(ee);const ae=await n();H(ae)}catch(ae){console.error("Failed to delete user:",ae)}finally{P(!1)}}},[o,n]),Oe=ee=>{if(!ee)return"No Role";const ae=G.find(Z=>String(Z.id)===String(ee));return ae?ae.name:"No Role"},xe=["all",...new Set(R.map(ee=>{var ae;return((ae=ee.department)==null?void 0:ae.name)||""}).filter(Boolean))],Ae=R.filter(ee=>{var ae;return D==="all"||((ae=ee.department)==null?void 0:ae.name)===D}).filter(ee=>ee.name.toLowerCase().includes(L.toLowerCase())||ee.nik.toLowerCase().includes(L.toLowerCase()));return a("15")?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx(Bf,{}),isMobile:g,toggleSidebar:B}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:s.jsxs("div",{className:"flex border-b border-gray-100",children:[s.jsxs("button",{onClick:()=>j("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${w==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Bf,{className:"mr-2 text-base"}),"Roles & Permissions"]}),s.jsxs("button",{onClick:()=>j("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${w==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ia,{className:"mr-2 text-base"}),"User Permissions"]})]})}),w==="roles"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),a("16")&&s.jsxs(_.button,{onClick:()=>{T(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Role"})]})]}),E&&s.jsxs(_.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v!=null&&v.id?"Edit Role":"Add New Role"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),s.jsx("input",{type:"text",value:(v==null?void 0:v.name)||"",onChange:ee=>N(ae=>({...ae,name:ee.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:(v==null?void 0:v.description)||"",onChange:ee=>N(ae=>({...ae,description:ee.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),s.jsx("div",{className:"space-y-4",children:Object.entries(b$).map(([ee,ae])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>K(ee),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[s.jsx("span",{className:"font-medium text-gray-700 capitalize",children:ee.replace(/([A-Z])/g," $1").trim()}),A[ee]?s.jsx(pb,{}):s.jsx(jn,{})]}),s.jsx(Mt,{children:A[ee]&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ae).map(([Z,ve])=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`perm-${ve}`,checked:(v==null?void 0:v.isSuperadmin)||(v==null?void 0:v.permissions.includes(ve))||!1,onChange:()=>te(ve),disabled:v==null?void 0:v.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),s.jsx("label",{htmlFor:`perm-${ve}`,className:"ml-2 text-sm text-gray-700",children:s.jsxs("div",{className:"font-medium",children:[Z," ",ee.replace(/([A-Z])/g," $1").trim(),(v==null?void 0:v.isSuperadmin)&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},ve))})})]},ee))}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{T(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ie,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(ee=>s.jsxs(_.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[ee.name,ee.isSuperadmin&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),s.jsxs("div",{className:"flex space-x-2",children:[!ee.isSuperadmin&&a("16")&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Q(ee),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:s.jsx(Hn,{className:"text-base"})}),!ee.isSuperadmin&&a("17")&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ge(ee.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"text-base"})})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:ee.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Permissions:"}),s.jsx("span",{className:"font-medium text-gray-900",children:ee.permissions.length})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),s.jsx("span",{className:"font-medium text-gray-900",children:R.filter(ae=>ae.roleId===ee.id).length})]})]})]},ee.id))})]}),w==="users"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:L,onChange:ee=>I(ee.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),s.jsx("select",{value:D,onChange:ee=>$(ee.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:xe.map(ee=>s.jsx("option",{value:ee,children:ee==="all"?"All Departments":ee},ee))}),a("17")&&s.jsxs(_.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx($ce,{className:"text-base"}),s.jsx("span",{children:"Add User"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ae.map(ee=>{var ae,Z;return s.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ee.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ee.nik}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ee.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((ae=ee.department)==null?void 0:ae.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Oe(ee.roleId)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ee.roleId==="3"?s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(Z=ee.customPermissions)!=null&&Z.length?s.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:ee.customPermissions.join(", "),children:[ee.customPermissions.length," custom"]}):s.jsx("span",{className:"italic text-gray-400",children:"None"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a("edit_permissions")&&s.jsxs(s.Fragment,{children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>le(ee),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:s.jsx(Hn,{className:"text-base"})}),ee.id!==(t==null?void 0:t.id)&&a("manage_users")&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$e(ee.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"text-base"})})]})})]},ee.id)})})]})})})]})]})]}),s.jsx(Mt,{children:C&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),s.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsxs("div",{className:"p-6",children:[!C.roleId&&s.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:s.jsx("p",{className:"text-yellow-700",children:"⚠️ This user has no role assigned. Permissions will come only from custom permissions."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("div",{className:"font-medium text-gray-900",children:C.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),s.jsx("div",{className:"text-gray-600",children:C.nik})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("div",{className:"text-gray-600",children:C.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),s.jsx("div",{className:"text-gray-600",children:((Ve=C.department)==null?void 0:Ve.name)||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsxs("select",{value:C.roleId||"",onChange:ee=>{const ae=ee.target.value||null,Z=G.find(ve=>String(ve.id)===String(ae));S({...C,roleId:ae,rolePermissions:(Z==null?void 0:Z.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No Role"}),G.map(ee=>s.jsx("option",{value:String(ee.id),children:ee.name},ee.id))]})]})]}),s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),s.jsx("div",{className:"space-y-4",children:Object.entries(b$).map(([ee,ae])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>K(ee),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[s.jsx("span",{className:"font-medium text-gray-700 capitalize",children:ee.replace(/([A-Z])/g," $1").trim()}),A[ee]?s.jsx(pb,{}):s.jsx(jn,{})]}),s.jsx(Mt,{children:A[ee]&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ae).map(([Z,ve])=>{var gt,Re;const Ge=((gt=C.rolePermissions)==null?void 0:gt.includes(ve))||!1,Ke=C.roleId==="3",pe=Ke||Ge||((Re=C.customPermissions)==null?void 0:Re.includes(ve)),ot=Ke||Ge;return s.jsxs("div",{className:`flex items-center ${ot?"opacity-50":""}`,children:[s.jsx("input",{type:"checkbox",id:`user-perm-${ve}`,checked:pe,onChange:()=>!ot&&U(ve),disabled:ot,className:`h-4 w-4 rounded focus:ring-blue-500 ${Ke?"text-blue-600":Ge?"text-purple-600":"text-blue-600"}`}),s.jsx("label",{htmlFor:`user-perm-${ve}`,className:"ml-2 text-sm text-gray-700",children:s.jsxs("div",{className:"font-medium flex items-center",children:[Z," ",ee.replace(/([A-Z])/g," $1").trim(),Ke&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),Ge&&!Ke&&s.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},ve)})})})]},ee))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[s.jsx(Zt,{className:"text-red-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},XSe=()=>{const{changePassword:t}=Ct(),e=Nt(),[r,n]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,i]=x.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=x.useState(!1),[c,d]=x.useState({current:!1,new:!1,confirm:!1}),[h,m]=x.useState(""),g=v=>{const{name:N,value:C}=v.target;n(S=>({...S,[N]:C})),a[N]&&i(S=>({...S,[N]:"",general:""}))},y=v=>{d(N=>({...N,[v]:!N[v]}))},w=()=>{let v=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",v=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",v=!1):(N.newPassword="New password is required",v=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",v=!1),i(N),v},j=async v=>{if(v.preventDefault(),!!w()){l(!0),m("");try{await t(r.currentPassword,r.newPassword),m("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),i(C=>({...C,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:s.jsx(bA,{className:"text-xl text-gray-700"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),s.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:s.jsx(l6,{className:"text-blue-600 text-lg"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs(Mt,{children:[a.general&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[s.jsx(Ix,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:a.general})]})]}),h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[s.jsx(yre,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),s.jsx("p",{className:"text-green-600 text-sm",children:h})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:g,className:`w-full border ${a.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>y("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?s.jsx(Iy,{}):s.jsx(Ly,{})})]}),a.currentPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ix,{className:"mr-1"})," ",a.currentPassword]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:g,className:`w-full border ${a.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>y("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?s.jsx(Iy,{}):s.jsx(Ly,{})})]}),s.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[s.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(o6,{className:"mr-1 text-blue-500"})," Password requirement:"]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),a.newPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ix,{className:"mr-1"})," ",a.newPassword]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:`w-full border ${a.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>y("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?s.jsx(Iy,{}):s.jsx(Ly,{})})]}),a.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(Ix,{className:"mr-1"})," ",a.confirmPassword]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[s.jsx(_.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(l6,{className:"mr-2"}),"Update Password"]})})]})]})]}),s.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(o6,{className:"text-blue-500 mr-2"})," Security Tip"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},JSe=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],QSe=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],ZSe=()=>{const t=Nt(),{user:e,register:r,getRoles:n,hasPermission:a}=Ct(),[i,o]=x.useState(!1),[l,c]=x.useState({}),[d,h]=x.useState(!1),[m,g]=x.useState({}),[y,w]=x.useState([]),[j,v]=x.useState([]),[N,C]=x.useState(window.innerWidth<768),[S,E]=x.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),T=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),E(q=>!q)},[A,O]=x.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department:"",position:"",password:"",confirmPassword:""});x.useEffect(()=>{(async()=>{try{const F=await n();w(F),v([{id:"1",name:"IT"},{id:"2",name:"HR"},{id:"3",name:"Finance"},{id:"4",name:"Operations"},{id:"5",name:"Maintenance"}])}catch(F){console.error("Failed to fetch data:",F)}})()},[n,a,t]);const D=JSe.reduce((q,F)=>(q[F]=QSe.filter(P=>P.category===F),q),{}),$=q=>{c(F=>({...F,[q]:!F[q]}))},L=q=>{O(F=>({...F,customPermissions:F.customPermissions.includes(q)?F.customPermissions.filter(P=>P!==q):[...F.customPermissions,q]}))},I=q=>{const{name:F,value:P}=q.target;O(B=>({...B,[F]:P})),m[F]&&g(B=>({...B,[F]:""}))},R=()=>{const q={};return A.name.trim()||(q.name="Name is required"),A.nik.trim()?/^\d+$/.test(A.nik)||(q.nik="NIK must be numeric"):q.nik="NIK is required",A.password?A.password.length<6&&(q.password="Password must be at least 6 characters"):q.password="Password is required",A.password!==A.confirmPassword&&(q.confirmPassword="Passwords do not match"),A.department||(q.department="Department is required"),A.roleId||(q.roleId="Role is required"),g(q),Object.keys(q).length===0},H=q=>{const F=y.find(P=>P.id===q);return F?F.permissions:[]},G=async q=>{if(q.preventDefault(),!!R()){h(!0);try{await r(A.name,A.email,A.nik,A.password,A.department,A.position,A.roleId,A.customPermissions),t("/permissions",{state:{success:"User created successfully"}})}catch(F){console.error("Failed to create user:",F),g({form:F.message||"Failed to create user. Please try again."})}finally{h(!1)}}};return a("manage_users")?s.jsxs("div",{className:`flex h-screen font-sans antialiased ${i?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[s.jsx(jt,{})," ",s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(Mr,{}),isMobile:N,toggleSidebar:T}),s.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${i?"bg-gray-900":"bg-gray-50"}`,children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:`${i?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),s.jsx("p",{className:`${i?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),s.jsxs(_.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${i?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[s.jsx(bA,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),m.form&&s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${i?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",m.form]})]}),s.jsxs("form",{onSubmit:G,children:[s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[s.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"User Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),s.jsx("input",{type:"text",name:"name",value:A.name,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),m.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),s.jsx("input",{type:"text",name:"nik",value:A.nik,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),m.nik&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.nik})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Email*"}),s.jsx("input",{type:"text",name:"email",value:A.email,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),m.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Department*"}),s.jsxs("select",{name:"department",value:A.department,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[s.jsx("option",{value:"",children:"Select Department"}),j.map(q=>s.jsx("option",{value:q.name,children:q.name},q.id))]}),m.department&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.department})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Position"}),s.jsx("input",{type:"text",name:"position",value:A.position,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter position"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Password*"}),s.jsx("input",{type:"password",name:"password",value:A.password,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),m.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),s.jsx("input",{type:"password",name:"confirmPassword",value:A.confirmPassword,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),m.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Role*"}),s.jsxs("select",{name:"roleId",value:A.roleId,onChange:I,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[s.jsx("option",{value:"",children:"Select Role"}),y.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]}),m.roleId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.roleId})]})]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[s.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),s.jsx("p",{className:`text-sm mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),s.jsx("div",{className:"space-y-4",children:Object.entries(D).map(([q,F])=>s.jsxs("div",{className:`${i?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[s.jsxs("button",{type:"button",onClick:()=>$(q),className:`w-full flex justify-between items-center p-3 ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[s.jsx("span",{className:`font-medium ${i?"text-gray-200":"text-gray-700"}`,children:q}),l[q]?s.jsx(vre,{className:`${i?"text-gray-400":"text-gray-500"}`}):s.jsx(bre,{className:`${i?"text-gray-400":"text-gray-500"}`})]}),s.jsx(Mt,{children:l[q]&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${i?"bg-gray-800":"bg-white"}`,children:F.map(P=>{const B=A.roleId?H(A.roleId).includes(P.id):!1,K=A.customPermissions.includes(P.id),te=B;return s.jsxs("div",{className:`flex items-center ${te?"opacity-50":""}`,children:[s.jsx("input",{type:"checkbox",id:`perm-${P.id}`,checked:K||B,onChange:()=>!te&&L(P.id),disabled:te,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${B?i?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":i?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),s.jsxs("label",{htmlFor:`perm-${P.id}`,className:`ml-2 text-sm ${i?"text-gray-300":"text-gray-700"}`,children:[s.jsxs("div",{className:"font-medium flex items-center",children:[P.name,B&&s.jsx("span",{className:`ml-2 text-xs ${i?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),s.jsx("div",{className:"text-gray-500 text-xs",children:P.description})]})]},P.id)})})})]},q))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(_.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${i?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:d,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${i?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:d?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sre,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:s.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},eNe=()=>{const t=Nt(),{user:e,hasPermission:r,addAsset:n}=Ct(),[a,i]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[o,l]=x.useState(!1),[c,d]=x.useState(window.innerWidth<768),[h,m]=x.useState(!1),[g,y]=x.useState(!1),w=x.useRef(null),j=x.useRef(null),[v,N]=x.useState({id:0,name:"",category:"",location:"",purchase_date:"",description:"",type:null,make:null,model:null,status:null,last_maintenance:null,next_maintenance:null,work_orders:null,health:null,created_at:"",update_at:""}),[C,S]=x.useState(!1),[E,T]=x.useState(null),[A,O]=x.useState(null);x.useEffect(()=>{const I=()=>{d(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),x.useEffect(()=>{const I=R=>{w.current&&!w.current.contains(R.target)&&m(!1),j.current&&!j.current.contains(R.target)&&y(!1)};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",o),localStorage.setItem("sidebarOpen",JSON.stringify(a))},[a,o]);const D=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),i(I=>!I)},$=I=>{const{name:R,value:H}=I.target;N(G=>({...G,[R]:H}))},L=async I=>{I.preventDefault(),S(!0),T(null),O(null);try{const R=await n(v);console.log("Asset added successfully:",R),O("Asset berhasil ditambahkan!"),t("/assets")}catch(R){console.error("Error adding asset:",R),T(R.message||"Gagal menambahkan aset. Silakan coba lagi.")}finally{S(!1)}};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Add Asset Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ma,{}),isMobile:c,toggleSidebar:D}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Fill out the form below to add a new asset to your inventory."})]}),s.jsxs(_.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Vi,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Back to Assets"})]})]}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Asset Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:v.name,onChange:$,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Asset Category"}),s.jsx("input",{type:"text",id:"category",name:"category",value:v.category,onChange:$,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),s.jsx("input",{type:"text",id:"location",name:"location",value:v.location,onChange:$,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700",children:"Purchase Date"}),s.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:v.purchase_date,onChange:$,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:v.description,onChange:$,required:!0,rows:3,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),s.jsxs("select",{id:"type",name:"type",value:v.type||"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select Type"}),s.jsx("option",{value:"mechanical",children:"Mechanical"}),s.jsx("option",{value:"electrical",children:"Electrical"}),s.jsx("option",{value:"vehicle",children:"Vehicle"}),s.jsx("option",{value:"building",children:"Building"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700",children:"Make"}),s.jsx("input",{type:"text",id:"make",name:"make",value:v.make||"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700",children:"Model"}),s.jsx("input",{type:"text",id:"model",name:"model",value:v.model||"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsxs("select",{id:"status",name:"status",value:v.status||"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select Status"}),s.jsx("option",{value:"running",children:"Running"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"breakdown",children:"Breakdown"}),s.jsx("option",{value:"idle",children:"Idle"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700",children:"Last Maintenance Date"}),s.jsx("input",{type:"date",id:"last_maintenance",name:"last_maintenance",value:v.last_maintenance||"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700",children:"Next Maintenance Date"}),s.jsx("input",{type:"date",id:"next_maintenance",name:"next_maintenance",value:v.next_maintenance||"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700",children:"Work Orders"}),s.jsx("input",{type:"text",id:"work_orders",name:"work_orders",value:v.work_orders??"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700",children:"Health (%)"}),s.jsx("input",{type:"text",id:"health",name:"health",value:v.health??"",onChange:$,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),E&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",E]})]}),A&&s.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Success!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",A]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(_.button,{type:"button",onClick:()=>t("/assets"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-gray-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:C,className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:C?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ld,{className:"mr-2 h-5 w-5"}),"Add Asset"]})})]})]})})]})]})]})},tNe=()=>{const t=Nt(),{id:e}=Ea(),{user:r,hasPermission:n,getERPData:a,editAsset:i}=Ct(),[o,l]=x.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),[c,d]=x.useState(!1),[h,m]=x.useState(window.innerWidth<768),[g,y]=x.useState(!1),[w,j]=x.useState(!1),v=x.useRef(null),N=x.useRef(null),[C,S]=x.useState({id:0,name:"",category:"",location:"",purchase_date:"",description:"",type:null,make:null,model:null,status:null,last_maintenance:null,next_maintenance:null,work_orders:null,health:null,created_at:"",update_at:""}),[E,T]=x.useState(!0),[A,O]=x.useState(null),[D,$]=x.useState(null);x.useEffect(()=>{(async()=>{if(T(!0),O(null),!e){O("Asset ID not provided."),T(!1);return}try{const G=Number(e);if(isNaN(G)){O("Invalid asset ID format."),T(!1);return}const q=await a();console.log("Fetched assets:",q);const F=q.find(P=>P.id===G||String(P.id)===String(e));if(!F){O(`Asset with ID ${e} not found. Available IDs: ${q.map(P=>P.id).join(", ")}`),T(!1);return}S({id:F.id,name:F.name||"",category:F.category||"",location:F.location||"",purchase_date:F.purchaseDate||"",description:F.description||"",type:F.type||null,make:F.make||null,model:F.model||null,status:F.status||null,last_maintenance:F.lastMaintenance||null,next_maintenance:F.nextMaintenance||null,work_orders:F.workOrders||null,health:F.health||null,created_at:F.createdAt||"",update_at:F.updateAt||""})}catch(G){console.error("Error fetching asset:",G),O("Failed to load asset data. Please try again later.")}finally{T(!1)}})()},[e,a]),x.useEffect(()=>{const H=()=>{m(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),x.useEffect(()=>{const H=G=>{v.current&&!v.current.contains(G.target)&&y(!1),N.current&&!N.current.contains(G.target)&&j(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",c),localStorage.setItem("sidebarOpen",JSON.stringify(o))},[o,c]);const L=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(H=>!H)},I=H=>{const{name:G,value:q}=H.target;S(F=>({...F,[G]:q}))},R=async H=>{if(H.preventDefault(),T(!0),O(null),$(null),!e){O("Asset ID is missing for update."),T(!1);return}try{const G=await i(C);console.log("Asset updated successfully:",G),$("Asset successfully updated!"),t("/assets")}catch(G){console.error("Error updating asset:",G),O(G.message||"Failed to update asset. Please try again.")}finally{T(!1)}};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Asset Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ma,{}),isMobile:h,toggleSidebar:L}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update your asset details."})]}),s.jsxs(_.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Vi,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Back to Assets"})]})]}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:E?s.jsxs("div",{className:"flex items-center justify-center py-10 text-gray-600 text-lg",children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading asset data..."]}):A?s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",A]})]}):s.jsxs("form",{onSubmit:R,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700",children:"Asset ID"}),s.jsx("input",{type:"text",id:"id",name:"id",value:C.id,readOnly:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-blue-50 cursor-not-allowed transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Asset Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:C.name,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Asset Category"}),s.jsx("input",{type:"text",id:"category",name:"category",value:C.category,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),s.jsx("input",{type:"text",id:"location",name:"location",value:C.location,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700",children:"Purchase Date"}),s.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:C.purchase_date,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:C.description,onChange:I,required:!0,rows:3,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),s.jsxs("select",{id:"type",name:"type",value:C.type||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select Type"}),s.jsx("option",{value:"mechanical",children:"Mechanical"}),s.jsx("option",{value:"electrical",children:"Electrical"}),s.jsx("option",{value:"vehicle",children:"Vehicle"}),s.jsx("option",{value:"building",children:"Building"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700",children:"Make"}),s.jsx("input",{type:"text",id:"make",name:"make",value:C.make||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700",children:"Model"}),s.jsx("input",{type:"text",id:"model",name:"model",value:C.model||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsxs("select",{id:"status",name:"status",value:C.status||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select Status"}),s.jsx("option",{value:"running",children:"Running"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"breakdown",children:"Breakdown"}),s.jsx("option",{value:"idle",children:"Idle"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700",children:"Last Maintenance Date"}),s.jsx("input",{type:"date",id:"last_maintenance",name:"last_maintenance",value:C.last_maintenance||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700",children:"Next Maintenance Date"}),s.jsx("input",{type:"date",id:"next_maintenance",name:"next_maintenance",value:C.next_maintenance||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700",children:"Work Orders"}),s.jsx("input",{type:"text",id:"work_orders",name:"work_orders",value:C.work_orders??"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700",children:"Health (%)"}),s.jsx("input",{type:"text",id:"health",name:"health",value:C.health??"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),D&&s.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Success!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",D]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(_.button,{type:"button",onClick:()=>t("/assets"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-gray-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:E,className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})})]})]})]})},my=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},rNe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,nNe=({isOpen:t,onClose:e,onAssign:r,workOrder:n,technicians:a})=>{const[i,o]=x.useState(""),l=()=>{n&&i&&(r(n.id,i),e())};return!t||!n?null:s.jsx(rNe,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700",children:["Work Order ",s.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",s.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"technician-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Technician"}),s.jsxs("select",{id:"technician-select",value:i,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"",children:"Select Technician"}),a.map(c=>{var d;return s.jsxs("option",{value:c.id,children:[c.name," - ",((d=c.department)==null?void 0:d.name)||c.department_name]},c.id)})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!i,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},aNe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(1),[C]=x.useState(5),[S,E]=x.useState(window.innerWidth<768),[T,A]=x.useState(!1),[O,D]=x.useState(!1),[$,L]=x.useState([]),[I,R]=x.useState(!0),[H,G]=x.useState(null),[q,F]=x.useState(!1),[P,B]=x.useState(null),[K,te]=x.useState(!1),[U,Q]=x.useState([]),[ie,le]=x.useState(!1),ce=Nt(),ge=Zn(),$e=x.useRef(null),Oe=x.useRef(null),{user:xe,getWorkOrdersIT:Ae,updateWorkOrderIT:Ve,getUsers:ee,hasPermission:ae,getVendor:Z}=Ct(),ve=ge.pathname==="/workorders/it/assignment",Ge=ge.pathname==="/workorders/it/reports",Ke=ge.pathname==="/workorders/it/knowledgebase",pe=ge.pathname==="/workorders/it",ot=ge.pathname==="/workorders/it/receiver";ge.pathname;const gt=x.useCallback(async()=>{R(!0),G(null);try{const ue=(await Ae()).filter(be=>{var Fe,he,de;return(((he=(Fe=be.service)==null?void 0:Fe.owner)==null?void 0:he.id)||((de=be.service)==null?void 0:de.service_owner))===Number(xe==null?void 0:xe.id)});L(ue)}catch(z){G(z.message||"Failed to load work orders.")}finally{R(!1)}},[Ae,xe==null?void 0:xe.id]),Re=x.useCallback(async()=>{try{const ue=(await ee()).filter(be=>{var Ne,Fe,he,de;return((Ne=be.roles)==null?void 0:Ne.includes("technician"))||((he=(Fe=be.department)==null?void 0:Fe.name)==null?void 0:he.toLowerCase().includes("it"))||((de=be.position)==null?void 0:de.toLowerCase().includes("technician"))});Q(ue)}catch(z){console.error("Failed to fetch technicians:",z)}},[ee]),ct=x.useCallback(async(z,ue)=>{F(!0),B(null),te(!1);try{const be=await Ve({...ue,id:z});return L(Ne=>Ne.map(Fe=>Fe.id===z?be:Fe)),te(!0),setTimeout(()=>te(!1),3e3),be}catch(be){throw B(be.message||"Failed to update work order."),be}finally{F(!1)}},[Ve]),St=()=>{E(window.innerWidth<768),window.innerWidth<768&&n(!1)},ht=z=>{$e.current&&!$e.current.contains(z.target)&&A(!1),Oe.current&&!Oe.current.contains(z.target)&&D(!1)};x.useEffect(()=>(window.addEventListener("resize",St),document.addEventListener("mousedown",ht),gt(),Re(),()=>{window.removeEventListener("resize",St),document.removeEventListener("mousedown",ht)}),[gt,Re]);const Ft=z=>{switch(z){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},rt=z=>{switch(z==null?void 0:z.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},ke=z=>{switch(z){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},tt=z=>{switch(z==null?void 0:z.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Se=x.useCallback(z=>{const ue=$.find(be=>be.id===z);ue&&(j(ue),m(!0))},[$]);x.useCallback(z=>{const ue=$.find(be=>be.id===z);ue&&(j(ue),y(!0))},[$]),x.useCallback(async z=>{try{await ct(z.id,z),y(!1),j(null)}catch{}},[ct]);const ft=()=>{n(z=>!z)},xt=$.filter(z=>{var Ne,Fe,he,de;const ue=((Fe=(Ne=z.requester)==null?void 0:Ne.name)==null?void 0:Fe.toLowerCase().includes(a.toLowerCase()))||((he=z.work_order_no)==null?void 0:he.toLowerCase().includes(a.toLowerCase()))||((de=z.complaint)==null?void 0:de.toLowerCase().includes(a.toLowerCase()))||String(z.id).includes(a),be=o==="all"||z.handling_status===o;return ue&&be}).sort((z,ue)=>{var de,se;const be=ke(z.handling_status),Ne=ke(ue.handling_status);if(be!==Ne)return be-Ne;const Fe=tt(((de=z.service)==null?void 0:de.priority)||"Medium"),he=tt(((se=ue.service)==null?void 0:se.priority)||"Medium");return Fe!==he?Fe-he:new Date(ue.created_at).getTime()-new Date(z.created_at).getTime()}),wt=v*C,we=wt-C,at=xt.slice(we,wt),Je=Math.ceil(xt.length/C),ne=z=>N(z),re=x.useCallback(z=>{j(z),le(!0)},[]),Me=x.useCallback(async(z,ue)=>{try{await ct(z,{assigned_to_id:parseInt(ue),handling_status:"Assigned",handling_date:new Date().toISOString()}),le(!1),j(null)}catch(be){console.error("Failed to assign work order:",be)}},[ct]),et=z=>{var ue;return z.vendor?`${z.vendor.name}`:((ue=z.assigned_to)==null?void 0:ue.name)||"Unassigned"},pt=z=>z.vendor?"vendor":z.assigned_to?"user":"unassigned",ye=({order:z,onClose:ue})=>{var qe,Ce,Be,nt,Lt,br,$r,vt,jr,Dt,kr,_e;const be=Le=>Le==null?"-":typeof Le=="object"&&Le!==null?Le.name||Le.title||Le.id||"-":typeof Le=="string"?Le.trim()!==""?Le.trim():"-":typeof Le=="number"?Le.toString():String(Le),Ne=Le=>Le?new Date(Le).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Fe=({status:Le})=>{const ze={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${ze[Le]||ze.New}`,children:Le})},he=({priority:Le})=>{const ze={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${ze[Le]||ze.Medium}`,children:Le||"Medium"})},de=({title:Le,children:ze,icon:oe})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[oe&&s.jsx("div",{className:"mr-3 text-blue-600",children:oe}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Le})]})}),s.jsx("div",{className:"p-6",children:ze})]}),se=({label:Le,value:ze,icon:oe,fullWidth:Ze=!1,priority:bt="medium"})=>{const lr={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${Ze?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${lr[bt]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[oe&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:oe}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Le}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:ze})]})]})})})},De=({label:Le,htmlContent:ze,icon:oe,fullWidth:Ze=!1})=>{if(!ze)return s.jsx(se,{label:Le,value:"-",icon:oe,fullWidth:Ze,priority:"low"});const bt=Al.sanitize(ze,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return s.jsx("div",{className:`${Ze?"col-span-full":""}`,children:s.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[oe&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:oe}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Le}),s.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:bt}})]})]})})})},Ye=({order:Le})=>{const ze=Le.handling_status==="New",oe=Le.handling_status==="Assigned",Ze=ze&&ae("assign_workorders");return s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Ze&&s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{le(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),oe&&s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ce(`/workorders/it/receiver/editreceiver/${Le.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ue,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[s.jsx(dt,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",z.work_order_no||z.id]}),s.jsx(Fe,{status:z.handling_status}),s.jsx(he,{priority:(qe=z.service)==null?void 0:qe.priority})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"w-4 h-4"}),"Created: ",Ne(z.date)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"w-4 h-4"}),z.handling_date?`Handling: ${Ne(z.handling_date)}`:"Not yet handled"]})]})]})})}),s.jsx(de,{title:"Service Owner Information",icon:s.jsx(Mr,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(se,{label:"Service Owner",value:be(((Be=(Ce=z.service)==null?void 0:Ce.owner)==null?void 0:Be.name)||(xe==null?void 0:xe.name)),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(se,{label:"Service Department",value:be((nt=xe==null?void 0:xe.department)==null?void 0:nt.name),icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(se,{label:"Service Type",value:be((Lt=z.service_type)==null?void 0:Lt.group_name),icon:s.jsx(hn,{className:"w-4 h-4"}),priority:"high"}),s.jsx(se,{label:"Service Name",value:be((br=z.service)==null?void 0:br.service_name),icon:s.jsx(ir,{className:"w-4 h-4"}),priority:"high"})]})}),s.jsx(de,{title:"Request Information",icon:s.jsx(ir,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(se,{label:"Requester",value:be(($r=z.requester)==null?void 0:$r.name),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(se,{label:"Requester Department",value:be(z.department_name||((vt=z.department)==null?void 0:vt.name)),icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(se,{label:"Reception Method",value:be(z.reception_method),icon:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(se,{label:"Known By",value:be((jr=z.known_by)==null?void 0:jr.name),icon:s.jsx(es,{className:"w-4 h-4"})}),s.jsx(se,{label:"Asset Number",value:be(z.asset_no),icon:s.jsx(ir,{className:"w-4 h-4"})})]})}),s.jsx(de,{title:"Technical Details",icon:s.jsx(hn,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(se,{label:"Device Information",value:be(z.device_info),icon:s.jsx(An,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(De,{label:"Complaint Details",htmlContent:z.complaint||"",icon:s.jsx(Zt,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(de,{title:"Assignment & Handling",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[s.jsx(se,{label:"Current Status",value:be(z.handling_status),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(se,{label:"Priority Level",value:be(((Dt=z.service)==null?void 0:Dt.priority)||"Medium"),icon:s.jsx(Zt,{className:"w-4 h-4"}),priority:"high"})]}),s.jsx(se,{label:"Assigned To",value:be(((kr=z.assigned_to)==null?void 0:kr.name)||"Unassigned"),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(se,{label:"Assignment Type",value:z.vendor?"Vendor":z.assigned_to?"Internal Technician":"Not Assigned",icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(se,{label:"Handling Start Date",value:Ne(z.handling_date||"-"),icon:s.jsx(pa,{className:"w-4 h-4"})}),s.jsx(se,{label:"Received By",value:be(((_e=z.received_by)==null?void 0:_e.name)||"-"),icon:s.jsx(Ht,{className:"w-4 h-4"})}),s.jsx(De,{label:"Action Taken",htmlContent:z.action_taken||"",icon:s.jsx(hn,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(De,{label:"Technical Remarks",htmlContent:z.remarks||"",icon:s.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),z.vendor&&s.jsx(de,{title:"Vendor Assignment",icon:s.jsx(Mr,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(se,{label:"Vendor Name",value:be(z.vendor.name),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(se,{label:"Contact Person",value:be(z.vendor.contact_person),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(se,{label:"Email",value:be(z.vendor.email),icon:s.jsx(rg,{className:"w-4 h-4"})}),s.jsx(se,{label:"Phone",value:be(z.vendor.telp),icon:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(se,{label:"Mobile",value:be(z.vendor.HP),icon:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(se,{label:"Address",value:be(z.vendor.address),icon:s.jsx(zf,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(de,{title:"Timeline",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),s.jsx("span",{className:"text-sm text-green-600",children:Ne(z.date)})]}),z.handling_date&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),s.jsx("span",{className:"text-sm text-blue-600",children:Ne(z.handling_date)})]}),z.assigned_to&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),s.jsx("span",{className:"text-sm text-purple-600",children:be(z.assigned_to.name)})]})]})}),z.attachment&&s.jsx(de,{title:"Attachment",icon:s.jsx(pi,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx(pi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),s.jsxs("a",{href:z.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[s.jsx(tO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),s.jsx(Ye,{order:z})]})};return x.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]),I?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),s.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):H?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[s.jsx(Zt,{className:"text-red-600 text-5xl"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-lg text-red-800",children:H}),s.jsx("button",{onClick:gt,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:S,toggleSidebar:ft}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ot?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ve?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ke?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),P&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[s.jsx("span",{className:"block sm:inline",children:P}),s.jsx("button",{onClick:()=>B(null),className:"absolute top-0 right-0 p-3",children:s.jsx(dt,{size:16})})]}),K&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[s.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),s.jsx("button",{onClick:()=>te(!1),className:"absolute top-0 right-0 p-3",children:s.jsx(dt,{size:16})})]}),s.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(my,{title:"Total IT Assignments",value:xt.length.toString(),change:"+8%",icon:s.jsx(ir,{})}),s.jsx(my,{title:"In Progress",value:xt.filter(z=>["In Progress","Escalated","Vendor Handled"].includes(z.handling_status)).length.toString(),change:"-1",icon:s.jsx(hn,{})}),s.jsx(my,{title:"Resolved",value:xt.filter(z=>["Resolved","Done"].includes(z.handling_status)).length.toString(),change:"+1",icon:s.jsx(Ht,{})}),s.jsx(my,{title:"Assigned",value:xt.filter(z=>z.handling_status==="Assigned").length.toString(),change:"+3",icon:s.jsx(It,{})})]}),s.jsx(_.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:z=>i(z.target.value)})]}),s.jsx(Mt,{children:c&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:z=>l(z.target.value),children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"Assigned",children:"Assigned"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Escalated",children:"Escalated"}),s.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Done",children:"Done"}),s.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:at.length>0?at.map(z=>{var de,se,De,Ye;const be=!(z.handling_status==="Resolved"||z.handling_status==="Done"||z.handling_status==="Cancel"||z.handling_status==="Closed")&&ae("edit_workorders"),Ne=z.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(z.handling_status);const Fe=et(z),he=pt(z);return s.jsxs(_.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Se(z.id),title:"Click to view details",children:z.work_order_no||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:z.requester.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(z.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:z.handling_date?new Date(z.handling_date).toLocaleDateString():"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${rt((de=z.service)==null?void 0:de.priority)} shadow-sm`,children:((se=z.service)==null?void 0:se.priority)||"Medium"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ft(z.handling_status)} shadow-sm`,children:z.handling_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ne?s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>re(z),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`text-sm font-medium ${he==="vendor"?"text-purple-600":he==="user"?"text-blue-600":"text-gray-500"}`,children:Fe}),he==="vendor"&&s.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Se(z.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:s.jsx(es,{className:"text-lg"})}),be&&(z.handling_status!=="In Progress"||!((De=z.assigned_to)!=null&&De.name)||((Ye=z.assigned_to)==null?void 0:Ye.name)==="N/A")&&s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(`/workorders/it/receiver/editreceiver/${z.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:s.jsx(Hn,{className:"text-lg"})})]})]},z.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),xt.length>C&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",s.jsx("span",{className:"font-semibold",children:we+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(wt,xt.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:xt.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Je},(z,ue)=>s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(ue+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ue+1},ue+1)),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(v+1),disabled:v===Je,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),w&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",w.work_order_no||w.id]}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),j(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:s.jsx(ye,{order:w,onClose:()=>{m(!1),j(null)}})})]})})}),w&&s.jsx(nNe,{isOpen:ie,onClose:()=>{le(!1),j(null)},onAssign:Me,workOrder:w,technicians:U})]})},v$=({content:t,className:e=""})=>{if(!t)return s.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=Al.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return s.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},sNe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,iNe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(1),[v]=x.useState(5),[N,C]=x.useState(window.innerWidth<768),[S,E]=x.useState(!1),[T,A]=x.useState(!1),[O,D]=x.useState(!0),[$,L]=x.useState(null),{user:I,hasPermission:R,getWorkOrdersIT:H}=Ct(),G=Nt(),q=Zn(),F=x.useRef(null),P=x.useRef(null);q.pathname,q.pathname;const B=q.pathname==="/workorders/it";q.pathname;const K=q.pathname==="/workorders/it/assignment",te=q.pathname==="/workorders/it/receiver",U=q.pathname==="/workorders/it/reports",Q=q.pathname==="/workorders/it/knowledgebase",[ie,le]=x.useState([]),ce=x.useCallback(async()=>{try{D(!0),L(null);const Ge=(await H()).filter(Ke=>Ke.action_taken&&Ke.handling_status==="Closed").map(Ke=>{var gt,Re,ct;const pe=Ke.complaint.split(" ").slice(0,5).join(" "),ot=`Solution for: ${pe}${pe.length<Ke.complaint.length?"...":""}`;return{id:Ke.id,title:ot,content:Ke.action_taken||"No action taken details available.",category:((gt=Ke.service)==null?void 0:gt.service_name)||"General",tags:[((Re=Ke.service_type)==null?void 0:Re.group_name)||"General",Ke.handling_status||"Completed",...Ke.asset_no?[`Asset: ${Ke.asset_no}`]:[]],lastUpdated:Ke.handling_date||Ke.updated_at||Ke.created_at,workOrderNo:Ke.work_order_no,technician:((ct=Ke.assigned_to)==null?void 0:ct.name)||"Unknown Technician",completionDate:Ke.handling_date||Ke.updated_at}});le(Ge)}catch(ve){L("Failed to load knowledge base articles"),console.error("Error loading work orders:",ve)}finally{D(!1)}},[H]);x.useEffect(()=>{const ve=()=>{C(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),x.useEffect(()=>{const ve=Ge=>{F.current&&!F.current.contains(Ge.target)&&E(!1),P.current&&!P.current.contains(Ge.target)&&A(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),x.useEffect(()=>{ce()},[ce]),x.useEffect(()=>{j(1),document.documentElement.classList.toggle("dark",t)},[a,o,r,t]);const ge=()=>{n(ve=>!ve)},$e=x.useCallback(ve=>{y(ve),d(!0)},[]),Oe=ie.filter(ve=>{const Ge=ve.title.toLowerCase().includes(a.toLowerCase())||ve.content.toLowerCase().includes(a.toLowerCase())||ve.tags.some(pe=>pe.toLowerCase().includes(a.toLowerCase())),Ke=o==="all"||ve.category===o;return Ge&&Ke}),xe=Array.from(new Set(ie.map(ve=>ve.category))),Ae=w*v,Ve=Ae-v,ee=Oe.slice(Ve,Ae),ae=Math.ceil(Oe.length/v),Z=ve=>j(ve);return I?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx($f,{}),isMobile:N,toggleSidebar:ge}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${B?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${te?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${U?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>G("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),s.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"relative w-full md:w-2/3",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:a,onChange:ve=>i(ve.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{className:"relative w-full md:w-1/3",children:[s.jsxs("select",{value:o,onChange:ve=>l(ve.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[s.jsx("option",{value:"all",children:"All Categories"}),xe.map(ve=>s.jsx("option",{value:ve,children:ve},ve))]}),s.jsx(jn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[Oe.length," articles found"]})]}),O?s.jsxs("div",{className:"text-center py-10",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):$?s.jsxs("div",{className:"text-center py-10 text-red-500",children:[s.jsx(Ma,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),s.jsx("p",{className:"text-lg font-medium",children:$}),s.jsx("button",{onClick:ce,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):ee.length===0?s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx(Ma,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx(Mt,{children:ee.map(ve=>s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>$e(ve),children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:ve.title}),s.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:s.jsx(v$,{content:ve.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:ve.category}),ve.tags.map(Ge=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:Ge},Ge))]}),s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Sf,{size:12,className:"mr-1"}),ve.workOrderNo]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(NR,{size:12,className:"mr-1"}),ve.technician]})]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(pa,{size:12,className:"mr-1"}),new Date(ve.lastUpdated).toLocaleDateString()]})]})]},ve.id))})}),Oe.length>v&&s.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx(_.button,{onClick:()=>Z(w-1),disabled:w===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx(_.button,{onClick:()=>Z(w+1),disabled:w===ae,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:Ve+1})," to ",s.jsx("span",{className:"font-medium",children:Math.min(Ae,Oe.length)})," of"," ",s.jsx("span",{className:"font-medium",children:Oe.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs(_.button,{onClick:()=>Z(w-1),disabled:w===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx(Vi,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ae)].map((ve,Ge)=>s.jsx(_.button,{onClick:()=>Z(Ge+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${w===Ge+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Ge+1},Ge)),s.jsxs(_.button,{onClick:()=>Z(w+1),disabled:w===ae,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx(Zr,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),g&&s.jsx(sNe,{isOpen:c,onClose:()=>d(!1),title:g.title,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sf,{size:16,className:"mr-2 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Work Order:"}),s.jsx("span",{className:"ml-2",children:g.workOrderNo})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(NR,{size:16,className:"mr-2 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Technician:"}),s.jsx("span",{className:"ml-2",children:g.technician})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pa,{size:16,className:"mr-2 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Completed:"}),s.jsx("span",{className:"ml-2",children:new Date(g.completionDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($f,{size:16,className:"mr-2 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"Category:"}),s.jsx("span",{className:"ml-2",children:g.category})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),s.jsx(v$,{content:g.content})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map(ve=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:ve},ve))})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(g.lastUpdated).toLocaleDateString()," at ",new Date(g.lastUpdated).toLocaleTimeString()]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var oNe=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],w$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),i=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return i===a||o===a},b2={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,a){return!(!e||r.some(function(i){return w$(e,i,a)})||n.some(function(i){return w$(e,i,a)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function lNe(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,a=n===void 0?"last":n,i=t.formatCreateLabel,o=i===void 0?b2.formatCreateLabel:i,l=t.isValidNewOption,c=l===void 0?b2.isValidNewOption:l,d=t.getNewOptionData,h=d===void 0?b2.getNewOptionData:d,m=t.onCreateOption,g=t.options,y=g===void 0?[]:g,w=t.onChange,j=_o(t,oNe),v=j.getOptionValue,N=v===void 0?cW:v,C=j.getOptionLabel,S=C===void 0?lW:C,E=j.inputValue,T=j.isLoading,A=j.isMulti,O=j.value,D=j.name,$=x.useMemo(function(){return c(E,Pb(O),y,{getOptionValue:N,getOptionLabel:S})?h(E,o(E)):void 0},[o,h,S,N,E,c,y,O]),L=x.useMemo(function(){return(r||!T)&&$?a==="first"?[$].concat(_f(y)):[].concat(_f(y),[$]):y},[r,a,T,$,y]),I=x.useCallback(function(R,H){if(H.action!=="select-option")return w(R,H);var G=Array.isArray(R)?R:[R];if(G[G.length-1]===$){if(m)m(E);else{var q=h(E,E),F={action:"create-option",name:D,option:q};w(dp(A,[].concat(_f(Pb(O)),[q]),q),F)}return}w(R,H)},[h,E,A,D,$,m,w,O]);return qt(qt({},j),{},{options:L,onChange:I})}var cNe=x.forwardRef(function(t,e){var r=RU(t),n=lNe(r);return x.createElement(jO,Yt({ref:e},n))}),JY=cNe;const uNe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,dNe=()=>{var re,Me,et,pt,ye;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:i}=Ct(),o=Nt(),[l,c]=x.useState([]),[d,h]=x.useState([]),[m,g]=x.useState([]),[y,w]=x.useState([]),[j,v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const z=localStorage.getItem("sidebarOpen");return z?JSON.parse(z):!1}),[S,E]=x.useState(!1),[T,A]=x.useState(!1),[O,D]=x.useState(!1),[$,L]=x.useState(!1),[I,R]=x.useState(null),[H,G]=x.useState(null),[q,F]=x.useState(!1),[P,B]=x.useState(null),K=x.useRef(null),te=x.useRef(null),[U,Q]=x.useState([]),[ie,le]=x.useState([]),[ce,ge]=x.useState([]),[$e,Oe]=x.useState(!1),[xe,Ae]=x.useState(!1),[Ve,ee]=x.useState(null),ae=x.useRef(null),Z=x.useRef(null),ve=()=>{Ae(!0)},Ge=()=>{const z=document.createElement("input");z.type="file",z.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",z.onchange=ue=>{const be=ue.target;if(be.files&&be.files.length>0){const Ne=be.files[0];B(Ne),ct(Fe=>({...Fe,attachment:Ne.name})),Ae(!1)}},z.click()},Ke=async()=>{try{const z=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});ee(z),ae.current&&(ae.current.srcObject=z)}catch(z){console.error("Error accessing camera:",z),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},pe=()=>{if(ae.current&&Z.current){const z=Z.current,ue=z.getContext("2d");if(ue){z.width=ae.current.videoWidth,z.height=ae.current.videoHeight,ue.drawImage(ae.current,0,0);const be=z.toDataURL("image/jpeg",.8);ct(Ne=>({...Ne,attachment:be})),Ve&&(Ve.getTracks().forEach(Ne=>Ne.stop()),ee(null)),Ae(!1)}}},ot=()=>{Ve&&(Ve.getTracks().forEach(z=>z.stop()),ee(null)),Ae(!1)},gt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((re=e==null?void 0:e.department)==null?void 0:re.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[Re,ct]=x.useState(gt),St=Re.reception_method==="Electronic Work Order System";x.useEffect(()=>{e&&(async()=>{try{const be=(await i(0)).map(he=>({id:Number(he.id),name:he.group_name??"",description:he.group_description??void 0}));le(be);const Ne=await a();h(Ne);const Fe=await r();if(c(Fe),e&&e.id){const de=await n(parseInt(e.id));g(de),console.log("Services loaded:",de)}}catch(ue){console.error("Failed to fetch master data:",ue)}})()},[e,r,n,a,i]),x.useEffect(()=>{if(Re.reception_method==="Electronic Work Order System"&&e&&d.length>0){const z=d.find(be=>be.id===e.department_id),ue=(z==null?void 0:z.head_id)||null;ct(be=>({...be,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:ue}))}},[Re.reception_method,e,d]),x.useEffect(()=>{const z=()=>{v(window.innerWidth<768),window.innerWidth<768&&C(!1)};return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),x.useEffect(()=>{const z=ue=>{K.current&&!K.current.contains(ue.target)&&A(!1),te.current&&!te.current.contains(ue.target)&&D(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),x.useEffect(()=>{if(Re.service_type_id&&m.length>0){const z=m.filter(ue=>String(ue.id)===Re.service_type_id);Q(z)}else Q([])},[Re.service_type_id,m]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const ht=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),C(z=>!z)},Ft=x.useCallback((z,ue)=>{let be,Ne;if(z&&"target"in z)be=z.target.name,Ne=z.target.value;else if(z&&typeof z=="object"&&"value"in z&&ue)be=ue,Ne=z.value;else if(z===null&&ue)be=ue,Ne=null;else return;ct(Fe=>({...Fe,[be]:Ne}))},[]),rt=z=>{const ue=(z==null?void 0:z.value)||"";ct(be=>{var Fe,he;const Ne={...be,reception_method:ue};return ue==="Electronic Work Order System"&&e?{...Ne,requester_id:parseInt(e.id),department_id:((Fe=e.department)==null?void 0:Fe.id)||0,known_by_id:((he=e.department)==null?void 0:he.head_id)||null}:Ne})},ke=z=>{ct(ue=>({...ue,asset_no:z?z.value:""}))};x.useCallback(z=>{const ue=("nativeEvent"in z,z.target.files);ue&&ue.length>0?(B(ue[0]),ct(be=>({...be,attachment:ue[0].name}))):(B(null),ct(be=>({...be,attachment:null})))},[]);const tt=x.useCallback(()=>{B(null),ct(z=>({...z,attachment:null}))},[]),Se=async z=>{z.preventDefault(),L(!0),R(null);const ue={...Re,date:Re.date,reception_method:Re.reception_method,requester_id:Re.requester_id,known_by_id:Re.known_by_id,department_id:Re.department_id,service_group_id:Number(Re.service_type_id),service_catalogue_id:Number(Re.service_id),asset_no:Re.asset_no,device_info:Re.device_info,complaint:Re.complaint,attachment:Re.attachment};try{await t(ue),F(!0)}catch(be){R(be.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",be)}finally{L(!1)}},ft=z=>{ct(ue=>({...ue,service_type_id:z?z.value:"",service_id:""}))},xt=z=>{ct(ue=>({...ue,service_id:z?z.value:""}))},wt=x.useCallback(()=>{F(!1),o("/workorders/it")},[o]),we={control:(z,ue)=>({...z,minHeight:"42px",borderColor:ue.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ue.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:z=>({...z,padding:"0"}),singleValue:z=>({...z,color:"#374151"}),placeholder:z=>({...z,color:"#6B7280"}),dropdownIndicator:z=>({...z,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:z=>({...z,display:"none"}),menu:z=>({...z,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(z,ue)=>({...z,backgroundColor:ue.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},at=x.useCallback(z=>{if(!z)return;const ue=parseInt(z.value),be=l.find(Ne=>parseInt(Ne.id)===ue);if(be){const Ne=d.find(Fe=>Fe.id===be.department_id);ct(Fe=>({...Fe,requester_id:ue,department_id:be.department_id||0,known_by_id:(Ne==null?void 0:Ne.head_id)||null}))}},[l,d]),Je=()=>{if(St){const ue=d.find(be=>be.id===(e==null?void 0:e.department_id));return(ue==null?void 0:ue.name)||"No department assigned"}const z=d.find(ue=>ue.id===Re.department_id);return(z==null?void 0:z.name)||"No department assigned"},ne=()=>{if(St){const ue=d.find(be=>be.id===(e==null?void 0:e.department_id));if(ue&&ue.head_id){const be=l.find(Ne=>parseInt(Ne.id)===ue.head_id);return(be==null?void 0:be.name)||"No department head assigned"}return"No department head assigned"}const z=d.find(ue=>ue.id===Re.department_id);if(z&&z.head_id){const ue=l.find(be=>parseInt(be.id)===z.head_id);return(ue==null?void 0:ue.name)||"No department head assigned"}return"No department head assigned"};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:j,toggleSidebar:ht}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),s.jsxs(_.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Vi,{className:"text-lg"})," Back to Work Orders"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[I&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:I}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>R(null)})})]}),s.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",id:"date",name:"date",value:Re.date,onChange:Ft,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:Re.reception_method,label:Re.reception_method},onChange:rt,placeholder:"Select Reception Method",styles:we,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",s.jsx("span",{className:"text-red-500",children:"*"})]}),St?s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):s.jsx(Sr,{id:"requester_id",name:"requester_id",options:l.map(z=>({value:String(z.id),label:z.name})),value:l.find(z=>parseInt(z.id)===Re.requester_id)?{value:String(Re.requester_id),label:((Me=l.find(z=>parseInt(z.id)===Re.requester_id))==null?void 0:Me.name)||""}:null,onChange:at,placeholder:"Select Requester",styles:we,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:Je()})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:ne()})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-green-500"})," Service Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"service_type_id",name:"service_type_id",options:ie.map(z=>({value:String(z.id),label:z.name})),value:Re.service_type_id?{value:Re.service_type_id,label:((et=ie.find(z=>String(z.id)===Re.service_type_id))==null?void 0:et.name)||""}:null,onChange:ft,placeholder:"Select Service Type",styles:we,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"service_id",name:"service_id",options:U.map(z=>({value:String(z.id),label:z.service_name})),value:Re.service_id?{value:Re.service_id,label:((pt=U.find(z=>String(z.id)===Re.service_id))==null?void 0:pt.service_name)||""}:null,onChange:xt,placeholder:"Select Service",styles:we}),U.length===0&&Re.service_type_id&&s.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(JY,{name:"asset_no",id:"asset_no",options:y,value:Re.asset_no?{value:Re.asset_no,label:Re.asset_no}:null,onChange:ke,onCreateOption:z=>{const ue={value:z,label:z};w(be=>[...be,ue]),ke(ue)},placeholder:"Type or select Asset No.",styles:we,required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ld,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"device_info",name:"device_info",value:Re.device_info,onChange:Ft,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:Re.complaint,onChange:z=>{ct(ue=>({...ue,complaint:z}))}})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[s.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",onClick:ve,children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(pi,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:s.jsx("span",{children:"Klik untuk memilih attachment"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),s.jsx(Mt,{children:xe&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Attachment"}),s.jsx("button",{onClick:ot,className:"text-gray-500 hover:text-gray-700",children:s.jsx(dt,{size:24})})]}),Ve?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[s.jsx("video",{ref:ae,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),s.jsx("canvas",{ref:Z,className:"hidden"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:pe,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium",children:"Ambil Foto"}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ot,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium",children:"Batal"})]})]}):s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ge,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[s.jsx(lle,{className:"h-8 w-8 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Pilih File"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Dari perangkat Anda"})]})]}),s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[s.jsx(Poe,{className:"h-8 w-8 text-gray-400 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Ambil Foto"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Gunakan kamera"})]})]})]})]})})}),P&&s.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:s.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[s.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[s.jsx(pi,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),s.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:P.name})]}),s.jsx("div",{className:"ml-4 flex-shrink-0",children:s.jsx(_.button,{type:"button",onClick:tt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},P.name)})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsxs(_.button,{type:"button",onClick:()=>{ct(gt),B(null),R(null),G(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(yn,{className:"mr-2 h-5 w-5"})," Clear Form"]}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:$,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:$?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),s.jsx(uNe,{isOpen:q,onClose:wt,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ye=H==null?void 0:H.work_order)==null?void 0:ye.work_order_no]}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:wt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},fNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workorders/it"),children:[s.jsx(ele,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workorders/td"),children:[s.jsx(ble,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},hNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:s.jsx(zf,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/workarea"),children:[s.jsx(zf,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/department"),children:[s.jsx(Ff,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/workunit"),children:[s.jsx(kf,{size:64,className:"text-purple-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),s.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},mNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:s.jsx(ia,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workarrangement/workgroup"),children:[s.jsx(ia,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workarrangement/workshift"),children:[s.jsx(It,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},pNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:s.jsx(hn,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/generalsettings"),children:[s.jsx(An,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/spareparttype"),children:[s.jsx(zq,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/sparepartgroup"),children:[s.jsx($q,{size:64,className:"text-purple-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),s.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/sparepartmaintenance"),children:[s.jsx(Hi,{size:64,className:"text-orange-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),s.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},gNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:s.jsx(ma,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/assets/assetsgroup"),children:[s.jsx($q,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/assets/assetsdata"),children:[s.jsx(Mw,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},xNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:s.jsx(Fq,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/services/servicegroups"),children:[s.jsx(ia,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/services/servicecatalogues"),children:[s.jsx($f,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},yNe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Hi,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/activitytypes"),children:[s.jsx(zy,{size:64,className:"text-blue-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),s.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/activity"),children:[s.jsx(Ri,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/stoptimes"),children:[s.jsx(It,{size:64,className:"text-purple-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),s.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",s.jsx(Zr,{size:18,className:"ml-1"})]})]}),s.jsxs(_.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/troubleitem"),children:[s.jsx(Zt,{size:64,className:"text-orange-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),s.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})};var v2,j$;function Ss(){if(j$)return v2;j$=1;var t=Array.isArray;return v2=t,v2}var w2,S$;function QY(){if(S$)return w2;S$=1;var t=typeof Px=="object"&&Px&&Px.Object===Object&&Px;return w2=t,w2}var j2,N$;function Mo(){if(N$)return j2;N$=1;var t=QY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return j2=r,j2}var S2,k$;function fg(){if(k$)return S2;k$=1;var t=Mo(),e=t.Symbol;return S2=e,S2}var N2,C$;function bNe(){if(C$)return N2;C$=1;var t=fg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(l?o[a]=c:delete o[a]),h}return N2=i,N2}var k2,T$;function vNe(){if(T$)return k2;T$=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return k2=r,k2}var C2,_$;function Dl(){if(_$)return C2;_$=1;var t=fg(),e=bNe(),r=vNe(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return C2=o,C2}var T2,M$;function Pl(){if(M$)return T2;M$=1;function t(e){return e!=null&&typeof e=="object"}return T2=t,T2}var _2,A$;function Lh(){if(A$)return _2;A$=1;var t=Dl(),e=Pl(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return _2=n,_2}var M2,O$;function iE(){if(O$)return M2;O$=1;var t=Ss(),e=Lh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return M2=a,M2}var A2,E$;function Hc(){if(E$)return A2;E$=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return A2=t,A2}var O2,D$;function oE(){if(D$)return O2;D$=1;var t=Dl(),e=Hc(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return O2=o,O2}var E2,P$;function wNe(){if(P$)return E2;P$=1;var t=Mo(),e=t["__core-js_shared__"];return E2=e,E2}var D2,R$;function jNe(){if(R$)return D2;R$=1;var t=wNe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return D2=r,D2}var P2,I$;function ZY(){if(I$)return P2;I$=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return P2=r,P2}var R2,L$;function SNe(){if(L$)return R2;L$=1;var t=oE(),e=jNe(),r=Hc(),n=ZY(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var y=t(g)?h:i;return y.test(n(g))}return R2=m,R2}var I2,$$;function NNe(){if($$)return I2;$$=1;function t(e,r){return e==null?void 0:e[r]}return I2=t,I2}var L2,F$;function dd(){if(F$)return L2;F$=1;var t=SNe(),e=NNe();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return L2=r,L2}var $2,H$;function s1(){if(H$)return $2;H$=1;var t=dd(),e=t(Object,"create");return $2=e,$2}var F2,B$;function kNe(){if(B$)return F2;B$=1;var t=s1();function e(){this.__data__=t?t(null):{},this.size=0}return F2=e,F2}var H2,z$;function CNe(){if(z$)return H2;z$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return H2=t,H2}var B2,V$;function TNe(){if(V$)return B2;V$=1;var t=s1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return B2=a,B2}var z2,q$;function _Ne(){if(q$)return z2;q$=1;var t=s1(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return z2=n,z2}var V2,U$;function MNe(){if(U$)return V2;U$=1;var t=s1(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return V2=r,V2}var q2,W$;function ANe(){if(W$)return q2;W$=1;var t=kNe(),e=CNe(),r=TNe(),n=_Ne(),a=MNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,q2=i,q2}var U2,G$;function ONe(){if(G$)return U2;G$=1;function t(){this.__data__=[],this.size=0}return U2=t,U2}var W2,Y$;function lE(){if(Y$)return W2;Y$=1;function t(e,r){return e===r||e!==e&&r!==r}return W2=t,W2}var G2,K$;function i1(){if(K$)return G2;K$=1;var t=lE();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return G2=e,G2}var Y2,X$;function ENe(){if(X$)return Y2;X$=1;var t=i1(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return Y2=n,Y2}var K2,J$;function DNe(){if(J$)return K2;J$=1;var t=i1();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return K2=e,K2}var X2,Q$;function PNe(){if(Q$)return X2;Q$=1;var t=i1();function e(r){return t(this.__data__,r)>-1}return X2=e,X2}var J2,Z$;function RNe(){if(Z$)return J2;Z$=1;var t=i1();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return J2=e,J2}var Q2,e7;function o1(){if(e7)return Q2;e7=1;var t=ONe(),e=ENe(),r=DNe(),n=PNe(),a=RNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Q2=i,Q2}var Z2,t7;function cE(){if(t7)return Z2;t7=1;var t=dd(),e=Mo(),r=t(e,"Map");return Z2=r,Z2}var ek,r7;function INe(){if(r7)return ek;r7=1;var t=ANe(),e=o1(),r=cE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ek=n,ek}var tk,n7;function LNe(){if(n7)return tk;n7=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return tk=t,tk}var rk,a7;function l1(){if(a7)return rk;a7=1;var t=LNe();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return rk=e,rk}var nk,s7;function $Ne(){if(s7)return nk;s7=1;var t=l1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return nk=e,nk}var ak,i7;function FNe(){if(i7)return ak;i7=1;var t=l1();function e(r){return t(this,r).get(r)}return ak=e,ak}var sk,o7;function HNe(){if(o7)return sk;o7=1;var t=l1();function e(r){return t(this,r).has(r)}return sk=e,sk}var ik,l7;function BNe(){if(l7)return ik;l7=1;var t=l1();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return ik=e,ik}var ok,c7;function uE(){if(c7)return ok;c7=1;var t=INe(),e=$Ne(),r=FNe(),n=HNe(),a=BNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,ok=i,ok}var lk,u7;function eK(){if(u7)return lk;u7=1;var t=uE(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,lk=r,lk}var ck,d7;function zNe(){if(d7)return ck;d7=1;var t=eK(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return ck=r,ck}var uk,f7;function VNe(){if(f7)return uk;f7=1;var t=zNe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return uk=n,uk}var dk,h7;function dE(){if(h7)return dk;h7=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return dk=t,dk}var fk,m7;function qNe(){if(m7)return fk;m7=1;var t=fg(),e=dE(),r=Ss(),n=Lh(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return fk=o,fk}var hk,p7;function tK(){if(p7)return hk;p7=1;var t=qNe();function e(r){return r==null?"":t(r)}return hk=e,hk}var mk,g7;function rK(){if(g7)return mk;g7=1;var t=Ss(),e=iE(),r=VNe(),n=tK();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return mk=a,mk}var pk,x7;function c1(){if(x7)return pk;x7=1;var t=Lh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return pk=e,pk}var gk,y7;function fE(){if(y7)return gk;y7=1;var t=rK(),e=c1();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return gk=r,gk}var xk,b7;function nK(){if(b7)return xk;b7=1;var t=fE();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return xk=e,xk}var UNe=nK();const Hs=Dr(UNe);var yk,v7;function WNe(){if(v7)return yk;v7=1;function t(e){return e==null}return yk=t,yk}var GNe=WNe();const tr=Dr(GNe);var bk,w7;function YNe(){if(w7)return bk;w7=1;var t=Dl(),e=Ss(),r=Pl(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return bk=a,bk}var KNe=YNe();const td=Dr(KNe);var XNe=oE();const Jt=Dr(XNe);var JNe=Hc();const $h=Dr(JNe);var vk={exports:{}},Hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7;function QNe(){if(j7)return Hr;j7=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function j(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case t:switch(v=v.type,v){case r:case a:case n:case d:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case g:case m:case i:return v;default:return N}}case e:return N}}}return Hr.ContextConsumer=o,Hr.ContextProvider=i,Hr.Element=t,Hr.ForwardRef=c,Hr.Fragment=r,Hr.Lazy=g,Hr.Memo=m,Hr.Portal=e,Hr.Profiler=a,Hr.StrictMode=n,Hr.Suspense=d,Hr.SuspenseList=h,Hr.isAsyncMode=function(){return!1},Hr.isConcurrentMode=function(){return!1},Hr.isContextConsumer=function(v){return j(v)===o},Hr.isContextProvider=function(v){return j(v)===i},Hr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Hr.isForwardRef=function(v){return j(v)===c},Hr.isFragment=function(v){return j(v)===r},Hr.isLazy=function(v){return j(v)===g},Hr.isMemo=function(v){return j(v)===m},Hr.isPortal=function(v){return j(v)===e},Hr.isProfiler=function(v){return j(v)===a},Hr.isStrictMode=function(v){return j(v)===n},Hr.isSuspense=function(v){return j(v)===d},Hr.isSuspenseList=function(v){return j(v)===h},Hr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===d||v===h||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===m||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===w||v.getModuleId!==void 0)},Hr.typeOf=j,Hr}var S7;function ZNe(){return S7||(S7=1,vk.exports=QNe()),vk.exports}var e2e=ZNe(),wk,N7;function aK(){if(N7)return wk;N7=1;var t=Dl(),e=Pl(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return wk=n,wk}var jk,k7;function t2e(){if(k7)return jk;k7=1;var t=aK();function e(r){return t(r)&&r!=+r}return jk=e,jk}var r2e=t2e();const hg=Dr(r2e);var n2e=aK();const a2e=Dr(n2e);var Ja=function(e){return e===0?0:e>0?1:-1},Mu=function(e){return td(e)&&e.indexOf("%")===e.length-1},yt=function(e){return a2e(e)&&!hg(e)},s2e=function(e){return tr(e)},sa=function(e){return yt(e)||td(e)},i2e=0,Fh=function(e){var r=++i2e;return"".concat(e||"").concat(r)},Qa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&!td(e))return n;var i;if(Mu(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return hg(i)&&(i=n),a&&i>r&&(i=r),i},gc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},o2e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Ps=function(e,r){return yt(e)&&yt(r)?function(n){return e+n*(r-e)}:function(){return r}};function kv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Hs(n,e))===r})}var l2e=function(e,r){return yt(e)&&yt(r)?e-r:td(e)&&td(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ef(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function V5(t){"@babel/helpers - typeof";return V5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V5(t)}var c2e=["viewBox","children"],u2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],C7=["points","pathLength"],Sk={svg:c2e,polygon:C7,polyline:C7},hE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!$h(n))return null;var a={};return Object.keys(n).forEach(function(i){hE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},d2e=function(e,r,n){return function(a){return e(r,n,a),null}},rd=function(e,r,n){if(!$h(e)||V5(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];hE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=d2e(o,r,n))}),a},f2e=["children"],h2e=["children"];function T7(t,e){if(t==null)return{};var r=m2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q5(t){"@babel/helpers - typeof";return q5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q5(t)}var _7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},M7=null,Nk=null,mE=function t(e){if(e===M7&&Array.isArray(Nk))return Nk;var r=[];return x.Children.forEach(e,function(n){tr(n)||(e2e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Nk=r,M7=e,r};function Bs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return xl(a)}):n=[xl(e)],mE(t).forEach(function(a){var i=Hs(a,"type.displayName")||Hs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ds(t,e){var r=Bs(t,e);return r&&r[0]}var A7=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!yt(n)||n<=0||!yt(a)||a<=0)},p2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g2e=function(e){return e&&e.type&&td(e.type)&&p2e.indexOf(e.type)>=0},x2e=function(e){return e&&q5(e)==="object"&&"clipDot"in e},y2e=function(e,r,n,a){var i,o=(i=Sk==null?void 0:Sk[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Jt(e)&&(a&&o.includes(r)||u2e.includes(r))||n&&hE.includes(r)},Wt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),!$h(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;y2e((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},U5=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return O7(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!O7(i,o))return!1}return!0},O7=function(e,r){if(tr(e)&&tr(r))return!0;if(!tr(e)&&!tr(r)){var n=e.props||{},a=n.children,i=T7(n,f2e),o=r.props||{},l=o.children,c=T7(o,h2e);return a&&l?Ef(i,c)&&U5(a,l):!a&&!l?Ef(i,c):!1}return!1},E7=function(e,r){var n=[],a={};return mE(e).forEach(function(i,o){if(g2e(i))n.push(i);else if(i){var l=xl(i.type),c=r[l]||{},d=c.handler,h=c.once;if(d&&(!h||!a[l])){var m=d(i,l,o);n.push(m),a[l]=!0}}}),n},b2e=function(e){var r=e&&e.type;return r&&_7[r]?_7[r]:null},v2e=function(e,r){return mE(r).indexOf(e)},w2e=["children","width","height","viewBox","className","style","title","desc"];function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W5.apply(this,arguments)}function j2e(t,e){if(t==null)return{};var r=S2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G5(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=j2e(t,w2e),h=a||{width:r,height:n,x:0,y:0},m=$t("recharts-surface",i);return X.createElement("svg",W5({},Wt(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),e)}var N2e=["children","className"];function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function k2e(t,e){if(t==null)return{};var r=C2e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ar=X.forwardRef(function(t,e){var r=t.children,n=t.className,a=k2e(t,N2e),i=$t("recharts-layer",n);return X.createElement("g",Y5({className:i},Wt(a,!0),{ref:e}),r)}),$i=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},kk,D7;function T2e(){if(D7)return kk;D7=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return kk=t,kk}var Ck,P7;function _2e(){if(P7)return Ck;P7=1;var t=T2e();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return Ck=e,Ck}var Tk,R7;function sK(){if(R7)return Tk;R7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return Tk=c,Tk}var _k,I7;function M2e(){if(I7)return _k;I7=1;function t(e){return e.split("")}return _k=t,_k}var Mk,L7;function A2e(){if(L7)return Mk;L7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=d+"?",j="["+i+"]?",v="(?:"+y+"(?:"+[h,m,g].join("|")+")"+j+w+")*",N=j+w+v,C="(?:"+[h+l+"?",l,m,g,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+C+N,"g");function E(T){return T.match(S)||[]}return Mk=E,Mk}var Ak,$7;function O2e(){if($7)return Ak;$7=1;var t=M2e(),e=sK(),r=A2e();function n(a){return e(a)?r(a):t(a)}return Ak=n,Ak}var Ok,F7;function E2e(){if(F7)return Ok;F7=1;var t=_2e(),e=sK(),r=O2e(),n=tK();function a(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return Ok=a,Ok}var Ek,H7;function D2e(){if(H7)return Ek;H7=1;var t=E2e(),e=t("toUpperCase");return Ek=e,Ek}var P2e=D2e();const u1=Dr(P2e);function on(t){return function(){return t}}const iK=Math.cos,Tv=Math.sin,qi=Math.sqrt,_v=Math.PI,d1=2*_v,K5=Math.PI,X5=2*K5,gu=1e-6,R2e=X5-gu;function oK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function I2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oK;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class L2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oK:I2e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=a-r,h=o-e,m=l-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>gu)if(!(Math.abs(m*c-d*h)>gu)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,w=a-l,j=c*c+d*d,v=y*y+w*w,N=Math.sqrt(j),C=Math.sqrt(g),S=i*Math.tan((K5-Math.acos((j+g-v)/(2*N*C)))/2),E=S/C,T=S/N;Math.abs(E-1)>gu&&this._append`L${e+E*h},${r+E*m}`,this._append`A${i},${i},0,0,${+(m*y>h*w)},${this._x1=e+T*c},${this._y1=r+T*d}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=e+l,h=r+c,m=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>gu||Math.abs(this._y1-h)>gu)&&this._append`L${d},${h}`,n&&(g<0&&(g=g%X5+X5),g>R2e?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:g>gu&&this._append`A${n},${n},0,${+(g>=K5)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function pE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new L2e(e)}function gE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function lK(t){this._context=t}lK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function f1(t){return new lK(t)}function cK(t){return t[0]}function uK(t){return t[1]}function dK(t,e){var r=on(!0),n=null,a=f1,i=null,o=pE(l);t=typeof t=="function"?t:t===void 0?cK:on(t),e=typeof e=="function"?e:e===void 0?uK:on(e);function l(c){var d,h=(c=gE(c)).length,m,g=!1,y;for(n==null&&(i=a(y=o())),d=0;d<=h;++d)!(d<h&&r(m=c[d],d,c))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(m,d,c),+e(m,d,c));if(y)return i=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:on(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:on(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:on(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function py(t,e,r){var n=null,a=on(!0),i=null,o=f1,l=null,c=pE(d);t=typeof t=="function"?t:t===void 0?cK:on(+t),e=typeof e=="function"?e:on(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?uK:on(+r);function d(m){var g,y,w,j=(m=gE(m)).length,v,N=!1,C,S=new Array(j),E=new Array(j);for(i==null&&(l=o(C=c())),g=0;g<=j;++g){if(!(g<j&&a(v=m[g],g,m))===N)if(N=!N)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=y;--w)l.point(S[w],E[w]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+t(v,g,m),E[g]=+e(v,g,m),l.point(n?+n(v,g,m):S[g],r?+r(v,g,m):E[g]))}if(C)return l=null,C+""||null}function h(){return dK().defined(a).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:on(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:on(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:on(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:on(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:on(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:on(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(r)},d.lineX1=function(){return h().x(n).y(e)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:on(!!m),d):a},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class fK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function $2e(t){return new fK(t,!0)}function F2e(t){return new fK(t,!1)}const xE={draw(t,e){const r=qi(e/_v);t.moveTo(r,0),t.arc(0,0,r,0,d1)}},H2e={draw(t,e){const r=qi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},hK=qi(1/3),B2e=hK*2,z2e={draw(t,e){const r=qi(e/B2e),n=r*hK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},V2e={draw(t,e){const r=qi(e),n=-r/2;t.rect(n,n,r,r)}},q2e=.8908130915292852,mK=Tv(_v/10)/Tv(7*_v/10),U2e=Tv(d1/10)*mK,W2e=-iK(d1/10)*mK,G2e={draw(t,e){const r=qi(e*q2e),n=U2e*r,a=W2e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=d1*i/5,l=iK(o),c=Tv(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},Dk=qi(3),Y2e={draw(t,e){const r=-qi(e/(Dk*3));t.moveTo(0,r*2),t.lineTo(-Dk*r,-r),t.lineTo(Dk*r,-r),t.closePath()}},Zs=-.5,ei=qi(3)/2,J5=1/qi(12),K2e=(J5/2+1)*3,X2e={draw(t,e){const r=qi(e/K2e),n=r/2,a=r*J5,i=n,o=r*J5+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Zs*n-ei*a,ei*n+Zs*a),t.lineTo(Zs*i-ei*o,ei*i+Zs*o),t.lineTo(Zs*l-ei*c,ei*l+Zs*c),t.lineTo(Zs*n+ei*a,Zs*a-ei*n),t.lineTo(Zs*i+ei*o,Zs*o-ei*i),t.lineTo(Zs*l+ei*c,Zs*c-ei*l),t.closePath()}};function J2e(t,e){let r=null,n=pE(a);t=typeof t=="function"?t:on(t||xE),e=typeof e=="function"?e:on(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:on(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:on(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Mv(){}function Av(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function pK(t){this._context=t}pK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Av(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Av(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q2e(t){return new pK(t)}function gK(t){this._context=t}gK.prototype={areaStart:Mv,areaEnd:Mv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Av(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Z2e(t){return new gK(t)}function xK(t){this._context=t}xK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Av(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eke(t){return new xK(t)}function yK(t){this._context=t}yK.prototype={areaStart:Mv,areaEnd:Mv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tke(t){return new yK(t)}function B7(t){return t<0?-1:1}function z7(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(B7(i)+B7(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function V7(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Pk(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function Ov(t){this._context=t}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pk(this,this._t0,V7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Pk(this,V7(this,r=z7(this,t,e)),r);break;default:Pk(this,this._t0,r=z7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function bK(t){this._context=new vK(t)}(bK.prototype=Object.create(Ov.prototype)).point=function(t,e){Ov.prototype.point.call(this,e,t)};function vK(t){this._context=t}vK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function rke(t){return new Ov(t)}function nke(t){return new bK(t)}function wK(t){this._context=t}wK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=q7(t),a=q7(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q7(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function ake(t){return new wK(t)}function h1(t,e){this._context=t,this._t=e}h1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ske(t){return new h1(t,.5)}function ike(t){return new h1(t,0)}function oke(t){return new h1(t,1)}function nh(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Q5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function lke(t,e){return t[e]}function cke(t){const e=[];return e.key=t,e}function uke(){var t=on([]),e=Q5,r=nh,n=lke;function a(i){var o=Array.from(t.apply(this,arguments),cke),l,c=o.length,d=-1,h;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,h=gE(e(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:on(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:on(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?Q5:typeof i=="function"?i:on(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??nh,a):r},a}function dke(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}nh(t,e)}}function fke(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}nh(t,e)}}function hke(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var h=t[e[l]],m=h[n][1]||0,g=h[n-1][1]||0,y=(m-g)/2,w=0;w<l;++w){var j=t[e[w]],v=j[n][1]||0,N=j[n-1][1]||0;y+=v-N}c+=m,d+=y*m}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,nh(t,e)}}function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}var mke=["type","size","sizeType"];function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z5.apply(this,arguments)}function U7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function W7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(r),!0).forEach(function(n){pke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pke(t,e,r){return e=gke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gke(t){var e=xke(t,"string");return d0(e)=="symbol"?e:e+""}function xke(t,e){if(d0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(d0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yke(t,e){if(t==null)return{};var r=bke(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jK={symbolCircle:xE,symbolCross:H2e,symbolDiamond:z2e,symbolSquare:V2e,symbolStar:G2e,symbolTriangle:Y2e,symbolWye:X2e},vke=Math.PI/180,wke=function(e){var r="symbol".concat(u1(e));return jK[r]||xE},jke=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*vke;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ske=function(e,r){jK["symbol".concat(u1(e))]=r},yE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=yke(e,mke),d=W7(W7({},c),{},{type:n,size:i,sizeType:l}),h=function(){var v=wke(n),N=J2e().type(v).size(jke(i,l,n));return N()},m=d.className,g=d.cx,y=d.cy,w=Wt(d,!0);return g===+g&&y===+y&&i===+i?X.createElement("path",Z5({},w,{className:$t("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};yE.registerSymbol=Ske;function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function eM(){return eM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eM.apply(this,arguments)}function G7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(r),!0).forEach(function(n){f0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NK(n.key),n)}}function Tke(t,e,r){return e&&Cke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ke(t,e,r){return e=Ev(e),Mke(t,SK()?Reflect.construct(e,r||[],Ev(t).constructor):e.apply(t,r))}function Mke(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ake(t)}function Ake(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}function Oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tM(t,e)}function tM(t,e){return tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tM(t,e)}function f0(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=Eke(t,"string");return ah(e)=="symbol"?e:e+""}function Eke(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ti=32,bE=(function(t){function e(){return kke(this,e),_ke(this,e,arguments)}return Oke(e,t),Tke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ti/2,o=ti/6,l=ti/3,c=n.inactive?a:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ti,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ti,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ti/8,"h").concat(ti,"v").concat(ti*3/4,"h").concat(-ti,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var d=Nke({},n);return delete d.legendIcon,X.cloneElement(n.legendIcon,d)}return X.createElement(yE,{fill:c,cx:i,cy:i,size:ti,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,h={x:0,y:0,width:ti,height:ti},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,w){var j=y.formatter||c,v=$t(f0(f0({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=Jt(y.value)?null:y.value;$i(!Jt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=y.inactive?d:y.color;return X.createElement("li",eM({className:v,style:m,key:"legend-item-".concat(w)},rd(n.props,y,w)),X.createElement(G5,{width:o,height:o,viewBox:h,style:g},n.renderIcon(y)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},j?j(N,y,w):N))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(x.PureComponent);f0(bE,"displayName","Legend");f0(bE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rk,Y7;function Dke(){if(Y7)return Rk;Y7=1;var t=o1();function e(){this.__data__=new t,this.size=0}return Rk=e,Rk}var Ik,K7;function Pke(){if(K7)return Ik;K7=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ik=t,Ik}var Lk,X7;function Rke(){if(X7)return Lk;X7=1;function t(e){return this.__data__.get(e)}return Lk=t,Lk}var $k,J7;function Ike(){if(J7)return $k;J7=1;function t(e){return this.__data__.has(e)}return $k=t,$k}var Fk,Q7;function Lke(){if(Q7)return Fk;Q7=1;var t=o1(),e=cE(),r=uE(),n=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return Fk=a,Fk}var Hk,Z7;function kK(){if(Z7)return Hk;Z7=1;var t=o1(),e=Dke(),r=Pke(),n=Rke(),a=Ike(),i=Lke();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Hk=o,Hk}var Bk,e8;function $ke(){if(e8)return Bk;e8=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Bk=e,Bk}var zk,t8;function Fke(){if(t8)return zk;t8=1;function t(e){return this.__data__.has(e)}return zk=t,zk}var Vk,r8;function CK(){if(r8)return Vk;r8=1;var t=uE(),e=$ke(),r=Fke();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Vk=n,Vk}var qk,n8;function TK(){if(n8)return qk;n8=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return qk=t,qk}var Uk,a8;function _K(){if(a8)return Uk;a8=1;function t(e,r){return e.has(r)}return Uk=t,Uk}var Wk,s8;function MK(){if(s8)return Wk;s8=1;var t=CK(),e=TK(),r=_K(),n=1,a=2;function i(o,l,c,d,h,m){var g=c&n,y=o.length,w=l.length;if(y!=w&&!(g&&w>y))return!1;var j=m.get(o),v=m.get(l);if(j&&v)return j==l&&v==o;var N=-1,C=!0,S=c&a?new t:void 0;for(m.set(o,l),m.set(l,o);++N<y;){var E=o[N],T=l[N];if(d)var A=g?d(T,E,N,l,o,m):d(E,T,N,o,l,m);if(A!==void 0){if(A)continue;C=!1;break}if(S){if(!e(l,function(O,D){if(!r(S,D)&&(E===O||h(E,O,c,d,m)))return S.push(D)})){C=!1;break}}else if(!(E===T||h(E,T,c,d,m))){C=!1;break}}return m.delete(o),m.delete(l),C}return Wk=i,Wk}var Gk,i8;function Hke(){if(i8)return Gk;i8=1;var t=Mo(),e=t.Uint8Array;return Gk=e,Gk}var Yk,o8;function Bke(){if(o8)return Yk;o8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Yk=t,Yk}var Kk,l8;function vE(){if(l8)return Kk;l8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Kk=t,Kk}var Xk,c8;function zke(){if(c8)return Xk;c8=1;var t=fg(),e=Hke(),r=lE(),n=MK(),a=Bke(),i=vE(),o=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",w="[object Set]",j="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",S=t?t.prototype:void 0,E=S?S.valueOf:void 0;function T(A,O,D,$,L,I,R){switch(D){case C:if(A.byteLength!=O.byteLength||A.byteOffset!=O.byteOffset)return!1;A=A.buffer,O=O.buffer;case N:return!(A.byteLength!=O.byteLength||!I(new e(A),new e(O)));case c:case d:case g:return r(+A,+O);case h:return A.name==O.name&&A.message==O.message;case y:case j:return A==O+"";case m:var H=a;case w:var G=$&o;if(H||(H=i),A.size!=O.size&&!G)return!1;var q=R.get(A);if(q)return q==O;$|=l,R.set(A,O);var F=n(H(A),H(O),$,L,I,R);return R.delete(A),F;case v:if(E)return E.call(A)==E.call(O)}return!1}return Xk=T,Xk}var Jk,u8;function AK(){if(u8)return Jk;u8=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Jk=t,Jk}var Qk,d8;function Vke(){if(d8)return Qk;d8=1;var t=AK(),e=Ss();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return Qk=r,Qk}var Zk,f8;function qke(){if(f8)return Zk;f8=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return Zk=t,Zk}var eC,h8;function Uke(){if(h8)return eC;h8=1;function t(){return[]}return eC=t,eC}var tC,m8;function Wke(){if(m8)return tC;m8=1;var t=qke(),e=Uke(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return tC=i,tC}var rC,p8;function Gke(){if(p8)return rC;p8=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return rC=t,rC}var nC,g8;function Yke(){if(g8)return nC;g8=1;var t=Dl(),e=Pl(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return nC=n,nC}var aC,x8;function wE(){if(x8)return aC;x8=1;var t=Yke(),e=Pl(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return aC=i,aC}var gp={exports:{}},sC,y8;function Kke(){if(y8)return sC;y8=1;function t(){return!1}return sC=t,sC}gp.exports;var b8;function OK(){return b8||(b8=1,(function(t,e){var r=Mo(),n=Kke(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(gp,gp.exports)),gp.exports}var iC,v8;function jE(){if(v8)return iC;v8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return iC=r,iC}var oC,w8;function SE(){if(w8)return oC;w8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return oC=e,oC}var lC,j8;function Xke(){if(j8)return lC;j8=1;var t=Dl(),e=SE(),r=Pl(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",w="[object String]",j="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",$="[object Uint16Array]",L="[object Uint32Array]",I={};I[C]=I[S]=I[E]=I[T]=I[A]=I[O]=I[D]=I[$]=I[L]=!0,I[n]=I[a]=I[v]=I[i]=I[N]=I[o]=I[l]=I[c]=I[d]=I[h]=I[m]=I[g]=I[y]=I[w]=I[j]=!1;function R(H){return r(H)&&e(H.length)&&!!I[t(H)]}return lC=R,lC}var cC,S8;function EK(){if(S8)return cC;S8=1;function t(e){return function(r){return e(r)}}return cC=t,cC}var xp={exports:{}};xp.exports;var N8;function Jke(){return N8||(N8=1,(function(t,e){var r=QY(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(xp,xp.exports)),xp.exports}var uC,k8;function DK(){if(k8)return uC;k8=1;var t=Xke(),e=EK(),r=Jke(),n=r&&r.isTypedArray,a=n?e(n):t;return uC=a,uC}var dC,C8;function Qke(){if(C8)return dC;C8=1;var t=Gke(),e=wE(),r=Ss(),n=OK(),a=jE(),i=DK(),o=Object.prototype,l=o.hasOwnProperty;function c(d,h){var m=r(d),g=!m&&e(d),y=!m&&!g&&n(d),w=!m&&!g&&!y&&i(d),j=m||g||y||w,v=j?t(d.length,String):[],N=v.length;for(var C in d)(h||l.call(d,C))&&!(j&&(C=="length"||y&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,N)))&&v.push(C);return v}return dC=c,dC}var fC,T8;function Zke(){if(T8)return fC;T8=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return fC=e,fC}var hC,_8;function PK(){if(_8)return hC;_8=1;function t(e,r){return function(n){return e(r(n))}}return hC=t,hC}var mC,M8;function eCe(){if(M8)return mC;M8=1;var t=PK(),e=t(Object.keys,Object);return mC=e,mC}var pC,A8;function tCe(){if(A8)return pC;A8=1;var t=Zke(),e=eCe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return pC=a,pC}var gC,O8;function mg(){if(O8)return gC;O8=1;var t=oE(),e=SE();function r(n){return n!=null&&e(n.length)&&!t(n)}return gC=r,gC}var xC,E8;function m1(){if(E8)return xC;E8=1;var t=Qke(),e=tCe(),r=mg();function n(a){return r(a)?t(a):e(a)}return xC=n,xC}var yC,D8;function rCe(){if(D8)return yC;D8=1;var t=Vke(),e=Wke(),r=m1();function n(a){return t(a,r,e)}return yC=n,yC}var bC,P8;function nCe(){if(P8)return bC;P8=1;var t=rCe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,d,h){var m=l&e,g=t(i),y=g.length,w=t(o),j=w.length;if(y!=j&&!m)return!1;for(var v=y;v--;){var N=g[v];if(!(m?N in o:n.call(o,N)))return!1}var C=h.get(i),S=h.get(o);if(C&&S)return C==o&&S==i;var E=!0;h.set(i,o),h.set(o,i);for(var T=m;++v<y;){N=g[v];var A=i[N],O=o[N];if(c)var D=m?c(O,A,N,o,i,h):c(A,O,N,i,o,h);if(!(D===void 0?A===O||d(A,O,l,c,h):D)){E=!1;break}T||(T=N=="constructor")}if(E&&!T){var $=i.constructor,L=o.constructor;$!=L&&"constructor"in i&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof L=="function"&&L instanceof L)&&(E=!1)}return h.delete(i),h.delete(o),E}return bC=a,bC}var vC,R8;function aCe(){if(R8)return vC;R8=1;var t=dd(),e=Mo(),r=t(e,"DataView");return vC=r,vC}var wC,I8;function sCe(){if(I8)return wC;I8=1;var t=dd(),e=Mo(),r=t(e,"Promise");return wC=r,wC}var jC,L8;function RK(){if(L8)return jC;L8=1;var t=dd(),e=Mo(),r=t(e,"Set");return jC=r,jC}var SC,$8;function iCe(){if($8)return SC;$8=1;var t=dd(),e=Mo(),r=t(e,"WeakMap");return SC=r,SC}var NC,F8;function oCe(){if(F8)return NC;F8=1;var t=aCe(),e=cE(),r=sCe(),n=RK(),a=iCe(),i=Dl(),o=ZY(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",y=o(t),w=o(e),j=o(r),v=o(n),N=o(a),C=i;return(t&&C(new t(new ArrayBuffer(1)))!=g||e&&C(new e)!=l||r&&C(r.resolve())!=d||n&&C(new n)!=h||a&&C(new a)!=m)&&(C=function(S){var E=i(S),T=E==c?S.constructor:void 0,A=T?o(T):"";if(A)switch(A){case y:return g;case w:return l;case j:return d;case v:return h;case N:return m}return E}),NC=C,NC}var kC,H8;function lCe(){if(H8)return kC;H8=1;var t=kK(),e=MK(),r=zke(),n=nCe(),a=oCe(),i=Ss(),o=OK(),l=DK(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function w(j,v,N,C,S,E){var T=i(j),A=i(v),O=T?h:a(j),D=A?h:a(v);O=O==d?m:O,D=D==d?m:D;var $=O==m,L=D==m,I=O==D;if(I&&o(j)){if(!o(v))return!1;T=!0,$=!1}if(I&&!$)return E||(E=new t),T||l(j)?e(j,v,N,C,S,E):r(j,v,O,N,C,S,E);if(!(N&c)){var R=$&&y.call(j,"__wrapped__"),H=L&&y.call(v,"__wrapped__");if(R||H){var G=R?j.value():j,q=H?v.value():v;return E||(E=new t),S(G,q,N,C,E)}}return I?(E||(E=new t),n(j,v,N,C,S,E)):!1}return kC=w,kC}var CC,B8;function NE(){if(B8)return CC;B8=1;var t=lCe(),e=Pl();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,l)}return CC=r,CC}var TC,z8;function cCe(){if(z8)return TC;z8=1;var t=kK(),e=NE(),r=1,n=2;function a(i,o,l,c){var d=l.length,h=d,m=!c;if(i==null)return!h;for(i=Object(i);d--;){var g=l[d];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++d<h;){g=l[d];var y=g[0],w=i[y],j=g[1];if(m&&g[2]){if(w===void 0&&!(y in i))return!1}else{var v=new t;if(c)var N=c(w,j,y,i,o,v);if(!(N===void 0?e(j,w,r|n,c,v):N))return!1}}return!0}return TC=a,TC}var _C,V8;function IK(){if(V8)return _C;V8=1;var t=Hc();function e(r){return r===r&&!t(r)}return _C=e,_C}var MC,q8;function uCe(){if(q8)return MC;q8=1;var t=IK(),e=m1();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,t(l)]}return a}return MC=r,MC}var AC,U8;function LK(){if(U8)return AC;U8=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return AC=t,AC}var OC,W8;function dCe(){if(W8)return OC;W8=1;var t=cCe(),e=uCe(),r=LK();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return OC=n,OC}var EC,G8;function fCe(){if(G8)return EC;G8=1;function t(e,r){return e!=null&&r in Object(e)}return EC=t,EC}var DC,Y8;function hCe(){if(Y8)return DC;Y8=1;var t=rK(),e=wE(),r=Ss(),n=jE(),a=SE(),i=c1();function o(l,c,d){c=t(c,l);for(var h=-1,m=c.length,g=!1;++h<m;){var y=i(c[h]);if(!(g=l!=null&&d(l,y)))break;l=l[y]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&a(m)&&n(y,m)&&(r(l)||e(l)))}return DC=o,DC}var PC,K8;function mCe(){if(K8)return PC;K8=1;var t=fCe(),e=hCe();function r(n,a){return n!=null&&e(n,a,t)}return PC=r,PC}var RC,X8;function pCe(){if(X8)return RC;X8=1;var t=NE(),e=nK(),r=mCe(),n=iE(),a=IK(),i=LK(),o=c1(),l=1,c=2;function d(h,m){return n(h)&&a(m)?i(o(h),m):function(g){var y=e(g,h);return y===void 0&&y===m?r(g,h):t(m,y,l|c)}}return RC=d,RC}var IC,J8;function Hh(){if(J8)return IC;J8=1;function t(e){return e}return IC=t,IC}var LC,Q8;function gCe(){if(Q8)return LC;Q8=1;function t(e){return function(r){return r==null?void 0:r[e]}}return LC=t,LC}var $C,Z8;function xCe(){if(Z8)return $C;Z8=1;var t=fE();function e(r){return function(n){return t(n,r)}}return $C=e,$C}var FC,eF;function yCe(){if(eF)return FC;eF=1;var t=gCe(),e=xCe(),r=iE(),n=c1();function a(i){return r(i)?t(n(i)):e(i)}return FC=a,FC}var HC,tF;function Ao(){if(tF)return HC;tF=1;var t=dCe(),e=pCe(),r=Hh(),n=Ss(),a=yCe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return HC=i,HC}var BC,rF;function $K(){if(rF)return BC;rF=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return BC=t,BC}var zC,nF;function bCe(){if(nF)return zC;nF=1;function t(e){return e!==e}return zC=t,zC}var VC,aF;function vCe(){if(aF)return VC;aF=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return VC=t,VC}var qC,sF;function wCe(){if(sF)return qC;sF=1;var t=$K(),e=bCe(),r=vCe();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return qC=n,qC}var UC,iF;function jCe(){if(iF)return UC;iF=1;var t=wCe();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return UC=e,UC}var WC,oF;function SCe(){if(oF)return WC;oF=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return WC=t,WC}var GC,lF;function NCe(){if(lF)return GC;lF=1;function t(){}return GC=t,GC}var YC,cF;function kCe(){if(cF)return YC;cF=1;var t=RK(),e=NCe(),r=vE(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return YC=a,YC}var KC,uF;function CCe(){if(uF)return KC;uF=1;var t=CK(),e=jCe(),r=SCe(),n=_K(),a=kCe(),i=vE(),o=200;function l(c,d,h){var m=-1,g=e,y=c.length,w=!0,j=[],v=j;if(h)w=!1,g=r;else if(y>=o){var N=d?null:a(c);if(N)return i(N);w=!1,g=n,v=new t}else v=d?[]:j;e:for(;++m<y;){var C=c[m],S=d?d(C):C;if(C=h||C!==0?C:0,w&&S===S){for(var E=v.length;E--;)if(v[E]===S)continue e;d&&v.push(S),j.push(C)}else g(v,S,h)||(v!==j&&v.push(S),j.push(C))}return j}return KC=l,KC}var XC,dF;function TCe(){if(dF)return XC;dF=1;var t=Ao(),e=CCe();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return XC=r,XC}var _Ce=TCe();const fF=Dr(_Ce);function FK(t,e,r){return e===!0?fF(t,r):Jt(e)?fF(t,e):t}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}var MCe=["ref"];function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){p1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ACe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BK(n.key),n)}}function OCe(t,e,r){return e&&mF(t.prototype,e),r&&mF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ECe(t,e,r){return e=Dv(e),DCe(t,HK()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function DCe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PCe(t)}function PCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HK=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function RCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rM(t,e)}function rM(t,e){return rM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rM(t,e)}function p1(t,e,r){return e=BK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BK(t){var e=ICe(t,"string");return sh(e)=="symbol"?e:e+""}function ICe(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LCe(t,e){if(t==null)return{};var r=$Ce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FCe(t){return t.value}function HCe(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=LCe(e,MCe);return X.createElement(bE,r)}var pF=1,po=(function(t){function e(){var r;ACe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ECe(this,e,[].concat(a)),p1(r,"lastBoundingBox",{width:-1,height:-1}),r}return RCe(e,t),OCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>pF||Math.abs(a.height-this.lastBoundingBox.height)>pF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,h=a.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();m={left:((d||0)-y.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();g={top:((h||0)-w.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Jo(Jo({},m),g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,h=a.payload,m=Jo(Jo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){n.wrapperNode=y}},HCe(i,Jo(Jo({},this.props),{},{payload:FK(h,d,FCe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Jo(Jo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&yt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(x.PureComponent);p1(po,"displayName","Legend");p1(po,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JC,gF;function BCe(){if(gF)return JC;gF=1;var t=fg(),e=wE(),r=Ss(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return JC=a,JC}var QC,xF;function zK(){if(xF)return QC;xF=1;var t=AK(),e=BCe();function r(n,a,i,o,l){var c=-1,d=n.length;for(i||(i=e),l||(l=[]);++c<d;){var h=n[c];a>0&&i(h)?a>1?r(h,a-1,i,o,l):t(l,h):o||(l[l.length]=h)}return l}return QC=r,QC}var ZC,yF;function zCe(){if(yF)return ZC;yF=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var d=l[e?c:++i];if(n(o[d],d,o)===!1)break}return r}}return ZC=t,ZC}var eT,bF;function VCe(){if(bF)return eT;bF=1;var t=zCe(),e=t();return eT=e,eT}var tT,vF;function VK(){if(vF)return tT;vF=1;var t=VCe(),e=m1();function r(n,a){return n&&t(n,a,e)}return tT=r,tT}var rT,wF;function qCe(){if(wF)return rT;wF=1;var t=mg();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return rT=e,rT}var nT,jF;function kE(){if(jF)return nT;jF=1;var t=VK(),e=qCe(),r=e(t);return nT=r,nT}var aT,SF;function qK(){if(SF)return aT;SF=1;var t=kE(),e=mg();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++i]=a(l,c,d)}),o}return aT=r,aT}var sT,NF;function UCe(){if(NF)return sT;NF=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return sT=t,sT}var iT,kF;function WCe(){if(kF)return iT;kF=1;var t=Lh();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,h=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&h&&!d&&!m||i&&c&&h||!a&&h||!o)return 1;if(!i&&!l&&!m&&r<n||m&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!h)return-1}return 0}return iT=e,iT}var oT,CF;function GCe(){if(CF)return oT;CF=1;var t=WCe();function e(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,d=a.length;++i<c;){var h=t(o[i],l[i]);if(h){if(i>=d)return h;var m=a[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return oT=e,oT}var lT,TF;function YCe(){if(TF)return lT;TF=1;var t=dE(),e=fE(),r=Ao(),n=qK(),a=UCe(),i=EK(),o=GCe(),l=Hh(),c=Ss();function d(h,m,g){m.length?m=t(m,function(j){return c(j)?function(v){return e(v,j.length===1?j[0]:j)}:j}):m=[l];var y=-1;m=t(m,i(r));var w=n(h,function(j,v,N){var C=t(m,function(S){return S(j)});return{criteria:C,index:++y,value:j}});return a(w,function(j,v){return o(j,v,g)})}return lT=d,lT}var cT,_F;function KCe(){if(_F)return cT;_F=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return cT=t,cT}var uT,MF;function XCe(){if(MF)return uT;MF=1;var t=KCe(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var h=Array(a+1);++l<a;)h[l]=o[l];return h[a]=i(d),t(n,this,h)}}return uT=r,uT}var dT,AF;function JCe(){if(AF)return dT;AF=1;function t(e){return function(){return e}}return dT=t,dT}var fT,OF;function UK(){if(OF)return fT;OF=1;var t=dd(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return fT=e,fT}var hT,EF;function QCe(){if(EF)return hT;EF=1;var t=JCe(),e=UK(),r=Hh(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return hT=n,hT}var mT,DF;function ZCe(){if(DF)return mT;DF=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return mT=n,mT}var pT,PF;function eTe(){if(PF)return pT;PF=1;var t=QCe(),e=ZCe(),r=e(t);return pT=r,pT}var gT,RF;function tTe(){if(RF)return gT;RF=1;var t=Hh(),e=XCe(),r=eTe();function n(a,i){return r(e(a,i,t),a+"")}return gT=n,gT}var xT,IF;function g1(){if(IF)return xT;IF=1;var t=lE(),e=mg(),r=jE(),n=Hc();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return xT=a,xT}var yT,LF;function rTe(){if(LF)return yT;LF=1;var t=zK(),e=YCe(),r=tTe(),n=g1(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return yT=a,yT}var nTe=rTe();const CE=Dr(nTe);function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function nM(){return nM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nM.apply(this,arguments)}function aTe(t,e){return lTe(t)||oTe(t,e)||iTe(t,e)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iTe(t,e){if(t){if(typeof t=="string")return $F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lTe(t){if(Array.isArray(t))return t}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){cTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cTe(t,e,r){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uTe(t){var e=dTe(t,"string");return h0(e)=="symbol"?e:e+""}function dTe(t,e){if(h0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fTe(t){return Array.isArray(t)&&sa(t[0])&&sa(t[1])?t.join(" ~ "):t}var hTe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,m=e.formatter,g=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,j=e.label,v=e.labelFormatter,N=e.accessibilityLayer,C=N===void 0?!1:N,S=function(){if(h&&h.length){var R={padding:0,margin:0},H=(g?CE(h,g):h).map(function(G,q){if(G.type==="none")return null;var F=bT({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),P=G.formatter||m||fTe,B=G.value,K=G.name,te=B,U=K;if(P&&te!=null&&U!=null){var Q=P(B,K,G,q,h);if(Array.isArray(Q)){var ie=aTe(Q,2);te=ie[0],U=ie[1]}else te=Q}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:F},sa(U)?X.createElement("span",{className:"recharts-tooltip-item-name"},U):null,sa(U)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},te),X.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:R},H)}return null},E=bT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),T=bT({margin:0},d),A=!tr(j),O=A?j:"",D=$t("recharts-default-tooltip",y),$=$t("recharts-tooltip-label",w);A&&v&&h!==void 0&&h!==null&&(O=v(j,h));var L=C?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",nM({className:D,style:E},L),X.createElement("p",{className:$,style:T},X.isValidElement(O)?O:"".concat(O)),S())};function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function gy(t,e,r){return e=mTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mTe(t){var e=pTe(t,"string");return m0(e)=="symbol"?e:e+""}function pTe(t,e){if(m0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qm="recharts-tooltip-wrapper",gTe={visibility:"hidden"};function xTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $t(Qm,gy(gy(gy(gy({},"".concat(Qm,"-right"),yt(r)&&e&&yt(e.x)&&r>=e.x),"".concat(Qm,"-left"),yt(r)&&e&&yt(e.x)&&r<e.x),"".concat(Qm,"-bottom"),yt(n)&&e&&yt(e.y)&&n>=e.y),"".concat(Qm,"-top"),yt(n)&&e&&yt(e.y)&&n<e.y))}function HF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&yt(i[n]))return i[n];var h=r[n]-l-a,m=r[n]+a;if(e[n])return o[n]?h:m;if(o[n]){var g=h,y=c[n];return g<y?Math.max(m,c[n]):Math.max(h,c[n])}var w=m+l,j=c[n]+d;return w>j?Math.max(h,c[n]):Math.max(m,c[n])}function yTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function bTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,m;return o.height>0&&o.width>0&&r?(h=HF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=HF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=yTe({translateX:h,translateY:m,useTranslate3d:l})):d=gTe,{cssProperties:d,cssClasses:xTe({translateX:h,translateY:m,coordinate:r})}}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){sM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GK(n.key),n)}}function jTe(t,e,r){return e&&wTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function STe(t,e,r){return e=Pv(e),NTe(t,WK()?Reflect.construct(e,r||[],Pv(t).constructor):e.apply(t,r))}function NTe(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kTe(t)}function kTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WK=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(t)}function CTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aM(t,e)}function aM(t,e){return aM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aM(t,e)}function sM(t,e,r){return e=GK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GK(t){var e=TTe(t,"string");return ih(e)=="symbol"?e:e+""}function TTe(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VF=1,_Te=(function(t){function e(){var r;vTe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=STe(this,e,[].concat(a)),sM(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sM(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return CTe(e,t),jTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>VF||Math.abs(n.height-this.state.lastBoundingBox.height)>VF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,h=a.coordinate,m=a.hasPayload,g=a.isAnimationActive,y=a.offset,w=a.position,j=a.reverseDirection,v=a.useTranslate3d,N=a.viewBox,C=a.wrapperStyle,S=bTe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:y,position:w,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),E=S.cssClasses,T=S.cssProperties,A=zF(zF({transition:g&&i?"transform ".concat(l,"ms ").concat(c):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return X.createElement("div",{tabIndex:-1,className:E,style:A,ref:function(D){n.wrapperNode=D}},d)}}])})(x.PureComponent),MTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fd={isSsr:MTe()};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){TE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ATe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KK(n.key),n)}}function ETe(t,e,r){return e&&OTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DTe(t,e,r){return e=Rv(e),PTe(t,YK()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function PTe(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RTe(t)}function RTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YK=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function ITe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iM(t,e)}function iM(t,e){return iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iM(t,e)}function TE(t,e,r){return e=KK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KK(t){var e=LTe(t,"string");return oh(e)=="symbol"?e:e+""}function LTe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $Te(t){return t.dataKey}function FTe(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(hTe,e)}var da=(function(t){function e(){return ATe(this,e),DTe(this,e,arguments)}return ITe(e,t),ETe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,h=a.coordinate,m=a.filterNull,g=a.isAnimationActive,y=a.offset,w=a.payload,j=a.payloadUniqBy,v=a.position,N=a.reverseDirection,C=a.useTranslate3d,S=a.viewBox,E=a.wrapperStyle,T=w??[];m&&T.length&&(T=FK(w.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),j,$Te));var A=T.length>0;return X.createElement(_Te,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:i,coordinate:h,hasPayload:A,offset:y,position:v,reverseDirection:N,useTranslate3d:C,viewBox:S,wrapperStyle:E},FTe(d,UF(UF({},this.props),{},{payload:T})))}}])})(x.PureComponent);TE(da,"displayName","Tooltip");TE(da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vT,WF;function HTe(){if(WF)return vT;WF=1;var t=Mo(),e=function(){return t.Date.now()};return vT=e,vT}var wT,GF;function BTe(){if(GF)return wT;GF=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return wT=e,wT}var jT,YF;function zTe(){if(YF)return jT;YF=1;var t=BTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return jT=r,jT}var ST,KF;function XK(){if(KF)return ST;KF=1;var t=zTe(),e=Hc(),r=Lh(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):a.test(d)?n:+d}return ST=c,ST}var NT,XF;function VTe(){if(XF)return NT;XF=1;var t=Hc(),e=HTe(),r=XK(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var h,m,g,y,w,j,v=0,N=!1,C=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(N=!!d.leading,C="maxWait"in d,g=C?a(r(d.maxWait)||0,c):g,S="trailing"in d?!!d.trailing:S);function E(H){var G=h,q=m;return h=m=void 0,v=H,y=l.apply(q,G),y}function T(H){return v=H,w=setTimeout(D,c),N?E(H):y}function A(H){var G=H-j,q=H-v,F=c-G;return C?i(F,g-q):F}function O(H){var G=H-j,q=H-v;return j===void 0||G>=c||G<0||C&&q>=g}function D(){var H=e();if(O(H))return $(H);w=setTimeout(D,A(H))}function $(H){return w=void 0,S&&h?E(H):(h=m=void 0,y)}function L(){w!==void 0&&clearTimeout(w),v=0,h=j=m=w=void 0}function I(){return w===void 0?y:$(e())}function R(){var H=e(),G=O(H);if(h=arguments,m=this,j=H,G){if(w===void 0)return T(j);if(C)return clearTimeout(w),w=setTimeout(D,c),E(j)}return w===void 0&&(w=setTimeout(D,c)),y}return R.cancel=L,R.flush=I,R}return NT=o,NT}var kT,JF;function qTe(){if(JF)return kT;JF=1;var t=VTe(),e=Hc(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return kT=n,kT}var UTe=qTe();const JK=Dr(UTe);function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){WTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WTe(t,e,r){return e=GTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GTe(t){var e=YTe(t,"string");return p0(e)=="symbol"?e:e+""}function YTe(t,e){if(p0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KTe(t,e){return ZTe(t)||QTe(t,e)||JTe(t,e)||XTe()}function XTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(t,e){if(t){if(typeof t=="string")return ZF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZF(t,e)}}function ZF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ZTe(t){if(Array.isArray(t))return t}var al=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,g=t.maxHeight,y=t.children,w=t.debounce,j=w===void 0?0:w,v=t.id,N=t.className,C=t.onResize,S=t.style,E=S===void 0?{}:S,T=x.useRef(null),A=x.useRef();A.current=C,x.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var O=x.useState({containerWidth:a.width,containerHeight:a.height}),D=KTe(O,2),$=D[0],L=D[1],I=x.useCallback(function(H,G){L(function(q){var F=Math.round(H),P=Math.round(G);return q.containerWidth===F&&q.containerHeight===P?q:{containerWidth:F,containerHeight:P}})},[]);x.useEffect(function(){var H=function(K){var te,U=K[0].contentRect,Q=U.width,ie=U.height;I(Q,ie),(te=A.current)===null||te===void 0||te.call(A,Q,ie)};j>0&&(H=JK(H,j,{trailing:!0,leading:!1}));var G=new ResizeObserver(H),q=T.current.getBoundingClientRect(),F=q.width,P=q.height;return I(F,P),G.observe(T.current),function(){G.disconnect()}},[I,j]);var R=x.useMemo(function(){var H=$.containerWidth,G=$.containerHeight;if(H<0||G<0)return null;$i(Mu(o)||Mu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$i(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Mu(o)?H:o,F=Mu(c)?G:c;r&&r>0&&(q?F=q/r:F&&(q=F*r),g&&F>g&&(F=g)),$i(q>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,F,o,c,h,m,r);var P=!Array.isArray(y)&&xl(y.type).endsWith("Chart");return X.Children.map(y,function(B){return X.isValidElement(B)?x.cloneElement(B,xy({width:q,height:F},P?{style:xy({height:"100%",width:"100%",maxHeight:F,maxWidth:q},B.props.style)}:{})):B})},[r,y,c,g,m,h,$,o]);return X.createElement("div",{id:v?"".concat(v):void 0,className:$t("recharts-responsive-container",N),style:xy(xy({},E),{},{width:o,height:c,minWidth:h,minHeight:m,maxHeight:g}),ref:T},R)}),Bh=function(e){return null};Bh.displayName="Cell";function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}function e9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(r),!0).forEach(function(n){e_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e_e(t,e,r){return e=t_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t_e(t){var e=r_e(t,"string");return g0(e)=="symbol"?e:e+""}function r_e(t,e){if(g0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(g0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ef={widthCache:{},cacheCount:0},n_e=2e3,a_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t9="recharts_measurement_span";function s_e(t){var e=oM({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Pp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fd.isSsr)return{width:0,height:0};var n=s_e(r),a=JSON.stringify({text:e,copyStyle:n});if(ef.widthCache[a])return ef.widthCache[a];try{var i=document.getElementById(t9);i||(i=document.createElement("span"),i.setAttribute("id",t9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=oM(oM({},a_e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ef.widthCache[a]=c,++ef.cacheCount>n_e&&(ef.cacheCount=0,ef.widthCache={}),c}catch{return{width:0,height:0}}},i_e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}function Iv(t,e){return u_e(t)||c_e(t,e)||l_e(t,e)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(t,e){if(t){if(typeof t=="string")return r9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r9(t,e)}}function r9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function u_e(t){if(Array.isArray(t))return t}function d_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h_e(n.key),n)}}function f_e(t,e,r){return e&&n9(t.prototype,e),r&&n9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h_e(t){var e=m_e(t,"string");return x0(e)=="symbol"?e:e+""}function m_e(t,e){if(x0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(x0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x_e=Object.keys(QK),xf="NaN";function y_e(t,e){return t*QK[e]}var yy=(function(){function t(e,r){d_e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!p_e.test(r)&&(this.num=NaN,this.unit=""),x_e.includes(r)&&(this.num=y_e(e,r),this.unit="px")}return f_e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=g_e.exec(r))!==null&&n!==void 0?n:[],i=Iv(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function ZK(t){if(t.includes(xf))return xf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=a9.exec(e))!==null&&r!==void 0?r:[],a=Iv(n,4),i=a[1],o=a[2],l=a[3],c=yy.parse(i??""),d=yy.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return xf;e=e.replace(a9,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=s9.exec(e))!==null&&m!==void 0?m:[],y=Iv(g,4),w=y[1],j=y[2],v=y[3],N=yy.parse(w??""),C=yy.parse(v??""),S=j==="+"?N.add(C):N.subtract(C);if(S.isNaN())return xf;e=e.replace(s9,S.toString())}return e}var i9=/\(([^()]*)\)/;function b_e(t){for(var e=t;e.includes("(");){var r=i9.exec(e),n=Iv(r,2),a=n[1];e=e.replace(i9,ZK(a))}return e}function v_e(t){var e=t.replace(/\s+/g,"");return e=b_e(e),e=ZK(e),e}function w_e(t){try{return v_e(t)}catch{return xf}}function CT(t){var e=w_e(t.slice(5,-1));return e===xf?"":e}var j_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],S_e=["dx","dy","angle","className","breakAll"];function lM(){return lM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lM.apply(this,arguments)}function o9(t,e){if(t==null)return{};var r=N_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l9(t,e){return __e(t)||T_e(t,e)||C_e(t,e)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t,e){if(t){if(typeof t=="string")return c9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c9(t,e)}}function c9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function __e(t){if(Array.isArray(t))return t}var eX=/[ \f\n\r\t\v\u2028\u2029]+/,tX=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];tr(r)||(n?i=r.toString().split(""):i=r.toString().split(eX));var o=i.map(function(c){return{word:c,width:Pp(c,a).width}}),l=n?0:Pp(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},M_e=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=yt(o),m=l,g=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(F,P){var B=P.word,K=P.width,te=F[F.length-1];if(te&&(a==null||i||te.width+K+n<Number(a)))te.words.push(B),te.width+=K+n;else{var U={words:[B],width:K};F.push(U)}return F},[])},y=g(r),w=function(q){return q.reduce(function(F,P){return F.width>P.width?F:P})};if(!h)return y;for(var j="…",v=function(q){var F=m.slice(0,q),P=tX({breakAll:d,style:c,children:F+j}).wordsWithComputedWidth,B=g(P),K=B.length>o||w(B).width>Number(a);return[K,B]},N=0,C=m.length-1,S=0,E;N<=C&&S<=m.length-1;){var T=Math.floor((N+C)/2),A=T-1,O=v(A),D=l9(O,2),$=D[0],L=D[1],I=v(T),R=l9(I,1),H=R[0];if(!$&&!H&&(N=T+1),$&&H&&(C=T-1),!$&&H){E=L;break}S++}return E||y},u9=function(e){var r=tr(e)?[]:e.toString().split(eX);return[{words:r}]},A_e=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!fd.isSsr){var c,d,h=tX({breakAll:o,children:a,style:i});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;c=m,d=g}else return u9(a);return M_e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return u9(a)},d9="#808080",nd=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,w=e.verticalAnchor,j=w===void 0?"end":w,v=e.fill,N=v===void 0?d9:v,C=o9(e,j_e),S=x.useMemo(function(){return A_e({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),E=C.dx,T=C.dy,A=C.angle,O=C.className,D=C.breakAll,$=o9(C,S_e);if(!sa(n)||!sa(i))return null;var L=n+(yt(E)?E:0),I=i+(yt(T)?T:0),R;switch(j){case"start":R=CT("calc(".concat(d,")"));break;case"middle":R=CT("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:R=CT("calc(".concat(S.length-1," * -").concat(l,")"));break}var H=[];if(m){var G=S[0].width,q=C.width;H.push("scale(".concat((yt(q)?q/G:1)/G,")"))}return A&&H.push("rotate(".concat(A,", ").concat(L,", ").concat(I,")")),H.length&&($.transform=H.join(" ")),X.createElement("text",lM({},Wt($,!0),{x:L,y:I,className:$t("recharts-text",O),textAnchor:y,fill:N.includes("url")?d9:N}),S.map(function(F,P){var B=F.words.join(D?"":" ");return X.createElement("tspan",{x:L,dy:P===0?R:l,key:"".concat(B,"-").concat(P)},B)}))};function _c(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O_e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _E(t){let e,r,n;t.length!==2?(e=_c,r=(l,c)=>_c(t(l),c),n=(l,c)=>t(l)-c):(e=t===_c||t===O_e?t:E_e,r=t,n=t);function a(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,c,d=0,h=l.length){const m=a(l,c,d,h-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:a,center:o,right:i}}function E_e(){return 0}function rX(t){return t===null?NaN:+t}function*D_e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const P_e=_E(_c),pg=P_e.right;_E(rX).center;class f9 extends Map{constructor(e,r=L_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(h9(this,e))}has(e){return super.has(h9(this,e))}set(e,r){return super.set(R_e(this,e),r)}delete(e){return super.delete(I_e(this,e))}}function h9({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function R_e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function I_e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function L_e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $_e(t=_c){if(t===_c)return nX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function nX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const F_e=Math.sqrt(50),H_e=Math.sqrt(10),B_e=Math.sqrt(2);function Lv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=F_e?10:i>=H_e?5:i>=B_e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Lv(t,e,r*2):[l,c,d]}function cM(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Lv(e,t,r):Lv(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function uM(t,e,r){return e=+e,t=+t,r=+r,Lv(t,e,r)[2]}function dM(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?uM(e,t,r):uM(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function m9(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function p9(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aX(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?nX:$_e(a);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(r,Math.floor(e-d*m/c+g)),w=Math.min(n,Math.floor(e+(c-d)*m/c+g));aX(t,e,y,w,a)}const i=t[e];let o=r,l=n;for(Zm(t,r,e),a(t[n],i)>0&&Zm(t,r,n);o<l;){for(Zm(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Zm(t,r,l):(++l,Zm(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Zm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function z_e(t,e,r){if(t=Float64Array.from(D_e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return p9(t);if(e>=1)return m9(t);var n,a=(n-1)*e,i=Math.floor(a),o=m9(aX(t,i).subarray(0,i+1)),l=p9(t.subarray(i+1));return o+(l-o)*(a-i)}}function V_e(t,e,r=rX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function q_e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Rl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fM=Symbol("implicit");function ME(){var t=new f9,e=[],r=[],n=fM;function a(i){let o=t.get(i);if(o===void 0){if(n!==fM)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new f9;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ME(e,r).unknown(n)},vi.apply(a,arguments),a}function y0(){var t=ME().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var g=e().length,y=a<n,w=y?a:n,j=y?n:a;i=(j-w)/Math.max(1,g-c+d*2),l&&(i=Math.floor(i)),w+=(j-w-i*(g-c))*h,o=i*(1-c),l&&(w=Math.round(w),o=Math.round(o));var v=q_e(g).map(function(N){return w+i*N});return r(y?v.reverse():v)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return y0(e(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(h)},vi.apply(m(),arguments)}function sX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sX(e())},t}function Rp(){return sX(y0.apply(null,arguments).paddingInner(1))}function AE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function iX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gg(){}var b0=.7,$v=1/b0,Df="\\s*([+-]?\\d+)\\s*",v0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U_e=/^#([0-9a-f]{3,8})$/,W_e=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),G_e=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),Y_e=new RegExp(`^rgba\\(${Df},${Df},${Df},${v0}\\)$`),K_e=new RegExp(`^rgba\\(${go},${go},${go},${v0}\\)$`),X_e=new RegExp(`^hsl\\(${v0},${go},${go}\\)$`),J_e=new RegExp(`^hsla\\(${v0},${go},${go},${v0}\\)$`),g9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AE(gg,w0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:x9,formatHex:x9,formatHex8:Q_e,formatHsl:Z_e,formatRgb:y9,toString:y9});function x9(){return this.rgb().formatHex()}function Q_e(){return this.rgb().formatHex8()}function Z_e(){return oX(this).formatHsl()}function y9(){return this.rgb().formatRgb()}function w0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=U_e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?b9(e):r===3?new vs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?by(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?by(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W_e.exec(t))?new vs(e[1],e[2],e[3],1):(e=G_e.exec(t))?new vs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Y_e.exec(t))?by(e[1],e[2],e[3],e[4]):(e=K_e.exec(t))?by(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=X_e.exec(t))?j9(e[1],e[2]/100,e[3]/100,1):(e=J_e.exec(t))?j9(e[1],e[2]/100,e[3]/100,e[4]):g9.hasOwnProperty(t)?b9(g9[t]):t==="transparent"?new vs(NaN,NaN,NaN,0):null}function b9(t){return new vs(t>>16&255,t>>8&255,t&255,1)}function by(t,e,r,n){return n<=0&&(t=e=r=NaN),new vs(t,e,r,n)}function e5e(t){return t instanceof gg||(t=w0(t)),t?(t=t.rgb(),new vs(t.r,t.g,t.b,t.opacity)):new vs}function hM(t,e,r,n){return arguments.length===1?e5e(t):new vs(t,e,r,n??1)}function vs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}AE(vs,hM,iX(gg,{brighter(t){return t=t==null?$v:Math.pow($v,t),new vs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?b0:Math.pow(b0,t),new vs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vs(Vu(this.r),Vu(this.g),Vu(this.b),Fv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v9,formatHex:v9,formatHex8:t5e,formatRgb:w9,toString:w9}));function v9(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}`}function t5e(){return`#${Au(this.r)}${Au(this.g)}${Au(this.b)}${Au((isNaN(this.opacity)?1:this.opacity)*255)}`}function w9(){const t=Fv(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function Fv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Au(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function j9(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Pi(t,e,r,n)}function oX(t){if(t instanceof Pi)return new Pi(t.h,t.s,t.l,t.opacity);if(t instanceof gg||(t=w0(t)),!t)return new Pi;if(t instanceof Pi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Pi(o,l,c,t.opacity)}function r5e(t,e,r,n){return arguments.length===1?oX(t):new Pi(t,e,r,n??1)}function Pi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}AE(Pi,r5e,iX(gg,{brighter(t){return t=t==null?$v:Math.pow($v,t),new Pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?b0:Math.pow(b0,t),new Pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new vs(TT(t>=240?t-240:t+120,a,n),TT(t,a,n),TT(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Pi(S9(this.h),vy(this.s),vy(this.l),Fv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fv(this.opacity);return`${t===1?"hsl(":"hsla("}${S9(this.h)}, ${vy(this.s)*100}%, ${vy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function S9(t){return t=(t||0)%360,t<0?t+360:t}function vy(t){return Math.max(0,Math.min(1,t||0))}function TT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const OE=t=>()=>t;function n5e(t,e){return function(r){return t+r*e}}function a5e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function s5e(t){return(t=+t)==1?lX:function(e,r){return r-e?a5e(e,r,t):OE(isNaN(e)?r:e)}}function lX(t,e){var r=e-t;return r?n5e(t,r):OE(isNaN(t)?e:t)}const N9=(function t(e){var r=s5e(e);function n(a,i){var o=r((a=hM(a)).r,(i=hM(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=lX(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=c(h),a.opacity=d(h),a+""}}return n.gamma=t,n})(1);function i5e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function o5e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l5e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=zh(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function c5e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Hv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function u5e(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=zh(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_T=new RegExp(mM.source,"g");function d5e(t){return function(){return t}}function f5e(t){return function(e){return t(e)+""}}function h5e(t,e){var r=mM.lastIndex=_T.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=mM.exec(t))&&(a=_T.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Hv(n,a)})),r=_T.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?f5e(c[0].x):d5e(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function zh(t,e){var r=typeof e,n;return e==null||r==="boolean"?OE(e):(r==="number"?Hv:r==="string"?(n=w0(e))?(e=n,N9):h5e:e instanceof w0?N9:e instanceof Date?c5e:o5e(e)?i5e:Array.isArray(e)?l5e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?u5e:Hv)(t,e)}function EE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function m5e(t,e){e===void 0&&(e=t,t=zh);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function p5e(t){return function(){return t}}function Bv(t){return+t}var k9=[0,1];function Za(t){return t}function pM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:p5e(isNaN(e)?NaN:.5)}function g5e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function x5e(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=pM(a,n),i=r(o,i)):(n=pM(n,a),i=r(i,o)),function(l){return i(n(l))}}function y5e(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=pM(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=pg(t,l,1,n)-1;return i[c](a[c](l))}}function xg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function x1(){var t=k9,e=k9,r=zh,n,a,i,o=Za,l,c,d;function h(){var g=Math.min(t.length,e.length);return o!==Za&&(o=g5e(t[0],t[g-1])),l=g>2?y5e:x5e,c=d=null,m}function m(g){return g==null||isNaN(g=+g)?i:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(a((d||(d=l(e,t.map(n),Hv)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Bv),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=EE,h()},m.clamp=function(g){return arguments.length?(o=g?!0:Za,h()):o!==Za},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,y){return n=g,a=y,h()}}function DE(){return x1()(Za,Za)}function b5e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function lh(t){return t=zv(Math.abs(t)),t?t[1]:NaN}function v5e(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function w5e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var j5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function j0(t){if(!(e=j5e.exec(t)))throw new Error("invalid format: "+t);var e;return new PE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}j0.prototype=PE.prototype;function PE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S5e(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var cX;function N5e(t,e){var r=zv(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(cX=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+zv(t,Math.max(0,e+i-1))[0]}function C9(t,e){var r=zv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const T9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:b5e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>C9(t*100,e),r:C9,s:N5e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _9(t){return t}var M9=Array.prototype.map,A9=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k5e(t){var e=t.grouping===void 0||t.thousands===void 0?_9:v5e(M9.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?_9:w5e(M9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=j0(m);var g=m.fill,y=m.align,w=m.sign,j=m.symbol,v=m.zero,N=m.width,C=m.comma,S=m.precision,E=m.trim,T=m.type;T==="n"?(C=!0,T="g"):T9[T]||(S===void 0&&(S=12),E=!0,T="g"),(v||g==="0"&&y==="=")&&(v=!0,g="0",y="=");var A=j==="$"?r:j==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=j==="$"?n:/[%p]/.test(T)?o:"",D=T9[T],$=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L(I){var R=A,H=O,G,q,F;if(T==="c")H=D(I)+H,I="";else{I=+I;var P=I<0||1/I<0;if(I=isNaN(I)?c:D(Math.abs(I),S),E&&(I=S5e(I)),P&&+I==0&&w!=="+"&&(P=!1),R=(P?w==="("?w:l:w==="-"||w==="("?"":w)+R,H=(T==="s"?A9[8+cX/3]:"")+H+(P&&w==="("?")":""),$){for(G=-1,q=I.length;++G<q;)if(F=I.charCodeAt(G),48>F||F>57){H=(F===46?a+I.slice(G+1):I.slice(G))+H,I=I.slice(0,G);break}}}C&&!v&&(I=e(I,1/0));var B=R.length+I.length+H.length,K=B<N?new Array(N-B+1).join(g):"";switch(C&&v&&(I=e(K+I,K.length?N-H.length:1/0),K=""),y){case"<":I=R+I+H+K;break;case"=":I=R+K+I+H;break;case"^":I=K.slice(0,B=K.length>>1)+R+I+H+K.slice(B);break;default:I=K+R+I+H;break}return i(I)}return L.toString=function(){return m+""},L}function h(m,g){var y=d((m=j0(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(lh(g)/3)))*3,j=Math.pow(10,-w),v=A9[8+w/3];return function(N){return y(j*N)+v}}return{format:d,formatPrefix:h}}var wy,RE,uX;C5e({thousands:",",grouping:[3],currency:["$",""]});function C5e(t){return wy=k5e(t),RE=wy.format,uX=wy.formatPrefix,wy}function T5e(t){return Math.max(0,-lh(Math.abs(t)))}function _5e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lh(e)/3)))*3-lh(Math.abs(t)))}function M5e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lh(e)-lh(t))+1}function dX(t,e,r,n){var a=dM(t,e,r),i;switch(n=j0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=_5e(a,o))&&(n.precision=i),uX(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=M5e(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=T5e(a))&&(n.precision=i-(n.type==="%")*2);break}}return RE(n)}function Bc(t){var e=t.domain;return t.ticks=function(r){var n=e();return cM(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return dX(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);h-- >0;){if(d=uM(o,l,r),d===c)return n[a]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Vv(){var t=DE();return t.copy=function(){return xg(t,Vv())},vi.apply(t,arguments),Bc(t)}function fX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Bv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return fX(t).unknown(e)},t=arguments.length?Array.from(t,Bv):[0,1],Bc(r)}function hX(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function O9(t){return Math.log(t)}function E9(t){return Math.exp(t)}function A5e(t){return-Math.log(-t)}function O5e(t){return-Math.exp(-t)}function E5e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function D5e(t){return t===10?E5e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function P5e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function D9(t){return(e,r)=>-t(-e,r)}function IE(t){const e=t(O9,E9),r=e.domain;let n=10,a,i;function o(){return a=P5e(n),i=D5e(n),r()[0]<0?(a=D9(a),i=D9(i),t(A5e,O5e)):t(O9,E9),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=a(d),y=a(h),w,j;const v=l==null?10:+l;let N=[];if(!(n%1)&&y-g<v){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(w=1;w<n;++w)if(j=g<0?w/i(-g):w*i(g),!(j<d)){if(j>h)break;N.push(j)}}else for(;g<=y;++g)for(w=n-1;w>=1;--w)if(j=g>0?w/i(-g):w*i(g),!(j<d)){if(j>h)break;N.push(j)}N.length*2<v&&(N=cM(d,h,v))}else N=cM(g,y,Math.min(y-g,v)).map(i);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=j0(c)).precision==null&&(c.trim=!0),c=RE(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=d?c(h):""}},e.nice=()=>r(hX(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function mX(){const t=IE(x1()).domain([1,10]);return t.copy=()=>xg(t,mX()).base(t.base()),vi.apply(t,arguments),t}function P9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function R9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function LE(t){var e=1,r=t(P9(e),R9(e));return r.constant=function(n){return arguments.length?t(P9(e=+n),R9(e)):e},Bc(r)}function pX(){var t=LE(x1());return t.copy=function(){return xg(t,pX()).constant(t.constant())},vi.apply(t,arguments)}function I9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function R5e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function I5e(t){return t<0?-t*t:t*t}function $E(t){var e=t(Za,Za),r=1;function n(){return r===1?t(Za,Za):r===.5?t(R5e,I5e):t(I9(r),I9(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Bc(e)}function FE(){var t=$E(x1());return t.copy=function(){return xg(t,FE()).exponent(t.exponent())},vi.apply(t,arguments),t}function L5e(){return FE.apply(null,arguments).exponent(.5)}function L9(t){return Math.sign(t)*t*t}function $5e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gX(){var t=DE(),e=[0,1],r=!1,n;function a(i){var o=$5e(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(L9(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Bv)).map(L9)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return gX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},vi.apply(a,arguments),Bc(a)}function xX(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=V_e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[pg(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(_c),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return xX().domain(t).range(e).unknown(n)},vi.apply(i,arguments)}function yX(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[pg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yX().domain([t,e]).range(a).unknown(i)},vi.apply(Bc(o),arguments)}function bX(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[pg(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bX().domain(t).range(e).unknown(r)},vi.apply(a,arguments)}const MT=new Date,AT=new Date;function oa(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>oa(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(MT.setTime(+i),AT.setTime(+o),t(MT),t(AT),Math.floor(r(MT,AT))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const qv=oa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?oa(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):qv);qv.range;const sl=1e3,di=sl*60,il=di*60,kl=il*24,HE=kl*7,$9=kl*30,OT=kl*365,Ou=oa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getUTCSeconds());Ou.range;const BE=oa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getMinutes());BE.range;const zE=oa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCMinutes());zE.range;const VE=oa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl-t.getMinutes()*di)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getHours());VE.range;const qE=oa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getUTCHours());qE.range;const yg=oa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/kl,t=>t.getDate()-1);yg.range;const y1=oa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kl,t=>t.getUTCDate()-1);y1.range;const vX=oa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kl,t=>Math.floor(t/kl));vX.range;function hd(t){return oa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*di)/HE)}const b1=hd(0),Uv=hd(1),F5e=hd(2),H5e=hd(3),ch=hd(4),B5e=hd(5),z5e=hd(6);b1.range;Uv.range;F5e.range;H5e.range;ch.range;B5e.range;z5e.range;function md(t){return oa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/HE)}const v1=md(0),Wv=md(1),V5e=md(2),q5e=md(3),uh=md(4),U5e=md(5),W5e=md(6);v1.range;Wv.range;V5e.range;q5e.range;uh.range;U5e.range;W5e.range;const UE=oa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UE.range;const WE=oa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());WE.range;const Cl=oa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:oa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Cl.range;const Tl=oa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:oa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Tl.range;function wX(t,e,r,n,a,i){const o=[[Ou,1,sl],[Ou,5,5*sl],[Ou,15,15*sl],[Ou,30,30*sl],[i,1,di],[i,5,5*di],[i,15,15*di],[i,30,30*di],[a,1,il],[a,3,3*il],[a,6,6*il],[a,12,12*il],[n,1,kl],[n,2,2*kl],[r,1,HE],[e,1,$9],[e,3,3*$9],[t,1,OT]];function l(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:c(d,h,m),w=y?y.range(d,+h+1):[];return g?w.reverse():w}function c(d,h,m){const g=Math.abs(h-d)/m,y=_E(([,,v])=>v).right(o,g);if(y===o.length)return t.every(dM(d/OT,h/OT,m));if(y===0)return qv.every(Math.max(dM(d,h,m),1));const[w,j]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return w.every(j)}return[l,c]}const[G5e,Y5e]=wX(Tl,WE,v1,vX,qE,zE),[K5e,X5e]=wX(Cl,UE,b1,yg,VE,BE);function ET(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function DT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ep(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function J5e(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=tp(a),h=rp(a),m=tp(i),g=rp(i),y=tp(o),w=rp(o),j=tp(l),v=rp(l),N=tp(c),C=rp(c),S={a:P,A:B,b:K,B:te,c:null,d:q9,e:q9,f:vMe,g:AMe,G:EMe,H:xMe,I:yMe,j:bMe,L:jX,m:wMe,M:jMe,p:U,q:Q,Q:G9,s:Y9,S:SMe,u:NMe,U:kMe,V:CMe,w:TMe,W:_Me,x:null,X:null,y:MMe,Y:OMe,Z:DMe,"%":W9},E={a:ie,A:le,b:ce,B:ge,c:null,d:U9,e:U9,f:LMe,g:GMe,G:KMe,H:PMe,I:RMe,j:IMe,L:NX,m:$Me,M:FMe,p:$e,q:Oe,Q:G9,s:Y9,S:HMe,u:BMe,U:zMe,V:VMe,w:qMe,W:UMe,x:null,X:null,y:WMe,Y:YMe,Z:XMe,"%":W9},T={a:L,A:I,b:R,B:H,c:G,d:z9,e:z9,f:hMe,g:B9,G:H9,H:V9,I:V9,j:cMe,L:fMe,m:lMe,M:uMe,p:$,q:oMe,Q:pMe,s:gMe,S:dMe,u:rMe,U:nMe,V:aMe,w:tMe,W:sMe,x:q,X:F,y:B9,Y:H9,Z:iMe,"%":mMe};S.x=A(r,S),S.X=A(n,S),S.c=A(e,S),E.x=A(r,E),E.X=A(n,E),E.c=A(e,E);function A(xe,Ae){return function(Ve){var ee=[],ae=-1,Z=0,ve=xe.length,Ge,Ke,pe;for(Ve instanceof Date||(Ve=new Date(+Ve));++ae<ve;)xe.charCodeAt(ae)===37&&(ee.push(xe.slice(Z,ae)),(Ke=F9[Ge=xe.charAt(++ae)])!=null?Ge=xe.charAt(++ae):Ke=Ge==="e"?" ":"0",(pe=Ae[Ge])&&(Ge=pe(Ve,Ke)),ee.push(Ge),Z=ae+1);return ee.push(xe.slice(Z,ae)),ee.join("")}}function O(xe,Ae){return function(Ve){var ee=ep(1900,void 0,1),ae=D(ee,xe,Ve+="",0),Z,ve;if(ae!=Ve.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Ae&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Z=DT(ep(ee.y,0,1)),ve=Z.getUTCDay(),Z=ve>4||ve===0?Wv.ceil(Z):Wv(Z),Z=y1.offset(Z,(ee.V-1)*7),ee.y=Z.getUTCFullYear(),ee.m=Z.getUTCMonth(),ee.d=Z.getUTCDate()+(ee.w+6)%7):(Z=ET(ep(ee.y,0,1)),ve=Z.getDay(),Z=ve>4||ve===0?Uv.ceil(Z):Uv(Z),Z=yg.offset(Z,(ee.V-1)*7),ee.y=Z.getFullYear(),ee.m=Z.getMonth(),ee.d=Z.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ve="Z"in ee?DT(ep(ee.y,0,1)).getUTCDay():ET(ep(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ve+5)%7:ee.w+ee.U*7-(ve+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,DT(ee)):ET(ee)}}function D(xe,Ae,Ve,ee){for(var ae=0,Z=Ae.length,ve=Ve.length,Ge,Ke;ae<Z;){if(ee>=ve)return-1;if(Ge=Ae.charCodeAt(ae++),Ge===37){if(Ge=Ae.charAt(ae++),Ke=T[Ge in F9?Ae.charAt(ae++):Ge],!Ke||(ee=Ke(xe,Ve,ee))<0)return-1}else if(Ge!=Ve.charCodeAt(ee++))return-1}return ee}function $(xe,Ae,Ve){var ee=d.exec(Ae.slice(Ve));return ee?(xe.p=h.get(ee[0].toLowerCase()),Ve+ee[0].length):-1}function L(xe,Ae,Ve){var ee=y.exec(Ae.slice(Ve));return ee?(xe.w=w.get(ee[0].toLowerCase()),Ve+ee[0].length):-1}function I(xe,Ae,Ve){var ee=m.exec(Ae.slice(Ve));return ee?(xe.w=g.get(ee[0].toLowerCase()),Ve+ee[0].length):-1}function R(xe,Ae,Ve){var ee=N.exec(Ae.slice(Ve));return ee?(xe.m=C.get(ee[0].toLowerCase()),Ve+ee[0].length):-1}function H(xe,Ae,Ve){var ee=j.exec(Ae.slice(Ve));return ee?(xe.m=v.get(ee[0].toLowerCase()),Ve+ee[0].length):-1}function G(xe,Ae,Ve){return D(xe,e,Ae,Ve)}function q(xe,Ae,Ve){return D(xe,r,Ae,Ve)}function F(xe,Ae,Ve){return D(xe,n,Ae,Ve)}function P(xe){return o[xe.getDay()]}function B(xe){return i[xe.getDay()]}function K(xe){return c[xe.getMonth()]}function te(xe){return l[xe.getMonth()]}function U(xe){return a[+(xe.getHours()>=12)]}function Q(xe){return 1+~~(xe.getMonth()/3)}function ie(xe){return o[xe.getUTCDay()]}function le(xe){return i[xe.getUTCDay()]}function ce(xe){return c[xe.getUTCMonth()]}function ge(xe){return l[xe.getUTCMonth()]}function $e(xe){return a[+(xe.getUTCHours()>=12)]}function Oe(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Ae=A(xe+="",S);return Ae.toString=function(){return xe},Ae},parse:function(xe){var Ae=O(xe+="",!1);return Ae.toString=function(){return xe},Ae},utcFormat:function(xe){var Ae=A(xe+="",E);return Ae.toString=function(){return xe},Ae},utcParse:function(xe){var Ae=O(xe+="",!0);return Ae.toString=function(){return xe},Ae}}}var F9={"-":"",_:" ",0:"0"},ba=/^\s*\d+/,Q5e=/^%/,Z5e=/[\\^$*+?|[\]().{}]/g;function Er(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function eMe(t){return t.replace(Z5e,"\\$&")}function tp(t){return new RegExp("^(?:"+t.map(eMe).join("|")+")","i")}function rp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tMe(t,e,r){var n=ba.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rMe(t,e,r){var n=ba.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nMe(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function aMe(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function sMe(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function H9(t,e,r){var n=ba.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function B9(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iMe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oMe(t,e,r){var n=ba.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lMe(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function z9(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cMe(t,e,r){var n=ba.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function V9(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uMe(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dMe(t,e,r){var n=ba.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function fMe(t,e,r){var n=ba.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hMe(t,e,r){var n=ba.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mMe(t,e,r){var n=Q5e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pMe(t,e,r){var n=ba.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gMe(t,e,r){var n=ba.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function q9(t,e){return Er(t.getDate(),e,2)}function xMe(t,e){return Er(t.getHours(),e,2)}function yMe(t,e){return Er(t.getHours()%12||12,e,2)}function bMe(t,e){return Er(1+yg.count(Cl(t),t),e,3)}function jX(t,e){return Er(t.getMilliseconds(),e,3)}function vMe(t,e){return jX(t,e)+"000"}function wMe(t,e){return Er(t.getMonth()+1,e,2)}function jMe(t,e){return Er(t.getMinutes(),e,2)}function SMe(t,e){return Er(t.getSeconds(),e,2)}function NMe(t){var e=t.getDay();return e===0?7:e}function kMe(t,e){return Er(b1.count(Cl(t)-1,t),e,2)}function SX(t){var e=t.getDay();return e>=4||e===0?ch(t):ch.ceil(t)}function CMe(t,e){return t=SX(t),Er(ch.count(Cl(t),t)+(Cl(t).getDay()===4),e,2)}function TMe(t){return t.getDay()}function _Me(t,e){return Er(Uv.count(Cl(t)-1,t),e,2)}function MMe(t,e){return Er(t.getFullYear()%100,e,2)}function AMe(t,e){return t=SX(t),Er(t.getFullYear()%100,e,2)}function OMe(t,e){return Er(t.getFullYear()%1e4,e,4)}function EMe(t,e){var r=t.getDay();return t=r>=4||r===0?ch(t):ch.ceil(t),Er(t.getFullYear()%1e4,e,4)}function DMe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Er(e/60|0,"0",2)+Er(e%60,"0",2)}function U9(t,e){return Er(t.getUTCDate(),e,2)}function PMe(t,e){return Er(t.getUTCHours(),e,2)}function RMe(t,e){return Er(t.getUTCHours()%12||12,e,2)}function IMe(t,e){return Er(1+y1.count(Tl(t),t),e,3)}function NX(t,e){return Er(t.getUTCMilliseconds(),e,3)}function LMe(t,e){return NX(t,e)+"000"}function $Me(t,e){return Er(t.getUTCMonth()+1,e,2)}function FMe(t,e){return Er(t.getUTCMinutes(),e,2)}function HMe(t,e){return Er(t.getUTCSeconds(),e,2)}function BMe(t){var e=t.getUTCDay();return e===0?7:e}function zMe(t,e){return Er(v1.count(Tl(t)-1,t),e,2)}function kX(t){var e=t.getUTCDay();return e>=4||e===0?uh(t):uh.ceil(t)}function VMe(t,e){return t=kX(t),Er(uh.count(Tl(t),t)+(Tl(t).getUTCDay()===4),e,2)}function qMe(t){return t.getUTCDay()}function UMe(t,e){return Er(Wv.count(Tl(t)-1,t),e,2)}function WMe(t,e){return Er(t.getUTCFullYear()%100,e,2)}function GMe(t,e){return t=kX(t),Er(t.getUTCFullYear()%100,e,2)}function YMe(t,e){return Er(t.getUTCFullYear()%1e4,e,4)}function KMe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?uh(t):uh.ceil(t),Er(t.getUTCFullYear()%1e4,e,4)}function XMe(){return"+0000"}function W9(){return"%"}function G9(t){return+t}function Y9(t){return Math.floor(+t/1e3)}var tf,CX,TX;JMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JMe(t){return tf=J5e(t),CX=tf.format,tf.parse,TX=tf.utcFormat,tf.utcParse,tf}function QMe(t){return new Date(t)}function ZMe(t){return t instanceof Date?+t:+new Date(+t)}function GE(t,e,r,n,a,i,o,l,c,d){var h=DE(),m=h.invert,g=h.domain,y=d(".%L"),w=d(":%S"),j=d("%I:%M"),v=d("%I %p"),N=d("%a %d"),C=d("%b %d"),S=d("%B"),E=d("%Y");function T(A){return(c(A)<A?y:l(A)<A?w:o(A)<A?j:i(A)<A?v:n(A)<A?a(A)<A?N:C:r(A)<A?S:E)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?g(Array.from(A,ZMe)):g().map(QMe)},h.ticks=function(A){var O=g();return t(O[0],O[O.length-1],A??10)},h.tickFormat=function(A,O){return O==null?T:d(O)},h.nice=function(A){var O=g();return(!A||typeof A.range!="function")&&(A=e(O[0],O[O.length-1],A??10)),A?g(hX(O,A)):h},h.copy=function(){return xg(h,GE(t,e,r,n,a,i,o,l,c,d))},h}function eAe(){return vi.apply(GE(K5e,X5e,Cl,UE,b1,yg,VE,BE,Ou,CX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tAe(){return vi.apply(GE(G5e,Y5e,Tl,WE,v1,y1,qE,zE,Ou,TX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w1(){var t=0,e=1,r,n,a,i,o=Za,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(i(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(g){var y,w;return arguments.length?([y,w]=g,o=m(y,w),d):[o(0),o(1)]}}return d.range=h(zh),d.rangeRound=h(EE),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),d}}function zc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _X(){var t=Bc(w1()(Za));return t.copy=function(){return zc(t,_X())},Rl.apply(t,arguments)}function MX(){var t=IE(w1()).domain([1,10]);return t.copy=function(){return zc(t,MX()).base(t.base())},Rl.apply(t,arguments)}function AX(){var t=LE(w1());return t.copy=function(){return zc(t,AX()).constant(t.constant())},Rl.apply(t,arguments)}function YE(){var t=$E(w1());return t.copy=function(){return zc(t,YE()).exponent(t.exponent())},Rl.apply(t,arguments)}function rAe(){return YE.apply(null,arguments).exponent(.5)}function OX(){var t=[],e=Za;function r(n){if(n!=null&&!isNaN(n=+n))return e((pg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(_c),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>z_e(t,i/n))},r.copy=function(){return OX(e).domain(t)},Rl.apply(r,arguments)}function j1(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,d=Za,h,m=!1,g;function y(j){return isNaN(j=+j)?g:(j=.5+((j=+h(j))-i)*(n*j<n*i?l:c),d(m?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([t,e,r]=j,a=h(t=+t),i=h(e=+e),o=h(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,y):[t,e,r]},y.clamp=function(j){return arguments.length?(m=!!j,y):m},y.interpolator=function(j){return arguments.length?(d=j,y):d};function w(j){return function(v){var N,C,S;return arguments.length?([N,C,S]=v,d=m5e(j,[N,C,S]),y):[d(0),d(.5),d(1)]}}return y.range=w(zh),y.rangeRound=w(EE),y.unknown=function(j){return arguments.length?(g=j,y):g},function(j){return h=j,a=j(t),i=j(e),o=j(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,y}}function EX(){var t=Bc(j1()(Za));return t.copy=function(){return zc(t,EX())},Rl.apply(t,arguments)}function DX(){var t=IE(j1()).domain([.1,1,10]);return t.copy=function(){return zc(t,DX()).base(t.base())},Rl.apply(t,arguments)}function PX(){var t=LE(j1());return t.copy=function(){return zc(t,PX()).constant(t.constant())},Rl.apply(t,arguments)}function KE(){var t=$E(j1());return t.copy=function(){return zc(t,KE()).exponent(t.exponent())},Rl.apply(t,arguments)}function nAe(){return KE.apply(null,arguments).exponent(.5)}const K9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:y0,scaleDiverging:EX,scaleDivergingLog:DX,scaleDivergingPow:KE,scaleDivergingSqrt:nAe,scaleDivergingSymlog:PX,scaleIdentity:fX,scaleImplicit:fM,scaleLinear:Vv,scaleLog:mX,scaleOrdinal:ME,scalePoint:Rp,scalePow:FE,scaleQuantile:xX,scaleQuantize:yX,scaleRadial:gX,scaleSequential:_X,scaleSequentialLog:MX,scaleSequentialPow:YE,scaleSequentialQuantile:OX,scaleSequentialSqrt:rAe,scaleSequentialSymlog:AX,scaleSqrt:L5e,scaleSymlog:pX,scaleThreshold:bX,scaleTime:eAe,scaleUtc:tAe,tickFormat:dX},Symbol.toStringTag,{value:"Module"}));var PT,X9;function S1(){if(X9)return PT;X9=1;var t=Lh();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,h=l}return h}return PT=e,PT}var RT,J9;function RX(){if(J9)return RT;J9=1;function t(e,r){return e>r}return RT=t,RT}var IT,Q9;function aAe(){if(Q9)return IT;Q9=1;var t=S1(),e=RX(),r=Hh();function n(a){return a&&a.length?t(a,r,e):void 0}return IT=n,IT}var sAe=aAe();const N1=Dr(sAe);var LT,Z9;function IX(){if(Z9)return LT;Z9=1;function t(e,r){return e<r}return LT=t,LT}var $T,eH;function iAe(){if(eH)return $T;eH=1;var t=S1(),e=IX(),r=Hh();function n(a){return a&&a.length?t(a,r,e):void 0}return $T=n,$T}var oAe=iAe();const k1=Dr(oAe);var FT,tH;function lAe(){if(tH)return FT;tH=1;var t=dE(),e=Ao(),r=qK(),n=Ss();function a(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return FT=a,FT}var HT,rH;function cAe(){if(rH)return HT;rH=1;var t=zK(),e=lAe();function r(n,a){return t(e(n,a),1)}return HT=r,HT}var uAe=cAe();const dAe=Dr(uAe);var BT,nH;function fAe(){if(nH)return BT;nH=1;var t=NE();function e(r,n){return t(r,n)}return BT=e,BT}var hAe=fAe();const bg=Dr(hAe);var Vh=1e9,mAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JE,xn=!0,yi="[DecimalError] ",qu=yi+"Invalid argument: ",XE=yi+"Exponent out of range: ",qh=Math.floor,xu=Math.pow,pAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Is,ua=1e7,fn=7,LX=9007199254740991,Gv=qh(LX/fn),At={};At.absoluteValue=At.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};At.comparedTo=At.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};At.decimalPlaces=At.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*fn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};At.dividedBy=At.div=function(t){return yl(this,new this.constructor(t))};At.dividedToIntegerBy=At.idiv=function(t){var e=this,r=e.constructor;return nn(yl(e,new r(t),0,1),r.precision)};At.equals=At.eq=function(t){return!this.cmp(t)};At.exponent=function(){return Xn(this)};At.greaterThan=At.gt=function(t){return this.cmp(t)>0};At.greaterThanOrEqualTo=At.gte=function(t){return this.cmp(t)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(t){return this.cmp(t)<0};At.lessThanOrEqualTo=At.lte=function(t){return this.cmp(t)<1};At.logarithm=At.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Is))throw Error(yi+"NaN");if(r.s<1)throw Error(yi+(r.s?"NaN":"-Infinity"));return r.eq(Is)?new n(0):(xn=!1,e=yl(S0(r,i),S0(t,i),i),xn=!0,nn(e,a))};At.minus=At.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HX(e,t):$X(e,(t.s=-t.s,t))};At.modulo=At.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(yi+"NaN");return r.s?(xn=!1,e=yl(r,t,0,1).times(t),xn=!0,r.minus(e)):nn(new n(r),a)};At.naturalExponential=At.exp=function(){return FX(this)};At.naturalLogarithm=At.ln=function(){return S0(this)};At.negated=At.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};At.plus=At.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$X(e,t):HX(e,(t.s=-t.s,t))};At.precision=At.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qu+t);if(e=Xn(a)+1,n=a.d.length-1,r=n*fn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};At.squareRoot=At.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(yi+"NaN")}for(t=Xn(l),xn=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=co(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=qh((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(yl(l,i,o+2)).times(.5),co(i.d).slice(0,o)===(e=co(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(nn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return xn=!0,nn(n,r)};At.times=At.mul=function(t){var e,r,n,a,i,o,l,c,d,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=g.length,d=y.length,c<d&&(i=g,g=y,y=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+y[n]*g[a-n-1]+e,i[a--]=l%ua|0,e=l/ua|0;i[a]=(i[a]+e)%ua|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,xn?nn(t,m.precision):t};At.toDecimalPlaces=At.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(No(t,0,Vh),e===void 0?e=n.rounding:No(e,0,8),nn(r,t+Xn(r)+1,e))};At.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ad(n,!0):(No(t,0,Vh),e===void 0?e=a.rounding:No(e,0,8),n=nn(new a(n),t+1,e),r=ad(n,!0,t+1)),r};At.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ad(a):(No(t,0,Vh),e===void 0?e=i.rounding:No(e,0,8),n=nn(new i(a),t+Xn(a)+1,e),r=ad(n.abs(),!1,t+Xn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};At.toInteger=At.toint=function(){var t=this,e=t.constructor;return nn(new e(t),Xn(t)+1,e.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(Is);if(l=new c(l),!l.s){if(t.s<1)throw Error(yi+"Infinity");return l}if(l.eq(Is))return l;if(n=c.precision,t.eq(Is))return nn(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=h<0?-h:h)<=LX){for(a=new c(Is),e=Math.ceil(n/fn+4),xn=!1;r%2&&(a=a.times(l),sH(a.d,e)),r=qh(r/2),r!==0;)l=l.times(l),sH(l.d,e);return xn=!0,t.s<0?new c(Is).div(a):nn(a,n)}}else if(i<0)throw Error(yi+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,xn=!1,a=t.times(S0(l,n+d)),xn=!0,a=FX(a),a.s=i,a};At.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Xn(a),n=ad(a,r<=i.toExpNeg||r>=i.toExpPos)):(No(t,1,Vh),e===void 0?e=i.rounding:No(e,0,8),a=nn(new i(a),t,e),r=Xn(a),n=ad(a,t<=r||r<=i.toExpNeg,t)),n};At.toSignificantDigits=At.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(No(t,1,Vh),e===void 0?e=n.rounding:No(e,0,8)),nn(new n(r),t,e)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xn(t),r=t.constructor;return ad(t,e<=r.toExpNeg||e>=r.toExpPos)};function $X(t,e){var r,n,a,i,o,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),xn?nn(e,m):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(m/fn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ua|0,c[i]%=ua;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,xn?nn(e,m):e}function No(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qu+t)}function co(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=fn-n.length,r&&(i+=hc(r)),i+=n;o=t[e],n=o+"",r=fn-n.length,r&&(i+=hc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yl=(function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ua|0,o=i/ua|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ua+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,h,m,g,y,w,j,v,N,C,S,E,T,A,O,D,$=n.constructor,L=n.s==a.s?1:-1,I=n.d,R=a.d;if(!n.s)return new $(n);if(!a.s)throw Error(yi+"Division by zero");for(c=n.e-a.e,O=R.length,T=I.length,y=new $(L),w=y.d=[],d=0;R[d]==(I[d]||0);)++d;if(R[d]>(I[d]||0)&&--c,i==null?C=i=$.precision:o?C=i+(Xn(n)-Xn(a))+1:C=i,C<0)return new $(0);if(C=C/fn+2|0,d=0,O==1)for(h=0,R=R[0],C++;(d<T||h)&&C--;d++)S=h*ua+(I[d]||0),w[d]=S/R|0,h=S%R|0;else{for(h=ua/(R[0]+1)|0,h>1&&(R=t(R,h),I=t(I,h),O=R.length,T=I.length),E=O,j=I.slice(0,O),v=j.length;v<O;)j[v++]=0;D=R.slice(),D.unshift(0),A=R[0],R[1]>=ua/2&&++A;do h=0,l=e(R,j,O,v),l<0?(N=j[0],O!=v&&(N=N*ua+(j[1]||0)),h=N/A|0,h>1?(h>=ua&&(h=ua-1),m=t(R,h),g=m.length,v=j.length,l=e(m,j,g,v),l==1&&(h--,r(m,O<g?D:R,g))):(h==0&&(l=h=1),m=R.slice()),g=m.length,g<v&&m.unshift(0),r(j,m,v),l==-1&&(v=j.length,l=e(R,j,O,v),l<1&&(h++,r(j,O<v?D:R,v))),v=j.length):l===0&&(h++,j=[0]),w[d++]=h,l&&j[0]?j[v++]=I[E]||0:(j=[I[E]],v=1);while((E++<T||j[0]!==void 0)&&C--)}return w[0]||w.shift(),y.e=c,nn(y,o?i+Xn(y)+1:i)}})();function FX(t,e){var r,n,a,i,o,l,c=0,d=0,h=t.constructor,m=h.precision;if(Xn(t)>16)throw Error(XE+Xn(t));if(!t.s)return new h(Is);for(xn=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(xu(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new h(Is),h.precision=l;;){if(a=nn(a.times(t),l),r=r.times(++c),o=i.plus(yl(a,r,l)),co(o.d).slice(0,l)===co(i.d).slice(0,l)){for(;d--;)i=nn(i.times(i),l);return h.precision=m,e==null?(xn=!0,nn(i,m)):i}i=o}}function Xn(t){for(var e=t.e*fn,r=t.d[0];r>=10;r/=10)e++;return e}function zT(t,e,r){if(e>t.LN10.sd())throw xn=!0,r&&(t.precision=r),Error(yi+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function hc(t){for(var e="";t--;)e+="0";return e}function S0(t,e){var r,n,a,i,o,l,c,d,h,m=1,g=10,y=t,w=y.d,j=y.constructor,v=j.precision;if(y.s<1)throw Error(yi+(y.s?"NaN":"-Infinity"));if(y.eq(Is))return new j(0);if(e==null?(xn=!1,d=v):d=e,y.eq(10))return e==null&&(xn=!0),zT(j,d);if(d+=g,j.precision=d,r=co(w),n=r.charAt(0),i=Xn(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=co(y.d),n=r.charAt(0),m++;i=Xn(y),n>1?(y=new j("0."+r),i++):y=new j(n+"."+r.slice(1))}else return c=zT(j,d+2,v).times(i+""),y=S0(new j(n+"."+r.slice(1)),d-g).plus(c),j.precision=v,e==null?(xn=!0,nn(y,v)):y;for(l=o=y=yl(y.minus(Is),y.plus(Is),d),h=nn(y.times(y),d),a=3;;){if(o=nn(o.times(h),d),c=l.plus(yl(o,new j(a),d)),co(c.d).slice(0,d)===co(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(zT(j,d+2,v).times(i+""))),l=yl(l,new j(m),d),j.precision=v,e==null?(xn=!0,nn(l,v)):l;l=c,a+=2}}function aH(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=qh(r/fn),t.d=[],n=(r+1)%fn,r<0&&(n+=fn),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=fn;n<a;)t.d.push(+e.slice(n,n+=fn));e=e.slice(n),n=fn-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),xn&&(t.e>Gv||t.e<-Gv))throw Error(XE+r)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,r){var n,a,i,o,l,c,d,h,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=fn,a=e,d=m[h=0];else{if(h=Math.ceil((n+1)/fn),i=m.length,h>=i)return t;for(d=i=m[h],o=1;i>=10;i/=10)o++;n%=fn,a=n-fn+o}if(r!==void 0&&(i=xu(10,o-a-1),l=d/i%10|0,c=e<0||m[h+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/xu(10,o-a):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(i=Xn(t),m.length=1,e=e-i-1,m[0]=xu(10,(fn-e%fn)%fn),t.e=qh(-e/fn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=xu(10,fn-n),m[h]=a>0?(d/xu(10,o-a)%xu(10,a)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==ua&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=ua)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(xn&&(t.e>Gv||t.e<-Gv))throw Error(XE+Xn(t));return t}function HX(t,e){var r,n,a,i,o,l,c,d,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),xn?nn(e,y):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(h=o<0,h?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),a=Math.max(Math.ceil(y/fn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=m.length,h=a<l,h&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){h=c[a]<m[a];break}o=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=ua-1;--c[i],c[a]+=ua}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,xn?nn(e,y):e):new g(0)}function ad(t,e,r){var n,a=Xn(t),i=co(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+hc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+hc(-a-1)+i,r&&(n=r-o)>0&&(i+=hc(n))):a>=o?(i+=hc(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+hc(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=hc(n))),t.s<0?"-"+i:i}function sH(t,e){if(t.length>e)return t.length=e,!0}function BX(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return aH(o,i.toString())}else if(typeof i!="string")throw Error(qu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pAe.test(i))aH(o,i);else throw Error(qu+i)}if(a.prototype=At,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=BX,a.config=a.set=gAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function gAe(t){if(!t||typeof t!="object")throw Error(yi+"Object expected");var e,r,n,a=["precision",1,Vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(qh(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(qu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qu+r+": "+n);return this}var JE=BX(mAe);Is=new JE(1);const Qr=JE;function xAe(t){return wAe(t)||vAe(t)||bAe(t)||yAe()}function yAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bAe(t,e){if(t){if(typeof t=="string")return gM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gM(t,e)}}function vAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wAe(t){if(Array.isArray(t))return gM(t)}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jAe=function(e){return e},zX={},VX=function(e){return e===zX},iH=function(e){return function r(){return arguments.length===0||arguments.length===1&&VX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},SAe=function t(e,r){return e===1?r:iH(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==zX}).length;return o>=e?r.apply(void 0,a):t(e-o,iH(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=a.map(function(m){return VX(m)?c.shift():m});return r.apply(void 0,xAe(h).concat(c))}))})},C1=function(e){return SAe(e.length,e)},xM=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},NAe=C1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),kAe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return jAe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},yM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qX=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function CAe(t){var e;return t===0?e=1:e=Math.floor(new Qr(t).abs().log(10).toNumber())+1,e}function TAe(t,e,r){for(var n=new Qr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _Ae=C1(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),MAe=C1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),AAe=C1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const T1={rangeStep:TAe,getDigitCount:CAe,interpolateNumber:_Ae,uninterpolateNumber:MAe,uninterpolateTruncation:AAe};function bM(t){return DAe(t)||EAe(t)||UX(t)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function DAe(t){if(Array.isArray(t))return vM(t)}function N0(t,e){return IAe(t)||RAe(t,e)||UX(t,e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(t,e){if(t){if(typeof t=="string")return vM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vM(t,e)}}function vM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RAe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function IAe(t){if(Array.isArray(t))return t}function WX(t){var e=N0(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function GX(t,e,r){if(t.lte(0))return new Qr(0);var n=T1.getDigitCount(t.toNumber()),a=new Qr(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new Qr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Qr(Math.ceil(c))}function LAe(t,e,r){var n=1,a=new Qr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Qr(10).pow(T1.getDigitCount(t)-1),a=new Qr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Qr(Math.floor(t)))}else t===0?a=new Qr(Math.floor((e-1)/2)):r||(a=new Qr(Math.floor(t)));var o=Math.floor((e-1)/2),l=kAe(NAe(function(c){return a.add(new Qr(c-o).mul(n)).toNumber()}),xM);return l(0,e)}function YX(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qr(0),tickMin:new Qr(0),tickMax:new Qr(0)};var i=GX(new Qr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Qr(0):(o=new Qr(t).add(e).div(2),o=o.sub(new Qr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Qr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?YX(t,e,r,n,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Qr(l).mul(i)),tickMax:o.add(new Qr(c).mul(i))})}function $Ae(t){var e=N0(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=WX([r,n]),c=N0(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(bM(xM(0,a-1).map(function(){return 1/0}))):[].concat(bM(xM(0,a-1).map(function(){return-1/0})),[h]);return r>n?yM(m):m}if(d===h)return LAe(d,a,i);var g=YX(d,h,o,i),y=g.step,w=g.tickMin,j=g.tickMax,v=T1.rangeStep(w,j.add(new Qr(.1).mul(y)),y);return r>n?yM(v):v}function FAe(t,e){var r=N0(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WX([n,a]),l=N0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var h=Math.max(e,2),m=GX(new Qr(d).sub(c).div(h-1),i,0),g=[].concat(bM(T1.rangeStep(new Qr(c),new Qr(d).sub(new Qr(.99).mul(m)),m)),[d]);return n>a?yM(g):g}var HAe=qX($Ae),BAe=qX(FAe),zAe="Invariant failed";function sd(t,e){throw new Error(zAe)}var VAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}function qAe(t,e){return YAe(t)||GAe(t,e)||WAe(t,e)||UAe()}function UAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WAe(t,e){if(t){if(typeof t=="string")return oH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oH(t,e)}}function oH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function YAe(t){if(Array.isArray(t))return t}function KAe(t,e){if(t==null)return{};var r=XAe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JX(n.key),n)}}function ZAe(t,e,r){return e&&QAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eOe(t,e,r){return e=Kv(e),tOe(t,KX()?Reflect.construct(e,r||[],Kv(t).constructor):e.apply(t,r))}function tOe(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(t)}function rOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(t)}function nOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wM(t,e)}function wM(t,e){return wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wM(t,e)}function XX(t,e,r){return e=JX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JX(t){var e=aOe(t,"string");return dh(e)=="symbol"?e:e+""}function aOe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vg=(function(t){function e(){return JAe(this,e),eOe(this,e,arguments)}return nOe(e,t),ZAe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,g=KAe(n,VAe),y=Wt(g,!1);this.props.direction==="x"&&h.type!=="number"&&sd();var w=c.map(function(j){var v=d(j,l),N=v.x,C=v.y,S=v.value,E=v.errorVal;if(!E)return null;var T=[],A,O;if(Array.isArray(E)){var D=qAe(E,2);A=D[0],O=D[1]}else A=O=E;if(i==="vertical"){var $=h.scale,L=C+a,I=L+o,R=L-o,H=$(S-A),G=$(S+O);T.push({x1:G,y1:I,x2:G,y2:R}),T.push({x1:H,y1:L,x2:G,y2:L}),T.push({x1:H,y1:I,x2:H,y2:R})}else if(i==="horizontal"){var q=m.scale,F=N+a,P=F-o,B=F+o,K=q(S-A),te=q(S+O);T.push({x1:P,y1:te,x2:B,y2:te}),T.push({x1:F,y1:K,x2:F,y2:te}),T.push({x1:P,y1:K,x2:B,y2:K})}return X.createElement(Ar,Yv({className:"recharts-errorBar",key:"bar-".concat(T.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},y),T.map(function(U){return X.createElement("line",Yv({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return X.createElement(Ar,{className:"recharts-errorBars"},w)}}])})(X.Component);XX(vg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XX(vg,"displayName","ErrorBar");function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function lH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lH(Object(r),!0).forEach(function(n){sOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sOe(t,e,r){return e=iOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iOe(t){var e=oOe(t,"string");return k0(e)=="symbol"?e:e+""}function oOe(t,e){if(k0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QX=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Ds(r,po);if(!o)return null;var l=po.defaultProps,c=l!==void 0?uu(uu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(h,m){var g=m.item,y=m.props,w=y.sectors||y.data||[];return h.concat(w.map(function(j){return{type:o.props.iconType||g.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):d=(n||[]).map(function(h){var m=h.item,g=m.type.defaultProps,y=g!==void 0?uu(uu({},g),m.props):{},w=y.dataKey,j=y.name,v=y.legendType,N=y.hide;return{inactive:N,dataKey:w,type:c.iconType||v||"square",color:QE(m),value:j||w,payload:y}}),uu(uu(uu({},c),po.getWithHeight(o,a)),{},{payload:d,item:o})};function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function cH(t){return dOe(t)||uOe(t)||cOe(t)||lOe()}function lOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cOe(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function uOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dOe(t){if(Array.isArray(t))return jM(t)}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uH(Object(r),!0).forEach(function(n){Pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pf(t,e,r){return e=fOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fOe(t){var e=hOe(t,"string");return C0(e)=="symbol"?e:e+""}function hOe(t,e){if(C0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aa(t,e,r){return tr(t)||tr(e)?r:sa(e)?Hs(t,e,r):Jt(e)?e(t):r}function Ip(t,e,r,n){var a=dAe(t,function(l){return aa(l,e)});if(r==="number"){var i=a.filter(function(l){return yt(l)||parseFloat(l)});return i.length?[k1(i),N1(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!tr(l)}):a;return o.map(function(l){return sa(l)||l instanceof Date?l:""})}var mOe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var h=d>0?a[d-1].coordinate:a[l-1].coordinate,m=a[d].coordinate,g=d>=l-1?a[0].coordinate:a[d+1].coordinate,y=void 0;if(Ja(m-h)!==Ja(g-m)){var w=[];if(Ja(g-m)===Ja(c[1]-c[0])){y=g;var j=m+c[1]-c[0];w[0]=Math.min(j,(j+h)/2),w[1]=Math.max(j,(j+h)/2)}else{y=h;var v=g+c[1]-c[0];w[0]=Math.min(m,(v+m)/2),w[1]=Math.max(m,(v+m)/2)}var N=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>N[0]&&e<=N[1]||e>=w[0]&&e<=w[1]){o=a[d].index;break}}else{var C=Math.min(h,g),S=Math.max(h,g);if(e>(C+m)/2&&e<=(S+m)/2){o=a[d].index;break}}}else for(var E=0;E<l;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},QE=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_n(_n({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},pOe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var h=i[l[c]].stackGroups,m=Object.keys(h),g=0,y=m.length;g<y;g++){var w=h[m[g]],j=w.items,v=w.cateAxisId,N=j.filter(function(O){return xl(O.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,S=C!==void 0?_n(_n({},C),N[0].props):N[0].props,E=S.barSize,T=S[v];o[T]||(o[T]=[]);var A=tr(E)?r:E;o[T].push({item:N[0],stackList:N.slice(1),barSize:tr(A)?void 0:Qa(A,n,0)})}}return o},gOe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Qa(r,a,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,y=a/c,w=o.reduce(function(E,T){return E+T.barSize||0},0);w+=(c-1)*d,w>=a&&(w-=(c-1)*d,d=0),w>=a&&y>0&&(g=!0,y*=.9,w=c*y);var j=(a-w)/2>>0,v={offset:j-d,size:0};h=o.reduce(function(E,T){var A={item:T.item,position:{offset:v.offset+v.size+d,size:g?y:T.barSize}},O=[].concat(cH(E),[A]);return v=O[O.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(D){O.push({item:D,position:v})}),O},m)}else{var N=Qa(n,a,0,!0);a-2*N-(c-1)*d<=0&&(d=0);var C=(a-2*N-(c-1)*d)/c;C>1&&(C>>=0);var S=l===+l?Math.min(C,l):C;h=o.reduce(function(E,T,A){var O=[].concat(cH(E),[{item:T.item,position:{offset:N+(C+d)*A+(C-S)/2,size:S}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},m)}return h},xOe=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=QX({children:i,legendWidth:c});if(d){var h=a||{},m=h.width,g=h.height,y=d.align,w=d.verticalAlign,j=d.layout;if((j==="vertical"||j==="horizontal"&&w==="middle")&&y!=="center"&&yt(e[y]))return _n(_n({},e),{},Pf({},y,e[y]+(m||0)));if((j==="horizontal"||j==="vertical"&&y==="center")&&w!=="middle"&&yt(e[w]))return _n(_n({},e),{},Pf({},w,e[w]+(g||0)))}return e},yOe=function(e,r,n){return tr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ZX=function(e,r,n,a,i){var o=r.props.children,l=Bs(o,vg).filter(function(d){return yOe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=aa(h,n);if(tr(m))return d;var g=Array.isArray(m)?[k1(m),N1(m)]:[m,m],y=c.reduce(function(w,j){var v=aa(h,j,0),N=g[0]-Math.abs(Array.isArray(v)?v[0]:v),C=g[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},bOe=function(e,r,n,a,i){var o=r.map(function(l){return ZX(e,l,n,i,a)}).filter(function(l){return!tr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},eJ=function(e,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&ZX(e,c,d,a)||Ip(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},tJ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},rJ=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ol=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ja(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:a(g)+d,value:m,offset:d}});return h.filter(function(m){return!hg(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:a(m)+d,value:m,index:g,offset:d}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,g){return{coordinate:a(m)+d,value:i?i[m]:m,index:g,offset:d}})},VT=new WeakMap,jy=function(e,r){if(typeof r!="function")return e;VT.has(e)||VT.set(e,new WeakMap);var n=VT.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},nJ=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:y0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Vv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Rp(),realScaleType:"point"}:i==="category"?{scale:y0(),realScaleType:"band"}:{scale:Vv(),realScaleType:"linear"};if(td(a)){var c="scale".concat(u1(a));return{scale:(K9[c]||Rp)(),realScaleType:K9[c]?c:"point"}}return Jt(a)?{scale:a}:{scale:Rp(),realScaleType:"point"}},dH=1e-4,aJ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-dH,o=Math.max(a[0],a[1])+dH,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},vOe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},wOe=function(e,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!yt(e[0])||e[0]<n)&&(i[0]=n),(!yt(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},jOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=hg(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},SOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=hg(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},NOe={sign:jOe,expand:dke,none:nh,silhouette:fke,wiggle:hke,positive:SOe},kOe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=NOe[n],o=uke().keys(a).value(function(l,c){return+aa(l,c,0)}).order(Q5).offset(i);return o(e)},COe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,g){var y,w=(y=g.type)!==null&&y!==void 0&&y.defaultProps?_n(_n({},g.type.defaultProps),g.props):g.props,j=w.stackId,v=w.hide;if(v)return m;var N=w[n],C=m[N]||{hasStack:!1,stackGroups:{}};if(sa(j)){var S=C.stackGroups[j]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(g),C.hasStack=!0,C.stackGroups[j]=S}else C.stackGroups[Fh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return _n(_n({},m),{},Pf({},N,C))},c),h={};return Object.keys(d).reduce(function(m,g){var y=d[g];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(j,v){var N=y.stackGroups[v];return _n(_n({},j),{},Pf({},v,{numericAxisId:n,cateAxisId:a,items:N.items,stackedData:kOe(e,N.items,i)}))},w)}return _n(_n({},m),{},Pf({},g,y))},h)},sJ=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=HAe(d,i,l);return e.domain([k1(h),N1(h)]),{niceTicks:h}}if(i&&a==="number"){var m=e.domain(),g=BAe(m,i,l);return{niceTicks:g}}return null};function fH(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tr(a[e.dataKey])){var l=kv(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=aa(a,tr(o)?e.dataKey:o);return tr(c)?null:e.scale(c)}var hH=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=aa(o,r.dataKey,r.domain[l]);return tr(c)?null:r.scale(c)-i/2+a},TOe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},_Oe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_n(_n({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(sa(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},MOe=function(e){return e.reduce(function(r,n){return[k1(n.concat([r[0]]).filter(yt)),N1(n.concat([r[1]]).filter(yt))]},[1/0,-1/0])},iJ=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,h){var m=MOe(h.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},mH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SM=function(e,r,n){if(Jt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(yt(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(mH.test(e[0])){var i=+mH.exec(e[0])[1];a[0]=r[0]-i}else Jt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(yt(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(pH.test(e[1])){var o=+pH.exec(e[1])[1];a[1]=r[1]+o}else Jt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Xv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=CE(r,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},gH=function(e,r,n){return!e||!e.length||bg(e,Hs(n,"type.defaultProps.domain"))?r:e},oJ=function(e,r){var n=e.type.defaultProps?_n(_n({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,h=n.hide;return _n(_n({},Wt(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:QE(e),value:aa(r,a),type:c,payload:r,chartType:d,hide:h})};function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function xH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xH(Object(r),!0).forEach(function(n){lJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lJ(t,e,r){return e=AOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AOe(t){var e=OOe(t,"string");return T0(e)=="symbol"?e:e+""}function OOe(t,e){if(T0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EOe(t,e){return IOe(t)||ROe(t,e)||POe(t,e)||DOe()}function DOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function POe(t,e){if(t){if(typeof t=="string")return yH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yH(t,e)}}function yH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ROe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function IOe(t){if(Array.isArray(t))return t}var Jv=Math.PI/180,LOe=function(e){return e*180/Math.PI},ln=function(e,r,n,a){return{x:e+Math.cos(-Jv*a)*n,y:r+Math.sin(-Jv*a)*n}},cJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$Oe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,h=Qa(e.cx,o,o/2),m=Qa(e.cy,l,l/2),g=cJ(o,l,n),y=Qa(e.innerRadius,g,0),w=Qa(e.outerRadius,g,g*.8),j=Object.keys(r);return j.reduce(function(v,N){var C=r[N],S=C.domain,E=C.reversed,T;if(tr(C.range))a==="angleAxis"?T=[c,d]:a==="radiusAxis"&&(T=[y,w]),E&&(T=[T[1],T[0]]);else{T=C.range;var A=T,O=EOe(A,2);c=O[0],d=O[1]}var D=nJ(C,i),$=D.realScaleType,L=D.scale;L.domain(S).range(T),aJ(L);var I=sJ(L,tl(tl({},C),{},{realScaleType:$})),R=tl(tl(tl({},C),I),{},{range:T,radius:w,realScaleType:$,scale:L,cx:h,cy:m,innerRadius:y,outerRadius:w,startAngle:c,endAngle:d});return tl(tl({},v),{},lJ({},N,R))},{})},FOe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},HOe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=FOe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:LOe(d),angleInRadian:d}},BOe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},zOe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},bH=function(e,r){var n=e.x,a=e.y,i=HOe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=BOe(r),m=h.startAngle,g=h.endAngle,y=l,w;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;w=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;w=y>=g&&y<=m}return w?tl(tl({},r),{},{radius:o,angle:zOe(y,r)}):null},uJ=function(e){return!x.isValidElement(e)&&!Jt(e)&&typeof e!="boolean"?e.className:""};function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}var VOe=["offset"];function qOe(t){return YOe(t)||GOe(t)||WOe(t)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WOe(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function GOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YOe(t){if(Array.isArray(t))return NM(t)}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KOe(t,e){if(t==null)return{};var r=XOe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vH(Object(r),!0).forEach(function(n){JOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JOe(t,e,r){return e=QOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QOe(t){var e=ZOe(t,"string");return _0(e)=="symbol"?e:e+""}function ZOe(t,e){if(_0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}var eEe=function(e){var r=e.value,n=e.formatter,a=tr(e.children)?r:e.children;return Jt(n)?n(a):a},tEe=function(e,r){var n=Ja(r-e),a=Math.min(Math.abs(r-e),360);return n*a},rEe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,h=c.cy,m=c.innerRadius,g=c.outerRadius,y=c.startAngle,w=c.endAngle,j=c.clockWise,v=(m+g)/2,N=tEe(y,w),C=N>=0?1:-1,S,E;a==="insideStart"?(S=y+C*o,E=j):a==="insideEnd"?(S=w-C*o,E=!j):a==="end"&&(S=w+C*o,E=j),E=N<=0?E:!E;var T=ln(d,h,v,S),A=ln(d,h,v,S+(E?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),D=tr(e.id)?Fh("recharts-radial-line-"):e.id;return X.createElement("text",M0({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:D,d:O})),X.createElement("textPath",{xlinkHref:"#".concat(D)},r))},nEe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,h=i.startAngle,m=i.endAngle,g=(h+m)/2;if(a==="outside"){var y=ln(o,l,d+n,g),w=y.x,j=y.y;return{x:w,y:j,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,N=ln(o,l,v,g),C=N.x,S=N.y;return{x:C,y:S,textAnchor:"middle",verticalAnchor:"middle"}},aEe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,h=o.height,m=h>=0?1:-1,g=m*a,y=m>0?"end":"start",w=m>0?"start":"end",j=d>=0?1:-1,v=j*a,N=j>0?"end":"start",C=j>0?"start":"end";if(i==="top"){var S={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:y};return na(na({},S),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var E={x:l+d/2,y:c+h+g,textAnchor:"middle",verticalAnchor:w};return na(na({},E),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(i==="left"){var T={x:l-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return na(na({},T),n?{width:Math.max(T.x-n.x,0),height:h}:{})}if(i==="right"){var A={x:l+d+v,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return na(na({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:h}:{})}var O=n?{width:d,height:h}:{};return i==="insideLeft"?na({x:l+v,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},O):i==="insideRight"?na({x:l+d-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?na({x:l+d/2,y:c+g,textAnchor:"middle",verticalAnchor:w},O):i==="insideBottom"?na({x:l+d/2,y:c+h-g,textAnchor:"middle",verticalAnchor:y},O):i==="insideTopLeft"?na({x:l+v,y:c+g,textAnchor:C,verticalAnchor:w},O):i==="insideTopRight"?na({x:l+d-v,y:c+g,textAnchor:N,verticalAnchor:w},O):i==="insideBottomLeft"?na({x:l+v,y:c+h-g,textAnchor:C,verticalAnchor:y},O):i==="insideBottomRight"?na({x:l+d-v,y:c+h-g,textAnchor:N,verticalAnchor:y},O):$h(i)&&(yt(i.x)||Mu(i.x))&&(yt(i.y)||Mu(i.y))?na({x:l+Qa(i.x,d),y:c+Qa(i.y,h),textAnchor:"end",verticalAnchor:"end"},O):na({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},sEe=function(e){return"cx"in e&&yt(e.cx)};function ha(t){var e=t.offset,r=e===void 0?5:e,n=KOe(t,VOe),a=na({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,h=a.className,m=h===void 0?"":h,g=a.textBreakAll;if(!i||tr(l)&&tr(c)&&!x.isValidElement(d)&&!Jt(d))return null;if(x.isValidElement(d))return x.cloneElement(d,a);var y;if(Jt(d)){if(y=x.createElement(d,a),x.isValidElement(y))return y}else y=eEe(a);var w=sEe(i),j=Wt(a,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return rEe(a,y,j);var v=w?nEe(a):aEe(a);return X.createElement(nd,M0({className:$t("recharts-label",m)},j,v,{breakAll:g}),y)}ha.displayName="Label";var dJ=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,y=e.top,w=e.left,j=e.width,v=e.height,N=e.clockWise,C=e.labelViewBox;if(C)return C;if(yt(j)&&yt(v)){if(yt(m)&&yt(g))return{x:m,y:g,width:j,height:v};if(yt(y)&&yt(w))return{x:y,y:w,width:j,height:v}}return yt(m)&&yt(g)?{x:m,y:g,width:0,height:0}:yt(r)&&yt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},iEe=function(e,r){return e?e===!0?X.createElement(ha,{key:"label-implicit",viewBox:r}):sa(e)?X.createElement(ha,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===ha?x.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(ha,{key:"label-implicit",content:e,viewBox:r}):Jt(e)?X.createElement(ha,{key:"label-implicit",content:e,viewBox:r}):$h(e)?X.createElement(ha,M0({viewBox:r},e,{key:"label-implicit"})):null:null},oEe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=dJ(e),o=Bs(a,ha).map(function(c,d){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=iEe(e.label,r||i);return[l].concat(qOe(o))};ha.parseViewBox=dJ;ha.renderCallByParent=oEe;var qT,wH;function lEe(){if(wH)return qT;wH=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return qT=t,qT}var cEe=lEe();const uEe=Dr(cEe);function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}var dEe=["valueAccessor"],fEe=["data","dataKey","clockWise","id","textBreakAll"];function hEe(t){return xEe(t)||gEe(t)||pEe(t)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pEe(t,e){if(t){if(typeof t=="string")return kM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(t,e)}}function gEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xEe(t){if(Array.isArray(t))return kM(t)}function kM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qv.apply(this,arguments)}function jH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(r),!0).forEach(function(n){yEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yEe(t,e,r){return e=bEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bEe(t){var e=vEe(t,"string");return A0(e)=="symbol"?e:e+""}function vEe(t,e){if(A0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NH(t,e){if(t==null)return{};var r=wEe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jEe=function(e){return Array.isArray(e.value)?uEe(e.value):e.value};function bl(t){var e=t.valueAccessor,r=e===void 0?jEe:e,n=NH(t,dEe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=NH(n,fEe);return!a||!a.length?null:X.createElement(Ar,{className:"recharts-label-list"},a.map(function(h,m){var g=tr(i)?r(h,m):aa(h&&h.payload,i),y=tr(l)?{}:{id:"".concat(l,"-").concat(m)};return X.createElement(ha,Qv({},Wt(h,!0),d,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:ha.parseViewBox(tr(o)?h:SH(SH({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}bl.displayName="LabelList";function SEe(t,e){return t?t===!0?X.createElement(bl,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Jt(t)?X.createElement(bl,{key:"labelList-implicit",data:e,content:t}):$h(t)?X.createElement(bl,Qv({data:e},t,{key:"labelList-implicit"})):null:null}function NEe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Bs(n,bl).map(function(o,l){return x.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=SEe(t.label,e);return[i].concat(hEe(a))}bl.renderCallByParent=NEe;function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function CM(){return CM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CM.apply(this,arguments)}function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){kEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kEe(t,e,r){return e=CEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CEe(t){var e=TEe(t,"string");return O0(e)=="symbol"?e:e+""}function TEe(t,e){if(O0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ee=function(e,r){var n=Ja(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Sy=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+a,m=Math.asin(c/h)/Jv,g=d?i:i+o*m,y=ln(r,n,h,g),w=ln(r,n,a,g),j=d?i-o*m:i,v=ln(r,n,h*Math.cos(m*Jv),j);return{center:y,circleTangency:w,lineTangency:v,theta:m}},fJ=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=_Ee(o,l),d=o+c,h=ln(r,n,i,o),m=ln(r,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var y=ln(r,n,a,o),w=ln(r,n,a,d);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},MEe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=Ja(h-d),g=Sy({cx:r,cy:n,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,w=g.lineTangency,j=g.theta,v=Sy({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,C=v.lineTangency,S=v.theta,E=c?Math.abs(d-h):Math.abs(d-h)-j-S;if(E<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):fJ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:h});var T="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var A=Sy({cx:r,cy:n,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,D=A.lineTangency,$=A.theta,L=Sy({cx:r,cy:n,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=L.circleTangency,R=L.lineTangency,H=L.theta,G=c?Math.abs(d-h):Math.abs(d-h)-$-H;if(G<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},AEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hJ=function(e){var r=CH(CH({},AEe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,g=r.className;if(o<i||h===m)return null;var y=$t("recharts-sector",g),w=o-i,j=Qa(l,w,0,!0),v;return j>0&&Math.abs(h-m)<360?v=MEe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):v=fJ({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),X.createElement("path",CM({},Wt(r,!0),{className:y,d:v,role:"img"}))};function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function TM(){return TM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TM.apply(this,arguments)}function TH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _H(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(r),!0).forEach(function(n){OEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OEe(t,e,r){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EEe(t){var e=DEe(t,"string");return E0(e)=="symbol"?e:e+""}function DEe(t,e){if(E0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MH={curveBasisClosed:Z2e,curveBasisOpen:eke,curveBasis:Q2e,curveBumpX:$2e,curveBumpY:F2e,curveLinearClosed:tke,curveLinear:f1,curveMonotoneX:rke,curveMonotoneY:nke,curveNatural:ake,curveStep:ske,curveStepAfter:oke,curveStepBefore:ike},Ny=function(e){return e.x===+e.x&&e.y===+e.y},np=function(e){return e.x},ap=function(e){return e.y},PEe=function(e,r){if(Jt(e))return e;var n="curve".concat(u1(e));return(n==="curveMonotone"||n==="curveBump")&&r?MH["".concat(n).concat(r==="vertical"?"Y":"X")]:MH[n]||f1},REe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=PEe(n,l),m=d?i.filter(function(j){return Ny(j)}):i,g;if(Array.isArray(o)){var y=d?o.filter(function(j){return Ny(j)}):o,w=m.map(function(j,v){return _H(_H({},j),{},{base:y[v]})});return l==="vertical"?g=py().y(ap).x1(np).x0(function(j){return j.base.x}):g=py().x(np).y1(ap).y0(function(j){return j.base.y}),g.defined(Ny).curve(h),g(w)}return l==="vertical"&&yt(o)?g=py().y(ap).x1(np).x0(o):yt(o)?g=py().x(np).y1(ap).y0(o):g=dK().x(np).y(ap),g.defined(Ny).curve(h),g(m)},Zv=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?REe(e):a;return x.createElement("path",TM({},Wt(e,!1),Cv(e),{className:$t("recharts-curve",r),d:o,ref:i}))},UT={exports:{}},WT,AH;function IEe(){if(AH)return WT;AH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return WT=t,WT}var GT,OH;function LEe(){if(OH)return GT;OH=1;var t=IEe();function e(){}function r(){}return r.resetWarningCache=e,GT=function(){function n(o,l,c,d,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},GT}var EH;function $Ee(){return EH||(EH=1,UT.exports=LEe()()),UT.exports}var FEe=$Ee();const Br=Dr(FEe);var HEe=Object.getOwnPropertyNames,BEe=Object.getOwnPropertySymbols,zEe=Object.prototype.hasOwnProperty;function DH(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function ky(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function VEe(t){return t!=null?t[Symbol.toStringTag]:void 0}function PH(t){return HEe(t).concat(BEe(t))}var qEe=Object.hasOwn||(function(t,e){return zEe.call(t,e)});function pd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var UEe="__v",WEe="__o",GEe="_owner",RH=Object.getOwnPropertyDescriptor,IH=Object.keys;function YEe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function KEe(t,e){return pd(t.getTime(),e.getTime())}function XEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function JEe(t,e){return t===e}function LH(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(a[m]){m++;continue}var g=o.value,y=l.value;if(r.equals(g[0],y[0],c,m,t,e,r)&&r.equals(g[1],y[1],g[0],y[0],t,e,r)){h=a[m]=!0;break}m++}if(!h)return!1;c++}return!0}var QEe=pd;function ZEe(t,e,r){var n=IH(t),a=n.length;if(IH(e).length!==a)return!1;for(;a-- >0;)if(!mJ(t,e,r,n[a]))return!1;return!0}function sp(t,e,r){var n=PH(t),a=n.length;if(PH(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!mJ(t,e,r,i)||(o=RH(t,i),l=RH(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function eDe(t,e){return pd(t.valueOf(),e.valueOf())}function tDe(t,e){return t.source===e.source&&t.flags===e.flags}function $H(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!a[h]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[h]=!0;break}h++}if(!d)return!1}return!0}function rDe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function nDe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function mJ(t,e,r,n){return(n===GEe||n===WEe||n===UEe)&&(t.$$typeof||e.$$typeof)?!0:qEe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var aDe="[object Arguments]",sDe="[object Boolean]",iDe="[object Date]",oDe="[object Error]",lDe="[object Map]",cDe="[object Number]",uDe="[object Object]",dDe="[object RegExp]",fDe="[object Set]",hDe="[object String]",mDe="[object URL]",pDe=Array.isArray,FH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HH=Object.assign,gDe=Object.prototype.toString.call.bind(Object.prototype.toString);function xDe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual,y=t.unknownTagComparators;return function(j,v,N){if(j===v)return!0;if(j==null||v==null)return!1;var C=typeof j;if(C!==typeof v)return!1;if(C!=="object")return C==="number"?o(j,v,N):C==="function"?a(j,v,N):!1;var S=j.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(j,v,N);if(pDe(j))return e(j,v,N);if(FH!=null&&FH(j))return m(j,v,N);if(S===Date)return r(j,v,N);if(S===RegExp)return d(j,v,N);if(S===Map)return i(j,v,N);if(S===Set)return h(j,v,N);var E=gDe(j);if(E===iDe)return r(j,v,N);if(E===dDe)return d(j,v,N);if(E===lDe)return i(j,v,N);if(E===fDe)return h(j,v,N);if(E===uDe)return typeof j.then!="function"&&typeof v.then!="function"&&l(j,v,N);if(E===mDe)return g(j,v,N);if(E===oDe)return n(j,v,N);if(E===aDe)return l(j,v,N);if(E===sDe||E===cDe||E===hDe)return c(j,v,N);if(y){var T=y[E];if(!T){var A=VEe(j);A&&(T=y[A])}if(T)return T(j,v,N)}return!1}}function yDe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?sp:YEe,areDatesEqual:KEe,areErrorsEqual:XEe,areFunctionsEqual:JEe,areMapsEqual:n?DH(LH,sp):LH,areNumbersEqual:QEe,areObjectsEqual:n?sp:ZEe,arePrimitiveWrappersEqual:eDe,areRegExpsEqual:tDe,areSetsEqual:n?DH($H,sp):$H,areTypedArraysEqual:n?sp:rDe,areUrlsEqual:nDe,unknownTagComparators:void 0};if(r&&(a=HH({},a,r(a))),e){var i=ky(a.areArraysEqual),o=ky(a.areMapsEqual),l=ky(a.areObjectsEqual),c=ky(a.areSetsEqual);a=HH({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function bDe(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function vDe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,d){var h=n(),m=h.cache,g=m===void 0?e?new WeakMap:void 0:m,y=h.meta;return r(c,d,{cache:g,equals:a,meta:y,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var wDe=Vc();Vc({strict:!0});Vc({circular:!0});Vc({circular:!0,strict:!0});Vc({createInternalComparator:function(){return pd}});Vc({strict:!0,createInternalComparator:function(){return pd}});Vc({circular:!0,createInternalComparator:function(){return pd}});Vc({circular:!0,createInternalComparator:function(){return pd},strict:!0});function Vc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=yDe(t),c=xDe(l),d=n?n(c):bDe(c);return vDe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function jDe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):jDe(a)};requestAnimationFrame(n)}function _M(t){"@babel/helpers - typeof";return _M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_M(t)}function SDe(t){return TDe(t)||CDe(t)||kDe(t)||NDe()}function NDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kDe(t,e){if(t){if(typeof t=="string")return zH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zH(t,e)}}function zH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TDe(t){if(Array.isArray(t))return t}function _De(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=SDe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){BH(a.bind(null,d),c);return}a(c),BH(a.bind(null,d));return}_M(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function VH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VH(Object(r),!0).forEach(function(n){pJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pJ(t,e,r){return e=MDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MDe(t){var e=ADe(t,"string");return D0(e)==="symbol"?e:String(e)}function ADe(t,e){if(D0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ODe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},EDe=function(e){return e},DDe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Lp=function(e,r){return Object.keys(r).reduce(function(n,a){return qH(qH({},n),{},pJ({},a,e(a,r[a])))},{})},UH=function(e,r,n){return e.map(function(a){return"".concat(DDe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function PDe(t,e){return LDe(t)||IDe(t,e)||gJ(t,e)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function LDe(t){if(Array.isArray(t))return t}function $De(t){return BDe(t)||HDe(t)||gJ(t)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return MM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(t,e)}}function HDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BDe(t){if(Array.isArray(t))return MM(t)}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ew=1e-4,xJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},yJ=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},WH=function(e,r){return function(n){var a=xJ(e,r);return yJ(a,n)}},zDe=function(e,r){return function(n){var a=xJ(e,r),i=[].concat($De(a.map(function(o,l){return o*l}).slice(1)),[0]);return yJ(i,n)}},GH=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=PDe(d,4);a=h[0],i=h[1],o=h[2],l=h[3]}}}var m=WH(a,o),g=WH(i,l),y=zDe(a,o),w=function(N){return N>1?1:N<0?0:N},j=function(N){for(var C=N>1?1:N,S=C,E=0;E<8;++E){var T=m(S)-C,A=y(S);if(Math.abs(T-C)<ew||A<ew)return g(S);S=w(S-T/A)}return g(S)};return j.isStepper=!1,j},VDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(h,m,g){var y=-(h-m)*n,w=g*i,j=g+(y-w)*l/1e3,v=g*l/1e3+h;return Math.abs(v-m)<ew&&Math.abs(j)<ew?[m,0]:[v,j]};return c.isStepper=!0,c.dt=l,c},qDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GH(a);case"spring":return VDe();default:if(a.split("(")[0]==="cubic-bezier")return GH(a)}return typeof a=="function"?a:null};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function YH(t){return GDe(t)||WDe(t)||bJ(t)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GDe(t){if(Array.isArray(t))return OM(t)}function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){AM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AM(t,e,r){return e=YDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YDe(t){var e=KDe(t,"string");return P0(e)==="symbol"?e:String(e)}function KDe(t,e){if(P0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(P0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XDe(t,e){return ZDe(t)||QDe(t,e)||bJ(t,e)||JDe()}function JDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ZDe(t){if(Array.isArray(t))return t}var tw=function(e,r,n){return e+(r-e)*n},EM=function(e){var r=e.from,n=e.to;return r!==n},ePe=function t(e,r,n){var a=Lp(function(i,o){if(EM(o)){var l=e(o.from,o.to,o.velocity),c=XDe(l,2),d=c[0],h=c[1];return ka(ka({},o),{},{from:d,velocity:h})}return o},r);return n<1?Lp(function(i,o){return EM(o)?ka(ka({},o),{},{velocity:tw(o.velocity,a[i].velocity,n),from:tw(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const tPe=(function(t,e,r,n,a){var i=ODe(t,e),o=i.reduce(function(v,N){return ka(ka({},v),{},AM({},N,[t[N],e[N]]))},{}),l=i.reduce(function(v,N){return ka(ka({},v),{},AM({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,d,h,m=function(){return null},g=function(){return Lp(function(N,C){return C.from},l)},y=function(){return!Object.values(l).filter(EM).length},w=function(N){d||(d=N);var C=N-d,S=C/r.dt;l=ePe(r,l,S),a(ka(ka(ka({},t),e),g())),d=N,y()||(c=requestAnimationFrame(m))},j=function(N){h||(h=N);var C=(N-h)/n,S=Lp(function(T,A){return tw.apply(void 0,YH(A).concat([r(C)]))},o);if(a(ka(ka(ka({},t),e),S)),C<1)c=requestAnimationFrame(m);else{var E=Lp(function(T,A){return tw.apply(void 0,YH(A).concat([r(1)]))},o);a(ka(ka(ka({},t),e),E))}};return m=r.isStepper?w:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}var rPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nPe(t,e){if(t==null)return{};var r=aPe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aPe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function YT(t){return lPe(t)||oPe(t)||iPe(t)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(t,e){if(t){if(typeof t=="string")return DM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DM(t,e)}}function oPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lPe(t){if(Array.isArray(t))return DM(t)}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XH(Object(r),!0).forEach(function(n){yp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yp(t,e,r){return e=vJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vJ(n.key),n)}}function dPe(t,e,r){return e&&uPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vJ(t){var e=fPe(t,"string");return fh(e)==="symbol"?e:String(e)}function fPe(t,e){if(fh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PM(t,e)}function PM(t,e){return PM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PM(t,e)}function mPe(t){var e=pPe();return function(){var n=rw(t),a;if(e){var i=rw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return RM(this,a)}}function RM(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IM(t)}function IM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rw(t){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(t)}var ko=(function(t){hPe(r,t);var e=mPe(r);function r(n,a){var i;cPe(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,m=o.steps,g=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(IM(i)),i.changeStyle=i.changeStyle.bind(IM(i)),!l||y<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:h}),RM(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof g=="function")return i.state={style:d},RM(i);i.state={style:c?yp({},c,d):d}}else i.state={style:{}};return i}return dPe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,h=i.to,m=i.from,g=this.state.style;if(l){if(!o){var y={style:c?yp({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(y);return}if(!(wDe(a.to,h)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=w||d?m:a.to;if(this.state&&g){var v={style:c?yp({},c,j):j};(c&&g[c]!==j||!c&&g!==j)&&this.setState(v)}this.runAnimation(Ci(Ci({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,h=a.begin,m=a.onAnimationEnd,g=a.onAnimationStart,y=tPe(o,l,qDe(d),c,this.changeStyle),w=function(){i.stopJSAnimation=y()};this.manager.start([g,h,w,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],h=d.style,m=d.duration,g=m===void 0?0:m,y=function(j,v,N){if(N===0)return j;var C=v.duration,S=v.easing,E=S===void 0?"ease":S,T=v.style,A=v.properties,O=v.onAnimationEnd,D=N>0?o[N-1]:v,$=A||Object.keys(T);if(typeof E=="function"||E==="spring")return[].concat(YT(j),[i.runJSAnimation.bind(i,{from:D.style,to:T,duration:C,easing:E}),C]);var L=UH($,C,E),I=Ci(Ci(Ci({},D.style),T),{},{transition:L});return[].concat(YT(j),[I,C,O]).filter(EDe)};return this.manager.start([c].concat(YT(o.reduce(y,[h,Math.max(g,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=_De());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,g=a.steps,y=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var j=l?yp({},l,c):c,v=UH(Object.keys(j),o,d);w.start([h,i,Ci(Ci({},j),{},{transition:v}),o,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nPe(a,rPe),d=x.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||d===0||o<=0)return i;var m=function(y){var w=y.props,j=w.style,v=j===void 0?{}:j,N=w.className,C=x.cloneElement(y,Ci(Ci({},c),{},{style:Ci(Ci({},v),h),className:N}));return C};return d===1?m(x.Children.only(i)):X.createElement("div",null,x.Children.map(i,function(g){return m(g)}))}}]),r})(x.PureComponent);ko.displayName="Animate";ko.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ko.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(this,arguments)}function gPe(t,e){return vPe(t)||bPe(t,e)||yPe(t,e)||xPe()}function xPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(t,e){if(t){if(typeof t=="string")return JH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JH(t,e)}}function JH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function vPe(t){if(Array.isArray(t))return t}function QH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QH(Object(r),!0).forEach(function(n){wPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wPe(t,e,r){return e=jPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jPe(t){var e=SPe(t,"string");return R0(e)=="symbol"?e:e+""}function SPe(t,e){if(R0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eB=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=i[g]>o?o:i[g];h="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),h+="L ".concat(e+n,",").concat(r+a-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+a)),h+="L ".concat(e+c*m[3],",").concat(r+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);h="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+a-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-c*w,",").concat(r+a,`
            L `).concat(e+c*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*w," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return h},NPe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+c),g=Math.max(o,o+c);return n>=d&&n<=h&&a>=m&&a<=g}return!1},kPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZE=function(e){var r=ZH(ZH({},kPe),e),n=x.useRef(),a=x.useState(-1),i=gPe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var c=r.x,d=r.y,h=r.width,m=r.height,g=r.radius,y=r.className,w=r.animationEasing,j=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var S=$t("recharts-rectangle",y);return C?X.createElement(ko,{canBegin:o>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:j,animationEasing:w,isActive:C},function(E){var T=E.width,A=E.height,O=E.x,D=E.y;return X.createElement(ko,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,isActive:N,easing:w},X.createElement("path",nw({},Wt(r,!0),{className:S,d:eB(O,D,T,A,g),ref:n})))}):X.createElement("path",nw({},Wt(r,!0),{className:S,d:eB(c,d,h,m,g)}))},CPe=["points","className","baseLinePoints","connectNulls"];function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}function TPe(t,e){if(t==null)return{};var r=_Pe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Pe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tB(t){return EPe(t)||OPe(t)||APe(t)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(t,e){if(t){if(typeof t=="string")return LM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LM(t,e)}}function OPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EPe(t){if(Array.isArray(t))return LM(t)}function LM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rB=function(e){return e&&e.x===+e.x&&e.y===+e.y},DPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){rB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),rB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$p=function(e,r){var n=DPe(e);r&&(n=[n.reduce(function(i,o){return[].concat(tB(i),tB(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},PPe=function(e,r,n){var a=$p(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat($p(r.reverse(),n).slice(1))},RPe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=TPe(e,CPe);if(!r||!r.length)return null;var l=$t("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=PPe(r,a,i);return X.createElement("g",{className:l},X.createElement("path",yf({},Wt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?X.createElement("path",yf({},Wt(o,!0),{fill:"none",d:$p(r,i)})):null,c?X.createElement("path",yf({},Wt(o,!0),{fill:"none",d:$p(a,i)})):null)}var h=$p(r,i);return X.createElement("path",yf({},Wt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function $M(){return $M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$M.apply(this,arguments)}var _1=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=$t("recharts-dot",i);return r===+r&&n===+n&&a===+a?x.createElement("circle",$M({},Wt(e,!1),Cv(e),{className:o,cx:r,cy:n,r:a})):null};function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}var IPe=["x","y","top","left","width","height","className"];function FM(){return FM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FM.apply(this,arguments)}function nB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(r),!0).forEach(function(n){$Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Pe(t,e,r){return e=FPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FPe(t){var e=HPe(t,"string");return I0(e)=="symbol"?e:e+""}function HPe(t,e){if(I0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BPe(t,e){if(t==null)return{};var r=zPe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VPe=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},qPe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,h=e.width,m=h===void 0?0:h,g=e.height,y=g===void 0?0:g,w=e.className,j=BPe(e,IPe),v=LPe({x:n,y:i,top:l,left:d,width:m,height:y},j);return!yt(n)||!yt(i)||!yt(m)||!yt(y)||!yt(l)||!yt(d)?null:X.createElement("path",FM({},Wt(v,!0),{className:$t("recharts-cross",w),d:VPe(n,i,m,y,l,d)}))},KT,aB;function UPe(){if(aB)return KT;aB=1;var t=S1(),e=RX(),r=Ao();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return KT=n,KT}var WPe=UPe();const GPe=Dr(WPe);var XT,sB;function YPe(){if(sB)return XT;sB=1;var t=S1(),e=Ao(),r=IX();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return XT=n,XT}var KPe=YPe();const XPe=Dr(KPe);var JPe=["cx","cy","angle","ticks","axisLine"],QPe=["ticks","tick","angle","tickFormatter","stroke"];function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fp.apply(this,arguments)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function du(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){M1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oB(t,e){if(t==null)return{};var r=ZPe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function e4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jJ(n.key),n)}}function t4e(t,e,r){return e&&lB(t.prototype,e),r&&lB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r4e(t,e,r){return e=aw(e),n4e(t,wJ()?Reflect.construct(e,r||[],aw(t).constructor):e.apply(t,r))}function n4e(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(t)}function a4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(t)}function s4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HM(t,e)}function HM(t,e){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HM(t,e)}function M1(t,e,r){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jJ(t){var e=i4e(t,"string");return hh(e)=="symbol"?e:e+""}function i4e(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A1=(function(t){function e(){return e4e(this,e),r4e(this,e,arguments)}return s4e(e,t),t4e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return ln(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=GPe(l,function(h){return h.coordinate||0}),d=XPe(l,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=oB(n,JPe),h=l.reduce(function(w,j){return[Math.min(w[0],j.coordinate),Math.max(w[1],j.coordinate)]},[1/0,-1/0]),m=ln(a,i,h[0],o),g=ln(a,i,h[1],o),y=du(du(du({},Wt(d,!1)),{},{fill:"none"},Wt(c,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return X.createElement("line",Fp({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,h=oB(a,QPe),m=this.getTickTextAnchor(),g=Wt(h,!1),y=Wt(o,!1),w=i.map(function(j,v){var N=n.getTickValueCoord(j),C=du(du(du(du({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:d},y),{},{index:v},N),{},{payload:j});return X.createElement(Ar,Fp({className:$t("recharts-polar-radius-axis-tick",uJ(o)),key:"tick-".concat(j.coordinate)},rd(n.props,j,v)),e.renderTickItem(o,C,c?c(j.value,v):j.value))});return X.createElement(Ar,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:X.createElement(Ar,{className:$t("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ha.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return X.isValidElement(n)?o=X.cloneElement(n,a):Jt(n)?o=n(a):o=X.createElement(nd,Fp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(x.PureComponent);M1(A1,"displayName","PolarRadiusAxis");M1(A1,"axisType","radiusAxis");M1(A1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bu.apply(this,arguments)}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){O1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NJ(n.key),n)}}function l4e(t,e,r){return e&&uB(t.prototype,e),r&&uB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c4e(t,e,r){return e=sw(e),u4e(t,SJ()?Reflect.construct(e,r||[],sw(t).constructor):e.apply(t,r))}function u4e(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d4e(t)}function d4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SJ=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(t)}function f4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BM(t,e)}function BM(t,e){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BM(t,e)}function O1(t,e,r){return e=NJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NJ(t){var e=h4e(t,"string");return mh(e)=="symbol"?e:e+""}function h4e(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m4e=Math.PI/180,dB=1e-5,E1=(function(t){function e(){return o4e(this,e),c4e(this,e,arguments)}return f4e(e,t),l4e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,h=d||8,m=ln(i,o,l,n.coordinate),g=ln(i,o,l+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*m4e),o;return i>dB?o=a==="outer"?"start":"end":i<-dB?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=fu(fu({},Wt(this.props,!1)),{},{fill:"none"},Wt(l,!1));if(c==="circle")return X.createElement(_1,bu({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var h=this.props.ticks,m=h.map(function(g){return ln(a,i,o,g.coordinate)});return X.createElement(RPe,bu({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,h=Wt(this.props,!1),m=Wt(o,!1),g=fu(fu({},h),{},{fill:"none"},Wt(l,!1)),y=i.map(function(w,j){var v=n.getTickLineCoord(w),N=n.getTickTextAnchor(w),C=fu(fu(fu({textAnchor:N},h),{},{stroke:"none",fill:d},m),{},{index:j,payload:w,x:v.x2,y:v.y2});return X.createElement(Ar,bu({className:$t("recharts-polar-angle-axis-tick",uJ(o)),key:"tick-".concat(w.coordinate)},rd(n.props,w,j)),l&&X.createElement("line",bu({className:"recharts-polar-angle-axis-tick-line"},g,v)),o&&e.renderTickItem(o,C,c?c(w.value,j):w.value))});return X.createElement(Ar,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:X.createElement(Ar,{className:$t("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return X.isValidElement(n)?o=X.cloneElement(n,a):Jt(n)?o=n(a):o=X.createElement(nd,bu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(x.PureComponent);O1(E1,"displayName","PolarAngleAxis");O1(E1,"axisType","angleAxis");O1(E1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var JT,fB;function p4e(){if(fB)return JT;fB=1;var t=PK(),e=t(Object.getPrototypeOf,Object);return JT=e,JT}var QT,hB;function g4e(){if(hB)return QT;hB=1;var t=Dl(),e=p4e(),r=Pl(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return QT=d,QT}var x4e=g4e();const y4e=Dr(x4e);var ZT,mB;function b4e(){if(mB)return ZT;mB=1;var t=Dl(),e=Pl(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return ZT=n,ZT}var v4e=b4e();const w4e=Dr(v4e);function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}function j4e(t,e){return C4e(t)||k4e(t,e)||N4e(t,e)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return pB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pB(t,e)}}function pB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function C4e(t){if(Array.isArray(t))return t}function gB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(r),!0).forEach(function(n){T4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T4e(t,e,r){return e=_4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4e(t){var e=M4e(t,"string");return L0(e)=="symbol"?e:e+""}function M4e(t,e){if(L0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yB=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},A4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O4e=function(e){var r=xB(xB({},A4e),e),n=x.useRef(),a=x.useState(-1),i=j4e(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,h=r.upperWidth,m=r.lowerWidth,g=r.height,y=r.className,w=r.animationEasing,j=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var C=$t("recharts-trapezoid",y);return N?X.createElement(ko,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:g,x:c,y:d},duration:j,animationEasing:w,isActive:N},function(S){var E=S.upperWidth,T=S.lowerWidth,A=S.height,O=S.x,D=S.y;return X.createElement(ko,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,easing:w},X.createElement("path",iw({},Wt(r,!0),{className:C,d:yB(O,D,E,T,A),ref:n})))}):X.createElement("g",null,X.createElement("path",iw({},Wt(r,!0),{className:C,d:yB(c,d,h,m,g)})))},E4e=["option","shapeType","propTransformer","activeClassName","isActive"];function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function D4e(t,e){if(t==null)return{};var r=P4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ow(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(r),!0).forEach(function(n){R4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R4e(t,e,r){return e=I4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I4e(t){var e=L4e(t,"string");return $0(e)=="symbol"?e:e+""}function L4e(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $4e(t,e){return ow(ow({},e),t)}function F4e(t,e){return t==="symbols"}function vB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(ZE,r);case"trapezoid":return X.createElement(O4e,r);case"sector":return X.createElement(hJ,r);case"symbols":if(F4e(e))return X.createElement(yE,r);break;default:return null}}function H4e(t){return x.isValidElement(t)?t.props:t}function kJ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?$4e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=D4e(t,E4e),d;if(x.isValidElement(e))d=x.cloneElement(e,ow(ow({},c),H4e(e)));else if(Jt(e))d=e(c);else if(y4e(e)&&!w4e(e)){var h=a(e,c);d=X.createElement(vB,{shapeType:r,elementProps:h})}else{var m=c;d=X.createElement(vB,{shapeType:r,elementProps:m})}return l?X.createElement(Ar,{className:o},d):d}function D1(t,e){return e!=null&&"trapezoids"in t.props}function P1(t,e){return e!=null&&"sectors"in t.props}function F0(t,e){return e!=null&&"points"in t.props}function B4e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function z4e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function V4e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function q4e(t,e){var r;return D1(t,e)?r=B4e:P1(t,e)?r=z4e:F0(t,e)&&(r=V4e),r}function U4e(t,e){var r;return D1(t,e)?r="trapezoids":P1(t,e)?r="sectors":F0(t,e)&&(r="points"),r}function W4e(t,e){if(D1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(P1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return F0(t,e)?e.payload:{}}function G4e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=U4e(r,e),i=W4e(r,e),o=n.filter(function(c,d){var h=bg(i,c),m=r.props[a].filter(function(w){var j=q4e(r,e);return j(w,e)}),g=r.props[a].indexOf(m[m.length-1]),y=d===g;return h&&y}),l=n.indexOf(o[o.length-1]);return l}var sb;function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function wB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(r),!0).forEach(function(n){ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TJ(n.key),n)}}function K4e(t,e,r){return e&&jB(t.prototype,e),r&&jB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X4e(t,e,r){return e=lw(e),J4e(t,CJ()?Reflect.construct(e,r||[],lw(t).constructor):e.apply(t,r))}function J4e(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4e(t)}function Q4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CJ=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(t)}function Z4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zM(t,e)}function ci(t,e,r){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TJ(t){var e=e3e(t,"string");return ph(e)=="symbol"?e:e+""}function e3e(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ui=(function(t){function e(r){var n;return Y4e(this,e),n=X4e(this,e,[r]),ci(n,"pieRef",null),ci(n,"sectorRefs",[]),ci(n,"id",Fh("recharts-pie-")),ci(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Jt(a)&&a()}),ci(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Jt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Z4e(e,t),K4e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,h=Wt(this.props,!1),m=Wt(o,!1),g=Wt(l,!1),y=o&&o.offsetRadius||20,w=n.map(function(j,v){var N=(j.startAngle+j.endAngle)/2,C=ln(j.cx,j.cy,j.outerRadius+y,N),S=sn(sn(sn(sn({},h),j),{},{stroke:"none"},m),{},{index:v,textAnchor:e.getTextAnchor(C.x,j.cx)},C),E=sn(sn(sn(sn({},h),j),{},{fill:"none",stroke:j.fill},g),{},{index:v,points:[ln(j.cx,j.cy,j.outerRadius,N),C]}),T=c;return tr(c)&&tr(d)?T="value":tr(c)&&(T=d),X.createElement(Ar,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,E,"line"),e.renderLabelItem(o,S,aa(j,T)))});return X.createElement(Ar,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(h),g=c&&a.hasActiveIndex()?c:null,y=m?o:g,w=sn(sn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return X.createElement(Ar,bf({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},rd(a.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),X.createElement(kJ,bf({option:y,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,h=a.animationId,m=this.state,g=m.prevSectors,y=m.prevIsAnimationActive;return X.createElement(ko,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var j=w.t,v=[],N=i&&i[0],C=N.startAngle;return i.forEach(function(S,E){var T=g&&g[E],A=E>0?Hs(S,"paddingAngle",0):0;if(T){var O=Ps(T.endAngle-T.startAngle,S.endAngle-S.startAngle),D=sn(sn({},S),{},{startAngle:C+A,endAngle:C+O(j)+A});v.push(D),C=D.endAngle}else{var $=S.endAngle,L=S.startAngle,I=Ps(0,$-L),R=I(j),H=sn(sn({},S),{},{startAngle:C+A,endAngle:C+R+A});v.push(H),C=H.endAngle}}),X.createElement(Ar,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!bg(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,h=a.cy,m=a.innerRadius,g=a.outerRadius,y=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!o||!o.length||!yt(d)||!yt(h)||!yt(m)||!yt(g))return null;var j=$t("recharts-pie",l);return X.createElement(Ar,{tabIndex:this.props.rootTabIndex,className:j,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),ha.renderCallByParent(this.props,null,!1),(!y||w)&&bl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(X.isValidElement(n))return X.cloneElement(n,a);if(Jt(n))return n(a);var o=$t("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(Zv,bf({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(X.isValidElement(n))return X.cloneElement(n,a);var o=i;if(Jt(n)&&(o=n(a),X.isValidElement(o)))return o;var l=$t("recharts-pie-label-text",typeof n!="boolean"&&!Jt(n)?n.className:"");return X.createElement(nd,bf({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(x.PureComponent);sb=Ui;ci(Ui,"displayName","Pie");ci(Ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ci(Ui,"parseDeltaAngle",function(t,e){var r=Ja(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ci(Ui,"getRealPieData",function(t){var e=t.data,r=t.children,n=Wt(t,!1),a=Bs(r,Bh);return e&&e.length?e.map(function(i,o){return sn(sn(sn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return sn(sn({},n),i.props)}):[]});ci(Ui,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=cJ(a,i),l=n+Qa(t.cx,a,a/2),c=r+Qa(t.cy,i,i/2),d=Qa(t.innerRadius,o,0),h=Qa(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:m}});ci(Ui,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?sn(sn({},e.type.defaultProps),e.props):e.props,a=sb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,h=n.nameKey,m=n.valueKey,g=n.tooltipType,y=Math.abs(n.minAngle),w=sb.parseCoordinateOfPie(n,r),j=sb.parseDeltaAngle(o,l),v=Math.abs(j),N=d;tr(d)&&tr(m)?($i(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):tr(d)&&($i(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var C=a.filter(function(D){return aa(D,N,0)!==0}).length,S=(v>=360?C:C-1)*c,E=v-C*y-S,T=a.reduce(function(D,$){var L=aa($,N,0);return D+(yt(L)?L:0)},0),A;if(T>0){var O;A=a.map(function(D,$){var L=aa(D,N,0),I=aa(D,h,$),R=(yt(L)?L:0)/T,H;$?H=O.endAngle+Ja(j)*c*(L!==0?1:0):H=o;var G=H+Ja(j)*((L!==0?y:0)+R*E),q=(H+G)/2,F=(w.innerRadius+w.outerRadius)/2,P=[{name:I,value:L,payload:D,dataKey:N,type:g}],B=ln(w.cx,w.cy,F,q);return O=sn(sn(sn({percent:R,cornerRadius:i,name:I,tooltipPayload:P,midAngle:q,middleRadius:F,tooltipPosition:B},D),w),{},{value:aa(D,N),startAngle:H,endAngle:G,payload:D,paddingAngle:Ja(j)*c}),O})}return sn(sn({},w),{},{sectors:A,data:a})});var e_,SB;function t3e(){if(SB)return e_;SB=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var l=-1,c=e(t((a-n)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=i;return d}return e_=r,e_}var t_,NB;function _J(){if(NB)return t_;NB=1;var t=XK(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return t_=n,t_}var r_,kB;function r3e(){if(kB)return r_;kB=1;var t=t3e(),e=g1(),r=_J();function n(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return r_=n,r_}var n_,CB;function n3e(){if(CB)return n_;CB=1;var t=r3e(),e=t();return n_=e,n_}var a3e=n3e();const cw=Dr(a3e);function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){MJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MJ(t,e,r){return e=s3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3e(t){var e=i3e(t,"string");return H0(e)=="symbol"?e:e+""}function i3e(t,e){if(H0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o3e=["Webkit","Moz","O","ms"],l3e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=o3e.reduce(function(i,o){return _B(_B({},i),{},MJ({},o+n,r))},{});return a[e]=r,a};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(this,arguments)}function MB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OJ(n.key),n)}}function u3e(t,e,r){return e&&AB(t.prototype,e),r&&AB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d3e(t,e,r){return e=dw(e),f3e(t,AJ()?Reflect.construct(e,r||[],dw(t).constructor):e.apply(t,r))}function f3e(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h3e(t)}function h3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AJ=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(t)}function m3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VM(t,e)}function VM(t,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VM(t,e)}function Es(t,e,r){return e=OJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OJ(t){var e=p3e(t,"string");return gh(e)=="symbol"?e:e+""}function p3e(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g3e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Rp().domain(cw(0,c)).range([i,i+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:h}},OB=function(e){return e.changedTouches&&!!e.changedTouches.length},xh=(function(t){function e(r){var n;return c3e(this,e),n=d3e(this,e,[r]),Es(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Es(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Es(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Es(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Es(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Es(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Es(n,"handleSlideDragStart",function(a){var i=OB(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return m3e(e,t),u3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(a,i),g=Math.max(a,i),y=e.getIndexInRange(o,m),w=e.getIndexInRange(o,g);return{startIndex:y-y%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=aa(i[n],l,n);return Jt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,g=c.startIndex,y=c.endIndex,w=c.onChange,j=n.pageX-i;j>0?j=Math.min(j,d+h-m-l,d+h-m-o):j<0&&(j=Math.max(j,d-o,d-l));var v=this.getIndex({startX:o+j,endX:l+j});(v.startIndex!==g||v.endIndex!==y)&&w&&w(v),this.setState({startX:o+j,endX:l+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=OB(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],h=this.props,m=h.x,g=h.width,y=h.travellerWidth,w=h.onChange,j=h.gap,v=h.data,N={startX:this.state.startX,endX:this.state.endX},C=n.pageX-i;C>0?C=Math.min(C,m+g-y-d):C<0&&(C=Math.max(C,m-d)),N[o]=d+C;var S=this.getIndex(N),E=S.startIndex,T=S.endIndex,A=function(){var D=v.length-1;return o==="startX"&&(l>c?E%j===0:T%j===0)||l<c&&T===D||o==="endX"&&(l>c?T%j===0:E%j===0)||l>c&&T===D};this.setState(Es(Es({},o,d+C),"brushMoveStartX",n.pageX),function(){w&&A()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[a],m=l.indexOf(h);if(m!==-1){var g=m+n;if(!(g===-1||g>=l.length)){var y=l[g];a==="startX"&&y>=d||a==="endX"&&y<=c||this.setState(Es({},a,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return X.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,h=n.padding,m=x.Children.only(d);return m?X.cloneElement(m,{x:a,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,g=c.traveller,y=c.ariaLabel,w=c.data,j=c.startIndex,v=c.endIndex,N=Math.max(n,this.props.x),C=a_(a_({},Wt(this.props,!1)),{},{x:N,y:d,width:h,height:m}),S=y||"Min value: ".concat((i=w[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[v])===null||o===void 0?void 0:o.name);return X.createElement(Ar,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,C))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,h=Math.min(n,a)+d,m=Math.max(Math.abs(a-n)-d,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,h=this.state,m=h.startX,g=h.endX,y=5,w={pointerEvents:"none",fill:d};return X.createElement(Ar,{className:"recharts-brush-texts"},X.createElement(nd,uw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:o+l/2},w),this.getTextOfTick(a)),X.createElement(nd,uw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+y,y:o+l/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,h=n.height,m=n.alwaysShowText,g=this.state,y=g.startX,w=g.endX,j=g.isTextActive,v=g.isSlideMoving,N=g.isTravellerMoving,C=g.isTravellerFocused;if(!a||!a.length||!yt(l)||!yt(c)||!yt(d)||!yt(h)||d<=0||h<=0)return null;var S=$t("recharts-brush",i),E=X.Children.count(o)===1,T=l3e("userSelect","none");return X.createElement(Ar,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(j||v||N||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return X.isValidElement(n)?i=X.cloneElement(n,a):Jt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,h=n.startIndex,m=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return a_({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?g3e({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var g=a.scale.domain().map(function(y){return a.scale(y)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(x.PureComponent);Es(xh,"displayName","Brush");Es(xh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s_,EB;function x3e(){if(EB)return s_;EB=1;var t=kE();function e(r,n){var a;return t(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return s_=e,s_}var i_,DB;function y3e(){if(DB)return i_;DB=1;var t=TK(),e=Ao(),r=x3e(),n=Ss(),a=g1();function i(o,l,c){var d=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return i_=i,i_}var b3e=y3e();const v3e=Dr(b3e);var xo=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},o_,PB;function w3e(){if(PB)return o_;PB=1;var t=UK();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return o_=e,o_}var l_,RB;function j3e(){if(RB)return l_;RB=1;var t=w3e(),e=VK(),r=Ao();function n(a,i){var o={};return i=r(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return l_=n,l_}var S3e=j3e();const N3e=Dr(S3e);var c_,IB;function k3e(){if(IB)return c_;IB=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return c_=t,c_}var u_,LB;function C3e(){if(LB)return u_;LB=1;var t=kE();function e(r,n){var a=!0;return t(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return u_=e,u_}var d_,$B;function T3e(){if($B)return d_;$B=1;var t=k3e(),e=C3e(),r=Ao(),n=Ss(),a=g1();function i(o,l,c){var d=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,r(l,3))}return d_=i,d_}var _3e=T3e();const EJ=Dr(_3e);var M3e=["x","y"];function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function qM(){return qM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qM.apply(this,arguments)}function FB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(r),!0).forEach(function(n){A3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A3e(t,e,r){return e=O3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O3e(t){var e=E3e(t,"string");return B0(e)=="symbol"?e:e+""}function E3e(t,e){if(B0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D3e(t,e){if(t==null)return{};var r=P3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function R3e(t,e){var r=t.x,n=t.y,a=D3e(t,M3e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||a.height),h=parseInt(d,10),m="".concat(e.width||a.width),g=parseInt(m,10);return ip(ip(ip(ip(ip({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function HB(t){return X.createElement(kJ,qM({shapeType:"rectangle",propTransformer:R3e,activeClassName:"recharts-active-bar"},t))}var I3e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=yt(n)||s2e(n);return i?e(n,a):(i||sd(),r)}},L3e=["value","background"],DJ;function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function $3e(t,e){if(t==null)return{};var r=F3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fw.apply(this,arguments)}function BB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(r),!0).forEach(function(n){vc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RJ(n.key),n)}}function B3e(t,e,r){return e&&zB(t.prototype,e),r&&zB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z3e(t,e,r){return e=hw(e),V3e(t,PJ()?Reflect.construct(e,r||[],hw(t).constructor):e.apply(t,r))}function V3e(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q3e(t)}function q3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(t)}function U3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UM(t,e)}function vc(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=W3e(t,"string");return yh(e)=="symbol"?e:e+""}function W3e(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _l=(function(t){function e(){var r;H3e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=z3e(this,e,[].concat(a)),vc(r,"state",{isAnimationFinished:!1}),vc(r,"id",Fh("recharts-bar-")),vc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),vc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return U3e(e,t),B3e(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,h=Wt(this.props,!1);return n&&n.map(function(m,g){var y=g===c,w=y?d:o,j=Wn(Wn(Wn({},h),m),{},{isActive:y,option:w,index:g,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(Ar,fw({className:"recharts-bar-rectangle"},rd(a.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),X.createElement(HB,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,g=this.state.prevData;return X.createElement(ko,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,j=i.map(function(v,N){var C=g&&g[N];if(C){var S=Ps(C.x,v.x),E=Ps(C.y,v.y),T=Ps(C.width,v.width),A=Ps(C.height,v.height);return Wn(Wn({},v),{},{x:S(w),y:E(w),width:T(w),height:A(w)})}if(o==="horizontal"){var O=Ps(0,v.height),D=O(w);return Wn(Wn({},v),{},{y:v.y+v.height-D,height:D})}var $=Ps(0,v.width),L=$(w);return Wn(Wn({},v),{},{width:L})});return X.createElement(Ar,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!bg(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Wt(this.props.background,!1);return i.map(function(d,h){d.value;var m=d.background,g=$3e(d,L3e);if(!m)return null;var y=Wn(Wn(Wn(Wn(Wn({},g),{},{fill:"#eee"},m),c),rd(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return X.createElement(HB,fw({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=Bs(h,vg);if(!m)return null;var g=d==="vertical"?o[0].height/2:o[0].width/2,y=function(v,N){var C=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:C,errorVal:aa(v,N)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return X.createElement(Ar,w,m.map(function(j){return X.cloneElement(j,{key:"error-bar-".concat(a,"-").concat(j.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,h=n.top,m=n.width,g=n.height,y=n.isAnimationActive,w=n.background,j=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=$t("recharts-bar",o),C=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,E=C||S,T=tr(j)?this.id:j;return X.createElement(Ar,{className:N},C||S?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(T)},X.createElement("rect",{x:C?d:d-m/2,y:S?h:h-g/2,width:C?m:m*2,height:S?g:g*2}))):null,X.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(T,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,T),(!y||v)&&bl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(x.PureComponent);DJ=_l;vc(_l,"displayName","Bar");vc(_l,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vc(_l,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=vOe(n,r);if(!y)return null;var w=e.layout,j=r.type.defaultProps,v=j!==void 0?Wn(Wn({},j),r.props):r.props,N=v.dataKey,C=v.children,S=v.minPointSize,E=w==="horizontal"?o:i,T=d?E.scale.domain():null,A=TOe({numericAxis:E}),O=Bs(C,Bh),D=m.map(function($,L){var I,R,H,G,q,F;d?I=wOe(d[h+L],T):(I=aa($,N),Array.isArray(I)||(I=[A,I]));var P=I3e(S,DJ.defaultProps.minPointSize)(I[1],L);if(w==="horizontal"){var B,K=[o.scale(I[0]),o.scale(I[1])],te=K[0],U=K[1];R=hH({axis:i,ticks:l,bandSize:a,offset:y.offset,entry:$,index:L}),H=(B=U??te)!==null&&B!==void 0?B:void 0,G=y.size;var Q=te-U;if(q=Number.isNaN(Q)?0:Q,F={x:R,y:o.y,width:G,height:o.height},Math.abs(P)>0&&Math.abs(q)<Math.abs(P)){var ie=Ja(q||P)*(Math.abs(P)-Math.abs(q));H-=ie,q+=ie}}else{var le=[i.scale(I[0]),i.scale(I[1])],ce=le[0],ge=le[1];if(R=ce,H=hH({axis:o,ticks:c,bandSize:a,offset:y.offset,entry:$,index:L}),G=ge-ce,q=y.size,F={x:i.x,y:H,width:i.width,height:q},Math.abs(P)>0&&Math.abs(G)<Math.abs(P)){var $e=Ja(G||P)*(Math.abs(P)-Math.abs(G));G+=$e}}return Wn(Wn(Wn({},$),{},{x:R,y:H,width:G,height:q,value:d?I:I[1],payload:$,background:F},O&&O[L]&&O[L].props),{},{tooltipPayload:[oJ(r,$)],tooltipPosition:{x:R+G/2,y:H+q/2}})});return Wn({data:D,layout:w},g)});function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function G3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IJ(n.key),n)}}function Y3e(t,e,r){return e&&VB(t.prototype,e),r&&VB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(r),!0).forEach(function(n){R1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R1(t,e,r){return e=IJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IJ(t){var e=K3e(t,"string");return z0(e)=="symbol"?e:e+""}function K3e(t,e){if(z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LJ=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Ds(d,_l);return h.reduce(function(y,w){var j=r[w],v=j.orientation,N=j.domain,C=j.padding,S=C===void 0?{}:C,E=j.mirror,T=j.reversed,A="".concat(v).concat(E?"Mirror":""),O,D,$,L,I;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var R=N[1]-N[0],H=1/0,G=j.categoricalDomain.sort(l2e);if(G.forEach(function(le,ce){ce>0&&(H=Math.min((le||0)-(G[ce-1]||0),H))}),Number.isFinite(H)){var q=H/R,F=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(O=q*F/2),j.padding==="no-gap"){var P=Qa(e.barCategoryGap,q*F),B=q*F/2;O=B-P-(B-P)/F*P}}}a==="xAxis"?D=[n.left+(S.left||0)+(O||0),n.left+n.width-(S.right||0)-(O||0)]:a==="yAxis"?D=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(O||0),n.top+n.height-(S.bottom||0)-(O||0)]:D=j.range,T&&(D=[D[1],D[0]]);var K=nJ(j,i,g),te=K.scale,U=K.realScaleType;te.domain(N).range(D),aJ(te);var Q=sJ(te,Oi(Oi({},j),{},{realScaleType:U}));a==="xAxis"?(I=v==="top"&&!E||v==="bottom"&&E,$=n.left,L=m[A]-I*j.height):a==="yAxis"&&(I=v==="left"&&!E||v==="right"&&E,$=m[A]-I*j.width,L=n.top);var ie=Oi(Oi(Oi({},j),Q),{},{realScaleType:U,x:$,y:L,scale:te,width:a==="xAxis"?n.width:j.width,height:a==="yAxis"?n.height:j.height});return ie.bandSize=Xv(ie,Q),!j.hide&&a==="xAxis"?m[A]+=(I?-1:1)*ie.height:j.hide||(m[A]+=(I?-1:1)*ie.width),Oi(Oi({},y),{},R1({},w,ie))},{})},$J=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},X3e=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return $J({x:r,y:n},{x:a,y:i})},FJ=(function(){function t(e){G3e(this,t),this.scale=e}return Y3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();R1(FJ,"EPS",1e-4);var eD=function(e){var r=Object.keys(e).reduce(function(n,a){return Oi(Oi({},n),{},R1({},a,FJ.create(e[a])))},{});return Oi(Oi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return N3e(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return EJ(a,function(i,o){return r[o].isInRange(i)})}})};function J3e(t){return(t%180+180)%180}var Q3e=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=J3e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},f_,UB;function Z3e(){if(UB)return f_;UB=1;var t=Ao(),e=mg(),r=m1();function n(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(m){return d(c[m],m,c)}}var h=a(i,o,l);return h>-1?c[d?i[h]:h]:void 0}}return f_=n,f_}var h_,WB;function e6e(){if(WB)return h_;WB=1;var t=_J();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return h_=e,h_}var m_,GB;function t6e(){if(GB)return m_;GB=1;var t=$K(),e=Ao(),r=e6e(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(i,e(o,3),d)}return m_=a,m_}var p_,YB;function r6e(){if(YB)return p_;YB=1;var t=Z3e(),e=t6e(),r=t(e);return p_=r,p_}var n6e=r6e();const a6e=Dr(n6e);var s6e=eK();const i6e=Dr(s6e);var o6e=i6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),tD=x.createContext(void 0),rD=x.createContext(void 0),HJ=x.createContext(void 0),BJ=x.createContext({}),zJ=x.createContext(void 0),VJ=x.createContext(0),qJ=x.createContext(0),KB=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,h=o6e(i);return X.createElement(tD.Provider,{value:n},X.createElement(rD.Provider,{value:a},X.createElement(BJ.Provider,{value:i},X.createElement(HJ.Provider,{value:h},X.createElement(zJ.Provider,{value:o},X.createElement(VJ.Provider,{value:d},X.createElement(qJ.Provider,{value:c},l)))))))},l6e=function(){return x.useContext(zJ)},UJ=function(e){var r=x.useContext(tD);r==null&&sd();var n=r[e];return n==null&&sd(),n},c6e=function(){var e=x.useContext(tD);return gc(e)},u6e=function(){var e=x.useContext(rD),r=a6e(e,function(n){return EJ(n.domain,Number.isFinite)});return r||gc(e)},WJ=function(e){var r=x.useContext(rD);r==null&&sd();var n=r[e];return n==null&&sd(),n},d6e=function(){var e=x.useContext(HJ);return e},f6e=function(){return x.useContext(BJ)},nD=function(){return x.useContext(qJ)},aD=function(){return x.useContext(VJ)};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function h6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YJ(n.key),n)}}function p6e(t,e,r){return e&&m6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g6e(t,e,r){return e=mw(e),x6e(t,GJ()?Reflect.construct(e,r||[],mw(t).constructor):e.apply(t,r))}function x6e(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y6e(t)}function y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GJ=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(t)}function b6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WM(t,e)}function WM(t,e){return WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WM(t,e)}function XB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(r),!0).forEach(function(n){sD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sD(t,e,r){return e=YJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YJ(t){var e=v6e(t,"string");return bh(e)=="symbol"?e:e+""}function v6e(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function w6e(t,e){return k6e(t)||N6e(t,e)||S6e(t,e)||j6e()}function j6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6e(t,e){if(t){if(typeof t=="string")return QB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QB(t,e)}}function QB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function k6e(t){if(Array.isArray(t))return t}function GM(){return GM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GM.apply(this,arguments)}var C6e=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):Jt(e)?n=e(r):n=X.createElement("line",GM({},r,{className:"recharts-reference-line-line"})),n},T6e=function(e,r,n,a,i,o,l,c,d){var h=i.x,m=i.y,g=i.width,y=i.height;if(n){var w=d.y,j=e.y.apply(w,{position:o});if(xo(d,"discard")&&!e.y.isInRange(j))return null;var v=[{x:h+g,y:j},{x:h,y:j}];return c==="left"?v.reverse():v}if(r){var N=d.x,C=e.x.apply(N,{position:o});if(xo(d,"discard")&&!e.x.isInRange(C))return null;var S=[{x:C,y:m+y},{x:C,y:m}];return l==="top"?S.reverse():S}if(a){var E=d.segment,T=E.map(function(A){return e.apply(A,{position:o})});return xo(d,"discard")&&v3e(T,function(A){return!e.isInRange(A)})?null:T}return null};function _6e(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=l6e(),h=UJ(a),m=WJ(i),g=d6e();if(!d||!g)return null;$i(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=eD({x:h.scale,y:m.scale}),w=sa(e),j=sa(r),v=n&&n.length===2,N=T6e(y,w,j,v,g,t.position,h.orientation,m.orientation,t);if(!N)return null;var C=w6e(N,2),S=C[0],E=S.x,T=S.y,A=C[1],O=A.x,D=A.y,$=xo(t,"hidden")?"url(#".concat(d,")"):void 0,L=JB(JB({clipPath:$},Wt(t,!0)),{},{x1:E,y1:T,x2:O,y2:D});return X.createElement(Ar,{className:$t("recharts-reference-line",l)},C6e(o,L),ha.renderCallByParent(t,X3e({x1:E,y1:T,x2:O,y2:D})))}var iD=(function(t){function e(){return h6e(this,e),g6e(this,e,arguments)}return b6e(e,t),p6e(e,[{key:"render",value:function(){return X.createElement(_6e,this.props)}}])})(X.Component);sD(iD,"displayName","ReferenceLine");sD(iD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function YM(){return YM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YM.apply(this,arguments)}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function ZB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ez(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(r),!0).forEach(function(n){I1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XJ(n.key),n)}}function O6e(t,e,r){return e&&A6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E6e(t,e,r){return e=pw(e),D6e(t,KJ()?Reflect.construct(e,r||[],pw(t).constructor):e.apply(t,r))}function D6e(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6e(t)}function P6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KJ=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(t)}function R6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KM(t,e)}function KM(t,e){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KM(t,e)}function I1(t,e,r){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XJ(t){var e=I6e(t,"string");return vh(e)=="symbol"?e:e+""}function I6e(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L6e=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=eD({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return xo(e,"discard")&&!o.isInRange(l)?null:l},L1=(function(t){function e(){return M6e(this,e),E6e(this,e,arguments)}return R6e(e,t),O6e(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=sa(a),h=sa(i);if($i(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=L6e(this.props);if(!m)return null;var g=m.x,y=m.y,w=this.props,j=w.shape,v=w.className,N=xo(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=ez(ez({clipPath:N},Wt(this.props,!0)),{},{cx:g,cy:y});return X.createElement(Ar,{className:$t("recharts-reference-dot",v)},e.renderDot(j,C),ha.renderCallByParent(this.props,{x:g-o,y:y-o,width:2*o,height:2*o}))}}])})(X.Component);I1(L1,"displayName","ReferenceDot");I1(L1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});I1(L1,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Jt(t)?r=t(e):r=X.createElement(_1,YM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function XM(){return XM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XM.apply(this,arguments)}function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(r),!0).forEach(function(n){$1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QJ(n.key),n)}}function H6e(t,e,r){return e&&F6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B6e(t,e,r){return e=gw(e),z6e(t,JJ()?Reflect.construct(e,r||[],gw(t).constructor):e.apply(t,r))}function z6e(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V6e(t)}function V6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JJ=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(t)}function q6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JM(t,e)}function JM(t,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JM(t,e)}function $1(t,e,r){return e=QJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QJ(t){var e=U6e(t,"string");return wh(e)=="symbol"?e:e+""}function U6e(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W6e=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var g=eD({x:h.scale,y:m.scale}),y={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(d,{position:"end"}):g.y.rangeMax};return xo(i,"discard")&&(!g.isInRange(y)||!g.isInRange(w))?null:$J(y,w)},F1=(function(t){function e(){return $6e(this,e),B6e(this,e,arguments)}return q6e(e,t),H6e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,h=n.clipPathId;$i(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sa(a),g=sa(i),y=sa(o),w=sa(l),j=this.props.shape;if(!m&&!g&&!y&&!w&&!j)return null;var v=W6e(m,g,y,w,this.props);if(!v&&!j)return null;var N=xo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return X.createElement(Ar,{className:$t("recharts-reference-area",c)},e.renderRect(j,rz(rz({clipPath:N},Wt(this.props,!0)),v)),ha.renderCallByParent(this.props,v))}}])})(X.Component);$1(F1,"displayName","ReferenceArea");$1(F1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$1(F1,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Jt(t)?r=t(e):r=X.createElement(ZE,XM({},e,{className:"recharts-reference-area-rect"})),r});function ZJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function G6e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Q3e(n,r)}function Y6e(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function xw(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function K6e(t,e){return ZJ(t,e+1)}function X6e(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,h=o,m=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:ZJ(n,d)};var j=c,v,N=function(){return v===void 0&&(v=r(w,j)),v},C=w.coordinate,S=c===0||xw(t,C,N,h,l);S||(c=0,h=o,d+=1),S&&(h=C+t*(N()/2+a),c+=d)},g;d<=i.length;)if(g=m(),g)return g.v;return[]}function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(r),!0).forEach(function(n){J6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J6e(t,e,r){return e=Q6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q6e(t){var e=Z6e(t,"string");return V0(e)=="symbol"?e:e+""}function Z6e(t,e){if(V0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eRe(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(g){var y=i[g],w,j=function(){return w===void 0&&(w=r(y,g)),w};if(g===o-1){var v=t*(y.coordinate+t*j()/2-c);i[g]=y=$a($a({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else i[g]=y=$a($a({},y),{},{tickCoord:y.coordinate});var N=xw(t,y.tickCoord,j,l,c);N&&(c=y.tickCoord-t*(j()/2+a),i[g]=$a($a({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return i}function tRe(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var h=n[l-1],m=r(h,l-1),g=t*(h.coordinate+t*m/2-d);o[l-1]=h=$a($a({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var y=xw(t,h.tickCoord,function(){return m},c,d);y&&(d=h.tickCoord-t*(m/2+a),o[l-1]=$a($a({},h),{},{isShow:!0}))}for(var w=i?l-1:l,j=function(C){var S=o[C],E,T=function(){return E===void 0&&(E=r(S,C)),E};if(C===0){var A=t*(S.coordinate-t*T()/2-c);o[C]=S=$a($a({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[C]=S=$a($a({},S),{},{tickCoord:S.coordinate});var O=xw(t,S.tickCoord,T,c,d);O&&(c=S.tickCoord+t*(T()/2+a),o[C]=$a($a({},S),{},{isShow:!0}))},v=0;v<w;v++)j(v);return o}function oD(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(yt(c)||fd.isSsr)return K6e(a,typeof c=="number"&&yt(c)?c:0);var g=[],y=l==="top"||l==="bottom"?"width":"height",w=h&&y==="width"?Pp(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=function(S,E){var T=Jt(d)?d(S.value,E):S.value;return y==="width"?G6e(Pp(T,{fontSize:e,letterSpacing:r}),w,m):Pp(T,{fontSize:e,letterSpacing:r})[y]},v=a.length>=2?Ja(a[1].coordinate-a[0].coordinate):1,N=Y6e(i,v,y);return c==="equidistantPreserveStart"?X6e(v,N,j,a,o):(c==="preserveStart"||c==="preserveStartEnd"?g=tRe(v,N,j,a,o,c==="preserveStartEnd"):g=eRe(v,N,j,a,o),g.filter(function(C){return C.isShow}))}var rRe=["viewBox"],nRe=["viewBox"],aRe=["ticks"];function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?az(Object(r),!0).forEach(function(n){lD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g_(t,e){if(t==null)return{};var r=sRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tQ(n.key),n)}}function oRe(t,e,r){return e&&sz(t.prototype,e),r&&sz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lRe(t,e,r){return e=yw(e),cRe(t,eQ()?Reflect.construct(e,r||[],yw(t).constructor):e.apply(t,r))}function cRe(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uRe(t)}function uRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(t)}function dRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QM(t,e)}function QM(t,e){return QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QM(t,e)}function lD(t,e,r){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tQ(t){var e=fRe(t,"string");return jh(e)=="symbol"?e:e+""}function fRe(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uh=(function(t){function e(r){var n;return iRe(this,e),n=lRe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return dRe(e,t),oRe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=g_(n,rRe),l=this.props,c=l.viewBox,d=g_(l,nRe);return!Ef(i,c)||!Ef(o,d)||!Ef(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,h=a.tickSize,m=a.mirror,g=a.tickMargin,y,w,j,v,N,C,S=m?-1:1,E=n.tickSize||h,T=yt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":y=w=n.coordinate,v=o+ +!m*c,j=v-S*E,C=j-S*g,N=T;break;case"left":j=v=n.coordinate,w=i+ +!m*l,y=w-S*E,N=y-S*g,C=T;break;case"right":j=v=n.coordinate,w=i+ +m*l,y=w+S*E,N=y+S*g,C=T;break;default:y=w=n.coordinate,v=o+ +m*c,j=v+S*E,C=j+S*g,N=T;break}return{line:{x1:y,y1:j,x2:w,y2:v},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,h=n.axisLine,m=ra(ra(ra({},Wt(this.props,!1)),Wt(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!d||c==="bottom"&&d);m=ra(ra({},m),{},{x1:a,y1:i+g*l,x2:a+o,y2:i+g*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);m=ra(ra({},m),{},{x1:a+y*o,y1:i,x2:a+y*o,y2:i+l})}return X.createElement("line",vf({},m,{className:$t("recharts-cartesian-axis-line",Hs(h,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,y=oD(ra(ra({},this.props),{},{ticks:n}),a,i),w=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),v=Wt(this.props,!1),N=Wt(h,!1),C=ra(ra({},v),{},{fill:"none"},Wt(c,!1)),S=y.map(function(E,T){var A=o.getTickLineCoord(E),O=A.line,D=A.tick,$=ra(ra(ra(ra({textAnchor:w,verticalAnchor:j},v),{},{stroke:"none",fill:d},N),D),{},{index:T,payload:E,visibleTicksCount:y.length,tickFormatter:m});return X.createElement(Ar,vf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},rd(o.props,E,T)),c&&X.createElement("line",vf({},C,O,{className:$t("recharts-cartesian-axis-tick-line",Hs(c,"className"))})),h&&e.renderTickItem(h,$,"".concat(Jt(m)?m(E.value,T):E.value).concat(g||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,h=a.hide;if(h)return null;var m=this.props,g=m.ticks,y=g_(m,aRe),w=g;return Jt(c)&&(w=g&&g.length>0?c(this.props):c(y)),o<=0||l<=0||!w||!w.length?null:X.createElement(Ar,{className:$t("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),ha.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=$t(a.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?o=X.cloneElement(n,ra(ra({},a),{},{className:l})):Jt(n)?o=n(ra(ra({},a),{},{className:l})):o=X.createElement(nd,vf({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(x.Component);lD(Uh,"displayName","CartesianAxis");lD(Uh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hRe=["x1","y1","x2","y2","key"],mRe=["offset"];function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(r),!0).forEach(function(n){pRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pRe(t,e,r){return e=gRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gRe(t){var e=xRe(t,"string");return id(e)=="symbol"?e:e+""}function xRe(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(this,arguments)}function oz(t,e){if(t==null)return{};var r=yRe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bRe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return X.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function rQ(t,e){var r;if(X.isValidElement(t))r=X.cloneElement(t,e);else if(Jt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=oz(e,hRe),d=Wt(c,!1);d.offset;var h=oz(d,mRe);r=X.createElement("line",Eu({},h,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function vRe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Fa(Fa({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return rQ(a,d)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function wRe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Fa(Fa({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return rQ(a,d)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jRe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var w=!h[y+1],j=w?a+o-g:h[y+1]-g;if(j<=0)return null;var v=y%e.length;return X.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:j,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function SRe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var w=!h[y+1],j=w?i+l-g:h[y+1]-g;if(j<=0)return null;var v=y%n.length;return X.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:j,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var NRe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return rJ(oD(Fa(Fa(Fa({},Uh.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},kRe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return rJ(oD(Fa(Fa(Fa({},Uh.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},rf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Uu(t){var e,r,n,a,i,o,l=nD(),c=aD(),d=f6e(),h=Fa(Fa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rf.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:rf.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:rf.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:rf.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:rf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:rf.verticalFill,x:yt(t.x)?t.x:d.left,y:yt(t.y)?t.y:d.top,width:yt(t.width)?t.width:d.width,height:yt(t.height)?t.height:d.height}),m=h.x,g=h.y,y=h.width,w=h.height,j=h.syncWithTicks,v=h.horizontalValues,N=h.verticalValues,C=c6e(),S=u6e();if(!yt(y)||y<=0||!yt(w)||w<=0||!yt(m)||m!==+m||!yt(g)||g!==+g)return null;var E=h.verticalCoordinatesGenerator||NRe,T=h.horizontalCoordinatesGenerator||kRe,A=h.horizontalPoints,O=h.verticalPoints;if((!A||!A.length)&&Jt(T)){var D=v&&v.length,$=T({yAxis:S?Fa(Fa({},S),{},{ticks:D?v:S.ticks}):void 0,width:l,height:c,offset:d},D?!0:j);$i(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(id($),"]")),Array.isArray($)&&(A=$)}if((!O||!O.length)&&Jt(E)){var L=N&&N.length,I=E({xAxis:C?Fa(Fa({},C),{},{ticks:L?N:C.ticks}):void 0,width:l,height:c,offset:d},L?!0:j);$i(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(id(I),"]")),Array.isArray(I)&&(O=I)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(bRe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),X.createElement(vRe,Eu({},h,{offset:d,horizontalPoints:A,xAxis:C,yAxis:S})),X.createElement(wRe,Eu({},h,{offset:d,verticalPoints:O,xAxis:C,yAxis:S})),X.createElement(jRe,Eu({},h,{horizontalPoints:A})),X.createElement(SRe,Eu({},h,{verticalPoints:O})))}Uu.displayName="CartesianGrid";var CRe=["type","layout","connectNulls","ref"],TRe=["key"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function lz(t,e){if(t==null)return{};var r=_Re(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hp.apply(this,arguments)}function cz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(r),!0).forEach(function(n){Ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nf(t){return ERe(t)||ORe(t)||ARe(t)||MRe()}function MRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ARe(t,e){if(t){if(typeof t=="string")return ZM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(t,e)}}function ORe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ERe(t){if(Array.isArray(t))return ZM(t)}function ZM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aQ(n.key),n)}}function PRe(t,e,r){return e&&uz(t.prototype,e),r&&uz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RRe(t,e,r){return e=bw(e),IRe(t,nQ()?Reflect.construct(e,r||[],bw(t).constructor):e.apply(t,r))}function IRe(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LRe(t)}function LRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(t)}function $Re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eA(t,e)}function Ei(t,e,r){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=FRe(t,"string");return Sh(e)=="symbol"?e:e+""}function FRe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var od=(function(t){function e(){var r;DRe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=RRe(this,e,[].concat(a)),Ei(r,"state",{isAnimationFinished:!0,totalLength:0}),Ei(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ei(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(N,C){return N+C});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/d),m=o%d,g=l-o,y=[],w=0,j=0;w<c.length;j+=c[w],++w)if(j+c[w]>m){y=[].concat(nf(c.slice(0,w)),[m-j]);break}var v=y.length%2===0?[0,g]:[g];return[].concat(nf(e.repeat(c,h)),nf(y),v).map(function(N){return"".concat(N,"px")}).join(", ")}),Ei(r,"id",Fh("recharts-line-")),Ei(r,"pathRef",function(o){r.mainCurve=o}),Ei(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ei(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return $Re(e,t),PRe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=Bs(h,vg);if(!m)return null;var g=function(j,v){return{x:j.x,y:j.y,value:j.value,errorVal:aa(j.payload,v)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return X.createElement(Ar,y,m.map(function(w){return X.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,h=l.dataKey,m=Wt(this.props,!1),g=Wt(c,!0),y=d.map(function(j,v){var N=Os(Os(Os({key:"dot-".concat(v),r:3},m),g),{},{index:v,cx:j.x,cy:j.y,value:j.value,dataKey:h,payload:j.payload,points:d});return e.renderDotItem(c,N)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return X.createElement(Ar,Hp({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,d=l.layout,h=l.connectNulls;l.ref;var m=lz(l,CRe),g=Os(Os(Os({},Wt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:h});return X.createElement(Zv,Hp({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,g=o.animationEasing,y=o.animationId,w=o.animateNewValues,j=o.width,v=o.height,N=this.state,C=N.prevPoints,S=N.totalLength;return X.createElement(ko,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var T=E.t;if(C){var A=C.length/l.length,O=l.map(function(R,H){var G=Math.floor(H*A);if(C[G]){var q=C[G],F=Ps(q.x,R.x),P=Ps(q.y,R.y);return Os(Os({},R),{},{x:F(T),y:P(T)})}if(w){var B=Ps(j*2,R.x),K=Ps(v/2,R.y);return Os(Os({},R),{},{x:B(T),y:K(T)})}return Os(Os({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(O,n,a)}var D=Ps(0,S),$=D(T),L;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});L=i.getStrokeDasharray($,S,I)}else L=i.generateSimpleStrokeDasharray(S,$);return i.renderCurveStatically(l,n,a,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!bg(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,h=a.yAxis,m=a.top,g=a.left,y=a.width,w=a.height,j=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,C=l.length===1,S=$t("recharts-line",c),E=d&&d.allowDataOverflow,T=h&&h.allowDataOverflow,A=E||T,O=tr(v)?this.id:v,D=(n=Wt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=D.r,L=$===void 0?3:$,I=D.strokeWidth,R=I===void 0?2:I,H=x2e(o)?o:{},G=H.clipDot,q=G===void 0?!0:G,F=L*2+R;return X.createElement(Ar,{className:S},E||T?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(O)},X.createElement("rect",{x:E?g:g-y/2,y:T?m:m-w/2,width:E?y:y*2,height:T?w:w*2})),!q&&X.createElement("clipPath",{id:"clipPath-dots-".concat(O)},X.createElement("rect",{x:g-F/2,y:m-F/2,width:y+F,height:w+F}))):null,!C&&this.renderCurve(A,O),this.renderErrorBar(A,O),(C||o)&&this.renderDots(A,q,O),(!j||N)&&bl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(nf(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(nf(o),nf(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(X.isValidElement(n))i=X.cloneElement(n,a);else if(Jt(n))i=n(a);else{var o=a.key,l=lz(a,TRe),c=$t("recharts-line-dot",typeof n!="boolean"?n.className:"");i=X.createElement(_1,Hp({key:o},l,{className:c}))}return i}}])})(x.PureComponent);Ei(od,"displayName","Line");Ei(od,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ei(od,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,h=e.layout,m=c.map(function(g,y){var w=aa(g,o);return h==="horizontal"?{x:fH({axis:r,ticks:a,bandSize:l,entry:g,index:y}),y:tr(w)?null:n.scale(w),value:w,payload:g}:{x:tr(w)?null:r.scale(w),y:fH({axis:n,ticks:i,bandSize:l,entry:g,index:y}),value:w,payload:g}});return Os({points:m,layout:h},d)});function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function HRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oQ(n.key),n)}}function zRe(t,e,r){return e&&BRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VRe(t,e,r){return e=vw(e),qRe(t,sQ()?Reflect.construct(e,r||[],vw(t).constructor):e.apply(t,r))}function qRe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(t)}function URe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sQ=function(){return!!t})()}function vw(t){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(t)}function WRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tA(t,e)}function iQ(t,e,r){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oQ(t){var e=GRe(t,"string");return Nh(e)=="symbol"?e:e+""}function GRe(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rA.apply(this,arguments)}function YRe(t){var e=t.xAxisId,r=nD(),n=aD(),a=UJ(e);return a==null?null:x.createElement(Uh,rA({},a,{className:$t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ol(o,!0)}}))}var yo=(function(t){function e(){return HRe(this,e),VRe(this,e,arguments)}return WRe(e,t),zRe(e,[{key:"render",value:function(){return x.createElement(YRe,this.props)}}])})(x.Component);iQ(yo,"displayName","XAxis");iQ(yo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function KRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uQ(n.key),n)}}function JRe(t,e,r){return e&&XRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QRe(t,e,r){return e=ww(e),ZRe(t,lQ()?Reflect.construct(e,r||[],ww(t).constructor):e.apply(t,r))}function ZRe(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eIe(t)}function eIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!t})()}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(t)}function tIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nA(t,e)}function cQ(t,e,r){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uQ(t){var e=rIe(t,"string");return kh(e)=="symbol"?e:e+""}function rIe(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aA.apply(this,arguments)}var nIe=function(e){var r=e.yAxisId,n=nD(),a=aD(),i=WJ(r);return i==null?null:x.createElement(Uh,aA({},i,{className:$t("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ol(l,!0)}}))},bo=(function(t){function e(){return KRe(this,e),QRe(this,e,arguments)}return tIe(e,t),JRe(e,[{key:"render",value:function(){return x.createElement(nIe,this.props)}}])})(x.Component);cQ(bo,"displayName","YAxis");cQ(bo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dz(t){return oIe(t)||iIe(t)||sIe(t)||aIe()}function aIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sIe(t,e){if(t){if(typeof t=="string")return sA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(t,e)}}function iIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oIe(t){if(Array.isArray(t))return sA(t)}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iA=function(e,r,n,a,i){var o=Bs(e,iD),l=Bs(e,L1),c=[].concat(dz(o),dz(l)),d=Bs(e,F1),h="".concat(a,"Id"),m=a[0],g=r;if(c.length&&(g=c.reduce(function(j,v){if(v.props[h]===n&&xo(v.props,"extendDomain")&&yt(v.props[m])){var N=v.props[m];return[Math.min(j[0],N),Math.max(j[1],N)]}return j},g)),d.length){var y="".concat(m,"1"),w="".concat(m,"2");g=d.reduce(function(j,v){if(v.props[h]===n&&xo(v.props,"extendDomain")&&yt(v.props[y])&&yt(v.props[w])){var N=v.props[y],C=v.props[w];return[Math.min(j[0],N,C),Math.max(j[1],N,C)]}return j},g)}return i&&i.length&&(g=i.reduce(function(j,v){return yt(v)?[Math.min(j[0],v),Math.max(j[1],v)]:j},g)),g},x_={exports:{}},fz;function lIe(){return fz||(fz=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,m||c,g),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,g,y,w){var j=r?r+d:d;if(!this._events[j])return!1;var v=this._events[j],N=arguments.length,C,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,g),!0;case 5:return v.fn.call(v.context,h,m,g,y),!0;case 6:return v.fn.call(v.context,h,m,g,y,w),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];v.fn.apply(v.context,C)}else{var E=v.length,T;for(S=0;S<E;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,h);break;case 3:v[S].fn.call(v[S].context,h,m);break;case 4:v[S].fn.call(v[S].context,h,m,g);break;default:if(!C)for(T=1,C=new Array(N-1);T<N;T++)C[T-1]=arguments[T];v[S].fn.apply(v[S].context,C)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,g){var y=r?r+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!m||w.context===m)&&o(this,y);else{for(var j=0,v=[],N=w.length;j<N;j++)(w[j].fn!==h||g&&!w[j].once||m&&w[j].context!==m)&&v.push(w[j]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(x_)),x_.exports}var cIe=lIe();const uIe=Dr(cIe);var y_=new uIe,b_="recharts.syncMouseEvents";function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function dIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dQ(n.key),n)}}function hIe(t,e,r){return e&&fIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_(t,e,r){return e=dQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dQ(t){var e=mIe(t,"string");return q0(e)=="symbol"?e:e+""}function mIe(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pIe=(function(){function t(){dIe(this,t),v_(this,"activeIndex",0),v_(this,"coordinateList",[]),v_(this,"layout","horizontal")}return hIe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,g=r.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+d,g=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function gIe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&yt(n)&&yt(a))return!0}return!1}function xIe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function fQ(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=ln(e,r,n,a),l=ln(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function yIe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,g=ln(l,c,d,m),y=ln(l,c,h,m);n=g.x,a=g.y,i=y.x,o=y.y}else return fQ(e);return[{x:n,y:a},{x:i,y:o}]}function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function hz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(r),!0).forEach(function(n){bIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bIe(t,e,r){return e=vIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vIe(t){var e=wIe(t,"string");return U0(e)=="symbol"?e:e+""}function wIe(t,e){if(U0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jIe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!i||!o||g!=="ScatterChart"&&a!=="axis")return null;var w,j=Zv;if(g==="ScatterChart")w=o,j=qPe;else if(g==="BarChart")w=xIe(m,o,c,h),j=ZE;else if(m==="radial"){var v=fQ(o),N=v.cx,C=v.cy,S=v.radius,E=v.startAngle,T=v.endAngle;w={cx:N,cy:C,startAngle:E,endAngle:T,innerRadius:S,outerRadius:S},j=hJ}else w={points:yIe(m,o,c)},j=Zv;var A=Cy(Cy(Cy(Cy({stroke:"#ccc",pointerEvents:"none"},c),w),Wt(y,!1)),{},{payload:l,payloadIndex:d,className:$t("recharts-tooltip-cursor",y.className)});return x.isValidElement(y)?x.cloneElement(y,A):x.createElement(j,A)}var SIe=["item"],NIe=["children","className","width","height","style","compact","title","desc"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function mz(t,e){return TIe(t)||CIe(t,e)||mQ(t,e)||kIe()}function kIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function TIe(t){if(Array.isArray(t))return t}function pz(t,e){if(t==null)return{};var r=_Ie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Ie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pQ(n.key),n)}}function OIe(t,e,r){return e&&AIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EIe(t,e,r){return e=jw(e),DIe(t,hQ()?Reflect.construct(e,r||[],jw(t).constructor):e.apply(t,r))}function DIe(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PIe(t)}function PIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hQ=function(){return!!t})()}function jw(t){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(t)}function RIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}function oA(t,e){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oA(t,e)}function Th(t){return $Ie(t)||LIe(t)||mQ(t)||IIe()}function IIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(t,e){if(t){if(typeof t=="string")return lA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(t,e)}}function LIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ie(t){if(Array.isArray(t))return lA(t)}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(r),!0).forEach(function(n){Kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kt(t,e,r){return e=pQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pQ(t){var e=FIe(t,"string");return Ch(e)=="symbol"?e:e+""}function FIe(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HIe={xAxis:["bottom","top"],yAxis:["left","right"]},BIe={width:"100%",height:"100%"},gQ={x:0,y:0};function Ty(t){return t}var zIe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},VIe=function(e,r,n,a){var i=r.find(function(h){return h&&h.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return We(We(We({},a),ln(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return We(We(We({},a),ln(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return gQ},H1=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Th(l),Th(d)):l},[]);return o.length>0?o:e&&e.length&&yt(a)&&yt(i)?e.slice(a,i+1):[]};function xQ(t){return t==="number"?[0,"auto"]:void 0}var cA=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=H1(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var y=m===void 0?l:m;g=kv(y,o.dataKey,a)}else g=m&&m[n]||l[n];return g?[].concat(Th(c),[oJ(d,g)]):c},[])},xz=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=zIe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=mOe(o,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,g=cA(e,r,h,m),y=VIe(n,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},qIe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,y=tJ(h,i);return n.reduce(function(w,j){var v,N=j.type.defaultProps!==void 0?We(We({},j.type.defaultProps),j.props):j.props,C=N.type,S=N.dataKey,E=N.allowDataOverflow,T=N.allowDuplicatedCategory,A=N.scale,O=N.ticks,D=N.includeHidden,$=N[o];if(w[$])return w;var L=H1(e.data,{graphicalItems:a.filter(function(Q){var ie,le=o in Q.props?Q.props[o]:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie[o];return le===$}),dataStartIndex:c,dataEndIndex:d}),I=L.length,R,H,G;gIe(N.domain,E,C)&&(R=SM(N.domain,null,E),y&&(C==="number"||A!=="auto")&&(G=Ip(L,S,"category")));var q=xQ(C);if(!R||R.length===0){var F,P=(F=N.domain)!==null&&F!==void 0?F:q;if(S){if(R=Ip(L,S,C),C==="category"&&y){var B=o2e(R);T&&B?(H=R,R=cw(0,I)):T||(R=gH(P,R,j).reduce(function(Q,ie){return Q.indexOf(ie)>=0?Q:[].concat(Th(Q),[ie])},[]))}else if(C==="category")T?R=R.filter(function(Q){return Q!==""&&!tr(Q)}):R=gH(P,R,j).reduce(function(Q,ie){return Q.indexOf(ie)>=0||ie===""||tr(ie)?Q:[].concat(Th(Q),[ie])},[]);else if(C==="number"){var K=bOe(L,a.filter(function(Q){var ie,le,ce=o in Q.props?Q.props[o]:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie[o],ge="hide"in Q.props?Q.props.hide:(le=Q.type.defaultProps)===null||le===void 0?void 0:le.hide;return ce===$&&(D||!ge)}),S,i,h);K&&(R=K)}y&&(C==="number"||A!=="auto")&&(G=Ip(L,S,"category"))}else y?R=cw(0,I):l&&l[$]&&l[$].hasStack&&C==="number"?R=g==="expand"?[0,1]:iJ(l[$].stackGroups,c,d):R=eJ(L,a.filter(function(Q){var ie=o in Q.props?Q.props[o]:Q.type.defaultProps[o],le="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ie===$&&(D||!le)}),C,h,!0);if(C==="number")R=iA(m,R,$,i,O),P&&(R=SM(P,R,E));else if(C==="category"&&P){var te=P,U=R.every(function(Q){return te.indexOf(Q)>=0});U&&(R=te)}}return We(We({},w),{},Kt({},$,We(We({},N),{},{axisType:i,domain:R,categoricalDomain:G,duplicateDomain:H,originalDomain:(v=N.domain)!==null&&v!==void 0?v:q,isCategorical:y,layout:h})))},{})},UIe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,g=H1(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),y=g.length,w=tJ(h,i),j=-1;return n.reduce(function(v,N){var C=N.type.defaultProps!==void 0?We(We({},N.type.defaultProps),N.props):N.props,S=C[o],E=xQ("number");if(!v[S]){j++;var T;return w?T=cw(0,y):l&&l[S]&&l[S].hasStack?(T=iJ(l[S].stackGroups,c,d),T=iA(m,T,S,i)):(T=SM(E,eJ(g,n.filter(function(A){var O,D,$=o in A.props?A.props[o]:(O=A.type.defaultProps)===null||O===void 0?void 0:O[o],L="hide"in A.props?A.props.hide:(D=A.type.defaultProps)===null||D===void 0?void 0:D.hide;return $===S&&!L}),"number",h),a.defaultProps.allowDataOverflow),T=iA(m,T,S,i)),We(We({},v),{},Kt({},S,We(We({axisType:i},a.defaultProps),{},{hide:!0,orientation:Hs(HIe,"".concat(i,".").concat(j%2),null),domain:T,originalDomain:E,isCategorical:w,layout:h})))}return v},{})},WIe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.children,m="".concat(a,"Id"),g=Bs(h,i),y={};return g&&g.length?y=qIe(e,{axes:g,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(y=UIe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},GIe=function(e){var r=gc(e),n=ol(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Xv(r,n)}},yz=function(e){var r=e.children,n=e.defaultShowTooltip,a=Ds(r,xh),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},YIe=function(e){return!e||!e.length?!1:e.some(function(r){var n=xl(r&&r.type);return n&&n.indexOf("Bar")>=0})},bz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KIe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,h=n.height,m=n.children,g=n.margin||{},y=Ds(m,xh),w=Ds(m,po),j=Object.keys(c).reduce(function(T,A){var O=c[A],D=O.orientation;return!O.mirror&&!O.hide?We(We({},T),{},Kt({},D,T[D]+O.width)):T},{left:g.left||0,right:g.right||0}),v=Object.keys(o).reduce(function(T,A){var O=o[A],D=O.orientation;return!O.mirror&&!O.hide?We(We({},T),{},Kt({},D,Hs(T,"".concat(D))+O.height)):T},{top:g.top||0,bottom:g.bottom||0}),N=We(We({},v),j),C=N.bottom;y&&(N.bottom+=y.props.height||xh.defaultProps.height),w&&r&&(N=xOe(N,a,n,r));var S=d-N.left-N.right,E=h-N.top-N.bottom;return We(We({brushBottom:C},N),{},{width:Math.max(S,0),height:Math.max(E,0)})},XIe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},cD=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(N,C){var S=C.graphicalItems,E=C.stackGroups,T=C.offset,A=C.updateId,O=C.dataStartIndex,D=C.dataEndIndex,$=N.barSize,L=N.layout,I=N.barGap,R=N.barCategoryGap,H=N.maxBarSize,G=bz(L),q=G.numericAxisName,F=G.cateAxisName,P=YIe(S),B=[];return S.forEach(function(K,te){var U=H1(N.data,{graphicalItems:[K],dataStartIndex:O,dataEndIndex:D}),Q=K.type.defaultProps!==void 0?We(We({},K.type.defaultProps),K.props):K.props,ie=Q.dataKey,le=Q.maxBarSize,ce=Q["".concat(q,"Id")],ge=Q["".concat(F,"Id")],$e={},Oe=c.reduce(function(Re,ct){var St=C["".concat(ct.axisType,"Map")],ht=Q["".concat(ct.axisType,"Id")];St&&St[ht]||ct.axisType==="zAxis"||sd();var Ft=St[ht];return We(We({},Re),{},Kt(Kt({},ct.axisType,Ft),"".concat(ct.axisType,"Ticks"),ol(Ft)))},$e),xe=Oe[F],Ae=Oe["".concat(F,"Ticks")],Ve=E&&E[ce]&&E[ce].hasStack&&_Oe(K,E[ce].stackGroups),ee=xl(K.type).indexOf("Bar")>=0,ae=Xv(xe,Ae),Z=[],ve=P&&pOe({barSize:$,stackGroups:E,totalSize:XIe(Oe,F)});if(ee){var Ge,Ke,pe=tr(le)?H:le,ot=(Ge=(Ke=Xv(xe,Ae,!0))!==null&&Ke!==void 0?Ke:pe)!==null&&Ge!==void 0?Ge:0;Z=gOe({barGap:I,barCategoryGap:R,bandSize:ot!==ae?ot:ae,sizeList:ve[ge],maxBarSize:pe}),ot!==ae&&(Z=Z.map(function(Re){return We(We({},Re),{},{position:We(We({},Re.position),{},{offset:Re.position.offset-ot/2})})}))}var gt=K&&K.type&&K.type.getComposedData;gt&&B.push({props:We(We({},gt(We(We({},Oe),{},{displayedData:U,props:N,dataKey:ie,item:K,bandSize:ae,barPosition:Z,offset:T,stackedData:Ve,layout:L,dataStartIndex:O,dataEndIndex:D}))),{},Kt(Kt(Kt({key:K.key||"item-".concat(te)},q,Oe[q]),F,Oe[F]),"animationId",A)),childIndex:v2e(K,N.children),item:K})}),B},y=function(N,C){var S=N.props,E=N.dataStartIndex,T=N.dataEndIndex,A=N.updateId;if(!A7({props:S}))return null;var O=S.children,D=S.layout,$=S.stackOffset,L=S.data,I=S.reverseStackOrder,R=bz(D),H=R.numericAxisName,G=R.cateAxisName,q=Bs(O,n),F=COe(L,q,"".concat(H,"Id"),"".concat(G,"Id"),$,I),P=c.reduce(function(Q,ie){var le="".concat(ie.axisType,"Map");return We(We({},Q),{},Kt({},le,WIe(S,We(We({},ie),{},{graphicalItems:q,stackGroups:ie.axisType===H&&F,dataStartIndex:E,dataEndIndex:T}))))},{}),B=KIe(We(We({},P),{},{props:S,graphicalItems:q}),C==null?void 0:C.legendBBox);Object.keys(P).forEach(function(Q){P[Q]=h(S,P[Q],B,Q.replace("Map",""),r)});var K=P["".concat(G,"Map")],te=GIe(K),U=g(S,We(We({},P),{},{dataStartIndex:E,dataEndIndex:T,updateId:A,graphicalItems:q,stackGroups:F,offset:B}));return We(We({formattedGraphicalItems:U,graphicalItems:q,offset:B,stackGroups:F},te),P)},w=(function(v){function N(C){var S,E,T;return MIe(this,N),T=EIe(this,N,[C]),Kt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(T,"accessibilityManager",new pIe),Kt(T,"handleLegendBBoxUpdate",function(A){if(A){var O=T.state,D=O.dataStartIndex,$=O.dataEndIndex,L=O.updateId;T.setState(We({legendBBox:A},y({props:T.props,dataStartIndex:D,dataEndIndex:$,updateId:L},We(We({},T.state),{},{legendBBox:A}))))}}),Kt(T,"handleReceiveSyncEvent",function(A,O,D){if(T.props.syncId===A){if(D===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(O)}}),Kt(T,"handleBrushChange",function(A){var O=A.startIndex,D=A.endIndex;if(O!==T.state.dataStartIndex||D!==T.state.dataEndIndex){var $=T.state.updateId;T.setState(function(){return We({dataStartIndex:O,dataEndIndex:D},y({props:T.props,dataStartIndex:O,dataEndIndex:D,updateId:$},T.state))}),T.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),Kt(T,"handleMouseEnter",function(A){var O=T.getMouseInfo(A);if(O){var D=We(We({},O),{},{isTooltipActive:!0});T.setState(D),T.triggerSyncEvent(D);var $=T.props.onMouseEnter;Jt($)&&$(D,A)}}),Kt(T,"triggeredAfterMouseMove",function(A){var O=T.getMouseInfo(A),D=O?We(We({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(D),T.triggerSyncEvent(D);var $=T.props.onMouseMove;Jt($)&&$(D,A)}),Kt(T,"handleItemMouseEnter",function(A){T.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Kt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Kt(T,"handleMouseMove",function(A){A.persist(),T.throttleTriggeredAfterMouseMove(A)}),Kt(T,"handleMouseLeave",function(A){T.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};T.setState(O),T.triggerSyncEvent(O);var D=T.props.onMouseLeave;Jt(D)&&D(O,A)}),Kt(T,"handleOuterEvent",function(A){var O=b2e(A),D=Hs(T.props,"".concat(O));if(O&&Jt(D)){var $,L;/.*touch.*/i.test(O)?L=T.getMouseInfo(A.changedTouches[0]):L=T.getMouseInfo(A),D(($=L)!==null&&$!==void 0?$:{},A)}}),Kt(T,"handleClick",function(A){var O=T.getMouseInfo(A);if(O){var D=We(We({},O),{},{isTooltipActive:!0});T.setState(D),T.triggerSyncEvent(D);var $=T.props.onClick;Jt($)&&$(D,A)}}),Kt(T,"handleMouseDown",function(A){var O=T.props.onMouseDown;if(Jt(O)){var D=T.getMouseInfo(A);O(D,A)}}),Kt(T,"handleMouseUp",function(A){var O=T.props.onMouseUp;if(Jt(O)){var D=T.getMouseInfo(A);O(D,A)}}),Kt(T,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Kt(T,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseDown(A.changedTouches[0])}),Kt(T,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseUp(A.changedTouches[0])}),Kt(T,"handleDoubleClick",function(A){var O=T.props.onDoubleClick;if(Jt(O)){var D=T.getMouseInfo(A);O(D,A)}}),Kt(T,"handleContextMenu",function(A){var O=T.props.onContextMenu;if(Jt(O)){var D=T.getMouseInfo(A);O(D,A)}}),Kt(T,"triggerSyncEvent",function(A){T.props.syncId!==void 0&&y_.emit(b_,T.props.syncId,A,T.eventEmitterSymbol)}),Kt(T,"applySyncEvent",function(A){var O=T.props,D=O.layout,$=O.syncMethod,L=T.state.updateId,I=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)T.setState(We({dataStartIndex:I,dataEndIndex:R},y({props:T.props,dataStartIndex:I,dataEndIndex:R,updateId:L},T.state)));else if(A.activeTooltipIndex!==void 0){var H=A.chartX,G=A.chartY,q=A.activeTooltipIndex,F=T.state,P=F.offset,B=F.tooltipTicks;if(!P)return;if(typeof $=="function")q=$(B,A);else if($==="value"){q=-1;for(var K=0;K<B.length;K++)if(B[K].value===A.activeLabel){q=K;break}}var te=We(We({},P),{},{x:P.left,y:P.top}),U=Math.min(H,te.x+te.width),Q=Math.min(G,te.y+te.height),ie=B[q]&&B[q].value,le=cA(T.state,T.props.data,q),ce=B[q]?{x:D==="horizontal"?B[q].coordinate:U,y:D==="horizontal"?Q:B[q].coordinate}:gQ;T.setState(We(We({},A),{},{activeLabel:ie,activeCoordinate:ce,activePayload:le,activeTooltipIndex:q}))}else T.setState(A)}),Kt(T,"renderCursor",function(A){var O,D=T.state,$=D.isTooltipActive,L=D.activeCoordinate,I=D.activePayload,R=D.offset,H=D.activeTooltipIndex,G=D.tooltipAxisBandSize,q=T.getTooltipEventType(),F=(O=A.props.active)!==null&&O!==void 0?O:$,P=T.props.layout,B=A.key||"_recharts-cursor";return X.createElement(jIe,{key:B,activeCoordinate:L,activePayload:I,activeTooltipIndex:H,chartName:r,element:A,isActive:F,layout:P,offset:R,tooltipAxisBandSize:G,tooltipEventType:q})}),Kt(T,"renderPolarAxis",function(A,O,D){var $=Hs(A,"type.axisType"),L=Hs(T.state,"".concat($,"Map")),I=A.type.defaultProps,R=I!==void 0?We(We({},I),A.props):A.props,H=L&&L[R["".concat($,"Id")]];return x.cloneElement(A,We(We({},H),{},{className:$t($,H.className),key:A.key||"".concat(O,"-").concat(D),ticks:ol(H,!0)}))}),Kt(T,"renderPolarGrid",function(A){var O=A.props,D=O.radialLines,$=O.polarAngles,L=O.polarRadius,I=T.state,R=I.radiusAxisMap,H=I.angleAxisMap,G=gc(R),q=gc(H),F=q.cx,P=q.cy,B=q.innerRadius,K=q.outerRadius;return x.cloneElement(A,{polarAngles:Array.isArray($)?$:ol(q,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(L)?L:ol(G,!0).map(function(te){return te.coordinate}),cx:F,cy:P,innerRadius:B,outerRadius:K,key:A.key||"polar-grid",radialLines:D})}),Kt(T,"renderLegend",function(){var A=T.state.formattedGraphicalItems,O=T.props,D=O.children,$=O.width,L=O.height,I=T.props.margin||{},R=$-(I.left||0)-(I.right||0),H=QX({children:D,formattedGraphicalItems:A,legendWidth:R,legendContent:d});if(!H)return null;var G=H.item,q=pz(H,SIe);return x.cloneElement(G,We(We({},q),{},{chartWidth:$,chartHeight:L,margin:I,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Kt(T,"renderTooltip",function(){var A,O=T.props,D=O.children,$=O.accessibilityLayer,L=Ds(D,da);if(!L)return null;var I=T.state,R=I.isTooltipActive,H=I.activeCoordinate,G=I.activePayload,q=I.activeLabel,F=I.offset,P=(A=L.props.active)!==null&&A!==void 0?A:R;return x.cloneElement(L,{viewBox:We(We({},F),{},{x:F.left,y:F.top}),active:P,label:q,payload:P?G:[],coordinate:H,accessibilityLayer:$})}),Kt(T,"renderBrush",function(A){var O=T.props,D=O.margin,$=O.data,L=T.state,I=L.offset,R=L.dataStartIndex,H=L.dataEndIndex,G=L.updateId;return x.cloneElement(A,{key:A.key||"_recharts-brush",onChange:jy(T.handleBrushChange,A.props.onChange),data:$,x:yt(A.props.x)?A.props.x:I.left,y:yt(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(D.bottom||0),width:yt(A.props.width)?A.props.width:I.width,startIndex:R,endIndex:H,updateId:"brush-".concat(G)})}),Kt(T,"renderReferenceElement",function(A,O,D){if(!A)return null;var $=T,L=$.clipPathId,I=T.state,R=I.xAxisMap,H=I.yAxisMap,G=I.offset,q=A.type.defaultProps||{},F=A.props,P=F.xAxisId,B=P===void 0?q.xAxisId:P,K=F.yAxisId,te=K===void 0?q.yAxisId:K;return x.cloneElement(A,{key:A.key||"".concat(O,"-").concat(D),xAxis:R[B],yAxis:H[te],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:L})}),Kt(T,"renderActivePoints",function(A){var O=A.item,D=A.activePoint,$=A.basePoint,L=A.childIndex,I=A.isRange,R=[],H=O.props.key,G=O.item.type.defaultProps!==void 0?We(We({},O.item.type.defaultProps),O.item.props):O.item.props,q=G.activeDot,F=G.dataKey,P=We(We({index:L,dataKey:F,cx:D.x,cy:D.y,r:4,fill:QE(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Wt(q,!1)),Cv(q));return R.push(N.renderActiveDot(q,P,"".concat(H,"-activePoint-").concat(L))),$?R.push(N.renderActiveDot(q,We(We({},P),{},{cx:$.x,cy:$.y}),"".concat(H,"-basePoint-").concat(L))):I&&R.push(null),R}),Kt(T,"renderGraphicChild",function(A,O,D){var $=T.filterFormatItem(A,O,D);if(!$)return null;var L=T.getTooltipEventType(),I=T.state,R=I.isTooltipActive,H=I.tooltipAxis,G=I.activeTooltipIndex,q=I.activeLabel,F=T.props.children,P=Ds(F,da),B=$.props,K=B.points,te=B.isRange,U=B.baseLine,Q=$.item.type.defaultProps!==void 0?We(We({},$.item.type.defaultProps),$.item.props):$.item.props,ie=Q.activeDot,le=Q.hide,ce=Q.activeBar,ge=Q.activeShape,$e=!!(!le&&R&&P&&(ie||ce||ge)),Oe={};L!=="axis"&&P&&P.props.trigger==="click"?Oe={onClick:jy(T.handleItemMouseEnter,A.props.onClick)}:L!=="axis"&&(Oe={onMouseLeave:jy(T.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:jy(T.handleItemMouseEnter,A.props.onMouseEnter)});var xe=x.cloneElement(A,We(We({},$.props),Oe));function Ae(ct){return typeof H.dataKey=="function"?H.dataKey(ct.payload):null}if($e)if(G>=0){var Ve,ee;if(H.dataKey&&!H.allowDuplicatedCategory){var ae=typeof H.dataKey=="function"?Ae:"payload.".concat(H.dataKey.toString());Ve=kv(K,ae,q),ee=te&&U&&kv(U,ae,q)}else Ve=K==null?void 0:K[G],ee=te&&U&&U[G];if(ge||ce){var Z=A.props.activeIndex!==void 0?A.props.activeIndex:G;return[x.cloneElement(A,We(We(We({},$.props),Oe),{},{activeIndex:Z})),null,null]}if(!tr(Ve))return[xe].concat(Th(T.renderActivePoints({item:$,activePoint:Ve,basePoint:ee,childIndex:G,isRange:te})))}else{var ve,Ge=(ve=T.getItemByXY(T.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:xe},Ke=Ge.graphicalItem,pe=Ke.item,ot=pe===void 0?A:pe,gt=Ke.childIndex,Re=We(We(We({},$.props),Oe),{},{activeIndex:gt});return[x.cloneElement(ot,Re),null,null]}return te?[xe,null,null]:[xe,null]}),Kt(T,"renderCustomized",function(A,O,D){return x.cloneElement(A,We(We({key:"recharts-customized-".concat(D)},T.props),T.state))}),Kt(T,"renderMap",{CartesianGrid:{handler:Ty,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Ty},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Ty},YAxis:{handler:Ty},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((S=C.id)!==null&&S!==void 0?S:Fh("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=JK(T.triggeredAfterMouseMove,(E=C.throttleDelay)!==null&&E!==void 0?E:1e3/60),T.state={},T}return RIe(N,v),OIe(N,[{key:"componentDidMount",value:function(){var S,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,E=S.children,T=S.data,A=S.height,O=S.layout,D=Ds(E,da);if(D){var $=D.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,I=cA(this.state,T,$,L),R=this.state.tooltipTicks[$].coordinate,H=(this.state.offset.top+A)/2,G=O==="horizontal",q=G?{x:R,y:H}:{y:R,x:H},F=this.state.formattedGraphicalItems.find(function(B){var K=B.item;return K.type.name==="Scatter"});F&&(q=We(We({},q),F.props.points[$].tooltipPosition),I=F.props.points[$].tooltipPayload);var P={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:L,activePayload:I,activeCoordinate:q};this.setState(P),this.renderCursor(D),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var T,A;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){U5([Ds(S.children,da)],[Ds(this.props.children,da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ds(this.props.children,da);if(S&&typeof S.props.shared=="boolean"){var E=S.props.shared?"axis":"item";return l.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var E=this.container,T=E.getBoundingClientRect(),A=i_e(T),O={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},D=T.width/E.offsetWidth||1,$=this.inRange(O.chartX,O.chartY,D);if(!$)return null;var L=this.state,I=L.xAxisMap,R=L.yAxisMap,H=this.getTooltipEventType(),G=xz(this.state,this.props.data,this.props.layout,$);if(H!=="axis"&&I&&R){var q=gc(I).scale,F=gc(R).scale,P=q&&q.invert?q.invert(O.chartX):null,B=F&&F.invert?F.invert(O.chartY):null;return We(We({},O),{},{xValue:P,yValue:B},G)}return G?We(We({},O),G):null}},{key:"inRange",value:function(S,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,O=S/T,D=E/T;if(A==="horizontal"||A==="vertical"){var $=this.state.offset,L=O>=$.left&&O<=$.left+$.width&&D>=$.top&&D<=$.top+$.height;return L?{x:O,y:D}:null}var I=this.state,R=I.angleAxisMap,H=I.radiusAxisMap;if(R&&H){var G=gc(R);return bH({x:O,y:D},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,E=this.getTooltipEventType(),T=Ds(S,da),A={};T&&E==="axis"&&(T.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Cv(this.props,this.handleOuterEvent);return We(We({},O),A)}},{key:"addListener",value:function(){y_.on(b_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){y_.removeListener(b_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,E,T){for(var A=this.state.formattedGraphicalItems,O=0,D=A.length;O<D;O++){var $=A[O];if($.item===S||$.props.key===S.key||E===xl($.item.type)&&T===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,E=this.state.offset,T=E.left,A=E.top,O=E.height,D=E.width;return X.createElement("defs",null,X.createElement("clipPath",{id:S},X.createElement("rect",{x:T,y:A,height:O,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(E,T){var A=mz(T,2),O=A[0],D=A[1];return We(We({},E),{},Kt({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(E,T){var A=mz(T,2),O=A[0],D=A[1];return We(We({},E),{},Kt({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(S){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[S])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(S){var E=this.state,T=E.formattedGraphicalItems,A=E.activeItem;if(T&&T.length)for(var O=0,D=T.length;O<D;O++){var $=T[O],L=$.props,I=$.item,R=I.type.defaultProps!==void 0?We(We({},I.type.defaultProps),I.props):I.props,H=xl(I.type);if(H==="Bar"){var G=(L.data||[]).find(function(B){return NPe(S,B)});if(G)return{graphicalItem:$,payload:G}}else if(H==="RadialBar"){var q=(L.data||[]).find(function(B){return bH(S,B)});if(q)return{graphicalItem:$,payload:q}}else if(D1($,A)||P1($,A)||F0($,A)){var F=G4e({graphicalItem:$,activeTooltipItem:A,itemData:R.data}),P=R.activeIndex===void 0?F:R.activeIndex;return{graphicalItem:We(We({},$),{},{childIndex:P}),payload:F0($,A)?R.data[F]:$.props.data[F]}}}return null}},{key:"render",value:function(){var S=this;if(!A7(this))return null;var E=this.props,T=E.children,A=E.className,O=E.width,D=E.height,$=E.style,L=E.compact,I=E.title,R=E.desc,H=pz(E,NIe),G=Wt(H,!1);if(L)return X.createElement(KB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(G5,wf({},G,{width:O,height:D,title:I,desc:R}),this.renderClipPath(),E7(T,this.renderMap)));if(this.props.accessibilityLayer){var q,F;G.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,G.role=(F=this.props.role)!==null&&F!==void 0?F:"application",G.onKeyDown=function(B){S.accessibilityManager.keyboardEvent(B)},G.onFocus=function(){S.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return X.createElement(KB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",wf({className:$t("recharts-wrapper",A),style:We({position:"relative",cursor:"default",width:O,height:D},$)},P,{ref:function(K){S.container=K}}),X.createElement(G5,wf({},G,{width:O,height:D,title:I,desc:R,style:BIe}),this.renderClipPath(),E7(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);Kt(w,"displayName",r),Kt(w,"defaultProps",We({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Kt(w,"getDerivedStateFromProps",function(v,N){var C=v.dataKey,S=v.data,E=v.children,T=v.width,A=v.height,O=v.layout,D=v.stackOffset,$=v.margin,L=N.dataStartIndex,I=N.dataEndIndex;if(N.updateId===void 0){var R=yz(v);return We(We(We({},R),{},{updateId:0},y(We(We({props:v},R),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:S,prevWidth:T,prevHeight:A,prevLayout:O,prevStackOffset:D,prevMargin:$,prevChildren:E})}if(C!==N.prevDataKey||S!==N.prevData||T!==N.prevWidth||A!==N.prevHeight||O!==N.prevLayout||D!==N.prevStackOffset||!Ef($,N.prevMargin)){var H=yz(v),G={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},q=We(We({},xz(N,S,O)),{},{updateId:N.updateId+1}),F=We(We(We({},H),G),q);return We(We(We({},F),y(We({props:v},F),N)),{},{prevDataKey:C,prevData:S,prevWidth:T,prevHeight:A,prevLayout:O,prevStackOffset:D,prevMargin:$,prevChildren:E})}if(!U5(E,N.prevChildren)){var P,B,K,te,U=Ds(E,xh),Q=U&&(P=(B=U.props)===null||B===void 0?void 0:B.startIndex)!==null&&P!==void 0?P:L,ie=U&&(K=(te=U.props)===null||te===void 0?void 0:te.endIndex)!==null&&K!==void 0?K:I,le=Q!==L||ie!==I,ce=!tr(S),ge=ce&&!le?N.updateId:N.updateId+1;return We(We({updateId:ge},y(We(We({props:v},N),{},{updateId:ge,dataStartIndex:Q,dataEndIndex:ie}),N)),{},{prevChildren:E,dataStartIndex:Q,dataEndIndex:ie})}return null}),Kt(w,"renderActiveDot",function(v,N,C){var S;return x.isValidElement(v)?S=x.cloneElement(v,N):Jt(v)?S=v(N):S=X.createElement(_1,N),X.createElement(Ar,{className:"recharts-active-dot",key:C},S)});var j=x.forwardRef(function(N,C){return X.createElement(w,wf({},N,{ref:C}))});return j.displayName=w.displayName,j},uA=cD({chartName:"LineChart",GraphicalChild:od,axisComponents:[{axisType:"xAxis",AxisComp:yo},{axisType:"yAxis",AxisComp:bo}],formatAxisMap:LJ}),dA=cD({chartName:"BarChart",GraphicalChild:_l,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yo},{axisType:"yAxis",AxisComp:bo}],formatAxisMap:LJ}),uD=cD({chartName:"PieChart",GraphicalChild:Ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:E1},{axisType:"radiusAxis",AxisComp:A1}],formatAxisMap:$Oe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const vz=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const a=t*60+e,i=r*60+n;let o=Math.abs(i-a);return o>720&&(o=1440-o),o},_y=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},w_=({title:t,value:e,change:r,icon:n})=>{const a=r==null?void 0:r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},JIe=()=>{const[t,e]=x.useState(()=>{const q=localStorage.getItem("sidebarOpen");return q?JSON.parse(q):!1}),[r,n]=x.useState(!1),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(null),{user:h,getMachineHistories:m}=Ct(),g=Nt(),y=Zn(),[w,j]=x.useState(window.innerWidth<768),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=X.useRef(null),T=X.useRef(null),A=y.pathname==="/machinehistory",O=y.pathname==="/machinehistory/reports";x.useEffect(()=>{(async()=>{l(!0);try{const F=await m();i(F||[])}catch(F){console.error("Failed to fetch machine history for reports:",F),d("Failed to load machine history data for reports."),i([])}finally{l(!1)}})()},[m]),x.useEffect(()=>{const q=()=>{j(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),x.useEffect(()=>{const q=F=>{E.current&&!E.current.contains(F.target)&&N(!1),T.current&&!T.current.contains(F.target)&&S(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const D=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(q=>!q)},$=x.useMemo(()=>a.length,[a]),L=x.useMemo(()=>{const q={};return a.forEach(F=>{F.mesin&&(q[F.mesin]=(q[F.mesin]||0)+1)}),Object.entries(q).sort(([,F],[,P])=>P-F).slice(0,3).map(([F,P])=>({name:F,count:P}))},[a]),I=x.useMemo(()=>{const q={};return a.forEach(F=>{if(F.mesin){const P=vz(F.stopJam,F.stopMenit,F.startJam,F.startMenit);P!==null&&(q[F.mesin]||(q[F.mesin]={totalMinutes:0,count:0}),q[F.mesin].totalMinutes+=P,q[F.mesin].count+=1)}}),Object.entries(q).map(([F,P])=>{const B=P.count>0?P.totalMinutes/P.count:0,K=Math.round(B*100)/100;return{name:F,averageDowntimeMinutes:K,displayDowntime:_y(K)}})},[a]),R=x.useMemo(()=>{const q={};return a.forEach(F=>{if(F.date){const P=new Date(F.date),B=P.getFullYear(),K=(P.getMonth()+1).toString().padStart(2,"0"),te=`${B}-${K}`;q[te]=(q[te]||0)+1}}),Object.entries(q).sort(([F],[P])=>F.localeCompare(P)).map(([F,P])=>{const[B,K]=F.split("-");return{name:`${new Date(Number(B),Number(K)-1,1).toLocaleString("en-US",{month:"short"})} ${B}`,"Maintenance Events":P}})},[a]),H=x.useMemo(()=>{const q={Perbaikan:0,Perawatan:0};return a.forEach(F=>{F.perbaikanPerawatan==="Perbaikan"?q.Perbaikan+=1:F.perbaikanPerawatan==="Perawatan"&&(q.Perawatan+=1)}),[{name:"Repairs",value:q.Perbaikan},{name:"Maintenance",value:q.Perawatan}].filter(F=>F.value>0)},[a]),G=["#8884d8","#82ca9d","#ffc658","#ff7300"];return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:s.jsx(eg,{}),isMobile:w,toggleSidebar:D}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${A?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${O?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",s.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):a.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Ma,{className:"text-blue-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsx(w_,{title:"Total Maintenance Events",value:$.toLocaleString("id-ID"),icon:s.jsx(ir,{})}),s.jsx(w_,{title:"Avg. Downtime (All Machines)",value:_y(Math.round(a.reduce((q,F)=>q+(vz(F.stopJam,F.stopMenit,F.startJam,F.startMenit)||0),0)/a.length*100)/100),icon:s.jsx(It,{})}),s.jsx(w_,{title:"Machines Maintained",value:new Set(a.map(q=>q.mesin)).size.toLocaleString("id-ID"),icon:s.jsx(hn,{})}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Fi,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),s.jsx(al,{width:"100%",height:300,children:s.jsxs(dA,{data:L,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),s.jsx(yo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(bo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(da,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),s.jsx(_l,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),L.length===0&&s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ht,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),H.length>0?s.jsx(al,{width:"100%",height:300,children:s.jsxs(uD,{children:[s.jsx(Ui,{data:H,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:H.map((q,F)=>s.jsx(Bh,{fill:G[F%G.length]},`cell-${F}`))}),s.jsx(da,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(q,F)=>[`${q} events`,F]}),s.jsx(po,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),s.jsx(al,{width:"100%",height:350,children:s.jsxs(dA,{data:I,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),s.jsx(yo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(bo,{tickFormatter:q=>_y(q),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(da,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:q=>_y(q)}),s.jsx(_l,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),I.length===0&&s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ju,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),s.jsx(al,{width:"100%",height:350,children:s.jsxs(uA,{data:R,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),s.jsx(yo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(bo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(da,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),s.jsx(po,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),s.jsx(od,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),R.length===0&&s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function QIe(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const ZIe=()=>{const[t,e]=x.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),[r,n]=x.useState(!1),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(null),[h,m]=x.useState(1),[g]=x.useState(10),{user:y,getAuditTrail:w,isAuthenticated:j}=Ct();Nt();const[v,N]=x.useState(window.innerWidth<768),[C,S]=x.useState(!1),[E,T]=x.useState(!1),A=x.useRef(null),O=x.useRef(null),[D,$]=x.useState({key:"changed_at",direction:"descending"}),[L,I]=x.useState(""),R=QIe(L,300),[H,G]=x.useState(!1),[q,F]=x.useState(null),P=x.useCallback(async()=>{try{l(!0),d(null);const ae=await w();i(ae)}catch(ae){console.error("Failed to fetch audit trail:",ae),d("Failed to load audit trail data. Please try again."),i([])}finally{l(!1)}},[w]);x.useEffect(()=>{P()},[P]),x.useEffect(()=>{const ae=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),x.useEffect(()=>{const ae=Z=>{A.current&&!A.current.contains(Z.target)&&S(!1),O.current&&!O.current.contains(Z.target)&&T(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]);const B=ae=>{I(ae.target.value)},K=ae=>{let Z="ascending";D&&D.key===ae&&D.direction==="ascending"&&(Z="descending"),$({key:ae,direction:Z})},te=ae=>typeof ae=="object"&&ae!==null?ae.name||ae.toString():(ae==null?void 0:ae.toString())||"",U=x.useCallback(ae=>{F(ae),G(!0)},[]),Q=ae=>{switch(ae){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},ie=ae=>ae?ae.replace("App\\Models\\",""):"Unknown",le=X.useMemo(()=>{let ae=[...a||[]];if(R.trim()){const Z=R.toLowerCase().trim();ae=ae.filter(ve=>{var Ke,pe,ot;return[((Ke=ve.changed_by)==null?void 0:Ke.toLowerCase())||"",((pe=ve.action)==null?void 0:pe.toLowerCase())||"",((ot=ve.recordable_type)==null?void 0:ot.toLowerCase())||"",JSON.stringify(ve.old_data_snapshot||{}).toLowerCase(),JSON.stringify(ve.new_data_snapshot||{}).toLowerCase()].some(gt=>gt.includes(Z))})}return D!==null?ae.sort((Z,ve)=>{if(D.key==="changed_at"){const pe=new Date(Z.changed_at).getTime(),ot=new Date(ve.changed_at).getTime();return D.direction==="ascending"?pe-ot:ot-pe}const Ge=te(Z[D.key]),Ke=te(ve[D.key]);return Ge<Ke?D.direction==="ascending"?-1:1:Ge>Ke?D.direction==="ascending"?1:-1:0}):ae.sort((Z,ve)=>{const Ge=new Date(Z.changed_at).getTime();return new Date(ve.changed_at).getTime()-Ge}),ae},[a,R,D]),ce=h*g,ge=ce-g,$e=le.slice(ge,ce),Oe=Math.ceil(le.length/g),xe=ae=>m(ae),Ae=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(ae=>!ae)},Ve=ae=>{try{return new Date(ae).toLocaleString()}catch{return ae}},ee=({log:ae,onClose:Z})=>{const ve=rt=>rt==null?"-":typeof rt=="object"&&rt!==null?JSON.stringify(rt):typeof rt=="string"?rt.trim()!==""?rt.trim():"-":typeof rt=="number"?rt.toString():typeof rt=="boolean"?rt?"Yes":"No":String(rt),Ge=rt=>!rt||rt.trim()===""?"-":Al.sanitize(rt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),Ke=rt=>{try{return new Date(rt).toLocaleString()}catch{return rt}},pe=rt=>rt?rt.replace("App\\Models\\",""):"Unknown",ot=({title:rt,children:ke,icon:tt})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[tt&&s.jsx("div",{className:"mr-3 text-blue-600",children:tt}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:rt})]})}),s.jsx("div",{className:"p-6",children:ke})]}),gt=({label:rt,value:ke,icon:tt,fullWidth:Se=!1,priority:ft="medium"})=>{const xt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${Se?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${xt[ft]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[tt&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:tt}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:rt}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:ke})]})]})})})},Re=()=>{const rt=ae.old_data_snapshot?Object.keys(ae.old_data_snapshot):[],ke=ae.new_data_snapshot?Object.keys(ae.new_data_snapshot):[];return[...new Set([...rt,...ke])].filter(Se=>!["id","created_at","updated_at","deleted_at"].includes(Se))},ct=(rt,ke)=>{if(rt===void 0&&ke===void 0||rt===null&&ke===null)return!0;if(rt===void 0&&ke===null||rt===null&&ke===void 0)return!1;if(rt===ke)return!0;if(!isNaN(Number(rt))&&!isNaN(Number(ke)))return Number(rt)===Number(ke);if(typeof rt=="boolean"&&typeof ke=="boolean")return rt===ke;if(typeof rt=="string"&&typeof ke=="string")return rt.trim().toLowerCase()===ke.trim().toLowerCase();if(typeof rt=="object"&&typeof ke=="object"&&rt!==null&&ke!==null)try{return JSON.stringify(rt)===JSON.stringify(ke)}catch{return String(rt)===String(ke)}const tt=String(rt||"").trim(),Se=String(ke||"").trim();return(tt===""||tt==="null"||tt==="undefined")&&(Se===""||Se==="null"||Se==="undefined")?!0:tt===Se},St=()=>{const rt=Re();if(rt.length===0)return s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const ke=rt.map(ft=>{const xt=ae.old_data_snapshot??{},wt=ae.new_data_snapshot??{},we=Object.prototype.hasOwnProperty.call(xt,ft),at=Object.prototype.hasOwnProperty.call(wt,ft),Je=we?xt[ft]:void 0;let ne=at?wt[ft]:void 0;ae.action==="updated"&&we&&!at&&(ne=Je);let re;return!we&&at?re="added":we&&!at?re=ae.action==="deleted"?"removed":"unchanged":ct(Je,ne)?re="unchanged":re="updated",{key:ft,oldValue:Je,newValue:ne,status:re}}),tt=ke.filter(ft=>ft.status!=="unchanged").length,Se=ke.length-tt;return s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ke.map(({key:ft,oldValue:xt,newValue:wt,status:we})=>{const at=ft.split("_").map(et=>et.charAt(0).toUpperCase()+et.slice(1)).join(" "),Je=ft.toLowerCase().includes("complaint")||ft.toLowerCase().includes("action_taken")||ft.toLowerCase().includes("remarks"),ne=Je?Ge(String(xt||"")):ve(xt),re=Je?Ge(String(wt||"")):ve(wt),Me=we==="updated"?"bg-yellow-50":we==="added"?"bg-green-50":we==="removed"?"bg-red-50":"";return s.jsxs("tr",{className:Me,children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:at}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Je?s.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${we==="removed"?"bg-red-100 text-red-800 border border-red-200":we==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ne}}):s.jsx("div",{className:`p-2 rounded ${we==="removed"?"bg-red-100 text-red-800 border border-red-200":we==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ne})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Je?s.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${we==="added"?"bg-green-100 text-green-800 border border-green-200":we==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:re}}):s.jsx("div",{className:`p-2 rounded ${we==="added"?"bg-green-100 text-green-800 border border-green-200":we==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:re})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:we==="added"?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Jn,{className:"w-3 h-3 mr-1"}),"Added"]}):we==="removed"?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"}),"Removed"]}):we==="updated"?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[s.jsx(Ri,{className:"w-3 h-3 mr-1"}),"Updated"]}):s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[s.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},ft)})})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:tt})," field(s) changed • ",s.jsx("span",{className:"font-medium",children:Se})," field(s) unchanged"]})]})},ht=(rt,ke)=>{if(!rt||Object.keys(rt).length===0)return s.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",ke," data available"]});const tt=Object.entries(rt).filter(([Se])=>!["id","created_at","updated_at","deleted_at"].includes(Se));return tt.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",ke," data available"]}):s.jsx("div",{className:"space-y-4",children:tt.map(([Se,ft])=>{const xt=Se.split("_").map(we=>we.charAt(0).toUpperCase()+we.slice(1)).join(" "),wt=Se.toLowerCase().includes("complaint")||Se.toLowerCase().includes("action_taken")||Se.toLowerCase().includes("remarks");return s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:s.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:xt})}),s.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:wt?s.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Ge(String(ft||""))}}):s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:ve(ft)})})]},Se)})})},Ft=(rt,ke)=>{if(!rt||Object.keys(rt).length===0)return s.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",ke.toLowerCase()," available"]});const tt=Object.entries(rt).filter(([Se,ft])=>!(["id","created_at","updated_at","deleted_at"].includes(Se)||ft==null||ft===""));return tt.length===0?s.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",ke.toLowerCase()," available"]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:tt.map(([Se,ft])=>{const xt=Se.split("_").map(wt=>wt.charAt(0).toUpperCase()+wt.slice(1)).join(" ");return s.jsx(gt,{label:xt,value:ve(ft)},Se)})})};return s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",ae.id]}),s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ae.action==="created"?"bg-green-100 text-green-800 border border-green-300":ae.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":ae.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:ae.action.charAt(0).toUpperCase()+ae.action.slice(1)})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"w-4 h-4"}),"Timestamp: ",Ke(ae.changed_at)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mr,{className:"w-4 h-4"}),"User: ",ae.changed_by||"N/A"]})]})]})})}),s.jsx(ot,{title:"General Information",icon:s.jsx(ir,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(gt,{label:"Audit ID",value:ve(ae.id),icon:s.jsx(Bf,{className:"w-4 h-4"}),priority:"high"}),s.jsx(gt,{label:"Timestamp",value:Ke(ae.changed_at),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(gt,{label:"User",value:ve(ae.changed_by),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(gt,{label:"Action",value:ve(ae.action),icon:s.jsx(Ri,{className:"w-4 h-4"}),priority:"high"}),s.jsx(gt,{label:"Record Type",value:pe(ae.recordable_type),icon:s.jsx(Sf,{className:"w-4 h-4"})}),s.jsx(gt,{label:"Record ID",value:ve(ae.recordable_id),icon:s.jsx(Yp,{className:"w-4 h-4"})})]})}),ae.recordable_details&&Object.keys(ae.recordable_details).length>0&&s.jsx(ot,{title:"Record Details",icon:s.jsx(Sf,{className:"w-5 h-5"}),children:Ft(ae.recordable_details,"Record Details")}),s.jsx(ot,{title:"Data Changes Comparison",icon:s.jsx(Ri,{className:"w-5 h-5"}),children:St()}),s.jsx(ot,{title:"Complete Data Snapshots",icon:s.jsx(Mw,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"space-y-8",children:[ae.old_data_snapshot&&Object.keys(ae.old_data_snapshot).length>0&&s.jsxs("div",{className:"w-full",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:ht(ae.old_data_snapshot,"old")})]}),ae.new_data_snapshot&&Object.keys(ae.new_data_snapshot).length>0&&s.jsxs("div",{className:"w-full",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:ht(ae.new_data_snapshot,"new")})]})]})}),s.jsx(ot,{title:"Audit Summary",icon:s.jsx(Fi,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:ae.action.charAt(0).toUpperCase()+ae.action.slice(1)})]}),s.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),s.jsxs("p",{className:"text-sm text-green-600",children:[pe(ae.recordable_type)," • ID: ",ae.recordable_id]})]})]})}),s.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:s.jsx(_.button,{type:"button",onClick:Z,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:s.jsx(Yp,{}),isMobile:v,toggleSidebar:Ae}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",s.jsx("span",{className:"text-blue-600",children:"Trail"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),s.jsx(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:L,onChange:B,"aria-label":"Search audit logs"})]})})}),o?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Zt,{className:"text-red-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),s.jsx("button",{onClick:P,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):le.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Ma,{className:"text-blue-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:R?"No audit entries found matching your search.":"No audit entries available."}),R&&s.jsx("button",{onClick:()=>I(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("changed_at"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(It,{className:"mr-2 text-sm"})," Timestamp",(D==null?void 0:D.key)==="changed_at"?s.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"↑":"↓"}):s.jsx("span",{className:"ml-1 text-gray-400",children:"↓"})]})}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("changed_by"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mr,{className:"mr-2 text-sm"})," User",(D==null?void 0:D.key)==="changed_by"&&s.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"↑":"↓"})]})}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("action"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ri,{className:"mr-2 text-sm"})," Action",(D==null?void 0:D.key)==="action"&&s.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"↑":"↓"})]})}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("recordable_type"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sf,{className:"mr-2 text-sm"})," Record Type",(D==null?void 0:D.key)==="recordable_type"&&s.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"↑":"↓"})]})}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:$e.map(ae=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ve(ae.changed_at)})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.changed_by||"N/A"})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Q(ae.action)} shadow-sm`,children:ae.action.charAt(0).toUpperCase()+ae.action.slice(1)})}),s.jsxs("td",{className:"px-5 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie(ae.recordable_type)}),ae.recordable_id&&s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",ae.recordable_id]})]}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(ae),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[s.jsx(es,{className:"text-lg"}),s.jsx("span",{children:"View"})]})})]},ae.id))})]})})}),le.length>g&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold",children:ge+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(ce,le.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:le.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe(h-1),disabled:h===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Oe},(ae,Z)=>s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe(Z+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${h===Z+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Z+1}`,children:Z+1},Z+1)),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe(h+1),disabled:h===Oe,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),q&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",q.id]}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{G(!1),F(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:s.jsx(ee,{log:q,onClose:()=>{G(!1),F(null)}})})]})})})]})},eLe=()=>{const t=Nt(),{user:e}=Ct(),[r,n]=x.useState(!1),[a,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:s.jsx(xb,{}),isMobile:o,toggleSidebar:w}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),s.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:s.jsxs(_.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workflowapproval/monitoringapproval"),children:[s.jsx(Dh,{size:64,className:"text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),s.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",s.jsx(Zr,{size:18,className:"ml-1"})]})]})})]})]})]})},wz=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,tLe=()=>{const t=Nt(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:a}=Ct(),[i,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(()=>{const H=localStorage.getItem("sidebarOpen");return JSON.parse(H||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(H=>!H)},[h,m]=x.useState(!1),[g,y]=x.useState(""),[w,j]=x.useState([]),[v,N]=x.useState(!1),[C,S]=x.useState(""),[E,T]=x.useState(!1),[A,O]=x.useState(null),D=(H,G,q)=>{O({type:H,templateId:G,templateName:q}),T(!0)},$=async()=>{if(A)try{N(!0),A.type==="activate"?(await a(A.templateId),j(H=>H.map(G=>({...G,is_active:G.id===A.templateId})))):A.type==="delete"&&(await n(A.templateId),await L()),T(!1),O(null),S("")}catch(H){S(`Failed to ${A.type} template`),console.error(`Error ${A.type}ing template:`,H)}finally{N(!1)}};x.useEffect(()=>{L()},[]);const L=async()=>{try{N(!0);const H=await e();j(H||[])}catch(H){S("Failed to load approval templates"),console.error("Error loading templates:",H)}finally{N(!1)}},I=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const H=await r({name:g,is_active:!1});j(G=>[...G,H]),m(!1),y(""),S("")}catch(H){S("Failed to create template"),console.error("Error creating template:",H)}finally{N(!1)}},R=H=>{t(`/workflowapproval/monitoringapproval/configureapproval/${H.id}`)};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:s.jsx(xb,{}),isMobile:i,toggleSidebar:d}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.jsx(Hq,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),s.jsxs(_.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:v,children:[s.jsx(ule,{size:18,className:"mr-2"})," Create New Template"]})]}),C&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:C}),v?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx(gb,{className:"animate-spin text-blue-600",size:32})}):s.jsx("div",{className:"space-y-4",children:w.length>0?w.map(H=>s.jsx(_.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[s.jsx(Sf,{size:20,className:"mr-2 text-blue-500"}),H.name]}),s.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[s.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${H.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.is_active?"Active":"Inactive"}),H.approvers&&s.jsxs("span",{className:"text-xs text-gray-500",children:[H.approvers.length," approver(s)"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{onClick:()=>R(H),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:v,children:"Configure"}),!H.is_active&&s.jsx(_.button,{onClick:G=>{G.stopPropagation(),D("activate",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:v,children:"Activate"}),s.jsx(_.button,{onClick:G=>{G.stopPropagation(),D("delete",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:v,children:"Delete"})]})]})},H.id)):s.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),s.jsx(wz,{isOpen:E,onClose:()=>{T(!1),O(null)},title:"Confirm Action",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",A==null?void 0:A.type,' template "',A==null?void 0:A.templateName,'"?',(A==null?void 0:A.type)==="delete"&&" This action cannot be undone."]}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{T(!1),O(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(A==null?void 0:A.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(A==null?void 0:A.type)==="delete"?"Delete":"Activate"})]})]})}),s.jsx(wz,{isOpen:h,onClose:()=>m(!1),title:"Create New Template",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),s.jsx("input",{type:"text",id:"templateName",value:g,onChange:H=>y(H.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),C&&s.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:C}),s.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),y(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),s.jsxs(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:v||!g.trim(),children:[v?s.jsx(gb,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},jz=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),rLe=()=>{const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(""),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(null),E=x.useRef(!0),[T]=x.useState(window.innerWidth<768),[A,O]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),D=Nt(),{getServiceGroups:$,getServiceGroup:L,hasPermission:I}=Ct(),R=()=>{const P=!A;O(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},H=x.useCallback(async()=>{try{n(!0);const B=(await $(0)).map(K=>({id:Number(K.id),name:K.group_name??"",description:K.group_description??void 0}));e(B)}catch(P){S("Failed to load service groups"),console.error("Error loading service groups:",P)}finally{E.current&&n(!1)}},[$]);x.useEffect(()=>(E.current=!0,H(),()=>{E.current=!1}),[H]);const G=async()=>{if(!c.trim()){S("Group Name is required");return}y(!0),S(null);try{if(await new Promise(P=>setTimeout(P,500)),o)e(P=>P.map(B=>B.id===o.id?{...B,name:c.trim(),description:h.trim()||void 0}:B));else{const P={id:t.length>0?Math.max(...t.map(B=>B.id))+1:1,name:c.trim(),description:h.trim()||void 0};e(B=>[...B,P])}i(!1),l(null),d(""),m("")}catch(P){S("Failed to save service group"),console.error("Error saving service group:",P)}finally{y(!1)}},q=P=>{if(!I("manage_users")){S("You don't have permission to delete service groups");return}j(P),N(!0),S(null)},F=async()=>{if(w!==null){y(!0),S(null);try{await new Promise(P=>setTimeout(P,500)),e(P=>P.filter(B=>B.id!==w)),N(!1),j(null)}catch(P){S("Failed to delete service group"),console.error("Error deleting service group:",P)}finally{y(!1)}}};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:s.jsx(ia,{}),isMobile:T,toggleSidebar:R}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",s.jsx("span",{className:"text-blue-600",children:"Groups"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),I("manage_users")&&s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D("/service/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Group"})]})]}),r?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:s.jsx(fle,{})}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),I("manage_users")&&s.jsx("button",{onClick:()=>D("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:P.description||"-"})}),I("manage_users")&&s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(`/service/servicegroups/editservicegroup/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})}),C&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 font-medium",children:C})})]})]}),s.jsx(jz,{isOpen:a,onClose:()=>i(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),s.jsx("input",{value:c,onChange:P=>d(P.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),s.jsx("textarea",{value:h,onChange:P=>m(P.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),l(null),d(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:G,disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:g?"Saving...":"Save"})]}),C&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 font-medium",children:C})})]})}),s.jsx(jz,{isOpen:v,onClose:()=>N(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:s.jsx(yn,{})}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,disabled:g,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:g?"Deleting...":"Delete"})]})]})})]})};function nLe(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const j_=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),My=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:a=!0})=>{const l=a?((h,m)=>{if(m===0)return h>0?"+100%":"0%";const g=(h-m)/m*100;return`${g>=0?"+":""}${Math.round(g)}%`})(e,r):((h,m)=>{const g=h-m;return`${g>0?"+":g<0?"":"+"}${g}`})(e,r),c=e>=r,d=a?`${l} from last month`:`${l} from last month`;return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:d})]})},aLe=()=>{var Fe,he,de;const t=Ct(),[e,r]=x.useState(()=>{const se=localStorage.getItem("sidebarOpen");return JSON.parse(se||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(se=>!se)},a=Nt(),[i,o]=x.useState(null),l=se=>{o(se),d(!0)},[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[v,N]=x.useState(""),[C,S]=x.useState(!1),[E,T]=x.useState(""),[A,O]=x.useState(""),[D,$]=x.useState(!0),[L,I]=x.useState([]),[R,H]=x.useState([]),[G,q]=x.useState([]),[F,P]=x.useState(!1),[B,K]=x.useState(null),[te,U]=x.useState(!1),[Q,ie]=x.useState(null),[le,ce]=x.useState(null),[ge,$e]=x.useState(!1),Oe=nLe(v,300),xe=x.useRef(null),[Ae,Ve]=x.useState(1),ee=10,[ae,Z]=x.useState({key:"created_at",direction:"descending"}),[ve,Ge]=x.useState(null),[Ke,pe]=x.useState(!1),[ot,gt]=x.useState(window.innerWidth<768),Re=x.useRef(null),ct=x.useRef(null),St=x.useCallback(async()=>{try{const De=(await t.getServiceGroups(0)||[]).map(Ye=>Ye.group_name||Ye.group_description?{id:Ye.id,group_name:Ye.group_name,group_description:Ye.group_description,name:Ye.group_name||Ye.name}:{id:Ye.id,name:Ye.name||null});H(De)}catch{H([])}},[t]),ht=x.useCallback(async()=>{try{const De=(await t.getUsers()||[]).map(Ye=>({id:Number(Ye.id),name:Ye.name}));q(De)}catch{q([])}},[t]),Ft=x.useCallback(se=>({id:se.id??0,service_name:se.service_name??se.name??"",service_description:se.service_description??se.description??"",service_type:Number(se.service_type??se.service_type??0),priority:se.priority??"Low",service_owner:Number(se.service_owner??se.service_owner??se.owner??0),sla:Number(se.sla??se.sla??0),impact:se.impact??"",created_at:se.created_at??se.createdAt??new Date().toISOString(),updated_at:se.updated_at??se.updatedAt??new Date().toISOString()}),[]),rt=x.useCallback(async()=>{$(!0),Ge(null);try{const De=(await t.getServices(0)||[]).map(Ft);De.sort((Ye,qe)=>Ye.created_at<qe.created_at?1:-1),I(De)}catch{Ge("Failed to load service catalogue."),I([])}finally{$(!1)}},[t,Ft]);x.useEffect(()=>{let se=!0;return se&&(rt(),St(),ht()),()=>{se=!1}},[rt,St,ht]),x.useEffect(()=>{const se=()=>{gt(window.innerWidth<768)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),x.useEffect(()=>{const se=De=>{Re.current&&!Re.current.contains(De.target)&&j(!1),ct.current&&!ct.current.contains(De.target)&&y(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]);const ke=(se,De)=>{ce({type:se,message:De}),setTimeout(()=>ce(null),3e3)},tt=L.length,Se=x.useMemo(()=>{const se={Critical:0,High:0,Medium:0,Low:0};return L.forEach(De=>{const Ye=De.priority||"Low";se[Ye]=(se[Ye]||0)+1}),se},[L]),ft=x.useMemo(()=>{if(L.length===0)return 0;const se=L.reduce((De,Ye)=>De+(Ye.sla||0),0);return Math.round(se/L.length*100)/100},[L]),xt=x.useMemo(()=>{const se=new Set;return L.forEach(De=>se.add(De.service_owner)),se.size},[L]),wt=x.useMemo(()=>{const se=new Date;return se.setMonth(se.getMonth()-1),L.filter(De=>new Date(De.created_at)<se)},[L]),we=()=>{T(""),O(""),N("")},at=se=>{let De="ascending";ae&&ae.key===se&&ae.direction==="ascending"&&(De="descending"),Z({key:se,direction:De})},Je=async se=>{if(se){$e(!0);try{const Ye=(await se.text()).split(`
`).map(Ce=>Ce.trim()).filter(Boolean),qe=[];for(let Ce=0;Ce<Ye.length;Ce++){const Be=Ye[Ce].split(",").map(Lt=>Lt.trim()),nt={service_name:Be[1]||`Imported Service ${Ce+1}`,service_description:Be[2]||"",service_type:R[0]?Number(R[0].id):0,priority:Be[4]||"Low",service_owner:G[0]?G[0].id:0,sla:Number(Be[6])||24,impact:Be[7]||""};qe.push(nt)}for(const Ce of qe)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});await rt(),ke("success",`Imported ${qe.length} services`)}catch{ke("error","Import failed")}finally{$e(!1)}}},ne=se=>{var Ye;const De=((Ye=se.target.files)==null?void 0:Ye[0])||null;De&&Je(De),se.target.value=""},re=se=>{ie(se),U(!0)},Me=async()=>{if(Q){pe(!0);try{await t.fetchWithAuth(`/service-catalogues/${Q}`,{method:"DELETE"}),await rt(),U(!1),ie(null),ke("success","Service deleted")}catch{ke("error","Failed to delete service")}finally{pe(!1)}}},et=x.useMemo(()=>{let se=[...L];if(Oe.trim()){const De=Oe.toLowerCase().trim();se=se.filter(Ye=>Ye.service_name.toLowerCase().includes(De)||(Ye.service_description||"").toLowerCase().includes(De))}return E&&(se=se.filter(De=>String(De.service_type)===String(E))),A&&(se=se.filter(De=>De.priority===A)),ae&&se.sort((De,Ye)=>{const qe=De[ae.key],Ce=Ye[ae.key];return qe<Ce?ae.direction==="ascending"?-1:1:qe>Ce?ae.direction==="ascending"?1:-1:0}),se},[L,Oe,E,A,ae]),pt=se=>{switch(se){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},ye=Ae*ee,z=ye-ee,ue=et.slice(z,ye),be=Math.max(1,Math.ceil(et.length/ee)),Ne=()=>{const[se,De]=x.useState((B==null?void 0:B.service_name)||""),[Ye,qe]=x.useState((B==null?void 0:B.service_description)||""),[Ce,Be]=x.useState((B==null?void 0:B.service_type)||""),[nt,Lt]=x.useState((B==null?void 0:B.priority)||"Low"),[br,$r]=x.useState((B==null?void 0:B.service_owner)||(G[0]?G[0].id:"")),[vt,jr]=x.useState((B==null?void 0:B.sla)||24),[Dt,kr]=x.useState((B==null?void 0:B.impact)||""),[_e,Le]=x.useState({}),ze=async()=>{if(Le({}),!se.trim()){Le({service_name:"Service Name is required"});return}if(!Ce){Le(oe=>({...oe,service_type:"Service Type is required"}));return}if(!nt){Le(oe=>({...oe,priority:"Priority is required"}));return}if(isNaN(Number(vt))){Le(oe=>({...oe,sla:"SLA must be a number"}));return}pe(!0);try{const oe={service_name:se.trim(),service_description:Ye.trim(),service_type:Number(Ce),priority:nt,service_owner:Number(br)||0,sla:Number(vt)||0,impact:Dt.trim()};B?(await t.fetchWithAuth(`/service-catalogues/${B.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),ke("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),ke("success","Service created")),await rt(),P(!1)}catch{ke("error","Save failed")}finally{pe(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),s.jsx("input",{value:se,onChange:oe=>De(oe.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),_e.service_name&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:_e.service_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),s.jsx("textarea",{value:Ye,onChange:oe=>qe(oe.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),s.jsxs("select",{value:Ce,onChange:oe=>Be(oe.target.value?Number(oe.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[s.jsx("option",{value:"",children:"-- Select Group --"}),R.map(oe=>s.jsx("option",{value:String(oe.id),children:oe.group_name??oe.name??String(oe.id)},String(oe.id)))]}),_e.service_type&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:_e.service_type})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),s.jsxs("select",{value:nt,onChange:oe=>Lt(oe.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Critical",children:"Critical"})]}),_e.priority&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:_e.priority})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),s.jsx("input",{type:"number",value:vt,onChange:oe=>jr(Number(oe.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),_e.sla&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:_e.sla})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),s.jsxs("select",{value:br,onChange:oe=>$r(oe.target.value?Number(oe.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[s.jsx("option",{value:"",children:"-- Select Owner --"}),G.map(oe=>s.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),s.jsx("textarea",{value:Dt,onChange:oe=>kr(oe.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[s.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>P(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ze,disabled:Ke,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:Ke?"Saving...":"Save"})]})]})};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx($f,{}),isMobile:ot,toggleSidebar:n}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",s.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>a("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Service"})]}),s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"file",accept:".csv",onChange:ne,className:"hidden"}),s.jsxs(_.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:ge?"Importing...":"Import"})]})]}),s.jsxs(_.button,{onClick:()=>S(se=>!se),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:C?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(My,{title:"Total Services",currentCount:tt,lastMonthCount:wt.length,icon:s.jsx(Ma,{})}),s.jsx(My,{title:"Critical",currentCount:Se.Critical,lastMonthCount:wt.filter(se=>se.priority==="Critical").length,icon:s.jsx(Ma,{}),usePercentage:!1}),s.jsx(My,{title:"Average SLA (hrs)",currentCount:ft,lastMonthCount:wt.length>0?Math.round(wt.reduce((se,De)=>se+(De.sla||0),0)/wt.length*100)/100:0,icon:s.jsx(Ma,{}),usePercentage:!1}),s.jsx(My,{title:"Total Owners",currentCount:xt,lastMonthCount:new Set(wt.map(se=>se.service_owner)).size,icon:s.jsx(Mr,{}),usePercentage:!1})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[s.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:xe,value:v,onChange:se=>N(se.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),s.jsx(Mt,{children:C&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[s.jsxs("select",{value:E,onChange:se=>T(se.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[s.jsx("option",{value:"",children:"All Groups"}),R.map(se=>s.jsx("option",{value:String(se.id),children:se.group_name??se.name??String(se.id)},String(se.id)))]}),s.jsxs("select",{value:A,onChange:se=>O(se.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[s.jsx("option",{value:"",children:"All Priorities"}),s.jsx("option",{value:"Critical",children:"Critical"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),D?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):ve?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[s.jsx(Ma,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:ve}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:rt,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):et.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Ma,{className:"text-blue-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:Oe||E||A?"No services found matching your filters.":"No services available."}),(Oe||E||A)&&s.jsx("button",{onClick:we,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>at("service_name"),children:"Service Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ue.map((se,De)=>{var Ce,Be,nt;const Ye=((Ce=G.find(Lt=>Lt.id===Number(se.service_owner)))==null?void 0:Ce.name)??String(se.service_owner),qe=((Be=R.find(Lt=>String(Lt.id)===String(se.service_type)))==null?void 0:Be.group_name)??((nt=R.find(Lt=>String(Lt.id)===String(se.service_type)))==null?void 0:nt.name)??String(se.service_type);return s.jsxs(_.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:z+De+1}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:se.service_name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:qe}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${pt(se.priority)} shadow-sm`,children:se.priority})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Ye}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:se.sla}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:se.impact||"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(se),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:s.jsx(es,{className:"text-lg"})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(`/services/servicecatalogues/editservicecatalogue/${se.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:s.jsx(Hn,{className:"text-lg"})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>re(se.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:s.jsx(yn,{className:"text-lg"})})]})]},se.id)})})]})})}),et.length>ee&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",s.jsx("span",{className:"font-semibold",children:z+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(ye,et.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:et.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ve(se=>Math.max(1,se-1)),disabled:Ae===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:be},(se,De)=>s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ve(De+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${Ae===De+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:De+1},De+1)),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ve(se=>Math.min(be,se+1)),disabled:Ae===be,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),s.jsx(j_,{isOpen:F,onClose:()=>P(!1),title:B?"Edit Service":"Add Service",className:"max-w-3xl",children:s.jsx(Ne,{})}),s.jsx(j_,{isOpen:te,onClose:()=>U(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Ma,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>U(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Me,disabled:Ke,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),s.jsx(j_,{isOpen:c,onClose:()=>d(!1),title:"Service Details",className:"max-w-4xl",children:i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200",children:"General Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Service Name"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i.service_name})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Service Type"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:((Fe=R.find(se=>String(se.id)===String(i.service_type)))==null?void 0:Fe.group_name)??((he=R.find(se=>String(se.id)===String(i.service_type)))==null?void 0:he.name)??i.service_type})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Priority"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-base font-medium min-h-[44px] flex items-center",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${pt(i.priority)} shadow-sm`,children:i.priority})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200",children:"Service Details"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i.service_description||"-"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Service Owner"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:((de=G.find(se=>se.id===Number(i.service_owner)))==null?void 0:de.name)??i.service_owner})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"SLA (hours)"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i.sla})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200",children:"Additional Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Impact"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i.impact||"-"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:new Date(i.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Updated At"}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:new Date(i.updated_at).toLocaleString()})]})]})]})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:s.jsx(_.button,{type:"button",onClick:()=>d(!1),whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})}),le&&s.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:s.jsx(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${le.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:le.message})})]})},sLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,iLe=()=>{const t=Ct(),{addServiceGroup:e}=t,[r,n]=x.useState(window.innerWidth<768),[a,i]=x.useState(()=>{const E=localStorage.getItem("sidebarOpen");return JSON.parse(E||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),i(E=>!E)},l=Nt(),[c,d]=x.useState(""),[h,m]=x.useState(""),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(!1),C=async E=>{if(E.preventDefault(),j(null),!c.trim()){j("Group Name is required");return}y(!0);try{await e({group_name:c.trim(),group_description:h.trim()||null}),N(!0)}catch(T){const A=T instanceof Error?T.message:"Failed to save service group";j(A)}finally{y(!1)}},S=()=>{N(!1),l("/servicegroups")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx(ia,{}),isMobile:r,toggleSidebar:o}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),s.jsxs(_.button,{onClick:()=>l("/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&s.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-semibold",children:"Error: "}),s.jsx("span",{className:"ml-2",children:w})]}),s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{name:"group_name",value:c,onChange:E=>d(E.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),s.jsx("textarea",{name:"group_description",value:h,onChange:E=>m(E.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[s.jsx(_.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:g?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),s.jsx(sLe,{isOpen:v,onClose:S,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},oLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,lLe=()=>{const e=Ea().id,r=Nt(),n=Ct(),{getServiceGroup:a,updateServiceGroup:i}=n,[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(()=>{const $=localStorage.getItem("sidebarOpen");return JSON.parse($||"false")}),h=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d($=>!$)},[m,g]=x.useState(""),[y,w]=x.useState(""),[j,v]=x.useState(!1),[N,C]=x.useState(!0),[S,E]=x.useState(null),[T,A]=x.useState(!1);x.useEffect(()=>{let $=!0;return(async()=>{C(!0),E(null);try{if(!e){E("Missing service group id");return}const I=await a(e);if(!$)return;g(String(I.group_name??"")),w(String(I.group_description??"")||"")}catch(I){const R=I instanceof Error?I.message:"Failed to load service group";E(R)}finally{$&&C(!1)}})(),()=>{$=!1}},[a,e]);const O=async $=>{if($.preventDefault(),E(null),!m.trim()){E("Group Name is required");return}v(!0);try{const L=Number(e);await i(L,{group_name:m.trim(),group_description:y.trim()||null}),A(!0)}catch(L){const I=L instanceof Error?L.message:"Failed to update service group";E(I)}finally{v(!1)}},D=()=>{A(!1),r("/servicegroups")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx(ia,{}),isMobile:o,toggleSidebar:h}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsx(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):s.jsxs(s.Fragment,{children:[S&&s.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-semibold",children:"Error: "}),s.jsx("span",{className:"ml-2",children:S})]}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{name:"group_name",value:m,onChange:$=>g($.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),s.jsx("textarea",{name:"group_description",value:y,onChange:$=>w($.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[s.jsx(_.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:j,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:j?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),s.jsx(oLe,{isOpen:T,onClose:D,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},cLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,uLe=()=>{const{id:t}=Ea(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:a}=Ct(),i=Nt(),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),h=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(q=>!q)},[m,g]=x.useState(!1),[y,w]=x.useState(!0),[j,v]=x.useState(null),[N,C]=x.useState(null),[S,E]=x.useState(!1),[T,A]=x.useState([]),[O,D]=x.useState([]),[$,L]=x.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),I=x.useCallback(async()=>{try{const[q,F,P]=await Promise.all([a(`/service-catalogues/${t}`),r(0),n()]),B=q.data||q;A(F),D(P),B&&L({service_name:B.service_name||"",service_description:B.service_description||"",service_type:String(B.service_type||""),priority:B.priority||"Low",service_owner:String(B.service_owner||""),sla:B.sla?parseFloat(B.sla):24,impact:B.impact||""})}catch(q){v(q.message||"Failed to load service data")}finally{w(!1)}},[t,a,r,n]);x.useEffect(()=>{t&&I()},[t,I]);const R=q=>{const{name:F,value:P}=q.target;L(B=>({...B,[F]:F==="sla"?Number(P):P}))},H=async q=>{if(q.preventDefault(),g(!0),v(null),!$.service_name||!$.service_type||!$.priority||!$.service_owner||!$.sla){v("Please fill all required fields"),g(!1);return}try{const F={service_name:$.service_name,service_description:$.service_description,service_type:Number($.service_type),priority:$.priority,service_owner:Number($.service_owner),sla:$.sla,impact:$.impact};await e(t,F),C("Service Catalogue updated successfully!"),E(!0)}catch(F){v(F.message||"Failed to update Service Catalogue")}finally{g(!1)}},G=()=>{E(!1),i("/services/servicecatalogues")};return y?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx($f,{}),isMobile:o,toggleSidebar:h}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),s.jsxs(_.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Catalogue"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[j&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:j}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"service_name",id:"service_name",value:$.service_name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"service_type",id:"service_type",value:$.service_type,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"",children:"Select Service Type"}),T.map(q=>s.jsx("option",{value:q.id,children:q.group_name||q.name},q.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"priority",id:"priority",value:$.priority,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"service_owner",id:"service_owner",value:$.service_owner,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"",children:"Select Service Owner"}),O.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"sla",id:"sla",value:$.sla,onChange:R,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),s.jsx("input",{type:"text",name:"impact",id:"impact",value:$.impact,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),s.jsx("textarea",{name:"service_description",id:"service_description",value:$.service_description,onChange:R,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),s.jsx(cLe,{isOpen:S,onClose:G,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:G,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},dLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,fLe=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=Ct(),n=Nt(),[a,i]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return JSON.parse(I||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(I=>!I)},[d,h]=x.useState(!1),[m,g]=x.useState(null),[y,w]=x.useState(null),[j,v]=x.useState(!1),[N,C]=x.useState([]),[S,E]=x.useState([]),[T,A]=x.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),O=x.useCallback(async()=>{try{const[I,R]=await Promise.all([e(0),r()]);C(I),E(R)}catch(I){g(I.message||"Failed to load form data")}},[e,r]);x.useEffect(()=>{O()},[O]);const D=I=>{const{name:R,value:H}=I.target;A(G=>({...G,[R]:R==="sla"?Number(H):H}))},$=async I=>{if(I.preventDefault(),h(!0),g(null),!T.service_name||!T.service_type||!T.priority||!T.service_owner||!T.sla){g("Please fill all required fields"),h(!1);return}try{const R={service_name:T.service_name,service_description:T.service_description,service_type:Number(T.service_type),priority:T.priority,service_owner:Number(T.service_owner),sla:T.sla,impact:T.impact};await t(R),w("Service Catalogue created successfully!"),v(!0)}catch(R){g(R.message||"Failed to create Service Catalogue")}finally{h(!1)}},L=()=>{v(!1),n("/servicecatalogue")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx($f,{}),isMobile:a,toggleSidebar:c}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),s.jsxs(_.button,{onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Catalogue"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:m}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"service_name",id:"service_name",value:T.service_name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"service_type",id:"service_type",value:T.service_type,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"",children:"Select Service Type"}),N.map(I=>s.jsx("option",{value:I.id,children:I.group_name||I.name},I.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"priority",id:"priority",value:T.priority,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"Low",children:"Low"}),s.jsx("option",{value:"Medium",children:"Medium"}),s.jsx("option",{value:"High",children:"High"}),s.jsx("option",{value:"Critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"service_owner",id:"service_owner",value:T.service_owner,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"",children:"Select Service Owner"}),S.map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"sla",id:"sla",value:T.sla,onChange:D,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),s.jsx("input",{type:"text",name:"impact",id:"impact",value:T.impact,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),s.jsx("textarea",{name:"service_description",id:"service_description",value:T.service_description,onChange:D,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(dLe,{isOpen:j,onClose:L,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},hLe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Ay=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},mLe=()=>{const[t,e]=x.useState([]),[r,n]=x.useState([]),{getDepartment:a,getUsers:i,deleteDepartment:o}=Ct(),[l,c]=x.useState(!0),[d,h]=x.useState(null),[m,g]=x.useState(""),[y,w]=x.useState(!1),[j,v]=x.useState(null),[N,C]=x.useState(!1),[S]=x.useState(window.innerWidth<768),[E,T]=x.useState(()=>{const te=localStorage.getItem("sidebarOpen");return te?JSON.parse(te):!1}),A=Nt(),O=x.useRef(null),[D,$]=x.useState(!1),L=x.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),I=x.useCallback(async()=>{try{c(!0);const te=await a(),U=await i(),Q=[...te].sort((ie,le)=>ie.id-le.id);e(Q),n(U)}catch(te){h("Failed to load departments"),console.error("Error loading departments:",te)}finally{c(!1)}},[a,i]);x.useEffect(()=>{I()},[I]);const R=()=>{const te=!E;T(te),localStorage.setItem("sidebarOpen",JSON.stringify(te))},H=()=>{alert("Import functionality is not yet implemented.")},G=te=>{const U=te.target.value;g(U)},q=x.useMemo(()=>{if(!m)return L;const te=m.toLowerCase();return L.filter(U=>U.name.toLowerCase().includes(te))},[m,L]),F=te=>{var U;g(`${te}: `),$(!1),(U=O.current)==null||U.focus()},P=x.useMemo(()=>{if(!m.trim())return t;const te=m.toLowerCase().trim(),U=te.split(":");let Q="all",ie=te;return U.length>1&&L.some(le=>le.name.toLowerCase()===U[0].trim())&&(Q=U[0].trim(),ie=U.slice(1).join(":").trim()),t.filter(le=>{var $e,Oe,xe;const ce=($e=le.name)==null?void 0:$e.toLowerCase().includes(ie),ge=(xe=(Oe=le.head)==null?void 0:Oe.name)==null?void 0:xe.toLowerCase().includes(ie);return Q==="department"?ce:Q==="head"?ge:ce||ge})},[t,m,L]),B=async te=>{try{await o(te),e(t.filter(U=>U.id!==te)),w(!1),v(null)}catch(U){console.error("Failed to delete department:",U),h("Failed to delete department. Please try again.")}},K=x.useCallback(te=>{v(te),w(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:s.jsx(Ff,{}),isMobile:S,toggleSidebar:R}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>A("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Department"})]}),s.jsxs(_.button,{onClick:H,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>C(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Ay,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(Ff,{className:"w-6 h-6"})}),s.jsx(Ay,{title:"Head Departments",value:t.filter(te=>te.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(te=>te.head_id!==null).length/t.length*100)}%`,icon:s.jsx(Mr,{className:"w-6 h-6"})}),s.jsx(Ay,{title:"Departments with Email",value:t.filter(te=>{var U;return(U=te.head)==null?void 0:U.email}).length.toString(),change:`+${Math.floor(t.filter(te=>{var U;return(U=te.head)==null?void 0:U.email}).length/t.length*100)}%`,icon:s.jsx(rg,{className:"w-6 h-6"})}),s.jsx(Ay,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:s.jsx(ia,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:O,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:G,onFocus:()=>$(!0),"aria-label":"Search departments"}),s.jsx(Mt,{children:D&&q.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:q.map(te=>s.jsx(_.button,{onClick:()=>F(te.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:te.name})},te.id))})})]})}),s.jsx(Mt,{children:N&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):P.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&s.jsx("button",{onClick:()=>g(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:P.map(te=>{var U,Q;return s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((U=te.head)==null?void 0:U.name)||"-"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((Q=te.head)==null?void 0:Q.email)||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(`/worklocation/department/editdepartment/${te.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(te.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},te.id)})})]})})})]})]}),s.jsx(hLe,{isOpen:y,onClose:()=>w(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j&&B(j),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},pLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,gLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addDepartment:o,getUsers:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",head_id:0}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,head_id:S.head_id};await o(I),y("Service Catalogue created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Service Catalogue")}finally{N(!1)}};x.useCallback(L=>{if(!L)return;const I=parseInt(L.value),R=r.find(H=>parseInt(H.id)===I);if(R){const H=a.find(G=>G.id===R.department_id);E(G=>({...G,id:I,department_id:R.department_id||0,known_by_id:(H==null?void 0:H.head_id)||null}))}},[r,a]);const $=()=>{j(!1),C("/worklocation/department")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Ff,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),s.jsxs(_.button,{onClick:()=>C("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Catalogue"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"",children:"Select Head Department"}),r.map(L=>s.jsx("option",{value:L.id,children:L.name||L.name},L.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(pLe,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},xLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,yLe=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{addDepartment:l,getUsers:c,updateDepartment:d,getDepartmentById:h}=Ct(),[m,g]=x.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),[y,w]=x.useState(null),[j,v]=x.useState(null),[N,C]=x.useState(!1),[S,E]=x.useState(!1),T=Nt(),[A,O]=x.useState({name:"",head_id:0}),D=()=>{g(H=>!H)};x.useEffect(()=>{i&&O({name:i.name||"",head_id:i.head_id||0})},[i]);const $=H=>{const{name:G,value:q}=H.target;O(F=>({...F,[G]:G==="sla"?Number(q):q}))},L=x.useCallback(async()=>{try{if(t){const[H,G]=await Promise.all([h(t),c()]);o(H),a(G)}}catch(H){w(H.message||"Failed to load form data")}},[t,h,c]);x.useEffect(()=>{t&&L()},[t,L]);const I=async H=>{H.preventDefault(),E(!0),w(null);try{const G={name:A.name,head_id:A.head_id};await d(t,G),v("Service Catalogue created successfully!"),C(!0)}catch(G){w(G.message||"Failed to create Service Catalogue")}finally{E(!1)}},R=()=>{C(!1),T("/worklocation/department")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Ff,{}),isMobile:e,toggleSidebar:D}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),s.jsxs(_.button,{onClick:()=>T("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Catalogue"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[y&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:y}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>w(null)})})]}),s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"head_id",id:"head_id",value:A.head_id,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"",children:"Select Head Department"}),n.map(H=>s.jsx("option",{value:H.id,children:H.name||H.name},H.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>T("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(xLe,{isOpen:N,onClose:R,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:j}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},bLe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Sz=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},vLe=()=>{const[t,e]=x.useState([]),{getStopTimes:r,deleteStopTimes:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load stop times"),console.error("Error loading stop times:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var le,ce;const Q=(le=U.name)==null?void 0:le.toLowerCase().includes(te),ie=(ce=U.description)==null?void 0:ce.toLowerCase().includes(te);return K==="stop time"?Q:K==="description"?ie:Q||ie})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete stop time:",B),l("Failed to delete stop time. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:s.jsx(It,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Stop Time"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Sz,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(It,{className:"w-6 h-6"})}),s.jsx(Sz,{title:"Active Times",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:s.jsx(It,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search stop times"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(bLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},wLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,jLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addStopTimes:o,getStopTimes:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",description:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),y("Stop Time created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Stop Time")}finally{N(!1)}},$=()=>{j(!1),C("/maintenanceactivity/stoptimes")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(It,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),s.jsxs(_.button,{onClick:()=>C("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Stop Times Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(wLe,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},SLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,NLe=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:"",description:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name,description:T.description};await c(t,H),j("Stop Time update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Stop Time")}finally{S(!1)}},I=()=>{N(!1),E("/maintenanceactivity/stoptimes")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(It,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),s.jsxs(_.button,{onClick:()=>E("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Stop Times Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:T.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(SLe,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},kLe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Nz=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},CLe=()=>{const[t,e]=x.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load activity types"),console.error("Error loading activity types:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var ie;const Q=(ie=U.name)==null?void 0:ie.toLowerCase().includes(te);return Q})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete activity type:",B),l("Failed to delete activity type. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:s.jsx(zy,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Activity Type"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Nz,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(zy,{className:"w-6 h-6"})}),s.jsx(Nz,{title:"Active Types",value:t.filter(P=>P.name&&P.name.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.name&&P.name.length>0).length/t.length*100)}%`,icon:s.jsx(zy,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search activity types"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(kLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},TLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,kz=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addActivityTypes:o,getActivityTypes:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name};await o(I),y("Activity Type created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Activity Type")}finally{N(!1)}},$=()=>{j(!1),C("/maintenanceactivity/activitytypes")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Yp,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),s.jsxs(_.button,{onClick:()=>C("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Activity Types Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(TLe,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},_Le=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,MLe=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name};await c(t,H),j("Activity Type update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Activity Type")}finally{S(!1)}},I=()=>{N(!1),E("/maintenanceactivity/activitytypes")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Yp,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),s.jsxs(_.button,{onClick:()=>E("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Activity Type Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),s.jsx(_Le,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},Oy=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:a=!0})=>{const i=a?ALe(e,r):OLe(e,r),o=e>=r,l=a?`${i} from last month`:`${i} from last month`;return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},ALe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},OLe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},ELe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(null),[E,T]=x.useState(1),[A]=x.useState(5),[O,D]=x.useState(window.innerWidth<768),[$,L]=x.useState(!1),[I,R]=x.useState(!1),[H,G]=x.useState([]),[q,F]=x.useState([]),[P,B]=x.useState(!0),[K,te]=x.useState(null),[U,Q]=x.useState(null),[ie,le]=x.useState([]),[ce,ge]=x.useState(!1),[$e,Oe]=x.useState(!1),[xe,Ae]=x.useState(null),[Ve,ee]=x.useState(null),{user:ae,getWorkOrdersIT:Z,deleteWorkOrder:ve,hasPermission:Ge,fetchWithAuth:Ke,getVendor:pe}=Ct(),ot=Nt(),gt=Zn(),Re=x.useRef(null),ct=x.useRef(null);gt.pathname,gt.pathname;const St=gt.pathname==="/workorders/it";gt.pathname;const ht=gt.pathname==="/workorders/it/assignment",Ft=gt.pathname==="/workorders/it/receiver",rt=gt.pathname==="/workorders/it/reports",ke=gt.pathname==="/workorders/it/knowledgebase";x.useEffect(()=>{const de=()=>{D(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),x.useEffect(()=>{const de=se=>{Re.current&&!Re.current.contains(se.target)&&L(!1),ct.current&&!ct.current.contains(se.target)&&R(!1)};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[]),x.useEffect(()=>{let de=!0;return(async()=>{try{B(!0),te(null);const De=await Z();if(!de)return;const Ye=De.filter(Be=>Be.requester_id===Number(ae==null?void 0:ae.id));G(Ye);const qe=new Date;qe.setMonth(qe.getMonth()-1);const Ce=Ye.filter(Be=>new Date(Be.date)<qe);le(Ce)}catch(De){if(!de)return;te("Failed to load work orders. Please try again."),console.error("Error loading work orders:",De)}finally{de&&B(!1)}})(),()=>{de=!1}},[Z,ae==null?void 0:ae.id]),x.useEffect(()=>{T(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]);const tt=de=>{switch(de){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},Se=x.useCallback(de=>{const se=H.find(De=>De.id===de);se&&(y(se),m(!0))},[H]);x.useCallback(de=>{S(de),N(!0)},[]);const ft=x.useCallback(async de=>{try{B(!0),te(null),await ve(de);const De=(await Z()).filter(Ye=>Ye.requester_id===Number(ae==null?void 0:ae.id));G(De),N(!1),S(null),Q("Work order deleted successfully."),setTimeout(()=>Q(null),2500)}catch(se){te("Failed to delete work order."),console.error("Error deleting work order:",se)}finally{B(!1)}},[ve,Z,ae==null?void 0:ae.id]),xt=x.useCallback(de=>{ee(de),Oe(!0)},[]),wt=x.useCallback(de=>{Ae(de),ge(!0)},[]),we=x.useCallback(async de=>{try{B(!0),te(null),await Ke(`/ayam/${de}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const De=(await Z()).filter(Ce=>Ce.requester_id===Number(ae==null?void 0:ae.id));G(De);const Ye=new Date;Ye.setMonth(Ye.getMonth()-1);const qe=De.filter(Ce=>new Date(Ce.date)<Ye);le(qe),m(!1),y(null),Oe(!1),ee(null),Q("Work order cancelled successfully."),setTimeout(()=>Q(null),2500)}catch(se){te("Failed to cancel work order."),console.error("Error cancelling work order:",se)}finally{B(!1)}},[Ke,Z,ae==null?void 0:ae.id]),at=x.useCallback(async de=>{try{B(!0),te(null),await Ke(`/ayam/${de}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const De=(await Z()).filter(Ce=>Ce.requester_id===Number(ae==null?void 0:ae.id));G(De);const Ye=new Date;Ye.setMonth(Ye.getMonth()-1);const qe=De.filter(Ce=>new Date(Ce.date)<Ye);le(qe),m(!1),y(null),ge(!1),Ae(null),Q("Work order completed successfully."),setTimeout(()=>Q(null),2500)}catch(se){te("Failed to complete work order."),console.error("Error completing work order:",se)}finally{B(!1)}},[Ke,Z,ae==null?void 0:ae.id]),Je=de=>de.filter(se=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(se.handling_status)),ne=de=>de.filter(se=>["Closed","Cancel"].includes(se.handling_status)),re=de=>de.filter(se=>se.handling_status==="New"),Me=()=>{n(de=>!de)},et=de=>{var se;return de.vendor?`${de.vendor.name}`:((se=de.assigned_to)==null?void 0:se.name)||"Unassigned"},pt=de=>de.vendor?"vendor":de.assigned_to?"user":"unassigned",ye=H.filter(de=>{var Ye,qe,Ce,Be;const se=((qe=(Ye=de.requester)==null?void 0:Ye.name)==null?void 0:qe.toLowerCase().includes(a.toLowerCase()))||((Ce=de.work_order_no)==null?void 0:Ce.toLowerCase().includes(a.toLowerCase()))||((Be=de.complaint)==null?void 0:Be.toLowerCase().includes(a.toLowerCase()))||String(de.id).includes(a),De=o==="all"||de.handling_status===o;return se&&De}).sort((de,se)=>new Date(se.created_at).getTime()-new Date(de.created_at).getTime()),z=E*A,ue=z-A,be=ye.slice(ue,z),Ne=Math.ceil(ye.length/A),Fe=de=>T(de),he=({order:de,onClose:se})=>{var Lt,br,$r,vt,jr;const De=Dt=>Dt==null?"-":typeof Dt=="object"&&Dt!==null?Dt.name||Dt.title||Dt.id||"-":typeof Dt=="string"?Dt.trim()!==""?Dt.trim():"-":typeof Dt=="number"?Dt.toString():String(Dt),Ye=Dt=>Dt?new Date(Dt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",qe=({status:Dt})=>{const kr={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${kr[Dt]||kr.New}`,children:Dt})},Ce=({title:Dt,children:kr,icon:_e})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[_e&&s.jsx("div",{className:"mr-3 text-blue-600",children:_e}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Dt})]})}),s.jsx("div",{className:"p-6",children:kr})]}),Be=({label:Dt,value:kr,icon:_e,fullWidth:Le=!1,priority:ze="medium"})=>{const oe={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${Le?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${oe[ze]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[_e&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:_e}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Dt}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:kr})]})]})})})},nt=({label:Dt,htmlContent:kr,icon:_e,fullWidth:Le=!1})=>{if(!kr)return s.jsx(Be,{label:Dt,value:"-",icon:_e,fullWidth:Le,priority:"low"});const ze=Al.sanitize(kr,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return s.jsx("div",{className:`${Le?"col-span-full":""}`,children:s.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[_e&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:_e}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Dt}),s.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:ze}})]})]})})})};return s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",de.work_order_no||de.id]}),s.jsx(qe,{status:de.handling_status})]}),s.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[s.jsx(pa,{className:"w-4 h-4"}),"Created: ",Ye(de.date)]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:se,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[s.jsx(dt,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),s.jsx(Ce,{title:"General Information",icon:s.jsx(Mr,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Be,{label:"Work Order No",value:De(de.work_order_no),icon:s.jsx(ir,{className:"w-4 h-4"}),priority:"high"}),s.jsx(Be,{label:"Reception Method",value:De(de.reception_method),icon:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Requester",value:De((Lt=de.requester)==null?void 0:Lt.name),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(Be,{label:"Department",value:De((br=de.department)==null?void 0:br.name),icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Known By",value:De(($r=de.known_by)==null?void 0:$r.name),icon:s.jsx(es,{className:"w-4 h-4"})})]})}),s.jsx(Ce,{title:"Service Details",icon:s.jsx(hn,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Be,{label:"Service Type",value:De(de.service_type.group_name),icon:s.jsx(An,{className:"w-4 h-4"}),priority:"high"}),s.jsx(Be,{label:"Service",value:De(de.service.service_name),icon:s.jsx(hn,{className:"w-4 h-4"}),priority:"high"}),s.jsx(Be,{label:"No Asset",value:De(de.asset_no),icon:s.jsx(ir,{className:"w-4 h-4"})})]})}),s.jsx(Ce,{title:"Device & Complaint",icon:s.jsx(Zt,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(Be,{label:"Device Information",value:De(de.device_info),icon:s.jsx(An,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(nt,{label:"Complaint Details",htmlContent:de.complaint||"",icon:s.jsx(Zt,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(Ce,{title:"Handling Information",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[s.jsx(Be,{label:"Ticket Status",value:De(de.handling_status),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(Be,{label:"Handling Date",value:Ye(de.handling_date||"-"),icon:s.jsx(pa,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[s.jsx(Be,{label:"Assigned To",value:De((vt=de.assigned_to)==null?void 0:vt.name),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Received By",value:De((jr=de.received_by)==null?void 0:jr.name),icon:s.jsx(Ht,{className:"w-4 h-4"})})]}),s.jsx(nt,{label:"Action Taken",htmlContent:de.action_taken||"",icon:s.jsx(hn,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(nt,{label:"Remarks",htmlContent:de.remarks||"",icon:s.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),de.vendor&&s.jsx(Ce,{title:"Vendor Details",icon:s.jsx(Mr,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(Be,{label:"Vendor Name",value:De(de.vendor.name),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(Be,{label:"Contact Person",value:De(de.vendor.contact_person),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Email",value:De(de.vendor.email),icon:s.jsx(rg,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Phone",value:De(de.vendor.telp),icon:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Mobile",value:De(de.vendor.HP),icon:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(Be,{label:"Address",value:De(de.vendor.address),icon:s.jsx(zf,{className:"w-4 h-4"}),fullWidth:!0})]})}),de.attachment&&s.jsx(Ce,{title:"Attachment",icon:s.jsx(pi,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx(pi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Document Attachment"}),s.jsxs("a",{href:de.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[s.jsx(tO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})})]})};return P?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),s.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):K?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[s.jsx(Zt,{className:"text-red-600 text-5xl"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-lg text-red-800",children:K}),s.jsx("button",{onClick:()=>{(async()=>{try{B(!0),te(null);const De=(await Z()).filter(Ce=>Ce.requester_id===Number(ae==null?void 0:ae.id));G(De);const Ye=new Date;Ye.setMonth(Ye.getMonth()-1);const qe=De.filter(Ce=>new Date(Ce.date)<Ye);le(qe)}catch{te("Failed to load work orders. Please try again.")}finally{B(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:O,toggleSidebar:Me}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${St?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ft?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ht?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${rt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>ot("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ke?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(_.button,{onClick:()=>ot("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Jn,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),s.jsxs(_.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(is,{className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:"Filters"}),c?s.jsx(pb,{}):s.jsx(jn,{})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Oy,{title:"Total IT Requests",currentCount:ye.length,lastMonthCount:ie.length,icon:s.jsx(ir,{})}),s.jsx(Oy,{title:"IT New WO",currentCount:re(ye).length,lastMonthCount:re(ie).length,icon:s.jsx(It,{}),usePercentage:!1}),s.jsx(Oy,{title:"IT Progress",currentCount:Je(ye).length,lastMonthCount:Je(ie).length,icon:s.jsx(hn,{}),usePercentage:!1}),s.jsx(Oy,{title:"IT Closed",currentCount:ne(ye).length,lastMonthCount:ne(ie).length,icon:s.jsx(Ht,{}),usePercentage:!1})]}),s.jsx(_.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:de=>i(de.target.value)})]}),s.jsx(Mt,{children:c&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:de=>l(de.target.value),children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"Assigned",children:"Assigned"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Escalated",children:"Escalated"}),s.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Cancel",children:"Cancel"}),s.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:be.length>0?be.map(de=>{const se=et(de),De=pt(de);return s.jsxs(_.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Se(de.id),title:"Click to view details",children:de.work_order_no||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(de.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.device_info})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.asset_no})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.service_type.group_name||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${tt(de.handling_status)} shadow-sm`,children:de.handling_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`text-sm font-medium ${De==="vendor"?"text-purple-600":De==="user"?"text-blue-600":"text-gray-500"}`,children:se}),De==="vendor"&&s.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Se(de.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:s.jsx(es,{className:"text-lg"})}),de.handling_status==="New"&&s.jsxs(s.Fragment,{children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ot(`/workorders/it/editworkorder/${de.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Work Order",children:s.jsx(Hn,{className:"text-lg"})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>xt(de.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Cancel Work Order",children:s.jsx(dt,{className:"text-lg"})})]}),de.handling_status==="Resolved"&&s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ye=>{wt(de.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 flex items-center space-x-1",title:"Mark as Closed",children:s.jsx(Ht,{className:"text-lg"})})]})]},de.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work order requests found matching your criteria."})})})]})})}),ye.length>A&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",s.jsx("span",{className:"font-semibold",children:ue+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(z,ye.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:ye.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Fe(E-1),disabled:E===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Ne},(de,se)=>s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Fe(se+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${E===se+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:se+1},se+1)),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Fe(E+1),disabled:E===Ne,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.id]}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),y(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:s.jsx(he,{order:g,onClose:()=>{m(!1),y(null)}})})]})})}),s.jsx(Mt,{children:v&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>C!==null&&ft(C),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),U&&s.jsx(_.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:U}),s.jsx(Mt,{children:ce&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Ht,{className:"text-green-500 text-5xl mx-auto"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe!==null&&at(xe),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),s.jsx(Mt,{children:$e&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-orange-500 text-5xl mx-auto"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Oe(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ve!==null&&we(Ve),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),K&&s.jsxs(_.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[K,s.jsx("button",{onClick:()=>te(null),className:"ml-2 underline",children:"Dismiss"})]})]})},DLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,PLe=()=>{var wt,we,at,Je,ne;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:i,getWorkOrderById:o}=Ct(),l=Nt(),{id:c}=Ea(),[d,h]=x.useState([]),[m,g]=x.useState([]),[y,w]=x.useState([]),[j,v]=x.useState([]),[N,C]=x.useState(window.innerWidth<768),[S,E]=x.useState(()=>{const re=localStorage.getItem("sidebarOpen");return re?JSON.parse(re):!1}),[T,A]=x.useState(!1),[O,D]=x.useState(!1),[$,L]=x.useState(!1),[I,R]=x.useState(!1),[H,G]=x.useState(!0),[q,F]=x.useState(null),[P,B]=x.useState(null),[K,te]=x.useState(!1),[U,Q]=x.useState(null),ie=x.useRef(null),le=x.useRef(null),[ce,ge]=x.useState([]),[$e,Oe]=x.useState([]),[xe,Ae]=x.useState([]),[Ve,ee]=x.useState(!1),ae={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((wt=e==null?void 0:e.department)==null?void 0:wt.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[Z,ve]=x.useState(ae),Ge=Z.reception_method==="Electronic Work Order System";x.useEffect(()=>{(async()=>{if(c)try{G(!0);const Me=await o(parseInt(c));console.log("Work Order Data:",Me),ve({id:Me.id,date:Me.date.split("T")[0],reception_method:Me.reception_method,requester_id:Me.requester_id,known_by_id:Me.known_by_id,department_id:Me.department_id,service_type_id:String(Me.service_group_id||""),service_id:String(Me.service_catalogue_id||""),asset_no:Me.asset_no,device_info:Me.device_info,complaint:Me.complaint,attachment:Me.attachment,received_by_id:Me.received_by_id,handling_date:Me.handling_date?Me.handling_date.split("T")[0]:null,action_taken:Me.action_taken,handling_status:Me.handling_status,remarks:Me.remarks})}catch(Me){console.error("Failed to fetch work order data:",Me),F(Me.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{G(!1)}})()},[c,o]),x.useEffect(()=>{e&&(async()=>{try{const et=(await i(0)).map(z=>({id:Number(z.id),name:z.group_name??"",description:z.group_description??void 0}));Oe(et),Ae(et);const pt=await a();g(pt);const ye=await r();if(h(ye),e&&e.id){const ue=await n(parseInt(e.id));w(ue),console.log("Services loaded:",ue)}}catch(Me){console.error("Failed to fetch master data:",Me)}})()},[e,r,n,a,i]),x.useEffect(()=>{var re;if(Z.reception_method==="Electronic Work Order System"&&e){const Me=((re=e.department)==null?void 0:re.head_id)||null;ve(et=>({...et,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:Me}))}},[Z.reception_method,e]),x.useEffect(()=>{const re=()=>{C(window.innerWidth<768),window.innerWidth<768&&E(!1)};return window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),x.useEffect(()=>{const re=Me=>{ie.current&&!ie.current.contains(Me.target)&&D(!1),le.current&&!le.current.contains(Me.target)&&L(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]),x.useEffect(()=>{if(Z.service_type_id&&y.length>0){const re=y.filter(Me=>String(Me.service_type)===Z.service_type_id);ge(re)}else ge([])},[Z.service_type_id,y]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",T),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,T]);const Ke=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),E(re=>!re)},pe=x.useCallback((re,Me)=>{let et,pt;if(re&&"target"in re)et=re.target.name,pt=re.target.value;else if(re&&typeof re=="object"&&"value"in re&&Me)et=Me,pt=re.value;else if(re===null&&Me)et=Me,pt=null;else return;ve(ye=>({...ye,[et]:pt}))},[]),ot=re=>{const Me=(re==null?void 0:re.value)||"";ve(et=>{var ye,z;const pt={...et,reception_method:Me};return Me==="Electronic Work Order System"&&e?{...pt,requester_id:parseInt(e.id),department_id:((ye=e.department)==null?void 0:ye.id)||0,known_by_id:((z=e.department)==null?void 0:z.head_id)||null}:pt})},gt=re=>{ve(Me=>({...Me,asset_no:re?re.value:""}))},Re=x.useCallback(re=>{re.target.files&&re.target.files.length>0?(Q(re.target.files[0]),ve(Me=>({...Me,attachment:re.target.files[0].name}))):(Q(null),ve(Me=>({...Me,attachment:null})))},[]),ct=x.useCallback(()=>{Q(null),ve(re=>({...re,attachment:null}))},[]),St=async re=>{re.preventDefault(),R(!0),F(null);const Me={id:Z.id,date:Z.date,reception_method:Z.reception_method,requester_id:Z.requester_id,known_by_id:Z.known_by_id,department_id:Z.department_id,service_group_id:Number(Z.service_type_id),service_catalogue_id:Number(Z.service_id),asset_no:Z.asset_no,device_info:Z.device_info,complaint:Z.complaint,attachment:Z.attachment};try{await t(Me),B({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Z.id}`}}),te(!0)}catch(et){F(et.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",et)}finally{R(!1)}},ht=re=>{ve(Me=>({...Me,service_type_id:re?re.value:"",service_id:""}))},Ft=re=>{ve(Me=>({...Me,service_id:re?re.value:""}))},rt=x.useCallback(()=>{te(!1),l("/workorders/it")},[l]),ke={control:(re,Me)=>({...re,minHeight:"42px",borderColor:Me.isFocused?"#3B82F6":"#D1D5DB",boxShadow:Me.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:re=>({...re,padding:"0"}),singleValue:re=>({...re,color:"#374151"}),placeholder:re=>({...re,color:"#6B7280"}),dropdownIndicator:re=>({...re,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:re=>({...re,display:"none"}),menu:re=>({...re,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(re,Me)=>({...re,backgroundColor:Me.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},tt=x.useCallback(re=>{if(!re)return;const Me=parseInt(re.value),et=d.find(pt=>parseInt(pt.id)===Me);if(et){const pt=m.find(ye=>ye.id===et.department_id);ve(ye=>({...ye,requester_id:Me,department_id:et.department_id||0,known_by_id:(pt==null?void 0:pt.head_id)||null}))}},[d,m]),Se=()=>{if(Ge){const Me=m.find(et=>et.id===(e==null?void 0:e.department_id));return(Me==null?void 0:Me.name)||"No department assigned"}const re=m.find(Me=>Me.id===Z.department_id);return(re==null?void 0:re.name)||"No department assigned"},ft=()=>{if(Ge){const Me=m.find(et=>et.id===(e==null?void 0:e.department_id));if(Me&&Me.head_id){const et=d.find(pt=>parseInt(pt.id)===Me.head_id);return(et==null?void 0:et.name)||"No department head assigned"}return"No department head assigned"}const re=m.find(Me=>Me.id===Z.department_id);if(re&&re.head_id){const Me=d.find(et=>parseInt(et.id)===re.head_id);return(Me==null?void 0:Me.name)||"No department head assigned"}return"No department head assigned"},xt=()=>{if(!Z.attachment)return null;try{const Me=new URL(Z.attachment).pathname;return Me.substring(Me.lastIndexOf("/")+1)}catch{return Z.attachment}};return H?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(wr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:N,toggleSidebar:Ke}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),s.jsxs(_.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Vi,{className:"text-lg"})," Back to Work Orders"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[q&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:q}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>F(null)})})]}),s.jsxs("form",{onSubmit:St,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",id:"date",name:"date",value:Z.date,onChange:pe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:Z.reception_method,label:Z.reception_method},onChange:ot,placeholder:"Select Reception Method",styles:ke,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",s.jsx("span",{className:"text-red-500",children:"*"})]}),Ge?s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):s.jsx(Sr,{id:"requester_id",name:"requester_id",options:d.map(re=>({value:String(re.id),label:re.name})),value:d.find(re=>parseInt(re.id)===Z.requester_id)?{value:String(Z.requester_id),label:((we=d.find(re=>parseInt(re.id)===Z.requester_id))==null?void 0:we.name)||""}:null,onChange:tt,placeholder:"Select Requester",styles:ke,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:Se()})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:ft()})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-green-500"})," Service Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"service_type_id",name:"service_type_id",options:xe.map(re=>({value:String(re.id),label:re.name})),value:Z.service_type_id?{value:Z.service_type_id,label:((at=xe.find(re=>String(re.id)===Z.service_type_id))==null?void 0:at.name)||""}:null,onChange:ht,placeholder:"Select Service Type",styles:ke,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"service_id",name:"service_id",options:ce.map(re=>({value:String(re.id),label:re.service_name})),value:Z.service_id?{value:Z.service_id,label:((Je=ce.find(re=>String(re.id)===Z.service_id))==null?void 0:Je.service_name)||""}:null,onChange:Ft,placeholder:"Select Service",styles:ke}),ce.length===0&&Z.service_type_id&&s.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(JY,{name:"asset_no",id:"asset_no",options:j,value:Z.asset_no?{value:Z.asset_no,label:Z.asset_no}:null,onChange:gt,onCreateOption:re=>{const Me={value:re,label:re};v(et=>[...et,Me]),gt(Me)},placeholder:"Type or select Asset No.",styles:ke,required:!0})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ld,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"device_info",name:"device_info",value:Z.device_info,onChange:pe,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:Z.complaint,onChange:re=>{ve(Me=>({...Me,complaint:re}))}})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[s.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(pi,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:Re})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),U&&s.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:s.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[s.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[s.jsx(pi,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),s.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:U.name})]}),s.jsx("div",{className:"ml-4 flex-shrink-0",children:s.jsx(_.button,{type:"button",onClick:ct,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},U.name)}),Z.attachment&&!U&&s.jsx("div",{className:"mt-3",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",xt()]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsxs(_.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(Or,{className:"mr-2 h-5 w-5"})," Cancel"]}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:I,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:I?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),s.jsx(DLe,{isOpen:K,onClose:rt,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:P==null?void 0:P.message}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ne=P==null?void 0:P.work_order)==null?void 0:ne.work_order_no]}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:rt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},RLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,ILe=()=>{var we,at,Je;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=Ct(),c=Nt(),{id:d}=Ea(),[h,m]=x.useState([]),[g,y]=x.useState([]),[w,j]=x.useState([]),[v,N]=x.useState(window.innerWidth<768),[C,S]=x.useState(()=>{const ne=localStorage.getItem("sidebarOpen");return ne?JSON.parse(ne):!1}),[E,T]=x.useState(!1),[A,O]=x.useState(!1),[D,$]=x.useState(!1),[L,I]=x.useState(!1),[R,H]=x.useState(!0),[G,q]=x.useState(null),[F,P]=x.useState(null),[B,K]=x.useState(!1),te=x.useRef(null),U=x.useRef(null),[Q,ie]=x.useState([]),[le,ce]=x.useState([]),[ge,$e]=x.useState(!1),[Oe,xe]=x.useState([]),[Ae,Ve]=x.useState(!1),[ee,ae]=x.useState(null),[Z,ve]=x.useState(!1),Ge=({content:ne,className:re=""})=>{if(!ne)return s.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${re}`,children:s.jsx("span",{children:"-"})});const Me=Al.sanitize(ne,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return s.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${re}`,dangerouslySetInnerHTML:{__html:Me}})},Ke={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((we=e==null?void 0:e.department)==null?void 0:we.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[pe,ot]=x.useState(Ke);x.useEffect(()=>{const ne=pe.handling_status==="Escalated",re=pe.handling_status==="Vendor Handled";$e(ne),Ve(re),!ne&&pe.assigned_to_id&&ot(Me=>({...Me,assigned_to_id:null})),re||(ot(Me=>({...Me,vendor_id:null})),ae(null),ve(!1))},[pe.handling_status]),x.useEffect(()=>{const ne=async()=>{if(d)try{H(!0);const re=await o(parseInt(d));if(ot({id:re.id,date:re.date.split("T")[0],reception_method:re.reception_method,requester_id:re.requester_id,known_by_id:re.known_by_id,department_id:re.department_id,service_type_id:String(re.service_group_id||""),service_id:String(re.service_catalogue_id||""),asset_no:re.asset_no,device_info:re.device_info,complaint:re.complaint,attachment:re.attachment,received_by_id:re.received_by_id,handling_date:re.handling_date?re.handling_date.split("T")[0]:null,action_taken:re.action_taken,handling_status:re.handling_status,remarks:re.remarks,vendor_id:re.vendor_id||null}),re.vendor_id&&Oe.length>0){const Me=Oe.find(et=>et.id===re.vendor_id);Me&&ae(Me)}}catch(re){console.error("Failed to fetch work order data:",re),q(re.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};Oe.length>0&&ne()},[d,o,Oe]),x.useEffect(()=>{e&&(async()=>{try{const re=await l();xe(re);const et=(await i(0)).map(z=>({id:Number(z.id),name:z.group_name??"",description:z.group_description??void 0}));ce(et);const pt=await a();y(pt);const ye=await r();if(m(ye),e&&e.id){const z=await n(parseInt(e.id));j(z)}}catch(re){console.error("Failed to fetch master data:",re)}})()},[e,r,n,a,i,l]),x.useEffect(()=>{const ne=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),x.useEffect(()=>{const ne=re=>{te.current&&!te.current.contains(re.target)&&O(!1),U.current&&!U.current.contains(re.target)&&$(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),x.useEffect(()=>{if(pe.service_type_id&&w.length>0){const ne=w.filter(re=>String(re.service_type)===pe.service_type_id);ie(ne)}else ie([])},[pe.service_type_id,w]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",E),localStorage.setItem("sidebarOpen",JSON.stringify(C))},[C,E]);const gt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!C)),S(ne=>!ne)},Re=x.useCallback((ne,re)=>{let Me,et;if(ne&&"target"in ne)Me=ne.target.name,et=ne.target.value;else if(ne&&typeof ne=="object"&&"value"in ne&&re)Me=re,re==="assigned_to_id"||re==="requester_id"||re==="known_by_id"?et=ne.value?parseInt(ne.value):null:et=ne.value;else if(ne===null&&re)Me=re,et=null;else return;ot(pt=>({...pt,[Me]:et}))},[]),ct=ne=>{ae(ne),ot(re=>({...re,vendor_id:ne.id})),ve(!1)},St=async ne=>{if(ne.preventDefault(),I(!0),q(null),pe.handling_status==="Escalated"&&!pe.assigned_to_id){q("Assigned To is required for Escalated status"),I(!1);return}if(pe.handling_status==="Vendor Handled"&&!pe.vendor_id){q("Vendor selection is required for Vendor Handled status"),I(!1);return}if(!pe.handling_status){q("Handling status is required"),I(!1);return}if(!pe.handling_date){q("Handling date is required"),I(!1);return}if(!pe.action_taken||pe.action_taken.length<5){q("Action taken must be at least 5 characters"),I(!1);return}const re={...pe,id:pe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:pe.handling_date,action_taken:pe.action_taken,handling_status:pe.handling_status,remarks:pe.remarks,assigned_to_id:pe.assigned_to_id?parseInt(pe.assigned_to_id):null,vendor_id:pe.vendor_id};try{await t(re),P({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${pe.id}`}}),K(!0)}catch(Me){q(Me.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",Me)}finally{I(!1)}},ht=x.useCallback(()=>{K(!1),c("/workorders/it/receiver")},[c]),Ft={control:(ne,re)=>({...ne,minHeight:"42px",borderColor:re.isFocused?"#3B82F6":"#D1D5DB",boxShadow:re.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ne=>({...ne,padding:"0"}),singleValue:ne=>({...ne,color:"#374151"}),placeholder:ne=>({...ne,color:"#6B7280"}),dropdownIndicator:ne=>({...ne,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ne=>({...ne,display:"none"}),menu:ne=>({...ne,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ne,re)=>({...ne,backgroundColor:re.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},rt=()=>{const ne=h.find(re=>parseInt(re.id)===pe.requester_id);return(ne==null?void 0:ne.name)||"Unknown"},ke=()=>{const ne=g.find(re=>re.id===pe.department_id);return(ne==null?void 0:ne.name)||"No department assigned"},tt=()=>{const ne=g.find(re=>re.id===pe.department_id);if(ne&&ne.head_id){const re=h.find(Me=>parseInt(Me.id)===ne.head_id);return(re==null?void 0:re.name)||"No department head assigned"}return"No department head assigned"},Se=()=>{const ne=le.find(re=>String(re.id)===pe.service_type_id);return(ne==null?void 0:ne.name)||"Unknown"},ft=()=>{const ne=w.find(re=>String(re.id)===pe.service_id);return(ne==null?void 0:ne.service_name)||"Unknown"},xt=()=>{if(!pe.attachment)return null;try{const re=new URL(pe.attachment).pathname;return re.substring(re.lastIndexOf("/")+1)}catch{return pe.attachment}},wt=()=>{pe.attachment&&window.open(pe.attachment,"_blank")};return R?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(wr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:v,toggleSidebar:gt}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),s.jsxs(_.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Vi,{className:"text-lg"})," Back to Receiver"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[G&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:G}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>q(null)})})]}),s.jsxs("form",{onSubmit:St,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.date})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.reception_method})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:rt()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:ke()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:tt()})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-green-500"})," Service Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:Se()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:ft()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.asset_no})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ld,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.device_info})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),s.jsx(Ge,{content:pe.complaint,className:"min-h-[100px]"})]})]})]}),pe.attachment&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(pi,{className:"mr-2 text-gray-500"})," Attachment"]}),s.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[s.jsx("span",{className:"text-gray-700",children:xt()}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:wt,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Ht,{className:"mr-2 text-blue-500"})," Handling Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:pe.handling_date||"",onChange:Re,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:pe.handling_status?{value:pe.handling_status,label:pe.handling_status}:null,onChange:ne=>Re(ne,"handling_status"),placeholder:"Select Handling Status",styles:Ft,required:!0})]}),ge&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ne=>({value:String(ne.id),label:ne.name})),value:pe.assigned_to_id?{value:String(pe.assigned_to_id),label:((at=h.find(ne=>parseInt(ne.id)===pe.assigned_to_id))==null?void 0:at.name)||"Unknown"}:null,onChange:ne=>Re(ne,"assigned_to_id"),placeholder:"Select Assignee",styles:Ft,required:ge})]}),Ae&&s.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-gray-600"})," Vendor Information"]}),ee?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),s.jsx(_.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ae(null),ot(ne=>({...ne,vendor_id:null})),ve(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.contact_person})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.address||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.telp||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.HP||"-"})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(_.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(!Z),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:Z?"Hide Vendors":"Select Vendor"})]}),Z&&s.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Oe.length>0?Oe.map(ne=>s.jsxs(_.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>ct(ne),children:[s.jsx("div",{className:"font-medium text-gray-900",children:ne.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[ne.contact_person," • ",ne.email]}),s.jsx("div",{className:"text-xs text-gray-500",children:ne.address})]},ne.id)):s.jsxs("div",{className:"p-4 text-center text-gray-600",children:[s.jsx(Zt,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:pe.action_taken||"",onChange:ne=>{ot(re=>({...re,action_taken:ne}))}})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:pe.remarks||"",onChange:ne=>{ot(re=>({...re,remarks:ne}))}})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsxs(_.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(Or,{className:"mr-2 h-5 w-5"})," Cancel"]}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:L,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:L?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),s.jsx(RLe,{isOpen:B,onClose:ht,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:F==null?void 0:F.message}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Je=F==null?void 0:F.work_order)==null?void 0:Je.work_order_no]}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ht,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},Ey=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},LLe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(1),[v]=x.useState(5),[N,C]=x.useState(window.innerWidth<768),[S,E]=x.useState(!1),[T,A]=x.useState(!1),[O,D]=x.useState([]),[$,L]=x.useState(!0),[I,R]=x.useState(null),[H,G]=x.useState(!1),[q,F]=x.useState(null),[P,B]=x.useState(!1),[K,te]=x.useState(""),U=Nt(),Q=Zn(),ie=x.useRef(null),le=x.useRef(null),{user:ce,getWorkOrdersIT:ge,updateWorkOrderIT:$e,hasPermission:Oe}=Ct(),xe=Q.pathname==="/workorders/it/assignment",Ae=Q.pathname==="/workorders/it/reports",Ve=Q.pathname==="/workorders/it/knowledgebase",ee=Q.pathname==="/workorders/it",ae=Q.pathname==="/workorders/it/receiver";Q.pathname;const Z=({order:we,onClose:at})=>{var ue,be,Ne,Fe,he,de,se,De,Ye,qe;const Je=Ce=>Ce==null?"-":typeof Ce=="object"&&Ce!==null?Ce.name||Ce.title||Ce.id||"-":typeof Ce=="string"?Ce.trim()!==""?Ce.trim():"-":typeof Ce=="number"?Ce.toString():String(Ce),ne=Ce=>Ce?new Date(Ce).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",re=({status:Ce})=>{const Be={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Be[Ce]||Be.New}`,children:Ce})},Me=({priority:Ce})=>{const Be={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Be[Ce]||Be.Medium}`,children:Ce||"Medium"})},et=({title:Ce,children:Be,icon:nt})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[nt&&s.jsx("div",{className:"mr-3 text-blue-600",children:nt}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ce})]})}),s.jsx("div",{className:"p-6",children:Be})]}),pt=({label:Ce,value:Be,icon:nt,fullWidth:Lt=!1,priority:br="medium"})=>{const $r={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${Lt?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${$r[br]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[nt&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:nt}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ce}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Be})]})]})})})},ye=({label:Ce,htmlContent:Be,icon:nt,fullWidth:Lt=!1})=>{if(!Be)return s.jsx(pt,{label:Ce,value:"-",icon:nt,fullWidth:Lt,priority:"low"});const br=Al.sanitize(Be,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return s.jsx("div",{className:`${Lt?"col-span-full":""}`,children:s.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[nt&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:nt}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Ce}),s.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:br}})]})]})})})},z=({order:Ce})=>{const nt=!["Resolved","Cancel","Closed"].includes(Ce.handling_status)&&Ce.assigned_to_id===Number(ce==null?void 0:ce.id);return s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[nt&&s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>U(`/workorders/it/assignment/editassignment/${Ce.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),s.jsxs(_.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:at,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[s.jsx(dt,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",we.work_order_no||we.id]}),s.jsx(re,{status:we.handling_status}),s.jsx(Me,{priority:(ue=we.service)==null?void 0:ue.priority})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"w-4 h-4"}),"Created: ",ne(we.date)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"w-4 h-4"}),we.handling_date?`Assigned: ${ne(we.handling_date)}`:"Not yet assigned"]})]})]})})}),s.jsx(et,{title:"My Assignment Details",icon:s.jsx(Mr,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(pt,{label:"Assigned To",value:Je(((be=we.assigned_to)==null?void 0:be.name)||(ce==null?void 0:ce.name)),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(pt,{label:"Assignment Type",value:we.vendor?"Vendor":"Internal Technician",icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Current Status",value:Je(we.handling_status),icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(pt,{label:"Priority Level",value:Je(((Ne=we.service)==null?void 0:Ne.priority)||"Medium"),icon:s.jsx(Zt,{className:"w-4 h-4"}),priority:"high"})]})}),s.jsx(et,{title:"Service & Technical Information",icon:s.jsx(hn,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(pt,{label:"Service Type",value:Je((Fe=we.service_type)==null?void 0:Fe.group_name),icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Service Name",value:Je((he=we.service)==null?void 0:he.service_name),icon:s.jsx(ir,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Service Owner",value:Je((se=(de=we.service)==null?void 0:de.owner)==null?void 0:se.name),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Asset Number",value:Je(we.asset_no),icon:s.jsx(ir,{className:"w-4 h-4"})})]})}),s.jsx(et,{title:"Request Information",icon:s.jsx(ir,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(pt,{label:"Requester",value:Je((De=we.requester)==null?void 0:De.name),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Requester Department",value:Je(we.department_name||((Ye=we.department)==null?void 0:Ye.name)),icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Reception Method",value:Je(we.reception_method),icon:s.jsx(ls,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Known By",value:Je((qe=we.known_by)==null?void 0:qe.name),icon:s.jsx(es,{className:"w-4 h-4"})})]})}),s.jsx(et,{title:"Problem Details",icon:s.jsx(Zt,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(pt,{label:"Device Information",value:Je(we.device_info),icon:s.jsx(An,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(ye,{label:"Complaint Description",htmlContent:we.complaint||"",icon:s.jsx(Zt,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(et,{title:"Progress & Actions",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx(ye,{label:"Action Taken",htmlContent:we.action_taken||"No actions recorded yet",icon:s.jsx(hn,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(ye,{label:"Technical Notes & Remarks",htmlContent:we.remarks||"No remarks yet",icon:s.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),we.vendor&&s.jsx(et,{title:"Vendor Information",icon:s.jsx(Mr,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(pt,{label:"Vendor Name",value:Je(we.vendor.name),icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(pt,{label:"Contact Person",value:Je(we.vendor.contact_person),icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Email",value:Je(we.vendor.email),icon:s.jsx(rg,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Phone",value:Je(we.vendor.telp),icon:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Mobile",value:Je(we.vendor.HP),icon:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(pt,{label:"Address",value:Je(we.vendor.address),icon:s.jsx(zf,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(et,{title:"Timeline & Status History",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),s.jsx("span",{className:"text-sm text-green-600",children:ne(we.date)})]}),we.handling_date&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),s.jsx("span",{className:"text-sm text-blue-600",children:ne(we.handling_date)})]}),we.action_taken&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),s.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(we.handling_status)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[s.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),s.jsx("span",{className:"text-sm text-orange-600",children:we.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(we.handling_status)&&s.jsx(et,{title:"Next Steps",icon:s.jsx(Ht,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[s.jsx(Ht,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),we.handling_status==="Assigned"&&s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[s.jsx(It,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),we.handling_status==="In Progress"&&s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[s.jsx(hn,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),we.attachment&&s.jsx(et,{title:"Supporting Documents",icon:s.jsx(pi,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx(pi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),s.jsxs("a",{href:we.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[s.jsx(tO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),s.jsx(z,{order:we})]})},ve=x.useCallback(async()=>{L(!0),R(null);try{const at=(await ge()).filter(Je=>Je.assigned_to_id===Number(ce==null?void 0:ce.id));D(at)}catch(we){R(we.message||"Failed to load work orders.")}finally{L(!1)}},[ge,ce==null?void 0:ce.id]),Ge=x.useCallback(async(we,at)=>{G(!0),F(null),B(!1);try{const Je=await $e({...at,id:we});return D(ne=>ne.map(re=>re.id===we?Je:re)),B(!0),setTimeout(()=>B(!1),3e3),Je}catch(Je){throw F(Je.message||"Failed to update work order."),Je}finally{G(!1)}},[$e]),Ke=()=>{C(window.innerWidth<768),window.innerWidth<768&&n(!1)},pe=we=>{ie.current&&!ie.current.contains(we.target)&&E(!1),le.current&&!le.current.contains(we.target)&&A(!1)};x.useEffect(()=>(window.addEventListener("resize",Ke),document.addEventListener("mousedown",pe),ve(),()=>{window.removeEventListener("resize",Ke),document.removeEventListener("mousedown",pe)}),[ve]);const ot=we=>{switch(we){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},gt=we=>{switch(we==null?void 0:we.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},Re=we=>{switch(we){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},ct=we=>{switch(we==null?void 0:we.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},St=x.useCallback(we=>{const at=O.find(Je=>Je.id===we);at&&(y(at),m(!0))},[O]);x.useCallback(async we=>{if(!K.trim()){F("Vendor name is required");return}try{await Ge(we,{assigned_to_name:K.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),te(""),B(!0)}catch(at){console.error("Failed to assign vendor:",at)}},[Ge,K]),x.useCallback(async(we,at)=>{try{await Ge(we,{handling_status:at,handling_date:new Date().toISOString()})}catch(Je){console.error("Failed to update status:",Je)}},[Ge]);const ht=we=>{var at;return we.vendor?`${we.vendor.name}`:((at=we.assigned_to)==null?void 0:at.name)||"Unassigned"},Ft=we=>we.vendor?"vendor":we.assigned_to?"user":"unassigned",rt=()=>{n(we=>!we)},ke=O.filter(we=>{var ne,re,Me,et;const at=((re=(ne=we.requester)==null?void 0:ne.name)==null?void 0:re.toLowerCase().includes(a.toLowerCase()))||((Me=we.work_order_no)==null?void 0:Me.toLowerCase().includes(a.toLowerCase()))||((et=we.complaint)==null?void 0:et.toLowerCase().includes(a.toLowerCase()))||String(we.id).includes(a),Je=o==="all"||we.handling_status===o;return at&&Je}).sort((we,at)=>{var et,pt;const Je=Re(we.handling_status),ne=Re(at.handling_status);if(Je!==ne)return Je-ne;const re=ct((et=we.service)==null?void 0:et.priority),Me=ct((pt=at.service)==null?void 0:pt.priority);return re!==Me?re-Me:new Date(at.created_at).getTime()-new Date(we.created_at).getTime()}),tt=w*v,Se=tt-v,ft=ke.slice(Se,tt),xt=Math.ceil(ke.length/v),wt=we=>j(we);return x.useEffect(()=>{j(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]),$?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),s.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):I?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[s.jsx(Zt,{className:"text-red-600 text-5xl"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-lg text-red-800",children:I}),s.jsx("button",{onClick:ve,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:N,toggleSidebar:rt}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ee?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${xe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ve?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),q&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[s.jsx("span",{className:"block sm:inline",children:q}),s.jsx("button",{onClick:()=>F(null),className:"absolute top-0 right-0 p-3",children:s.jsx(dt,{size:16})})]}),P&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[s.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),s.jsx("button",{onClick:()=>B(!1),className:"absolute top-0 right-0 p-3",children:s.jsx(dt,{size:16})})]}),s.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Ey,{title:"Total Assignments",value:ke.length.toString(),change:"+8%",icon:s.jsx(ir,{})}),s.jsx(Ey,{title:"In Progress",value:ke.filter(we=>we.handling_status==="In Progress").length.toString(),change:"-1",icon:s.jsx(hn,{})}),s.jsx(Ey,{title:"Resolved",value:ke.filter(we=>we.handling_status==="Resolved").length.toString(),change:"+1",icon:s.jsx(Ht,{})}),s.jsx(Ey,{title:"Vendor Handled",value:ke.filter(we=>we.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:s.jsx(It,{})})]}),s.jsx(_.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:we=>i(we.target.value)})]}),s.jsx(Mt,{children:c&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:s.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:we=>l(we.target.value),children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"Assigned",children:"Assigned"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Escalated",children:"Escalated"}),s.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Cancel",children:"Cancel"}),s.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ft.length>0?ft.map(we=>{var ne,re;we.handling_status,["Resolved","Cancel","Closed"].includes(we.handling_status),we.handling_status;const at=ht(we),Je=Ft(we);return s.jsxs(_.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>St(we.id),title:"Click to view details",children:we.work_order_no||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:we.requester.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(we.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:we.handling_date?new Date(we.handling_date).toLocaleDateString():"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${gt((ne=we.service)==null?void 0:ne.priority)} shadow-sm`,children:((re=we.service)==null?void 0:re.priority)||"Medium"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ot(we.handling_status)} shadow-sm`,children:we.handling_status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`text-sm font-medium ${Je==="vendor"?"text-purple-600":Je==="user"?"text-blue-600":"text-gray-500"}`,children:at}),Je==="vendor"&&s.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>St(we.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:s.jsx(es,{className:"text-lg"})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(`/workorders/it/assignment/editassignment/${we.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:s.jsx(Hn,{className:"text-lg"})})]})]},we.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),ke.length>v&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",s.jsx("span",{className:"font-semibold",children:Se+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(tt,ke.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:ke.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>wt(w-1),disabled:w===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:xt},(we,at)=>s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>wt(at+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${w===at+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:at+1},at+1)),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>wt(w+1),disabled:w===xt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),y(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:s.jsx(Z,{order:g,onClose:()=>{m(!1),y(null)}})})]})})})]})},$Le=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,FLe=()=>{var we,at,Je;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=Ct(),c=Nt(),{id:d}=Ea(),[h,m]=x.useState([]),[g,y]=x.useState([]),[w,j]=x.useState([]),[v,N]=x.useState(window.innerWidth<768),[C,S]=x.useState(()=>{const ne=localStorage.getItem("sidebarOpen");return ne?JSON.parse(ne):!1}),[E,T]=x.useState(!1),[A,O]=x.useState(!1),[D,$]=x.useState(!1),[L,I]=x.useState(!1),[R,H]=x.useState(!0),[G,q]=x.useState(null),[F,P]=x.useState(null),[B,K]=x.useState(!1),te=x.useRef(null),U=x.useRef(null),[Q,ie]=x.useState([]),[le,ce]=x.useState([]),[ge,$e]=x.useState(!1),[Oe,xe]=x.useState([]),[Ae,Ve]=x.useState(!1),[ee,ae]=x.useState(null),[Z,ve]=x.useState(!1),Ge=({content:ne,className:re=""})=>{if(!ne)return s.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${re}`,children:s.jsx("span",{children:"-"})});const Me=Al.sanitize(ne,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return s.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${re}`,dangerouslySetInnerHTML:{__html:Me}})},Ke={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((we=e==null?void 0:e.department)==null?void 0:we.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[pe,ot]=x.useState(Ke);x.useEffect(()=>{const ne=pe.handling_status!=="New",re=pe.handling_status==="Vendor Handled";$e(ne),Ve(re),!re&&pe.vendor_id&&(ot(Me=>({...Me,vendor_id:null})),ae(null),ve(!1))},[pe.handling_status]),x.useEffect(()=>{const ne=async()=>{if(d)try{H(!0);const re=await o(parseInt(d));if(ot({id:re.id,date:re.date.split("T")[0],reception_method:re.reception_method,requester_id:re.requester_id,known_by_id:re.known_by_id,department_id:re.department_id,service_type_id:String(re.service_group_id||""),service_id:String(re.service_catalogue_id||""),asset_no:re.asset_no,device_info:re.device_info,complaint:re.complaint,attachment:re.attachment,received_by_id:re.received_by_id,handling_date:re.handling_date?re.handling_date.split("T")[0]:null,action_taken:re.action_taken,handling_status:re.handling_status,remarks:re.remarks,assigned_to_id:re.assigned_to_id,vendor_id:re.vendor_id||null}),re.vendor_id&&Oe.length>0){const Me=Oe.find(et=>et.id===re.vendor_id);Me&&ae(Me)}}catch(re){console.error("Failed to fetch work order data:",re),q(re.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};Oe.length>0&&ne()},[d,o,Oe]),x.useEffect(()=>{e&&(async()=>{try{const re=await l();xe(re);const et=(await i(0)).map(z=>({id:Number(z.id),name:z.group_name??"",description:z.group_description??void 0}));ce(et);const pt=await a();y(pt);const ye=await r();if(m(ye),e&&e.id){const z=await n(parseInt(e.id));j(z)}}catch(re){console.error("Failed to fetch master data:",re)}})()},[e,r,n,a,i,l]),x.useEffect(()=>{const ne=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),x.useEffect(()=>{const ne=re=>{te.current&&!te.current.contains(re.target)&&O(!1),U.current&&!U.current.contains(re.target)&&$(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),x.useEffect(()=>{if(pe.service_type_id&&w.length>0){const ne=w.filter(re=>String(re.service_type)===pe.service_type_id);ie(ne)}else ie([])},[pe.service_type_id,w]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",E),localStorage.setItem("sidebarOpen",JSON.stringify(C))},[C,E]);const gt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!C)),S(ne=>!ne)},Re=x.useCallback((ne,re)=>{let Me,et;if(ne&&"target"in ne)Me=ne.target.name,et=ne.target.value;else if(ne&&typeof ne=="object"&&"value"in ne&&re)Me=re,re==="assigned_to_id"||re==="requester_id"||re==="known_by_id"?et=ne.value?parseInt(ne.value):null:et=ne.value;else if(ne===null&&re)Me=re,et=null;else return;ot(pt=>({...pt,[Me]:et}))},[]),ct=ne=>{ae(ne),ot(re=>({...re,vendor_id:ne.id})),ve(!1)},St=async ne=>{ne.preventDefault(),I(!0),q(null);const re=["In Progress","Escalated","Vendor Handled","Resolved"];if(pe.handling_status&&re.includes(pe.handling_status)&&!pe.assigned_to_id){q("Assigned To is required for this status"),I(!1);return}if(pe.handling_status==="Vendor Handled"&&!pe.vendor_id){q("Vendor selection is required for Vendor Handled status"),I(!1);return}if(!pe.handling_status){q("Handling status is required"),I(!1);return}if(!pe.handling_date){q("Handling date is required"),I(!1);return}if(!pe.action_taken||pe.action_taken.length<5){q("Action taken must be at least 5 characters"),I(!1);return}const Me={...pe,id:pe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:pe.handling_date,action_taken:pe.action_taken,handling_status:pe.handling_status,remarks:pe.remarks,assigned_to_id:pe.assigned_to_id?parseInt(pe.assigned_to_id):null,vendor_id:pe.vendor_id};try{await t(Me),P({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${pe.id}`}}),K(!0)}catch(et){q(et.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",et)}finally{I(!1)}},ht=x.useCallback(()=>{K(!1),c("/workorders/it/assignment")},[c]),Ft={control:(ne,re)=>({...ne,minHeight:"42px",borderColor:re.isFocused?"#3B82F6":"#D1D5DB",boxShadow:re.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ne=>({...ne,padding:"0"}),singleValue:ne=>({...ne,color:"#374151"}),placeholder:ne=>({...ne,color:"#6B7280"}),dropdownIndicator:ne=>({...ne,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ne=>({...ne,display:"none"}),menu:ne=>({...ne,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ne,re)=>({...ne,backgroundColor:re.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},rt=()=>{const ne=h.find(re=>parseInt(re.id)===pe.requester_id);return(ne==null?void 0:ne.name)||"Unknown"},ke=()=>{const ne=g.find(re=>re.id===pe.department_id);return(ne==null?void 0:ne.name)||"No department assigned"},tt=()=>{const ne=g.find(re=>re.id===pe.department_id);if(ne&&ne.head_id){const re=h.find(Me=>parseInt(Me.id)===ne.head_id);return(re==null?void 0:re.name)||"No department head assigned"}return"No department head assigned"},Se=()=>{const ne=le.find(re=>String(re.id)===pe.service_type_id);return(ne==null?void 0:ne.name)||"Unknown"},ft=()=>{const ne=w.find(re=>String(re.id)===pe.service_id);return(ne==null?void 0:ne.service_name)||"Unknown"},xt=()=>{if(!pe.attachment)return null;try{const re=new URL(pe.attachment).pathname;return re.substring(re.lastIndexOf("/")+1)}catch{return pe.attachment}},wt=()=>{pe.attachment&&window.open(pe.attachment,"_blank")};return R?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(wr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(ir,{}),isMobile:v,toggleSidebar:gt}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),s.jsxs(_.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Vi,{className:"text-lg"})," Back to Assignment"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[G&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:G}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>q(null)})})]}),s.jsxs("form",{onSubmit:St,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.date})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.reception_method})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:rt()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:ke()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:tt()})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-green-500"})," Service Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:Se()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:ft()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.asset_no})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ld,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:s.jsx("span",{children:pe.device_info})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),s.jsx(Ge,{content:pe.complaint,className:"min-h-[100px]"})]})]})]}),pe.attachment&&s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(pi,{className:"mr-2 text-gray-500"})," Attachment"]}),s.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[s.jsx("span",{className:"text-gray-700",children:xt()}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:wt,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Ht,{className:"mr-2 text-blue-500"})," Handling Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),s.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:s.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:pe.handling_date||"",onChange:Re,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:pe.handling_status?{value:pe.handling_status,label:pe.handling_status}:null,onChange:ne=>Re(ne,"handling_status"),placeholder:"Select Handling Status",styles:Ft,required:!0})]}),ge&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Sr,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ne=>({value:String(ne.id),label:ne.name})),value:pe.assigned_to_id?{value:String(pe.assigned_to_id),label:((at=h.find(ne=>parseInt(ne.id)===pe.assigned_to_id))==null?void 0:at.name)||"Unknown"}:null,onChange:ne=>Re(ne,"assigned_to_id"),placeholder:"Select Assignee",styles:Ft,required:ge})]}),Ae&&s.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Hi,{className:"mr-2 text-gray-600"})," Vendor Information"]}),ee?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),s.jsx(_.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ae(null),ot(ne=>({...ne,vendor_id:null})),ve(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.contact_person})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.address||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.telp||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),s.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ee.HP||"-"})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(_.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(!Z),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:Z?"Hide Vendors":"Select Vendor"})]}),Z&&s.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Oe.length>0?Oe.map(ne=>s.jsxs(_.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>ct(ne),children:[s.jsx("div",{className:"font-medium text-gray-900",children:ne.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[ne.contact_person," • ",ne.email]}),s.jsx("div",{className:"text-xs text-gray-500",children:ne.address})]},ne.id)):s.jsxs("div",{className:"p-4 text-center text-gray-600",children:[s.jsx(Zt,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:pe.action_taken||"",onChange:ne=>{ot(re=>({...re,action_taken:ne}))}})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:pe.remarks||"",onChange:ne=>{ot(re=>({...re,remarks:ne}))}})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsxs(_.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(Or,{className:"mr-2 h-5 w-5"})," Cancel"]}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:L,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:L?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),s.jsx($Le,{isOpen:B,onClose:ht,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:F==null?void 0:F.message}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Je=F==null?void 0:F.work_order)==null?void 0:Je.work_order_no]}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ht,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},HLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,BLe=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getActivity:l,updateActivity:c,getActivityById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:"",description:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name,description:T.description};await c(t,H),j("Activity update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Activity")}finally{S(!1)}},I=()=>{N(!1),E("/maintenanceactivity/activity")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Ri,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),s.jsxs(_.button,{onClick:()=>E("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Activity Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:T.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),s.jsx(HLe,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},zLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,VLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addActivity:o,getActivity:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",description:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),y("Activity created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Activity")}finally{N(!1)}},$=()=>{j(!1),C("/maintenanceactivity/activity")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Ri,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),s.jsxs(_.button,{onClick:()=>C("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Activity Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),s.jsx(zLe,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},qLe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Cz=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},ULe=()=>{const[t,e]=x.useState([]),{getActivity:r,deleteActivity:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load activities"),console.error("Error loading activities:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var le,ce;const Q=(le=U.name)==null?void 0:le.toLowerCase().includes(te),ie=(ce=U.description)==null?void 0:ce.toLowerCase().includes(te);return K==="activity"?Q:K==="description"?ie:Q||ie})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete activity:",B),l("Failed to delete activity. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:s.jsx(Ri,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Activity"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Cz,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(Ri,{className:"w-6 h-6"})}),s.jsx(Cz,{title:"Active Activities",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:s.jsx(Ri,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search activities"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(qLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},WLe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Tz=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},GLe=()=>{const[t,e]=x.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load trouble items"),console.error("Error loading trouble items:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var le,ce;const Q=(le=U.name)==null?void 0:le.toLowerCase().includes(te),ie=(ce=U.description)==null?void 0:ce.toLowerCase().includes(te);return K==="trouble item"?Q:K==="description"?ie:Q||ie})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete trouble item:",B),l("Failed to delete trouble item. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:s.jsx(Zt,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Trouble Item"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Tz,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(Zt,{className:"w-6 h-6"})}),s.jsx(Tz,{title:"Active Items",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:s.jsx(Zt,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search trouble items"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(WLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},YLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,_z=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addTroubleItem:o,getTroubleItem:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",description:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),y("Trouble Item created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Trouble Item")}finally{N(!1)}},$=()=>{j(!1),C("/maintenanceactivity/troubleitem")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(Zt,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),s.jsxs(_.button,{onClick:()=>C("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Trouble Item Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),s.jsx(YLe,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},KLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,XLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addWorkUnit:o,getWorkUnit:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",is_production:"",description:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,is_production:S.is_production,description:S.description};await o(I),y("Work Unit created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Work Unit")}finally{N(!1)}},$=()=>{j(!1),C("/worklocation/workunit")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(kf,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),s.jsxs(_.button,{onClick:()=>C("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Work Unit Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"Production",children:"Production"}),s.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Nl,{value:S.description,onChange:L=>{E(I=>({...I,description:L}))}})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),s.jsx(KLe,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},JLe=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,QLe=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:"",is_production:"",description:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name,is_production:T.is_production,description:T.description};await c(t,H),j("Work Unit update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Work Unit")}finally{S(!1)}},I=()=>{N(!1),E("/worklocation/workunit")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(kf,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),s.jsxs(_.button,{onClick:()=>E("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Work Unit Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"is_production",id:"is_production",value:T.is_production,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[s.jsx("option",{value:"Production",children:"Production"}),s.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:T.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),s.jsx(JLe,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},ZLe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Mz=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},e$e=()=>{const[t,e]=x.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load work units"),console.error("Error loading work units:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var le,ce;const Q=(le=U.name)==null?void 0:le.toLowerCase().includes(te),ie=(ce=U.description)==null?void 0:ce.toLowerCase().includes(te);return K==="work unit"?Q:K==="description"?ie:Q||ie})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete work unit:",B),l("Failed to delete work unit. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(kf,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Work Unit"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Mz,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(kf,{className:"w-6 h-6"})}),s.jsx(Mz,{title:"Production Units",value:t.filter(P=>P.is_production==="1").length.toString(),change:`+${Math.floor(t.filter(P=>P.is_production==="1").length/t.length*100)}%`,icon:s.jsx(kf,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search work units"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.is_production==="1"?"Yes":"No"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(ZLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},t$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,Az=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:"",description:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name,description:T.description};await c(t,H),j("Work Group update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Work Group")}finally{S(!1)}},I=()=>{N(!1),E("/workarrangement/workgroup")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(ia,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),s.jsxs(_.button,{onClick:()=>E("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Work Group Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:T.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),s.jsx(t$e,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},r$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,Oz=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addWorkGroup:o,getWorkGroup:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",description:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),y("Work Group created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Work Group")}finally{N(!1)}},$=()=>{j(!1),C("/maintenanceactivity/activity")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(ia,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),s.jsxs(_.button,{onClick:()=>C("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Work Group Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),s.jsx(r$e,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},n$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Ez=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Dz=()=>{const[t,e]=x.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load work groups"),console.error("Error loading work groups:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var le,ce;const Q=(le=U.name)==null?void 0:le.toLowerCase().includes(te),ie=(ce=U.description)==null?void 0:ce.toLowerCase().includes(te);return K==="work group"?Q:K==="description"?ie:Q||ie})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete work group:",B),l("Failed to delete work group. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:s.jsx(ia,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Work Group"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Ez,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(ia,{className:"w-6 h-6"})}),s.jsx(Ez,{title:"Active Groups",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:s.jsx(ia,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search work groups"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(n$e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},a$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,s$e=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:"",description:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name,description:T.description};await c(t,H),j("Work Shift update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Work Shift")}finally{S(!1)}},I=()=>{N(!1),E("/workarrangement/workshift")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(It,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),s.jsxs(_.button,{onClick:()=>E("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Work Shift Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:T.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),s.jsx(a$e,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},i$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,o$e=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addWorkShift:o,getWorkShift:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",description:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),y("Work Shift created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Work Shift")}finally{N(!1)}},$=()=>{j(!1),C("/workarrangement/workshift")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(It,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),s.jsxs(_.button,{onClick:()=>C("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Work Shift Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),s.jsx(i$e,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},l$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Pz=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},c$e=()=>{const[t,e]=x.useState([]),{getWorkShift:r,deleteWorkShift:n}=Ct(),[a,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,C]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),S=Nt(),E=x.useRef(null),[T,A]=x.useState(!1),O=x.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),D=x.useCallback(async()=>{try{i(!0);const B=[...await r()].sort((K,te)=>K.id-te.id);e(B)}catch(P){l("Failed to load work shifts"),console.error("Error loading work shifts:",P)}finally{i(!1)}},[r]);x.useEffect(()=>{D()},[D]);const $=()=>{const P=!N;C(P),localStorage.setItem("sidebarOpen",JSON.stringify(P))},L=()=>{alert("Import functionality is not yet implemented.")},I=P=>{const B=P.target.value;d(B)},R=x.useMemo(()=>{if(!c)return O;const P=c.toLowerCase();return O.filter(B=>B.name.toLowerCase().includes(P))},[c,O]),H=P=>{var B;d(`${P}: `),A(!1),(B=E.current)==null||B.focus()},G=x.useMemo(()=>{if(!c.trim())return t;const P=c.toLowerCase().trim(),B=P.split(":");let K="all",te=P;return B.length>1&&O.some(U=>U.name.toLowerCase()===B[0].trim())&&(K=B[0].trim(),te=B.slice(1).join(":").trim()),t.filter(U=>{var le,ce;const Q=(le=U.name)==null?void 0:le.toLowerCase().includes(te),ie=(ce=U.description)==null?void 0:ce.toLowerCase().includes(te);return K==="work shift"?Q:K==="description"?ie:Q||ie})},[t,c,O]),q=async P=>{try{await n(P),e(t.filter(B=>B.id!==P)),m(!1),y(null)}catch(B){console.error("Failed to delete work shift:",B),l("Failed to delete work shift. Please try again.")}},F=x.useCallback(P=>{y(P),m(!0)},[]);return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:s.jsx(It,{}),isMobile:v,toggleSidebar:$}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(_.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Work Shift"})]}),s.jsxs(_.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Pz,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(It,{className:"w-6 h-6"})}),s.jsx(Pz,{title:"Active Shifts",value:t.filter(P=>P.description&&P.description.length>0).length.toString(),change:`+${Math.floor(t.filter(P=>P.description&&P.description.length>0).length/t.length*100)}%`,icon:s.jsx(It,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:E,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search work shifts"}),s.jsx(Mt,{children:T&&R.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(P=>s.jsx(_.button,{onClick:()=>H(P.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:P.name})},P.id))})})]})}),s.jsx(Mt,{children:w&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):G.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&s.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:G.map(P=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.description||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${P.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(P.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:s.jsx(yn,{className:"inline text-base"})})]})]},P.id))})]})})})]})]}),s.jsx(l$e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},u$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,d$e=()=>{const t=Nt(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:a}=Ct(),[i,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(()=>{const le=localStorage.getItem("sidebarOpen");return JSON.parse(le||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(le=>!le)},[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(null),[E,T]=x.useState(!0),[A,O]=x.useState(1),[D,$]=x.useState({startDate:null,endDate:null,units:[]}),L={control:(le,ce)=>({...le,minHeight:"42px",borderColor:ce.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ce.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:le=>({...le,padding:"0"}),singleValue:le=>({...le,color:"#374151"}),placeholder:le=>({...le,color:"#6B7280"}),dropdownIndicator:le=>({...le,color:"#9CA3AF"}),clearIndicator:le=>({...le,color:"#9CA3AF"}),menu:le=>({...le,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(le,ce)=>({...le,backgroundColor:ce.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};x.useEffect(()=>{(async()=>{try{T(!0);const ce=await e();S(ce)}catch{y("Gagal memuat data master")}finally{T(!1)}})()},[e]);const I=x.useCallback(()=>{$(le=>({...le,units:[...le.units,{id:0,name:"",machines:[]}]}))},[]),R=x.useCallback(le=>{$(ce=>({...ce,units:ce.units.filter((ge,$e)=>$e!==le)}))},[]),H=x.useCallback((le,ce)=>{var ge;if(ce){const $e=(ge=C==null?void 0:C.unitsWithMachines)==null?void 0:ge.find(Oe=>Oe.id===ce.value);$e&&$(Oe=>{const xe=[...Oe.units];return xe[le]={id:$e.id,name:$e.name,machines:[]},{...Oe,units:xe}})}else $($e=>{const Oe=[...$e.units];return Oe[le]={id:0,name:"",machines:[]},{...$e,units:Oe}})},[C]),G=x.useCallback(le=>{$(ce=>{const ge=[...ce.units];return ge[le].machines=[...ge[le].machines,{id:0,name:"",intervalId:null,items:[]}],{...ce,units:ge}})},[]),q=x.useCallback((le,ce)=>{$(ge=>{const $e=[...ge.units];return $e[le].machines=$e[le].machines.filter((Oe,xe)=>xe!==ce),{...ge,units:$e}})},[]),F=x.useCallback(async(le,ce,ge)=>{if(ge)try{const $e=await a(ge.value);$e&&$(Oe=>{const xe=[...Oe.units];return xe[le].machines[ce]={id:$e.id,name:$e.name,intervalId:null,items:$e.item_mesin.map(Ae=>({...Ae,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...Oe,units:xe}})}catch($e){console.error("Error fetching machine detail:",$e),y("Gagal memuat detail mesin")}else $($e=>{const Oe=[...$e.units];return Oe[le].machines[ce]={id:0,name:"",intervalId:null,items:[]},{...$e,units:Oe}})},[a]),P=x.useCallback((le,ce,ge)=>{var $e,Oe,xe;if(ge&&((Oe=($e=D.units[le])==null?void 0:$e.machines[ce])!=null&&Oe.id)){const Ae=(xe=C==null?void 0:C.intervals)==null?void 0:xe.find(Ve=>Ve.id_interval===ge.value);Ae&&$(Ve=>{const ee=[...Ve.units],ae=ee[le].machines[ce],Z=ae.items.filter(ve=>ve.interval_id===Ae.id_interval);return ee[le].machines[ce]={...ae,intervalId:Ae.id_interval,intervalType:Ae.type_interval,items:Z.map(ve=>({...ve,interval_type:Ae.type_interval}))},{...Ve,units:ee}})}else $(Ae=>{const Ve=[...Ae.units],ee=Ve[le].machines[ce];return Ve[le].machines[ce]={...ee,intervalId:null,intervalType:void 0,items:ee.items.map(ae=>({...ae,interval_type:""}))},{...Ae,units:Ve}})},[C,D.units]);x.useCallback((le,ce,ge,$e,Oe)=>{$(xe=>{const Ae=[...xe.units];return Ae[le].machines[ce].items[ge]={...Ae[le].machines[ce].items[ge],[$e]:Oe},{...xe,units:Ae}})},[]);const B=["January","February","March","April","May","June","July","August","September","October","November","December"],K=async le=>{le.preventDefault(),m(!0),y(null);try{if(!D.startDate||!D.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(D.units.length===0||D.units.some(Oe=>!Oe.id))throw new Error("Pilih setidaknya satu unit");const ce=Oe=>{const xe=Oe.getFullYear(),Ae=String(Oe.getMonth()+1).padStart(2,"0"),Ve=String(Oe.getDate()).padStart(2,"0");return`${xe}-${Ae}-${Ve}`},ge=[],$e=[];for(const Oe of D.units)for(const xe of Oe.machines)if(xe.id&&xe.items.length>0){const Ae=xe.items.map(ae=>ae.id),Ve={tahun:D.startDate.getFullYear(),bulan:B[D.startDate.getMonth()],tgl_start:ce(D.startDate),tgl_end:ce(D.endDate),unit:Oe.name,id_mesins:xe.id,id_interval:xe.intervalId||1,item_mesin_ids:Ae},ee=await r(Ve);ge.push(ee)}if(ge.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");j("Data monitoring berhasil disimpan!"),N(!0)}catch(ce){y(ce.message||"Gagal menyimpan data monitoring")}finally{m(!1)}},te=x.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),U=x.useMemo(()=>{switch(A){case 1:return!D.startDate||!D.endDate;case 2:return D.units.length===0||D.units.every(ce=>!ce.id);case 3:return D.units.every(ce=>ce.machines.length===0||ce.machines.every(ge=>!ge.id||!ge.intervalId||ge.items.length===0));case 4:return!D.units.some(ce=>ce.machines.some(ge=>ge.id&&ge.intervalId&&ge.items.length>0));default:return!0}},[A,D]),Q=()=>s.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(le=>s.jsxs("button",{type:"button",onClick:()=>O(le),disabled:le===2&&(!D.startDate||!D.endDate)||le===3&&(D.units.length===0||D.units.every(ce=>!ce.id))||le===4&&D.units.every(ce=>ce.machines.every(ge=>!ge.id||!ge.intervalId)),className:`px-4 py-2 font-medium ${A===le?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${le===2&&(!D.startDate||!D.endDate)||le===3&&(D.units.length===0||D.units.every(ce=>!ce.id))||le===4&&D.units.every(ce=>ce.machines.every(ge=>!ge.id||!ge.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[le,". ",["Date","Unit","Machine & Interval","Item"][le-1]]},le))}),ie=()=>{if(E)return s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(A){case 1:return s.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsx(Xf,{selected:D.startDate,onChange:le=>$(ce=>({...ce,startDate:le})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),s.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:s.jsx(Soe,{size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsx(Xf,{selected:D.endDate,onChange:le=>$(ce=>({...ce,endDate:le})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return s.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),s.jsxs("div",{className:"space-y-4",children:[D.units.map((le,ce)=>{var ge;return s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Sr,{options:((ge=C==null?void 0:C.unitsWithMachines)==null?void 0:ge.map($e=>({value:$e.id,label:$e.name})))||[],value:le.id?{value:le.id,label:le.name}:null,onChange:$e=>H(ce,$e),isClearable:!0,placeholder:"Pilih Unit",styles:L,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),D.units.length>1&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>R(ce),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:s.jsx(yn,{size:20})})]},ce)}),s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:I,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[s.jsx(Jn,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return s.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),s.jsx("div",{className:"space-y-6",children:D.units.map((le,ce)=>le.id&&s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:le.name}),s.jsx("div",{className:"space-y-4",children:le.machines.map((ge,$e)=>{var Oe,xe,Ae,Ve;return s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),s.jsx(Sr,{options:((Ae=(xe=(Oe=C==null?void 0:C.unitsWithMachines)==null?void 0:Oe.find(ee=>ee.id===le.id))==null?void 0:xe.mesin)==null?void 0:Ae.map(ee=>({value:ee.id,label:ee.name})))||[],value:ge.id?{value:ge.id,label:ge.name}:null,onChange:ee=>F(ce,$e,ee),isClearable:!0,placeholder:"Select Machine",styles:L})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),s.jsx(Sr,{options:((Ve=C==null?void 0:C.intervals)==null?void 0:Ve.map(ee=>({value:ee.id_interval,label:ee.type_interval})))||[],value:ge.intervalId?{value:ge.intervalId,label:ge.intervalType}:null,onChange:ee=>P(ce,$e,ee),isClearable:!0,placeholder:ge.id?"Select Interval":"Please Select Machine",isDisabled:!ge.id||ge.items.length===0,styles:L})]})]}),ge.id&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",ge.items.length," item monitoring tersedia"]}),ge.intervalId&&s.jsxs("span",{className:"text-sm text-green-600",children:[ge.items.filter(ee=>ee.interval_id===ge.intervalId).length," item untuk interval ",ge.intervalType]})]}),ge.items.length===0&&s.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(ce,$e),className:"text-red-500 hover:text-red-700",children:s.jsx(yn,{size:20})})})]},$e)})}),s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(ce),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[s.jsx(Jn,{size:20,className:"mr-2"})," Add Machine"]})]},ce))})]},"step3");case 4:return s.jsxs(_.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),s.jsx("div",{className:"space-y-6",children:D.units.map((le,ce)=>le.id&&le.machines.map((ge,$e)=>ge.id&&s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[s.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[le.name," - ",ge.name]}),ge.items.length>0?s.jsx("div",{className:"space-y-4",children:ge.items.map((Oe,xe)=>s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[Oe.item_mesin," (",Oe.satuan,")"]}),Oe.interval_type&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:Oe.interval_type}),Oe.standard_min&&Oe.standard_max&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",Oe.standard_min," - ",Oe.standard_max]}),Oe.standard_visual&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",Oe.standard_visual]})]},xe))}):s.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${ce}-${$e}`)))})]},"step4");default:return null}};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx(Dh,{}),isMobile:i,toggleSidebar:d}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),s.jsxs(_.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),Q(),s.jsx(Mt,{mode:"wait",children:ie()}),s.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[A>1&&s.jsxs(_.button,{type:"button",onClick:()=>O(le=>le-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[s.jsx(Vi,{className:"mr-2 h-5 w-5"})," Back"]}),A<4?s.jsxs(_.button,{type:"button",onClick:()=>O(le=>le+1),disabled:U,whileHover:{scale:U?1:1.03},whileTap:{scale:U?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${U?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",s.jsx(Zr,{className:"ml-2 h-5 w-5"})]}):s.jsx(_.button,{type:"button",onClick:K,disabled:U||h,whileHover:{scale:U?1:1.03},whileTap:{scale:U?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${U||h?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:h?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),s.jsx(u$e,{isOpen:v,onClose:te,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:te,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},Rz=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],af=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},f$e=({isOpen:t,workOrder:e,onClose:r})=>{var l,c,d,h,m,g,y;if(!t||!e)return null;const n=w=>w?new Date(w).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",a=({title:w,children:j,icon:v})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[v&&s.jsx("div",{className:"mr-3 text-blue-600",children:v}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w})]})}),s.jsx("div",{className:"p-6",children:j})]}),i=({label:w,value:j,icon:v,fullWidth:N=!1,priority:C="medium"})=>{const S={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return s.jsx("div",{className:`${N?"col-span-full":""}`,children:s.jsx("div",{className:`p-4 rounded-lg ${S[C]} transition-all duration-200 hover:shadow-sm`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[v&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:v}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:w}),s.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:j})]})]})})})},o=({label:w,htmlContent:j,icon:v,fullWidth:N=!1})=>{if(!j)return s.jsx(i,{label:w,value:"-",icon:v,fullWidth:N,priority:"low"});const C=Al.sanitize(j,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return s.jsx("div",{className:`${N?"col-span-full":""}`,children:s.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[v&&s.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:v}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:w}),s.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:C}})]})]})})})};return s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:s.jsx(dt,{size:24})})]}),s.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),s.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),s.jsx(a,{title:"General Information",icon:s.jsx(ir,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(i,{label:"Work Order No",value:e.work_order_no||"-",icon:s.jsx(ir,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Date",value:n(e.date),icon:s.jsx(pa,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Reception Method",value:e.reception_method||"-",icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(i,{label:"Requester",value:((l=e.requester)==null?void 0:l.name)||"-",icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Known By",value:((c=e.known_by)==null?void 0:c.name)||"-",icon:s.jsx(es,{className:"w-4 h-4"})}),s.jsx(i,{label:"Department",value:((d=e.department)==null?void 0:d.name)||"-",icon:s.jsx(ia,{className:"w-4 h-4"})})]})}),s.jsx(a,{title:"Service Details",icon:s.jsx(An,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(i,{label:"Service Type",value:((h=e.service_type)==null?void 0:h.group_name)||"-",icon:s.jsx(An,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Service",value:((m=e.service)==null?void 0:m.service_name)||"-",icon:s.jsx(hn,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Asset No",value:e.asset_no||"-",icon:s.jsx(ir,{className:"w-4 h-4"})}),s.jsx(i,{label:"Device Info",value:e.device_info||"-",icon:s.jsx(An,{className:"w-4 h-4"})}),s.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:s.jsx(Zt,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(a,{title:"Handling Information",icon:s.jsx(It,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(i,{label:"Status",value:e.handling_status||"-",icon:s.jsx(It,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Received By",value:((g=e.received_by)==null?void 0:g.name)||"-",icon:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx(i,{label:"Assigned To",value:((y=e.assigned_to)==null?void 0:y.name)||"-",icon:s.jsx(Mr,{className:"w-4 h-4"}),priority:"high"}),s.jsx(i,{label:"Handling Date",value:n(e.handling_date),icon:s.jsx(pa,{className:"w-4 h-4"})}),s.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:s.jsx(Ht,{className:"w-4 h-4"}),fullWidth:!0}),s.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:s.jsx(ir,{className:"w-4 h-4"}),fullWidth:!0})]})}),s.jsx(a,{title:"Report Summary",icon:s.jsx(Fi,{className:"w-5 h-5"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Status"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_status||"Unknown"})]}),s.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Timeline"}),s.jsxs("p",{className:"text-sm text-green-600",children:["Created: ",n(e.date),e.handling_date&&` • Handled: ${n(e.handling_date)}`]})]})]})})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:s.jsx(_.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},h$e=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[h,m]=x.useState(!1),[g,y]=x.useState(1),[w]=x.useState(5),[j,v]=x.useState(window.innerWidth<768),[N,C]=x.useState(!1),[S,E]=x.useState(!1),[T,A]=x.useState([]),[O,D]=x.useState(!0),[$,L]=x.useState(null),[I,R]=x.useState(),[H,G]=x.useState(!1),{user:q,getWorkOrdersIT:F,hasPermission:P}=Ct(),B=Nt(),K=x.useRef(null),te=x.useRef(null),U=location.pathname==="/workorders/it",Q=location.pathname==="/workorders/it/assignment",ie=location.pathname==="/workorders/it/receiver",le=location.pathname==="/workorders/it/reports",ce=location.pathname==="/workorders/it/knowledgebase";x.useEffect(()=>{const ke=()=>{v(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",ke),()=>window.removeEventListener("resize",ke)},[]),x.useEffect(()=>{const ke=tt=>{K.current&&!K.current.contains(tt.target)&&C(!1),te.current&&!te.current.contains(tt.target)&&E(!1)};return document.addEventListener("mousedown",ke),()=>{document.removeEventListener("mousedown",ke)}},[]);const ge=x.useCallback(async()=>{try{D(!0);const ke=await F();A(ke)}catch(ke){L("Failed to load work orders data"),console.error("Error loading work orders:",ke)}finally{D(!1)}},[F]);x.useEffect(()=>{ge()},[ge]);const $e=ke=>{switch(ke==null?void 0:ke.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},Oe=()=>{n(ke=>!ke)},xe=T.filter(ke=>{var xt,wt,we,at,Je,ne,re;const tt=((xt=ke.work_order_no)==null?void 0:xt.toLowerCase().includes(a.toLowerCase()))||((we=(wt=ke.requester)==null?void 0:wt.name)==null?void 0:we.toLowerCase().includes(a.toLowerCase()))||((at=ke.complaint)==null?void 0:at.toLowerCase().includes(a.toLowerCase()))||((ne=(Je=ke.service)==null?void 0:Je.service_name)==null?void 0:ne.toLowerCase().includes(a.toLowerCase())),Se=o==="all"||ke.handling_status===o,ft=c==="all"||((re=ke.department)==null?void 0:re.name)===c;return tt&&Se&&ft}),Ae=g*w,Ve=Ae-w,ee=xe.slice(Ve,Ae),ae=Math.ceil(xe.length/w),Z=ke=>y(ke);x.useEffect(()=>{y(1)},[a,o,c]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const ve=xe.length,Ge=xe.filter(ke=>{var tt;return["resolved","closed"].includes((tt=ke.handling_status)==null?void 0:tt.toLowerCase())}).length,Ke=xe.filter(ke=>{var tt;return!["cancel"].includes((tt=ke.handling_status)==null?void 0:tt.toLowerCase())}).length,pe=xe.filter(ke=>{var tt;return((tt=ke.handling_status)==null?void 0:tt.toLowerCase())==="escalated"}).length;xe.filter(ke=>ke.assigned_to!==null).length;const ot=ve>0?Math.round(Ge/ve*100):0,gt=xe.filter(ke=>{var tt;return ke.handling_date&&ke.date&&["resolved","closed"].includes((tt=ke.handling_status)==null?void 0:tt.toLowerCase())}).reduce((ke,tt)=>{const Se=new Date(tt.date),ft=new Date(tt.handling_date),xt=Math.abs(ft.getTime()-Se.getTime()),wt=Math.ceil(xt/(1e3*60*60*24));return ke+wt},0)/(Ge||1),Re=Object.entries(xe.reduce((ke,tt)=>{var ft;const Se=((ft=tt.department)==null?void 0:ft.name)||"Unknown";return ke[Se]=(ke[Se]||0)+1,ke},{})).map(([ke,tt])=>({name:ke,value:tt})),ct=Object.entries(xe.reduce((ke,tt)=>{const Se=tt.handling_status||"Unknown";return ke[Se]=(ke[Se]||0)+1,ke},{})).map(([ke,tt])=>({name:ke,value:tt})),St=x.useCallback(()=>{if(P("export_reports")){const ke=["Work Order No","Requester","Department","Date","Status","Assigned To","Handling Date"],tt=xe.map(we=>{var at,Je,ne;return[we.work_order_no,((at=we.requester)==null?void 0:at.name)||"",((Je=we.department)==null?void 0:Je.name)||"",we.date,we.handling_status,((ne=we.assigned_to)==null?void 0:ne.name)||"",we.handling_date||""]}),Se=[ke.join(","),...tt.map(we=>we.map(at=>`"${at}"`).join(","))].join(`
`),ft=new Blob([Se],{type:"text/csv"}),xt=window.URL.createObjectURL(ft),wt=document.createElement("a");wt.href=xt,wt.download=`it-reports-${new Date().toISOString().split("T")[0]}.csv`,wt.click(),window.URL.revokeObjectURL(xt)}else alert("You do not have permission to export reports.")},[P,xe]),ht=ke=>{R(ke),G(!0)},Ft=()=>{G(!1),R(void 0)},rt=ke=>{if(!ke)return"-";try{const tt=new Date(ke);return isNaN(tt.getTime())?"-":tt.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return O?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),s.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):$?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[s.jsx(Zt,{className:"text-red-600 text-5xl"}),s.jsx("p",{className:"ml-4 text-lg text-red-800",children:$}),s.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"IT Work Order - Reports",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:s.jsx(Fi,{}),isMobile:j,toggleSidebar:Oe}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${U?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),s.jsx(_.div,{whileTap:{scale:.98},onClick:()=>B("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Work Order Reports"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive overview of work orders in the IT department."})]}),P("export_reports")&&s.jsxs(_.button,{onClick:St,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[s.jsx(cce,{className:"mr-2"})," Export Report"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(af,{title:"Total Requests",value:ve.toString(),change:"+10% ",icon:s.jsx(ir,{})}),s.jsx(af,{title:"Resolved",value:Ge.toString(),change:"+15% ",icon:s.jsx(Ht,{})}),s.jsx(af,{title:"Cancel",value:Ke.toString(),change:"-5% ",icon:s.jsx(It,{})}),s.jsx(af,{title:"Escalated",value:pe.toString(),change:"+8% ",icon:s.jsx(ia,{})}),s.jsx(af,{title:"Completion Rate",value:`${ot}%`,change:ot>70?"+12% ":"-5% ",icon:s.jsx(SR,{})}),s.jsx(af,{title:"Avg Resolution Time",value:`${Math.round(gt)} days`,change:gt<5?"-2 days ":"+3 days ",icon:s.jsx(It,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(SR,{className:"mr-2"})," Work Orders by Department"]}),s.jsx(al,{width:"100%",height:300,children:s.jsxs(dA,{data:Re,children:[s.jsx(Uu,{strokeDasharray:"3 3"}),s.jsx(yo,{dataKey:"name"}),s.jsx(bo,{}),s.jsx(da,{}),s.jsx(po,{}),s.jsx(_l,{dataKey:"value",fill:"#0081ff"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(Foe,{className:"mr-2"})," Work Orders by Status"]}),s.jsx(al,{width:"100%",height:300,children:s.jsxs(uD,{children:[s.jsx(Ui,{data:ct,cx:"50%",cy:"50%",labelLine:!1,label:({name:ke,percent:tt})=>`${ke}: ${(tt*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ct.map((ke,tt)=>s.jsx(Bh,{fill:Rz[tt%Rz.length]},`cell-${tt}`))}),s.jsx(da,{}),s.jsx(po,{})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"relative w-full md:w-1/3",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search work orders...",value:a,onChange:ke=>i(ke.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsxs("select",{value:o,onChange:ke=>l(ke.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"New",children:"New"}),s.jsx("option",{value:"Assigned",children:"Assigned"}),s.jsx("option",{value:"In Progress",children:"In Progress"}),s.jsx("option",{value:"Escalated",children:"Escalated"}),s.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),s.jsx("option",{value:"Resolved",children:"Resolved"}),s.jsx("option",{value:"Cancel",children:"Cancel"}),s.jsx("option",{value:"Closed",children:"Closed"})]}),s.jsx(jn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsxs("select",{value:c,onChange:ke=>d(ke.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[s.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(T.map(ke=>{var tt;return(tt=ke.department)==null?void 0:tt.name}).filter(Boolean))).map(ke=>s.jsx("option",{value:ke,children:ke},ke))]}),s.jsx(jn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),s.jsxs(_.button,{onClick:()=>m(!h),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[s.jsx(is,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),s.jsx(Mt,{children:h&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsx("p",{className:"text-gray-500 col-span-full",children:"More filter options coming soon!"})})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order List"}),ee.length===0?s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx(hn,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Handling Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.jsx(Mt,{children:ee.map((ke,tt)=>{var Se,ft,xt;return s.jsxs(_.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ve+tt+1}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:ke.work_order_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Se=ke.requester)==null?void 0:Se.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ft=ke.department)==null?void 0:ft.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:rt(ke.date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$e(ke.handling_status)}`,children:ke.handling_status||"Unknown"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((xt=ke.assigned_to)==null?void 0:xt.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:rt(ke.handling_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs(_.button,{onClick:()=>ht(ke),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[s.jsx(es,{className:"mr-1",size:16})," View"]})})]},ke.id)})})})]}),xe.length>w&&s.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx(_.button,{onClick:()=>Z(g-1),disabled:g===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),s.jsx(_.button,{onClick:()=>Z(g+1),disabled:g===ae,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:Ve+1})," to ",s.jsx("span",{className:"font-medium",children:Math.min(Ae,xe.length)})," of"," ",s.jsx("span",{className:"font-medium",children:xe.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs(_.button,{onClick:()=>Z(g-1),disabled:g===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx(Vi,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ae)].map((ke,tt)=>s.jsx(_.button,{onClick:()=>Z(tt+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${g===tt+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:tt+1},tt)),s.jsxs(_.button,{onClick:()=>Z(g+1),disabled:g===ae,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx(Zr,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),s.jsx(f$e,{isOpen:H,onClose:Ft,workOrder:I})]})},m$e=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Ti=t=>t==null||t===""?"N/A":String(t),yQ=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),_i=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>s.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),s.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),S_=({title:t})=>s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),p$e=({record:t,onUpdateRecord:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(S_,{title:"Monitoring Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(_i,{label:"Monitoring Interval",value:Ti(t.interval)}),s.jsx(_i,{label:"Unit",value:Ti(t.unitWilayah)}),s.jsx(_i,{label:"Machine",value:Ti(t.mesin)}),s.jsx(_i,{label:"Item",value:Ti(t.item)}),s.jsx(_i,{label:"Unit of Measure",value:Ti(t.unitOfMeasure)}),s.jsx(_i,{label:"Monitoring Result",value:Ti(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),s.jsx(_i,{label:"MS Status",value:Ti(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),s.jsx(S_,{title:"Standard"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(_i,{label:"Standard (Min)",value:Ti(t.standardMin)}),s.jsx(_i,{label:"Standard (Max)",value:Ti(t.standardMax)}),s.jsx(_i,{label:"Visual Standard",value:Ti(t.standartVisual),className:"md:col-span-2"})]}),s.jsx(S_,{title:"Description"}),s.jsx("div",{className:"grid grid-cols-1",children:s.jsx(_i,{label:"Notes",value:Ti(t.notes)})})]}),g$e=({records:t})=>{const[e,r]=x.useState(""),[n,a]=x.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const i=x.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const w=[...new Set(t.filter(j=>j.mesin&&j.mesin!=="N/A"&&j.mesin.trim()!=="").map(j=>j.mesin))].sort();return console.log("Available machines:",w),["",...w]},[t]),o=x.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const w=t.filter(v=>v.mesin===e&&v.item&&v.item!=="N/A"&&v.item.trim()!=="").map(v=>v.item),j=[...new Set(w)].sort();return console.log(`Available items for ${e}:`,j),["",...j]},[t,e]),l=x.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const w=t.filter(j=>{const v=j.mesin===e,N=j.item===n,C=j.id.startsWith("activity-"),S=j.monitoringResult&&j.monitoringResult!=="N/A"&&j.monitoringResult!=="MS"&&j.monitoringResult!=="TMS"&&!isNaN(parseFloat(j.monitoringResult))&&isFinite(parseFloat(j.monitoringResult));return console.log(`Record ${j.id}:`,{machineMatch:v,itemMatch:N,hasActivity:C,monitoringResult:j.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(j.monitoringResult):null}),v&&N&&C&&S}).sort((j,v)=>new Date(j.date).getTime()-new Date(v.date).getTime()).map(j=>{const v=parseFloat(j.monitoringResult);return console.log(`Trend data point: ${j.date}, ${j.monitoringResult}, numeric: ${v}`),{date:new Date(j.date),dateString:new Date(j.date).toLocaleDateString("en-US"),result:v,msStatus:j.msStatus,notes:j.notes,machine:j.mesin,item:j.item,standardMin:j.standardMin,standardMax:j.standardMax,isActivity:j.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,w),w},[t,e,n]),c=x.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const w=l.map(Q=>Q.result);console.log("Analysis results:",w);const j=w.reduce((Q,ie)=>Q+ie,0)/w.length,v=[...w].sort((Q,ie)=>Q-ie),N=v.length%2===0?(v[v.length/2-1]+v[v.length/2])/2:v[Math.floor(v.length/2)],C=w.reduce((Q,ie)=>Q+Math.pow(ie-j,2),0)/w.length,S=Math.sqrt(C),E=Math.min(...w),T=Math.max(...w),A=T-E,O=l.map(Q=>Q.date.getTime()),D=l.map(Q=>Q.result),$=O.length,L=O.reduce((Q,ie)=>Q+ie,0),I=D.reduce((Q,ie)=>Q+ie,0),R=O.reduce((Q,ie,le)=>Q+ie*D[le],0),H=O.reduce((Q,ie)=>Q+ie*ie,0),G=$*H-L*L,q=G!==0?($*R-L*I)/G:0,F=G!==0?(I-q*L)/$:0,P=q>.001?"increasing":q<-.001?"decreasing":"stable",B=S>0?Math.abs(q)/S:0,K=l.filter(Q=>Math.abs(Q.result-j)>2*S),te=l[0],U=te.standardMin!==null&&te.standardMax!==null?l.filter(Q=>Q.result>=(te.standardMin||0)&&Q.result<=(te.standardMax||1/0)).length/l.length*100:null;return{mean:j,median:N,stdDev:S,min:E,max:T,range:A,count:w.length,trendDirection:P,trendStrength:B*1e3,slope:q,outliers:K,withinStandard:U,coefficientOfVariation:j>0?S/j*100:0}}catch(w){return console.error("Error in statistical analysis:",w),null}},[l]),d=x.useMemo(()=>{const w=t.length,j=new Set(t.map(C=>C.mesin)).size,v=t.filter(C=>C.msStatus==="MS").length,N=w>0?v/w*100:0;return[{title:"Total Monitoring Items",value:w.toLocaleString("id-ID"),icon:s.jsx(ir,{})},{title:"Machines Monitored",value:j.toLocaleString("id-ID"),icon:s.jsx(Dh,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:s.jsx(Ht,{})}]},[t]),h=x.useMemo(()=>{const w={};return t.forEach(j=>{j.mesin&&(w[j.mesin]=(w[j.mesin]||0)+1)}),Object.entries(w).sort(([,j],[,v])=>v-j).slice(0,5).map(([j,v])=>({name:j,count:v}))},[t]),m=x.useMemo(()=>{const w={};return t.forEach(j=>{if(j.date){const v=new Date(j.date),N=v.getFullYear(),C=(v.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${C}`;w[S]=(w[S]||0)+1}}),Object.entries(w).sort(([j],[v])=>j.localeCompare(v)).map(([j,v])=>{const[N,C]=j.split("-");return{name:`${new Date(Number(N),Number(C)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":v}})},[t]),g=x.useMemo(()=>{const w={MS:0,TMS:0,"N/A":0};return t.forEach(j=>{const v=j.msStatus||"N/A";w[v]=(w[v]||0)+1}),[{name:"MS",value:w.MS},{name:"TMS",value:w.TMS},{name:"N/A",value:w["N/A"]}].filter(j=>j.value>0)},[t]),y=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:d.map((w,j)=>s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:j*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:w.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.value})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:w.icon})]})},w.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Fi,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),s.jsx("div",{className:"space-y-3",children:h.map((w,j)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-blue-600 font-bold text-sm",children:j+1})}),s.jsx("span",{className:"font-medium text-gray-800",children:w.name})]}),s.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[w.count," events"]})]},w.name))})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ht,{className:"mr-2 text-blue-600"})," Status Distribution"]}),g.length>0?s.jsx("div",{className:"w-full h-64",children:s.jsx(al,{width:"100%",height:"100%",children:s.jsxs(uD,{children:[s.jsx(Ui,{data:g,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:w,percent:j})=>`${w} ${(j*100).toFixed(0)}%`,children:g.map((w,j)=>s.jsx(Bh,{fill:y[j%y.length]},`cell-${j}`))}),s.jsx(da,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:w=>[`${w} events`,"Count"]})]})})}):s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ju,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?s.jsx("div",{className:"h-80",children:s.jsx(al,{width:"100%",height:"100%",children:s.jsxs(uA,{data:m,children:[s.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),s.jsx(yo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(bo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(da,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),s.jsx(od,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ju,{className:"mx-auto text-gray-300 mb-4",size:64}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),s.jsxs("select",{value:e,onChange:w=>{console.log("Machine selected:",w.target.value),r(w.target.value),a("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[s.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(w=>s.jsx("option",{value:w,children:w},w))]}),e&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),s.jsxs("select",{value:n,onChange:w=>{console.log("Item selected:",w.target.value),a(w.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[s.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(w=>s.jsx("option",{value:w,children:w},w))]}),n&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?s.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ma,{className:"mx-auto text-gray-300 mb-4",size:48}),s.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),s.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),s.jsx("button",{onClick:()=>{r(""),a("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),s.jsxs("p",{className:"text-gray-600",children:[e," • ",n]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("select",{value:e,onChange:w=>{r(w.target.value),a("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(w=>s.jsx("option",{value:w,children:w},w))}),s.jsx("select",{value:n,onChange:w=>a(w.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(w=>s.jsx("option",{value:w,children:w},w))})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:s.jsx(ir,{className:"w-6 h-6"})})]})}),s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),s.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:s.jsx(ju,{className:"w-6 h-6"})})]})}),s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),s.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:s.jsx(Ri,{className:"w-6 h-6"})})]})})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ju,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),s.jsx("div",{className:"h-80",children:s.jsx(al,{width:"100%",height:"100%",children:s.jsxs(uA,{data:l,children:[s.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),s.jsx(yo,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(bo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),s.jsx(da,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:w=>[w,"Value"]}),s.jsx(od,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Fi,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((w,j)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.dateString}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:w.result.toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.msStatus==="MS"?"bg-green-100 text-green-800":w.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:w.msStatus||"N/A"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:w.notes||"-"})]},j))})]})})]})]}):s.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Zt,{className:"mx-auto text-yellow-500 mb-4",size:48}),s.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},x$e=x.createContext(void 0),y$e=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:a})=>{const i=l=>{n(l)},o=r.reduce((l,c)=>{const d=String(c.scheduleId||"unknown");return l[d]||(l[d]={scheduleId:d,machine:c.mesin,unit:c.unitWilayah,interval:c.interval,items:[]}),l[d].items.push(c),l},{});return s.jsx(yQ,{isOpen:t,onClose:e,title:`Schedules for ${new Date(a).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-2xl",children:s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsx("p",{className:"text-gray-600 text-center py-4",children:"No schedules for this date."}):Object.values(o).map(l=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 text-lg",children:l.machine}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[l.items.length," item(s) • ",l.interval," • ",l.unit]})]}),s.jsx("div",{className:"text-right",children:l.items.every(c=>c.scheduleStatus===l.items[0].scheduleStatus)&&s.jsx("span",{className:`text-xs px-2 py-1 rounded ${fA(l.items[0].scheduleStatus)}`,children:l.items[0].scheduleStatus||"New"})})]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:l.items.map((c,d)=>s.jsxs(_.button,{whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>i(c),className:"w-full text-left p-4 hover:bg-blue-50 transition-colors duration-150 flex justify-between items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-800 text-base",children:c.item}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${fA(c.scheduleStatus)}`,children:["Status: ",c.scheduleStatus||"New"]}),c.monitoringResult&&c.monitoringResult!=="N/A"&&s.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Result: ",c.monitoringResult]}),c.msStatus&&c.msStatus!=="N/A"&&s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${c.msStatus==="MS"?"bg-green-100 text-green-800":c.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["MS: ",c.msStatus]})]})]}),s.jsx("div",{className:"ml-4",children:s.jsx(Zr,{className:"text-gray-400",size:16})})]},`${c.id}-${d}`))})]},l.scheduleId))})})},fA=(t="New")=>{switch(t){case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"On Progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Done":return"bg-green-100 text-green-800 border-green-200";case"Cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Iz=()=>{const t=Nt(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=Ct(),[a,i]=x.useState(()=>{const he=localStorage.getItem("sidebarOpen");return JSON.parse(he||"false")}),[o,l]=x.useState(!1),[c,d]=x.useState(!0),[h,m]=x.useState(null),[g,y]=x.useState(window.innerWidth<768),[w,j]=x.useState(!1),[v,N]=x.useState(!1),[C,S]=x.useState(!1),[E,T]=x.useState(!1),[A,O]=x.useState(null),[D,$]=x.useState("calendar"),[L,I]=x.useState(null),[R,H]=x.useState(null),[G,q]=x.useState([]),[F,P]=x.useState([]),[B,K]=x.useState([]),[te,U]=x.useState(""),[Q,ie]=x.useState(!1),[le,ce]=x.useState(1),[ge,$e]=x.useState([]),[Oe,xe]=x.useState([]),[Ae,Ve]=x.useState([]),[ee,ae]=x.useState({startDate:null,endDate:null,selectedUnits:[]}),[Z,ve]=x.useState(!1),[Ge,Ke]=x.useState([]),[pe,ot]=x.useState(""),gt=x.useRef(null),Re=x.useRef(null),ct=x.useMemo(()=>ge.map(he=>{var Ye;const de=Oe.flatMap(qe=>qe.mesin).find(qe=>qe.id===he.id_mesins),se=(de==null?void 0:de.name)||`Machine ${he.id_mesins}`,De=((Ye=he.monitoring_interval)==null?void 0:Ye.type_interval)||"weekly";return{id:`schedule-${he.id_monitoring_schedule}`,mesin:se,item:"",interval:De,unitWilayah:he.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[ge,Oe]),St=x.useCallback((he,de,se)=>{const De=[];he.forEach(qe=>{var $r;const Ce=se.flatMap(vt=>vt.mesin).find(vt=>vt.id===qe.id_mesins),Be=(Ce==null?void 0:Ce.name)||`Machine ${qe.id_mesins}`,nt=(($r=qe.monitoring_interval)==null?void 0:$r.type_interval)||"weekly",Lt=nt==="weekly"?"Weekly":nt==="monthly"?"Monthly":nt==="quarterly"?"3 Months":nt==="semi-annual"?"6 Months":nt==="yearly"?"1 Year":"Daily",br=qe.item_mesins&&qe.item_mesins.length>0?qe.item_mesins:(Ce==null?void 0:Ce.item_mesin)||[];qe.monitoring_activities&&qe.monitoring_activities.length>0?qe.monitoring_activities.forEach(vt=>{var Le;let Dt=br.find(ze=>ze.id===vt.id_item_mesin);if(!Dt)for(const ze of se){for(const oe of ze.mesin){const Ze=(Le=oe.item_mesin)==null?void 0:Le.find(bt=>bt.id===vt.id_item_mesin);if(Ze){Dt=Ze;break}}if(Dt)break}Dt||(console.warn(`Item mesin not found for activity ${vt.id_monitoring_activity}, item_mesin_id: ${vt.id_item_mesin}`),Dt={id:vt.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:qe.id_mesins,created_at:"",updated_at:""});let kr="N/A";vt.hasil_ms_tms==="ms"?kr="MS":vt.hasil_ms_tms==="tms"&&(kr="TMS");let _e=vt.hasil_monitoring||"N/A";if(vt.hasil_monitoring&&vt.hasil_monitoring!=="N/A"){const ze=parseFloat(vt.hasil_monitoring);!isNaN(ze)&&isFinite(ze)&&(_e=ze.toString())}De.push({id:`activity-${vt.id_monitoring_activity}`,mesin:Be,date:vt.tgl_monitoring,interval:Lt,unitWilayah:qe.unit,item:Dt.item_mesin||"Unknown Item",unitOfMeasure:Dt.satuan||"N/A",standardMin:Dt.standard_min?parseFloat(Dt.standard_min):null,standardMax:Dt.standard_max?parseFloat(Dt.standard_max):null,standartVisual:Dt.standard_visual||"N/A",monitoringResult:_e,msStatus:kr,notes:vt.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${Be}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:qe.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:qe.id_monitoring_schedule,scheduleStatus:qe.status||"New"})}):br.forEach(vt=>{De.push({id:`schedule-${qe.id_monitoring_schedule}-scheduled-${vt.id}`,mesin:Be,date:qe.tgl_start,interval:Lt,unitWilayah:qe.unit,item:vt.item_mesin||"Unknown Item",unitOfMeasure:vt.satuan||"N/A",standardMin:vt.standard_min?parseFloat(vt.standard_min):null,standardMax:vt.standard_max?parseFloat(vt.standard_max):null,standartVisual:vt.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${Be}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:qe.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:qe.id_monitoring_schedule,scheduleStatus:qe.status||"New"})})}),console.log("Converted records:",De.length),console.log("Sample converted records:",De.slice(0,5));const Ye=De.filter(qe=>qe.monitoringResult&&qe.monitoringResult!=="N/A"&&!isNaN(parseFloat(qe.monitoringResult)));return console.log("Numeric records available:",Ye.length),console.log("Numeric records sample:",Ye.slice(0,3)),De},[]),[ht,Ft]=x.useState([]),rt=300*1e3,[ke,tt]=x.useState(null);x.useEffect(()=>{let he=!0;const de=new AbortController;return(async()=>{var Ye,qe,Ce;if(!he)return;const De=Date.now();if(ke&&De-ke.timestamp<rt){$e(ke.schedules),xe(ke.masterData.unitsWithMachines||[]),Ve(ke.masterData.intervals||[]);const Be=St(ke.schedules,[],ke.masterData.unitsWithMachines||[]);Ft(Be),d(!1);return}try{d(!0),m(null);const[Be,nt]=await Promise.all([e(),r()]);if(!he)return;console.log("Schedules data:",Be),console.log("Master data:",nt),console.log("Units with machines:",nt.unitsWithMachines),nt.unitsWithMachines&&nt.unitsWithMachines.length>0&&console.log("Sample machine items:",(Ce=(qe=(Ye=nt.unitsWithMachines[0])==null?void 0:Ye.mesin)==null?void 0:qe[0])==null?void 0:Ce.item_mesin),tt({schedules:Be,masterData:nt,timestamp:De}),$e(Be),xe(nt.unitsWithMachines||[]),Ve(nt.intervals||[]);const Lt=St(Be,[],nt.unitsWithMachines||[]);Ft(Lt)}catch(Be){if(!he)return;m(Be instanceof Error?Be.message:"Failed to fetch data")}finally{he&&d(!1)}})(),()=>{he=!1,de.abort()}},[e,r,St,ke]);const Se={role:"Unit Head Engineering"},ft=x.useMemo(()=>["",...new Set(ht.map(he=>he.unitWilayah))],[ht]),xt=x.useMemo(()=>["",...new Set(ht.map(he=>he.mesin))],[ht]);x.useMemo(()=>["",...new Set(ht.map(he=>he.item))],[ht]);const wt=x.useMemo(()=>{if(ht.length===0)return[];let he=ht;if(te){const de=te.toLowerCase();if(he=he.filter(se=>se.mesin.toLowerCase().includes(de)||se.item.toLowerCase().includes(de)||se.unitWilayah.toLowerCase().includes(de)),he.length===0)return[]}if(L&&R){const de=L.toISOString().split("T")[0],se=R.toISOString().split("T")[0];if(he=he.filter(De=>De.date>=de&&De.date<=se),he.length===0)return[]}if(G.length>0){const de=new Set(G);if(he=he.filter(se=>de.has(se.unitWilayah)),he.length===0)return[]}if(F.length>0){const de=new Set(F);if(he=he.filter(se=>de.has(se.mesin)),he.length===0)return[]}if(B.length>0){const de=new Set(B);he=he.filter(se=>de.has(se.item))}return he},[ht,L,R,G,F,B,te]);x.useEffect(()=>{const he=()=>{y(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]),x.useEffect(()=>{const he=de=>{gt.current&&!gt.current.contains(de.target)&&j(!1),Re.current&&!Re.current.contains(de.target)&&N(!1)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[]);const we=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),i(he=>!he)},at=he=>{O(he),S(!0)},Je=x.useCallback(he=>{Ft(de=>de.map(se=>se.id===he.id?he:se))},[]),ne=(he,de)=>new Date(he,de+1,0).getDate(),re=(he,de)=>{const se=new Date(he,de,1).getDay();return se===0?6:se-1},Me=x.useMemo(()=>new Date,[]),[et,pt]=x.useState(Me),ye=()=>{pt(he=>new Date(he.getFullYear(),he.getMonth()-1,1))},z=()=>{pt(he=>new Date(he.getFullYear(),he.getMonth()+1,1))},ue=()=>{pt(new Date)},be=(he,de)=>{Ke(he),ot(de),ve(!0)},Ne=he=>{console.log("Navigating with record:",he);let de;if(he.scheduleId)de=he.scheduleId;else if(he.id.startsWith("schedule-")){const se=he.id.split("-");se.length>=2&&(de=se[1])}else if(he.id.startsWith("activity-")){const se=he.id.split("-");if(se.length>=2){for(let De of se)if(/^\d+$/.test(De)){de=De;break}}}if(!de){console.error("Could not extract schedule ID from record:",he),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",de),t(`/monitoringmaintenance/detailmonitoringmaintenance/${de}`),ve(!1)},Fe=()=>{const he=et.getFullYear(),de=et.getMonth(),se=ne(he,de),De=re(he,de),Ye=[];let qe=1,Ce=[],Be=null;for(let nt=0;nt<De;nt++)Ce.push(s.jsx("div",{className:"p-3 md:p-4 text-center text-gray-400 bg-gray-50 border border-gray-200 rounded-md min-h-[80px] md:min-h-[100px] flex items-center justify-center"},`empty-pre-${nt}`));for(;qe<=se;){const nt=new Date(he,de,qe);Be||(Be=nt);const Lt=`${he}-${String(de+1).padStart(2,"0")}-${String(qe).padStart(2,"0")}`,br=wt.filter(Le=>Le.date===Lt),$r=br.reduce((Le,ze)=>{const oe=String(ze.scheduleId||"unknown");return Le[oe]?Le[oe].items.push(ze):Le[oe]={scheduleId:oe,machine:ze.mesin,items:[ze]},Le},{}),vt=Object.values($r),jr=Me.toDateString()===nt.toDateString();let Dt="p-3 md:p-4 text-center border border-gray-200 rounded-md flex flex-col justify-between relative min-h-[80px] md:min-h-[100px] bg-white";jr&&(Dt="p-3 md:p-4 text-center border-2 border-blue-500 rounded-md flex flex-col justify-between relative min-h-[80px] md:min-h-[100px] bg-white font-bold");const kr=vt.flatMap(Le=>Le.items.map(ze=>ze.scheduleStatus||"New")),_e=Array.from(new Set(kr));if(Ce.push(s.jsxs("div",{className:Dt,children:[s.jsx("span",{className:`text-sm font-semibold ${jr?"text-blue-700":"text-gray-800"}`,children:qe}),s.jsx("div",{className:"flex flex-col items-center justify-center mt-1 space-y-1",children:vt.length>0&&s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full text-center text-xs px-2 py-1 rounded-md overflow-hidden bg-gray-50 hover:bg-gray-100 transition-colors shadow-sm",onClick:()=>be(br,Lt),title:`${vt.length} schedule(s) with ${br.length} total items`,children:[s.jsxs("div",{className:"font-semibold truncate w-full text-gray-800",children:[vt[0].machine,vt.length>1&&` +${vt.length-1}`]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[br.length," item(s) in ",vt.length," schedule(s)"]}),_e.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-0.5 justify-center mt-1",children:[_e.slice(0,2).map((Le,ze)=>s.jsx("span",{className:`px-1 py-0.5 rounded text-[10px] border ${fA(Le)}`,children:Le},ze)),_e.length>2&&s.jsxs("span",{className:"px-1 py-0.5 rounded text-[10px] bg-gray-100 text-gray-600 border border-gray-200",children:["+",_e.length-2]})]})]})})]},Lt)),Ce.length===7||qe===se){for(;Ce.length<7;)Ce.push(s.jsx("div",{className:"p-3 md:p-4 text-center text-gray-400 bg-gray-50 border border-gray-200 rounded-md min-h-[80px] md:min-h-[100px] flex items-center justify-center"},`empty-post-${Ce.length}`));const Le=Be?m$e(Be):null;Ye.push(s.jsxs(x.Fragment,{children:[s.jsx("div",{className:"p-2 text-center font-bold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:Le!==null?` ${String(Le).padStart(2,"0")}`:""}),Ce]},`week-row-${qe}`)),Ce=[],Be=null}qe++}return Ye};return x.useMemo(()=>{const he=ht.filter(se=>se),de=[];return he.forEach(se=>{de.push({id:`approval-${se.id}`,icon:s.jsx(eO,{className:"text-orange-500"}),title:`Approval Needed: ${se.mesin} - ${se.item}`,description:`Record for ${se.mesin} - ${se.item} is awaiting your approval ().`,date:new Date(se.date).toLocaleDateString("en-US")})}),de},[ht,Se.role]),ee.startDate!==null&&ee.endDate,ee.selectedUnits.length>0,ee.selectedUnits.every(he=>he.machines.length>0&&he.machines.every(de=>de.selectedInterval!==null)),ee.selectedUnits.every(he=>he.machines.every(de=>de.selectedInterval===null||de.selectedInterval!==null&&de.selectedItems.length>0)),s.jsx(x$e.Provider,{value:{records:ht,setRecords:Ft,routineSchedules:ct},children:s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx(Dh,{}),isMobile:g,toggleSidebar:we}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",s.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(_.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[s.jsx(Jn,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),s.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[s.jsxs(_.button,{onClick:()=>$("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(pa,{className:"w-4 h-4 mr-2"})," Calendar"]}),s.jsxs(_.button,{onClick:()=>$("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(ir,{className:"w-4 h-4 mr-2"})," Table"]}),s.jsxs(_.button,{onClick:()=>$("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(ju,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):ht.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Ma,{className:"text-blue-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):s.jsx(Mt,{mode:"wait",children:s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[s.jsxs("div",{className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:te,onChange:he=>U(he.target.value),"aria-label":"Search records"})]}),s.jsxs(_.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>ie(!Q),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filter"}),s.jsx(_.span,{animate:{rotate:Q?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]}),s.jsx(Mt,{children:Q&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[s.jsx(pa,{className:"text-gray-500 text-base"}),s.jsx("input",{type:"date",value:L?L.toISOString().split("T")[0]:"",onChange:he=>I(he.target.value?new Date(he.target.value):null),placeholder:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400","aria-label":"Start Date"}),s.jsx("span",{className:"text-gray-400",children:"-"}),s.jsx("input",{type:"date",value:R?R.toISOString().split("T")[0]:"",onChange:he=>H(he.target.value?new Date(he.target.value):null),placeholder:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400","aria-label":"End Date",min:L?L.toISOString().split("T")[0]:void 0}),(L||R)&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{I(null),H(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Date","aria-label":"Clear date range",children:s.jsx(dt,{className:"text-base"})})]}),s.jsx("div",{className:"relative w-full",children:s.jsxs("select",{value:G.length>0?G[0]:"",onChange:he=>q(he.target.value?[he.target.value]:[]),className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left transition-all duration-200 shadow-sm cursor-pointer",children:[s.jsx("option",{value:"",children:"All Units"}),ft.map(he=>s.jsx("option",{value:he,children:he},he))]})}),s.jsx("div",{className:"relative w-full",children:s.jsxs("select",{value:F.length>0?F[0]:"",onChange:he=>P(he.target.value?[he.target.value]:[]),className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left transition-all duration-200 shadow-sm cursor-pointer",children:[s.jsx("option",{value:"",children:"All Machines"}),xt.map(he=>s.jsx("option",{value:he,children:he},he))]})})]})})]}),D==="calendar"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-400 rounded"}),s.jsx("span",{className:"text-gray-700",children:"New / Not Started"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-400 rounded"}),s.jsx("span",{className:"text-gray-700",children:"On Progress"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-400 rounded"}),s.jsx("span",{className:"text-gray-700",children:"Done / Completed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),s.jsx("span",{className:"text-gray-700",children:"No Schedule"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ye,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s.jsx(Vi,{size:20})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:et.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s.jsx(Zr,{size:20})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:"Today"})]}),s.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-semibold text-gray-600 mb-2",children:[s.jsx("div",{className:"text-center font-bold",children:"WN"}),s.jsx("div",{children:"Mon"}),s.jsx("div",{children:"Tue"}),s.jsx("div",{children:"Wed"}),s.jsx("div",{children:"Thu"}),s.jsx("div",{children:"Fri"}),s.jsx("div",{children:"Sat"}),s.jsx("div",{children:"Sun"})]}),s.jsx("div",{className:"grid grid-cols-8 gap-2",children:Fe()})]})]}),D==="table"&&s.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),s.jsx("th",{className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:wt.length>0?wt.map(he=>s.jsxs(_.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.interval}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.unitWilayah}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.mesin}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.item}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.monitoringResult}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${he.msStatus==="MS"?"bg-green-100 text-green-800":he.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:he.msStatus})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>at(he),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:s.jsx(es,{size:18})})})]},he.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),D==="trend"&&s.jsx(g$e,{records:wt})]},D)})]})]}),s.jsx(yQ,{isOpen:C,onClose:()=>S(!1),title:"Monitoring Details",children:A&&s.jsxs(s.Fragment,{children:[s.jsx(p$e,{record:A,onUpdateRecord:Je}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:s.jsxs(_.button,{onClick:()=>Ne(A),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),s.jsx(y$e,{isOpen:Z,onClose:()=>ve(!1),schedules:Ge,onSelectSchedule:Ne,titleDate:pe})]})})};function b$e(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const Lz=({isOpen:t,onClose:e,title:r,children:n,className:a})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsxs(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:s.jsx(dt,{className:"text-xl"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Dy=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return s.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),s.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),s.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},v$e=({vendor:t,onClose:e})=>{const r=({label:a,value:i})=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:a}),s.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i||"-"})]}),n=({title:a})=>s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:a});return s.jsxs("div",{className:"space-y-6",children:[s.jsx(n,{title:"Vendor Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(r,{label:"Vendor ID",value:t.id.toString()}),s.jsx(r,{label:"Vendor Name",value:t.name}),s.jsx(r,{label:"Contact Person",value:t.contact_person}),s.jsx(r,{label:"Email",value:t.email}),s.jsx(r,{label:"Telephone",value:t.telp}),s.jsx(r,{label:"Mobile Phone",value:t.HP})]}),s.jsx(n,{title:"Address Information"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsx(r,{label:"Address",value:t.address})}),s.jsx(n,{title:"Additional Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(r,{label:"Created At",value:t.created_at?new Date(t.created_at).toLocaleDateString():"-"}),s.jsx(r,{label:"Updated At",value:t.updated_at?new Date(t.updated_at).toLocaleDateString():"-"})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:s.jsx(_.button,{type:"button",onClick:e,whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-transparent text-base font-semibold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Close"})})]})},w$e=()=>{Zn();const[t,e]=x.useState([]),{getVendor:r,deleteVendor:n,user:a,hasPermission:i}=Ct(),[o,l]=x.useState([]),[c,d]=x.useState(!0),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(""),[v,N]=x.useState(""),[C,S]=x.useState(!1),[E,T]=x.useState(null),[A,O]=x.useState(!1),[D,$]=x.useState(null),L=x.useRef(!0),[I,R]=x.useState(null),[H,G]=x.useState(null),q=x.useRef(null),[F,P]=x.useState(!1),[B,K]=x.useState(""),[te]=x.useState(window.innerWidth<768),[U,Q]=x.useState(()=>{const z=localStorage.getItem("sidebarOpen");return z?JSON.parse(z):!1}),[ie,le]=x.useState(!1),[ce,ge]=x.useState(null),[$e,Oe]=x.useState(!1),[xe,Ae]=x.useState(null),Ve=Nt(),[ee,ae]=x.useState(!1),[Z,ve]=x.useState(!1),[Ge,Ke]=x.useState(!1),pe=x.useRef(null),ot=x.useRef(null),[gt,Re]=x.useState(1),[ct]=x.useState(10),[St,ht]=x.useState({key:"name",direction:"ascending"}),Ft=b$e(B,300),rt=x.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),ke=x.useCallback(async()=>{try{d(!0);const ue=[...await r()].sort((be,Ne)=>be.id-Ne.id);e(ue),l(ue)}catch(z){$("Failed to load vendors"),console.error("Error loading vendors:",z)}finally{L.current&&d(!1)}},[r]);x.useEffect(()=>{ke()},[ke]),x.useEffect(()=>{let z=[...t];if(Ft.trim()){const ue=Ft.toLowerCase().trim();z=z.filter(be=>{var qe,Ce,Be;const Ne=ue.split(":");let Fe="all",he=ue;Ne.length>1&&rt.some(nt=>nt.name.toLowerCase()===Ne[0].trim())&&(Fe=Ne[0].trim(),he=Ne.slice(1).join(":").trim());const de=(qe=be.name)==null?void 0:qe.toLowerCase().includes(he),se=(Ce=be.contact_person)==null?void 0:Ce.toLowerCase().includes(he),De=(Be=be.email)==null?void 0:Be.toLowerCase().includes(he),Ye=be.id.toString().includes(he);return Fe==="vendor name"?de:Fe==="contact person"?se:Fe==="email"?De:Fe==="vendor id"?Ye:de||se||De||Ye})}if(I){const ue=new Date(I);ue.setHours(0,0,0,0),z=z.filter(be=>{if(!be.created_at)return!0;const Ne=new Date(be.created_at);return Ne.setHours(0,0,0,0),Ne>=ue})}if(H){const ue=new Date(H);ue.setHours(23,59,59,999),z=z.filter(be=>{if(!be.created_at)return!0;const Ne=new Date(be.created_at);return Ne.setHours(0,0,0,0),Ne<=ue})}St!==null&&z.sort((ue,be)=>{const Ne=ne(ue[St.key]),Fe=ne(be[St.key]);return Ne<Fe?St.direction==="ascending"?-1:1:Ne>Fe?St.direction==="ascending"?1:-1:0}),l(z)},[t,Ft,I,H,St,rt]);const tt=()=>{const z=!U;Q(z),localStorage.setItem("sidebarOpen",JSON.stringify(z))},Se=()=>{alert("Import functionality is not yet implemented.")},ft=z=>{const ue=z.target.value;K(ue)},xt=X.useMemo(()=>{if(!B)return rt;const z=B.toLowerCase();return rt.filter(ue=>ue.name.toLowerCase().includes(z))},[B,rt]),wt=z=>{var ue;K(`${z}: `),P(!1),(ue=q.current)==null||ue.focus()},we=z=>{ge(z),Oe(!0)},at=async z=>{try{await n(z),e(t.filter(ue=>ue.id!==z)),O(!1),Ae(null)}catch(ue){console.error("Failed to delete Vendor:",ue),$("Failed to delete vendor. Please try again.")}};x.useCallback(z=>{Ae(z),O(!0)},[]);const Je=z=>{let ue="ascending";St&&St.key===z&&St.direction==="ascending"&&(ue="descending"),ht({key:z,direction:ue})},ne=z=>typeof z=="object"&&z!==null?z.name||z.toString():(z==null?void 0:z.toString())||"",re=gt*ct,Me=re-ct,et=o.slice(Me,re),pt=Math.ceil(o.length/ct),ye=z=>Re(z);return x.useEffect(()=>{const z=ue=>{pe.current&&!pe.current.contains(ue.target)&&ve(!1),ot.current&&!ot.current.contains(ue.target)&&Ke(!1),q.current&&!q.current.contains(ue.target)&&!ue.target.closest(".search-suggestions")&&P(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:s.jsx(Moe,{}),isMobile:te,toggleSidebar:tt}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",s.jsx("span",{className:"text-blue-600",children:"Management"})]}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&s.jsxs(_.button,{onClick:()=>Ve("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[s.jsx(Jn,{className:"text-base"}),s.jsx("span",{children:"Add Vendor"})]}),s.jsxs(_.button,{onClick:Se,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(ls,{className:"text-base"}),s.jsx("span",{children:"Import"})]}),s.jsxs(_.button,{onClick:()=>le(!ie),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[s.jsx(is,{className:"text-base"}),s.jsx("span",{children:"Filters"}),s.jsx(_.span,{animate:{rotate:ie?180:0},transition:{duration:.2},children:s.jsx(jn,{className:"text-base"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[s.jsx(Dy,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:s.jsx(Ff,{className:"w-6 h-6"})}),s.jsx(Dy,{title:"Vendors with Email",value:t.filter(z=>z.email).length.toString(),change:`+${Math.floor(t.filter(z=>z.email).length/t.length*100)}%`,icon:s.jsx(rg,{className:"w-6 h-6"})}),s.jsx(Dy,{title:"Vendors with Contact",value:t.filter(z=>z.contact_person).length.toString(),change:`+${Math.floor(t.filter(z=>z.contact_person).length/t.length*100)}%`,icon:s.jsx(ia,{className:"w-6 h-6"})}),s.jsx(Dy,{title:"Vendors with Phone",value:t.filter(z=>z.telp||z.HP).length.toString(),change:`+${Math.floor(t.filter(z=>z.telp||z.HP).length/t.length*100)}%`,icon:s.jsx(Wu,{className:"w-6 h-6"})})]}),s.jsxs(_.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),s.jsx("input",{ref:q,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:B,onChange:ft,onFocus:()=>P(!0),"aria-label":"Search vendors"}),s.jsx(Mt,{children:F&&xt.length>0&&s.jsx(_.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:xt.map(z=>s.jsx(_.button,{onClick:()=>wt(z.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:s.jsx("span",{className:"font-semibold",children:z.name})},z.id))})})]})}),s.jsx(Mt,{children:ie&&s.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:s.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[s.jsx(pa,{className:"text-gray-500 text-base"}),s.jsx(Xf,{selected:I,onChange:z=>R(z),selectsStart:!0,startDate:I,endDate:H,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),s.jsx("span",{className:"text-gray-400",children:"-"}),s.jsx(Xf,{selected:H,onChange:z=>G(z),selectsEnd:!0,startDate:I,endDate:H,minDate:I||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(I||H)&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{R(null),G(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:s.jsx(dt,{className:"text-base"})})]})})})]}),c?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),s.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[s.jsx(Ma,{className:"text-blue-500 text-4xl mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-base font-medium",children:Ft||I||H?"No vendors found matching your filters.":"No vendors available."}),(Ft||I||H)&&s.jsx("button",{onClick:()=>{K(""),R(null),G(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:s.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:s.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[s.jsx("thead",{className:"bg-blue-50",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Je("id"),children:["ID",(St==null?void 0:St.key)==="id"&&s.jsx("span",{className:"ml-1",children:St.direction==="ascending"?"↑":"↓"})]}),s.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Je("name"),children:["Vendor Name",(St==null?void 0:St.key)==="name"&&s.jsx("span",{className:"ml-1",children:St.direction==="ascending"?"↑":"↓"})]}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),s.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:et.map(z=>s.jsxs(_.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.id})}),s.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.name})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:z.address||"-"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:z.contact_person||"-"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:z.email||"-"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:z.telp||"-"})}),s.jsx("td",{className:"px-5 py-3",children:s.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:z.HP||"-"})}),s.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>we(z),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${z.name}`,children:s.jsx(es,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ve(`/vendors/editvendor/${z.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${z.name}`,children:s.jsx(Hn,{className:"inline text-base"})}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ae(z.id),O(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${z.name}`,children:s.jsx(yn,{className:"inline text-base"})})]})]},z.id))})]})})}),o.length>ct&&s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",s.jsx("span",{className:"font-semibold",children:Me+1})," to ",s.jsx("span",{className:"font-semibold",children:Math.min(re,o.length)})," of"," ",s.jsx("span",{className:"font-semibold",children:o.length})," results"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ye(gt-1),disabled:gt===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:pt},(z,ue)=>s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ye(ue+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${gt===ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ue+1}`,children:ue+1},ue+1)),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ye(gt+1),disabled:gt===pt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),ce&&s.jsx(Lz,{isOpen:$e,onClose:()=>{Oe(!1),ge(null)},title:"Vendor Details",className:"max-w-3xl",children:s.jsx(v$e,{vendor:ce,onClose:()=>Oe(!1)})}),s.jsx(Lz,{isOpen:A,onClose:()=>O(!1),title:"Confirm Deletion",children:s.jsxs("div",{className:"space-y-5 text-center py-3",children:[s.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),s.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>O(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>xe&&at(xe),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},j$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,S$e=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[a,i]=x.useState([]),{addVendor:o,getVendor:l}=Ct(),[c,d]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),C=Nt(),[S,E]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),T=()=>{d(L=>!L)},A=L=>{const{name:I,value:R}=L.target;E(H=>({...H,[I]:I==="sla"?Number(R):R}))},O=x.useCallback(async()=>{try{const[L]=await Promise.all([l()]);n(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);x.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(I),y("Vendor created successfully!"),j(!0)}catch(I){m(I.message||"Failed to create Vendor")}finally{N(!1)}},$=()=>{j(!1),C("/vendors")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(It,{}),isMobile:t,toggleSidebar:T}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),s.jsxs(_.button,{onClick:()=>C("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Vendors Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:h}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>C("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),s.jsx(j$e,{isOpen:w,onClose:$,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},N$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,k$e=()=>{const{id:t}=Ea(),[e,r]=x.useState(window.innerWidth<768),[n,a]=x.useState([]),[i,o]=x.useState(),{getVendor:l,updateVendor:c,getVendorById:d}=Ct(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[C,S]=x.useState(!1),E=Nt(),[T,A]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),O=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const D=R=>{const{name:H,value:G}=R.target;A(q=>({...q,[H]:H==="sla"?Number(G):G}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const L=async R=>{R.preventDefault(),S(!0),y(null);try{const H={name:T.name,address:T.address,contact_person:T.contact_person,email:T.email,telp:T.telp,HP:T.HP};await c(t,H),j("Vendor update successfully!"),N(!0)}catch(H){y(H.message||"Failed to update Vendor")}finally{S(!1)}},I=()=>{N(!1),E("/vendors")};return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:s.jsx(It,{}),isMobile:e,toggleSidebar:O}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),s.jsxs(_.button,{onClick:()=>E("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[s.jsx(Or,{className:"text-lg"})," Back to Vendors Management"]})]}),s.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&s.jsxs(_.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsx("span",{className:"block sm:inline ml-2",children:g}),s.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(dt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"address",id:"address",value:T.address,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:T.contact_person,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"email",id:"email",value:T.email,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"telp",id:"telp",value:T.telp,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"HP",id:"HP",value:T.HP,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[s.jsx(_.button,{type:"button",onClick:()=>E("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),s.jsx(_.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),s.jsx(N$e,{isOpen:v,onClose:I,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},C$e=({isOpen:t,onClose:e,title:r,children:n})=>t?s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:s.jsxs(_.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:s.jsx(dt,{size:24})})]}),s.jsx("div",{children:n})]})}):null,T$e=({isOpen:t,onClose:e,onConfirm:r,title:n,message:a,confirmText:i="Confirm",cancelText:o="Cancel",type:l="approve"})=>s.jsx(Mt,{children:t&&s.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:s.jsx(_.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&s.jsx(Ht,{className:"text-green-500 text-5xl"}),l==="feedback"&&s.jsx(Nf,{className:"text-blue-500 text-5xl"}),l==="reject"&&s.jsx(Zt,{className:"text-red-500 text-5xl"}),l==="edit"&&s.jsx(Hn,{className:"text-purple-500 text-5xl"})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsxs("div",{className:"flex justify-center space-x-3",children:[s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:i})]})]})})})}),_$e=()=>{var pt;Zn();const t=Nt(),{id:e}=Ea(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:a,hasPermission:i,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=Ct(),[d,h]=x.useState(window.innerWidth<768),[m,g]=x.useState(()=>{const ye=localStorage.getItem("sidebarOpen");return JSON.parse(ye||"false")}),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(ye=>!ye)},[w,j]=x.useState(null),[v,N]=x.useState(null),[C,S]=x.useState(!1),[E,T]=x.useState(!0),[A,O]=x.useState(null),[D,$]=x.useState("approval"),[L,I]=x.useState({}),[R,H]=x.useState(null),[G,q]=x.useState(!0),[F,P]=x.useState(null),[B,K]=x.useState(!1),[te,U]=x.useState(!1),[Q,ie]=x.useState(""),[le,ce]=x.useState(""),[ge,$e]=x.useState(!0),[Oe,xe]=x.useState(!1),[Ae,Ve]=x.useState(null);x.useEffect(()=>{(async()=>{var z,ue,be,Ne;if(e)try{T(!0),O(null);const Fe=await n(parseInt(e));if(P(Fe),!Fe)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Fe),Fe.approval_template&&(H(Fe.approval_template),console.log("Active template set in first useEffect:",Fe.approval_template));const he={id:Fe.id_monitoring_schedule.toString(),name:`${((z=Fe.data_mesin)==null?void 0:z.name)||"Mesin"} - ${Fe.unit}`,interval:((ue=Fe.monitoring_interval)==null?void 0:ue.type_interval)||"Weekly",period:`${Fe.tgl_start} - ${Fe.tgl_end}`,unit:Fe.unit,mesin:(be=Fe.data_mesin)==null?void 0:be.name,tahun:Fe.tahun,bulan:Fe.bulan,tgl_start:Fe.tgl_start,tgl_end:Fe.tgl_end,items:((Ne=Fe.item_mesins)==null?void 0:Ne.map(Ce=>({id:Ce.id,name:Ce.item_mesin,uom:Ce.satuan,min:Ce.standard_min?parseFloat(Ce.standard_min):void 0,max:Ce.standard_max?parseFloat(Ce.standard_max):void 0,visual:Ce.standard_visual,standard_min:Ce.standard_min,standard_max:Ce.standard_max,standard_visual:Ce.standard_visual,satuan:Ce.satuan})))||[]};j(he);const de=Fe.monitoring_activities||[],se=Fe.schedule_approvals||[],De={};Fe.approval_template&&Fe.approval_template.approvers?Fe.approval_template.approvers.forEach(Ce=>{const Be=`step_${Ce.step}`,nt=se.find(Lt=>Lt.approval_step===Ce.step&&Lt.approver_id===Ce.approver_user_id);if(nt){let Lt="Pending";switch(nt.status){case"approved":Lt="Approved";break;case"rejected":Lt="Rejected";break;case"feedback_given":Lt="FeedbackGiven";break;default:Lt="Pending"}De[Be]=Lt}else De[Be]="Pending"}):se.forEach(Ce=>{const Be=`step_${Ce.approval_step}`;let nt="Pending";switch(Ce.status){case"approved":nt="Approved";break;case"rejected":nt="Rejected";break;case"feedback_given":nt="FeedbackGiven";break;default:nt="Pending"}De[Be]=nt});const Ye=se.map(Ce=>{var br;let Be="approval",nt="";switch(Ce.status){case"approved":Be="approval",nt=`Menyetujui laporan pada step ${Ce.approval_step}`;break;case"rejected":Be="rejection",nt=`Menolak laporan pada step ${Ce.approval_step}`;break;case"feedback_given":Be="feedback",nt=`Memberikan feedback pada step ${Ce.approval_step}`;break;default:Be="submission",nt=`Mengajukan approval pada step ${Ce.approval_step}`}const Lt=Ce.approved_at||Ce.created_at;return{type:Be,timestamp:Lt||new Date().toISOString(),actor:((br=Ce.approver)==null?void 0:br.name)||`Approver Step ${Ce.approval_step}`,description:nt,details:Ce.comments||void 0}});if(de.length>0){const Ce=de[0].created_at;Ye.unshift({type:"submission",timestamp:Ce||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const qe={machineId:he.id,itemResults:he.items.map(Ce=>{const Be=de.find(Lt=>Lt.id_item_mesin===Ce.id);let nt="Pending";if(Be!=null&&Be.hasil_ms_tms){const Lt=Be.hasil_ms_tms.toLowerCase();Lt==="ms"?nt="MS":Lt==="tms"?nt="TMS":nt="N/A"}return{itemId:Ce.id,result:(Be==null?void 0:Be.hasil_monitoring)||"",status:nt,remarks:(Be==null?void 0:Be.hasil_keterangan)||""}}),approvalStatus:De,commentsHistory:[],activityHistory:Ye,isSaved:de.length>0,submissionDate:de.length>0?new Date().toISOString():void 0,currentApprovalStep:ve(se,Fe.approval_template)};N(qe)}catch(Fe){O(Fe instanceof Error?Fe.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Fe)}finally{T(!1)}})()},[e,n]);const ee=x.useMemo(()=>{var ye,z,ue,be,Ne,Fe;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(z=(ye=r.department)==null?void 0:ye.name)!=null&&z.toLowerCase().includes("engineering")?(ue=r.position)!=null&&ue.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(Ne=(be=r.department)==null?void 0:be.name)!=null&&Ne.toLowerCase().includes("process")?(Fe=r.position)!=null&&Fe.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),ae=x.useCallback(ye=>{if(!R||!R.approvers||!r)return console.log(`❌ isUserApproverForStep ${ye}: Missing data`),!1;const z=R.approvers.find(be=>be.step===ye&&be.approver_user_id.toString()===r.id),ue=!!z;return console.log(`🔍 IS USER APPROVER STEP ${ye}:`,{step:ye,userID:r.id,userName:r.name,approverUserID:z==null?void 0:z.approver_user_id,approverName:z==null?void 0:z.approver.name,MATCH:ue}),ue},[R,r]),Z=x.useCallback(()=>{if(!v||!(R!=null&&R.approvers))return console.log("❌ GET CURRENT STEP: No monitoringResults or approvers"),1;const ye=[...R.approvers].sort((ue,be)=>ue.step-be.step);console.log("🔍 GET CURRENT STEP - All approvers status:",v.approvalStatus);for(let ue=0;ue<ye.length;ue++){const be=ye[ue],Ne=`step_${be.step}`,Fe=v.approvalStatus[Ne]||"Pending";if(console.log(`🔍 Checking step ${be.step}:`,{stepKey:Ne,status:Fe,isPending:Fe==="Pending"}),Fe==="Pending")return console.log(`✅ CURRENT ACTIVE STEP FOUND: ${be.step}`),be.step}const z=ye.length+1;return console.log(`✅ ALL STEPS APPROVED, NEXT STEP: ${z}`),z},[v,R]);x.useEffect(()=>{var ye;v&&R&&r&&(console.log("=== 🎯 DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",R.name),console.log("Is Saved:",v.isSaved),(ye=R.approvers)==null||ye.forEach(z=>{const ue=`step_${z.step}`,be=v.approvalStatus[ue],Ne=xt(z.step,z,be);console.log(`🎯 Step ${z.step} - ${z.approver.name}:`,{status:be,shouldShowActions:Ne,isCurrentUser:z.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:z.approver_user_id.toString()===r.id,needsAction:be==="Pending",isCurrentStep:Z()===z.step,isPreviousStepApproved:z.step===1?!0:v.approvalStatus[`step_${z.step-1}`]==="Approved"}})}))},[v,R,r]);const ve=(ye,z)=>{if(!z||!z.approvers)return 1;const ue=[...z.approvers].sort((Ne,Fe)=>Ne.step-Fe.step);console.log("Getting current step from approvals:",{approvalsCount:ye.length,approversCount:ue.length});for(let Ne=0;Ne<ue.length;Ne++){const Fe=ue[Ne],he=ye.find(de=>de.approval_step===Fe.step&&de.approver_id===Fe.approver_user_id);if(console.log(`Step ${Fe.step}:`,{hasApproval:!!he,status:he==null?void 0:he.status,isApproved:(he==null?void 0:he.status)==="approved"}),!he||he.status!=="approved")return console.log(`Current step from approvals: ${Fe.step}`),Fe.step}const be=ue.length+1;return console.log(`All steps approved from approvals, next step: ${be}`),be},Ge=(ye,z)=>F?(F.schedule_approvals||[]).find(be=>be.approval_step===ye&&be.approver_id===z.approver_user_id):null,Ke=x.useCallback(async()=>{var ye,z,ue,be;if(e)try{T(!0),O(null);const Ne=await n(parseInt(e));if(P(Ne),!Ne)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Ne),Ne.approval_template&&(H(Ne.approval_template),console.log("Active template set:",Ne.approval_template));const Fe={id:Ne.id_monitoring_schedule.toString(),name:`${((ye=Ne.data_mesin)==null?void 0:ye.name)||"Mesin"} - ${Ne.unit}`,interval:((z=Ne.monitoring_interval)==null?void 0:z.type_interval)||"Weekly",period:`${Ne.tgl_start} - ${Ne.tgl_end}`,unit:Ne.unit,mesin:(ue=Ne.data_mesin)==null?void 0:ue.name,tahun:Ne.tahun,bulan:Ne.bulan,tgl_start:Ne.tgl_start,tgl_end:Ne.tgl_end,items:((be=Ne.item_mesins)==null?void 0:be.map(qe=>({id:qe.id,name:qe.item_mesin,uom:qe.satuan,min:qe.standard_min?parseFloat(qe.standard_min):void 0,max:qe.standard_max?parseFloat(qe.standard_max):void 0,visual:qe.standard_visual,standard_min:qe.standard_min,standard_max:qe.standard_max,standard_visual:qe.standard_visual,satuan:qe.satuan})))||[]};j(Fe);const he=Ne.monitoring_activities||[],de=Ne.schedule_approvals||[],se={};Ne.approval_template&&Ne.approval_template.approvers&&Ne.approval_template.approvers.forEach(qe=>{const Ce=`step_${qe.step}`,Be=de.find(nt=>nt.approval_step===qe.step&&nt.approver_id===qe.approver_user_id);if(Be){let nt="Pending";switch(Be.status){case"approved":nt="Approved";break;case"rejected":nt="Rejected";break;case"feedback_given":nt="FeedbackGiven";break;default:nt="Pending"}se[Ce]=nt}else se[Ce]="Pending",console.log(`✅ Step ${qe.step} di-set ke Pending (no approval history)`)});const De=de.map(qe=>{var Lt;let Ce="approval",Be="";switch(qe.status){case"approved":Ce="approval",Be=`Menyetujui laporan pada step ${qe.approval_step}`;break;case"rejected":Ce="rejection",Be=`Menolak laporan pada step ${qe.approval_step}`;break;case"feedback_given":Ce="feedback",Be=`Memberikan feedback pada step ${qe.approval_step}`;break;default:Ce="submission",Be=`Mengajukan approval pada step ${qe.approval_step}`}const nt=qe.approved_at||qe.created_at;return{type:Ce,timestamp:nt||new Date().toISOString(),actor:((Lt=qe.approver)==null?void 0:Lt.name)||`Approver Step ${qe.approval_step}`,description:Be,details:qe.comments||void 0}});if(he.length>0){const qe=he[0].created_at;De.unshift({type:"submission",timestamp:qe||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Ye={machineId:Fe.id,itemResults:Fe.items.map(qe=>{const Ce=he.find(nt=>nt.id_item_mesin===qe.id);let Be="Pending";if(Ce!=null&&Ce.hasil_ms_tms){const nt=Ce.hasil_ms_tms.toLowerCase();nt==="ms"?Be="MS":nt==="tms"?Be="TMS":Be="N/A"}return{itemId:qe.id,result:(Ce==null?void 0:Ce.hasil_monitoring)||"",status:Be,remarks:(Ce==null?void 0:Ce.hasil_keterangan)||""}}),approvalStatus:se,commentsHistory:[],activityHistory:De,isSaved:he.length>0,submissionDate:he.length>0?new Date().toISOString():void 0,currentApprovalStep:ve(de,Ne.approval_template)};N(Ye)}catch(Ne){O(Ne instanceof Error?Ne.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Ne)}finally{T(!1)}},[e,n]),pe=(ye,z,ue,be,Ne)=>{N(Fe=>Fe?{...Fe,itemResults:Fe.itemResults.map(he=>he.itemId===ye?{...he,result:z,status:ue==="numeric"?gt(Number(z),be,Ne):z==="MS"?"MS":z==="TMS"?"TMS":"Pending"}:he)}:null)},ot=(ye,z)=>{N(ue=>ue?{...ue,itemResults:ue.itemResults.map(be=>be.itemId===ye?{...be,remarks:z}:be)}:null)},gt=(ye,z,ue)=>isNaN(ye)||ye===null||ye===void 0?z===void 0||ue===void 0?"N/A":"Pending":z!==void 0&&ue!==void 0?ye>=z&&ye<=ue?"MS":"TMS":"N/A",Re=ye=>{switch(ye){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ct=ye=>{switch(ye){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},St=ye=>{if(!R||!R.approvers)return"Unknown Role";const z=R.approvers.find(ue=>ue.approver_user_id.toString()===ye);return(z==null?void 0:z.approver.position)||"Unknown Position"};x.useCallback((ye,z,ue,be=null)=>{N(Ne=>{if(!Ne||Ne.machineId!==ye)return Ne;const Fe={id:crypto.randomUUID(),role:z,comment:ue,timestamp:new Date().toLocaleString(),replies:[],parentId:be},he=(se,De)=>De.parentId===null?[...se,De]:se.map(Ye=>Ye.id===De.parentId?{...Ye,replies:Ye.replies?[...Ye.replies,De]:[De]}:{...Ye,replies:Ye.replies?he(Ye.replies,De):Ye.replies}),de=Ne.commentsHistory||[];return{...Ne,commentsHistory:he(de,Fe)}})},[]);const ht=(ye,z,ue)=>{let be="",Ne="",Fe="approve";switch(z){case"Approved":be="Confirm Approval",Ne=`Are you sure you want to approve this monitoring report for step ${ye}?`,Fe="approve";break;case"FeedbackGiven":be="Confirm Feedback",Ne=`Are you sure you want to send feedback for step ${ye}?`,Fe="feedback";break;case"Rejected":be="Confirm Rejection",Ne=`Are you sure you want to reject this monitoring report for step ${ye}?`,Fe="reject";break;case"Edited":be="Confirm Edit",Ne=`Are you sure you want to mark this as edited for step ${ye}?`,Fe="edit";break}Ve({type:Fe,step:ye,title:be,message:Ne,feedbackText:ue}),xe(!0)},Ft=async()=>{if(Ae)try{await rt(Ae.step,Ae.type==="approve"?"Approved":Ae.type==="feedback"?"FeedbackGiven":Ae.type==="reject"?"Rejected":"Edited",Ae.feedbackText),xe(!1),Ve(null),await Ke()}catch(ye){console.error("Error during confirmation:",ye),xe(!1),Ve(null)}},rt=async(ye,z,ue)=>{if(!(!v||!e||!r))try{let be="";(z==="FeedbackGiven"&&ue||z==="Rejected"&&ue)&&(be=ue),console.log(`Sending approval for step ${ye}, action: ${z}`);const Ne=await o(parseInt(e),be);if(Ne.success){N(he=>{if(!he)return null;const de={...he.approvalStatus,[`step_${ye}`]:z},se=[...he.activityHistory],De=new Date().toLocaleString();let Ye="";switch(z){case"Approved":Ye=`Menyetujui laporan pada step ${ye}`;break;case"FeedbackGiven":Ye=`Memberikan feedback pada step ${ye}`;break;case"Rejected":Ye=`Menolak laporan pada step ${ye}`;break;default:Ye=`Melakukan aksi ${z} pada step ${ye}`}return se.push({type:z==="Approved"?"approval":z==="Rejected"?"rejection":z==="FeedbackGiven"?"feedback":"edit",timestamp:De,actor:ee.name,description:`${ee.name} ${Ye}`,details:be||void 0}),z!=="Edited"&&I(qe=>({...qe,[`step_${ye}`]:{showInput:!1,text:""}})),{...he,approvalStatus:de,activityHistory:se}});let Fe="";switch(z){case"Approved":Fe="Berhasil menyetujui laporan.";break;case"FeedbackGiven":Fe="Berhasil mengirim feedback.";break;case"Rejected":Fe="Berhasil menolak laporan.";break;case"Edited":Fe="Berhasil menyimpan perubahan.";break}Me("Success!",Fe,!0)}else throw new Error(Ne.message||"Approval failed")}catch(be){console.error("Error during approval:",be),Me("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},ke=x.useCallback(()=>{if(!R||!R.approvers||!v)return!1;const ye=[...R.approvers].sort((ue,be)=>ue.step-be.step),z=ye.every(ue=>{const be=`step_${ue.step}`;return v.approvalStatus[be]==="Approved"});return console.log("🔍 CHECK ALL STEPS COMPLETED:",{totalSteps:ye.length,allApproved:z,approvalStatus:v.approvalStatus}),z},[R,v]),tt=ye=>{I(z=>{var ue;return{...z,[`step_${ye}`]:{...z[`step_${ye}`],showInput:!((ue=z[`step_${ye}`])!=null&&ue.showInput)}}})},Se=(ye,z)=>{I(ue=>({...ue,[`step_${ye}`]:{...ue[`step_${ye}`],text:z}}))},ft=async()=>{if(!(!w||!v||!e)){S(!0);try{let ye=!0;const z=[];if(v.itemResults.forEach(he=>{const de=w.items.find(se=>se.id===he.itemId);de&&(he.result===""||he.status==="Pending")&&(ye=!1,z.push({item:de.name}))}),!ye){Me("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${w.name}. Item yang belum diisi: `+z.map(he=>he.item).join(", "),!1);return}const ue=v.itemResults.map(he=>{var De;const de=(De=F==null?void 0:F.monitoring_activities)==null?void 0:De.find(Ye=>Ye.id_item_mesin===he.itemId),se={id_monitoring_schedule:parseInt(e),id_item_mesin:he.itemId,tgl_monitoring:w.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:he.result.toString(),hasil_keterangan:he.remarks,hasil_ms_tms:he.status==="MS"?"ms":he.status==="TMS"?"tms":"na"};return de&&de.id_monitoring_activity?{id:de.id_monitoring_activity,data:se}:{id:0,data:se}});console.log("📦 Data yang akan dikirim ke backend:",ue);const be=ue.filter(he=>he.id===0),Ne=ue.filter(he=>he.id>0);if(console.log("🆕 Activities to CREATE:",be.length),console.log("🔄 Activities to UPDATE:",Ne.length),be.length>0){const he=be.map(de=>de.data);console.log("🆕 CREATE new monitoring activities:",he),await a(he)}Ne.length>0&&(console.log("🔄 UPDATE existing monitoring activities:",Ne),await c(Ne)),N(he=>{if(!he)return null;const de=[...he.activityHistory],se=new Date().toLocaleString(),De=he.isSaved?"edit":"submission",Ye=he.isSaved?`${ee.name} mengedit hasil monitoring.`:`${ee.name} mengisi hasil monitoring.`;return de.push({type:De,timestamp:se,actor:ee.name,description:Ye}),{...he,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:de}}),await Ke();const Fe=v.isSaved?`Hasil monitoring untuk ${w.name} berhasil diupdate!`:`Hasil monitoring untuk ${w.name} berhasil disimpan!`;Me("Success!",Fe,!0)}catch(ye){const z=v.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";Me("Error!",z,!1),console.error("Error saving monitoring results:",ye)}finally{S(!1)}}},xt=(ye,z,ue)=>{if(!r||!(v!=null&&v.isSaved))return console.log(`❌ Button step ${ye}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!v,isSaved:v==null?void 0:v.isSaved}),!1;const be=z.approver_user_id.toString()===r.id,Ne=ue==="Pending",Fe=Z(),he=Fe===ye;let de=!0;if(ye>1){const De=`step_${ye-1}`;de=v.approvalStatus[De]==="Approved"}const se=be&&Ne&&he&&de;return console.log(`🎯 CALCULATE BUTTON STEP ${ye}:`,{step:ye,isCurrentApprover:be,needsAction:Ne,isCurrentStep:he,isPreviousStepApproved:de,currentStatus:ue,currentStep:Fe,userID:r.id,approverID:z.approver_user_id,userPosition:r.position,approverPosition:z.approver.position,FINAL_RESULT:se}),se},wt=async ye=>{if(!(!v||!e||ye!==1)){if(ke()){Me("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await ft(),N(z=>{if(!z)return null;const ue={...z.approvalStatus,step_1:"Edited"},be=[...z.activityHistory],Ne=new Date().toLocaleString();return be.push({type:"edit",timestamp:Ne,actor:ee.name,description:`${ee.name} (Approver Step 1) mengedit hasil monitoring.`}),{...z,approvalStatus:ue,activityHistory:be}}),await Ke(),Me("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(z){console.error("Error during edit by approver:",z),Me("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};x.useMemo(()=>{if(!(v!=null&&v.commentsHistory))return{};const ye=(ue,be=null)=>ue.filter(Ne=>Ne.parentId===be).sort((Ne,Fe)=>new Date(Ne.timestamp).getTime()-new Date(Fe.timestamp).getTime()).map(Ne=>({...Ne,replies:ye(ue,Ne.id)})),z={};return R!=null&&R.approvers&&R.approvers.forEach(ue=>{const be=v.commentsHistory.filter(Ne=>Ne.role===St(ue.approver_user_id.toString()));z[`step_${ue.step}`]=ye(be)}),z},[v==null?void 0:v.commentsHistory,R]);const we=x.useCallback(()=>{var ye;!v||!R||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",R.name),console.log("Approvers:",R.approvers),(ye=R.approvers)==null||ye.forEach(z=>{const ue=`step_${z.step}`,be=v.approvalStatus[ue],Ne=z.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${z.step}:`,{approver:z.approver.name,status:be,isCurrentUser:Ne,stepKey:ue})}),console.log("Current Step:",Z()),console.log("User ID:",r==null?void 0:r.id))},[v,R,r,Z]);x.useEffect(()=>{v&&R&&we()},[v,R,we]);const at=ye=>ye.satuan&&ye.satuan!=="Visual"&&ye.satuan!=="Level"&&ye.satuan!=="Kekencangan"?"numeric":"visual";x.useMemo(()=>ee.name.toLowerCase().includes("technician")&&!ae(1),[ee,ae]);const Je=ae(1),ne=x.useMemo(()=>!(v!=null&&v.isSaved)||v.approvalStatus.step_1==="Pending"?!0:ae(1)&&!ke(),[v==null?void 0:v.isSaved,v==null?void 0:v.approvalStatus,ae,ke]),re=ae(Z()),Me=x.useCallback((ye,z,ue=!0)=>{ce(ye),ie(z),$e(ue),ue?K(!0):U(!0)},[]),et=x.useCallback(()=>{K(!1),U(!1),Ke()},[Ke]);return E?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(_.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[s.jsx(Or,{className:"text-xl"}),s.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):A?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(_.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[s.jsx(Or,{className:"text-xl"}),s.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx(Zt,{className:"text-red-500 text-4xl mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),s.jsx("p",{className:"text-red-600 mb-4",children:A}),s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[s.jsx(pce,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!w||!v?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(_.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[s.jsx(Or,{className:"text-xl"}),s.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[s.jsx(Zt,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),s.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:s.jsx(Dh,{}),isMobile:d,toggleSidebar:y}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",s.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",s.jsx("span",{className:"font-semibold text-gray-800",children:w.interval})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",s.jsx("span",{className:"font-semibold text-gray-800",children:w.period})]}),s.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:w.items.length})," Items"]}),R&&R.approvers&&R.approvers.length>0?s.jsxs("p",{children:["Template: ",s.jsx("span",{className:"font-semibold",children:R.name}),R.is_active&&s.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),ke()&&s.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):s.jsxs("p",{children:["Template: ",s.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),R&&Je&&s.jsx("p",{className:`font-semibold ${ke()?"text-gray-500":"text-blue-600"}`,children:ke()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),R&&re&&!Je&&s.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",Z(),")"]})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.items.map(ye=>{const z=v.itemResults.find(be=>be.itemId===ye.id),ue=at(ye);return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[ye.name,!ne&&(v==null?void 0:v.isSaved)&&s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ye.standard_visual?`${ye.standard_visual} (${ye.satuan})`:`${ye.standard_min} - ${ye.standard_max} ${ye.satuan}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue==="visual"?s.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(z==null?void 0:z.result)||"",onChange:be=>pe(ye.id,be.target.value,"visual"),disabled:!ne,children:[s.jsx("option",{value:"",children:"Pilih"}),s.jsx("option",{value:"MS",children:"MS"}),s.jsx("option",{value:"TMS",children:"TMS"})]}):s.jsx("input",{type:"number",step:"0.01",value:z==null?void 0:z.result,onChange:be=>pe(ye.id,be.target.value,"numeric",ye.min,ye.max),disabled:!ne,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${Re((z==null?void 0:z.status)||"Pending")}`,children:z==null?void 0:z.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("textarea",{rows:1,value:z==null?void 0:z.remarks,onChange:be=>ot(ye.id,be.target.value),disabled:!ne,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},ye.id)})})]})}),s.jsxs("div",{className:"flex justify-end mt-6 relative",children:[s.jsx(_.button,{whileHover:{scale:ne?1.05:1},whileTap:{scale:ne?.95:1},onClick:Je?()=>wt(1):ft,disabled:!ne||C||Je&&ke(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:C?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"}),Je?ke()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),Je&&ke()&&s.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[s.jsxs(_.button,{whileHover:{scale:1.03},onClick:()=>$("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${D==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ma,{className:"h-5 w-5"}),s.jsx("span",{children:"Approval Status"})]}),s.jsxs(_.button,{whileHover:{scale:1.03},onClick:()=>$("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${D==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Hf,{className:"h-5 w-5"}),s.jsx("span",{children:"History Activity"})]})]}),D==="approval"?s.jsx(Mt,{mode:"wait",children:s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!R||!R.approvers||R.approvers.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ma,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),s.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),s.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(pt=R.approvers)==null?void 0:pt.map(ye=>{var Ye,qe,Ce,Be;const z=`step_${ye.step}`,ue=(v==null?void 0:v.approvalStatus[z])||"Pending",be=xt(ye.step,ye,ue),Ne=Ge(ye.step,ye),Fe=Z(),he=ye.approver_user_id.toString()===(r==null?void 0:r.id),de=ye.step-1,se=`step_${de}`,De=v==null?void 0:v.approvalStatus[se];return console.log(`Rendering Step ${ye.step}:`,{status:ue,shouldShowActionButtons:be,currentStep:Fe,isCurrentUserApprover:he,previousStepStatus:De,userId:r==null?void 0:r.id,approverId:ye.approver_user_id}),s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",ye.step,": ",ye.approver.name," (",ye.approver.position,")"]}),s.jsx("p",{className:"text-xs text-gray-500",children:ye.approver.department}),Ne&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ne.approved_at&&`Disetujui: ${new Date(Ne.approved_at).toLocaleString()}`,Ne.status==="feedback_given"&&" | Feedback diberikan"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${ct(ue)}`,children:ue}),he&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(Ne==null?void 0:Ne.comments)&&s.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:s.jsxs("p",{className:"text-xs text-gray-400",children:[s.jsx("strong",{children:"Komentar:"})," ",Ne.comments]})}),Fe===ye.step&&ue!=="Approved"&&!be&&s.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:s.jsxs("p",{className:"text-yellow-700",children:[s.jsx("strong",{children:"Menunggu:"})," Step ",ye.step," sedang menunggu approval dari ",ye.approver.name,de>0&&De!=="Approved"&&s.jsxs("span",{children:[" (Step ",de," perlu disetujui terlebih dahulu)"]})]})}),ue==="Approved"&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:s.jsxs("p",{className:"text-green-700",children:[s.jsx("strong",{children:"Selesai:"})," Step ",ye.step," telah disetujui"]})}),be&&s.jsxs("div",{className:"flex space-x-2 mt-3",children:[s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ht(ye.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[s.jsx(Ht,{size:16,className:"mr-1"}),"Approve"]}),s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>tt(ye.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[s.jsx(Nf,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),s.jsx(Mt,{children:((Ye=L[z])==null?void 0:Ye.showInput)&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[s.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),s.jsx("textarea",{rows:3,value:((qe=L[z])==null?void 0:qe.text)||"",onChange:nt=>Se(ye.step,nt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var nt;return ht(ye.step,"FeedbackGiven",(nt=L[z])==null?void 0:nt.text)},disabled:!((Be=(Ce=L[z])==null?void 0:Ce.text)!=null&&Be.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Nf,{size:16,className:"mr-1"}),"Kirim Feedback"]}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>tt(ye.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},z)})},"approval-tab")}):s.jsx(Mt,{mode:"wait",children:s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:v.activityHistory.length>0?v.activityHistory.slice().sort((ye,z)=>new Date(z.timestamp).getTime()-new Date(ye.timestamp).getTime()).map((ye,z)=>s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"mt-1 flex-shrink-0",children:[ye.type==="approval"&&s.jsx(Ht,{size:20,className:"text-green-500"}),ye.type==="rejection"&&s.jsx(Woe,{size:20,className:"text-red-500"}),ye.type==="feedback"&&s.jsx(Nf,{size:20,className:"text-blue-500"}),ye.type==="submission"&&s.jsx(Hf,{size:20,className:"text-blue-500"}),ye.type==="edit"&&s.jsx(Nr,{size:20,className:"text-purple-500"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:ye.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",ye.actor]})," - ",new Date(ye.timestamp).toLocaleString()]}),ye.details&&s.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',ye.details,'"']})]})]},z)):s.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),s.jsx(T$e,{isOpen:Oe,onClose:()=>{xe(!1),Ve(null)},onConfirm:Ft,title:(Ae==null?void 0:Ae.title)||"Confirm Action",message:(Ae==null?void 0:Ae.message)||"Are you sure you want to proceed?",confirmText:(Ae==null?void 0:Ae.type)==="approve"?"Approve":(Ae==null?void 0:Ae.type)==="feedback"?"Send Feedback":(Ae==null?void 0:Ae.type)==="reject"?"Reject":(Ae==null?void 0:Ae.type)==="edit"?"Save & Mark as Edited":"Confirm",type:Ae==null?void 0:Ae.type}),s.jsx(C$e,{isOpen:B,onClose:et,title:"Success!",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[s.jsx(Ht,{className:"text-green-500 text-6xl mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:et,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},M$e={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"°C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let op="technician";const N_=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],bQ=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:a})=>{const[i,o]=x.useState(!1),[l,c]=x.useState(""),d=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},h=a*4;return s.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${a>0?`ml-${h} border-l-4 border-l-blue-200`:""}`,children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),s.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(It,{size:14,className:"mr-1"})," ",t.timestamp,s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),s.jsx(Mt,{children:i&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[s.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),s.jsx(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:d,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&s.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>s.jsx(bQ,{comment:m,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:a+1},m.id))})]})},A$e=()=>{var $;const t=Zn(),e=Nt(),r=(($=t.state)==null?void 0:$.machine)||M$e,[n,a]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState("approval"),[d,h]=x.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});x.useEffect(()=>{if(r){const L={machineId:r.id,itemResults:r.items.map(I=>({itemId:I.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};a(L)}},[r]);const m=(L,I,R,H,G)=>{a(q=>q?{...q,itemResults:q.itemResults.map(F=>F.itemId===L?{...F,result:I,status:R==="numeric"?y(Number(I),H,G):I==="MS"?"MS":I==="TMS"?"TMS":"Pending"}:F)}:null)},g=(L,I)=>{a(R=>R?{...R,itemResults:R.itemResults.map(H=>H.itemId===L?{...H,remarks:I}:H)}:null)},y=(L,I,R)=>isNaN(L)||L===null||L===void 0?I===void 0||R===void 0?"N/A":"Pending":I!==void 0&&R!==void 0?L>=I&&L<=R?"MS":"TMS":"N/A",w=L=>{switch(L){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=L=>{switch(L){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=L=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[L]||L,N=x.useCallback((L,I,R,H=null)=>{a(G=>{if(!G||G.machineId!==L)return G;const q={id:crypto.randomUUID(),role:I,comment:R,timestamp:new Date().toLocaleString(),replies:[],parentId:H},F=(B,K)=>K.parentId===null?[...B,K]:B.map(te=>te.id===K.parentId?{...te,replies:te.replies?[...te.replies,K]:[K]}:{...te,replies:te.replies?F(te.replies,K):te.replies}),P=G.commentsHistory||[];return{...G,commentsHistory:F(P,q)}})},[]),C=(L,I,R)=>{n&&(a(H=>{if(!H)return null;let G=H.commentsHistory||[],q=[...H.activityHistory];const F=new Date().toLocaleString();if((I==="FeedbackGiven"||I==="Rejected")&&R){const B={id:crypto.randomUUID(),role:L,comment:R,timestamp:F,replies:[],parentId:null};G=[...G,B];const K=I==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";q.push({type:I==="FeedbackGiven"?"feedback":"rejection",timestamp:F,actor:L,description:`${v(L)} ${K}`,details:R})}else I==="Approved"&&(G=G.filter(B=>!(B.role===L&&(B.parentId===null||B.parentId===void 0)))||[],q.push({type:"approval",timestamp:F,actor:L,description:`${v(L)} menyetujui laporan.`}));return{...H,approvalStatus:{...H.approvalStatus,[L]:I},commentsHistory:G,activityHistory:q}}),h(H=>{const G={...H},q=L;return G[q]&&(G[q]={showInput:!1,text:""}),G}))},S=L=>{h(I=>{const R={...I},H=L;return R[H]&&(R[H]={...R[H],showInput:!R[H].showInput}),R})},E=(L,I)=>{h(R=>{const H={...R},G=L;return H[G]&&(H[G]={...H[G],text:I}),H})},T=()=>{if(!r||!n)return;o(!0);let L=!0;const I=[];n.itemResults.forEach(R=>{const H=r.items.find(G=>G.id===R.itemId);H&&(R.result===""||R.status==="Pending")&&(L=!1,I.push({item:H.name}))}),L?(a(R=>{if(!R)return null;let H={...R.approvalStatus},G=R.commentsHistory||[],q=[...R.activityHistory];const F=new Date().toLocaleString(),P=N_[0];return H={...H,[P]:"Pending"},q.push({type:"submission",timestamp:F,actor:op,description:`${v(op)} mengisi dan mengajukan laporan.`}),{...R,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:H,commentsHistory:G,activityHistory:q}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+I.map(R=>R.item).join(", ")),o(!1)},A=(L,I,R,H,G,q)=>!1,O=x.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const L=(R,H=null)=>R.filter(G=>G.parentId===H).sort((G,q)=>new Date(G.timestamp).getTime()-new Date(q.timestamp).getTime()).map(G=>({...G,replies:L(R,G.id)})),I={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return N_.forEach(R=>{const H=n.commentsHistory.filter(G=>G.role===R);I[R]=L(H)}),I},[n==null?void 0:n.commentsHistory]);if(!r||!n)return s.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:s.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const D=!n.isSaved&&op==="technician";return s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(_.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[s.jsx(Or,{className:"text-xl"}),s.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[s.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",s.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",s.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",s.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(L=>{const I=n.itemResults.find(R=>R.itemId===L.id);return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.visual?`${L.visual} (${L.uom})`:`${L.min} - ${L.max} ${L.uom}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.uom==="Visual"||L.uom==="Level"||L.uom==="Kekencangan"?s.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(I==null?void 0:I.result)||"",onChange:R=>m(L.id,R.target.value,"visual"),disabled:!D,children:[s.jsx("option",{value:"",children:"Pilih"}),s.jsx("option",{value:"MS",children:"MS"}),s.jsx("option",{value:"TMS",children:"TMS"})]}):s.jsx("input",{type:"number",step:"0.01",value:I==null?void 0:I.result,onChange:R=>m(L.id,R.target.value,"numeric",L.min,L.max),disabled:!D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${w((I==null?void 0:I.status)||"Pending")}`,children:I==null?void 0:I.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("textarea",{rows:1,value:I==null?void 0:I.remarks,onChange:R=>g(L.id,R.target.value),disabled:!D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},L.id)})})]})}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:T,disabled:!D||i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:i?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nr,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[s.jsxs(_.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ma,{className:"h-5 w-5"}),s.jsx("span",{children:"Approval Status"})]}),s.jsxs(_.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Hf,{className:"h-5 w-5"}),s.jsx("span",{children:"History Activity"})]})]}),l==="approval"?s.jsx(Mt,{mode:"wait",children:s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([L,I])=>{var q,F;const R=L,H=A(op,R,I,n.approvalStatus,N_,n.isSaved),G=O[R]||[];return s.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:v(R)}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${j(I)}`,children:I==="Edited"?`Edited by ${v(R)}`:I}),H&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(L,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:s.jsx(Ht,{size:20})}),s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(L),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:s.jsx(Nf,{size:20})})]})]})]}),s.jsx(Mt,{children:((q=d[R])==null?void 0:q.showInput)&&s.jsxs(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[s.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",v(R),")"]}),s.jsx("textarea",{rows:2,value:(F=d[R])==null?void 0:F.text,onChange:P=>E(R,P.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),s.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:s.jsx(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(R,"FeedbackGiven",d[R].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),s.jsx("div",{className:"mt-4",children:G.length>0?G.map(P=>s.jsx(bQ,{comment:P,machineId:r.id,currentUserRole:op,onAddCommentOrReply:N,depth:0},P.id)):s.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},L)})},"approval-tab")}):s.jsx(Mt,{mode:"wait",children:s.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((L,I)=>s.jsxs(_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:I*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:s.jsx(Hf,{size:20,className:"text-blue-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:L.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",v(L.actor)]})," - ",L.timestamp]}),L.details&&s.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',L.details,'"']})]})]},I)):s.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},O$e=()=>{const t=Nt(),{id:e}=Ea(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:a,updateApprover:i,deleteApprover:o,getApprovalTemplateById:l}=Ct(),[c,d]=x.useState(window.innerWidth<768),[h,m]=x.useState(()=>{const B=localStorage.getItem("sidebarOpen");return JSON.parse(B||"false")}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!h)),m(B=>!B)},[y,w]=x.useState([]),[j,v]=x.useState(null),[N,C]=x.useState([]),[S,E]=x.useState(!1),[T,A]=x.useState("");x.useEffect(()=>{e&&(O(),$())},[e]);const O=async()=>{if(!e){A("Template ID is missing");return}try{E(!0);const B=await l(e);console.log("Template data loaded:",B),v(B),B.approvers&&B.approvers.length>0?await D(B.approvers):C([{order:1,role:"Select Position",assignee:""}])}catch(B){A("Failed to load template"),console.error("Error loading template:",B)}finally{E(!1)}},D=async B=>{try{const K=B.map(te=>{var U,Q;return{order:te.step,role:((U=te.approver)==null?void 0:U.position)||`Approval Step ${te.step}`,assignee:((Q=te.approver)==null?void 0:Q.name)||"",approver_user_id:te.approver_user_id}});C(K)}catch(K){console.error("Error loading template approvers from data:",K),C([{order:1,role:"Select Position",assignee:""}])}},$=async()=>{try{const K=(await r()).map(te=>{var U;return{id:parseInt(te.id),name:te.name,email:te.email,position:te.position||"No Position",department:((U=te.department)==null?void 0:U.name)||te.department_name}});w(K)}catch(B){console.error("Error loading users:",B)}},L=()=>{const B=y.map(K=>K.position).filter(K=>K!=null&&K!=="No Position");return[...new Set(B)]},I=B=>y.filter(K=>K.position===B),R=()=>{const B=N.length>0?Math.max(...N.map(K=>K.order))+1:1;C(K=>[...K,{order:B,role:"Select Position",assignee:""}])},H=B=>{C(K=>K.filter((te,U)=>U!==B).map((te,U)=>({...te,order:U+1})))},G=(B,K)=>{C(te=>te.map((U,Q)=>Q===B?{...U,role:K,assignee:""}:U))},q=(B,K)=>{const te=y.find(U=>U.id===K);te&&C(U=>U.map((Q,ie)=>ie===B?{...Q,assignee:te.name,approver_user_id:te.id}:Q))},F=async()=>{if(!j)return;if(!N.every(K=>K.role&&K.assignee&&K.approver_user_id&&K.role!=="Select Position")){A("Please complete all roles and assignees.");return}try{E(!0),A(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",j.id),console.log("Existing approvers:",j.approvers),console.log("New approval flow:",N);const K=j.approvers||[],te=N.map(ie=>({approver_user_id:ie.approver_user_id,step:ie.order}));console.log("Existing approvers:",K),console.log("New approvers:",te);const U=[];for(const ie of N){const le={approver_user_id:ie.approver_user_id,step:ie.order},ce=K.find(ge=>ge.step===ie.order);if(ce)if(ce.approver_user_id!==ie.approver_user_id){console.log(`Updating approver for step ${ie.order} (ID: ${ce.id})`);try{await i(j.id,ce.id,le),console.log(`✓ Updated approver for step ${ie.order}`)}catch(ge){throw console.error(`✗ Failed to update approver for step ${ie.order}:`,ge),new Error(`Failed to update approver for step ${ie.order}`)}}else console.log(`✓ Approver for step ${ie.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${ie.order}`);try{await a(j.id,le),console.log(`✓ Added new approver for step ${ie.order}`)}catch(ge){throw console.error(`✗ Failed to add approver for step ${ie.order}:`,ge),new Error(`Failed to add approver for step ${ie.order}`)}}U.push(ie.order)}const Q=K.filter(ie=>!U.includes(ie.step)).map(ie=>({id:ie.id,step:ie.step}));console.log("Steps to delete:",Q);for(const ie of Q)try{await o(j.id,ie.id),console.log(`✓ Deleted unused approver for step ${ie.step}`)}catch(le){console.warn(`⚠ Could not delete approver for step ${ie.step}:`,le)}alert(`✅ Approval flow for template "${j.name}" has been successfully saved!`),await O()}catch(K){console.error("❌ Error saving approval flow:",K),A(K instanceof Error?K.message:"Failed to save approval flow")}finally{E(!1)}},P=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",j),console.log("Custom approval flow:",N),S&&!j?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(gb,{className:"animate-spin text-blue-600",size:32})})]}):j?s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ot,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:s.jsx(xb,{}),isMobile:c,toggleSidebar:g}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:s.jsxs(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.jsx(xb,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",s.jsx("span",{className:"text-blue-600 ml-2",children:j==null?void 0:j.name})]}),s.jsxs(_.button,{onClick:P,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[s.jsx(Or,{className:"mr-2",size:18})," Back to Template List"]})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),T&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:T}),s.jsx("div",{className:"space-y-4",children:N.map((B,K)=>{const te=L(),U=B.role&&B.role!=="Select Position"?I(B.role):[];return s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[B.order,"."]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),s.jsxs("select",{value:B.role,onChange:Q=>G(K,Q.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[s.jsx("option",{value:"Select Position",children:"Select Position"}),te.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),s.jsxs("select",{value:B.approver_user_id||"",onChange:Q=>q(K,parseInt(Q.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!B.role||B.role==="Select Position"||U.length===0,children:[s.jsx("option",{value:"",children:"Select User"}),U.map(Q=>s.jsxs("option",{value:Q.id,children:[Q.name," (",Q.email,")"]},Q.id))]}),B.role&&B.role!=="Select Position"&&U.length===0&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&s.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(K),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:s.jsx(yn,{size:20})})]},K)})}),s.jsxs("div",{className:"flex justify-between items-center mt-6",children:[s.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[s.jsx(Jn,{size:18,className:"mr-2"})," Add Step"]}),s.jsxs(_.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?s.jsx(gb,{className:"animate-spin mr-2",size:16}):s.jsx(Nr,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):s.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[s.jsx(jt,{}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),s.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),s.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},E$e=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative inline-flex",children:[s.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:s.jsx(mle,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(Mc,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[s.jsx(tg,{className:"mr-2"}),"Back to Home"]}),s.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[s.jsx(Or,{className:"mr-2"}),"Go Back"]})]}),s.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",s.jsx(Mc,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),s.jsx("div",{className:"mt-12",children:s.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})});function D$e(){return s.jsx(s.Fragment,{children:s.jsxs(Ate,{children:[s.jsx(lt,{path:"/login",element:s.jsx(Nre,{})}),s.jsx(lt,{path:"/forgot-password",element:s.jsx(Wce,{})}),s.jsx(lt,{path:"/privacy-policy",element:s.jsx(Gce,{})}),s.jsx(lt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:s.jsx(kz,{})}),s.jsx(lt,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:s.jsx(A$e,{})}),s.jsxs(lt,{element:s.jsx(Ua,{}),children:[s.jsx(lt,{index:!0,element:s.jsx(TR,{})})," ",s.jsx(lt,{path:"/dashboard",element:s.jsx(TR,{})})]}),s.jsx(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:s.jsx(lt,{path:"/audittrail",element:s.jsx(ZIe,{})})}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/workflowapproval",element:s.jsx(eLe,{})}),s.jsx(lt,{path:"/workflowapproval/monitoringapproval",element:s.jsx(tLe,{})}),s.jsx(lt,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:s.jsx(O$e,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/worklocation",element:s.jsx(hNe,{})}),s.jsx(lt,{path:"/worklocation/department",element:s.jsx(mLe,{})}),s.jsx(lt,{path:"/worklocation/department/adddepartment",element:s.jsx(gLe,{})}),s.jsx(lt,{path:"/worklocation/department/editdepartment/:id",element:s.jsx(yLe,{})}),s.jsx(lt,{path:"/worklocation/workunit",element:s.jsx(e$e,{})}),s.jsx(lt,{path:"/worklocation/workunit/addworkunit",element:s.jsx(XLe,{})}),s.jsx(lt,{path:"/worklocation/workunit/editworkunit/:id",element:s.jsx(QLe,{})}),s.jsx(lt,{path:"/worklocation/workgroup",element:s.jsx(Dz,{})}),s.jsx(lt,{path:"/worklocation/workgroup/addworkgroup",element:s.jsx(Oz,{})}),s.jsx(lt,{path:"/worklocation/workgroup/editworkgroup/:id",element:s.jsx(Az,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/workarrangement",element:s.jsx(mNe,{})}),s.jsx(lt,{path:"/workarrangement/workshift",element:s.jsx(c$e,{})}),s.jsx(lt,{path:"/workarrangement/workshift/addworkshift",element:s.jsx(o$e,{})}),s.jsx(lt,{path:"/workarrangement/workshift/editworkshift/:id",element:s.jsx(s$e,{})}),s.jsx(lt,{path:"/workarrangement/workgroup",element:s.jsx(Dz,{})}),s.jsx(lt,{path:"/workarrangement/workgroup/addworkgroup",element:s.jsx(Oz,{})}),s.jsx(lt,{path:"/workarrangement/workgroup/editworkgroup/:id",element:s.jsx(Az,{})})]}),s.jsx(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:s.jsx(lt,{path:"/sparepart",element:s.jsx(pNe,{})})}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/assets",element:s.jsx(gNe,{})}),s.jsx(lt,{path:"/assets/assetsdata",element:s.jsx(Jce,{})}),s.jsx(lt,{path:"/assets/assetsdata/addasset",element:s.jsx(eNe,{})}),s.jsx(lt,{path:"/assets/assetsdata/editasset/:id",element:s.jsx(tNe,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/vendors",element:s.jsx(w$e,{})}),s.jsx(lt,{path:"/vendors/addvendor",element:s.jsx(S$e,{})}),s.jsx(lt,{path:"/vendors/editvendor/:id",element:s.jsx(k$e,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/services",element:s.jsx(xNe,{})}),s.jsx(lt,{path:"/services/servicegroups",element:s.jsx(rLe,{})}),s.jsx(lt,{path:"/services/servicegroups/addservicegroup",element:s.jsx(iLe,{})}),s.jsx(lt,{path:"/services/servicegroups/editservicegroup/:id",element:s.jsx(lLe,{})}),s.jsx(lt,{path:"/services/servicecatalogues",element:s.jsx(aLe,{})}),s.jsx(lt,{path:"/services/servicecatalogues/addservicecatalogue",element:s.jsx(fLe,{})}),s.jsx(lt,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:s.jsx(uLe,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/maintenanceactivity",element:s.jsx(yNe,{})}),s.jsx(lt,{path:"/maintenanceactivity/stoptimes",element:s.jsx(vLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/stoptimes/addstoptime",element:s.jsx(jLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:s.jsx(NLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/activitytypes",element:s.jsx(CLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:s.jsx(kz,{})}),s.jsx(lt,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:s.jsx(MLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/activity",element:s.jsx(ULe,{})}),s.jsx(lt,{path:"/maintenanceactivity/activity/addactivity",element:s.jsx(VLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/activity/editactivity/:id",element:s.jsx(BLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/troubleitem",element:s.jsx(GLe,{})}),s.jsx(lt,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:s.jsx(_z,{})}),s.jsx(lt,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:s.jsx(_z,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_machinehistory"]}),children:[s.jsx(lt,{path:"/machinehistory",element:s.jsx(spe,{})}),s.jsx(lt,{path:"/machinehistory/reports",element:s.jsx(JIe,{})}),s.jsx(lt,{path:"/machinehistory/addmachinehistory",element:s.jsx(WSe,{})}),s.jsx(lt,{path:"/machinehistory/edit/:id",element:s.jsx(YSe,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_assets"]}),children:[s.jsx(lt,{path:"/monitoringmaintenance",element:s.jsx(Iz,{})}),s.jsx(lt,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:s.jsx(_$e,{})}),s.jsx(lt,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:s.jsx(d$e,{})}),s.jsx(lt,{path:"/monitoringmaintenance",element:s.jsx(Iz,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_workorders"]}),children:[s.jsx(lt,{path:"/workorders",element:s.jsx(fNe,{})}),s.jsx(lt,{path:"/workorders/it",element:s.jsx(ELe,{})}),s.jsx(lt,{path:"/workorders/it/addworkorder",element:s.jsx(dNe,{})}),s.jsx(lt,{path:"/workorders/it/editworkorder/:id",element:s.jsx(PLe,{})}),s.jsx(lt,{path:"/workorders/it/receiver",element:s.jsx(aNe,{})}),s.jsx(lt,{path:"/workorders/it/receiver/editreceiver/:id",element:s.jsx(ILe,{})}),s.jsx(lt,{path:"/workorders/it/assignment",element:s.jsx(LLe,{})}),s.jsx(lt,{path:"/workorders/it/assignment/editassignment/:id",element:s.jsx(FLe,{})}),s.jsx(lt,{path:"/workorders/it/reports",element:s.jsx(h$e,{})}),s.jsx(lt,{path:"/workorders/it/knowledgebase",element:s.jsx(iNe,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_settings"]}),children:[s.jsx(lt,{path:"/settings",element:s.jsx(Qce,{})}),s.jsx(lt,{path:"/settings/change-password",element:s.jsx(XSe,{})})]}),s.jsxs(lt,{element:s.jsx(Ua,{requiredPermissions:["view_permissions"]}),children:[s.jsx(lt,{path:"/permissions",element:s.jsx(KSe,{})}),s.jsx(lt,{path:"/permissions/adduser",element:s.jsx(ZSe,{})})]}),s.jsx(lt,{path:"/logout",element:s.jsx(Kce,{})}),s.jsx(lt,{path:"*",element:s.jsx(E$e,{})})]})})}const P$e=Lee.createRoot(document.getElementById("root"));P$e.render(s.jsx(X.StrictMode,{children:s.jsx(Zte,{children:s.jsx(ure,{children:s.jsx(D$e,{})})})}));
