const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-dAQrvOLf.js","assets/projectEnvVariables-BdSAgEbo.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{g as n}from"./projectEnvVariables-BdSAgEbo.js";function r(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s,o,l,c,d={exports:{}},u={},h=(o||(o=1,d.exports=function(){if(s)return u;s=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return u.Fragment=t,u.jsx=n,u.jsxs=n,u}()),d.exports),p={exports:{}},m={};function f(){if(l)return m;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var w=v.prototype=new y;w.constructor=v,g(w,b.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(t,n,r){var i=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==i?i:null,props:r}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var _=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function T(n,r,i,a,s){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l,c,d=!1;if(null===n)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case e:case t:d=!0;break;case u:return T((d=n._init)(n._payload),r,i,a,s)}}if(d)return s=s(n),d=""===a?"."+E(n,0):a,j(s)?(i="",null!=d&&(i=d.replace(_,"$&/")+"/"),T(s,r,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||n&&n.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+d,s=A(l.type,c,l.props)),r.push(s)),1;d=0;var h,m=""===a?".":a+":";if(j(n))for(var f=0;f<n.length;f++)d+=T(a=n[f],r,i,o=m+E(a,f),s);else if("function"==typeof(f=null===(h=n)||"object"!=typeof h?null:"function"==typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(n=f.call(n),f=0;!(a=n.next()).done;)d+=T(a=a.value,r,i,o=m+E(a,f++),s);else if("object"===o){if("function"==typeof n.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,s);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return d}function O(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},P={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return m.Activity=h,m.Children=P,m.Component=b,m.Fragment=n,m.Profiler=i,m.PureComponent=v,m.StrictMode=r,m.Suspense=c,m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,m.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},m.cache=function(e){return function(){return e.apply(null,arguments)}},m.cacheSignal=function(){return null},m.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return A(e.type,i,r)},m.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},m.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return A(e,a,i)},m.createRef=function(){return{current:null}},m.forwardRef=function(e){return{$$typeof:o,render:e}},m.isValidElement=C,m.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:M}},m.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},m.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(N,D)}catch(a){D(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},m.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},m.use=function(e){return k.H.use(e)},m.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},m.useCallback=function(e,t){return k.H.useCallback(e,t)},m.useContext=function(e){return k.H.useContext(e)},m.useDebugValue=function(){},m.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},m.useEffect=function(e,t){return k.H.useEffect(e,t)},m.useEffectEvent=function(e){return k.H.useEffectEvent(e)},m.useId=function(){return k.H.useId()},m.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},m.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},m.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},m.useMemo=function(e,t){return k.H.useMemo(e,t)},m.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},m.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},m.useRef=function(e){return k.H.useRef(e)},m.useState=function(e){return k.H.useState(e)},m.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},m.useTransition=function(){return k.H.useTransition()},m.version="19.2.0",m}function g(){return c||(c=1,p.exports=f()),p.exports}var x=g();const b=a(x),y=r({__proto__:null,default:b},[x]);var v,w,j={exports:{}},N={},k={exports:{}},S={};var A,C,_,E,T={exports:{}},O={};function M(){return C||(C=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),T.exports=function(){if(A)return O;A=1;var e=g();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return O.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,O.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},O.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},O.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},O.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},O.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},O.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=s(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},O.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=s(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},O.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=s(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},O.requestFormReset=function(e){r.d.r(e)},O.unstable_batchedUpdates=function(e,t){return e(t)},O.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},O.useFormStatus=function(){return a.H.useHostTransitionStatus()},O.version="19.2.0",O}()),T.exports}const D=a((E||(E=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),j.exports=function(){if(_)return N;_=1;var e=(w||(w=1,k.exports=(v||(v=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,u=null,h=3,p=!1,m=!1,f=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(f=!1,v(e),!m)if(null!==n(l))m=!0,N||(N=!0,j());else{var t=n(c);null!==t&&O(w,t.startTime-e)}}var j,N=!1,k=-1,S=5,A=-1;function C(){return!(!g&&e.unstable_now()-A<S)}function _(){if(g=!1,N){var t=e.unstable_now();A=t;var i=!0;try{e:{m=!1,f&&(f=!1,b(k),k=-1),p=!0;var a=h;try{t:{for(v(t),u=n(l);null!==u&&!(u.expirationTime>t&&C());){var s=u.callback;if("function"==typeof s){u.callback=null,h=u.priorityLevel;var o=s(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){u.callback=o,v(t),i=!0;break t}u===n(l)&&r(l),v(t)}else r(l);u=n(l)}if(null!==u)i=!0;else{var d=n(c);null!==d&&O(w,d.startTime-t),i=!1}}break e}finally{u=null,h=a,p=!1}i=void 0}}finally{i?j():N=!1}}}if("function"==typeof y)j=function(){y(_)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,T=E.port2;E.port1.onmessage=_,j=function(){T.postMessage(null)}}else j=function(){x(_,0)};function O(t,n){k=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:d++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(f?(b(k),k=-1):f=!0,O(w,a-s))):(r.sortIndex=o,t(l,r),m||p||(m=!0,N||(N=!0,j()))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(S)),S)),k.exports),t=g(),n=M();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function s(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function l(e){if(a(e)!==e)throw Error(r(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var d=Object.assign,u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case x:return"Profiler";case f:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList";case O:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case y:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var F=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},W=[],U=-1;function V(e){return{current:e}}function $(e){0>U||(e.current=W[U],W[U]=null,U--)}function q(e,t){U++,W[U]=e.current,e.current=t}var G,Y,Q=V(null),K=V(null),J=V(null),X=V(null);function Z(e,t){switch(q(J,t),q(K,e),q(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ju(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=Nu(t=ju(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(Q),q(Q,e)}function ee(){$(Q),$(K),$(J)}function te(e){null!==e.memoizedState&&q(X,e);var t=Q.current,n=Nu(t,e.type);t!==n&&(q(K,e),q(Q,n))}function ne(e){K.current===e&&($(Q),$(K)),X.current===e&&($(X),fh._currentValue=z)}function re(e){if(void 0===G)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||"",Y=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+G+e+Y}var ie=!1;function ae(e,t){if(!e||ie)return"";ie=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=i);break}}}finally{ie=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?re(n):""}function se(e,t){switch(e.tag){case 26:case 27:case 5:return re(e.type);case 16:return re("Lazy");case 13:return e.child!==t&&null!==t?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return ae(e.type,!1);case 11:return ae(e.type.render,!1);case 1:return ae(e.type,!0);case 31:return re("Activity");default:return""}}function oe(e){try{var t="",n=null;do{t+=se(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var le=Object.prototype.hasOwnProperty,ce=e.unstable_scheduleCallback,de=e.unstable_cancelCallback,ue=e.unstable_shouldYield,he=e.unstable_requestPaint,pe=e.unstable_now,me=e.unstable_getCurrentPriorityLevel,fe=e.unstable_ImmediatePriority,ge=e.unstable_UserBlockingPriority,xe=e.unstable_NormalPriority,be=e.unstable_LowPriority,ye=e.unstable_IdlePriority,ve=e.log,we=e.unstable_setDisableYieldValue,je=null,Ne=null;function ke(e){if("function"==typeof ve&&we(e),Ne&&"function"==typeof Ne.setStrictMode)try{Ne.setStrictMode(je,e)}catch(t){}}var Se=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Ae(e)/Ce|0)|0},Ae=Math.log,Ce=Math.LN2,_e=256,Ee=262144,Te=4194304;function Oe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Me(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=Oe(r):0!==(s&=o)?i=Oe(s):n||0!==(n=o&~e)&&(i=Oe(n)):0!==(o=r&~a)?i=Oe(o):0!==s?i=Oe(s):n||0!==(n=r&~e)&&(i=Oe(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function De(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Te;return!(62914560&(Te<<=1))&&(Te=4194304),e}function Le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Se(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Be(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Se(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function He(e,t){var n=t&-t;return 0!==((n=42&n?1:ze(n))&(e.suspendedLanes|t))?0:n}function ze(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function We(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ue(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:Oh(e.type)}function Ve(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}var $e=Math.random().toString(36).slice(2),qe="__reactFiber$"+$e,Ge="__reactProps$"+$e,Ye="__reactContainer$"+$e,Qe="__reactEvents$"+$e,Ke="__reactListeners$"+$e,Je="__reactHandles$"+$e,Xe="__reactResources$"+$e,Ze="__reactMarker$"+$e;function et(e){delete e[qe],delete e[Ge],delete e[Qe],delete e[Ke],delete e[Je]}function tt(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ye]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zu(e);null!==e;){if(n=e[qe])return n;e=zu(e)}return t}n=(e=n).parentNode}return null}function nt(e){if(e=e[qe]||e[Ye]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function rt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function it(e){var t=e[Xe];return t||(t=e[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[Ze]=!0}var st=new Set,ot={};function lt(e,t){ct(e,t),ct(e+"Capture",t)}function ct(e,t){for(ot[e]=t,e=0;e<t.length;e++)st.add(t[e])}var dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ut={},ht={};function pt(e,t,n){if(i=t,le.call(ht,i)||!le.call(ut,i)&&(dt.test(i)?ht[i]=!0:(ut[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function mt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ft(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function xt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function bt(e){if(!e._valueTracker){var t=xt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function yt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function vt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Dw){return e.body}}var wt=/[\n"\\]/g;function jt(e){return e.replace(wt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Nt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+gt(t)):e.value!==""+gt(t)&&(e.value=""+gt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?St(e,s,gt(t)):null!=n?St(e,s,gt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+gt(o):e.removeAttribute("name")}function kt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return void bt(e);n=null!=n?""+gt(n):"",t=null!=t?""+gt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s),bt(e)}function St(e,t,n){"number"===t&&vt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function At(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ct(e,t,n){null==t||((t=""+gt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+gt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(F(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=gt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),bt(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ot(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Mt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Ot(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&Ot(e,s,t[s])}function Dt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Ft=null;function Bt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ht=null,zt=null;function Wt(e){var t=nt(e);if(t&&(e=t.stateNode)){var n=e[Ge]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Ge]||null;if(!a)throw Error(r(90));Nt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&yt(i)}break e;case"textarea":Ct(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&At(e,!!n.multiple,t,!1)}}}var Ut=!1;function Vt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Ht||null!==zt)&&(id(),Ht&&(t=Ht,e=zt,zt=Ht=null,Wt(t),e)))for(t=0;t<e.length;t++)Wt(e[t])}}function $t(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Ge]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Gt=!1;if(qt)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch(Dw){Gt=!1}var Qt=null,Kt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,sn,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(on),cn=d({},on,{view:0,detail:0}),dn=nn(cn),un=d({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(rn=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=rn=0,sn=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(un),pn=nn(d({},un,{dataTransfer:0})),mn=nn(d({},cn,{relatedTarget:0})),fn=nn(d({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=nn(d({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=nn(d({},on,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function jn(){return wn}var Nn=nn(d({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=nn(d({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=nn(d({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),An=nn(d({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=nn(d({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=nn(d({},on,{newState:0,oldState:0})),En=[9,13,27,32],Tn=qt&&"CompositionEvent"in window,On=null;qt&&"documentMode"in document&&(On=document.documentMode);var Mn=qt&&"TextEvent"in window&&!On,Dn=qt&&(!Tn||On&&8<On&&11>=On),Pn=String.fromCharCode(32),In=!1;function Ln(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function zn(e,t,n,r){Ht?zt?zt.push(r):zt=[r]:Ht=r,0<(t=lu(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Un=null;function Vn(e){eu(e,0)}function $n(e){if(yt(rt(e)))return e}function qn(e,t){if("change"===e)return t}var Gn=!1;if(qt){var Yn;if(qt){var Qn="oninput"in document;if(!Qn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Qn="function"==typeof Kn.oninput}Yn=Qn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function Jn(){Wn&&(Wn.detachEvent("onpropertychange",Xn),Un=Wn=null)}function Xn(e){if("value"===e.propertyName&&$n(Un)){var t=[];zn(t,Un,e,Bt(e)),Vt(Vn,t)}}function Zn(e,t,n){"focusin"===e?(Jn(),Un=n,(Wn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Un)}function tr(e,t){if("click"===e)return $n(t)}function nr(e,t){if("input"===e||"change"===e)return $n(t)}var rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ir(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!le.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(e){for(var t=vt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=vt((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var dr=qt&&"documentMode"in document&&11>=document.documentMode,ur=null,hr=null,pr=null,mr=!1;function fr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==ur||ur!==vt(r)||(r="selectionStart"in(r=ur)&&cr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=lu(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},br={},yr={};function vr(e){if(br[e])return br[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return br[e]=n[t];return e}qt&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var wr=vr("animationend"),jr=vr("animationiteration"),Nr=vr("animationstart"),kr=vr("transitionrun"),Sr=vr("transitionstart"),Ar=vr("transitioncancel"),Cr=vr("transitionend"),_r=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){_r.set(e,t),lt(t,[e])}Er.push("scrollEnd");var Or="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Mr=[],Dr=0,Pr=0;function Ir(){for(var e=Dr,t=Pr=Dr=0;t<e;){var n=Mr[t];Mr[t++]=null;var r=Mr[t];Mr[t++]=null;var i=Mr[t];Mr[t++]=null;var a=Mr[t];if(Mr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Br(n,i,a)}}function Lr(e,t,n,r){Mr[Dr++]=e,Mr[Dr++]=t,Mr[Dr++]=n,Mr[Dr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Lr(e,t,n,r),Hr(e)}function Fr(e,t){return Lr(e,null,null,t),Hr(e)}function Br(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-Se(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Hr(e){if(50<Qc)throw Qc=0,Kc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var zr={};function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new Wr(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $r(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gr(e,t,n,i,a,s){var o=0;if(i=e,"function"==typeof e)Vr(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case O:return(e=Ur(31,n,t,a)).elementType=O,e.lanes=s,e;case m:return Yr(n.children,a,s,t);case f:o=8,a|=24;break;case x:return(e=Ur(12,n,t,2|a)).elementType=x,e.lanes=s,e;case A:return(e=Ur(13,n,t,a)).elementType=A,e.lanes=s,e;case C:return(e=Ur(19,n,t,a)).elementType=C,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:o=10;break e;case b:o=9;break e;case j:o=11;break e;case E:o=14;break e;case T:o=16,i=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Ur(o,n,t,a)).elementType=e,t.type=i,t.lanes=s,t}function Yr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Qr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Kr(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function Jr(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=new WeakMap;function Zr(e,t){if("object"==typeof e&&null!==e){var n=Xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:oe(t)},Xr.set(e,t),t)}return{value:e,source:t,stack:oe(t)}}var ei=[],ti=0,ni=null,ri=0,ii=[],ai=0,si=null,oi=1,li="";function ci(e,t){ei[ti++]=ri,ei[ti++]=ni,ni=e,ri=t}function di(e,t,n){ii[ai++]=oi,ii[ai++]=li,ii[ai++]=si,si=e;var r=oi;e=li;var i=32-Se(r)-1;r&=~(1<<i),n+=1;var a=32-Se(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oi=1<<32-Se(t)+i|n<<i|r,li=a+e}else oi=1<<a|n<<i|r,li=e}function ui(e){null!==e.return&&(ci(e,1),di(e,1,0))}function hi(e){for(;e===ni;)ni=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null;for(;e===si;)si=ii[--ai],ii[ai]=null,li=ii[--ai],ii[ai]=null,oi=ii[--ai],ii[ai]=null}function pi(e,t){ii[ai++]=oi,ii[ai++]=li,ii[ai++]=si,oi=t.id,li=t.overflow,si=e}var mi=null,fi=null,gi=!1,xi=null,bi=!1,yi=Error(r(519));function vi(e){throw Ai(Zr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),yi}function wi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[Ge]=r,n){case"dialog":tu("cancel",t),tu("close",t);break;case"iframe":case"object":case"embed":tu("load",t);break;case"video":case"audio":for(n=0;n<Xd.length;n++)tu(Xd[n],t);break;case"source":tu("error",t);break;case"img":case"image":case"link":tu("error",t),tu("load",t);break;case"details":tu("toggle",t);break;case"input":tu("invalid",t),kt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":tu("invalid",t);break;case"textarea":tu("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||mu(t.textContent,n)?(null!=r.popover&&(tu("beforetoggle",t),tu("toggle",t)),null!=r.onScroll&&tu("scroll",t),null!=r.onScrollEnd&&tu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||vi(e,!0)}function ji(e){for(mi=e.return;mi;)switch(mi.tag){case 5:case 31:case 13:return void(bi=!1);case 27:case 3:return void(bi=!0);default:mi=mi.return}}function Ni(e){if(e!==mi)return!1;if(!gi)return ji(e),gi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ku(e.type,e.memoizedProps)),t=!t),t&&fi&&vi(e),ji(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fi=Hu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));fi=Hu(e)}else 27===n?(n=fi,Ou(e.type)?(e=Bu,Bu=null,fi=e):fi=n):fi=mi?Fu(e.stateNode.nextSibling):null;return!0}function ki(){fi=mi=null,gi=!1}function Si(){var e=xi;return null!==e&&(null===Ic?Ic=e:Ic.push.apply(Ic,e),xi=null),e}function Ai(e){null===xi?xi=[e]:xi.push(e)}var Ci=V(null),_i=null,Ei=null;function Ti(e,t,n){q(Ci,t._currentValue),t._currentValue=n}function Oi(e){e._currentValue=Ci.current,$(Ci)}function Mi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Di(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Mi(s.return,n,e),i||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Mi(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Pi(e,t,n,i){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(524288&a.flags)s=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=a.type;rr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===X.current){if(null===(o=a.alternate))throw Error(r(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(fh):e=[fh])}a=a.return}null!==e&&Di(t,e,n,i),t.flags|=262144}function Ii(e){for(e=e.firstContext;null!==e;){if(!rr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Li(e){_i=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Bi(_i,e)}function Fi(e,t){return null===_i&&Li(e),Bi(e,t)}function Bi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(r(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Hi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},zi=e.unstable_scheduleCallback,Wi=e.unstable_NormalPriority,Ui={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Hi,data:new Map,refCount:0}}function $i(e){e.refCount--,0===e.refCount&&zi(Wi,function(){e.controller.abort()})}var qi=null,Gi=0,Yi=0,Qi=null;function Ki(){if(0===--Gi&&null!==qi){null!==Qi&&(Qi.status="fulfilled");var e=qi;qi=null,Yi=0,Qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ji=B.S;B.S=function(e,t){Fc=pe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qi){var n=qi=[];Gi=0,Yi=Gd(),Qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Gi++,t.then(Ki,Ki)}(0,t),null!==Ji&&Ji(e,t)};var Xi=V(null);function Zi(){var e=Xi.current;return null!==e?e:yc.pooledCache}function ea(e,t){q(Xi,null===t?Xi.current:t.pool)}function ta(){var e=Zi();return null===e?null:{parent:Ui._currentValue,pool:e}}var na=Error(r(460)),ra=Error(r(474)),ia=Error(r(542)),aa={then:function(){}};function sa(e){return"fulfilled"===(e=e.status)||"rejected"===e}function oa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ua(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=yc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ua(e=t.reason),e}throw ca=t,na}}function la(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ca=t,na;throw t}}var ca=null;function da(){if(null===ca)throw Error(r(459));var e=ca;return ca=null,e}function ua(e){if(e===na||e===ia)throw Error(r(483))}var ha=null,pa=0;function ma(e){var t=pa;return pa+=1,null===ha&&(ha=[]),oa(ha,e,t)}function fa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ga(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=$r(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Qr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===m?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===T&&la(i)===t.type)?(fa(t=a(t,n.props),n),t.return=e,t):(fa(t=Gr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Yr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return fa(n=Gr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Jr(t,e.mode,n)).return=e,t;case T:return f(e,t=la(t),n)}if(F(t)||I(t))return(t=Yr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,ma(t),n);if(t.$$typeof===y)return f(e,Fi(e,t),n);ga(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?c(e,t,n,r):null;case p:return n.key===i?d(e,t,n,r):null;case T:return g(e,t,n=la(n),r)}if(F(n)||I(n))return null!==i?null:u(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,ma(n),r);if(n.$$typeof===y)return g(e,t,Fi(e,n),r);ga(e,n)}return null}function x(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case p:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return x(e,t,n,r=la(r),i)}if(F(r)||I(r))return u(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return x(e,t,n,ma(r),i);if(r.$$typeof===y)return x(e,t,n,Fi(t,r),i);ga(t,r)}return null}function b(l,c,d,u){if("object"==typeof d&&null!==d&&d.type===m&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===m){if(7===c.tag){n(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===T&&la(v)===c.type){n(l,c.sibling),fa(u=a(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===m?((u=Yr(d.props.children,l.mode,u,d.key)).return=l,l=u):(fa(u=Gr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case p:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Jr(d,l.mode,u)).return=l,l=u}return o(l);case T:return b(l,c,d=la(d),u)}if(F(d))return function(r,a,o,l){for(var c=null,d=null,u=a,h=a=0,p=null;null!==u&&h<o.length;h++){u.index>h?(p=u,u=null):p=u.sibling;var m=g(r,u,o[h],l);if(null===m){null===u&&(u=p);break}e&&u&&null===m.alternate&&t(r,u),a=s(m,a,h),null===d?c=m:d.sibling=m,d=m,u=p}if(h===o.length)return n(r,u),gi&&ci(r,h),c;if(null===u){for(;h<o.length;h++)null!==(u=f(r,o[h],l))&&(a=s(u,a,h),null===d?c=u:d.sibling=u,d=u);return gi&&ci(r,h),c}for(u=i(u);h<o.length;h++)null!==(p=x(u,r,h,o[h],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?h:p.key),a=s(p,a,h),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach(function(e){return t(r,e)}),gi&&ci(r,h),c}(l,c,d,u);if(I(d)){if("function"!=typeof(v=I(d)))throw Error(r(150));return function(a,o,l,c){if(null==l)throw Error(r(151));for(var d=null,u=null,h=o,p=o=0,m=null,b=l.next();null!==h&&!b.done;p++,b=l.next()){h.index>p?(m=h,h=null):m=h.sibling;var y=g(a,h,b.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(a,h),o=s(y,o,p),null===u?d=y:u.sibling=y,u=y,h=m}if(b.done)return n(a,h),gi&&ci(a,p),d;if(null===h){for(;!b.done;p++,b=l.next())null!==(b=f(a,b.value,c))&&(o=s(b,o,p),null===u?d=b:u.sibling=b,u=b);return gi&&ci(a,p),d}for(h=i(h);!b.done;p++,b=l.next())null!==(b=x(h,a,p,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?p:b.key),o=s(b,o,p),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach(function(e){return t(a,e)}),gi&&ci(a,p),d}(l,c,d=v.call(d),u)}if("function"==typeof d.then)return b(l,c,ma(d),u);if(d.$$typeof===y)return b(l,c,Fi(l,d),u);ga(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=a(c,d)).return=l,l=u):(n(l,c),(u=Qr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{pa=0;var i=b(e,t,n,r);return ha=null,i}catch(s){if(s===na||s===ia)throw s;var a=Ur(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var ba=xa(!0),ya=xa(!1),va=!1;function wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&bc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Hr(e),Br(e,null,n),t}return Lr(e,r,t,n),Hr(e)}function Sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ca=!1;function _a(){if(Ca&&null!==Qi)throw Qi}function Ea(e,t,n,r){Ca=!1;var i=e.updateQueue;va=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&(o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(s=0,u=c=l=null,o=a;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(wc&p)===p:(r&p)===p){0!==p&&p===Yi&&(Ca=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var x=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(x,h,p);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=g.payload)?f.call(x,h,p):f))break e;h=d({},h,p);break e;case 2:va=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=h):u=u.next=m,s|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(m=o).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Ec|=s,e.lanes=s,e.memoizedState=h}}function Ta(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Oa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ta(n[e],t)}var Ma=V(null),Da=V(0);function Pa(e,t){q(Da,e=Cc),q(Ma,t),Cc=e|t.baseLanes}function Ia(){q(Da,Cc),q(Ma,Ma.current)}function La(){Cc=Da.current,$(Ma),$(Da)}var Ra=V(null),Fa=null;function Ba(e){var t=e.alternate;q(Va,1&Va.current),q(Ra,e),null===Fa&&(null===t||null!==Ma.current||null!==t.memoizedState)&&(Fa=e)}function Ha(e){q(Va,Va.current),q(Ra,e),null===Fa&&(Fa=e)}function za(e){22===e.tag?(q(Va,Va.current),q(Ra,e),null===Fa&&(Fa=e)):Wa()}function Wa(){q(Va,Va.current),q(Ra,Ra.current)}function Ua(e){$(Ra),Fa===e&&(Fa=null),$(Va)}var Va=V(0);function $a(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Lu(n)||Ru(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=0,Ga=null,Ya=null,Qa=null,Ka=!1,Ja=!1,Xa=!1,Za=0,es=0,ts=null,ns=0;function rs(){throw Error(r(321))}function is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function as(e,t,n,r,i,a){return qa=a,Ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?wo:jo,Xa=!1,a=n(r,i),Xa=!1,Ja&&(a=os(t,n,r,i)),ss(e),a}function ss(e){B.H=vo;var t=null!==Ya&&null!==Ya.next;if(qa=0,Qa=Ya=Ga=null,Ka=!1,es=0,ts=null,t)throw Error(r(300));null===e||Fo||null!==(e=e.dependencies)&&Ii(e)&&(Fo=!0)}function os(e,t,n,i){Ga=e;var a=0;do{if(Ja&&(ts=null),es=0,Ja=!1,25<=a)throw Error(r(301));if(a+=1,Qa=Ya=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}B.H=No,s=t(n,i)}while(Ja);return s}function ls(){var e=B.H,t=e.useState()[0];return t="function"==typeof t.then?ms(t):t,e=e.useState()[0],(null!==Ya?Ya.memoizedState:null)!==e&&(Ga.flags|=1024),t}function cs(){var e=0!==Za;return Za=0,e}function ds(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function us(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}qa=0,Qa=Ya=Ga=null,Ja=!1,es=Za=0,ts=null}function hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qa?Ga.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function ps(){if(null===Ya){var e=Ga.alternate;e=null!==e?e.memoizedState:null}else e=Ya.next;var t=null===Qa?Ga.memoizedState:Qa.next;if(null!==t)Qa=t,Ya=e;else{if(null===e){if(null===Ga.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Ya=e).memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},null===Qa?Ga.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function ms(e){var t=es;return es+=1,null===ts&&(ts=[]),e=oa(ts,e,t),t=Ga,null===(null===Qa?t.memoizedState:Qa.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?wo:jo),e}function fs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ms(e);if(e.$$typeof===y)return Ri(e)}throw Error(r(438,String(e)))}function gs(e){var t=null,n=Ga.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ga.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ga.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=D;return t.index++,n}function xs(e,t){return"function"==typeof t?t(e):t}function bs(e){return ys(ps(),Ya,e)}function ys(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(wc&h)===h:(qa&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Yi&&(u=!0);else{if((qa&p)===p){d=d.next,p===Yi&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Ga.lanes|=p,Ec|=p}h=d.action,Xa&&n(s,h),s=d.hasEagerState?d.eagerState:n(s,h)}else p={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,Ga.lanes|=h,Ec|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=s:c.next=l,!rr(s,e.memoizedState)&&(Fo=!0,u&&null!==(n=Qi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,i.lastRenderedState=s}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function vs(e){var t=ps(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);rr(s,t.memoizedState)||(Fo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function ws(e,t,n){var i=Ga,a=ps(),s=gi;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!rr((Ya||a).memoizedState,n);if(o&&(a.memoizedState=n,Fo=!0),a=a.queue,qs(ks.bind(null,i,a,e),[e]),a.getSnapshot!==t||o||null!==Qa&&1&Qa.memoizedState.tag){if(i.flags|=2048,zs(9,{destroy:void 0},Ns.bind(null,i,a,n,t),null),null===yc)throw Error(r(349));s||127&qa||js(i,t,n)}return n}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ga.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,r){t.value=n,t.getSnapshot=r,Ss(t)&&As(e)}function ks(e,t,n){return n(function(){Ss(t)&&As(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function As(e){var t=Fr(e,2);null!==t&&Zc(t,0,2)}function Cs(e){var t=hs();if("function"==typeof e){var n=e;if(e=n(),Xa){ke(!0);try{n()}finally{ke(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t}function _s(e,t,n,r){return e.baseState=n,ys(e,Ya,"function"==typeof r?r:xs)}function Es(e,t,n,i,a){if(xo(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==B.T?n(!0):s.isTransition=!1,i(s),null===(n=t.pending)?(s.next=t.pending=s,Ts(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=B.T,s={};B.T=s;try{var o=n(i,r),l=B.S;null!==l&&l(s,o),Os(e,t,o)}catch(c){Ds(e,t,c)}finally{null!==a&&null!==s.types&&(a.types=s.types),B.T=a}}else try{Os(e,t,a=n(i,r))}catch(d){Ds(e,t,d)}}function Os(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ms(e,t,n)},function(n){return Ds(e,t,n)}):Ms(e,t,n)}function Ms(e,t,n){t.status="fulfilled",t.value=n,Ps(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ts(e,n)))}function Ds(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ps(t),t=t.next}while(t!==r)}e.action=null}function Ps(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Is(e,t){return t}function Ls(e,t){if(gi){var n=yc.formState;if(null!==n){e:{var r=Ga;if(gi){if(fi){t:{for(var i=fi,a=bi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Fu(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){fi=Fu(i.nextSibling),r="F!"===i.data;break e}}vi(r)}r=!1}r&&(t=n[0])}}return(n=hs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},n.queue=r,n=mo.bind(null,Ga,r),r.dispatch=n,r=Cs(!1),a=go.bind(null,Ga,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=hs()).queue=i,n=Es.bind(null,Ga,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rs(e){return Fs(ps(),Ya,e)}function Fs(e,t,n){if(t=ys(e,t,Is)[0],e=bs(xs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ms(t)}catch(s){if(s===na)throw ia;throw s}else r=t;var i=(t=ps()).queue,a=i.dispatch;return n!==t.memoizedState&&(Ga.flags|=2048,zs(9,{destroy:void 0},Bs.bind(null,i,n),null)),[r,a,e]}function Bs(e,t){e.action=t}function Hs(e){var t=ps(),n=Ya;if(null!==n)return Fs(t,n,e);ps(),t=t.memoizedState;var r=(n=ps()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function zs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ga.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ga.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ws(){return ps().memoizedState}function Us(e,t,n,r){var i=hs();Ga.flags|=e,i.memoizedState=zs(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vs(e,t,n,r){var i=ps();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ya&&null!==r&&is(r,Ya.memoizedState.deps)?i.memoizedState=zs(t,a,n,r):(Ga.flags|=e,i.memoizedState=zs(1|t,a,n,r))}function $s(e,t){Us(8390656,8,e,t)}function qs(e,t){Vs(2048,8,e,t)}function Gs(e){var t=ps().memoizedState;return function(e){Ga.flags|=4;var t=Ga.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ga.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&bc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Ys(e,t){return Vs(4,2,e,t)}function Qs(e,t){return Vs(4,4,e,t)}function Ks(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Js(e,t,n){n=null!=n?n.concat([e]):null,Vs(4,4,Ks.bind(null,t,e),n)}function Xs(){}function Zs(e,t){var n=ps();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eo(e,t){var n=ps();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&is(t,r[1]))return r[0];if(r=e(),Xa){ke(!0);try{e()}finally{ke(!1)}}return n.memoizedState=[r,t],r}function to(e,t,n){return void 0===n||1073741824&qa&&!(261930&wc)?e.memoizedState=t:(e.memoizedState=n,e=Xc(),Ga.lanes|=e,Ec|=e,n)}function no(e,t,n,r){return rr(n,t)?n:null!==Ma.current?(e=to(e,n,r),rr(e,t)||(Fo=!0),e):42&qa&&(!(1073741824&qa)||261930&wc)?(e=Xc(),Ga.lanes|=e,Ec|=e,t):(Fo=!0,e.memoizedState=n)}function ro(e,t,n,r,i){var a=H.p;H.p=0!==a&&8>a?a:8;var s,o,l,c=B.T,d={};B.T=d,go(e,!1,t,n);try{var u=i(),h=B.S;null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then?fo(e,t,(s=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},u.then(function(){l.status="fulfilled",l.value=s;for(var e=0;e<o.length;e++)(0,o[e])(s)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Jc()):fo(e,t,r,Jc())}catch(p){fo(e,t,{then:function(){},status:"rejected",reason:p},Jc())}finally{H.p=a,null!==c&&null!==d.types&&(c.types=d.types),B.T=c}}function io(){}function ao(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=so(e).queue;ro(e,a,t,z,null===n?io:function(){return oo(e),n(i)})}function so(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function oo(e){var t=so(e);null===t.next&&(t=e.alternate.memoizedState),fo(e,t.next.queue,{},Jc())}function lo(){return Ri(fh)}function co(){return ps().memoizedState}function uo(){return ps().memoizedState}function ho(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Jc(),r=ka(t,e=Na(n),n);return null!==r&&(Zc(r,0,n),Sa(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function po(e,t,n){var r=Jc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},xo(e)?bo(t,n):null!==(n=Rr(e,t,n,r))&&(Zc(n,0,r),yo(n,t,r))}function mo(e,t,n){fo(e,t,n,Jc())}function fo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(xo(e))bo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,rr(o,s))return Lr(e,t,i,0),null===yc&&Ir(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Zc(n,0,r),yo(n,t,r),!0}return!1}function go(e,t,n,i){if(i={lane:2,revertLane:Gd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},xo(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,i,2))&&Zc(t,0,2)}function xo(e){var t=e.alternate;return e===Ga||null!==t&&t===Ga}function bo(e,t){Ja=Ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yo(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}var vo={readContext:Ri,use:fs,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useLayoutEffect:rs,useInsertionEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useSyncExternalStore:rs,useId:rs,useHostTransitionStatus:rs,useFormState:rs,useActionState:rs,useOptimistic:rs,useMemoCache:rs,useCacheRefresh:rs};vo.useEffectEvent=rs;var wo={readContext:Ri,use:fs,useCallback:function(e,t){return hs().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:$s,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Us(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var n=hs();t=void 0===t?null:t;var r=e();if(Xa){ke(!0);try{e()}finally{ke(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=hs();if(void 0!==n){var i=n(t);if(Xa){ke(!0);try{n(t)}finally{ke(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=po.bind(null,Ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},hs().memoizedState=e},useState:function(e){var t=(e=Cs(e)).queue,n=mo.bind(null,Ga,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xs,useDeferredValue:function(e,t){return to(hs(),e,t)},useTransition:function(){var e=Cs(!1);return e=ro.bind(null,Ga,e.queue,!0,!1),hs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ga,a=hs();if(gi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===yc)throw Error(r(349));127&wc||js(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,$s(ks.bind(null,i,s,e),[e]),i.flags|=2048,zs(9,{destroy:void 0},Ns.bind(null,i,s,n,t),null),n},useId:function(){var e=hs(),t=yc.identifierPrefix;if(gi){var n=li;t="_"+t+"R_"+(n=(oi&~(1<<32-Se(oi)-1)).toString(32)+n),0<(n=Za++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=ns++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lo,useFormState:Ls,useActionState:Ls,useOptimistic:function(e){var t=hs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=go.bind(null,Ga,!0,n),n.dispatch=t,[e,t]},useMemoCache:gs,useCacheRefresh:function(){return hs().memoizedState=ho.bind(null,Ga)},useEffectEvent:function(e){var t=hs(),n={impl:e};return t.memoizedState=n,function(){if(2&bc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},jo={readContext:Ri,use:fs,useCallback:Zs,useContext:Ri,useEffect:qs,useImperativeHandle:Js,useInsertionEffect:Ys,useLayoutEffect:Qs,useMemo:eo,useReducer:bs,useRef:Ws,useState:function(){return bs(xs)},useDebugValue:Xs,useDeferredValue:function(e,t){return no(ps(),Ya.memoizedState,e,t)},useTransition:function(){var e=bs(xs)[0],t=ps().memoizedState;return["boolean"==typeof e?e:ms(e),t]},useSyncExternalStore:ws,useId:co,useHostTransitionStatus:lo,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return _s(ps(),0,e,t)},useMemoCache:gs,useCacheRefresh:uo};jo.useEffectEvent=Gs;var No={readContext:Ri,use:fs,useCallback:Zs,useContext:Ri,useEffect:qs,useImperativeHandle:Js,useInsertionEffect:Ys,useLayoutEffect:Qs,useMemo:eo,useReducer:vs,useRef:Ws,useState:function(){return vs(xs)},useDebugValue:Xs,useDeferredValue:function(e,t){var n=ps();return null===Ya?to(n,e,t):no(n,Ya.memoizedState,e,t)},useTransition:function(){var e=vs(xs)[0],t=ps().memoizedState;return["boolean"==typeof e?e:ms(e),t]},useSyncExternalStore:ws,useId:co,useHostTransitionStatus:lo,useFormState:Hs,useActionState:Hs,useOptimistic:function(e,t){var n=ps();return null!==Ya?_s(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gs,useCacheRefresh:uo};function ko(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}No.useEffectEvent=Gs;var So={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jc(),i=Na(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=ka(e,i,r))&&(Zc(t,0,r),Sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jc(),i=Na(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=ka(e,i,r))&&(Zc(t,0,r),Sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jc(),r=Na(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ka(e,r,n))&&(Zc(t,0,n),Sa(t,e,n))}};function Ao(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&ir(n,r)&&ir(i,a))}function Co(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function _o(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Eo(e){Or(e)}function To(e){}function Oo(e){Or(e)}function Mo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Do(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Po(e,t,n){return(n=Na(n)).tag=3,n.payload={element:null},n.callback=function(){Mo(e,t)},n}function Io(e){return(e=Na(e)).tag=3,e}function Lo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Do(t,n,r)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Do(t,n,r),"function"!=typeof i&&(null===zc?zc=new Set([this]):zc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(r(461)),Fo=!1;function Bo(e,t,n,r){t.child=null===e?ya(t,null,n,r):ba(t,e.child,n,r)}function Ho(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Li(t),r=as(e,t,n,s,a,i),o=cs(),null===e||Fo?(gi&&o&&ui(t),t.flags|=1,Bo(e,t,r,i),t.child):(ds(e,t,i),cl(e,t,i))}function zo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Gr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Wo(e,t,a,r,i))}if(a=e.child,!dl(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(s,r)&&e.ref===t.ref)return cl(e,t,i)}return t.flags|=1,(e=$r(a,r)).ref=t.ref,e.return=t,t.child=e}function Wo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(Fo=!1,t.pendingProps=r=a,!dl(e,i))return t.lanes=e.lanes,cl(e,t,i);131072&e.flags&&(Fo=!0)}}return Qo(e,t,n,r,i)}function Uo(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return $o(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,$o(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ea(0,null!==a?a.cachePool:null),null!==a?Pa(t,a):Ia(),za(t)}else null!==a?(ea(0,a.cachePool),Pa(t,a),Wa(),t.memoizedState=null):(null!==e&&ea(0,null),Ia(),Wa());return Bo(e,t,i,n),t.child}function Vo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $o(e,t,n,r,i){var a=Zi();return a=null===a?null:{parent:Ui._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&ea(0,null),Ia(),za(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function qo(e,t){return(t=il({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Go(e,t,n){return ba(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Ua(t),t.memoizedState=null,e}function Yo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Qo(e,t,n,r,i){return Li(t),n=as(e,t,n,r,void 0,i),r=cs(),null===e||Fo?(gi&&r&&ui(t),t.flags|=1,Bo(e,t,n,i),t.child):(ds(e,t,i),cl(e,t,i))}function Ko(e,t,n,r,i,a){return Li(t),t.updateQueue=null,n=os(t,r,n,i),ss(e),r=cs(),null===e||Fo?(gi&&r&&ui(t),t.flags|=1,Bo(e,t,n,a),t.child):(ds(e,t,a),cl(e,t,a))}function Jo(e,t,n,r,i){if(Li(t),null===t.stateNode){var a=zr,s=n.contextType;"object"==typeof s&&null!==s&&(a=Ri(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=So,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},wa(t),s=n.contextType,a.context="object"==typeof s&&null!==s?Ri(s):zr,a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(ko(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&So.enqueueReplaceState(a,a.state,null),Ea(t,r,a,i),_a(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=_o(n,o);a.props=l;var c=a.context,d=n.contextType;s=zr,"object"==typeof d&&null!==d&&(s=Ri(d));var u=n.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||c!==s)&&Co(t,a,r,s),va=!1;var h=t.memoizedState;a.state=h,Ea(t,r,a,i),_a(),c=t.memoizedState,o||h!==c||va?("function"==typeof u&&(ko(t,n,u,r),c=t.memoizedState),(l=va||Ao(t,n,l,r,h,c,s))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ja(e,t),d=_o(n,s=t.memoizedProps),a.props=d,u=t.pendingProps,h=a.context,c=n.contextType,l=zr,"object"==typeof c&&null!==c&&(l=Ri(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==u||h!==l)&&Co(t,a,r,l),va=!1,h=t.memoizedState,a.state=h,Ea(t,r,a,i),_a();var p=t.memoizedState;s!==u||h!==p||va||null!==e&&null!==e.dependencies&&Ii(e.dependencies)?("function"==typeof o&&(ko(t,n,o,r),p=t.memoizedState),(d=va||Ao(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&Ii(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=d):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Yo(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ba(t,e.child,null,i),t.child=ba(t,null,n,i)):Bo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=cl(e,t,i),e}function Xo(e,t,n,r){return ki(),t.flags|=256,Bo(e,t,n,r),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function el(e){return{baseLanes:e,cachePool:ta()}}function tl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Mc),e}function nl(e,t,n){var i,a=t.pendingProps,s=!1,o=!!(128&t.flags);if((i=o)||(i=(null===e||null!==e.memoizedState)&&!!(2&Va.current)),i&&(s=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(gi){if(s?Ba(t):Wa(),(e=fi)?null!==(e=null!==(e=Iu(e,bi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==si?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,mi=t,fi=null):e=null,null===e)throw vi(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Wa(),l=il({mode:"hidden",children:l},s=t.mode),a=Yr(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=el(n),a.childLanes=tl(e,i,n),t.memoizedState=Zo,Vo(null,a)):(Ba(t),rl(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ba(t),t.flags&=-257,t=al(e,t,n)):null!==t.memoizedState?(Wa(),t.child=e.child,t.flags|=128,t=null):(Wa(),l=a.fallback,s=t.mode,a=il({mode:"visible",children:a.children},s),(l=Yr(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ba(t,e.child,null,n),(a=t.child).memoizedState=el(n),a.childLanes=tl(e,i,n),t.memoizedState=Zo,t=Vo(null,a));else if(Ba(t),Ru(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var d=i.dgst;i=d,(a=Error(r(419))).stack="",a.digest=i,Ai({value:a,source:null,stack:null}),t=al(e,t,n)}else if(Fo||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Fo||i){if(null!==(i=yc)&&0!==(a=He(i,n))&&a!==c.retryLane)throw c.retryLane=a,Fr(e,a),Zc(i,0,a),Ro;Lu(l)||ud(),t=al(e,t,n)}else Lu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fi=Fu(l.nextSibling),mi=t,gi=!0,xi=null,bi=!1,null!==e&&pi(t,e),(t=rl(t,a.children)).flags|=4096);return t}return s?(Wa(),l=a.fallback,s=t.mode,d=(c=e.child).sibling,(a=$r(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=$r(d,l):(l=Yr(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Vo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=el(n):(null!==(s=l.cachePool)?(c=Ui._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=ta(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=tl(e,i,n),t.memoizedState=Zo,Vo(e.child,a)):(Ba(t),e=(n=e.child).sibling,(n=$r(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function rl(e,t){return(t=il({mode:"visible",children:t},e.mode)).return=e,e.child=t}function il(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function al(e,t,n){return ba(t,e.child,null,n),(e=rl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function sl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mi(e.return,t,n)}function ol(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function ll(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Va.current,o=!!(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,q(Va,s),Bo(e,t,r,n),r=gi?ri:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sl(e,n,t);else if(19===e.tag)sl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===$a(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ol(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===$a(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ol(t,!0,n,null,a,r);break;case"together":ol(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function cl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=$r(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$r(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function dl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ii(e))}function ul(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Fo=!0;else{if(!(dl(e,n)||128&t.flags))return Fo=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),Ti(0,Ui,e.memoizedState.cache),ki();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:Ti(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ha(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ba(t),t.flags|=128,null):0!==(n&t.child.childLanes)?nl(e,t,n):(Ba(t),null!==(e=cl(e,t,n))?e.sibling:null);Ba(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ll(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(Va,Va.current),r)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:Ti(0,Ui,e.memoizedState.cache)}return cl(e,t,n)}(e,t,n);Fo=!!(131072&e.flags)}else Fo=!1,gi&&1048576&t.flags&&di(t,ri,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=la(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===j){t.tag=11,t=Ho(null,t,e,i,n);break e}if(a===E){t.tag=14,t=zo(null,t,e,i,n);break e}}throw t=R(e)||e,Error(r(306,t,""))}Vr(e)?(i=_o(e,i),t.tag=1,t=Jo(null,t,e,i,n)):(t.tag=0,t=Qo(null,t,e,i,n))}return t;case 0:return Qo(e,t,t.type,t.pendingProps,n);case 1:return Jo(e,t,i=t.type,a=_o(i,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,ja(e,t),Ea(t,i,null,n);var o=t.memoizedState;if(i=o.cache,Ti(0,Ui,i),i!==s.cache&&Di(t,[Ui],n,!0),_a(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Xo(e,t,i,n);break e}if(i!==a){Ai(a=Zr(Error(r(424)),t)),t=Xo(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,fi=Fu(e.firstChild),mi=t,gi=!0,xi=null,bi=!0,n=ya(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ki(),i===a){t=cl(e,t,n);break e}Bo(e,t,i,n)}t=t.child}return t;case 26:return Yo(e,t),null===e?(n=Ku(t.type,null,t.pendingProps,null))?t.memoizedState=n:gi||(n=t.type,e=t.pendingProps,(i=wu(J.current).createElement(n))[qe]=t,i[Ge]=e,xu(i,n,e),at(i),t.stateNode=i):t.memoizedState=Ku(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&gi&&(i=t.stateNode=Wu(t.type,t.pendingProps,J.current),mi=t,bi=!0,a=fi,Ou(t.type)?(Bu=a,fi=Fu(i.firstChild)):fi=a),Bo(e,t,t.pendingProps.children,n),Yo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&gi&&((a=i=fi)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Fu(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,bi))?(t.stateNode=i,mi=t,fi=Fu(i.firstChild),bi=!1,a=!0):a=!1),a||vi(t)),te(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,ku(a,s)?i=null:null!==o&&ku(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=as(e,t,ls,null,null,n),fh._currentValue=a),Yo(e,t),Bo(e,t,i,n),t.child;case 6:return null===e&&gi&&((e=n=fi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Fu(e.nextSibling)))return null}return e}(n,t.pendingProps,bi))?(t.stateNode=n,mi=t,fi=null,e=!0):e=!1),e||vi(t)),null;case 13:return nl(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ba(t,null,i,n):Bo(e,t,i,n),t.child;case 11:return Ho(e,t,t.type,t.pendingProps,n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ti(0,t.type,i.value),Bo(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Li(t),i=i(a=Ri(a)),t.flags|=1,Bo(e,t,i,n),t.child;case 14:return zo(e,t,t.type,t.pendingProps,n);case 15:return Wo(e,t,t.type,t.pendingProps,n);case 19:return ll(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if(gi){if("hidden"===i.mode)return e=qo(t,i),t.lanes=536870912,Vo(null,e);if(Ha(t),(e=fi)?null!==(e=null!==(e=Iu(e,bi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==si?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,mi=t,fi=null):e=null,null===e)throw vi(t);return t.lanes=536870912,null}return qo(t,i)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ha(t),a)if(256&t.flags)t.flags&=-257,t=Go(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Fo||Pi(e,t,n,!1),a=0!==(n&e.childLanes),Fo||a){if(null!==(i=yc)&&0!==(o=He(i,n))&&o!==s.retryLane)throw s.retryLane=o,Fr(e,o),Zc(i,0,o),Ro;ud(),t=Go(e,t,n)}else e=s.treeContext,fi=Fu(o.nextSibling),mi=t,gi=!0,xi=null,bi=!1,null!==e&&pi(t,e),(t=qo(t,i)).flags|=4096;return t}return(e=$r(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Li(t),i=Ri(Ui),null===e?(null===(a=Zi())&&(a=yc,s=Vi(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},wa(t),Ti(0,Ui,a)):(0!==(e.lanes&n)&&(ja(e,t),Ea(t,null,null,n),_a()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Ti(0,Ui,i)):(i=s.cache,Ti(0,Ui,i),i!==a.cache&&Di(t,[Ui],n,!0))),Bo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function hl(e){e.flags|=4}function pl(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ld())throw ca=aa,ra;e.flags|=8192}}else e.flags&=-16777217}function ml(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ch(t)){if(!ld())throw ca=aa,ra;e.flags|=8192}}function fl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,Dc|=t)}function gl(e,t){if(!gi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bl(e,t,n){var i=t.pendingProps;switch(hi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return xl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Oi(Ui),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ni(t)?hl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Si())),xl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(hl(t),null!==s?(xl(t),ml(t,s)):(xl(t),pl(t,a,0,0,n))):s?s!==e.memoizedState?(hl(t),xl(t),ml(t,s)):(xl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&hl(t),xl(t),pl(t,a,0,0,n)),null;case 27:if(ne(t),n=J.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&hl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return xl(t),null}e=Q.current,Ni(t)?wi(t):(e=Wu(a,i,n),t.stateNode=e,hl(t))}return xl(t),null;case 5:if(ne(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&hl(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return xl(t),null}if(s=Q.current,Ni(t))wi(t);else{var o=wu(J.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s="string"==typeof i.is?o.createElement(a,{is:i.is}):o.createElement(a)}}s[qe]=t,s[Ge]=i;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(xu(s,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&hl(t)}}return xl(t),pl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&hl(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=J.current,Ni(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=mi))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||mu(e.nodeValue,n)))||vi(t,!0)}else(e=wu(e).createTextNode(i))[qe]=t,t.stateNode=e}return xl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=Ni(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[qe]=t}else ki(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;xl(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ua(t),t):(Ua(t),null);if(128&t.flags)throw Error(r(558))}return xl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=Ni(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[qe]=t}else ki(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;xl(t),a=!1}else a=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Ua(t),t):(Ua(t),null)}return Ua(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool),s=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fl(t,t.updateQueue),xl(t),null);case 4:return ee(),null===e&&iu(t.stateNode.containerInfo),xl(t),null;case 10:return Oi(t.type),xl(t),null;case 19:if($(Va),null===(i=t.memoizedState))return xl(t),null;if(a=!!(128&t.flags),null===(s=i.rendering))if(a)gl(i,!1);else{if(0!==_c||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=$a(e))){for(t.flags|=128,gl(i,!1),e=s.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Va,1&Va.current|2),gi&&ci(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&pe()>Bc&&(t.flags|=128,a=!0,gl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=$a(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),gl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!gi)return xl(t),null}else 2*pe()-i.renderingStartTime>Bc&&536870912!==n&&(t.flags|=128,a=!0,gl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pe(),e.sibling=null,n=Va.current,q(Va,a?1&n|2:1&n),gi&&ci(t,i.treeForkCount),e):(xl(t),null);case 22:case 23:return Ua(t),La(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(xl(t),6&t.subtreeFlags&&(t.flags|=8192)):xl(t),null!==(n=t.updateQueue)&&fl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&$(Xi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Oi(Ui),xl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function yl(e,t){switch(hi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Oi(Ui),ee(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 31:if(null!==t.memoizedState){if(Ua(t),null===t.alternate)throw Error(r(340));ki()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ki()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(Va),null;case 4:return ee(),null;case 10:return Oi(t.type),null;case 22:case 23:return Ua(t),La(),null!==e&&$(Xi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Oi(Ui),null;default:return null}}function vl(e,t){switch(hi(t),t.tag){case 3:Oi(Ui),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 31:null!==t.memoizedState&&Ua(t);break;case 13:Ua(t);break;case 19:$(Va);break;case 10:Oi(t.type);break;case 22:case 23:Ua(t),La(),null!==e&&$(Xi);break;case 24:Oi(Ui)}}function wl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){_d(t,t.return,o)}}function jl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(d){_d(i,l,d)}}}r=r.next}while(r!==a)}}catch(d){_d(t,t.return,d)}}function Nl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Oa(t,n)}catch(r){_d(e,e.return,r)}}}function kl(e,t,n){n.props=_o(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_d(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){_d(e,t,i)}}function Al(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){_d(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){_d(e,t,a)}else n.current=null}function Cl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){_d(e,e.return,i)}}function _l(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,d=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(m)||fu(e,t,m,null,i,h)}}for(var p in i){var m=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":s=m;break;case"name":a=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&fu(e,t,p,m,i,h)}}return void Nt(e,o,l,c,d,u,s,a);case"select":for(s in m=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(s)||fu(e,t,s,null,i,c)}for(a in i)if(s=i[a],c=n[a],i.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&fu(e,t,a,s,i,c)}return t=l,n=o,i=m,void(null!=p?At(e,!!n,p,!1):!!i!=!!n&&(null!=t?At(e,!!n,t,!0):At(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:fu(e,t,l,null,i,a)}for(o in i)if(a=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":p=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==s&&fu(e,t,o,a,i,s)}return void Ct(e,p,m);case"option":for(var f in n)p=n[f],n.hasOwnProperty(f)&&null!=p&&!i.hasOwnProperty(f)&&("selected"===f?e.selected=!1:fu(e,t,f,null,i,p));for(c in i)p=i[c],m=n[c],!i.hasOwnProperty(c)||p===m||null==p&&null==m||("selected"===c?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:fu(e,t,c,p,i,m));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&fu(e,t,g,null,i,p);for(d in i)if(p=i[d],m=n[d],i.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:fu(e,t,d,p,i,m)}return;default:if(Dt(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&void 0!==p&&!i.hasOwnProperty(x)&&gu(e,t,x,void 0,i,p);for(u in i)p=i[u],m=n[u],!i.hasOwnProperty(u)||p===m||void 0===p&&void 0===m||gu(e,t,u,p,i,m);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!i.hasOwnProperty(b)&&fu(e,t,b,null,i,p);for(h in i)p=i[h],m=n[h],!i.hasOwnProperty(h)||p===m||null==p&&null==m||fu(e,t,h,p,i,m)}(i,e.type,n,t),i[Ge]=t}catch(a){_d(e,e.return,a)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ou(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ou(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Ou(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ol(e,t,n),e=e.sibling;null!==e;)Ol(e,t,n),e=e.sibling}function Ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ou(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ml(e,t,n),e=e.sibling;null!==e;)Ml(e,t,n),e=e.sibling}function Dl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xu(t,r,n),t[qe]=e,t[Ge]=n}catch(a){_d(e,e.return,a)}}var Pl=!1,Il=!1,Ll=!1,Rl="function"==typeof WeakSet?WeakSet:Set,Fl=null;function Bl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Zl(e,n),4&r&&wl(5,n);break;case 1:if(Zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){_d(n,n.return,s)}else{var i=_o(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_d(n,n.return,o)}}64&r&&Nl(n),512&r&&Sl(n,n.return);break;case 3:if(Zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Oa(e,t)}catch(s){_d(n,n.return,s)}}break;case 27:null===t&&4&r&&Dl(n);case 26:case 5:Zl(e,n),null===t&&4&r&&Cl(n),512&r&&Sl(n,n.return);break;case 12:Zl(e,n);break;case 31:Zl(e,n),4&r&&$l(e,n);break;case 13:Zl(e,n),4&r&&ql(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Md.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Il,i=Pl;var a=Il;Pl=r,(Il=t)&&!a?tc(e,n,!!(8772&n.subtreeFlags)):Zl(e,n),Pl=i,Il=a}break;case 30:break;default:Zl(e,n)}}function Hl(e){var t=e.alternate;null!==t&&(e.alternate=null,Hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&et(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zl=null,Wl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(Ne&&"function"==typeof Ne.onCommitFiberUnmount)try{Ne.onCommitFiberUnmount(je,n)}catch(a){}switch(n.tag){case 26:Il||Al(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Il||Al(n,t);var r=zl,i=Wl;Ou(n.type)&&(zl=n.stateNode,Wl=!1),Ul(e,t,n),Uu(n.stateNode),zl=r,Wl=i;break;case 5:Il||Al(n,t);case 6:if(r=zl,i=Wl,zl=null,Ul(e,t,n),Wl=i,null!==(zl=r))if(Wl)try{(9===zl.nodeType?zl.body:"HTML"===zl.nodeName?zl.ownerDocument.body:zl).removeChild(n.stateNode)}catch(s){_d(n,t,s)}else try{zl.removeChild(n.stateNode)}catch(s){_d(n,t,s)}break;case 18:null!==zl&&(Wl?(Mu(9===(e=zl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Qh(e)):Mu(zl,n.stateNode));break;case 4:r=zl,i=Wl,zl=n.stateNode.containerInfo,Wl=!0,Ul(e,t,n),zl=r,Wl=i;break;case 0:case 11:case 14:case 15:jl(2,n,t),Il||jl(4,n,t),Ul(e,t,n);break;case 1:Il||(Al(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&kl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Il=(r=Il)||null!==n.memoizedState,Ul(e,t,n),Il=r;break;default:Ul(e,t,n)}}function $l(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Qh(e)}catch(n){_d(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Qh(e)}catch(n){_d(t,t.return,n)}}function Gl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Dd.bind(null,e,t);t.then(r,r)}})}function Yl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Ou(l.type)){zl=l.stateNode,Wl=!1;break e}break;case 5:zl=l.stateNode,Wl=!1;break e;case 3:case 4:zl=l.stateNode.containerInfo,Wl=!0;break e}l=l.return}if(null===zl)throw Error(r(160));Vl(s,o,a),zl=null,Wl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Ql=null;function Kl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yl(t,e),Jl(e),4&i&&(jl(3,e,e.return),wl(3,e),jl(5,e,e.return));break;case 1:Yl(t,e),Jl(e),512&i&&(Il||null===n||Al(n,n.return)),64&i&&Pl&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var a=Ql;if(Yl(t,e),Jl(e),512&i&&(Il||null===n||Al(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Ze]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),xu(s,i,n),s[qe]=e,at(s),i=s;break e;case"link":var o=oh("link","href",a).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}xu(s=a.createElement(i),i,n),a.head.appendChild(s);break;case"meta":if(o=oh("meta","content",a).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}xu(s=a.createElement(i),i,n),a.head.appendChild(s);break;default:throw Error(r(468,i))}s[qe]=e,at(s),i=s}e.stateNode=i}else lh(a,e.type,e.stateNode);else e.stateNode=nh(a,i,e.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?lh(a,e.type,e.stateNode):nh(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Yl(t,e),Jl(e),512&i&&(Il||null===n||Al(n,n.return)),null!==n&&4&i&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Yl(t,e),Jl(e),512&i&&(Il||null===n||Al(n,n.return)),32&e.flags){a=e.stateNode;try{Et(a,"")}catch(f){_d(e,e.return,f)}}4&i&&null!=e.stateNode&&_l(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(Ll=!0);break;case 6:if(Yl(t,e),Jl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){_d(e,e.return,f)}}break;case 3:if(sh=null,a=Ql,Ql=qu(t.containerInfo),Yl(t,e),Ql=a,Jl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Qh(t.containerInfo)}catch(f){_d(e,e.return,f)}Ll&&(Ll=!1,Xl(e));break;case 4:i=Ql,Ql=qu(e.stateNode.containerInfo),Yl(t,e),Jl(e),Ql=i;break;case 12:default:Yl(t,e),Jl(e);break;case 31:case 19:Yl(t,e),Jl(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Gl(e,i));break;case 13:Yl(t,e),Jl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=pe()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Gl(e,i));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Pl,u=Il;if(Pl=d||a,Il=u||c,Yl(t,e),Il=u,Pl=d,Jl(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Pl||Il||ec(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(f){_d(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){_d(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;a?Du(m,!0):Du(c.stateNode,!1)}catch(f){_d(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Gl(e,n));case 30:case 21:}}function Jl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(El(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;Ml(e,Tl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Et(s,""),n.flags&=-33),Ml(e,Tl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Ol(e,Tl(e),o);break;default:throw Error(r(161))}}catch(l){_d(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t.alternate,t),t=t.sibling}function ec(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jl(4,t,t.return),ec(t);break;case 1:Al(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&kl(t,t.return,n),ec(t);break;case 27:Uu(t.stateNode);case 26:case 5:Al(t,t.return),ec(t);break;case 22:null===t.memoizedState&&ec(t);break;default:ec(t)}e=e.sibling}}function tc(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:tc(i,a,n),wl(4,a);break;case 1:if(tc(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){_d(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ta(l[i],o)}catch(c){_d(r,r.return,c)}}n&&64&s&&Nl(a),Sl(a,a.return);break;case 27:Dl(a);case 26:case 5:tc(i,a,n),n&&null===r&&4&s&&Cl(a),Sl(a,a.return);break;case 12:tc(i,a,n);break;case 31:tc(i,a,n),n&&4&s&&$l(i,a);break;case 13:tc(i,a,n),n&&4&s&&ql(i,a);break;case 22:null===a.memoizedState&&tc(i,a,n),Sl(a,a.return);break;case 30:break;default:tc(i,a,n)}t=t.sibling}}function nc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&$i(n))}function rc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&$i(e))}function ic(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ac(e,t,n,r),t=t.sibling}function ac(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ic(e,t,n,r),2048&i&&wl(9,t);break;case 1:case 31:case 13:default:ic(e,t,n,r);break;case 3:ic(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&$i(e)));break;case 12:if(2048&i){ic(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"==typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_d(t,t.return,l)}}else ic(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ic(e,t,n,r):oc(e,t):2&a._visibility?ic(e,t,n,r):(a._visibility|=2,sc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&nc(s,t);break;case 24:ic(e,t,n,r),2048&i&&rc(t.alternate,t)}}function sc(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:sc(a,s,o,l,i),wl(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?sc(a,s,o,l,i):oc(a,s):(d._visibility|=2,sc(a,s,o,l,i)),i&&2048&c&&nc(s.alternate,s);break;case 24:sc(a,s,o,l,i),i&&2048&c&&rc(s.alternate,s);break;default:sc(a,s,o,l,i)}t=t.sibling}}function oc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:oc(n,r),2048&i&&nc(r.alternate,r);break;case 24:oc(n,r),2048&i&&rc(r.alternate,r);break;default:oc(n,r)}t=t.sibling}}var lc=8192;function cc(e,t,n){if(e.subtreeFlags&lc)for(e=e.child;null!==e;)dc(e,t,n),e=e.sibling}function dc(e,t,n){switch(e.tag){case 26:cc(e,t,n),e.flags&lc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Ju(r.href),a=t.querySelector(Xu(i));if(a)return null!==(t=a._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=uh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void at(a);a=t.ownerDocument||t,r=Zu(r),(i=Vu.get(i))&&ih(r,i),at(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),xu(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=uh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ql,e.memoizedState,e.memoizedProps);break;case 5:default:cc(e,t,n);break;case 3:case 4:var r=Ql;Ql=qu(e.stateNode.containerInfo),cc(e,t,n),Ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=lc,lc=16777216,cc(e,t,n),lc=r):cc(e,t,n))}}function uc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function hc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,fc(r,e)}uc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)pc(e),e=e.sibling}function pc(e){switch(e.tag){case 0:case 11:case 15:hc(e),2048&e.flags&&jl(9,e,e.return);break;case 3:case 12:default:hc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,mc(e)):hc(e)}}function mc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,fc(r,e)}uc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:jl(8,t,t.return),mc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,mc(t));break;default:mc(t)}e=e.sibling}}function fc(e,t){for(;null!==Fl;){var n=Fl;switch(n.tag){case 0:case 11:case 15:jl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:$i(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Fl=r;else e:for(n=e;null!==Fl;){var i=(r=Fl).sibling,a=r.return;if(Hl(r),r===n){Fl=null;break e}if(null!==i){i.return=a,Fl=i;break e}Fl=a}}}var gc={getCacheForType:function(e){var t=Ri(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(Ui).controller.signal}},xc="function"==typeof WeakMap?WeakMap:Map,bc=0,yc=null,vc=null,wc=0,jc=0,Nc=null,kc=!1,Sc=!1,Ac=!1,Cc=0,_c=0,Ec=0,Tc=0,Oc=0,Mc=0,Dc=0,Pc=null,Ic=null,Lc=!1,Rc=0,Fc=0,Bc=1/0,Hc=null,zc=null,Wc=0,Uc=null,Vc=null,$c=0,qc=0,Gc=null,Yc=null,Qc=0,Kc=null;function Jc(){return 2&bc&&0!==wc?wc&-wc:null!==B.T?Gd():Ue()}function Xc(){if(0===Mc)if(536870912&wc&&!gi)Mc=536870912;else{var e=Ee;!(3932160&(Ee<<=1))&&(Ee=262144),Mc=e}return null!==(e=Ra.current)&&(e.flags|=32),Mc}function Zc(e,t,n){(e!==yc||2!==jc&&9!==jc)&&null===e.cancelPendingCommit||(sd(e,0),rd(e,wc,Mc,!1)),Re(e,n),2&bc&&e===yc||(e===yc&&(!(2&bc)&&(Tc|=n),4===_c&&rd(e,wc,Mc,!1)),Hd(e))}function ed(e,t,n){if(6&bc)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||De(e,t),a=i?function(e,t){var n=bc;bc|=2;var i=cd(),a=dd();yc!==e||wc!==t?(Hc=null,Bc=pe()+500,sd(e,t)):Sc=De(e,t);e:for(;;)try{if(0!==jc&&null!==vc){t=vc;var s=Nc;t:switch(jc){case 1:jc=0,Nc=null,xd(e,t,s,1);break;case 2:case 9:if(sa(s)){jc=0,Nc=null,gd(t);break}t=function(){2!==jc&&9!==jc||yc!==e||(jc=7),Hd(e)},s.then(t,t);break e;case 3:jc=7;break e;case 4:jc=5;break e;case 7:sa(s)?(jc=0,Nc=null,gd(t)):(jc=0,Nc=null,xd(e,t,s,7));break;case 5:var o=null;switch(vc.tag){case 26:o=vc.memoizedState;case 5:case 27:var l=vc;if(o?ch(o):l.stateNode.complete){jc=0,Nc=null;var c=l.sibling;if(null!==c)vc=c;else{var d=l.return;null!==d?(vc=d,bd(d)):vc=null}break t}}jc=0,Nc=null,xd(e,t,s,5);break;case 6:jc=0,Nc=null,xd(e,t,s,6);break;case 8:ad(),_c=6;break e;default:throw Error(r(462))}}md();break}catch(u){od(e,u)}return Ei=_i=null,B.H=i,B.A=a,bc=n,null!==vc?0:(yc=null,wc=0,Ir(),_c)}(e,t):hd(e,t,!0),s=i;;){if(0===a){Sc&&!i&&rd(e,t,0,!1);break}if(n=e.current.alternate,!s||nd(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(sd(l,o).flags|=256),2!==(o=hd(l,o,!1))){if(Ac&&!c){l.errorRecoveryDisabledLanes|=s,Tc|=s,a=4;break e}s=Ic,Ic=a,null!==s&&(null===Ic?Ic=s:Ic.push.apply(Ic,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){sd(e,0),rd(e,t,0,!0);break}e:{switch(i=e,s=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:rd(i,t,Mc,!kc);break e;case 2:Ic=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Rc+300-pe())){if(rd(i,t,Mc,!kc),0!==Me(i,0,!0))break e;$c=t,i.timeoutHandle=Au(td.bind(null,i,n,Ic,Hc,Lc,t,Mc,Tc,Dc,kc,s,"Throttled",-0,0),a)}else td(i,n,Ic,Hc,Lc,t,Mc,Tc,Dc,kc,s,null,-0,0)}break}a=hd(e,t,!1),s=!1}Hd(e)}function td(e,t,n,r,i,a,s,o,l,c,d,u,h,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){dc(t,a,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var m=(62914560&a)===a?Rc-pe():(4194048&a)===a?Fc-pe():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&ph(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ph(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===dh&&(dh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&bu(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&bu(u)&&(s+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ph(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>dh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(u,m)))return $c=a,e.cancelPendingCommit=m(vd.bind(null,e,t,a,n,r,i,s,o,l,d,u,null,h,p)),void rd(e,a,s,!c)}vd(e,t,a,n,r,i,s,o,l)}function nd(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!rr(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rd(e,t,n,r){t&=~Oc,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Se(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Fe(e,n,t)}function id(){return!!(6&bc)||(zd(0),!1)}function ad(){if(null!==vc){if(0===jc)var e=vc.return;else Ei=_i=null,us(e=vc),ha=null,pa=0,e=vc;for(;null!==e;)vl(e.alternate,e),e=e.return;vc=null}}function sd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c=0,ad(),yc=e,vc=n=$r(e.current,null),wc=t,jc=0,Nc=null,kc=!1,Sc=De(e,t),Ac=!1,Dc=Mc=Oc=Tc=Ec=_c=0,Ic=Pc=null,Lc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-Se(r),a=1<<i;t|=e[i],r&=~a}return Cc=t,Ir(),n}function od(e,t){Ga=null,B.H=vo,t===na||t===ia?(t=da(),jc=3):t===ra?(t=da(),jc=4):jc=t===Ro?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Nc=t,null===vc&&(_c=1,Mo(e,Zr(t,e.current)))}function ld(){var e=Ra.current;return null===e||((4194048&wc)===wc?null===Fa:!!((62914560&wc)===wc||536870912&wc)&&e===Fa)}function cd(){var e=B.H;return B.H=vo,null===e?vo:e}function dd(){var e=B.A;return B.A=gc,e}function ud(){_c=4,kc||(4194048&wc)!==wc&&null!==Ra.current||(Sc=!0),!(134217727&Ec)&&!(134217727&Tc)||null===yc||rd(yc,wc,Mc,!1)}function hd(e,t,n){var r=bc;bc|=2;var i=cd(),a=dd();yc===e&&wc===t||(Hc=null,sd(e,t)),t=!1;var s=_c;e:for(;;)try{if(0!==jc&&null!==vc){var o=vc,l=Nc;switch(jc){case 8:ad(),s=6;break e;case 3:case 2:case 9:case 6:null===Ra.current&&(t=!0);var c=jc;if(jc=0,Nc=null,xd(e,o,l,c),n&&Sc){s=0;break e}break;default:c=jc,jc=0,Nc=null,xd(e,o,l,c)}}pd(),s=_c;break}catch(d){od(e,d)}return t&&e.shellSuspendCounter++,Ei=_i=null,bc=r,B.H=i,B.A=a,null===vc&&(yc=null,wc=0,Ir()),s}function pd(){for(;null!==vc;)fd(vc)}function md(){for(;null!==vc&&!ue();)fd(vc)}function fd(e){var t=ul(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?bd(e):vc=t}function gd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,wc);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,wc);break;case 5:us(t);default:vl(n,t),t=ul(n,t=vc=qr(t,Cc),Cc)}e.memoizedProps=e.pendingProps,null===t?bd(e):vc=t}function xd(e,t,n,i){Ei=_i=null,us(t),ha=null,pa=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Pi(t,n,a,!0),null!==(n=Ra.current)){switch(n.tag){case 31:case 13:return null===Fa?ud():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===aa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Ed(e,i,a)),!1;case 22:return n.flags|=65536,i===aa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Ed(e,i,a)),!1}throw Error(r(435,n.tag))}return Ed(e,i,a),ud(),!1}if(gi)return null!==(t=Ra.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==yi&&Ai(Zr(e=Error(r(422),{cause:i}),n))):(i!==yi&&Ai(Zr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Zr(i,n),Aa(e,a=Po(e.stateNode,i,a)),4!==_c&&(_c=2)),!1;var s=Error(r(520),{cause:i});if(s=Zr(s,n),null===Pc?Pc=[s]:Pc.push(s),4!==_c&&(_c=2),null===t)return!0;i=Zr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,Aa(n,e=Po(n.stateNode,i,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==zc&&zc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Lo(a=Io(a),e,n,i),Aa(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,wc))return _c=1,Mo(e,Zr(n,e.current)),void(vc=null)}catch(s){if(null!==a)throw vc=a,s;return _c=1,Mo(e,Zr(n,e.current)),void(vc=null)}32768&t.flags?(gi||1===i?e=!0:Sc||536870912&wc?e=!1:(kc=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=Ra.current)&&13===i.tag&&(i.flags|=16384)),yd(t,e)):bd(t)}function bd(e){var t=e;do{if(32768&t.flags)return void yd(t,kc);e=t.return;var n=bl(t.alternate,t,Cc);if(null!==n)return void(vc=n);if(null!==(t=t.sibling))return void(vc=t);vc=t=e}while(null!==t);0===_c&&(_c=5)}function yd(e,t){do{var n=yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(vc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(vc=e);vc=e=n}while(null!==e);_c=6,vc=null}function vd(e,t,n,i,a,s,o,l,c){e.cancelPendingCommit=null;do{Sd()}while(0!==Wc);if(6&bc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Se(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&Fe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,s|=Pr,o,l,c),e===yc&&(vc=yc=null,wc=0),Vc=t,Uc=e,$c=n,qc=s,Gc=a,Yc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ce(xe,function(){return Ad(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=B.T,B.T=null,a=H.p,H.p=2,o=bc,bc|=4;try{!function(e,t){if(e=e.containerInfo,yu=kh,cr(e=lr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===s&&++u===i&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},kh=!1,Fl=t;null!==Fl;)if(e=(t=Fl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Fl=e;else for(;null!==Fl;){switch(s=(t=Fl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var f=_o(n.type,a);e=i.getSnapshotBeforeUpdate(f,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){_d(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Fl=e;break}Fl=t.return}}(e,t)}finally{bc=o,H.p=a,B.T=i}}Wc=1,wd(),jd(),Nd()}}function wd(){if(1===Wc){Wc=0;var e=Uc,t=Vc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=B.T,B.T=null;var r=H.p;H.p=2;var i=bc;bc|=4;try{Kl(t,e);var a=vu,s=lr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&or(o.ownerDocument.documentElement,o)){if(null!==l&&cr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(s=g,g=f,f=s);var x=sr(o,f),b=sr(o,g);if(x&&b&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),f>g?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}kh=!!yu,vu=yu=null}finally{bc=i,H.p=r,B.T=n}}e.current=t,Wc=2}}function jd(){if(2===Wc){Wc=0;var e=Uc,t=Vc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=B.T,B.T=null;var r=H.p;H.p=2;var i=bc;bc|=4;try{Bl(e,t.alternate,t)}finally{bc=i,H.p=r,B.T=n}}Wc=3}}function Nd(){if(4===Wc||3===Wc){Wc=0,he();var e=Uc,t=Vc,n=$c,r=Yc;10256&t.subtreeFlags||10256&t.flags?Wc=5:(Wc=0,Vc=Uc=null,kd(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(zc=null),We(n),t=t.stateNode,Ne&&"function"==typeof Ne.onCommitFiberRoot)try{Ne.onCommitFiberRoot(je,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=B.T,i=H.p,H.p=2,B.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{B.T=t,H.p=i}}3&$c&&Sd(),Hd(e),i=e.pendingLanes,261930&n&&42&i?e===Kc?Qc++:(Qc=0,Kc=e):Qc=0,zd(0)}}function kd(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,$i(t))}function Sd(){return wd(),jd(),Nd(),Ad()}function Ad(){if(5!==Wc)return!1;var e=Uc,t=qc;qc=0;var n=We($c),i=B.T,a=H.p;try{H.p=32>n?32:n,B.T=null,n=Gc,Gc=null;var s=Uc,o=$c;if(Wc=0,Vc=Uc=null,$c=0,6&bc)throw Error(r(331));var l=bc;if(bc|=4,pc(s.current),ac(s,s.current,o,n),bc=l,zd(0),Ne&&"function"==typeof Ne.onPostCommitFiberRoot)try{Ne.onPostCommitFiberRoot(je,s)}catch(c){}return!0}finally{H.p=a,B.T=i,kd(e,t)}}function Cd(e,t,n){t=Zr(n,t),null!==(e=ka(e,t=Po(e.stateNode,t,2),2))&&(Re(e,2),Hd(e))}function _d(e,t,n){if(3===e.tag)Cd(e,e,n);else for(;null!==t;){if(3===t.tag){Cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zc||!zc.has(r))){e=Zr(n,e),null!==(r=ka(t,n=Io(2),2))&&(Lo(n,r,t,e),Re(r,2),Hd(r));break}}t=t.return}}function Ed(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new xc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Ac=!0,i.add(n),e=Td.bind(null,e,t,n),t.then(e,e))}function Td(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yc===e&&(wc&n)===n&&(4===_c||3===_c&&(62914560&wc)===wc&&300>pe()-Rc?!(2&bc)&&sd(e,0):Oc|=n,Dc===wc&&(Dc=0)),Hd(e)}function Od(e,t){0===t&&(t=Ie()),null!==(e=Fr(e,t))&&(Re(e,t),Hd(e))}function Md(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Od(e,n)}function Dd(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Od(e,n)}var Pd=null,Id=null,Ld=!1,Rd=!1,Fd=!1,Bd=0;function Hd(e){e!==Id&&null===e.next&&(null===Id?Pd=Id=e:Id=Id.next=e),Rd=!0,Ld||(Ld=!0,Eu(function(){6&bc?ce(fe,Wd):Ud()}))}function zd(e,t){if(!Fd&&Rd){Fd=!0;do{for(var n=!1,r=Pd;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-Se(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,qd(r,a))}else a=wc,!(3&(a=Me(r,r===yc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||De(r,a)||(n=!0,qd(r,a));r=r.next}}while(n);Fd=!1}}function Wd(){Ud()}function Ud(){Rd=Ld=!1;var e,t=0;0!==Bd&&((e=window.event)&&"popstate"===e.type?e!==Su&&(Su=e,1):(Su=null,0))&&(t=Bd);for(var n=pe(),r=null,i=Pd;null!==i;){var a=i.next,s=Vd(i,n);0===s?(i.next=null,null===r?Pd=a:r.next=a,null===a&&(Id=r)):(r=i,(0!==t||3&s)&&(Rd=!0)),i=a}0!==Wc&&5!==Wc||zd(t),0!==Bd&&(Bd=0)}function Vd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-Se(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Pe(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=wc,n=Me(e,e===(t=yc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===jc||9===jc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&de(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||De(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&de(r),We(n)){case 2:case 8:n=ge;break;case 32:default:n=xe;break;case 268435456:n=ye}return r=$d.bind(null,e),n=ce(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&de(r),e.callbackPriority=2,e.callbackNode=null,2}function $d(e,t){if(0!==Wc&&5!==Wc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sd()&&e.callbackNode!==n)return null;var r=wc;return 0===(r=Me(e,e===yc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(ed(e,r,t),Vd(e,pe()),null!=e.callbackNode&&e.callbackNode===n?$d.bind(null,e):null)}function qd(e,t){if(Sd())return null;ed(e,t,!0)}function Gd(){if(0===Bd){var e=Yi;0===e&&(e=_e,!(261888&(_e<<=1))&&(_e=256)),Bd=e}return Bd}function Yd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Lt(""+e)}function Qd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Kd=0;Kd<Er.length;Kd++){var Jd=Er[Kd];Tr(Jd.toLowerCase(),"on"+(Jd[0].toUpperCase()+Jd.slice(1)))}Tr(wr,"onAnimationEnd"),Tr(jr,"onAnimationIteration"),Tr(Nr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(kr,"onTransitionRun"),Tr(Sr,"onTransitionStart"),Tr(Ar,"onTransitionCancel"),Tr(Cr,"onTransitionEnd"),ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xd));function eu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){Or(d)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(d){Or(d)}i.currentTarget=null,a=l}}}}function tu(e,t){var n=t[Qe];void 0===n&&(n=t[Qe]=new Set);var r=e+"__bubble";n.has(r)||(au(t,e,2,!1),n.add(r))}function nu(e,t,n){var r=0;t&&(r|=4),au(n,e,r,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[ru]){e[ru]=!0,st.forEach(function(t){"selectionchange"!==t&&(Zd.has(t)||nu(t,!1,e),nu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ru]||(t[ru]=!0,nu("selectionchange",!1,t))}}function au(e,t,n,r){switch(Oh(t)){case 2:var i=Sh;break;case 8:i=Ah;break;default:i=Ch}n=i.bind(null,t,n,e),i=void 0,!Gt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function su(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=tt(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}l=l.parentNode}}r=r.return}Vt(function(){var r=s,i=Bt(n),o=[];e:{var l=_r.get(e);if(void 0!==l){var c=ln,d=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":c=Nn;break;case"focusin":d="focus",c=mn;break;case"focusout":d="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Sn;break;case wr:case jr:case Nr:c=fn;break;case Cr:c=An;break;case"scroll":case"scrollend":c=dn;break;case"wheel":c=Cn;break;case"copy":case"cut":case"paste":c=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=kn;break;case"toggle":case"beforetoggle":c=_n}var u=!!(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==l?l+"Capture":null:l;u=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=$t(f,p))&&u.push(ou(f,g,m)),h)break;f=f.return}0<u.length&&(l=new c(l,d,null,n,i),o.push({event:l,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ft||!(d=n.relatedTarget||n.fromElement)||!tt(d)&&!d[Ye])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?tt(d):null)&&(h=a(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=hn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?l:rt(c),m=null==d?l:rt(d),(l=new u(g,f+"leave",c,n,i)).target=h,l.relatedTarget=m,g=null,tt(i)===r&&((u=new u(p,f+"enter",d,n,i)).target=m,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(u=cu,f=d,m=0,g=p=c;g;g=u(g))m++;g=0;for(var x=f;x;x=u(x))g++;for(;0<m-g;)p=u(p),m--;for(;0<g-m;)f=u(f),g--;for(;m--;){if(p===f||null!==f&&p===f.alternate){u=p;break e}p=u(p),f=u(f)}u=null}else u=null;null!==c&&du(o,l,c,u,!1),null!==d&&null!==h&&du(o,h,d,u,!0)}if("select"===(c=(l=r?rt(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var b=qn;else if(Hn(l))if(Gn)b=nr;else{b=er;var y=Zn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Dt(r.elementType)&&(b=qn):b=tr;switch(b&&(b=b(e,r))?zn(o,b,n,i):(y&&y(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&St(l,"number",l.value)),y=r?rt(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(ur=y,hr=r,pr=null);break;case"focusout":pr=hr=ur=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,fr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":fr(o,n,i)}var v;if(Tn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Fn?Ln(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Dn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Fn&&(v=Xt()):(Kt="value"in(Qt=i)?Qt.value:Qt.textContent,Fn=!0)),0<(y=lu(r,w)).length&&(w=new xn(w,e,null,n,i),o.push({event:w,listeners:y}),(v||null!==(v=Rn(n)))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(In=!0,Pn);case"textInput":return(e=t.data)===Pn&&In?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Tn&&Ln(e,t)?(e=Xt(),Jt=Kt=Qt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(w=lu(r,"onBeforeInput")).length&&(y=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=v),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Yd((i[Ge]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ge]||null)?Yd(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new ln("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Bd){var e=s?Qd(i,s):new FormData(i);ao(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=s?Qd(i,s):new FormData(i),ao(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}eu(o,t)})}function ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=$t(e,n))&&r.unshift(ou(e,i,a)),null!=(i=$t(e,t))&&r.push(ou(e,i,a))),3===e.tag)return r;e=e.return}return[]}function cu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function du(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=$t(n,a))&&s.unshift(ou(n,c,l)):i||null!=(c=$t(n,a))&&s.push(ou(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var uu=/\r\n?/g,hu=/\u0000|\uFFFD/g;function pu(e){return("string"==typeof e?e:""+e).replace(uu,"\n").replace(hu,"")}function mu(e,t){return t=pu(t),pu(e)===t}function fu(e,t,n,i,a,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Et(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Et(e,""+i);break;case"className":mt(e,"class",i);break;case"tabIndex":mt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":mt(e,n,i);break;case"style":Mt(e,i,s);break;case"data":if("object"!==t){mt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Lt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&fu(e,t,"name",a.name,a,null),fu(e,t,"formEncType",a.formEncType,a,null),fu(e,t,"formMethod",a.formMethod,a,null),fu(e,t,"formTarget",a.formTarget,a,null)):(fu(e,t,"encType",a.encType,a,null),fu(e,t,"method",a.method,a,null),fu(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Lt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Rt);break;case"onScroll":null!=i&&tu("scroll",e);break;case"onScrollEnd":null!=i&&tu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Lt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tu("beforetoggle",e),tu("toggle",e),pt(e,"popover",i);break;case"xlinkActuate":ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ft(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ft(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ft(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ft(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":pt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&pt(e,n=Pt.get(n)||n,i)}}function gu(e,t,n,i,a,s){switch(n){case"style":Mt(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Et(e,i):("number"==typeof i||"bigint"==typeof i)&&Et(e,""+i);break;case"onScroll":null!=i&&tu("scroll",e);break;case"onScrollEnd":null!=i&&tu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:ot.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(s=null!=(s=e[Ge]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):pt(e,n,i):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function xu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tu("error",e),tu("load",e);var i,a=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:fu(e,t,i,o,n,null)}}return s&&fu(e,t,"srcSet",n.srcSet,n,null),void(a&&fu(e,t,"src",n.src,n,null));case"input":tu("invalid",e);var l=i=o=s=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":s=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":i=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(r(137,t));break;default:fu(e,t,a,u,n,null)}}return void kt(e,i,l,c,d,o,s,!1);case"select":for(s in tu("invalid",e),a=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:fu(e,t,s,l,n,null)}return t=i,n=o,e.multiple=!!a,void(null!=t?At(e,!!a,t,!1):null!=n&&At(e,!!a,n,!0));case"textarea":for(o in tu("invalid",e),i=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:fu(e,t,o,l,n,null)}return void _t(e,a,s,i);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(a=n[c])&&("selected"===c?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:fu(e,t,c,a,n,null));return;case"dialog":tu("beforetoggle",e),tu("toggle",e),tu("cancel",e),tu("close",e);break;case"iframe":case"object":tu("load",e);break;case"video":case"audio":for(a=0;a<Xd.length;a++)tu(Xd[a],e);break;case"image":tu("error",e),tu("load",e);break;case"details":tu("toggle",e);break;case"embed":case"source":case"link":tu("error",e),tu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:fu(e,t,d,a,n,null)}return;default:if(Dt(t)){for(u in n)n.hasOwnProperty(u)&&void 0!==(a=n[u])&&gu(e,t,u,a,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&fu(e,t,l,a,n,null)}function bu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var yu=null,vu=null;function wu(e){return 9===e.nodeType?e:e.ownerDocument}function ju(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ku(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Su=null,Au="function"==typeof setTimeout?setTimeout:void 0,Cu="function"==typeof clearTimeout?clearTimeout:void 0,_u="function"==typeof Promise?Promise:void 0,Eu="function"==typeof queueMicrotask?queueMicrotask:void 0!==_u?function(e){return _u.resolve(null).then(e).catch(Tu)}:Au;function Tu(e){setTimeout(function(){throw e})}function Ou(e){return"head"===e}function Mu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Uu(e.ownerDocument.documentElement);else if("head"===n){Uu(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Ze]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}else"body"===n&&Uu(e.ownerDocument.body);n=i}while(n);Qh(t)}function Du(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pu(n),et(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Iu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Fu(e.nextSibling)))return null}return e}function Lu(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Fu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Bu=null;function Hu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Fu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function zu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Wu(e,t,n){switch(t=wu(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Uu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);et(e)}var Vu=new Map,$u=new Set;function qu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Gu=H.d;H.d={f:function(){var e=Gu.f(),t=id();return e||t},r:function(e){var t=nt(e);null!==t&&5===t.tag&&"form"===t.type?oo(t):Gu.r(e)},D:function(e){Gu.D(e),Qu("dns-prefetch",e,null)},C:function(e,t){Gu.C(e,t),Qu("preconnect",e,t)},L:function(e,t,n){Gu.L(e,t,n);var r=Yu;if(r&&e&&t){var i='link[rel="preload"][as="'+jt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+jt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+jt(n.imageSizes)+'"]')):i+='[href="'+jt(e)+'"]';var a=i;switch(t){case"style":a=Ju(e);break;case"script":a=eh(e)}Vu.has(a)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vu.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Xu(a))||"script"===t&&r.querySelector(th(a))||(xu(t=r.createElement("link"),"link",e),at(t),r.head.appendChild(t)))}},m:function(e,t){Gu.m(e,t);var n=Yu;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+jt(r)+'"][href="'+jt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=eh(e)}if(!Vu.has(a)&&(e=d({rel:"modulepreload",href:e},t),Vu.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(th(a)))return}xu(r=n.createElement("link"),"link",e),at(r),n.head.appendChild(r)}}},X:function(e,t){Gu.X(e,t);var n=Yu;if(n&&e){var r=it(n).hoistableScripts,i=eh(e),a=r.get(i);a||((a=n.querySelector(th(i)))||(e=d({src:e,async:!0},t),(t=Vu.get(i))&&ah(e,t),at(a=n.createElement("script")),xu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Gu.S(e,t,n);var r=Yu;if(r&&e){var i=it(r).hoistableStyles,a=Ju(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Xu(a)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vu.get(a))&&ih(e,n);var l=s=r.createElement("link");at(l),xu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,rh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Gu.M(e,t);var n=Yu;if(n&&e){var r=it(n).hoistableScripts,i=eh(e),a=r.get(i);a||((a=n.querySelector(th(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Vu.get(i))&&ah(e,t),at(a=n.createElement("script")),xu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Yu="undefined"==typeof document?null:document;function Qu(e,t,n){var r=Yu;if(r&&"string"==typeof t&&t){var i=jt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),$u.has(i)||($u.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(xu(t=r.createElement("link"),"link",e),at(t),r.head.appendChild(t)))}}function Ku(e,t,n,i){var a,s,o,l,c=(c=J.current)?qu(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ju(n.href),(i=(n=it(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ju(n.href);var d=it(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Xu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Vu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vu.set(e,n),d||(a=c,s=e,o=n,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),xu(s,"link",o),at(s),a.head.appendChild(s))))),t&&null===i)throw Error(r(528,""));return u}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=eh(n),(i=(n=it(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ju(e){return'href="'+jt(e)+'"'}function Xu(e){return'link[rel="stylesheet"]['+e+"]"}function Zu(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function eh(e){return'[src="'+jt(e)+'"]'}function th(e){return"script[async]"+e}function nh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+jt(n.href)+'"]');if(i)return t.instance=i,at(i),i;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return at(i=(e.ownerDocument||e).createElement("style")),xu(i,"style",a),rh(i,n.precedence,e),t.instance=i;case"stylesheet":a=Ju(n.href);var s=e.querySelector(Xu(a));if(s)return t.state.loading|=4,t.instance=s,at(s),s;i=Zu(n),(a=Vu.get(a))&&ih(i,a),at(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),xu(s,"link",i),t.state.loading|=4,rh(s,n.precedence,e),t.instance=s;case"script":return s=eh(n.src),(a=e.querySelector(th(s)))?(t.instance=a,at(a),a):(i=n,(a=Vu.get(s))&&ah(i=d({},n),a),at(a=(e=e.ownerDocument||e).createElement("script")),xu(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,rh(i,n.precedence,e));return t.instance}function rh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ah(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var sh=null;function oh(e,t,n){if(null===sh){var r=new Map,i=sh=new Map;i.set(n,r)}else(r=(i=sh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ze]||a[qe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function lh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ch(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var dh=0;function uh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var hh=null;function ph(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,hh=new Map,t.forEach(mh,e),hh=null,uh.call(e))}function mh(e,t){if(!(4&t.state.loading)){var n=hh.get(e);if(n)var r=n.get(null);else{n=new Map,hh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=uh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var fh={$$typeof:y,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function gh(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function xh(e,t,n,r,i,a,s,o,l,c,d,u){return e=new gh(e,t,n,s,l,c,d,u,o),t=1,!0===a&&(t|=24),a=Ur(3,null,null,t),e.current=a,a.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},wa(a),e}function bh(e){return e?e=zr:zr}function yh(e,t,n,r,i,a){i=bh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Na(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ka(e,r,t))&&(Zc(n,0,t),Sa(n,e,t))}function vh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function wh(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function jh(e){if(13===e.tag||31===e.tag){var t=Fr(e,67108864);null!==t&&Zc(t,0,67108864),wh(e,67108864)}}function Nh(e){if(13===e.tag||31===e.tag){var t=Jc(),n=Fr(e,t=ze(t));null!==n&&Zc(n,0,t),wh(e,t)}}var kh=!0;function Sh(e,t,n,r){var i=B.T;B.T=null;var a=H.p;try{H.p=2,Ch(e,t,n,r)}finally{H.p=a,B.T=i}}function Ah(e,t,n,r){var i=B.T;B.T=null;var a=H.p;try{H.p=8,Ch(e,t,n,r)}finally{H.p=a,B.T=i}}function Ch(e,t,n,r){if(kh){var i=_h(r);if(null===i)su(e,t,r,Eh,n),Hh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Dh=zh(Dh,e,t,n,r,i),!0;case"dragenter":return Ph=zh(Ph,e,t,n,r,i),!0;case"mouseover":return Ih=zh(Ih,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lh.set(a,zh(Lh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rh.set(a,zh(Rh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Hh(e,r),4&t&&-1<Bh.indexOf(e)){for(;null!==i;){var a=nt(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Oe(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Se(s);o.entanglements[1]|=l,s&=~l}Hd(a),!(6&bc)&&(Bc=pe()+500,zd(0))}}break;case 31:case 13:null!==(o=Fr(a,2))&&Zc(o,0,2),id(),wh(a,2)}if(null===(a=_h(r))&&su(e,t,r,Eh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else su(e,t,r,null,n)}}function _h(e){return Th(e=Bt(e))}var Eh=null;function Th(e){if(Eh=null,null!==(e=tt(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=s(t)))return e;e=null}else if(31===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Oh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case fe:return 2;case ge:return 8;case xe:case be:return 32;case ye:return 268435456;default:return 32}default:return 32}}var Mh=!1,Dh=null,Ph=null,Ih=null,Lh=new Map,Rh=new Map,Fh=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hh(e,t){switch(e){case"focusin":case"focusout":Dh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Ih=null;break;case"pointerover":case"pointerout":Lh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function zh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=nt(t))&&jh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Wh(e){var t=tt(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=s(n)))return e.blockedOn=t,void Ve(e.priority,function(){Nh(n)})}else if(31===t){if(null!==(t=o(n)))return e.blockedOn=t,void Ve(e.priority,function(){Nh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=nt(n))&&jh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ft=r,n.target.dispatchEvent(r),Ft=null,t.shift()}return!0}function Vh(e,t,n){Uh(e)&&n.delete(t)}function $h(){Mh=!1,null!==Dh&&Uh(Dh)&&(Dh=null),null!==Ph&&Uh(Ph)&&(Ph=null),null!==Ih&&Uh(Ih)&&(Ih=null),Lh.forEach(Vh),Rh.forEach(Vh)}function qh(t,n){t.blockedOn===n&&(t.blockedOn=null,Mh||(Mh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$h)))}var Gh=null;function Yh(t){Gh!==t&&(Gh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gh===t&&(Gh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===Th(r||n))continue;break}var a=nt(n);null!==a&&(t.splice(e,3),e-=3,ao(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Qh(e){function t(t){return qh(t,e)}null!==Dh&&qh(Dh,e),null!==Ph&&qh(Ph,e),null!==Ih&&qh(Ih,e),Lh.forEach(t),Rh.forEach(t);for(var n=0;n<Fh.length;n++){var r=Fh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Fh.length&&null===(n=Fh[0]).blockedOn;)Wh(n),null===n.blockedOn&&Fh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Ge]||null;if("function"==typeof a)s||Yh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ge]||null)o=s.formAction;else if(null!==Th(i))continue}else o=s.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Yh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Jh(e){this._internalRoot=e}function Xh(e){this._internalRoot=e}Xh.prototype.render=Jh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));yh(t.current,Jc(),e,t,null,null)},Xh.prototype.unmount=Jh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yh(e.current,2,null,e,null,null),id(),t[Ye]=null}},Xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fh.length&&0!==t&&t<Fh[n].priority;n++);Fh.splice(n,0,e),0===n&&Wh(e)}};var Zh=t.version;if("19.2.0"!==Zh)throw Error(r(527,Zh,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(i=s.return)){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return l(s),e;if(o===i)return l(s),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=o;else{for(var c=!1,d=s.child;d;){if(d===n){c=!0,n=s,i=o;break}if(d===i){c=!0,i=s,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,i=s;break}if(d===i){c=!0,i=o,n=s;break}d=d.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?c(e):null)?null:e.stateNode};var ep={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{je=tp.inject(ep),Ne=tp}catch(np){}}return N.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",s=Eo,o=To,l=Oo;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=xh(e,1,!1,null,0,n,a,null,s,o,l,Kh),e[Ye]=t.current,iu(e),new Jh(t)},N.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,s="",o=Eo,l=To,c=Oo,d=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=xh(e,1,!0,t,0,a,s,d,o,l,c,Kh)).context=bh(null),n=t.current,(s=Na(a=ze(a=Jc()))).callback=null,ka(n,s,a),n=a,t.current.lanes=n,Re(t,n),Hd(t),e[Ye]=t.current,iu(e),new Xh(t)},N.version="19.2.0",N}()),j.exports));var P="popstate";function I(e,t){if(!1===e||null==e)throw new Error(t)}function L(e,t){if(!e)try{throw new Error(t)}catch(Dw){}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function F(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?H(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function B({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function H(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function z(e,t,n="/"){return function(e,t,n){let r=te(("string"==typeof t?H(t):t).pathname||"/",n);if(null==r)return null;let i=W(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=ee(r);a=X(i[s],e,false)}return a}(e,t,n)}function W(e,t=[],n=[],r="",i=!1){let a=(e,a,s=i,o)=>{let l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;I(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=ae([r,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(I(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),W(e.children,t,d,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:J(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of U(e.path))a(e,t,!0,r);else a(e,t)}),t}function U(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=U(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var V=/^:[\w-]+$/,$=3,q=2,G=1,Y=10,Q=-2,K=e=>"*"===e;function J(e,t){let n=e.split("/"),r=n.length;return n.some(K)&&(r+=Q),t&&(r+=q),n.filter(e=>!K(e)).reduce((e,t)=>e+(V.test(t)?$:""===t?G:Y),r)}function X(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ae([a,d.pathname]),pathnameBase:se(ae([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=ae([a,d.pathnameBase]))}return s}function Z(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){L("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=o[r]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function ee(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return L(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ne(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function re(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ie(e,t,n,r=!1){let i;"string"==typeof e?i=H(e):(i={...e},I(!i.pathname||!i.pathname.includes("?"),ne("?","pathname","search",i)),I(!i.pathname||!i.pathname.includes("#"),ne("#","pathname","hash",i)),I(!i.search||!i.search.includes("#"),ne("#","search","hash",i)));let a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?H(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:oe(r),hash:le(i)}}(i,a),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var ae=e=>e.join("/").replace(/\/\/+/g,"/"),se=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oe=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",le=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",ce=["POST","PUT","PATCH","DELETE"];new Set(ce);var de=["GET",...ce];new Set(de);var ue=x.createContext(null);ue.displayName="DataRouter";var he=x.createContext(null);he.displayName="DataRouterState",x.createContext(!1);var pe=x.createContext({isTransitioning:!1});pe.displayName="ViewTransition",x.createContext(new Map).displayName="Fetchers",x.createContext(null).displayName="Await";var me=x.createContext(null);me.displayName="Navigation";var fe=x.createContext(null);fe.displayName="Location";var ge=x.createContext({outlet:null,matches:[],isDataRoute:!1});ge.displayName="Route";var xe=x.createContext(null);function be(){return null!=x.useContext(fe)}function ye(){return I(be(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(fe).location}xe.displayName="RouteError";var ve="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function we(e){x.useContext(me).static||x.useLayoutEffect(e)}function je(){let{isDataRoute:e}=x.useContext(ge);return e?function(){let{router:e}=function(){let e=x.useContext(ue);return I(e,Oe("useNavigate")),e}(),t=Me("useNavigate"),n=x.useRef(!1);return we(()=>{n.current=!0}),x.useCallback(async(r,i={})=>{L(n.current,ve),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}():function(){I(be(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ue),{basename:t,navigator:n}=x.useContext(me),{matches:r}=x.useContext(ge),{pathname:i}=ye(),a=JSON.stringify(re(r)),s=x.useRef(!1);return we(()=>{s.current=!0}),x.useCallback((r,o={})=>{if(L(s.current,ve),!s.current)return;if("number"==typeof r)return void n.go(r);let l=ie(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ae([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,a,i,e])}()}var Ne=x.createContext(null);function ke(){let{matches:e}=x.useContext(ge),t=e[e.length-1];return t?t.params:{}}function Se(e,{relative:t}={}){let{matches:n}=x.useContext(ge),{pathname:r}=ye(),i=JSON.stringify(re(n));return x.useMemo(()=>ie(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function Ae(e,t,n,r,i){var a;I(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(me),{matches:o}=x.useContext(ge),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Pe(d,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,m=ye();if(t){let e="string"==typeof t?H(t):t;I("/"===u||(null==(a=e.pathname)?void 0:a.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=m;let f=p.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=z(e,{pathname:g});L(h||null!=b,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),L(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=null==n?void 0:n.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));I(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let s=!1,o=-1;if(n)for(let l=0;l<i.length;l++){let e=i[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=l),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){s=!0,i=o>=0?i.slice(0,o+1):[i[0]];break}}}return i.reduceRight((e,l,c)=>{let d,u=!1,h=null,p=null;n&&(d=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||_e,s&&(o<0&&0===c?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),f=()=>{let t;return t=d?h:u?p:l.route.Component?x.createElement(l.route.Component,null):l.route.element?l.route.element:e,x.createElement(Te,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?x.createElement(Ee,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):f()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ae([u,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ae([u,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,r);return t&&y?x.createElement(fe.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function Ce(){let e=function(){var e;let t=x.useContext(xe),n=function(){let e=x.useContext(he);return I(e,Oe("useRouteError")),e}(),r=Me("useRouteError");return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return s=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,s)}var _e=x.createElement(Ce,null),Ee=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError&&this.props.unstable_onError(e,t)}render(){return void 0!==this.state.error?x.createElement(ge.Provider,{value:this.props.routeContext},x.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Te({routeContext:e,match:t,children:n}){let r=x.useContext(ue);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ge.Provider,{value:e},n)}function Oe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Me(e){let t=function(e){let t=x.useContext(ge);return I(t,Oe(e)),t}(e),n=t.matches[t.matches.length-1];return I(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var De={};function Pe(e,t,n){t||De[e]||(De[e]=!0,L(!1,n))}function Ie(e){return function(e){let t=x.useContext(ge).outlet;return x.useMemo(()=>t&&x.createElement(Ne.Provider,{value:e},t),[t,e])}(e.context)}function Le(e){I(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){I(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);"string"==typeof n&&(n=H(n));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:h="default"}=n,p=x.useMemo(()=>{let e=te(l,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:h},navigationType:r}},[s,l,c,d,u,h,r]);return L(null!=p,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:x.createElement(me.Provider,{value:o},x.createElement(fe.Provider,{children:t,value:p}))}function Fe({children:e,location:t}){return Ae(Be(e),t)}function Be(e,t=[]){let n=[];return x.Children.forEach(e,(e,r)=>{if(!x.isValidElement(e))return;let i=[...t,r];if(e.type===x.Fragment)return void n.push.apply(n,Be(e.props.children,i));I(e.type===Le,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),I(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Be(e.props.children,i)),n.push(a)}),n}x.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return Ae(e,void 0,n,r)});var He="get",ze="application/x-www-form-urlencoded";function We(e){return null!=e&&"string"==typeof e.tagName}function Ue(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var Ve=null,$e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qe(e){return null==e||$e.has(e)?e:(L(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ze}"`),null)}function Ge(e,t){if(!1===e||null==e)throw new Error(t)}function Ye(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Qe(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{var l;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function Ke(){let e=x.useContext(ue);return Ge(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Je=x.createContext(void 0);function Xe(){let e=x.useContext(Je);return Ge(e,"You must render this element inside a <HydratedRouter> element"),e}function Ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function et({page:e,...t}){let{router:n}=Ke(),r=x.useMemo(()=>z(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(tt,{page:e,matches:r,...t}):null}function tt({page:e,matches:t,...n}){let r=ye(),{manifest:i,routeModules:a}=Xe(),{basename:s}=Ke(),{loaderData:o,matches:l}=function(){let e=x.useContext(he);return Ge(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=x.useMemo(()=>Qe(e,t,l,i,r,"data"),[e,t,l,i,r]),d=x.useMemo(()=>Qe(e,t,l,i,r,"assets"),[e,t,l,i,r]),u=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=i.routes[e.route.id];r&&r.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in o&&(null==(t=a[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let d=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===te(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,s,"data");return l&&n.size>0&&d.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[d.pathname+d.search]},[s,o,r,i,c,t,e,a]),h=x.useMemo(()=>function(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}(d,i),[d,i]),p=function(e){let{manifest:t,routeModules:n}=Xe(),[r,i]=x.useState([]);return x.useEffect(()=>{let r=!1;return async function(e,t,n){return function(e){let t=new Set;return new Set(void 0),e.reduce((e,n)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(n));return t.has(r)||(t.add(r),e.push({key:r,link:n})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ye).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(d);return x.createElement(x.Fragment,null,u.map(e=>x.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>x.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),p.map(({key:e,link:t})=>x.createElement("link",{key:e,nonce:n.nonce,...t})))}function nt(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Je.displayName="FrameworkContext";var rt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{rt&&(window.__reactRouterVersion="7.9.3")}catch(Dw){}function it({basename:e,children:t,window:n}){let r=x.useRef();null==r.current&&(r.current=function(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),I(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:B(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}(e)}null==c&&(c=0,s.replaceState({...s.state,idx:c},""));let p={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(P,u),l=e,()=>{i.removeEventListener(P,u),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=F(p.location,e,t);c=d()+1;let r=R(n,c),u=p.createHref(n);try{s.pushState(r,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let n=F(p.location,e,t);c=d();let r=R(n,c),i=p.createHref(n);s.replaceState(r,"",i),a&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return F("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:B(t)},0,e)}({window:n,v5Compat:!0}));let i=r.current,[a,s]=x.useState({action:i.action,location:i.location}),o=x.useCallback(e=>{x.startTransition(()=>s(e))},[s]);return x.useLayoutEffect(()=>i.listen(o),[i,o]),x.createElement(Re,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=x.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:s,target:o,to:l,preventScrollReset:c,viewTransition:d,...u},h){let p,{basename:m}=x.useContext(me),f="string"==typeof l&&at.test(l),g=!1;if("string"==typeof l&&f&&(p=l,rt))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=te(t.pathname,m);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:g=!0}catch(Dw){L(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(e,{relative:t}={}){I(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(me),{hash:i,pathname:a,search:s}=Se(e,{relative:t}),o=a;return"/"!==n&&(o="/"===a?n:ae([n,a])),r.createHref({pathname:o,search:s,hash:i})}(l,{relative:r}),[y,v,w]=function(e,t){let n=x.useContext(Je),[r,i]=x.useState(!1),[a,s]=x.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,h=x.useRef(null);x.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),x.useEffect(()=>{if(r){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:Ze(o,p),onBlur:Ze(l,m),onMouseEnter:Ze(c,p),onMouseLeave:Ze(d,m),onTouchStart:Ze(u,p)}]:[!1,h,{}]}(n,u),j=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=je(),l=ye(),c=Se(e,{relative:a});return x.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==n?n:B(l)===B(c);o(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,c,n,r,t,e,i,a,s])}(l,{replace:a,state:s,target:o,preventScrollReset:c,relative:r,viewTransition:d}),N=x.createElement("a",{...u,...w,href:p||b,onClick:g||i?e:function(t){e&&e(t),t.defaultPrevented||j(t)},ref:nt(h,v),target:o,"data-discover":f||"render"!==t?void 0:"true"});return y&&!f?x.createElement(x.Fragment,null,N,x.createElement(et,{page:b})):N});function ot(e){let t=x.useContext(ue);return I(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}st.displayName="Link",x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:s,children:o,...l},c){let d=Se(a,{relative:l.relative}),u=ye(),h=x.useContext(he),{navigator:p,basename:m}=x.useContext(me),f=null!=h&&function(e,{relative:t}={}){let n=x.useContext(pe);I(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ot("useViewTransitionState"),i=Se(e,{relative:t});if(!n.isTransitioning)return!1;let a=te(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=te(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Z(i.pathname,s)||null!=Z(i.pathname,a)}(d)&&!0===s,g=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,b=u.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(b=b.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&m&&(y=te(y,m)||y);const v="/"!==g&&g.endsWith("/")?g.length-1:g.length;let w,j=b===g||!r&&b.startsWith(g)&&"/"===b.charAt(v),N=null!=y&&(y===g||!r&&y.startsWith(g)&&"/"===y.charAt(g.length)),k={isActive:j,isPending:N,isTransitioning:f},S=j?e:void 0;w="function"==typeof n?n(k):[n,j?"active":null,N?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let A="function"==typeof i?i(k):i;return x.createElement(st,{...l,"aria-current":S,className:w,ref:c,style:A,to:a,viewTransition:s},"function"==typeof o?o(k):o)}).displayName="NavLink",x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=He,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...h},p)=>{let m=function(){let{router:e}=ot("useSubmit"),{basename:t}=x.useContext(me),n=Me("useRouteId");return x.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:c}=function(e,t){let n,r,i,a,s;if(We(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?te(s,t):null,n=e.getAttribute("method")||He,i=qe(e.getAttribute("enctype"))||ze,a=new FormData(e)}else if(function(e){return We(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return We(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?te(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||He,i=qe(e.getAttribute("formenctype"))||qe(s.getAttribute("enctype"))||ze,a=new FormData(s,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(Dw){Ve=!0}return Ve}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(We(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=He,r=null,i=ze,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}(r,t);if(!1===i.navigate){let t=i.fetcherKey||ct();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}(),f=function(e,{relative:t}={}){let{basename:n}=x.useContext(me),r=x.useContext(ge);I(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Se(e||".",{relative:t})},s=ye();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}return e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(a.pathname="/"===a.pathname?n:ae([n,a.pathname])),B(a)}(o,{relative:c}),g="get"===s.toLowerCase()?"get":"post",b="string"==typeof o&&at.test(o);return x.createElement("form",{ref:p,method:g,action:f,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,o=(null==r?void 0:r.getAttribute("formmethod"))||s;m(r||e.currentTarget,{fetcherKey:t,method:o,navigate:n,replace:i,state:a,relative:c,preventScrollReset:d,viewTransition:u})},...h,"data-discover":b||"render"!==e?void 0:"true"})}).displayName="Form";var lt=0,ct=()=>`__${String(++lt)}__`,dt=M();const ut=a(dt),ht=e=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory",44:"view_mesins",45:"create_mesins",46:"edit_mesins",47:"delete_mesins",48:"view_vendors",49:"create_vendors",50:"edit_vendors",51:"delete_vendors",52:"view_units",53:"manage_units",54:"view_unitsp",55:"manage_unitsp",56:"view_workareas",57:"manage_workareas",58:"view_service_groups",59:"manage_service_groups",60:"view_service_catalogues",61:"manage_service_catalogues",62:"view_departments",63:"manage_departments",64:"view_item_mesins",65:"manage_item_mesins",66:"manage_groups",67:"manage_shifts",68:"manage_itemtroubles",69:"manage_jenisaktifitas",70:"manage_kegiatan",71:"manage_stoptimes",72:"manage_intervals",73:"manage_startstops",74:"view_trashed_mhs",75:"restore_mhs",76:"force_delete_mhs",77:"view_monitoring_schedules",78:"manage_monitoring_schedules",79:"view_monitoring_activities",80:"manage_monitoring_activities",81:"batch_update_monitoring_activities",82:"approve_schedule",83:"view_approval_templates",84:"manage_approval_templates",85:"set_active_approval_templates",86:"manage_template_approvers",87:"view_activity_logs",88:"view_erp_data",89:"manage_erp_integration",90:"view_genba_master",91:"manage_genba_roles",92:"manage_genba_sos",93:"manage_genba_so_bridges",94:"manage_genba_work_areas",95:"create_genba_activity",96:"view_own_genba_activity",97:"view_all_genba_activity",98:"approve_genba_activity",99:"delete_genba_activity"}[e]||null),pt=n(),mt=x.createContext(null),ft=e=>{var t,n;const r=e.department?{id:e.department.id,name:e.department.name,head_id:e.department.head_id,head:e.department.head?{id:e.department.head.id,name:e.department.head.name,email:e.department.head.email}:null}:null;return{id:String(e.id),name:e.name,nik:e.nik,email:e.email,roleId:e.role_id?String(e.role_id):null,role:e.role,roles:Array.isArray(e.roles)?e.roles:[],isSuperadmin:!!Array.isArray(e.roles)&&e.roles.includes("superadmin"),customPermissions:Array.isArray(e.customPermissions)?e.customPermissions:[],permissions:Array.isArray(e.permissions)?e.permissions:Array.isArray(e.allPermissions)?e.allPermissions:[],department:r,department_id:e.department_id||(null==(t=e.department)?void 0:t.id)||null,department_name:(null==(n=e.department)?void 0:n.name)||null,genbaSoRole:e.genbaSoRole?{genba_so_id:e.genbaSoRole.genba_so_id,genba_so_name:e.genbaSoRole.genba_so_name,role_id:e.genbaSoRole.role_id,role_name:e.genbaSoRole.role_name}:void 0}},gt=({children:e})=>{const[t,r]=x.useState(null),[i,a]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState(null),[d,u]=x.useState(!0),[p,m]=x.useState(!0),[f,g]=x.useState(null),b=je(),y=x.useRef(!1),v=x.useCallback(async()=>{o(!0);try{const e=i||localStorage.getItem("token");e&&await fetch(`${pt.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),a(null),r(null),c(null),o(!1),b("/login")}},[i,b]),w=x.useCallback(async()=>{if(y.current)return new Promise(e=>{const t=setInterval(()=>{y.current||(clearInterval(t),e(localStorage.getItem("token")))},100)});y.current=!0;const e=localStorage.getItem("refreshToken");if(!e)return await v(),null;try{const t=await fetch(`${pt.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({refresh_token:e})});if(!t.ok){if(401===t.status)return await v(),null;throw new Error("Token refresh failed")}const n=await t.json(),i=n.access_token,s=n.refresh_token||e;return localStorage.setItem("token",i),localStorage.setItem("refreshToken",s),a(i),r(e=>e?{...e,access_token:i,refresh_token:s}:null),i}catch(t){return await v(),null}finally{y.current=!1}},[v]),j=x.useCallback(async(e,t={})=>{let n=i||localStorage.getItem("token");const r=async n=>{var r;if(!n)throw new Error("No token found");const i=new Headers(t.headers||{});t.body instanceof FormData||!(null==(r=i.get("Content-Type"))?void 0:r.includes("application/json"))&&i.has("Content-Type")||i.set("Content-Type","application/json"),i.set("Authorization",`Bearer ${n}`);const a=await fetch(`${pt.envVariables.VITE_REACT_API_URL}${e}`,{...t,headers:i});if(204===a.status||"No Content"===a.statusText)return null;if(!a.ok){let e;try{e=await a.json()}catch(Dw){e=await a.text()}throw new Error(e.message||`HTTP error! Status: ${a.status}`)}let s;try{return s=await a.text(),s?JSON.parse(s):null}catch(Dw){return s}};try{return await r(n)}catch(a){if(a instanceof Error&&a.message.includes("status: 401")){const e=await w();if(e)return await r(e)}throw a}},[i,w]),N=x.useCallback(async()=>{const e=await j("/user/profile?includes_trashed=true"),t=ft(e);return r(t),localStorage.setItem("user",JSON.stringify(t)),t},[j]),k=x.useCallback(async()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user"),n=localStorage.getItem("refreshToken");if(e&&n){a(e);try{if(t){const e=JSON.parse(t);r(ft(e))}const e=await N();r(e)}catch(i){await v()}}},[N,v]),S=x.useCallback(async()=>{const[e,t,n,r,i,a,s,o,l]=await Promise.all([j("/mesin?includes_trashed=true"),j("/group?includes_trashed=true"),j("/shift?includes_trashed=true"),j("/unit?includes_trashed=true"),j("/unitsp?includes_trashed=true"),j("/itemtrouble?includes_trashed=true"),j("/jenisaktifitas?includes_trashed=true"),j("/kegiatan?includes_trashed=true"),j("/stoptime?includes_trashed=true")]);return{mesin:e,shifts:n,groups:t,stoptimes:l,units:r,itemtroubles:a,jenisaktivitas:s,kegiatans:o,unitspareparts:i}},[j]),A=x.useCallback(async()=>{try{return await j("/erp?includes_trashed=true",{method:"GET"})}catch(e){throw e}},[j]),C=x.useCallback(async e=>{const t=`<?xml version="1.0" encoding="utf-8"?>\n      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" \n                    xmlns:tem="http://tempuri.org/" \n                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n          <soap:Body>\n              <AddAsset xmlns="http://tempuri.org/">\n                  <asset>\n                      <Name>${e.name}</Name>\n                      <Category>${e.category}</Category>\n                      <Location>${e.location}</Location>\n                      <PurchaseDate>${e.purchase_date}</PurchaseDate>\n                      <Description>${e.description}</Description>\n                      <Type>${e.type||""}</Type>\n                      <Make>${e.make||""}</Make>\n                      <Model>${e.model||""}</Model>\n                      <Status>${e.status||""}</Status>\n                      <LastMaintenance ${e.last_maintenance?"":'xsi:nil="true"'}>${e.last_maintenance||""}</LastMaintenance>\n                      <NextMaintenance>${e.next_maintenance||""}</NextMaintenance>\n                      <WorkOrders>${e.work_orders||""}</WorkOrders>\n                      <Health>${e.health||""}</Health>\n                  </asset>\n              </AddAsset>\n          </soap:Body>\n      </soap:Envelope>`;try{const e=await j("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:t});if("string"==typeof e&&e.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return e}catch(n){throw n}},[j]),_=x.useCallback(async e=>{const t=`<?xml version="1.0" encoding="utf-8"?>\n      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n        <soap:Body>\n          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">\n            <assetId>${e.id}</assetId>\n            <assetName>${e.name}</assetName>\n            <assetCategory>${e.category}</assetCategory>\n            <assetLocation>${e.location}</assetLocation>\n            <purchaseDate>${e.purchase_date}</purchaseDate>\n            <description>${e.description}</description>\n            <assetType>${e.type||""}</assetType>\n            <assetMake>${e.make||""}</assetMake>\n            <assetModel>${e.model||""}</assetModel>\n            <assetStatus>${e.status||""}</assetStatus>\n            <lastMaintenance>${e.last_maintenance||""}</lastMaintenance>\n            <nextMaintenance>${e.next_maintenance||""}</nextMaintenance>\n            <workOrders>${e.work_orders||""}</workOrders>\n            <health>${e.health||""}</health>\n          </EditAsset>\n        </soap:Body>\n      </soap:Envelope>`;try{const e=await j("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:t});if("string"==typeof e&&e.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return e}catch(n){throw n}},[j]),E=x.useCallback(async e=>{const t=`<?xml version="1.0" encoding="utf-8"?>\n        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" \n               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n               xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n          <soap:Body>\n            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">\n             <assetId>${e}</assetId>\n            </DeleteAsset>\n          </soap:Body>\n        </soap:Envelope>`;try{const e=await j("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:t});if("string"==typeof e&&e.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return e}catch(n){throw n}},[j]),T=x.useCallback(async()=>{try{const e=await j("/history?includes_trashed=true");return e&&e.history&&Array.isArray(e.history)?e.history:Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),O=x.useCallback(e=>{var n;if(!t)return!1;if("3"===t.roleId)return!0;if(Array.isArray(e))return e.some(e=>{var n;const r=/^\d+$/.test(e)?ht(e):e;return!!r&&(null==(n=t.permissions)?void 0:n.includes(r))});const r=/^\d+$/.test(e)?ht(e):e;return r&&(null==(n=t.permissions)?void 0:n.includes(r))||!1},[t]);x.useEffect(()=>{(async()=>{m(!0);try{if(await k(),i){const e=await S();c(e)}}catch(e){await v()}finally{m(!1),u(!1)}})()},[i,k,S,v]);const M=x.useCallback(async(e,t)=>{m(!0);try{const i=await fetch(`${pt.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:e,password:t})});if(!i.ok){const e=await i.json();throw new Error(e.message||"Login failed")}const s=await i.json(),o=ft({...s.user,access_token:s.access_token,refresh_token:s.refresh_token,permissions:s.user.permissions||s.user.allPermissions||[]});localStorage.setItem("token",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),localStorage.setItem("user",JSON.stringify(o)),a(s.access_token),r(o);try{const e=await S();c(e)}catch(n){}b("/dashboard")}catch(n){throw n}finally{m(!1)}},[b,S]),D=x.useCallback(async e=>await j("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[j]),P=x.useCallback(async(e="")=>{try{const t=await j(e?`/mhs?search=${encodeURIComponent(e)}?includes_trashed=true`:"/mhs?includes_trashed=true"),n=await S(),r=t.data||t;if(!Array.isArray(r))throw new Error("Invalid response format");return r.map(e=>function(e,t){var n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S,A,C,_,E,T,O,M,D,P,I;const L=(null==(n=e.stoptime)?void 0:n.name)||(null==(i=null==(r=null==t?void 0:t.stoptimes)?void 0:r.data.find(t=>String(t.id)===String(e.stoptime_id)))?void 0:i.name)||"-";(null==(a=e.itemtrouble)?void 0:a.name)||null==(o=null==(s=null==t?void 0:t.itemtroubles)?void 0:s.data.find(t=>String(t.id)===String(e.itemtrouble_id)))||o.name,(null==(l=e.jenisaktifitas)?void 0:l.name)||null==(d=null==(c=null==t?void 0:t.jenisaktivitas)?void 0:c.data.find(t=>String(t.id)===String(e.jenisaktifitas_id)))||d.name,(null==(u=e.kegiatan)?void 0:u.name)||null==(p=null==(h=null==t?void 0:t.kegiatans)?void 0:h.data.find(t=>String(t.id)===String(e.kegiatan_id)))||p.name;const R=(null==(m=e.unitsp)?void 0:m.name)||(null==(g=null==(f=null==t?void 0:t.unitspareparts)?void 0:f.data.find(t=>String(t.id)===String(e.unitsp_id)))?void 0:g.name)||"-";return{id:String(e.id),date:e.date,shift:(null==(x=e.shift)?void 0:x.name)||"-",group:(null==(b=e.group)?void 0:b.name)||"-",unit:(null==(y=e.unit)?void 0:y.name)||"-",mesin:(null==(v=e.mesin)?void 0:v.name)||"-",stopJam:null!=(j=null==(w=e.startstop)?void 0:w.stop_time_hh)?j:null,stopMenit:null!=(k=null==(N=e.startstop)?void 0:N.stop_time_mm)?k:null,startJam:null!=(A=null==(S=e.startstop)?void 0:S.start_time_hh)?A:null,startMenit:null!=(_=null==(C=e.startstop)?void 0:C.start_time_mm)?_:null,stopTime:L,runningHour:null!=(E=e.running_hour)?E:0,itemTrouble:(null==(T=e.itemtrouble)?void 0:T.name)||"-",jenisGangguan:e.jenis_gangguan||"",bentukTindakan:e.bentuk_tindakan||"",perbaikanPerawatan:"Perbaikan"===(null==(O=e.jenisaktifitas)?void 0:O.name)?"Perbaikan":"Perawatan",rootCause:e.root_cause||"",jenisAktivitas:(null==(M=e.jenisaktifitas)?void 0:M.name)||"-",kegiatan:(null==(D=e.kegiatan)?void 0:D.name)||"-",kodePart:e.kode_part||"",sparePart:e.spare_part||"",idPart:e.id_part||"",jumlah:null!=(P=e.jumlah)?P:0,unitSparePart:R,startstop:null!=(I=e.startstop)?I:null}}(e,n))}catch(t){return[]}},[j,S]),I=x.useCallback(async e=>await j(`/mhs/${e}?includes_trashed=true`),[j]),L=x.useCallback(async(e,t)=>await j(`/mhs/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),[j]),R=x.useCallback(async e=>await j(`/mhs/${e}?includes_trashed=true`,{method:"DELETE"}),[j]),F=x.useCallback(async(e,t)=>{const n=new FormData;return Object.keys(e).forEach(t=>{const r=e[t];null!=r&&n.append(t,String(r))}),t&&n.append("attachment",t),await j("/ayam?includes_trashed=true",{method:"POST",body:n})},[j]),B=x.useCallback(async()=>{try{const e=await j("/ayam?includes_trashed=true");return e&&!0===e.success&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),H=x.useCallback(async e=>await j(`/ayam/${e}?includes_trashed=true`,{method:"GET"}),[j]),z=x.useCallback(async(e,t)=>{if(!e.id)throw new Error("Work order ID is required for update.");const n=new FormData;return n.append("_method","PUT"),Object.keys(e).forEach(t=>{const r=e[t];null!=r&&n.append(t,String(r))}),t&&n.append("attachment",t),await j(`/ayam/${e.id}?includes_trashed=true`,{method:"POST",body:n})},[j]),W=x.useCallback(async e=>await j(`/ayam/${e}?includes_trashed=true`,{method:"DELETE"}),[j]),U=x.useCallback(async e=>(await B()).filter(t=>!(t.requester_id!==parseInt(e)&&t.assigned_to_id!==parseInt(e)||"New"!==t.handling_status&&"Progress"!==t.handling_status)),[B]),V=x.useCallback(async(e,t)=>{await j("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:e,new_password:t,new_password_confirmation:t})})},[j]),$=x.useCallback(async()=>{try{const e=await j("/users?includes_trashed=true");let t;return t=e&&void 0!==e.success?e.data||[]:Array.isArray(e)?e:[],t.map(e=>ft(e))}catch(e){return[]}},[j]);x.useCallback(async e=>{const t=await j(`/users/${e}?includes_trashed=true`);return ft(t)},[j]);const q=x.useCallback(async()=>(await j("/user/profile?includes_trashed=true")).map(e=>ft(e)),[j]),G=x.useCallback(async()=>(await j("/roles?includes_trashed=true")).map(e=>({id:String(e.id),name:e.name,description:e.description||`${e.name} role`,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name})),[j]),Y=x.useCallback(async e=>{const t=await j("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description,permissions:e.permissions.map(Number)})});return{id:String(t.id),name:t.name,description:t.description,permissions:t.permissions.map(String)}},[j]),Q=x.useCallback(async(e,t)=>{var n;const r=await j(`/roles/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,description:t.description,permissions:null==(n=t.permissions)?void 0:n.map(Number)})});return{id:String(r.id),name:r.name,description:r.description,permissions:r.permissions.map(String)}},[j]),K=x.useCallback(async e=>{await j(`/roles/${e}?includes_trashed=true`,{method:"DELETE"})},[j]),J=x.useCallback(async(e,t)=>{const n=await j(`/users/${e}?includes_trashed=true`),r=await j(`/users/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,nik:n.nik,email:n.email,department:n.department,roleId:t.roleId||null,customPermissions:t.customPermissions||[]})});return ft(r)},[j]),X=x.useCallback(async e=>{await j(`/users/${e}?includes_trashed=true`,{method:"DELETE"})},[j]),Z=x.useCallback(async()=>{try{return(await j("/service-groups?includes_trashed=true")).data||[]}catch(e){return[]}},[j]),ee=x.useCallback(async e=>{try{return(await j(`/service-groups/${e}?includes_trashed=true`)).data}catch(t){throw t}},[j]),te=x.useCallback(async e=>{try{const t=await j("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t)throw new Error("No response from server");if(!1===t.success)throw new Error(t.message||"Failed to create service group");const n=t.data||t;return{id:n.id,group_name:n.group_name,group_description:n.group_description}}catch(t){throw new Error(`Failed to add service group: ${t instanceof Error?t.message:String(t)}`)}},[j]),ne=x.useCallback(async(e,t)=>{try{const n=await j(`/service-groups/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,group_name:r.group_name,group_description:r.group_description}}catch(n){throw new Error(`Failed to update service group: ${n instanceof Error?n.message:String(n)}`)}},[j]),re=x.useCallback(async e=>{try{await j(`/service-groups/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete service group: ${t instanceof Error?t.message:String(t)}`)}},[j]),ie=x.useCallback(async e=>{try{const e=await j("/service-catalogues?includes_trashed=true");let t;return t=e&&e.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:[],t}catch(t){return[]}},[j]),ae=x.useCallback(async e=>{try{const t=await j(`/service-catalogues?owner=${e}&includes_trashed=true`);return t.data||t}catch(t){return[]}},[j]),se=x.useCallback(async e=>{try{const t=await j("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=t.data||t;return{id:n.id,service_name:n.service_name,service_description:n.service_description,service_group:n.service_group,priority:n.priority,service_owner:n.service_owner,sla:n.sla,impact:n.impact,created_at:n.created_at,updated_at:n.updated_at}}catch(t){throw new Error(`Failed to add service catalogue: ${t instanceof Error?t.message:String(t)}`)}},[j]),oe=x.useCallback(async(e,t)=>{try{const n=await j(`/service-catalogues/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,service_name:r.service_name,service_description:r.service_description,service_group:r.service_group,priority:r.priority,service_owner:r.service_owner,sla:r.sla,impact:r.impact,created_at:r.created_at,updated_at:r.updated_at}}catch(n){throw new Error(`Failed to update service catalogue: ${n instanceof Error?n.message:String(n)}`)}},[j]),le=x.useCallback(async e=>{try{await j(`/service-catalogues/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete service catalogue: ${t instanceof Error?t.message:String(t)}`)}},[j]),ce=x.useCallback(e=>{g(e)},[]),de=x.useCallback(async()=>{try{const e=await j("/department?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),ue=x.useCallback(async e=>(await j(`/department/${e}?includes_trashed=true`)).data,[j]),he=x.useCallback(async e=>await j("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[j]),pe=x.useCallback(async(e,t)=>{try{const n=await j(`/department/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,name:r.name,head_id:r.head_id}}catch(n){throw new Error(`Failed to update service group: ${n instanceof Error?n.message:String(n)}`)}},[j]),me=x.useCallback(async e=>{try{await j(`/department/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete service catalogue: ${t instanceof Error?t.message:String(t)}`)}},[j]),fe=x.useCallback(async()=>{try{const e=await j("/stoptime?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),ge=x.useCallback(async e=>{try{const t=await j(`/stoptime/${e}`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch stop time: ${t instanceof Error?t.message:String(t)}`)}},[j]),xe=x.useCallback(async e=>{try{return await j("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add stop time: ${t instanceof Error?t.message:String(t)}`)}},[j]),be=x.useCallback(async(e,t)=>{try{const n=await j(`/stoptime/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update stop time: ${n instanceof Error?n.message:String(n)}`)}},[j]),ye=x.useCallback(async e=>{try{await j(`/stoptime/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete stop time: ${t instanceof Error?t.message:String(t)}`)}},[j]),ve=x.useCallback(async()=>{try{const e=await j("/jenisaktifitas?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),we=x.useCallback(async e=>{try{const t=await j(`/jenisaktifitas/${e}`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch jenis aktifitas: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ne=x.useCallback(async e=>{try{return await j("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add jenis aktifitas: ${t instanceof Error?t.message:String(t)}`)}},[j]),ke=x.useCallback(async(e,t)=>{try{const n=await j(`/jenisaktifitas/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update jenis aktifitas: ${n instanceof Error?n.message:String(n)}`)}},[j]),Se=x.useCallback(async e=>{try{await j(`/jenisaktifitas/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete jenis aktifitas: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ae=x.useCallback(async()=>{try{const e=await j("/kegiatan?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),Ce=x.useCallback(async e=>{try{const t=await j(`/kegiatan/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch activity: ${t instanceof Error?t.message:String(t)}`)}},[j]),_e=x.useCallback(async e=>{try{return await j("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add activity: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ee=x.useCallback(async(e,t)=>{try{const n=await j(`/kegiatan/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update activity: ${n instanceof Error?n.message:String(n)}`)}},[j]),Te=x.useCallback(async e=>{try{await j(`/kegiatan/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete activity: ${t instanceof Error?t.message:String(t)}`)}},[j]),Oe=x.useCallback(async()=>{try{const e=await j("/itemtrouble?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),Me=x.useCallback(async e=>{try{const t=await j(`/itemtrouble/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch trouble item: ${t instanceof Error?t.message:String(t)}`)}},[j]),De=x.useCallback(async e=>{try{return await j("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add trouble item: ${t instanceof Error?t.message:String(t)}`)}},[j]),Pe=x.useCallback(async(e,t)=>{try{const n=await j(`/itemtrouble/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update trouble item: ${n instanceof Error?n.message:String(n)}`)}},[j]),Ie=x.useCallback(async e=>{try{await j(`/itemtrouble/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete trouble item: ${t instanceof Error?t.message:String(t)}`)}},[j]),Le=x.useCallback(async()=>{try{const e=await j("/unit?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),Re=x.useCallback(async e=>{try{const t=await j(`/unit/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch work unit: ${t instanceof Error?t.message:String(t)}`)}},[j]),Fe=x.useCallback(async e=>{try{return await j("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add work unit: ${t instanceof Error?t.message:String(t)}`)}},[j]),Be=x.useCallback(async(e,t)=>{try{const n=await j(`/unit/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update work unit: ${n instanceof Error?n.message:String(n)}`)}},[j]),He=x.useCallback(async e=>{try{await j(`/unit/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work unit: ${t instanceof Error?t.message:String(t)}`)}},[j]),ze=x.useCallback(async()=>{try{const e=await j("/group?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),We=x.useCallback(async e=>{try{const t=await j(`/group/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch work group: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ue=x.useCallback(async e=>{try{return await j("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add work group: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ve=x.useCallback(async(e,t)=>{try{const n=await j(`/group/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update work group: ${n instanceof Error?n.message:String(n)}`)}},[j]),$e=x.useCallback(async e=>{try{await j(`/group/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work group: ${t instanceof Error?t.message:String(t)}`)}},[j]),qe=x.useCallback(async()=>{try{const e=await j("/shift?includes_trashed=true");return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:[]}catch(e){return[]}},[j]),Ge=x.useCallback(async e=>{try{const t=await j(`/shift/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch work shift: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ye=x.useCallback(async e=>{try{return await j("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){throw new Error(`Failed to add work shift: ${t instanceof Error?t.message:String(t)}`)}},[j]),Qe=x.useCallback(async(e,t)=>{try{const n=await j(`/shift/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n&&"object"==typeof n)return n.data?n.data:n;throw new Error("Invalid response format")}catch(n){throw new Error(`Failed to update work shift: ${n instanceof Error?n.message:String(n)}`)}},[j]),Ke=x.useCallback(async e=>{try{await j(`/shift/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work shift: ${t instanceof Error?t.message:String(t)}`)}},[j]),Je=x.useCallback(async e=>{try{const t=await j(`/unit/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return void 0!==t.success&&t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch unit: ${t instanceof Error?t.message:String(t)}`)}},[j]),Xe=x.useCallback(async e=>{try{const t=await j(`/mesin/${e}?includes_trashed=true`);if(t&&"object"==typeof t)return void 0!==t.success&&t.data?t.data:t;throw new Error("Invalid response format")}catch(t){throw new Error(`Failed to fetch mesin: ${t instanceof Error?t.message:String(t)}`)}},[j]),Ze=x.useCallback(async()=>{try{const e=await j("/unit?includes_trashed=true");let t=[];return Array.isArray(e)?t=e:e&&Array.isArray(e.data)&&(t=e.data),await Promise.all(t.map(async e=>{try{const t=await j(`/unit/${e.id}?includes_trashed=true`);let n=t;return t&&void 0!==t.success&&t.data&&(n=t.data),{id:n.id,name:n.name,created_at:n.created_at,updated_at:n.updated_at,deleted_at:n.deleted_at,mesin:n.mesin||[]}}catch(t){return{id:e.id,name:e.name,created_at:e.created_at,updated_at:e.updated_at,deleted_at:e.deleted_at,mesin:[]}}}))}catch(e){return[]}},[j]),et=x.useCallback(async()=>{try{const e=await j("/interval?includes_trashed=true");let t=[];Array.isArray(e)?t=e:e&&Array.isArray(e.data)&&(t=e.data);const n=await Ze(),r=await j("/mesin?includes_trashed=true");let i=[];return Array.isArray(r)?i=r:r&&Array.isArray(r.data)&&(i=r.data),{unit:n,mesin:i,unitsWithMachines:n,intervals:t}}catch(e){return{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[j,Ze]),tt=x.useCallback(async()=>{try{const e=await j("/monitoring-schedules?includes_trashed=true");if(Array.isArray(e))return e;if(e&&void 0!==e.success){if(e.success&&Array.isArray(e.data))return e.data;if(e.success&&Array.isArray(e.result))return e.result}return e&&Array.isArray(e.data)?e.data:e&&Array.isArray(e.result)?e.result:[]}catch(e){throw new Error(`Failed to fetch monitoring schedule: ${e instanceof Error?e.message:String(e)}`)}},[j]),nt=x.useCallback(async e=>{try{const t=await j(`/monitoring-schedules/${e}?includes_trashed=true`);if(t&&void 0!==t.success){if(t.success&&t.data)return t.data;if(!t.success)throw new Error(t.message||"Failed to fetch monitoring schedule")}if(t&&t.id_monitoring_schedule)return t;if(Array.isArray(t)&&t.length>0)return t[0];throw new Error("Invalid response format")}catch(t){if(t instanceof Error){if(t.message.includes("404"))throw new Error(`Monitoring schedule with id ${e} not found`);if(t.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${t instanceof Error?t.message:String(t)}`)}},[j]),rt=x.useCallback(async e=>{try{const t=await j("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t)throw new Error("No response from server");if(!1===t.success)throw new Error(t.message||"Failed to create monitoring schedule");const n=t.data||t.result||t;if(!n)throw new Error("Invalid response format");return n}catch(t){if(t instanceof Error){if(t.message.includes("401"))throw new Error("Unauthorized - Please login again");if(t.message.includes("404"))throw new Error("Endpoint not found");if(t.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${t instanceof Error?t.message:String(t)}`)}},[j]),it=x.useCallback(async e=>{try{const t=await j("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return Array.isArray(t)?t:t&&Array.isArray(t.data)?t.data:[]}catch(t){throw new Error(`Failed to add monitoring activities: ${t instanceof Error?t.message:String(t)}`)}},[j]),at=x.useCallback(async e=>{try{const t=e.map(e=>({id_monitoring_activity:e.id,...e.data})),n=await j("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Array.isArray(n)?n:n&&Array.isArray(n.data)?n.data:[]}catch(t){throw new Error(`Failed to update monitoring activities: ${t instanceof Error?t.message:String(t)}`)}},[j]),st=x.useCallback(async e=>{try{const t=await j(`/mesin/${e}?includes_trashed=true`);return t&&void 0!==t.success?t.data:t}catch(t){throw new Error(`Failed to fetch mesin detail: ${t instanceof Error?t.message:String(t)}`)}},[j]),ot=x.useCallback(async()=>{try{const e=await j("/vendor?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),lt=x.useCallback(async e=>(await j(`/vendor/${e}?includes_trashed=true`)).data,[j]),ct=x.useCallback(async e=>await j("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[j]),dt=x.useCallback(async(e,t)=>{try{const n=await j(`/vendor/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,name:r.name,address:r.address,contact_person:r.contact_person,email:r.email,telp:r.telp,HP:r.HP}}catch(n){throw new Error(`Failed to update vendor: ${n instanceof Error?n.message:String(n)}`)}},[j]),ut=x.useCallback(async e=>{try{await j(`/vendor/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete vendor: ${t instanceof Error?t.message:String(t)}`)}},[j]),gt=x.useCallback(async()=>{try{const e=await j("/approval-templates?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),xt=x.useCallback(async e=>await j(`/approval-templates/${e}?includes_trashed=true`),[j]),bt=x.useCallback(async e=>{const t=await j("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.data||t},[j]),yt=x.useCallback(async(e,t)=>{const n=await j(`/approval-templates/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.data||n},[j]),vt=x.useCallback(async e=>{await j(`/approval-templates/${e}?includes_trashed=true`,{method:"DELETE"})},[j]),wt=x.useCallback(async(e,t)=>{const n=await j(`/approval-templates/${e}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.data||n},[j]),jt=x.useCallback(async(e,t,n)=>{const r=await j(`/template-approvers/${t}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return r.data||r},[j]),Nt=x.useCallback(async(e,t)=>{await j(`/template-approvers/${t}?includes_trashed=true`,{method:"DELETE"})},[j]),kt=x.useCallback(async e=>(await j(`/approval-templates/${e}?includes_trashed=true`)).approvers||[],[j]),St=x.useCallback(async e=>{const t=await j(`/approval-templates/${e}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return t.data||t},[j]),At=x.useCallback(async(e,t)=>{const n=await j(`/schedules/${e}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:t})});return n&&n.message?{success:!0,message:n.message,data:n.data||n}:n},[j]),Ct=x.useCallback(async()=>{try{const e=await j("/workarea?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),_t=x.useCallback(async e=>(await j(`/workarea/${e}?includes_trashed=true`)).data,[j]),Et=x.useCallback(async e=>await j("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),[j]),Tt=x.useCallback(async(e,t)=>{try{const n=await j(`/workarea/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=n.data||n;return{id:r.id,work_area:r.work_area}}catch(n){throw new Error(`Failed to update work area: ${n instanceof Error?n.message:String(n)}`)}},[j]),Ot=x.useCallback(async e=>{try{await j(`/workarea/${e}?includes_trashed=true`,{method:"DELETE"})}catch(t){throw new Error(`Failed to delete work area: ${t instanceof Error?t.message:String(t)}`)}},[j]),Mt=x.useCallback(async()=>{try{const e=await j("/genba-roles?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),Dt=x.useCallback(async()=>{try{const e=await j("/genba-sos?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),Pt=x.useCallback(async e=>{const t=await j(`/genba-sos/${e}?includes_trashed=true`);return t.data||t},[j]),It=x.useCallback(async e=>{const t=await j("/genba-sos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.data||t},[j]),Lt=x.useCallback(async(e,t)=>{const n=await j(`/genba-sos/${e}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return n.data||n},[j]),Rt=x.useCallback(async e=>{await j(`/genba-sos/${e}?includes_trashed=true`,{method:"DELETE"})},[j]),Ft=x.useCallback(async e=>{const t=await j(`/genba-sos/${e}/activate?includes_trashed=true`,{method:"PATCH",headers:{"Content-Type":"application/json"}});return t.data||t},[j]),Bt=x.useCallback(async()=>{try{const e=await j("/genba-work-areas?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),Ht=x.useCallback(async()=>{const e=`${n().envVariables.VITE_REACT_API_URL}/genba-work-areas?includes_trashed=true`;try{const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return[];const n=await t.json();return n.data||n}catch(t){return[]}},[]),zt=x.useCallback(async e=>{const t=new FormData;t.append("department_id",e.department_id.toString()),t.append("pic_user_id",e.pic_user_id.toString()),e.work_areas.forEach((e,n)=>{t.append(`work_areas[${n}][name]`,e.name),t.append(`work_areas[${n}][is_default]`,e.is_default?"1":"0"),e.attachment&&t.append(`work_areas[${n}][attachment]`,e.attachment)});try{return await j("/genba-work-areas",{method:"POST",body:t})}catch(n){throw n}},[j]),Wt=x.useCallback(async(e,t,n)=>{let r;t instanceof FormData?r=t:(r=new FormData,Array.isArray(t.name)?r.append("name",JSON.stringify(t.name)):r.append("name",t.name),r.append("department_id",t.department_id.toString()),r.append("is_default",t.is_default?"1":"0"),r.append("pic_user_id",t.pic_user_id.toString()),n&&r.append("attachment",n)),r.append("_method","PUT");const i=await j(`/genba-work-areas/${e}`,{method:"POST",body:r});return i.data||i},[j]),Ut=x.useCallback(async e=>{await j(`/genba-work-areas/${e}?includes_trashed=true`,{method:"DELETE"})},[j]),Vt=x.useCallback(async()=>{try{const e=await j("/genba-activities?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),$t=x.useCallback(async()=>{try{const e=await j("/genba-activities-all-photos-index?includes_trashed=true");return e.data||e}catch(e){return[]}},[j]),qt=x.useCallback(async e=>{const t=await j(`/genba-activities/${e}?includes_trashed=true`);return t.data||t},[j]),Gt=x.useCallback(async(e,t)=>{const n=new FormData;return n.append("date",e.date),n.append("genba_work_area_id",e.genba_work_area_id.toString()),n.append("keterangan",e.keterangan),t&&t.length>0?t.forEach(e=>{n.append("attachments[]",e)}):n.append("attachments",""),await j("/genba-activities",{method:"POST",body:n})},[j]),Yt=x.useCallback(async(e,t,n)=>{const r=new FormData;return t.date&&r.append("date",t.date),t.genba_work_area_id&&r.append("genba_work_area_id",t.genba_work_area_id.toString()),t.keterangan&&r.append("keterangan",t.keterangan),r.append("_method","PUT"),n&&n.length>0&&n.forEach(e=>{r.append("attachments[]",e)}),await j(`/genba-activities/${e}`,{method:"POST",body:r})},[j]),Qt=x.useCallback(async e=>{await j(`/genba-activities/${e}?includes_trashed=true`,{method:"DELETE"})},[j]);return h.jsx(mt.Provider,{value:{user:t,token:i,isAuthenticated:!!i,login:M,register:async(e,t,n,r,i,a,s)=>{const o=await fetch(`${pt.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,nik:n,email:t,password:r,department_id:i,role_id:a||null,customPermissions:s?s.map(Number):[]})}),l=await o.json();if(!o.ok)throw new Error(l.message||"User creation failed");return l},logout:v,isLoggingOut:s,fetchWithAuth:j,getAllMasterData:S,submitMachineHistory:D,getMachineHistories:P,getMachineHistoryById:I,updateMachineHistory:L,deleteMachineHistory:R,masterData:l,isMasterDataLoading:d,addWorkOrderIT:F,getWorkOrdersIT:B,updateWorkOrderIT:z,deleteWorkOrder:W,getWorkOrderById:H,departments:[],services:[],serviceGroups:[],getServices:ie,getServicesByOwner:ae,addServiceCatalogue:se,updateServiceCatalogue:oe,deleteServiceCatalogue:le,getServiceGroups:Z,getServiceGroup:ee,addServiceGroup:te,updateServiceGroup:ne,deleteServiceGroup:re,changePassword:V,fetchUser:N,fetchedUsers:q,getUsers:$,hasPermission:O,setEditingUser:ce,getRoles:G,createRole:Y,updateRole:Q,deleteRole:K,updateUserPermissions:J,deleteUser:X,isAuthLoading:p,getAssetsData:A,addAsset:C,editAsset:_,deleteAsset:E,getWorkOrdersForUser:U,getAuditTrail:T,getDepartment:de,getDepartmentById:ue,addDepartment:he,updateDepartment:pe,deleteDepartment:me,getMonitoringSchedules:tt,addMonitoringSchedule:rt,addMonitoringActivities:it,updateMonitoringActivity:at,getStopTimes:fe,getStopTimesById:ge,addStopTimes:xe,updateStopTimes:be,deleteStopTimes:ye,getActivityTypes:ve,getActivityTypesById:we,addActivityTypes:Ne,updateActivityTypes:ke,deleteActivityTypes:Se,getActivity:Ae,getActivityById:Ce,addActivity:_e,updateActivity:Ee,deleteActivity:Te,getTroubleItem:Oe,getTroubleItemById:Me,addTroubleItem:De,updateTroubleItem:Pe,deleteTroubleItem:Ie,getWorkUnit:Le,getWorkUnitById:Re,addWorkUnit:Fe,updateWorkUnit:Be,deleteWorkUnit:He,getWorkGroup:ze,getWorkGroupById:We,addWorkGroup:Ue,updateWorkGroup:Ve,deleteWorkGroup:$e,getWorkShift:qe,getWorkShiftById:Ge,addWorkShift:Ye,updateWorkShift:Qe,deleteWorkShift:Ke,getUnit:Je,getMesin:Xe,getUnitsWithMachines:Ze,getAllMasterMonitoring:et,getMesinDetail:st,getMonitoringScheduleById:nt,getVendor:ot,getVendorById:lt,addVendor:ct,updateVendor:dt,deleteVendor:ut,getApprovalTemplates:gt,getApprovalTemplateById:xt,createApprovalTemplate:bt,updateApprovalTemplate:yt,deleteApprovalTemplate:vt,addApproverToTemplate:wt,updateApprover:jt,deleteApprover:Nt,getTemplateApprovers:kt,setApprovalTemplateActive:St,approveSchedule:At,getWorkArea:Ct,getWorkAreaById:_t,addWorkArea:Et,updateWorkArea:Tt,deleteWorkArea:Ot,getGenbaRoles:Mt,getGenbaSOs:Dt,getGenbaAreas:Bt,getGenbaAreas2:Ht,getGenbaSOById:Pt,createGenbaSO:It,createGenbaAreas:zt,updateGenbaSO:Lt,updateGenbaAreas:Wt,deleteGenbaAreas:Ut,deleteGenbaSO:Rt,setGenbaSOActive:Ft,getGenbaActivities:Vt,getGenbaActivitiesPhoto:$t,getGenbaActivityById:qt,createGenbaActivity:Gt,updateGenbaActivity:Yt,deleteGenbaActivity:Qt},children:e})},xt=()=>{const e=x.useContext(mt);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},bt="/assets/logo-wida-OsCBOu3a.png";var yt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vt=b.createContext&&b.createContext(yt),wt=["attr","size","title"];function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){var r,i,a,s;r=e,i=t,a=n[t],(i="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i,"string"))?s:s+"")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function St(e){return e&&e.map((e,t)=>b.createElement(e.tag,kt({key:t},e.attr),St(e.child)))}function At(e){return t=>b.createElement(Ct,jt({attr:kt({},e.attr)},t),St(e.child))}function Ct(e){var t=t=>{var n,{attr:r,size:i,title:a}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wt),o=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),b.createElement("svg",jt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:kt(kt({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&b.createElement("title",null,a),e.children)};return void 0!==vt?b.createElement(vt.Consumer,null,e=>t(e)):t(yt)}function _t(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function Et(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function Tt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Ot(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Mt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Dt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Pt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function It(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function Lt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function Rt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Ft(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Bt(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}const Ht=["Hello","Bonjour","Holla"," ","Salam","","Hallo","Namaste",""],zt=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(!1),[s,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[p,m]=x.useState(Ht[0]),[f,g]=x.useState(!1),{login:b}=xt(),y=je();x.useEffect(()=>{let e;u(!0);const t=setInterval(()=>{g(!0),e=window.setTimeout(()=>{m(e=>{const t=(Ht.indexOf(e)+1)%Ht.length;return Ht[t]}),g(!1)},500)},3e3);return()=>{clearInterval(t),clearTimeout(e)}},[]);const v=f?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:h.jsxs("div",{className:"flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden\n\t\t\t\t\t\t transform transition-all duration-700 ease-out "+(d?"translate-y-0 opacity-100":"translate-y-10 opacity-0"),children:[h.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 "+(d?"opacity-100":"opacity-0"),children:[h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-10 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),h.jsx("h1",{style:{fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out",...v},className:"text-3xl font-bold transition-opacity duration-700 ease-out delay-300 "+(d?"opacity-100":"opacity-0"),children:p}),h.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 "+(d?"opacity-100":"opacity-0"),children:"Hey, welcome back to your special place"}),s&&h.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.jsx("span",{children:s})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),o(""),c(!0);try{await b(e,n);const t=localStorage.getItem("intendedPath");t&&"/login"!==t?(y(t,{replace:!0}),localStorage.removeItem("intendedPath")):y("/dashboard",{replace:!0})}catch(r){o(r instanceof Error?r.message:"Login failed")}finally{c(!1)}},className:"space-y-6","aria-label":"Login Form",children:[h.jsxs("div",{className:"transition-all duration-500 ease-out delay-500 "+(d?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:e,onChange:e=>t(e.target.value),required:!0,autoComplete:"off",className:"w-full px-4 py-3 text-base rounded-md border border-gray-300\r\n\t\t\t\t\t\t\t\t\t focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r\n\t\t\t\t\t\t\t\t\t transition-all duration-300 ease-in-out"})]}),h.jsxs("div",{className:"transition-all duration-500 ease-out delay-600 "+(d?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"password",type:i?"text":"password",placeholder:"",value:n,onChange:e=>r(e.target.value),required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 text-base rounded-md border border-gray-300\r\n\t\t\t\t\t\t\t\t\t focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r\n\t\t\t\t\t\t\t\t\t transition-all duration-300 ease-in-out pr-10"}),h.jsx("button",{type:"button",onClick:()=>{a(!i)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":i?"Hide password":"Show password",children:i?h.jsx(Dt,{size:18}):h.jsx(Pt,{size:18})})]}),h.jsx("div",{className:"flex justify-end mt-2",children:h.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),h.jsxs("div",{className:"flex items-center transition-all duration-500 ease-out delay-700 "+(d?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),h.jsx("button",{type:"submit",disabled:l,className:`w-full py-3 px-4 rounded-md text-base font-medium\n\t\t\t\t\t\t\t\t\t transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\n\t\t\t\t\t\t\t\t\t ${l?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}\n\t\t\t\t\t\t\t\t\t flex items-center justify-center\n\t\t\t\t\t\t\t\t\t ${d?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:l?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),h.jsxs("p",{className:"text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 "+(d?"opacity-100":"opacity-0"),children:["Don't have an account?"," ",h.jsx(st,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),h.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:h.jsxs("p",{className:"text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 "+(d?"opacity-100":"opacity-0"),children:[" ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),h.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8\n\t\t\t\t\t\t transform transition-all duration-700 ease-out delay-300 "+(d?"translate-x-0 opacity-100":"translate-x-10 opacity-0"),children:[h.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),h.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),h.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),h.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[h.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),h.jsx("div",{className:"text-blue-300 animate-pulse-light",children:h.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),h.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[h.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:h.jsx("div",{className:"bg-blue-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),h.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),h.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:h.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Wt=x.createContext({});function Ut(e){const t=x.useRef(null);return null===t.current&&(t.current=e()),t.current}const Vt="undefined"!=typeof window,$t=Vt?x.useLayoutEffect:x.useEffect,qt=x.createContext(null);function Gt(e,t){-1===e.indexOf(t)&&e.push(t)}function Yt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Qt=(e,t,n)=>n>t?t:n<e?e:n,Kt={},Jt=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Xt(e){return"object"==typeof e&&null!==e}const Zt=e=>/^0[^.\s]+$/u.test(e);function en(e){let t;return()=>(void 0===t&&(t=e()),t)}const tn=e=>e,nn=(e,t)=>n=>t(e(n)),rn=(...e)=>e.reduce(nn),an=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class sn{constructor(){this.subscriptions=[]}add(e){return Gt(this.subscriptions,e),()=>Yt(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const on=e=>1e3*e,ln=e=>e/1e3;function cn(e,t){return t?e*(1e3/t):0}const dn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function un(e,t,n,r){if(e===t&&n===r)return tn;return i=>0===i||1===i?i:dn(function(e,t,n,r,i){let a,s,o=0;do{s=t+(n-t)/2,a=dn(s,r,i)-e,a>0?n=s:t=s}while(Math.abs(a)>1e-7&&++o<12);return s}(i,0,1,e,n),t,r)}const hn=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pn=e=>t=>1-e(1-t),mn=un(.33,1.53,.69,.99),fn=pn(mn),gn=hn(fn),xn=e=>(e*=2)<1?.5*fn(e):.5*(2-Math.pow(2,-10*(e-1))),bn=e=>1-Math.sin(Math.acos(e)),yn=pn(bn),vn=hn(bn),wn=un(.42,0,1,1),jn=un(0,0,.58,1),Nn=un(.42,0,.58,1),kn=e=>Array.isArray(e)&&"number"==typeof e[0],Sn={linear:tn,easeIn:wn,easeInOut:Nn,easeOut:jn,circIn:bn,circInOut:vn,circOut:yn,backIn:fn,backInOut:gn,backOut:mn,anticipate:xn},An=e=>{if(kn(e)){e.length;const[t,n,r,i]=e;return un(t,n,r,i)}return"string"==typeof e?Sn[e]:e},Cn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _n(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=Cn.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(t){a.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:(e,i=!1,s=!1)=>{const o=s&&r?t:n;return i&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),a.delete(e)},process:e=>{s=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(a),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=s,f=()=>{const a=Kt.useManualTiming?i.timestamp:performance.now();n=!1,Kt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Cn.reduce((t,a)=>{const o=s[a];return t[a]=(t,a=!1,s=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,a,s)),t},{}),cancel:e=>{for(let t=0;t<Cn.length;t++)s[Cn[t]].cancel(e)},state:i,steps:s}}const{schedule:En,cancel:Tn,state:On,steps:Mn}=_n("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:tn,!0);let Dn;function Pn(){Dn=void 0}const In={now:()=>(void 0===Dn&&In.set(On.isProcessing||Kt.useManualTiming?On.timestamp:performance.now()),Dn),set:e=>{Dn=e,queueMicrotask(Pn)}},Ln=e=>t=>"string"==typeof t&&t.startsWith(e),Rn=Ln("--"),Fn=Ln("var(--"),Bn=e=>!!Fn(e)&&Hn.test(e.split("/*")[0].trim()),Hn=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zn={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Wn={...zn,transform:e=>Qt(0,1,e)},Un={...zn,default:1},Vn=e=>Math.round(1e5*e)/1e5,$n=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,qn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gn=(e,t)=>n=>Boolean("string"==typeof n&&qn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Yn=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,a,s,o]=r.match($n);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},Qn={...zn,transform:e=>Math.round((e=>Qt(0,255,e))(e))},Kn={test:Gn("rgb","red"),parse:Yn("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Qn.transform(e)+", "+Qn.transform(t)+", "+Qn.transform(n)+", "+Vn(Wn.transform(r))+")"},Jn={test:Gn("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Kn.transform},Xn=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Zn=Xn("deg"),er=Xn("%"),tr=Xn("px"),nr=Xn("vh"),rr=Xn("vw"),ir=(()=>({...er,parse:e=>er.parse(e)/100,transform:e=>er.transform(100*e)}))(),ar={test:Gn("hsl","hue"),parse:Yn("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+er.transform(Vn(t))+", "+er.transform(Vn(n))+", "+Vn(Wn.transform(r))+")"},sr={test:e=>Kn.test(e)||Jn.test(e)||ar.test(e),parse:e=>Kn.test(e)?Kn.parse(e):ar.test(e)?ar.parse(e):Jn.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Kn.transform(e):ar.transform(e),getAnimatableNone:e=>{const t=sr.parse(e);return t.alpha=0,sr.transform(t)}},or=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,lr="number",cr="color",dr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ur(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(dr,e=>(sr.test(e)?(r.color.push(a),i.push(cr),n.push(sr.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(lr),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function hr(e){return ur(e).values}function pr(e){const{split:t,types:n}=ur(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===lr?Vn(e[a]):t===cr?sr.transform(e[a]):e[a]}return i}}const mr=e=>"number"==typeof e?0:sr.test(e)?sr.getAnimatableNone(e):e,fr={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match($n))?void 0:t.length)||0)+((null==(n=e.match(or))?void 0:n.length)||0)>0},parse:hr,createTransformer:pr,getAnimatableNone:function(e){const t=hr(e);return pr(e)(t.map(mr))}};function gr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xr(e,t){return n=>n>0?t:e}const br=(e,t,n)=>e+(t-e)*n,yr=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},vr=[Jn,Kn,ar];function wr(e){const t=(n=e,vr.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===ar&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=gr(o,r,e+1/3),a=gr(o,r,e),s=gr(o,r,e-1/3)}else i=a=s=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:r}}(r)),r}const jr=(e,t)=>{const n=wr(e),r=wr(t);if(!n||!r)return xr(e,t);const i={...n};return e=>(i.red=yr(n.red,r.red,e),i.green=yr(n.green,r.green,e),i.blue=yr(n.blue,r.blue,e),i.alpha=br(n.alpha,r.alpha,e),Kn.transform(i))},Nr=new Set(["none","hidden"]);function kr(e,t){return n=>br(e,t,n)}function Sr(e){return"number"==typeof e?kr:"string"==typeof e?Bn(e)?xr:sr.test(e)?jr:_r:Array.isArray(e)?Ar:"object"==typeof e?sr.test(e)?jr:Cr:xr}function Ar(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>Sr(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Cr(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Sr(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const _r=(e,t)=>{const n=fr.createTransformer(t),r=ur(e),i=ur(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Nr.has(e)&&!i.values.length||Nr.has(t)&&!r.values.length?function(e,t){return Nr.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):rn(Ar(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][i[s]],l=null!=(n=e.values[o])?n:0;r[a]=l,i[s]++}return r}(r,i),i.values),n):xr(e,t)};function Er(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?br(e,t,n):Sr(e)(e,t)}const Tr=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>En.update(t,e),stop:()=>Tn(t),now:()=>On.isProcessing?On.timestamp:In.now()}},Or=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(1e4*e(a/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mr=2e4;function Dr(e){let t=0,n=e.next(t);for(;!n.done&&t<Mr;)t+=50,n=e.next(t);return t>=Mr?1/0:t}function Pr(e,t,n){const r=Math.max(t-5,0);return cn(n-e(r),t-r)}const Ir=.01,Lr=2,Rr=.005,Fr=.5;const Br=12;function Hr(e,t){return e*Math.sqrt(1-t*t)}const zr=["duration","bounce"],Wr=["stiffness","damping","mass"];function Ur(e,t){return t.some(t=>void 0!==e[t])}function Vr(e=.3,t=.3){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ur(e,Wr)&&Ur(e,zr))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*Qt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:a}}else{const n=function({duration:e=800,bounce:t=.3,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=Qt(.05,1,s),e=Qt(.01,10,ln(e)),s<1?(i=t=>{const r=t*s,i=r*e;return.001-(r-n)/Hr(t,s)*Math.exp(-i)},a=t=>{const r=t*s*e,a=r*n+n,o=Math.pow(s,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Hr(Math.pow(t,2),s);return(.001-i(t)>0?-1:1)*((a-o)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let i=1;i<Br;i++)r-=e(r)/t(r);return r}(i,a,5/e);if(e=on(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...n,velocity:-ln(n.velocity||0)}),m=h||0,f=c/(2*Math.sqrt(l*d)),g=s-a,x=ln(Math.sqrt(l/d)),b=Math.abs(g)<5;let y;if(r||(r=b?Ir:Lr),i||(i=b?Rr:Fr),f<1){const e=Hr(x,f);y=t=>{const n=Math.exp(-f*x*t);return s-n*((m+f*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)y=e=>s-Math.exp(-x*e)*(g+(m+x*g)*e);else{const e=x*Math.sqrt(f*f-1);y=t=>{const n=Math.exp(-f*x*t),r=Math.min(e*t,300);return s-n*((m+f*x*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:p&&u||null,next:e=>{const t=y(e);if(p)o.done=e>=u;else{let n=0===e?m:0;f<1&&(n=0===e?on(m):Pr(y,e,t));const a=Math.abs(n)<=r,l=Math.abs(s-t)<=i;o.done=a&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Dr(v),Mr),t=Or(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function $r({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},p=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let m=n*t;const f=u+m,g=void 0===s?f:s(f);g!==f&&(m=g-u);const x=e=>-m*Math.exp(-e/r),b=e=>g+x(e),y=e=>{const t=x(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let v,w;const j=e=>{var t;t=h.value,(void 0!==o&&t<o||void 0!==l&&t>l)&&(v=e,w=Vr({keyframes:[h.value,p(h.value)],velocity:Pr(b,e,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==v||(t=!0,y(e),j(e)),void 0!==v&&e>=v?w.next(e-v):(!t&&y(e),h)}}}function qr({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(An):An(r),a={done:!1,value:t[0]},s=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:function(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=an(0,t,r);e.push(br(n,1,i))}}(t,e.length-1),t}(t),e),o=function(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||Kt.mix||Er,a=e.length-1;for(let s=0;s<a;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||tn:t;n=rn(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=an(e[r],e[r+1],n);return o[r](i)};return n?t=>c(Qt(e[0],e[a-1],t)):c}(s,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||Nn).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}Vr.applyToOptions=e=>{const t=function(e,t=100){const n=Vr({...e,keyframes:[0,t]}),r=Math.min(Dr(n),Mr);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:ln(r)}}(e,100);return e.ease=t.ease,e.duration=on(t.duration),e.type="keyframes",e};const Gr=e=>null!==e;function Yr(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(Gr),s=i<0||t&&"loop"!==n&&t%2==1?0:a.length-1;return s&&void 0!==r?r:a[s]}const Qr={decay:$r,inertia:$r,tween:qr,keyframes:qr,spring:Vr};function Kr(e){"string"==typeof e.type&&(e.type=Qr[e.type])}class Jr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Xr=e=>e/100;class Zr extends Jr{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==In.now()&&this.tick(In.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Kr(e);const{type:t=qr,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:s}=e;const o=t||qr;o!==qr&&"number"!=typeof s[0]&&(this.mixKeyframes=rn(Xr,Er(s[0],s[1])),s=[0,100]);const l=o({...e,keyframes:s});"mirror"===i&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=Dr(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,y=n;if(d){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1),Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/s)):"mirror"===u&&(y=a)),b=Qt(0,1,n)*s}const v=x?{done:!1,value:c[0]}:y.next(b);i&&(v.value=i(v.value));let{done:w}=v;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&p!==$r&&(v.value=Yr(c,this.options,f,this.speed)),m&&m(v.value),j&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return ln(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(this.currentTime)}set time(e){var t;e=on(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(In.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ln(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Tr,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null==(t=(e=this.options).onPlay)||t.call(e);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!=r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(In.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const ei=e=>180*e/Math.PI,ti=e=>{const t=ei(Math.atan2(e[1],e[0]));return ri(t)},ni={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ti,rotateZ:ti,skewX:e=>ei(Math.atan(e[1])),skewY:e=>ei(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ri=e=>((e%=360)<0&&(e+=360),e),ii=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ai=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),si={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ii,scaleY:ai,scale:e=>(ii(e)+ai(e))/2,rotateX:e=>ri(ei(Math.atan2(e[6],e[5]))),rotateY:e=>ri(ei(Math.atan2(-e[2],e[0]))),rotateZ:ti,rotate:ti,skewX:e=>ei(Math.atan(e[4])),skewY:e=>ei(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function oi(e){return e.includes("scale")?1:0}function li(e,t){if(!e||"none"===e)return oi(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=si,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ni,i=t}if(!i)return oi(t);const a=r[t],s=i[1].split(",").map(ci);return"function"==typeof a?a(s):s[a]}function ci(e){return parseFloat(e.trim())}const di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=(()=>new Set(di))(),hi=e=>e===zn||e===tr,pi=new Set(["x","y","z"]),mi=di.filter(e=>!pi.has(e)),fi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>li(t,"x"),y:(e,{transform:t})=>li(t,"y")};fi.translateX=fi.x,fi.translateY=fi.y;const gi=new Set;let xi=!1,bi=!1,yi=!1;function vi(){if(bi){const e=Array.from(gi).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return mi.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var r;null==(r=e.getValue(t))||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}bi=!1,xi=!1,gi.forEach(e=>e.complete(yi)),gi.clear()}function wi(){gi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(bi=!0)})}class ji{constructor(e,t,n,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(gi.add(this),xi||(xi=!0,En.read(wi),En.resolveKeyframes(vi))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null==r?void 0:r.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)null!=e[t]||(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gi.delete(this)}cancel(){"scheduled"===this.state&&(gi.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Ni=en(()=>void 0!==window.ScrollTimeline),ki={};function Si(e,t){const n=en(e);return()=>{var e;return null!=(e=ki[t])?e:n()}}const Ai=Si(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Dw){return!1}return!0},"linearEasing"),Ci=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_i={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ci([0,.65,.55,1]),circOut:Ci([.55,0,1,.45]),backIn:Ci([.31,.01,.66,-.59]),backOut:Ci([.33,1.53,.69,.99])};function Ei(e,t){return e?"function"==typeof e?Ai()?Or(e,t):"ease-out":kn(e)?Ci(e):Array.isArray(e)?e.map(e=>Ei(e,t)||_i.easeOut):_i[e]:void 0}function Ti(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const u=Ei(o,i);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function Oi(e){return"function"==typeof e&&"applyToOptions"in e}class Mi extends Jr{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,e.type;const l=function({type:e,...t}){return Oi(e)&&Ai()?e.applyToOptions(t):(null!=t.duration||(t.duration=300),null!=t.ease||(t.ease="easeOut"),t)}(e);this.animation=Ti(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=Yr(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(Dw){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return ln(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=on(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ni()?(this.animation.timeline=e,tn):t(this)}}const Di={anticipate:xn,backInOut:gn,circInOut:vn};class Pi extends Mi{constructor(e){var t;"string"==typeof(t=e).ease&&t.ease in Di&&(t.ease=Di[t.ease]),Kr(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(void 0!==e)return void n.set(e);const o=new Zr({...s,autoplay:!1}),l=on(null!=(t=this.finishedTime)?t:this.time);n.setWithVelocity(o.sample(l-10).value,o.sample(l).value,10),o.stop()}}const Ii=(e,t)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!fr.test(e)&&"0"!==e||e.startsWith("url(")));function Li(e){e.duration=0,e.type="keyframes"}const Ri=new Set(["opacity","clipPath","filter","transform"]),Fi=en(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Bi extends Jr{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:s,name:o,motionValue:l,element:c,...d}){var u;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=In.now();const h={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:o,motionValue:l,element:c,...d},p=(null==c?void 0:c.KeyframeResolver)||ji;this.keyframeResolver=new p(s,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),o,l,c),null==(u=this.keyframeResolver)||u.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=In.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],s=Ii(i,t),o=Ii(a,t);return!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Oi(n))&&r)}(e,i,a,s)||(!Kt.instantAnimations&&o||null==c||c(Yr(e,n,t)),e[0]=e[e.length-1],Li(n),n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!((null==(t=null==n?void 0:n.owner)?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Fi()&&r&&Ri.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==a&&0!==s&&"inertia"!==o}(d)?new Pi({...d,element:d.motionValue.owner.current}):new Zr(d);u.finished.then(()=>this.notifyFinished()).catch(tn),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),yi=!0,wi(),vi(),yi=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const Hi=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zi(e,t,n=1){const[r,i]=function(e){const t=Hi.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!=n?n:r}`,i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return Jt(e)?parseFloat(e):e}return Bn(i)?zi(i,t,n+1):i}function Wi(e,t){var n,r;return null!=(r=null!=(n=null==e?void 0:e[t])?n:null==e?void 0:e.default)?r:e}const Ui=new Set(["width","height","top","left","right","bottom",...di]),Vi=e=>t=>t.test(e),$i=[zn,tr,er,Zn,rr,nr,{test:e=>"auto"===e,parse:e=>e}],qi=e=>$i.find(Vi(e));function Gi(e){return"number"==typeof e?0===e:null===e||"none"===e||"0"===e||Zt(e)}const Yi=new Set(["brightness","contrast","saturate","opacity"]);function Qi(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match($n)||[];if(!r)return e;const i=n.replace(r,"");let a=Yi.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Ki=/\b([a-z-]*)\(.*?\)/gu,Ji={...fr,getAnimatableNone:e=>{const t=e.match(Ki);return t?t.map(Qi).join(" "):e}},Xi={...zn,transform:Math.round},Zi={borderWidth:tr,borderTopWidth:tr,borderRightWidth:tr,borderBottomWidth:tr,borderLeftWidth:tr,borderRadius:tr,radius:tr,borderTopLeftRadius:tr,borderTopRightRadius:tr,borderBottomRightRadius:tr,borderBottomLeftRadius:tr,width:tr,maxWidth:tr,height:tr,maxHeight:tr,top:tr,right:tr,bottom:tr,left:tr,padding:tr,paddingTop:tr,paddingRight:tr,paddingBottom:tr,paddingLeft:tr,margin:tr,marginTop:tr,marginRight:tr,marginBottom:tr,marginLeft:tr,backgroundPositionX:tr,backgroundPositionY:tr,rotate:Zn,rotateX:Zn,rotateY:Zn,rotateZ:Zn,scale:Un,scaleX:Un,scaleY:Un,scaleZ:Un,skew:Zn,skewX:Zn,skewY:Zn,distance:tr,translateX:tr,translateY:tr,translateZ:tr,x:tr,y:tr,z:tr,perspective:tr,transformPerspective:tr,opacity:Wn,originX:ir,originY:ir,originZ:tr,zIndex:Xi,fillOpacity:Wn,strokeOpacity:Wn,numOctaves:Xi},ea={...Zi,color:sr,backgroundColor:sr,outlineColor:sr,fill:sr,stroke:sr,borderColor:sr,borderTopColor:sr,borderRightColor:sr,borderBottomColor:sr,borderLeftColor:sr,filter:Ji,WebkitFilter:Ji},ta=e=>ea[e];function na(e,t){let n=ta(e);return n!==Ji&&(n=fr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ra=new Set(["auto","none","0"]);class ia extends ji{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),Bn(n))){const r=zi(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Ui.has(n)||2!==e.length)return;const[r,i]=e,a=qi(r),s=qi(i);if(a!==s)if(hi(a)&&hi(s))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else fi[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Gi(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!ra.has(t)&&ur(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=na(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=fi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const aa=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function sa(e){return Xt(e)&&"offsetHeight"in e}class oa{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;const n=In.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(t=this.events.change)||t.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=In.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sn);const n=this.events[e].add(t);return"change"===e?()=>{n(),En.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=In.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return cn(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(e,t){return new oa(e,t)}const{schedule:ca}=_n(queueMicrotask,!1),da={x:!1,y:!1};function ua(){return da.x||da.y}function ha(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const n=null!=void 0?undefined:t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function pa(e){return!("touch"===e.pointerType||ua())}const ma=(e,t)=>!!t&&(e===t||ma(e,t.parentElement)),fa=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,ga=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),xa=new WeakSet;function ba(e){return t=>{"Enter"===t.key&&e(t)}}function ya(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function va(e){return fa(e)&&!ua()}function wa(e){return Xt(e)&&"ownerSVGElement"in e}const ja=e=>Boolean(e&&e.getVelocity),Na=[...$i,sr,fr],ka=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Sa(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class Aa extends x.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=sa(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ca({children:e,isPresent:t,anchorX:n,root:r}){const i=x.useId(),a=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(ka),l=function(...e){return x.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=Sa(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():Sa(e[t],null)}}}}(...e),e)}(a,null==e?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:e,height:l,top:c,left:d,right:u}=s.current;if(t||!a.current||!e||!l)return;const h="left"===n?`left: ${d}`:`right: ${u}`;a.current.dataset.motionPopId=i;const p=document.createElement("style");o&&(p.nonce=o);const m=null!=r?r:document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${l}px !important;\n            ${h}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),h.jsx(Aa,{isPresent:t,childRef:a,sizeRef:s,children:x.cloneElement(e,{ref:l})})}const _a=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const c=Ut(Ea),d=x.useId();let u=!0,p=x.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[n,c,r]);return a&&u&&(p={...p}),x.useMemo(()=>{c.forEach((e,t)=>c.set(t,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),"popLayout"===s&&(e=h.jsx(Ca,{isPresent:n,anchorX:o,root:l,children:e})),h.jsx(qt.Provider,{value:p,children:e})};function Ea(){return new Map}function Ta(e=!0){const t=x.useContext(qt);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=x.useId();x.useEffect(()=>{if(e)return i(a)},[e]);const s=x.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const Oa=e=>e.key||"";function Ma(e){const t=[];return x.Children.forEach(e,e=>{x.isValidElement(e)&&t.push(e)}),t}const Da=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,d]=Ta(s),u=x.useMemo(()=>Ma(e),[e]),p=s&&!c?[]:u.map(Oa),m=x.useRef(!0),f=x.useRef(u),g=Ut(()=>new Map),[b,y]=x.useState(u),[v,w]=x.useState(u);$t(()=>{m.current=!1,f.current=u;for(let e=0;e<v.length;e++){const t=Oa(v[e]);p.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[v,p.length,p.join("-")]);const j=[];if(u!==b){let e=[...u];for(let t=0;t<v.length;t++){const n=v[t],r=Oa(n);p.includes(r)||(e.splice(t,0,n),j.push(n))}return"wait"===a&&j.length&&(e=j),w(Ma(e)),y(u),null}const{forceRender:N}=x.useContext(Wt);return h.jsx(h.Fragment,{children:v.map(e=>{const x=Oa(e),b=!(s&&!c)&&(u===v||p.includes(x));return h.jsx(_a,{isPresent:b,initial:!(m.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:b?void 0:()=>{if(!g.has(x))return;g.set(x,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null==N||N(),w(f.current),s&&(null==d||d()),r&&r())},anchorX:o,children:e},x)})})},Pa=x.createContext({strict:!1}),Ia={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},La={};for(const os in Ia)La[os]={isEnabled:e=>Ia[os].some(t=>!!e[t])};const Ra=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fa(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ra.has(e)}let Ba=e=>!Fa(e);try{"function"==typeof(Ha=require("@emotion/is-prop-valid").default)&&(Ba=e=>e.startsWith("on")?!Fa(e):Ha(e))}catch(Dw){}var Ha;const za=x.createContext({});function Wa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Ua(e){return"string"==typeof e||Array.isArray(e)}const Va=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$a=["initial",...Va];function qa(e){return Wa(e.animate)||$a.some(t=>Ua(e[t]))}function Ga(e){return Boolean(qa(e)||e.variants)}function Ya(e){return Array.isArray(e)?e.join(" "):e}const Qa={};function Ka(e,{layout:t,layoutId:n}){return ui.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Qa[e]||"opacity"===e)}const Ja={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xa=di.length;function Za(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(ui.has(l))s=!0;else if(Rn(l))i[l]=e;else{const t=aa(e,Zi[l]);l.startsWith("origin")?(o=!0,a[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<Xa;a++){const s=di[a],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=aa(o,Zi[s]);l||(i=!1,r+=`${Ja[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function es(e,t,n){for(const r in t)ja(t[r])||Ka(r,n)||(e[r]=t[r])}function ts(e,t){const n={},r=function(e,t){const n={};return es(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return x.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Za(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ns={offset:"stroke-dashoffset",array:"stroke-dasharray"},rs={offset:"strokeDashoffset",array:"strokeDasharray"};function is(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,d){var u,h;if(Za(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m}=e;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=null!=(u=p.transformOrigin)?u:"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=null!=(h=null==d?void 0:d.transformBox)?h:"fill-box",delete p.transformBox),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?ns:rs;e[a.offset]=tr.transform(-r);const s=tr.transform(t),o=tr.transform(n);e[a.array]=`${s} ${o}`}(p,i,a,s,!1)}const as=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ss(e,t,n,r){const i=x.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return is(n,t,as(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};es(t,e.style,e),i.style={...t,...i.style}}return i}const ls=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cs(e){return"string"==typeof e&&!e.includes("-")&&!!(ls.indexOf(e)>-1||/[A-Z]/u.test(e))}function ds(e,t,n,{latestValues:r},i,a=!1){const s=(cs(e)?ss:ts)(t,r,i,e),o=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Ba(i)||!0===n&&Fa(i)||!t&&!Fa(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,a),l=e!==x.Fragment?{...o,...s,ref:n}:{},{children:c}=t,d=x.useMemo(()=>ja(c)?c.get():c,[c]);return x.createElement(e,{...l,children:d})}function us(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function hs(e,t,n,r){if("function"==typeof t){const[i,a]=us(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,a]=us(r);t=t(void 0!==n?n:e.custom,i,a)}return t}function ps(e){return ja(e)?e.get():e}function ms(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=ps(a[h]);let{initial:s,animate:o}=e;const l=qa(e),c=Ga(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const u=d?o:s;if(u&&"boolean"!=typeof u&&!Wa(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=hs(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];Array.isArray(e)&&(e=e[d?e.length-1:0]),null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const fs=e=>(t,n)=>{const r=x.useContext(za),i=x.useContext(qt),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:ms(n,r,i,e),renderState:t()}}(e,t,r,i);return n?a():Ut(a)};function gs(e,t,n){var r;const{style:i}=e,a={};for(const s in i)(ja(i[s])||t.style&&ja(t.style[s])||Ka(s,e)||void 0!==(null==(r=null==n?void 0:n.getValue(s))?void 0:r.liveStyle))&&(a[s]=i[s]);return a}const xs=fs({scrapeMotionValuesFromProps:gs,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})});function bs(e,t,n){const r=gs(e,t,n);for(const i in e)(ja(e[i])||ja(t[i]))&&(r[-1!==di.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}const ys=fs({scrapeMotionValuesFromProps:bs,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})}),vs=Symbol.for("motionComponentSymbol");function ws(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function js(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):ws(n)&&(n.current=r))},[t])}const Ns=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ks="data-"+Ns("framerAppearId"),Ss=x.createContext({});function As(e,t,n,r,i){var a,s;const{visualElement:o}=x.useContext(za),l=x.useContext(Pa),c=x.useContext(qt),d=x.useContext(ka).reducedMotion,u=x.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const h=u.current,p=x.useContext(Ss);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Cs(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(s)||o&&ws(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(u.current,n,i,p);const m=x.useRef(!1);x.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const f=n[ks],g=x.useRef(Boolean(f)&&!(null==(a=window.MotionHandoffIsComplete)?void 0:a.call(window,f))&&(null==(s=window.MotionHasOptimisedAnimation)?void 0:s.call(window,f)));return $t(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,f)}),g.current=!1),h.enteringChildren=void 0)}),h}function Cs(e){if(e)return!1!==e.options.allowProjection?e.projection:Cs(e.parent)}function _s(e,{forwardMotionProps:t=!1}={},n,r){var i,a;n&&function(e){for(const t in e)La[t]={...La[t],...e[t]}}(n);const s=cs(e)?ys:xs;function o(n,i){let a;const o={...x.useContext(ka),...n,layoutId:Es(n)},{isStatic:l}=o,c=function(e){const{initial:t,animate:n}=function(e,t){if(qa(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Ua(t)?t:void 0,animate:Ua(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,x.useContext(za));return x.useMemo(()=>({initial:t,animate:n}),[Ya(t),Ya(n)])}(n),d=s(n,l);if(!l&&Vt){x.useContext(Pa).strict;const t=function(e){const{drag:t,layout:n}=La;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);a=t.MeasureLayout,c.visualElement=As(e,d,o,r,t.ProjectionNode)}return h.jsxs(za.Provider,{value:c,children:[a&&c.visualElement?h.jsx(a,{visualElement:c.visualElement,...o}):null,ds(e,n,js(d,c.visualElement,i),d,l,t)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${null!=(a=null!=(i=e.displayName)?i:e.name)?a:""})`}`;const l=x.forwardRef(o);return l[vs]=e,l}function Es({layoutId:e}){const t=x.useContext(Wt).id;return t&&void 0!==e?t+"-"+e:e}function Ts(e,t){if("undefined"==typeof Proxy)return _s;const n=new Map,r=(n,r)=>_s(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,_s(a,void 0,e,t)),n.get(a))})}function Os({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ms(e){return void 0===e||1===e}function Ds({scale:e,scaleX:t,scaleY:n}){return!Ms(e)||!Ms(t)||!Ms(n)}function Ps(e){return Ds(e)||Is(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Is(e){return Ls(e.x)||Ls(e.y)}function Ls(e){return e&&"0%"!==e}function Rs(e,t,n){return n+t*(e-n)}function Fs(e,t,n,r,i){return void 0!==i&&(e=Rs(e,i,r)),Rs(e,n,r)+t}function Bs(e,t=0,n=1,r,i){e.min=Fs(e.min,t,n,r,i),e.max=Fs(e.max,t,n,r,i)}function Hs(e,{x:t,y:n}){Bs(e.x,t.translate,t.scale,t.originPoint),Bs(e.y,n.translate,n.scale,n.originPoint)}const zs=.999999999999,Ws=1.0000000000001;function Us(e,t){e.min=e.min+t,e.max=e.max+t}function Vs(e,t,n,r,i=.5){Bs(e,t,n,br(e.min,e.max,i),r)}function $s(e,t){Vs(e.x,t.x,t.scaleX,t.scale,t.originX),Vs(e.y,t.y,t.scaleY,t.scale,t.originY)}function qs(e,t){return Os(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Gs=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Ys={current:null},Qs={current:!1},Ks=new WeakMap,Js=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xs{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ji,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=In.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,En.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=qa(t),this.isVariantNode=Ga(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in d){const e=d[u];void 0!==o[u]&&ja(e)&&e.set(o[u])}}mount(e){var t;this.current=e,Ks.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Qs.current||function(){if(Qs.current=!0,Vt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ys.current=e.matches;e.addEventListener("change",t),t()}else Ys.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ys.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Tn(this.notifyUpdate),Tn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),null!=this.enteringChildren||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ui.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&En.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in La){const t=La[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Js.length;n++){const t=Js[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(ja(i))e.addValue(r,i);else if(ja(a))e.addValue(r,la(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,la(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=la(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!=(n=this.getBaseTargetFromProps(this.props,e))?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return null!=r&&("string"==typeof r&&(Jt(r)||Zt(r))?r=parseFloat(r):(i=r,!Na.find(Vi(i))&&fr.test(t)&&(r=na(e,t))),this.setBaseTarget(e,ja(r)?r.get():r)),ja(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=hs(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||ja(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new sn),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){ca.render(this.render)}}class Zs extends Xs{constructor(){super(...arguments),this.KeyframeResolver=ia}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ja(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function eo(e,{style:t,vars:n},r,i){const a=e.style;let s;for(s in t)a[s]=t[s];for(s in null==i||i.applyProjectionStyles(a,r),n)a.setProperty(s,n[s])}class to extends Zs{constructor(){super(...arguments),this.type="html",this.renderInstance=eo}readValueFromInstance(e,t){var n,r;if(ui.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?oi(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return li(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Rn(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return qs(e,t)}build(e,t,n){Za(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return gs(e,t,n)}}const no=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class ro extends Zs{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ui.has(t)){const e=ta(t);return e&&e.default||0}return t=no.has(t)?t:Ns(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return bs(e,t,n)}build(e,t,n){is(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){eo(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(no.has(i)?i:Ns(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=as(e.tagName),super.mount(e)}}const io=(e,t)=>cs(e)?new ro(t):new to(t,{allowProjection:e!==x.Fragment});function ao(e,t,n){const r=e.getProps();return hs(r,t,void 0!==n?n:r.custom,e)}const so=e=>Array.isArray(e);function oo(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,la(n))}function lo(e){return so(e)?e[e.length-1]||0:e}function co(e,t){const n=e.getValue("willChange");if(r=n,Boolean(ja(r)&&r.add))return n.add(t);if(!n&&Kt.WillChange){const n=new Kt.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function uo(e){return e.props[ks]}const ho=e=>null!==e,po={type:"spring",stiffness:500,damping:25,restSpeed:10},mo={type:"keyframes",duration:.8},fo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},go=(e,t,n,r={},i,a)=>s=>{const o=Wi(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=on(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||Object.assign(d,((e,{keyframes:t})=>t.length>2?mo:ui.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:po:fo)(e,d)),d.duration&&(d.duration=on(d.duration)),d.repeatDelay&&(d.repeatDelay=on(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(Li(d),0===d.delay&&(u=!0)),(Kt.instantAnimations||Kt.skipAnimations)&&(u=!0,Li(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!a&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(ho);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(d.keyframes,o);if(void 0!==e)return void En.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new Zr(d):new Bi(d)};function xo({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function bo(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const t=e.getValue(u,null!=(a=e.latestValues[u])?a:null),r=l[u];if(void 0===r||d&&xo(d,u))continue;const i={delay:n,...Wi(s||{},u)},o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=uo(e);if(t){const e=window.MotionHandoffAnimation(t,u,En);null!==e&&(i.startTime=e,h=!0)}}co(e,u),t.start(go(u,t,r,e.shouldReduceMotion&&Ui.has(u)?{type:!1}:i,e,h));const p=t.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{En.update(()=>{o&&function(e,t){const n=ao(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a)oo(e,s,lo(a[s]))}(e,o)})}),c}function yo(e,t,n,r=0,i=1){const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"==typeof n?n(a,s):1===i?a*r:o-a*r}function vo(e,t,n={}){var r;const i=ao(e,t,"exit"===n.type?null==(r=e.presenceContext)?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(bo(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:s,staggerDirection:o}=a;return function(e,t,n=0,r=0,i=0,a=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(vo(l,t,{...s,delay:n+("function"==typeof r?0:r)+yo(e.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,i,s,o,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(n.delay)])}function wo(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const jo=$a.length;function No(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&No(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<jo;n++){const r=$a[n],i=e.props[r];(Ua(i)||!1===i)&&(t[r]=i)}return t}const ko=[...Va].reverse(),So=Va.length;function Ao(e){let t=function(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>vo(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=vo(e,t,n);else{const i="function"==typeof t?ao(e,t,n.custom):t;r=Promise.all(bo(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}(e),n=Eo(),r=!0;const i=t=>(n,r)=>{var i;const a=ao(e,r,"exit"===t?null==(i=e.presenceContext)?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t,...r}=a;n={...n,...r,...t}}return n};function a(a){const{props:s}=e,o=No(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<So;t++){const h=ko[t],p=n[h],m=void 0!==s[h]?s[h]:o[h],f=Ua(m),g=h===a?p.isActive:null;!1===g&&(u=t);let x=m===o[h]&&m!==s[h]&&f;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),p.protectedKeys={...d},!p.isActive&&null===g||!m&&!p.prevProp||Wa(m)||"boolean"==typeof m)continue;const b=Co(p.prevProp,m);let y=b||h===a&&p.isActive&&!x&&f||t>u&&f,v=!1;const w=Array.isArray(m)?m:[m];let j=w.reduce(i(h),{});!1===g&&(j={});const{prevResolvedValues:N={}}=p,k={...N,...j},S=t=>{y=!0,c.has(t)&&(v=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=j[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=so(t)&&so(n)?!wo(t,n):t!==n,r?null!=t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=j,p.isActive&&(d={...d,...j}),r&&e.blockInitialAnimation&&(y=!1);const A=x&&b;y&&(!A||v)&&l.push(...w.map(t=>{const n={type:h};if("string"==typeof t&&r&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=ao(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=yo(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof s.initial){const n=ao(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!=r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null==(i=e.variantChildren)||i.forEach(e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=a(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Eo(),r=!0}}}function Co(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!wo(t,e)}function _o(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Eo(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class To{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Oo=0;const Mo={animation:{Feature:class extends To{constructor(e){super(e),e.animationState||(e.animationState=Ao(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends To{constructor(){super(...arguments),this.id=Oo++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Do(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Po(e){return{point:{x:e.pageX,y:e.pageY}}}function Io(e,t,n,r){return Do(e,t,(e=>t=>fa(t)&&e(t,Po(t)))(n),r)}function Lo(e){return e.max-e.min}function Ro(e,t,n,r=.5){e.origin=r,e.originPoint=br(t.min,t.max,e.origin),e.scale=Lo(n)/Lo(t),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Fo(e,t,n,r){Ro(e.x,t.x,n.x,r?r.originX:void 0),Ro(e.y,t.y,n.y,r?r.originY:void 0)}function Bo(e,t,n){e.min=n.min+t.min,e.max=e.min+Lo(t)}function Ho(e,t,n){e.min=t.min-n.min,e.max=e.min+Lo(t)}function zo(e,t,n){Ho(e.x,t.x,n.x),Ho(e.y,t.y,n.y)}function Wo(e){return[e("x"),e("y")]}const Uo=({current:e})=>e?e.ownerDocument.defaultView:null,Vo=(e,t)=>Math.abs(e-t);class $o{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Yo(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Vo(e.x,t.x),r=Vo(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=On;this.history.push({...r,timestamp:i});const{onStart:a,onMove:s}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=qo(t,this.transformPagePoint),En.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Yo("pointercancel"===e.type?this.lastMoveEventInfo:qo(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!fa(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const s=qo(Po(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=On;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,Yo(s,this.history)),this.removeListeners=rn(Io(this.contextWindow,"pointermove",this.handlePointerMove),Io(this.contextWindow,"pointerup",this.handlePointerUp),Io(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tn(this.updatePoint)}}function qo(e,t){return t?{point:t(e.point)}:e}function Go(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yo({point:e},t){return{point:e,delta:Go(e,Ko(t)),offset:Go(e,Qo(t)),velocity:Jo(t,.1)}}function Qo(e){return e[0]}function Ko(e){return e[e.length-1]}function Jo(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Ko(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>on(t)));)n--;if(!r)return{x:0,y:0};const a=ln(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Xo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Zo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const el=.35;function tl(e,t,n){return{min:nl(e,t),max:nl(e,n)}}function nl(e,t){return"number"==typeof e?e:e[t]||0}const rl=new WeakMap;class il{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new $o(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Po(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?da[a]?null:(da[a]=!0,()=>{da[a]=!1}):da.x||da.y?null:(da.x=da.y=!0,()=>{da.x=da.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(er.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];r&&(t=Lo(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&En.postRender(()=>i(e,t)),co(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Wo(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:Uo(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&En.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!al(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?br(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?br(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,i=this.constraints;t&&ws(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:Xo(e.x,n,i),y:Xo(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=el){return!1===e?e=0:!0===e&&(e=el),{x:tl(e,"left","right"),y:tl(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wo(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ws(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=qs(e,n),{scroll:i}=t;return i&&(Us(r.x,i.offset.x),Us(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Zo(e.x,t.x),y:Zo(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Os(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=Wo(s=>{if(!al(s,t,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,u)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return co(this.visualElement,e),n.start(go(e,n,0,t,this.visualElement,!1))}stopAnimation(){Wo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wo(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Wo(t=>{const{drag:n}=this.getProps();if(!al(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-br(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ws(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Wo(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Lo(e),i=Lo(t);return i>r?n=an(t.min,t.max-r,e.min):r>i&&(n=an(e.min,e.max-i,t.min)),Qt(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wo(t=>{if(!al(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(br(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;rl.set(this.visualElement,this);const e=Io(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();ws(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),En.read(t);const i=Do(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Wo(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=el,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:s}}}function al(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const sl=e=>(t,n)=>{e&&En.postRender(()=>e(t,n))},ol={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ll(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cl={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!tr.test(e))return e;e=parseFloat(e)}return`${ll(e,t.target.x)}% ${ll(e,t.target.y)}%`}},dl={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=fr.parse(e);if(i.length>5)return r;const a=fr.createTransformer(e),s="number"!=typeof i[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=br(o,l,.5);return"number"==typeof i[2+s]&&(i[2+s]/=c),"number"==typeof i[3+s]&&(i[3+s]/=c),a(i)}};let ul=!1;class hl extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)Qa[t]=e[t],Rn(t)&&(Qa[t].isCSSVariable=!0)}(ml),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),ul&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ol.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,ul=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||En.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ca.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;ul=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pl(e){const[t,n]=Ta(),r=x.useContext(Wt);return h.jsx(hl,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(Ss),isPresent:t,safeToRemove:n})}const ml={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:dl},fl=(e,t)=>e.depth-t.depth;class gl{constructor(){this.children=[],this.isDirty=!1}add(e){Gt(this.children,e),this.isDirty=!0}remove(e){Yt(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fl),this.isDirty=!1,this.children.forEach(e)}}const xl=["TopLeft","TopRight","BottomLeft","BottomRight"],bl=xl.length,yl=e=>"string"==typeof e?parseFloat(e):e,vl=e=>"number"==typeof e||tr.test(e);function wl(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const jl=kl(0,.5,yn),Nl=kl(.5,.95,tn);function kl(e,t,n){return r=>r<e?0:r>t?1:n(an(e,t,r))}function Sl(e,t){e.min=t.min,e.max=t.max}function Al(e,t){Sl(e.x,t.x),Sl(e.y,t.y)}function Cl(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _l(e,t,n,r,i){return e=Rs(e-=t,1/n,r),void 0!==i&&(e=Rs(e,1/i,r)),e}function El(e,t,[n,r,i],a,s){!function(e,t=0,n=1,r=.5,i,a=e,s=e){if(er.test(t)&&(t=parseFloat(t),t=br(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let o=br(a.min,a.max,r);e===a&&(o-=t),e.min=_l(e.min,t,n,o,i),e.max=_l(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,a,s)}const Tl=["x","scaleX","originX"],Ol=["y","scaleY","originY"];function Ml(e,t,n,r){El(e.x,t,Tl,n?n.x:void 0,r?r.x:void 0),El(e.y,t,Ol,n?n.y:void 0,r?r.y:void 0)}function Dl(e){return 0===e.translate&&1===e.scale}function Pl(e){return Dl(e.x)&&Dl(e.y)}function Il(e,t){return e.min===t.min&&e.max===t.max}function Ll(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rl(e,t){return Ll(e.x,t.x)&&Ll(e.y,t.y)}function Fl(e){return Lo(e.x)/Lo(e.y)}function Bl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Hl{constructor(){this.members=[]}add(e){Gt(this.members,e),e.scheduleRender()}remove(e){if(Yt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zl=["","X","Y","Z"];let Wl=0;function Ul(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Vl(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=uo(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",En,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Vl(r)}function $l({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=Wl++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yl),this.nodes.forEach(tc),this.nodes.forEach(nc),this.nodes.forEach(Ql)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new gl)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new sn),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=wa(t)&&!(wa(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;En.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e){const t=In.now(),n=({timestamp:r})=>{const i=r-t;i>=250&&(Tn(n),e(i-250))};return En.setup(n,!0),()=>Tn(n)}(i),ol.hasAnimatedSinceResize&&(ol.hasAnimatedSinceResize=!1,this.nodes.forEach(ec)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||lc,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!Rl(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Wi(i,"layout"),onPlay:s,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||ec(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vl(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Jl);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Xl);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zl),this.nodes.forEach(ql),this.nodes.forEach(Gl)):this.nodes.forEach(Xl),this.clearAllSnapshots();const e=In.now();On.delta=Qt(0,1e3/60,e-On.timestamp),On.timestamp=e,On.isProcessing=!0,Mn.update.process(On),Mn.preRender.process(On),Mn.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ca.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kl),this.sharedNodes.forEach(ic)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,En.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){En.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Lo(this.snapshot.measuredBox.x)||Lo(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++)this.path[n].updateScroll();const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Pl(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ps(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),uc((r=n).x),uc(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!(null==(e=this.scroll)?void 0:e.wasRoot)&&!this.path.some(pc)){const{scroll:e}=this.root;e&&(Us(n.x,e.offset.x),Us(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Al(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&Al(n,e),Us(n.x,i.offset.x),Us(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};Al(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&$s(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ps(e.latestValues)&&$s(n,e.latestValues)}return Ps(this.latestValues)&&$s(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Al(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ps(e.latestValues))continue;Ds(e.latestValues)&&e.updateSnapshot();const r=Gs();Al(r,e.measurePageBox()),Ml(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ps(this.latestValues)&&Ml(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zo(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var s,o,l;if((this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,Bo(s.x,o.x,l.x),Bo(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Al(this.target,this.layout.layoutBox),Hs(this.target,this.targetDelta)):Al(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zo(this.relativeTargetOrigin,this.target,e.target),Al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!Ds(this.parent.latestValues)&&!Is(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===On.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;Al(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let a,s;t.x=t.y=1;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$s(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Hs(e,s)),r&&Ps(a.latestValues)&&$s(e,a.latestValues))}t.x<Ws&&t.x>zs&&(t.x=1),t.y<Ws&&t.y>zs&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Cl(this.prevProjectionDelta.x,this.projectionDelta.x),Cl(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Fo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&Bl(this.projectionDelta.x,this.prevProjectionDelta.x)&&Bl(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(oc));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,m,f,g;ac(a.x,e.x,n),ac(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zo(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=s,g=n,sc(p.x,m.x,f.x,g),sc(p.y,m.y,f.y,g),u&&(l=this.relativeTarget,h=u,Il(l.x,h.x)&&Il(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Al(u,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,a){var s,o,l,c;i?(e.opacity=br(0,null!=(s=n.opacity)?s:1,jl(r)),e.opacityExit=br(null!=(o=t.opacity)?o:1,0,Nl(r))):a&&(e.opacity=br(null!=(l=t.opacity)?l:1,null!=(c=n.opacity)?c:1,r));for(let d=0;d<bl;d++){const i=`border${xl[d]}Radius`;let a=wl(t,i),s=wl(n,i);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||vl(a)===vl(s)?(e[i]=Math.max(br(yl(a),yl(s),r),0),(er.test(s)||er.test(a))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,r;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(r=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||r.stop(),this.pendingAnimation&&(Tn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=En.update(()=>{ol.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=la(0)),this.currentAnimation=function(e,t,n){const r=ja(e)?e:la(e);return r.start(go("",r,[0,1e3],n)),r.animation}(this.motionValue,0,{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&hc(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Lo(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Lo(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Al(t,n),$s(t,i),Fo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Hl),this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Ul("z",e,r,this.animationValues);for(let i=0;i<zl.length;i++)Ul(`rotate${zl[i]}`,e,r,this.animationValues),Ul(`skew${zl[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){var n,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=ps(null==t?void 0:t.pointerEvents)||"",void(e.transform=i?i(this.latestValues,""):"none");const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=ps(null==t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Ps(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1));e.visibility="";const s=a.animationValues||a.latestValues;this.applyTransformsToTarget();let o=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(null==n?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);i&&(o=i(s,o)),e.transform=o;const{x:l,y:c}=this.projectionDelta;e.transformOrigin=`${100*l.origin}% ${100*c.origin}% 0`,a.animationValues?e.opacity=a===this?null!=(r=null!=(n=s.opacity)?n:this.latestValues.opacity)?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const d in Qa){if(void 0===s[d])continue;const{correct:t,applyTo:n,isCSSVariable:r}=Qa[d],i="none"===o?s[d]:t(s[d],a);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=i}else r?this.options.visualElement.renderState.vars[d]=i:e[d]=i}this.options.layoutId&&(e.pointerEvents=a===this?ps(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(Jl),this.root.sharedNodes.clear()}}}function ql(e){e.updateLayout()}function Gl(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?Wo(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=Lo(r);r.min=t[e].min,r.max=r.min+i}):hc(i,n.layoutBox,t)&&Wo(r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],s=Lo(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Fo(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Fo(o,e.applyTransform(r,!0),n.measuredBox):Fo(o,t,n.layoutBox);const l=!Pl(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const s={x:{min:0,max:0},y:{min:0,max:0}};zo(s,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};zo(o,t,a.layoutBox),Rl(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Yl(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ql(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kl(e){e.clearSnapshot()}function Jl(e){e.clearMeasurements()}function Xl(e){e.isLayoutDirty=!1}function Zl(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ec(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tc(e){e.resolveTargetDelta()}function nc(e){e.calcProjection()}function rc(e){e.resetSkewAndRotation()}function ic(e){e.removeLeadSnapshot()}function ac(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function sc(e,t,n,r){e.min=br(t.min,n.min,r),e.max=br(t.max,n.max,r)}function oc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const lc={duration:.45,ease:[.4,0,.1,1]},cc=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dc=cc("applewebkit/")&&!cc("chrome/")?Math.round:tn;function uc(e){e.min=dc(e.min),e.max=dc(e.max)}function hc(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Fl(t),i=Fl(n),!(Math.abs(r-i)<=.2));var r,i}function pc(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const mc=$l({attachResizeListener:(e,t)=>Do(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fc={current:void 0},gc=$l({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fc.current){const e=new mc({});e.mount(window),e.setOptions({layoutScroll:!0}),fc.current=e}return fc.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),xc={pan:{Feature:class extends To{constructor(){super(...arguments),this.removePointerDownListener=tn}onPointerDown(e){this.session=new $o(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Uo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:sl(e),onStart:sl(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&En.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Io(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends To{constructor(e){super(e),this.removeGroupControls=tn,this.removeListeners=tn,this.controls=new il(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:gc,MeasureLayout:pl}};function bc(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&En.postRender(()=>i(t,Po(t)))}function yc(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&En.postRender(()=>i(t,Po(t)))}const vc=new WeakMap,wc=new WeakMap,jc=e=>{const t=vc.get(e.target);t&&t(e)},Nc=e=>{e.forEach(jc)};const kc={some:0,all:1},Sc={inView:{Feature:class extends To{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:kc[r]};return function(e,t,n){const r=function({root:e,...t}){const n=e||document;wc.has(n)||wc.set(n,{});const r=wc.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Nc,{root:e,...t})),r[i]}(t);return vc.set(e,n),r.observe(e),()=>{vc.delete(e),r.unobserve(e)}}(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends To{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,a]=ha(e,n),s=e=>{const r=e.currentTarget;if(!va(e))return;xa.add(r);const a=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),xa.has(r)&&xa.delete(r),va(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||ma(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),sa(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ba(()=>{if(xa.has(n))return;ya(n,"down");const e=ba(()=>{ya(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>ya(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,ga.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}(e,(e,t)=>(yc(this.node,t,"Start"),(e,{success:t})=>yc(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends To{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Dw){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rn(Do(this.node.current,"focus",()=>this.onFocus()),Do(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends To{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,a]=ha(e,n),s=e=>{if(!pa(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const a=e=>{pa(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",s,i)}),a}(e,(e,t)=>(bc(this.node,t,"Start"),e=>bc(this.node,e,"End"))))}unmount(){}}}},Ac=Ts({...Mo,...Sc,...xc,layout:{ProjectionNode:gc,MeasureLayout:pl}},io),Cc=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},_c=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),Ec=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Tc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Oc=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>x.createElement("svg",{ref:l,...Tc,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:_c("lucide",i),...!a&&!Ec(o)&&{"aria-hidden":"true"},...o},[...s.map(([e,t])=>x.createElement(e,t)),...Array.isArray(a)?a:[a]])),Mc=(e,t)=>{const n=x.forwardRef(({className:n,...r},i)=>{return x.createElement(Oc,{ref:i,iconNode:t,className:_c(`lucide-${a=Cc(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var a});return n.displayName=Cc(e),n},Dc=Mc("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Pc=Mc("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Ic=Mc("align-justify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),Lc=Mc("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Rc=Mc("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),Fc=Mc("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Bc=Mc("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Hc=Mc("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zc=Mc("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Wc=Mc("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),Uc=Mc("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Vc=Mc("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),$c=Mc("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),qc=Mc("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Gc=Mc("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Yc=Mc("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Qc=Mc("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Kc=Mc("chart-bar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]),Jc=Mc("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Xc=Mc("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Zc=Mc("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ed=Mc("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),td=Mc("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nd=Mc("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),rd=Mc("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),id=Mc("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ad=Mc("circle-play",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),sd=Mc("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),od=Mc("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),ld=Mc("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),cd=Mc("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),dd=Mc("component",[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]]),ud=Mc("computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]),hd=Mc("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),pd=Mc("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),md=Mc("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),fd=Mc("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),gd=Mc("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xd=Mc("file-plus-2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),bd=Mc("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),yd=Mc("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),vd=Mc("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),wd=Mc("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),jd=Mc("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Nd=Mc("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),kd=Mc("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Sd=Mc("hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]),Ad=Mc("heading-1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),Cd=Mc("heading-2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),_d=Mc("heading-3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),Ed=Mc("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Td=Mc("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Od=Mc("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Md=Mc("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Dd=Mc("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Pd=Mc("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Id=Mc("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Ld=Mc("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Rd=Mc("life-buoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Fd=Mc("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Bd=Mc("list-check",[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]]),Hd=Mc("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),zd=Mc("list-ordered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Wd=Mc("list-plus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]),Ud=Mc("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Vd=Mc("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),$d=Mc("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),qd=Mc("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Gd=Mc("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Yd=Mc("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Qd=Mc("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Kd=Mc("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Jd=Mc("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Xd=Mc("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Zd=Mc("paint-bucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]),eu=Mc("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),tu=Mc("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),nu=Mc("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),ru=Mc("pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]),iu=Mc("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),au=Mc("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),su=Mc("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),ou=Mc("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),lu=Mc("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]),cu=Mc("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),du=Mc("remove-formatting",[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]]),uu=Mc("save-all",[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]]),hu=Mc("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),pu=Mc("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),mu=Mc("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fu=Mc("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),gu=Mc("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),xu=Mc("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),bu=Mc("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),yu=Mc("strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),vu=Mc("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),wu=Mc("tool-case",[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]]),ju=Mc("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Nu=Mc("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),ku=Mc("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Su=Mc("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),Au=Mc("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),Cu=Mc("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),_u=Mc("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Eu=Mc("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Tu=Mc("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ou=Mc("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mu=Mc("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Du=Mc("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),Pu=Mc("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Iu=Mc("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lu=b.memo(({icon:e,text:t,to:n,expanded:r,onNavigate:i})=>{const a=je(),s=ye().pathname===n;return h.jsxs(Ac.button,{onClick:()=>{a(n),i&&i()},whileHover:{backgroundColor:s?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group\n        ${s?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}\n        ${r?"justify-start":"justify-center"}\n      `,children:[h.jsx("span",{className:"text-xl transition-colors duration-200 "+(s?"text-white":"text-blue-500 group-hover:text-blue-700"),children:e}),r&&h.jsx(Ac.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:t})]})}),Ru=b.memo(()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),n=je(),[r,i]=x.useState(window.innerWidth<768),[a,s]=x.useState(!1),{user:o,hasPermission:l}=xt(),c=x.useRef(null);x.useEffect(()=>{const n=()=>{const n=window.innerWidth<768;i(n),!n&&e&&t(!0)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),x.useEffect(()=>{const e=c.current;if(e){const t=sessionStorage.getItem("sidebarScrollPos");t&&(e.scrollTop=parseInt(t,10));const n=()=>{sessionStorage.setItem("sidebarScrollPos",e.scrollTop.toString())};return e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n)}}},[]);const d=()=>{s(!a)},u=()=>{s(!1)},p=()=>h.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 md:hidden pointer-events-auto",children:h.jsxs("div",{className:"flex justify-around items-center py-2",children:[h.jsxs("button",{onClick:d,className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+(a?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(Od,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Menu"})]}),h.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+("/dashboard"===location.pathname?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(Xc,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]}),h.jsxs("button",{onClick:()=>n("/workorders"),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+("/workorders"===location.pathname?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(od,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Work Orders"})]}),h.jsxs("button",{onClick:()=>n("/monitoringmaintenance"),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 "+("/monitoringmaintenance"===location.pathname?"text-blue-600 bg-blue-50":"text-gray-600"),children:[h.jsx(Kd,{className:"text-xl"}),h.jsx("span",{className:"text-xs mt-1",children:"Monitoring"})]})]})}),m=()=>h.jsx(Da,{children:a&&h.jsxs(h.Fragment,{children:[h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 z-40 md:hidden",onClick:d}),h.jsxs(Ac.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-y-0 left-0 w-80 bg-white z-50 md:hidden shadow-xl",children:[h.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 bg-white",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-8 w-auto"}),h.jsx("p",{className:"text-blue-600 font-bold text-lg",children:"CMMS"})]}),h.jsx("button",{onClick:d,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto h-[calc(100vh-140px)]",children:[l("view_dashboard")&&h.jsx(Lu,{icon:h.jsx(Od,{}),text:"Dashboard",to:"/dashboard",expanded:!0,onNavigate:u}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"5S"}),l("view_workorders")&&h.jsx(Lu,{icon:h.jsx(od,{}),text:"Genba",to:"/genba",expanded:!0,onNavigate:u})]}),h.jsxs("div",{className:"pt-4",children:[l("view_auditrail")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"System"}),l("view_auditrail")&&h.jsxs(h.Fragment,{children:[h.jsx(Lu,{icon:h.jsx(Bd,{}),text:"Audit Trail",to:"/audittrail",expanded:!0,onNavigate:u}),h.jsx(Lu,{icon:h.jsx(Ed,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:!0,onNavigate:u})]})]}),h.jsxs("div",{className:"pt-4",children:[l("view_assets")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Master"}),l("view_assets")&&h.jsx(Lu,{icon:h.jsx(Xd,{}),text:"Assets",to:"/assets",expanded:!0,onNavigate:u}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(Id,{}),text:"User Management",to:"/permissions",expanded:!0,onNavigate:u})]}),h.jsxs("div",{className:"pt-4",children:[l("view_machinehistory")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Maintenance"}),l("view_machinehistory")&&h.jsx(Lu,{icon:h.jsx(Kc,{}),text:"Machine History",to:"/machinehistory",expanded:!0,onNavigate:u}),l("view_monitoring_schedules")&&h.jsx(Lu,{icon:h.jsx(Kd,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:!0,onNavigate:u})]}),h.jsxs("div",{className:"pt-4",children:[l("view_workorders")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Work Orders"}),l("view_workorders")&&h.jsx(Lu,{icon:h.jsx(od,{}),text:"Work Orders",to:"/workorders",expanded:!0,onNavigate:u})]})]}),h.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(null==o?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:(null==o?void 0:o.name)||"User"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Version 1.0.0"})]})]})})]})]})});return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"hidden md:flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:h.jsx(Da,{children:(!r||e)&&h.jsxs(Ac.div,{initial:{width:r?0:e?280:80,opacity:0},animate:{width:e?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden",children:[h.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[e?h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-9 w-auto"}),h.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),h.jsx("button",{onClick:()=>{const n=!e;localStorage.setItem("sidebarOpen",JSON.stringify(n)),t(n)},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":e?"Collapse sidebar":"Expand sidebar",children:e?h.jsx(ed,{className:"text-xl"}):h.jsx(td,{className:"text-xl"})})]}),h.jsxs("nav",{ref:c,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[l("view_dashboard")&&h.jsx(Lu,{icon:h.jsx(Od,{}),text:"Dashboard",to:"/dashboard",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"5S"}),l("view_workorders")&&h.jsx(Lu,{icon:h.jsx(od,{}),text:"Genba",to:"/genba",expanded:e}),e&&l("view_auditrail")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),l("view_auditrail")&&h.jsx(Lu,{icon:h.jsx(Bd,{}),text:"Audit Trail",to:"/audittrail",expanded:e}),l("view_auditrail")&&h.jsx(Lu,{icon:h.jsx(Ed,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:e}),l("manage_workflow_approval")&&h.jsx(Lu,{icon:h.jsx(Ed,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:e}),e&&l("view_assets")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),l("view_workareas")&&h.jsx(Lu,{icon:h.jsx(Yd,{}),text:"Work Location",to:"/worklocation",expanded:e}),l("view_workareas")&&h.jsx(Lu,{icon:h.jsx(Mu,{}),text:"Work Arrangement",to:"/workarrangement",expanded:e}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(Id,{}),text:"User Management",to:"/permissions",expanded:e}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(Pu,{}),text:"Spare Part",to:"/sparepart",expanded:e}),l("view_assets")&&h.jsx(Lu,{icon:h.jsx(Xd,{}),text:"Assets",to:"/assets",expanded:e}),l("view_vendors")&&h.jsx(Lu,{icon:h.jsx(Xd,{}),text:"Vendors",to:"/vendors",expanded:e}),l("view_service_groups")&&h.jsx(Lu,{icon:h.jsx(Rd,{}),text:"Services",to:"/services",expanded:e}),l("manage_stoptimes")&&h.jsx(Lu,{icon:h.jsx(wu,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:e}),e&&l("view_machinehistory")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),l("view_machinehistory")&&h.jsx(Lu,{icon:h.jsx(Kc,{}),text:"Machine History",to:"/machinehistory",expanded:e}),l("view_monitoring_schedules")&&h.jsx(Lu,{icon:h.jsx(Kd,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:e}),e&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),l("view_workorders")&&h.jsx(Lu,{icon:h.jsx(od,{}),text:"Work Orders",to:"/workorders",expanded:e}),e&&l("view_permissions")&&h.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(dd,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:e}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(gu,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:e}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(ou,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:e}),l("view_permissions")&&h.jsx(Lu,{icon:h.jsx(Fc,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:e})]}),h.jsx("div",{className:"p-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(null==o?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),e&&h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),h.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})]})]})})]})})}),h.jsx(p,{}),h.jsx(m,{}),h.jsx("style",{children:"\n          @media (max-width: 768px) {\n            body {\n              padding-bottom: 64px; /* tinggi bottom nav */\n            }\n          }\n        "})]})}),Fu=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:h.jsx(ku,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:h.jsx(Yc,{className:"text-blue-500"})}],Bu={"/dashboard":"Dashboard","/assets":"Assets","/genba":"Genba","/genba/genbaactivity":"Genba Activity","/genba/genbaactivity/formgenbaactivity":"Form Genba Activity","/genba/genbaarea/addgenbaarea":"Add Genba Work Area","/genba/genbaarea/editgenbaarea/:id":"Edit Genba Work Area","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},Hu=({mainTitle:e,mainTitleHighlight:t,description:n,icon:r,isMobile:i,toggleSidebar:a})=>{const{user:s,logout:o}=xt(),l=je(),c=ye(),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(!1),y=x.useRef(null),v=x.useRef(null);x.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&u(!1),v.current&&!v.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const w=(()=>{const e=c.pathname.split("/").filter(e=>""!==e),t=[];t.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let n="";for(let r=0;r<e.length;r++){const i=e[r];if(n+=`/${i}`,/^\d+$/.test(i)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(i))continue;const a=Bu[n]||i.charAt(0).toUpperCase()+i.slice(1).replace(/([A-Z])/g," $1");t.push({label:a,path:n,isClickable:r<e.length-1&&void 0!==Bu[n]})}return t})();return h.jsxs(h.Fragment,{children:[h.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"text-blue-600 text-xl",children:(()=>{const e={className:`text-blue-600 ${r.props.className||""}`};return b.cloneElement(r,e)})()}),h.jsx("div",{className:"flex flex-col",children:h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:e})})]}),h.jsxs("div",{className:"flex items-center space-x-3 relative",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g(!f),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?h.jsx(vu,{className:"text-yellow-400 text-xl"}):h.jsx(Jd,{className:"text-xl"})}),h.jsxs("div",{className:"relative",ref:y,children:[h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!d),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[h.jsx(zc,{className:"text-xl"}),h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),h.jsx(Da,{children:d&&h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[h.jsx("div",{className:"p-4 border-b border-gray-100",children:h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),h.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:Fu.length>0?Fu.map(e=>h.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[e.icon&&h.jsx("div",{className:"flex-shrink-0 mr-3",children:e.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.title}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.description}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.date})]})]},e.id)):h.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),h.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:h.jsx("button",{onClick:()=>{u(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),h.jsxs("div",{className:"relative",ref:v,children:[h.jsxs(Ac.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!p),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[h.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(null==s?void 0:s.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),!i&&h.jsx("span",{className:"font-medium text-gray-900 text-sm",children:null==s?void 0:s.name}),h.jsx(Zc,{className:"text-gray-500 text-base"})]}),h.jsx(Da,{children:p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[h.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),h.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100 truncate",children:(null==s?void 0:s.name)||"Guest User"}),h.jsxs("button",{onClick:()=>{l("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[h.jsx(mu,{size:16,className:"mr-2"})," Settings"]}),h.jsx("hr",{className:"my-1 border-gray-100"}),h.jsxs("button",{onClick:()=>{l("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[h.jsx(qd,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),h.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:h.jsx("div",{className:"flex items-center space-x-2 text-sm",children:w.map((e,t)=>{const n=0===t,r=t===w.length-1,i=!n&&!r;return h.jsxs("div",{className:"flex items-center space-x-2 "+(i?"hidden sm:flex":"flex"),children:[n?h.jsx(Od,{size:16,className:"text-gray-400 flex-shrink-0"}):h.jsx(td,{size:16,className:"text-gray-400 flex-shrink-0"}),e.isClickable?h.jsx("button",{onClick:()=>l(e.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200 truncate max-w-[150px] sm:max-w-none",children:e.label}):h.jsx("span",{className:"text-gray-600 font-medium truncate max-w-[150px] sm:max-w-none",children:e.label})]},e.path)})})})]})},zu=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Wu=()=>{var e;const[t,n]=x.useState(!1),[r,i]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[a,s]=x.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=xt(),[d,u]=x.useState(null),p=je(),[m,f]=x.useState(!1),[g,b]=x.useState(window.innerWidth<768),[y,v]=x.useState(!1),[w,j]=x.useState(!1),N=x.useRef(null),k=x.useRef(null);x.useEffect(()=>{const e=()=>{b(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{N.current&&!N.current.contains(e.target)&&v(!1),k.current&&!k.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const S=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:h.jsx(Nu,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:h.jsx(ku,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:h.jsx(id,{className:"text-blue-500"}),date:"Jul 28, 2023"}],A={total:142,running:118,maintenance:15,breakdown:5,idle:4},C={total:86,overdue:5};return x.useEffect(()=>{s(1),(async()=>{try{const e=await l("/protected-data");u(e)}catch(e){}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Od,{}),isMobile:g,toggleSidebar:()=>{f(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(null==o?void 0:o.name)||(null==(e=null==o?void 0:o.role)?void 0:e.name),"!"]}),h.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(zu,{title:"Total Assets",value:A.total.toString(),change:"+8%",icon:h.jsx(Xd,{})}),h.jsx(zu,{title:"Assets Running",value:A.running.toString(),change:"+5%",icon:h.jsx(id,{})}),h.jsx(zu,{title:"Work Orders",value:C.total.toString(),change:"-3%",icon:h.jsx(od,{})}),h.jsx(zu,{title:"Overdue Tasks",value:C.overdue.toString(),change:"+2%",icon:h.jsx(ld,{})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs(Ac.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),h.jsx("div",{className:"space-y-4",children:S.map(e=>h.jsxs(Ac.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[h.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:e.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-medium text-gray-800",children:e.title}),h.jsx("p",{className:"text-sm text-gray-600",children:e.description}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.date})]})]},e.id))})]}),h.jsxs(Ac.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),h.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-gray-500",children:[h.jsx(Xc,{className:"mx-auto text-4xl mb-2"}),h.jsx("p",{children:"Asset Status Chart"})]})}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(A.running/A.total*100),"%)"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(A.maintenance/A.total*100),"%)"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(A.breakdown/A.total*100),"%)"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),h.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(A.idle/A.total*100),"%)"]})]})]})]})]}),h.jsxs("div",{children:[h.jsxs(Ac.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),h.jsx("div",{className:"space-y-4",children:[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}].map(e=>h.jsx(Ac.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx(Ac.img,{whileHover:{rotate:5},src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center flex-wrap",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:e.role})]}),h.jsx("p",{className:"text-sm mt-1 text-gray-700",children:e.comment}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]})},e.id))})]}),h.jsxs(Ac.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),h.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:h.jsx(od,{className:"text-blue-600 text-lg"}),onClick:()=>p("/workorders")},{text:"Add New Asset",icon:h.jsx(Xd,{className:"text-blue-600 text-lg"}),onClick:()=>p("/assets")},{text:"Send Announcement",icon:h.jsx(Qd,{className:"text-blue-600 text-lg"}),onClick:()=>p("/dashboard")},{text:"Generate Report",icon:h.jsx(Xc,{className:"text-blue-600 text-lg"}),onClick:()=>p("/reports")}].map((e,t)=>h.jsxs(Ac.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:e.onClick,children:[h.jsx("span",{children:e.text}),e.icon]},t))})]})]})]})]})]})]})},Uu=()=>h.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:h.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),Vu=({requiredPermissions:e=[]})=>{const{token:t,user:n,hasPermission:r,isAuthLoading:i}=xt(),a=je(),s=ye();return x.useEffect(()=>{if(!i){if(!t){const e=s.pathname+s.search;return localStorage.setItem("intendedPath",e),void a("/login",{replace:!0})}n&&e.length>0&&!e.some(e=>r(e))&&a("/unauthorized",{state:{from:s},replace:!0})}},[t,n,e,r,a,s,i]),i?h.jsx(Uu,{}):t&&(0===e.length||n&&e.some(e=>r(e)))?h.jsx(Ie,{}):null},$u=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(""),[s,o]=x.useState(!1);return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("form",{onSubmit:async n=>{n.preventDefault(),r(""),a(""),o(!0);try{await new Promise(e=>setTimeout(e,1e3)),a(`Password reset link sent to ${e}`),t("")}catch(i){r(i instanceof Error?i.message:"Failed to send reset link")}finally{o(!1)}},className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[h.jsx("div",{className:"flex justify-center mb-8",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"rounded-lg flex items-center justify-center",children:h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-20 w-auto"})}),h.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),h.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),n&&h.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.jsx("span",{children:n})]}),i&&h.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:i})]}),h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),h.jsx("button",{type:"submit",disabled:s,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${s?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:s?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),h.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[h.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",h.jsx(st,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),h.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:[" ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},qu=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:h.jsx("div",{className:"w-full max-w-4xl",children:h.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[h.jsx("div",{className:"flex justify-center mb-8",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"rounded-lg flex items-center justify-center",children:h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-20 w-auto"})}),h.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),h.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",(new Date).toLocaleDateString()]}),h.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),h.jsx("p",{children:"We collect personal information when you register, including:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Full name and contact details"}),h.jsx("li",{children:"Professional credentials (for healthcare providers)"}),h.jsx("li",{children:"Usage data and cookies"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),h.jsx("p",{children:"Your data helps us:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Provide pharmaceutical services"}),h.jsx("li",{children:"Secure your account with authentication"}),h.jsx("li",{children:"Improve our platform"}),h.jsx("li",{children:"Comply with legal requirements"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),h.jsx("p",{children:"We implement security measures including:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Encryption of sensitive data"}),h.jsx("li",{children:"Regular security audits"}),h.jsx("li",{children:"Access controls to personal information"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),h.jsx("p",{children:"We only share data with:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Verified healthcare partners (with consent)"}),h.jsx("li",{children:"Legal authorities when required"}),h.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),h.jsx("p",{children:"You may request to:"}),h.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[h.jsx("li",{children:"Access your personal data"}),h.jsx("li",{children:"Correct inaccurate information"}),h.jsx("li",{children:"Delete your account data"}),h.jsx("li",{children:"Opt-out of marketing communications"})]})]}),h.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[h.jsx(st,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),h.jsxs("p",{className:"text-xs text-gray-500",children:[" ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),Gu=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],Yu=()=>{const{logout:e,isLoggingOut:t}=xt(),[n,r]=x.useState(null),[i,a]=x.useState(!1),[s]=x.useState(Gu[0]),[o,l]=x.useState(!1);x.useEffect(()=>{let e;return a(!0),l(!0),e=window.setTimeout(()=>{l(!1)},500),()=>{clearTimeout(e)}},[]);const c=o?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:h.jsxs("div",{className:"flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden\n                    transform transition-all duration-700 ease-out "+(i?"translate-y-0 opacity-100":"translate-y-10 opacity-0"),children:[h.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 "+(i?"opacity-100":"opacity-0"),children:[h.jsx("img",{src:bt,alt:"Logo Wida",className:"h-10 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),h.jsx("h1",{style:{fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out",...c},className:"text-3xl font-bold transition-opacity duration-700 ease-out delay-300 "+(i?"opacity-100":"opacity-0"),children:s}),h.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),h.jsx("p",{className:"text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 "+(i?"opacity-100":"opacity-0"),children:"Thank you for your hard work today. We hope to see you back soon."}),t?h.jsx(h.Fragment,{children:h.jsx("div",{className:"text-center transition-all duration-500 ease-out delay-500 "+(i?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:h.jsxs("button",{type:"button",disabled:!0,className:"w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed\n                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\n                              flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):h.jsxs(h.Fragment,{children:[n&&h.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[h.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h.jsx("span",{children:n})]}),h.jsxs("div",{className:"space-y-4 transition-all duration-500 ease-out delay-500 "+(i?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"),children:[h.jsxs("button",{onClick:async()=>{try{await e()}catch(t){r("Failed to logout. Please try again.")}},className:"w-full py-3 px-4 rounded-md text-base font-medium\n                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\n                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5\n                            flex items-center justify-center",children:[h.jsx(Ft,{className:"mr-2"}),"Yes, Sign Out Now"]}),h.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:h.jsxs("button",{onClick:()=>{window.history.back()},className:"inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r\n                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800",children:[h.jsx(Et,{className:"mr-2"}),"No, Stay Logged In"]})})]}),h.jsxs("p",{className:"text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 "+(i?"opacity-100":"opacity-0"),children:["Not finished yet?"," ",h.jsx(st,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:h.jsxs("span",{className:"inline-flex items-center",children:[h.jsx(It,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),h.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:h.jsxs("p",{className:"text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 "+(i?"opacity-100":"opacity-0"),children:[" ",(new Date).getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),h.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8\n                      transform transition-all duration-700 ease-out delay-300 "+(i?"translate-x-0 opacity-100":"translate-x-10 opacity-0"),children:[h.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),h.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),h.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),h.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[h.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),h.jsx("div",{className:"text-blue-300 animate-pulse-light",children:h.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),h.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[h.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:h.jsx("div",{className:"bg-blue-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),h.jsx("p",{children:"Security check on exit completed"})]})]}),h.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:h.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Qu=({title:e,value:t,change:n,icon:r})=>(n.startsWith("+"),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[n," from last month"]})]})),Ku=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ju=({asset:e,isEditing:t,onSave:n,onCancel:r})=>{const[i,a]=x.useState(e);x.useEffect(()=>{a(e)},[e]);const s=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),o=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})});return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.name}),h.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full "+("running"===i.status?"bg-green-100 text-green-800 border border-green-300":"maintenance"===i.status?"bg-yellow-100 text-yellow-800 border border-yellow-300":"breakdown"===i.status?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"),children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Xd,{className:"w-4 h-4"}),"Asset ID: ",i.id]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(mu,{className:"w-4 h-4"}),"Type: ",i.type.charAt(0).toUpperCase()+i.type.slice(1)]})]})]})})}),h.jsx(s,{title:"Basic Information",icon:h.jsx(Xd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(o,{label:"Asset ID",value:i.id,icon:h.jsx(Id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Asset Name",value:i.name,icon:h.jsx(Xd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Asset Type",value:i.type.charAt(0).toUpperCase()+i.type.slice(1),icon:h.jsx(mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Make",value:i.make,icon:h.jsx(Pu,{className:"w-4 h-4"})}),h.jsx(o,{label:"Model",value:i.model,icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(o,{label:"Location",value:i.location,icon:h.jsx(Od,{className:"w-4 h-4"})})]})}),h.jsx(s,{title:"Status & Maintenance",icon:h.jsx(od,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(o,{label:"Current Status",value:i.status.charAt(0).toUpperCase()+i.status.slice(1),icon:h.jsx(id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Last Maintenance",value:i.lastMaintenance,icon:h.jsx(Yc,{className:"w-4 h-4"})}),h.jsx(o,{label:"Next Maintenance",value:i.nextMaintenance,icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Work Orders",value:i.workOrders.toString(),icon:h.jsx(od,{className:"w-4 h-4"})}),h.jsx(o,{label:"Health Status",value:`${i.health}`,icon:h.jsx(Xc,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(s,{title:"Technical Details",icon:h.jsx(Pu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Make:"})," ",i.make]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Model:"})," ",i.model]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Type:"})," ",i.type.charAt(0).toUpperCase()+i.type.slice(1)]})]})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Health Status:"})," ",i.health]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",i.workOrders]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Status:"})," ",i.status.charAt(0).toUpperCase()+i.status.slice(1)]})]})]})]})}),h.jsx(s,{title:"Maintenance Timeline",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),h.jsx("span",{className:"text-sm text-green-600",children:i.lastMaintenance})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),h.jsx("span",{className:"text-sm text-blue-600",children:i.nextMaintenance})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[h.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),h.jsx("span",{className:"text-sm text-yellow-600",children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})]})]})}),h.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:t?"Cancel":"Close Details"}),t&&h.jsx(Ac.button,{type:"submit",onClick:e=>{e.preventDefault(),n(i)},whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},Xu=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[i,a]=x.useState(""),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(!1),[b,y]=x.useState(null),[v,w]=x.useState(!1),[j,N]=x.useState(1),[k]=x.useState(5),{user:S,fetchWithAuth:A,hasPermission:C,getAssetsData:_,deleteAsset:E}=xt(),[T,O]=x.useState(null),M=je(),[D,P]=x.useState(!1),[I,L]=x.useState(window.innerWidth<768),[R,F]=x.useState(!1),[B,H]=x.useState(!1),z=x.useRef(null),W=x.useRef(null),[U,V]=x.useState([]),[$,q]=x.useState(!1),[G,Y]=x.useState(null),[Q,K]=x.useState(!1),[J,X]=x.useState(null),Z=()=>{K(!1),X(null)};x.useEffect(()=>{const e=()=>{L(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{z.current&&!z.current.contains(e.target)&&F(!1),W.current&&!W.current.contains(e.target)&&H(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const ee=U.filter(e=>{const t=String(e.id),n=i.toLowerCase();return e.name.toLowerCase().includes(n)||t.toLowerCase().includes(n)||e.category.toLowerCase().includes(n)||e.location.toLowerCase().includes(n)}),te=j*k,ne=te-k,re=ee.slice(ne,te),ie=Math.ceil(ee.length/k),ae=e=>N(e);x.useEffect(()=>{N(1),(async()=>{try{const e=await A("/protected-data");O(e)}catch(e){}})(),document.documentElement.classList.toggle("dark",e),localStorage.setItem("sidebarOpen",JSON.stringify(n))},[i,s,l,n,e,A]);const se=(()=>{if(0===U.length)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const e=U.length,t=new Date,n=U.filter(e=>"Aktif"===e.status||null!==e.status).length,r=U.filter(e=>!!e.nextMaintenance&&new Date(e.nextMaintenance)<=t).length,i=U.filter(e=>"Buruk"===e.health||"Critical"===e.health).length;return{total:e,active:n,maintenance:r,critical:i,maintenanceDue:r,needsAttention:r+i}})(),oe=se.total>0?Math.round(se.active/se.total*100):0,le=se.total>0?Math.round(se.maintenance/se.total*100):0,ce=se.total>0?Math.round(se.critical/se.total*100):0;return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Xd,{}),isMobile:I,toggleSidebar:()=>{P(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!n)),r(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsxs(Ac.button,{onClick:async()=>{q(!0),Y(null);try{const e=await _();V(e)}catch(e){Y("Failed to load data from ERP.")}finally{q(!1)}},disabled:$,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md "+($?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[h.jsx(pd,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:$?"Loading...":"Load Data from ERP"})]}),h.jsxs(Ac.button,{onClick:()=>M("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Asset"})]}),h.jsxs(Ac.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>u(!d),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(jd,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Filters"}),d?h.jsx(nd,{}):h.jsx(Zc,{})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Qu,{title:"Total Assets",value:se.total.toString(),change:`${se.total} units`,icon:h.jsx(Xd,{})}),h.jsx(Qu,{title:"Active Assets",value:se.active.toString(),change:`${oe}% operational`,icon:h.jsx(id,{})}),h.jsx(Qu,{title:"Due Maintenance",value:se.maintenance.toString(),change:`${le}% need service`,icon:h.jsx(Pu,{})}),h.jsx(Qu,{title:"Critical Issues",value:se.critical.toString(),change:`${ce}% critical`,icon:h.jsx(ku,{})})]}),h.jsx(Ac.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:i,onChange:e=>a(e.target.value)})]}),h.jsx(Da,{children:d&&h.jsxs(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:s,onChange:e=>o(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"running",children:"Running"}),h.jsx("option",{value:"maintenance",children:"Maintenance"}),h.jsx("option",{value:"breakdown",children:"Breakdown"}),h.jsx("option",{value:"idle",children:"Idle"})]}),h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:l,onChange:e=>c(e.target.value),children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"mechanical",children:"Mechanical"}),h.jsx("option",{value:"electrical",children:"Electrical"}),h.jsx("option",{value:"vehicle",children:"Vehicle"}),h.jsx("option",{value:"building",children:"Building"})]})]})})]})}),h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[$&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),G&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx(ku,{className:"text-red-500 mr-2"}),G]})})}),!$&&0===U.length&&!G&&h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx(Xd,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),re.length>0&&re.map((e,t)=>{const n=ne+t;return h.jsxs(Ac.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:n+1})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"flex items-center",children:h.jsxs("div",{className:"ml-0",children:[" ",h.jsx("div",{className:"text-base font-medium text-gray-900",children:e.name}),h.jsx("div",{className:"text-sm text-gray-600",children:e.category})]})})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:e.location})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm text-gray-900",children:e.purchaseDate})," "]}),h.jsxs("td",{className:"px-6 py-4",children:[" ",h.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:e.description})," "]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>M(`/assets/assetsdata/editasset/${e.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:h.jsx(bu,{className:"w-5 h-5"})}),h.jsx(Ac.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>{return t=String(e.id),n=e.name,X({id:t,name:n}),void K(!0);var t,n},className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:h.jsx(ju,{className:"w-5 h-5"})}),h.jsx(Ac.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>(e=>{y(e),g(!0),w(!1)})(e),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:h.jsx(gd,{className:"w-5 h-5"})})]})})]},e.id)})]})]})})}),ee.length>k&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:ne+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(te,ee.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:ee.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(j-1),disabled:1===j,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ie},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${j===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(j+1),disabled:j===ie,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),b&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:v?"Edit Asset":"Asset Details"}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{g(!1),y(null),w(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:h.jsx(Ju,{asset:b,isEditing:v,onSave:()=>{},onCancel:()=>{g(!1),y(null),w(!1)}})})]})}),h.jsx(Ku,{isOpen:Q,onClose:Z,title:"Confirm Delete",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(ku,{className:"text-yellow-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),h.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",h.jsx("strong",{children:null==J?void 0:J.name})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(J)if(J.id)try{await E(J.id),V(U.filter(e=>String(e.id)!==J.id)),K(!1),X(null)}catch(e){alert("Failed to delete asset.")}else alert("Cannot delete: Asset ID is missing.")},className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},Zu=()=>{const{user:e,hasPermission:t,logout:n}=xt(),r=je();ye();const[i,a]=x.useState(!1),[s,o]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[l,c]=x.useState(window.innerWidth<768),[d,u]=x.useState("profile"),[p,m]=x.useState(!1),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=x.useRef(null);x.useEffect(()=>{const e=()=>{c(window.innerWidth<768),window.innerWidth<768&&o(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const[w,j]=x.useState({name:null==e?void 0:e.name,nik:null==e?void 0:e.nik,email:null==e?void 0:e.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),N=e=>{const{name:t,value:n,type:r}=e.target,i="checkbox"===r?e.target.checked:void 0;j(e=>({...e,[t]:"checkbox"===r?i:n}))},k=({title:e,children:t})=>h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:e}),t]}),S=({label:e,value:t,children:n,editable:r=!0,onEdit:i})=>h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[h.jsxs("div",{className:"mb-2 sm:mb-0",children:[h.jsx("p",{className:"font-medium text-gray-700",children:e}),void 0!==t&&h.jsx("p",{className:"text-sm text-gray-600",children:"boolean"==typeof t?t?"Enabled":"Disabled":t})]}),r&&h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),n]}),A=({isOpen:e,onClose:t,title:n,children:r,actions:i})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Iu,{size:20})})]}),h.jsx("div",{className:"p-6",children:r}),i&&h.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:i})]})}):null;return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(mu,{}),isMobile:l,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),o(e=>!e)}}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),h.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[h.jsx(Ac.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:h.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:h.jsx(Ou,{}),label:"Profile"},{id:"security",icon:h.jsx($d,{}),label:"Security"},{id:"notifications",icon:h.jsx(zc,{}),label:"Notifications"},{id:"preferences",icon:h.jsx(vu,{}),label:"Preferences"},{id:"billing",icon:h.jsx(hd,{}),label:"Billing"},{id:"team",icon:h.jsx(Mu,{}),label:"Team Settings"},{id:"integrations",icon:h.jsx(kd,{}),label:"Integrations"},{id:"data",icon:h.jsx(pd,{}),label:"Data Management"}].map(e=>h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(e.id),className:"w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 "+(d===e.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"),children:[h.jsx("span",{className:"text-xl mr-3 text-blue-500",children:e.icon}),h.jsx("span",{className:"text-base",children:e.label})]},e.id))})})}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:["profile"===d&&h.jsx(k,{title:"Profile Information",children:p?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",name:"name",value:w.name,onChange:N,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{type:"text",name:"nik",value:w.nik,onChange:N,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"text",name:"nik",value:w.email,onChange:N,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(S,{label:"Name",value:null==e?void 0:e.name,editable:!1}),h.jsx(S,{label:"NIK",value:null==e?void 0:e.nik,editable:!1}),h.jsx(S,{label:"Role",value:null==e?void 0:e.role.name,editable:!1}),h.jsx(S,{label:"Email",value:null==e?void 0:e.email,editable:!1})]})}),"security"===d&&h.jsxs(k,{title:"Security Settings",children:[h.jsx(S,{label:"Password",value:"",onEdit:()=>r("/settings/change-password")}),h.jsx(S,{label:"Two-factor authentication",value:!1,onEdit:()=>r("/settings/two-factor")}),h.jsx(S,{label:"Active sessions",value:"3 devices",onEdit:()=>r("/settings/sessions")})]}),"notifications"===d&&h.jsxs(k,{title:"Notification Preferences",children:[h.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",name:"notifications",checked:w.notifications,onChange:N,className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),h.jsx(S,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),"preferences"===d&&h.jsxs(k,{title:"Preferences",children:[h.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),h.jsx(Da,{mode:"wait",children:h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(!i),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:i?h.jsx(vu,{className:"text-yellow-400"}):h.jsx(Jd,{})},i?"sun-card":"moon-card")})]}),h.jsx(S,{label:"Language",value:"English",onEdit:()=>{}}),h.jsx(S,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),"billing"===d&&h.jsxs(k,{title:"Billing Information",children:[h.jsx(S,{label:"Billing email",value:w.billingEmail,onEdit:()=>{}}),h.jsx(S,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),h.jsx(S,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),"team"===d&&h.jsxs(k,{title:"Team Settings",children:[h.jsx(S,{label:"Team members",value:"5 active",onEdit:()=>r("/team")}),h.jsx(S,{label:"Team roles",value:"Custom roles",onEdit:()=>r("/settings/roles")}),h.jsx(S,{label:"Team permissions",value:"Custom permissions",onEdit:()=>r("/settings/permissions")})]}),"integrations"===d&&h.jsxs(k,{title:"Integrations",children:[h.jsx(S,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),h.jsx(S,{label:"Slack",value:"Not connected",onEdit:()=>{}}),h.jsx(S,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),"data"===d&&h.jsxs(k,{title:"Data Management",children:[h.jsx(S,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),h.jsx(S,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>g(!0)})]})]})]})]})})]}),h.jsxs(A,{isOpen:f,onClose:()=>g(!1),title:"Delete Account",children:[h.jsx("div",{className:"text-gray-700 mb-6",children:h.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function eh(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=eh(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function th(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=eh(e))&&(r&&(r+=" "),r+=t);return r}const nh=6048e5,rh=6e4,ih=36e5,ah=Symbol.for("constructDateFrom");function sh(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&ah in e?e[ah](t):e instanceof Date?new e.constructor(t):new Date(t)}function oh(e,t){return sh(t||e,e)}function lh(e,t,n){const r=oh(e,null==n?void 0:n.in);return isNaN(t)?sh((null==n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function ch(e,t,n){const r=oh(e,null==n?void 0:n.in);if(isNaN(t))return sh(e,NaN);if(!t)return r;const i=r.getDate(),a=sh(e,r.getTime());return a.setMonth(r.getMonth()+t+1,0),i>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function dh(e,t,n){return sh(e,+oh(e)+t)}function uh(e,t,n){return dh(e,t*ih)}let hh={};function ph(){return hh}function mh(e,t){var n,r,i,a,s,o,l,c;const d=ph(),u=null!=(c=null!=(l=null!=(a=null!=(i=null==t?void 0:t.weekStartsOn)?i:null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.weekStartsOn)?a:d.weekStartsOn)?l:null==(o=null==(s=d.locale)?void 0:s.options)?void 0:o.weekStartsOn)?c:0,h=oh(e,null==t?void 0:t.in),p=h.getDay(),m=(p<u?7:0)+p-u;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function fh(e,t){return mh(e,{...t,weekStartsOn:1})}function gh(e,t){const n=oh(e,null==t?void 0:t.in),r=n.getFullYear(),i=sh(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=fh(i),s=sh(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=fh(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function xh(e){const t=oh(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bh(e,...t){const n=sh.bind(null,t.find(e=>"object"==typeof e));return t.map(n)}function yh(e,t){const n=oh(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function vh(e,t,n){const[r,i]=bh(null==n||n.in,e,t),a=yh(r),s=yh(i),o=+a-xh(a),l=+s-xh(s);return Math.round((o-l)/864e5)}function wh(e,t,n){const r=oh(e,null==n?void 0:n.in);return r.setTime(r.getTime()+t*rh),r}function jh(e,t,n){return ch(e,3*t,n)}function Nh(e,t,n){return dh(e,1e3*t)}function kh(e,t,n){return lh(e,7*t,n)}function Sh(e,t,n){return ch(e,12*t,n)}function Ah(e,t){let n,r=null==t?void 0:t.in;return e.forEach(e=>{r||"object"!=typeof e||(r=sh.bind(null,e));const t=oh(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),sh(r,n||NaN)}function Ch(e,t){let n,r=null==t?void 0:t.in;return e.forEach(e=>{r||"object"!=typeof e||(r=sh.bind(null,e));const t=oh(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),sh(r,n||NaN)}function _h(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Eh(e){return!(!_h(e)&&"number"!=typeof e||isNaN(+oh(e)))}function Th(e,t,n){const[r,i]=bh(null==n||n.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function Oh(e,t){const n=oh(e,null==t?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Mh(e,t,n){const[r,i]=bh(null==n||n.in,e,t);return 4*(r.getFullYear()-i.getFullYear())+(Oh(r)-Oh(i))}function Dh(e,t,n){const[r,i]=bh(null==n||n.in,e,t);return r.getFullYear()-i.getFullYear()}function Ph(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Ih(e,t){const n=oh(e,null==t?void 0:t.in);return n.setHours(23,59,59,999),n}function Lh(e,t){const n=oh(e,null==t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Rh(e,t){const n=oh(e,null==t?void 0:t.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function Fh(e,t){const n=oh(e,null==t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Bh(e,t){const n=oh(e,null==t?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Hh(e,t){const n=oh(e,null==t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Wh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Uh={date:Wh({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Wh({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Wh({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Vh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $h(e){return(t,n)=>{let r;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function qh(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(o,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(o,e=>e.test(s));let c;return c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:t.slice(s.length)}}}var Gh;const Yh={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=zh[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Uh,formatRelative:(e,t,n,r)=>Vh[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$h({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$h({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:$h({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$h({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$h({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Gh={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(Gh.matchPattern);if(!n)return null;const r=n[0],i=e.match(Gh.parsePattern);if(!i)return null;let a=Gh.valueCallback?Gh.valueCallback(i[0]):i[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:qh({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qh({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qh({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qh({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qh({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qh(e,t){const n=oh(e,null==t?void 0:t.in),r=+fh(n)-+function(e){const t=gh(e,void 0),n=sh(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),fh(n)}(n);return Math.round(r/nh)+1}function Kh(e,t){var n,r,i,a,s,o,l,c;const d=oh(e,null==t?void 0:t.in),u=d.getFullYear(),h=ph(),p=null!=(c=null!=(l=null!=(a=null!=(i=null==t?void 0:t.firstWeekContainsDate)?i:null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)?a:h.firstWeekContainsDate)?l:null==(o=null==(s=h.locale)?void 0:s.options)?void 0:o.firstWeekContainsDate)?c:1,m=sh((null==t?void 0:t.in)||e,0);m.setFullYear(u+1,0,p),m.setHours(0,0,0,0);const f=mh(m,t),g=sh((null==t?void 0:t.in)||e,0);g.setFullYear(u,0,p),g.setHours(0,0,0,0);const x=mh(g,t);return+d>=+f?u+1:+d>=+x?u:u-1}function Jh(e,t){const n=oh(e,null==t?void 0:t.in),r=+mh(n,t)-+function(e,t){var n,r,i,a,s,o,l,c;const d=ph(),u=null!=(c=null!=(l=null!=(a=null!=(i=null==t?void 0:t.firstWeekContainsDate)?i:null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)?a:d.firstWeekContainsDate)?l:null==(o=null==(s=d.locale)?void 0:s.options)?void 0:o.firstWeekContainsDate)?c:1,h=Kh(e,t),p=sh((null==t?void 0:t.in)||e,0);return p.setFullYear(h,0,u),p.setHours(0,0,0,0),mh(p,t)}(n,t);return Math.round(r/nh)+1}function Xh(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Zh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xh("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Xh(n+1,2)},d:(e,t)=>Xh(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Xh(e.getHours()%12||12,t.length),H:(e,t)=>Xh(e.getHours(),t.length),m:(e,t)=>Xh(e.getMinutes(),t.length),s:(e,t)=>Xh(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Xh(Math.trunc(r*Math.pow(10,n-3)),t.length)}},ep={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Zh.y(e,t)},Y:function(e,t,n,r){const i=Kh(e,r),a=i>0?i:1-i;return"YY"===t?Xh(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Xh(a,t.length)},R:function(e,t){return Xh(gh(e),t.length)},u:function(e,t){return Xh(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xh(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xh(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Zh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xh(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Jh(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Xh(i,t.length)},I:function(e,t,n){const r=Qh(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Xh(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Zh.d(e,t)},D:function(e,t,n){const r=function(e){const t=oh(e,void 0);return vh(t,Hh(t))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Xh(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Xh(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Xh(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Xh(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Zh.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Zh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xh(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xh(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zh.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Zh.s(e,t)},S:function(e,t){return Zh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return np(r);case"XXXX":case"XX":return rp(r);default:return rp(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return np(r);case"xxxx":case"xx":return rp(r);default:return rp(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tp(r,":");default:return"GMT"+rp(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tp(r,":");default:return"GMT"+rp(r,":")}},t:function(e,t,n){return Xh(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Xh(+e,t.length)}};function tp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+Xh(a,2)}function np(e,t){return e%60==0?(e>0?"-":"+")+Xh(Math.abs(e)/60,2):rp(e,t)}function rp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Xh(Math.trunc(r/60),2)+t+Xh(r%60,2)}const ip=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ap=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},sp={p:ap,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ip(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",ip(r,t)).replace("{{time}}",ap(i,t))}},op=/^D+$/,lp=/^Y+$/,cp=["D","DD","YY","YYYY"],dp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,up=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hp=/^'([^]*?)'?$/,pp=/''/g,mp=/[a-zA-Z]/;function fp(e,t,n){var r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v;const w=ph(),j=null!=(i=null!=(r=null==n?void 0:n.locale)?r:w.locale)?i:Yh,N=null!=(h=null!=(u=null!=(l=null!=(o=null==n?void 0:n.firstWeekContainsDate)?o:null==(s=null==(a=null==n?void 0:n.locale)?void 0:a.options)?void 0:s.firstWeekContainsDate)?l:w.firstWeekContainsDate)?u:null==(d=null==(c=w.locale)?void 0:c.options)?void 0:d.firstWeekContainsDate)?h:1,k=null!=(v=null!=(y=null!=(g=null!=(f=null==n?void 0:n.weekStartsOn)?f:null==(m=null==(p=null==n?void 0:n.locale)?void 0:p.options)?void 0:m.weekStartsOn)?g:w.weekStartsOn)?y:null==(b=null==(x=w.locale)?void 0:x.options)?void 0:b.weekStartsOn)?v:0,S=oh(e,null==n?void 0:n.in);if(!Eh(S))throw new RangeError("Invalid time value");let A=t.match(up).map(e=>{const t=e[0];return"p"===t||"P"===t?(0,sp[t])(e,j.formatLong):e}).join("").match(dp).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:gp(e)};if(ep[t])return{isToken:!0,value:e};if(t.match(mp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});j.localize.preprocessor&&(A=j.localize.preprocessor(S,A));const C={firstWeekContainsDate:N,weekStartsOn:k,locale:j};return A.map(r=>{if(!r.isToken)return r.value;const i=r.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&function(e){return lp.test(e)}(i)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&function(e){return op.test(e)}(i))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(cp.includes(e))throw new RangeError(r)}(i,t,String(e)),(0,ep[i[0]])(S,i,j.localize,C)}).join("")}function gp(e){const t=e.match(hp);return t?t[1].replace(pp,"'"):e}function xp(e,t){return oh(e,null==t?void 0:t.in).getDate()}function bp(e,t){return oh(e,null==t?void 0:t.in).getHours()}function yp(e,t){return oh(e,null==t?void 0:t.in).getMinutes()}function vp(e,t){return oh(e,null==t?void 0:t.in).getMonth()}function wp(e){return oh(e).getSeconds()}function jp(e){return+oh(e)}function Np(e,t){return oh(e,null==t?void 0:t.in).getFullYear()}function kp(e,t){return+oh(e)>+oh(t)}function Sp(e,t){return+oh(e)<+oh(t)}class Ap{constructor(){t(this,"subPriority",0)}validate(e,t){return!0}}class Cp extends Ap{constructor(e,t,n,r,i){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class _p extends Ap{constructor(e,n){super(),t(this,"priority",10),t(this,"subPriority",-1),this.context=e||(e=>sh(n,e))}set(e,t){return t.timestampIsSet?e:sh(e,function(e,t){const n=function(e){var t;return"function"==typeof e&&(null==(t=e.prototype)?void 0:t.constructor)===e}(t)?new t(0):sh(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}(e,this.context))}}class Ep{run(e,t,n,r){const i=this.parse(e,t,n,r);return i?{setter:new Cp(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,n){return!0}}const Tp=/^(1[0-2]|0?\d)/,Op=/^(3[0-1]|[0-2]?\d)/,Mp=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Dp=/^(5[0-3]|[0-4]?\d)/,Pp=/^(2[0-3]|[0-1]?\d)/,Ip=/^(2[0-4]|[0-1]?\d)/,Lp=/^(1[0-1]|0?\d)/,Rp=/^(1[0-2]|0?\d)/,Fp=/^[0-5]?\d/,Bp=/^[0-5]?\d/,Hp=/^\d/,zp=/^\d{1,2}/,Wp=/^\d{1,3}/,Up=/^\d{1,4}/,Vp=/^-?\d+/,$p=/^-?\d/,qp=/^-?\d{1,2}/,Gp=/^-?\d{1,3}/,Yp=/^-?\d{1,4}/,Qp=/^([+-])(\d{2})(\d{2})?|Z/,Kp=/^([+-])(\d{2})(\d{2})|Z/,Jp=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Xp=/^([+-])(\d{2}):(\d{2})|Z/,Zp=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function em(e,t){return e?{value:t(e.value),rest:e.rest}:e}function tm(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function nm(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*ih+a*rh+1e3*s),rest:t.slice(n[0].length)}}function rm(e){return tm(Vp,e)}function im(e,t){switch(e){case 1:return tm(Hp,t);case 2:return tm(zp,t);case 3:return tm(Wp,t);case 4:return tm(Up,t);default:return tm(new RegExp("^\\d{1,"+e+"}"),t)}}function am(e,t){switch(e){case 1:return tm($p,t);case 2:return tm(qp,t);case 3:return tm(Gp,t);case 4:return tm(Yp,t);default:return tm(new RegExp("^-?\\d{1,"+e+"}"),t)}}function sm(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function om(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const t=r+50;i=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?i:1-i}function lm(e){return e%400==0||e%4==0&&e%100!=0}const cm=[31,28,31,30,31,30,31,31,30,31,30,31],dm=[31,29,31,30,31,30,31,31,30,31,30,31];function um(e,t,n){var r,i,a,s,o,l,c,d;const u=ph(),h=null!=(d=null!=(c=null!=(s=null!=(a=null==n?void 0:n.weekStartsOn)?a:null==(i=null==(r=null==n?void 0:n.locale)?void 0:r.options)?void 0:i.weekStartsOn)?s:u.weekStartsOn)?c:null==(l=null==(o=u.locale)?void 0:o.options)?void 0:l.weekStartsOn)?d:0,p=oh(e,null==n?void 0:n.in),m=p.getDay(),f=7-h;return lh(p,t<0||t>6?t-(m+f)%7:((t%7+7)%7+f)%7-(m+f)%7,n)}const hm={G:new class extends Ep{constructor(){super(...arguments),t(this,"priority",140),t(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends Ep{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return em(im(4,e),r);case"yo":return em(n.ordinalNumber(e,{unit:"year"}),r);default:return em(im(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=om(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Ep{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return em(im(4,e),r);case"Yo":return em(n.ordinalNumber(e,{unit:"year"}),r);default:return em(im(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const i=Kh(e,r);if(n.isTwoDigitYear){const t=om(n.year,i);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),mh(e,r)}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),mh(e,r)}},R:new class extends Ep{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return am("R"===t?4:t.length,e)}set(e,t,n){const r=sh(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),fh(r)}},u:new class extends Ep{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return am("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends Ep{constructor(){super(...arguments),t(this,"priority",120),t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return im(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends Ep{constructor(){super(...arguments),t(this,"priority",120),t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return im(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends Ep{constructor(){super(...arguments),t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),t(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return em(tm(Tp,e),r);case"MM":return em(im(2,e),r);case"Mo":return em(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Ep{constructor(){super(...arguments),t(this,"priority",110),t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return em(tm(Tp,e),r);case"LL":return em(im(2,e),r);case"Lo":return em(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends Ep{constructor(){super(...arguments),t(this,"priority",100),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return tm(Dp,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return im(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return mh(function(e,t,n){const r=oh(e,null==n?void 0:n.in),i=Jh(r,n)-t;return r.setDate(r.getDate()-7*i),oh(r,null==n?void 0:n.in)}(e,n,r),r)}},I:new class extends Ep{constructor(){super(...arguments),t(this,"priority",100),t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return tm(Dp,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return im(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return fh(function(e,t,n){const r=oh(e,void 0),i=Qh(r,n)-t;return r.setDate(r.getDate()-7*i),r}(e,n))}},d:new class extends Ep{constructor(){super(...arguments),t(this,"priority",90),t(this,"subPriority",1),t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return tm(Op,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return im(t.length,e)}}validate(e,t){const n=lm(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=dm[r]:t>=1&&t<=cm[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends Ep{constructor(){super(...arguments),t(this,"priority",90),t(this,"subpriority",1),t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return tm(Mp,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return im(t.length,e)}}validate(e,t){return lm(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends Ep{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=um(e,n,r)).setHours(0,0,0,0),e}},e:new class extends Ep{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return em(im(t.length,e),i);case"eo":return em(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=um(e,n,r)).setHours(0,0,0,0),e}},c:new class extends Ep{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const i=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return em(im(t.length,e),i);case"co":return em(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=um(e,n,r)).setHours(0,0,0,0),e}},i:new class extends Ep{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return im(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return em(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return em(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return em(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return em(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=function(e,t,n){const r=oh(e,null==n?void 0:n.in),i=function(e,t){const n=oh(e,null==t?void 0:t.in).getDay();return 0===n?7:n}(r,n);return lh(r,t-i,n)}(e,n)).setHours(0,0,0,0),e}},a:new class extends Ep{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(sm(n),0,0,0),e}},b:new class extends Ep{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(sm(n),0,0,0),e}},B:new class extends Ep{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(sm(n),0,0,0),e}},h:new class extends Ep{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return tm(Rp,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return im(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends Ep{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return tm(Pp,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return im(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends Ep{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return tm(Lp,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return im(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends Ep{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return tm(Ip,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return im(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends Ep{constructor(){super(...arguments),t(this,"priority",60),t(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return tm(Fp,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return im(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends Ep{constructor(){super(...arguments),t(this,"priority",50),t(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return tm(Bp,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return im(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends Ep{constructor(){super(...arguments),t(this,"priority",30),t(this,"incompatibleTokens",["t","T"])}parse(e,t){return em(im(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends Ep{constructor(){super(...arguments),t(this,"priority",10),t(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return nm(Qp,e);case"XX":return nm(Kp,e);case"XXXX":return nm(Jp,e);case"XXXXX":return nm(Zp,e);default:return nm(Xp,e)}}set(e,t,n){return t.timestampIsSet?e:sh(e,e.getTime()-xh(e)-n)}},x:new class extends Ep{constructor(){super(...arguments),t(this,"priority",10),t(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return nm(Qp,e);case"xx":return nm(Kp,e);case"xxxx":return nm(Jp,e);case"xxxxx":return nm(Zp,e);default:return nm(Xp,e)}}set(e,t,n){return t.timestampIsSet?e:sh(e,e.getTime()-xh(e)-n)}},t:new class extends Ep{constructor(){super(...arguments),t(this,"priority",40),t(this,"incompatibleTokens","*")}parse(e){return rm(e)}set(e,t,n){return[sh(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends Ep{constructor(){super(...arguments),t(this,"priority",20),t(this,"incompatibleTokens","*")}parse(e){return rm(e)}set(e,t,n){return[sh(e,n),{timestampIsSet:!0}]}}},pm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fm=/^'([^]*?)'?$/,gm=/''/g,xm=/\S/,bm=/[a-zA-Z]/;function ym(e,t,n,r){var i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w;const j=()=>sh((null==r?void 0:r.in)||n,NaN),N=Object.assign({},ph()),k=null!=(a=null!=(i=null==r?void 0:r.locale)?i:N.locale)?a:Yh,S=null!=(p=null!=(h=null!=(c=null!=(l=null==r?void 0:r.firstWeekContainsDate)?l:null==(o=null==(s=null==r?void 0:r.locale)?void 0:s.options)?void 0:o.firstWeekContainsDate)?c:N.firstWeekContainsDate)?h:null==(u=null==(d=N.locale)?void 0:d.options)?void 0:u.firstWeekContainsDate)?p:1,A=null!=(w=null!=(v=null!=(x=null!=(g=null==r?void 0:r.weekStartsOn)?g:null==(f=null==(m=null==r?void 0:r.locale)?void 0:m.options)?void 0:f.weekStartsOn)?x:N.weekStartsOn)?v:null==(y=null==(b=N.locale)?void 0:b.options)?void 0:y.weekStartsOn)?w:0;if(!t)return e?j():oh(n,null==r?void 0:r.in);const C={firstWeekContainsDate:S,weekStartsOn:A,locale:k},_=[new _p(null==r?void 0:r.in,n)],E=t.match(mm).map(e=>{const t=e[0];return t in sp?(0,sp[t])(e,k.formatLong):e}).join("").match(pm),T=[];for(let P of E){const t=P[0],n=hm[t];if(n){const{incompatibleTokens:r}=n;if(Array.isArray(r)){const e=T.find(e=>r.includes(e.token)||e.token===t);if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${P}\` at the same time`)}else if("*"===n.incompatibleTokens&&T.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);T.push({token:t,fullToken:P});const i=n.run(e,P,k.match,C);if(!i)return j();_.push(i.setter),e=i.rest}else{if(t.match(bm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");if("''"===P?P="'":"'"===t&&(P=vm(P)),0!==e.indexOf(P))return j();e=e.slice(P.length)}}if(e.length>0&&xm.test(e))return j();const O=_.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>_.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let M=oh(n,null==r?void 0:r.in);if(isNaN(+M))return j();const D={};for(const P of O){if(!P.validate(M,C))return j();const e=P.set(M,D,C);Array.isArray(e)?(M=e[0],Object.assign(D,e[1])):M=e}return M}function vm(e){return e.match(fm)[1].replace(gm,"'")}function wm(e,t,n){const r=+oh(e,null==n?void 0:n.in),[i,a]=[+oh(t.start,null==n?void 0:n.in),+oh(t.end,null==n?void 0:n.in)].sort((e,t)=>e-t);return r>=i&&r<=a}const jm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Nm=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,km=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Sm=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Am(e){return e?parseInt(e):1}function Cm(e){return e&&parseFloat(e.replace(",","."))||0}const _m=[31,null,31,30,31,30,31,31,30,31,30,31];function Em(e){return e%400==0||e%4==0&&e%100!=0}function Tm(e,t,n){const r=oh(e,null==n?void 0:n.in),i=r.getFullYear(),a=r.getDate(),s=sh(e,0);s.setFullYear(i,t,15),s.setHours(0,0,0,0);const o=function(e){const t=oh(e,void 0),n=t.getFullYear(),r=t.getMonth(),i=sh(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}(s);return r.setMonth(t,Math.min(a,o)),r}function Om(e,t,n){const r=oh(e,null==n?void 0:n.in);return r.setHours(t),r}function Mm(e,t,n){const r=oh(e,null==n?void 0:n.in);return r.setMinutes(t),r}function Dm(e,t,n){const r=oh(e,null==n?void 0:n.in),i=t-(Math.trunc(r.getMonth()/3)+1);return Tm(r,r.getMonth()+3*i)}function Pm(e,t,n){const r=oh(e,null==n?void 0:n.in);return r.setSeconds(t),r}function Im(e,t,n){const r=oh(e,null==n?void 0:n.in);return isNaN(+r)?sh(e,NaN):(r.setFullYear(t),r)}function Lm(e,t,n){return ch(e,-t,n)}function Rm(e,t,n){return jh(e,-1,n)}function Fm(e,t,n){return kh(e,-1,n)}function Bm(e,t,n){return Sh(e,-t,n)}function Hm(){return"undefined"!=typeof window}function zm(e){return Vm(e)?(e.nodeName||"").toLowerCase():"#document"}function Wm(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Um(e){var t;return null==(t=(Vm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Vm(e){return!!Hm()&&(e instanceof Node||e instanceof Wm(e).Node)}function $m(e){return!!Hm()&&(e instanceof Element||e instanceof Wm(e).Element)}function qm(e){return!!Hm()&&(e instanceof HTMLElement||e instanceof Wm(e).HTMLElement)}function Gm(e){return!(!Hm()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Wm(e).ShadowRoot)}const Ym=new Set(["inline","contents"]);function Qm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=lf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ym.has(i)}const Km=new Set(["table","td","th"]);function Jm(e){return Km.has(zm(e))}const Xm=[":popover-open",":modal"];function Zm(e){return Xm.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const ef=["transform","translate","scale","rotate","perspective"],tf=["transform","translate","scale","rotate","perspective","filter"],nf=["paint","layout","strict","content"];function rf(e){const t=af(),n=$m(e)?lf(e):e;return ef.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||tf.some(e=>(n.willChange||"").includes(e))||nf.some(e=>(n.contain||"").includes(e))}function af(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const sf=new Set(["html","body","#document"]);function of(e){return sf.has(zm(e))}function lf(e){return Wm(e).getComputedStyle(e)}function cf(e){return $m(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function df(e){if("html"===zm(e))return e;const t=e.assignedSlot||e.parentNode||Gm(e)&&e.host||Um(e);return Gm(t)?t.host:t}function uf(e){const t=df(e);return of(t)?e.ownerDocument?e.ownerDocument.body:e.body:qm(t)&&Qm(t)?t:uf(t)}function hf(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=uf(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Wm(i);if(a){const e=pf(s);return t.concat(s,s.visualViewport||[],Qm(i)?i:[],e&&n?hf(e):[])}return t.concat(i,hf(i,[],n))}function pf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const mf=Math.min,ff=Math.max,gf=Math.round,xf=Math.floor,bf=e=>({x:e,y:e}),yf={left:"right",right:"left",bottom:"top",top:"bottom"},vf={start:"end",end:"start"};function wf(e,t){return"function"==typeof e?e(t):e}function jf(e){return e.split("-")[0]}function Nf(e){return e.split("-")[1]}function kf(e){return"y"===e?"height":"width"}const Sf=new Set(["top","bottom"]);function Af(e){return Sf.has(jf(e))?"y":"x"}function Cf(e){return"x"===Af(e)?"y":"x"}function _f(e){return e.replace(/start|end/g,e=>vf[e])}const Ef=["left","right"],Tf=["right","left"],Of=["top","bottom"],Mf=["bottom","top"];function Df(e){return e.replace(/left|right|bottom|top/g,e=>yf[e])}function Pf(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function If(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var Lf="undefined"!=typeof document?x.useLayoutEffect:function(){};const Rf={...y}.useInsertionEffect||(e=>e());function Ff(e,t,n){let{reference:r,floating:i}=e;const a=Af(t),s=Cf(t),o=kf(s),l=jf(t),c="y"===a,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-i.width,y:u};break;default:p={x:r.x,y:r.y}}switch(Nf(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1)}return p}const Bf=new Set(["left","top"]);function Hf(e){const t=lf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=qm(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=gf(n)!==a||gf(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function zf(e){return $m(e)?e:e.contextElement}function Wf(e){const t=zf(e);if(!qm(t))return bf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Hf(t);let s=(a?gf(n.width):n.width)/r,o=(a?gf(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const Uf=bf(0);function Vf(e){const t=Wm(e);return af()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Uf}function $f(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=zf(e);let s=bf(1);t&&(r?$m(r)&&(s=Wf(r)):s=Wf(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Wm(e))&&t}(a,n,r)?Vf(a):bf(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,u=i.height/s.y;if(a){const e=Wm(a),t=r&&$m(r)?Wm(r):r;let n=e,i=pf(n);for(;i&&r&&t!==n;){const e=Wf(i),t=i.getBoundingClientRect(),r=lf(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=s,n=Wm(i),i=pf(n)}}return If({width:d,height:u,x:l,y:c})}function qf(e,t){const n=cf(e).scrollLeft;return t?t.left+n:$f(Um(e)).left+n}function Gf(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-qf(e,n),y:n.top+t.scrollTop}}const Yf=new Set(["absolute","fixed"]);function Qf(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Wm(e),r=Um(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=af();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}const c=qf(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-i);s<=25&&(a-=s)}else c<=25&&(a+=c);return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=Um(e),n=cf(e),r=e.ownerDocument.body,i=ff(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ff(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+qf(e);const o=-n.scrollTop;return"rtl"===lf(r).direction&&(s+=ff(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(Um(e));else if($m(t))r=function(e,t){const n=$f(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=qm(e)?Wf(e):bf(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=Vf(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return If(r)}function Kf(e,t){const n=df(e);return!(n===t||!$m(n)||of(n))&&("fixed"===lf(n).position||Kf(n,t))}function Jf(e,t,n){const r=qm(t),i=Um(t),a="fixed"===n,s=$f(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=bf(0);function c(){l.x=qf(i)}if(r||!r&&!a)if(("body"!==zm(t)||Qm(i))&&(o=cf(t)),r){const e=$f(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const d=!i||r||a?bf(0):Gf(i,o);return{x:s.left+o.scrollLeft-l.x-d.x,y:s.top+o.scrollTop-l.y-d.y,width:s.width,height:s.height}}function Xf(e){return"static"===lf(e).position}function Zf(e,t){if(!qm(e)||"fixed"===lf(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Um(e)===n&&(n=n.ownerDocument.body),n}function eg(e,t){const n=Wm(e);if(Zm(e))return n;if(!qm(e)){let t=df(e);for(;t&&!of(t);){if($m(t)&&!Xf(t))return t;t=df(t)}return n}let r=Zf(e,t);for(;r&&Jm(r)&&Xf(r);)r=Zf(r,t);return r&&of(r)&&Xf(r)&&!rf(r)?n:r||function(e){let t=df(e);for(;qm(t)&&!of(t);){if(rf(t))return t;if(Zm(t))return null;t=df(t)}return null}(e)||n}const tg={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=Um(r),o=!!t&&Zm(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=bf(1);const d=bf(0),u=qm(r);if((u||!u&&!a)&&(("body"!==zm(r)||Qm(s))&&(l=cf(r)),qm(r))){const e=$f(r);c=Wf(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!s||u||a?bf(0):Gf(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:Um,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Zm(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=hf(e,[],!1).filter(e=>$m(e)&&"body"!==zm(e)),i=null;const a="fixed"===lf(e).position;let s=a?df(e):e;for(;$m(s)&&!of(s);){const t=lf(s),n=rf(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&Yf.has(i.position)||Qm(s)&&!n&&Kf(e,s))?r=r.filter(e=>e!==s):i=t,s=df(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],o=a.reduce((e,n)=>{const r=Qf(t,n,i);return e.top=ff(r.top,e.top),e.right=mf(r.right,e.right),e.bottom=mf(r.bottom,e.bottom),e.left=ff(r.left,e.left),e},Qf(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:eg,getElementRects:async function(e){const t=this.getOffsetParent||eg,n=this.getDimensions,r=await n(e.floating);return{reference:Jf(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Hf(e);return{width:t,height:n}},getScale:Wf,isElement:$m,isRTL:function(e){return"rtl"===lf(e).direction}};function ng(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rg(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=zf(e),d=i||a?[...c?hf(c):[],...hf(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const u=c&&o?function(e,t){let n,r=null;const i=Um(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(o||t(),!h||!p)return;const m={rootMargin:-xf(u)+"px "+-xf(i.clientWidth-(d+h))+"px "+-xf(i.clientHeight-(u+p))+"px "+-xf(d)+"px",threshold:ff(0,mf(1,l))||1};let f=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!f)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||ng(c,e.getBoundingClientRect())||s(),f=!1}try{r=new IntersectionObserver(g,{...m,root:i.ownerDocument})}catch(x){r=new IntersectionObserver(g,m)}r.observe(e)}(!0),a}(c,n):null;let h,p=-1,m=null;s&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let f=l?$f(e):null;return l&&function t(){const r=$f(e);f&&!ng(f,r)&&n(),f=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=m)||e.disconnect(),m=null,l&&cancelAnimationFrame(h)}}const ig=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=jf(n),o=Nf(n),l="y"===Af(n),c=Bf.has(s)?-1:1,d=a&&l?-1:1,u=wf(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof m&&(p="end"===o?-1*m:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},ag=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=wf(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const x=jf(i),b=Af(o),y=jf(o)===o,v=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(y||!f?[Df(o)]:function(e){const t=Df(e);return[_f(e),t,_f(t)]}(o)),j="none"!==m;!h&&j&&w.push(...function(e,t,n,r){const i=Nf(e);let a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Tf:Ef:t?Ef:Tf;case"left":case"right":return t?Of:Mf;default:return[]}}(jf(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(_f)))),a}(o,f,m,v));const N=[o,...w],k=await async function(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=wf(t,e),m=Pf(p),f=o[h?"floating"===u?"reference":"floating":u],g=If(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(f)))||n?f:f.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),y=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},v=If(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(g.top-v.top+m.top)/y.y,bottom:(v.bottom-g.bottom+m.bottom)/y.y,left:(g.left-v.left+m.left)/y.x,right:(v.right-g.right+m.right)/y.x}}(t,g),S=[];let A=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&S.push(k[x]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=Nf(e),i=Cf(e),a=kf(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Df(s)),[s,Df(s)]}(i,s,v);S.push(k[e[0]],k[e[1]])}if(A=[...A,{placement:i,overflows:S}],!S.every(e=>e<=0)){var C,_;const e=((null==(C=a.flip)?void 0:C.index)||0)+1,t=N[e];if(t&&("alignment"!==u||b===Af(t)||A.every(e=>Af(e.placement)!==b||e.overflows[0]>0)))return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(_=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:_.placement;if(!n)switch(p){case"bestFit":{var E;const e=null==(E=A.filter(e=>{if(j){const t=Af(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:E[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},sg=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=wf(e,t)||{};if(null==c)return{};const u=Pf(d),h={x:n,y:r},p=Cf(i),m=kf(p),f=await s.getDimensions(c),g="y"===p,x=g?"top":"left",b=g?"bottom":"right",y=g?"clientHeight":"clientWidth",v=a.reference[m]+a.reference[p]-h[p]-a.floating[m],w=h[p]-a.reference[p],j=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let N=j?j[y]:0;N&&await(null==s.isElement?void 0:s.isElement(j))||(N=o.floating[y]||a.floating[m]);const k=v/2-w/2,S=N/2-f[m]/2-1,A=mf(u[x],S),C=mf(u[b],S),_=A,E=N-f[m]-C,T=N/2-f[m]/2+k,O=ff(_,mf(T,E)),M=!l.arrow&&null!=Nf(i)&&T!==O&&a.reference[m]/2-(T<_?A:C)-f[m]/2<0,D=M?T<_?T-_:T-E:0;return{[p]:h[p]+D,data:{[p]:O,centerOffset:T-O-D,...M&&{alignmentOffset:D}},reset:M}}});var og="undefined"!=typeof document?x.useLayoutEffect:function(){};function lg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!lg(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||lg(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function cg(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dg(e,t){const n=cg(e);return Math.round(t*n)/n}function ug(e){const t=x.useRef(e);return og(()=>{t.current=e}),t}const hg=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?sg({element:n.current,padding:r}).fn(t):{}:n?sg({element:n,padding:r}).fn(t):{};var i}}),pg=(e,t)=>({...ig(e),options:[e,t]}),mg=(e,t)=>({...hg(e),options:[e,t]}),fg={...y};let gg=!1,xg=0;const bg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xg++,yg=fg.useId||function(){const[e,t]=x.useState(()=>gg?bg():void 0);return Lf(()=>{null==e&&t(bg())},[]),x.useEffect(()=>{gg=!0},[]),e},vg=x.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:a}},width:s=14,height:o=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:d,stroke:u,d:p,style:{transform:m,...f}={},...g}=e,b=yg(),[y,v]=x.useState(!1);if(Lf(()=>{r&&"rtl"===lf(r).direction&&v(!0)},[r]),!r)return null;const[w,j]=n.split("-"),N="top"===w||"bottom"===w;let k=d;(N&&null!=a&&a.x||!N&&null!=a&&a.y)&&(k=null);const S=2*c,A=S/2,C=s/2*(l/-8+1),_=o/2*l/4,E=!!p,T=k&&"end"===j?"bottom":"top";let O=k&&"end"===j?"right":"left";k&&y&&(O="end"===j?"left":"right");const M=null!=(null==i?void 0:i.x)?k||i.x:"",D=null!=(null==i?void 0:i.y)?k||i.y:"",P=p||"M0,0 H"+s+" L"+(s-C)+","+(o-_)+" Q"+s/2+","+o+" "+C+","+(o-_)+" Z",I={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[w];return h.jsxs("svg",{...g,"aria-hidden":!0,ref:t,width:E?s:s+S,height:s,viewBox:"0 0 "+s+" "+(o>s?o:s),style:{position:"absolute",pointerEvents:"none",[O]:M,[T]:D,[w]:N||E?"100%":"calc(100% - "+S/2+"px)",transform:[I,m].filter(e=>!!e).join(" "),...f},children:[S>0&&h.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:u,strokeWidth:S+(p?0:1),d:P}),h.jsx("path",{stroke:S&&!p?g.fill:"none",d:P}),h.jsx("clipPath",{id:b,children:h.jsx("rect",{x:-A,y:A*(E?-1:1),width:s+S,height:s})})]})}),wg=x.createContext(null),jg=x.createContext(null);function Ng(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=yg(),a=x.useRef({}),[s]=x.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}()),o=null!=((null==(l=x.useContext(wg))?void 0:l.id)||null);var l;const[c,d]=x.useState(r.reference),u=function(e){const t=x.useRef(()=>{});return Rf(()=>{t.current=e}),x.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:o}),null==n||n(e,t,r)}),h=x.useMemo(()=>({setPositionReference:d}),[]),p=x.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return x.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:p,events:s,floatingId:i,refs:h}),[t,u,p,s,i,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,s]=x.useState(null),[o,l]=x.useState(null),c=(null==i?void 0:i.domReference)||a,d=x.useRef(null),u=x.useContext(jg);Lf(()=>{c&&(d.current=c)},[c]);const h=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(r);lg(h,r)||p(r);const[m,f]=x.useState(null),[g,b]=x.useState(null),y=x.useCallback(e=>{e!==N.current&&(N.current=e,f(e))},[]),v=x.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),w=a||m,j=s||g,N=x.useRef(null),k=x.useRef(null),S=x.useRef(d),A=null!=l,C=ug(l),_=ug(i),E=ug(c),T=x.useCallback(()=>{if(!N.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};_.current&&(e.platform=_.current),((e,t,n)=>{const r=new Map,i={platform:tg,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=Ff(c,r,l),h=r,p={},m=0;for(let f=0;f<o.length;f++){const{name:n,fn:a}=o[f],{x:g,y:x,data:b,reset:y}=await a({x:d,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,p={...p,[n]:{...p[n],...b}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:d,y:u}=Ff(c,h,l))),f=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:a})})(N.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==E.current};O.current&&!lg(S.current,t)&&(S.current=t,dt.flushSync(()=>{u(t)}))})},[h,t,n,_,E]);og(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);const O=x.useRef(!1);og(()=>(O.current=!0,()=>{O.current=!1}),[]),og(()=>{if(w&&(N.current=w),j&&(k.current=j),w&&j){if(C.current)return C.current(w,j,T);T()}},[w,j,T,C,A]);const M=x.useMemo(()=>({reference:N,floating:k,setReference:y,setFloating:v}),[y,v]),D=x.useMemo(()=>({reference:w,floating:j}),[w,j]),P=x.useMemo(()=>{const e={position:n,left:0,top:0};if(!D.floating)return e;const t=dg(D.floating,d.x),r=dg(D.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+r+"px)",...cg(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,o,D.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:T,refs:M,elements:D,floatingStyles:P}),[d,T,M,D,P])}({...e,elements:{...i,...o&&{reference:o}}}),p=x.useCallback(e=>{const t=$m(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;l(t),h.refs.setReference(t)},[h.refs]),m=x.useCallback(e=>{($m(e)||null===e)&&(d.current=e,s(e)),($m(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!$m(e))&&h.refs.setReference(e)},[h.refs]),f=x.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),g=x.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),b=x.useMemo(()=>({...h,...r,refs:f,elements:g,nodeId:t}),[h,f,g,t,r]);return Lf(()=>{r.dataRef.current.floatingContext=b;const e=null==u?void 0:u.nodesRef.current.find(e=>e.id===t);e&&(e.context=b)}),x.useMemo(()=>({...h,context:b,refs:f,elements:g}),[h,f,g,b])}var kg=function(e,t){return(kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Sg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ag=function(){return Ag=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ag.apply(this,arguments)};function Cg(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var _g,Eg,Tg=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,i=void 0!==r&&r,a=e.className,s=e.children,o=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return b.createElement("div",{className:a,role:"dialog","aria-label":o,"aria-modal":"true"},s)},Og=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=function(e,t){var n=x.useRef(null),r=x.useRef(e);r.current=e;var i=x.useCallback(function(e){var i,a=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||null===(i=r.current)||void 0===i||i.call(r,e))},[t]);return x.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n}(n,e.ignoreClass);return b.createElement("div",{className:r,style:a,ref:function(e){s.current=e,i&&(i.current=e)}},t)};function Mg(){return"undefined"!=typeof window?window:globalThis}function Dg(e){if(null==e)return new Date;var t="string"==typeof e?function(e,t){const n=()=>sh(null==t?void 0:t.in,NaN),r=function(e){const t={},n=e.split(jm.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],jm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(jm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=jm.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let i;if(r.date){const e=function(e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{6})|(\\d{2}|[+-]\\d{4})$)"),n=e.match(t);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((n[1]||n[2]).length)}}(r.date);i=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Nm);if(!n)return new Date(NaN);const r=!!n[4],i=Am(n[1]),a=Am(n[2])-1,s=Am(n[3]),o=Am(n[4]),l=Am(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(_m[t]||(Em(e)?29:28))}(t,a,s)&&function(e,t){return t>=1&&t<=(Em(e)?366:365)}(t,i)?(e.setUTCFullYear(t,a,Math.max(i,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return n();const a=+i;let s,o=0;if(r.time&&(o=function(e){const t=e.match(km);if(!t)return NaN;const n=Cm(t[1]),r=Cm(t[2]),i=Cm(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*ih+r*rh+1e3*i:NaN}(r.time),isNaN(o)))return n();if(!r.timezone){const e=new Date(a+o),n=oh(0,null==t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return s=function(e){if("Z"===e)return 0;const t=e.match(Sm);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*ih+i*rh):NaN}(r.timezone),isNaN(s)?n():oh(a+o+s,null==t?void 0:t.in)}(e):oh(e);return Ig(t)?t:new Date}function Pg(e,t,n,r,i){void 0===i&&(i=Dg());for(var a=Zg(n)||Zg(Xg()),s=0,o=Array.isArray(t)?t:[t];s<o.length;s++){var l=o[s],c=ym(e,l,i,{locale:a});if(Ig(c)&&(!r||e===Lg(c,l,n)))return c}return null}function Ig(e,t){return Eh(e)&&!Sp(e,new Date("1/1/1800"))}function Lg(e,t,n){if("en"===n)return fp(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Zg(n):void 0;return fp(e,t,{locale:r=r||Zg(Xg()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Rg(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Lg(e,i,r)||""}function Fg(e,t){var n=t.hour,r=void 0===n?0:n,i=t.minute,a=void 0===i?0:i,s=t.second;return Om(Mm(Pm(e,void 0===s?0:s),a),r)}function Bg(e){return yh(e)}function Hg(e,t,n){return mh(e,{locale:Zg(t||Xg()),weekStartsOn:n})}function zg(e){return Fh(e)}function Wg(e){return Hh(e)}function Ug(e){return Rh(e)}function Vg(){return yh(Dg())}function $g(e){return Ih(e)}function qg(e,t){return e&&t?function(e,t){const[n,r]=bh(0,e,t);return n.getFullYear()===r.getFullYear()}(e,t):!e&&!t}function Gg(e,t){return e&&t?function(e,t){const[n,r]=bh(0,e,t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t):!e&&!t}function Yg(e,t){return e&&t?function(e,t){const[n,r]=bh(0,e,t);return+Rh(n)===+Rh(r)}(e,t):!e&&!t}function Qg(e,t){return e&&t?function(e,t){const[n,r]=bh(0,e,t);return+yh(n)===+yh(r)}(e,t):!e&&!t}function Kg(e,t){return e&&t?(n=t,+oh(e)===+oh(n)):!e&&!t;var n}function Jg(e,t,n){var r,i=yh(t),a=Ih(n);try{r=wm(e,{start:i,end:a})}catch(s){r=!1}return r}function Xg(){return Mg().__localeId__}function Zg(e){if("string"==typeof e){var t=Mg();return t.__localeData__?t.__localeData__[e]:void 0}return e}function ex(e,t){return Lg(Tm(Dg(),e),"LLLL",t)}function tx(e,t){return Lg(Tm(Dg(),e),"LLL",t)}function nx(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.excludeDateIntervals,o=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return ux(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return t instanceof Date?Qg(e,t):Qg(e,t.date)})||s&&s.some(function(t){var n=t.start,r=t.end;return wm(e,{start:n,end:r})})||o&&!o.some(function(t){return Qg(e,t)})||l&&!l.some(function(t){var n=t.start,r=t.end;return wm(e,{start:n,end:r})})||c&&!c(Dg(e))||!1}function rx(e,t){var n=void 0===t?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(t){var n=t.start,r=t.end;return wm(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?Qg(e,t):Qg(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function ix(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates,o=n.filterDate;return ux(e,{minDate:r?Fh(r):void 0,maxDate:i?Lh(i):void 0})||(null==a?void 0:a.some(function(t){return Gg(e,t instanceof Date?t:t.date)}))||s&&!s.some(function(t){return Gg(e,t)})||o&&!o(Dg(e))||!1}function ax(e,t,n,r){var i=Np(e),a=vp(e),s=Np(t),o=vp(t),l=Np(r);return i===s&&i===l?a<=n&&n<=o:i<s&&(l===i&&a<=n||l===s&&o>=n||l<s&&l>i)}function sx(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates;return ux(e,{minDate:r,maxDate:i})||a&&a.some(function(t){return Gg(t instanceof Date?t:t.date,e)})||s&&!s.some(function(t){return Gg(t,e)})||!1}function ox(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates,o=n.filterDate;return ux(e,{minDate:r,maxDate:i})||(null==a?void 0:a.some(function(t){return Yg(e,t instanceof Date?t:t.date)}))||s&&!s.some(function(t){return Yg(e,t)})||o&&!o(Dg(e))||!1}function lx(e,t,n){if(!t||!n)return!1;if(!Eh(t)||!Eh(n))return!1;var r=Np(t),i=Np(n);return r<=e&&i>=e}function cx(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.maxDate,a=n.excludeDates,s=n.includeDates,o=n.filterDate,l=new Date(e,0,1);return ux(l,{minDate:r?Hh(r):void 0,maxDate:i?Bh(i):void 0})||(null==a?void 0:a.some(function(e){return qg(l,e instanceof Date?e:e.date)}))||s&&!s.some(function(e){return qg(l,e)})||o&&!o(Dg(l))||!1}function dx(e,t,n,r){var i=Np(e),a=Oh(e),s=Np(t),o=Oh(t),l=Np(r);return i===s&&i===l?a<=n&&n<=o:i<s&&(l===i&&a<=n||l===s&&o>=n||l<s&&l>i)}function ux(e,t){var n,r=void 0===t?{}:t,i=r.minDate,a=r.maxDate;return null!==(n=i&&vh(e,i)<0||a&&vh(e,a)>0)&&void 0!==n&&n}function hx(e,t){return t.some(function(t){return bp(t)===bp(e)&&yp(t)===yp(e)&&wp(t)===wp(e)})}function px(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,i=n.includeTimes,a=n.filterTime;return r&&hx(e,r)||i&&!hx(e,i)||a&&!a(e)||!1}function mx(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Dg();i=Pm(i=Mm(i=Om(i,bp(e)),yp(e)),wp(e));var a=Dg();a=Pm(a=Mm(a=Om(a,bp(n)),yp(n)),wp(n));var s,o=Dg();o=Pm(o=Mm(o=Om(o,bp(r)),yp(r)),wp(r));try{s=!wm(i,{start:a,end:o})}catch(l){s=!1}return s}function fx(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,a=Lm(e,1);return r&&Th(r,a)>0||i&&i.every(function(e){return Th(e,a)>0})||!1}function gx(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,a=ch(e,1);return r&&Th(a,r)>0||i&&i.every(function(e){return Th(a,e)>0})||!1}function xx(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,a=Bm(e,1);return r&&Dh(r,a)>0||i&&i.every(function(e){return Dh(e,a)>0})||!1}function bx(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,a=Sh(e,1);return r&&Dh(a,r)>0||i&&i.every(function(e){return Dh(a,e)>0})||!1}function yx(e){var t=e.minDate,n=e.includeDates;return n&&t?Ch(n.filter(function(e){return vh(e,t)>=0})):n?Ch(n):t}function vx(e){var t=e.maxDate,n=e.includeDates;return n&&t?Ah(n.filter(function(e){return vh(e,t)<=0})):n?Ah(n):t}function wx(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(_h(s)){var o=Lg(s,"MM.dd.yyyy");(h=r.get(o)||[]).includes(t)||(h.push(t),r.set(o,h))}else if("object"==typeof s){var l=null!==(n=Object.keys(s)[0])&&void 0!==n?n:"",c=s[l];if("string"==typeof l&&Array.isArray(c))for(var d=0,u=c.length;d<u;d++){var h,p=c[d];if(p)o=Lg(p,"MM.dd.yyyy"),(h=r.get(o)||[]).includes(l)||(h.push(l),r.set(o,h))}}}return r}function jx(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,i=e.holidayName;if(_h(r)){var a=Lg(r,"MM.dd.yyyy"),s=n.get(a)||{className:"",holidayNames:[]};if(!("className"in s)||s.className!==t||(o=s.holidayNames,l=[i],o.length!==l.length||!o.every(function(e,t){return e===l[t]}))){var o,l;s.className=t;var c=s.holidayNames;s.holidayNames=c?Cg(Cg([],c,!0),[i],!1):[i],n.set(a,s)}}}),n}function Nx(e,t,n,r,i){for(var a=i.length,s=[],o=0;o<a;o++){var l=e,c=i[o];c&&(l=Nh(l=wh(l=uh(l,bp(c)),yp(c)),wp(c)));var d=wh(e,(n+1)*r);kp(l,t)&&Sp(l,d)&&null!=c&&s.push(c)}return s}function kx(e){return e<10?"0".concat(e):"".concat(e)}function Sx(e,t){void 0===t&&(t=12);var n=Math.ceil(Np(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function Ax(e){var t=e.getSeconds(),n=e.getMilliseconds();return oh(e.getTime()-1e3*t-n)}function Cx(e){if(!_h(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function _x(e,t){if(!_h(e)||!_h(t))throw new Error("Invalid date received");return Sp(Cx(e),Cx(t))}function Ex(e){return e.key===_g.Space}(Eg=_g||(_g={})).ArrowUp="ArrowUp",Eg.ArrowDown="ArrowDown",Eg.ArrowLeft="ArrowLeft",Eg.ArrowRight="ArrowRight",Eg.PageUp="PageUp",Eg.PageDown="PageDown",Eg.Home="Home",Eg.End="End",Eg.Enter="Enter",Eg.Space=" ",Eg.Tab="Tab",Eg.Escape="Escape",Eg.Backspace="Backspace",Eg.X="x";var Tx,Ox=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=b.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var i=n.props.date,a=i instanceof Date&&!isNaN(+i)?i:new Date;if(null==e?void 0:e.includes(":")){var s=e.split(":"),o=s[0],l=s[1];a.setHours(Number(o)),a.setMinutes(Number(l))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,a)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,i=t.timeString,a=t.customTimeInput;return a?x.cloneElement(a,{date:r,value:e,onChange:n.onTimeChange}):b.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||i)}})},n.state={time:n.props.timeString},n}return Sg(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return b.createElement("div",{className:"react-datepicker__input-time-container"},b.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),b.createElement("div",{className:"react-datepicker-time__input-container"},b.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(x.Component),Mx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=x.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===_g.Space&&(e.preventDefault(),e.key=_g.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Qg(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),nx(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return rx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qg(t.props.day,Hg(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Qg(e,Hg(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var i=Lg(n,"MM.dd.yyyy");return r.get(i)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,i=n.holidays;if(!i)return[void 0];var a=Lg(r,"MM.dd.yyyy");return i.has(a)?[null===(e=i.get(a))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&Jg(n,r,i)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,i=n.selectsStart,a=n.selectsEnd,s=n.selectsRange,o=n.selectsDisabledDaysInRange,l=n.startDate,c=n.swapRange,d=n.endDate,u=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;if(!(i||a||s)||!u||!o&&t.isDisabled())return!1;if(i&&d&&(Sp(u,d)||Kg(u,d)))return Jg(r,u,d);if(a&&l&&(kp(u,l)||Kg(u,l)))return Jg(r,l,u);if(s&&l&&!d){if(Kg(u,l))return Jg(r,l,u);if(kp(u,l))return Jg(r,l,u);if(c&&Sp(u,l))return Jg(r,u,l)}return!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,i=n.startDate,a=n.selectsStart,s=n.swapRange,o=n.selectsRange,l=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Qg(r,a||o&&s&&i&&l&&Sp(l,i)?l:i)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,i=n.endDate,a=n.selectsEnd,s=n.selectsRange,o=n.swapRange,l=n.startDate,c=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Qg(r,a?c:s&&o&&l&&c?Sp(c,l)?l:c:s?c:i)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&Qg(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&Qg(i,n)},t.isWeekend=function(){var e=oh(t.props.day,void 0).getDay();return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===vp(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(vp(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Dg())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some(function(e){return t.isSameDayOrWeek(e)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){return th("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+Lg(t.props.day,"ddd",undefined),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,i=void 0===r?"Choose":r,a=e.ariaLabelPrefixWhenDisabled,s=void 0===a?"Not available":a,o=t.isDisabled()||t.isExcluded()?s:i;return"".concat(o," ").concat(Lg(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,i=void 0===r?new Map:r,a=e.excludeDates,s=Lg(n,"MM.dd.yyyy"),o=[];return i.has(s)&&o.push.apply(o,i.get(s).holidayNames),t.isExcluded()&&o.push(null==a?void 0:a.filter(function(e){return e instanceof Date?Qg(e,n):Qg(null==e?void 0:e.date,n)}).map(function(e){if(!(e instanceof Date))return null==e?void 0:e.message})),o.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Qg(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(xp(t.props.day),t.props.day):xp(t.props.day)},t.render=function(){return b.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&b.createElement("span",{className:"overlay"},t.getTitle()))},t}return Sg(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(x.Component),Dx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=x.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===_g.Space&&(e.preventDefault(),e.key=_g.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qg(t.props.date,t.props.selected)&&Qg(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qg(t.props.date,t.props.selected)&&Qg(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null==e?void 0:e.isInputFocused)&&Qg(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Sg(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,i=e.ariaLabelPrefix,a=void 0===i?t.defaultProps.ariaLabelPrefix:i,s=e.onClick,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!r,"react-datepicker__week-number--selected":!!s&&Qg(this.props.date,this.props.selected)};return b.createElement("div",{ref:this.weekNumberEl,className:th(o),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t}(x.Component),Px=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return nx(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,i){for(var a,s,o,l=new Date(e),c=0;c<7;c++){var d=new Date(e);if(d.setDate(d.getDate()+c),!n.isDisabled(d)){l=d;break}}"function"==typeof n.props.onWeekSelect&&n.props.onWeekSelect(l,r,i),n.props.showWeekPicker&&n.handleDayClick(l,i),(null!==(a=n.props.shouldCloseOnSelect)&&void 0!==a?a:t.defaultProps.shouldCloseOnSelect)&&(null===(o=(s=n.props).setOpen)||void 0===o||o.call(s,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return Qh(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=lh(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=lh(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],i=n.formatWeekNumber(e);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,i):void 0;r.push(b.createElement(Dx,Ag({key:"W"},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:a})))}return r.concat([0,1,2,3,4,5,6].map(function(r){var i=lh(e,r);return b.createElement(Mx,Ag({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:n.handleDayClick.bind(n,i),onMouseEnter:n.handleDayMouseEnter.bind(n,i)}))}))},n.startOfWeek=function(){return Hg(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Qg(n.startOfWeek(),n.props.selected)&&Qg(n.startOfWeek(),n.props.preSelection)},n}return Sg(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Qg(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},t=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return b.createElement("div",{className:th(e,t),role:"row"},this.renderDays())},t}(x.Component),Ix="two_columns",Lx="three_columns",Rx="four_columns",Fx=((Tx={})[Ix]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Tx[Lx]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Tx[Rx]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Tx);function Bx(e,t){return e?Rx:t?Ix:Lx}var Hx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=Cg([],Array(12),!0).map(function(){return x.createRef()}),t.QUARTER_REFS=Cg([],Array(4),!0).map(function(){return x.createRef()}),t.isDisabled=function(e){return nx(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return rx(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,i;null===(i=(r=t.props).onDayClick)||void 0===i||i.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Gg(Tm(r,e),i)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Yg(Dm(r,e),i)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Gg(Tm(r,e),a)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate;return!(!i||!a)&&Yg(Dm(r,e),a)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,i=r.day,a=r.selectsStart,s=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(a||s||o)||!d)&&(a&&c?ax(d,c,e,i):(s&&l||!(!o||!l||c))&&ax(l,d,e,i))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,i=r.day,a=r.startDate,s=r.selectsStart,o=Tm(i,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Gg(o,s?l:a)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,i=r.day,a=r.endDate,s=r.selectsEnd,o=r.selectsRange,l=Tm(i,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Gg(l,s||o?c:a)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,i=r.day,a=r.selectsStart,s=r.selectsEnd,o=r.selectsRange,l=r.startDate,c=r.endDate,d=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(a||s||o)||!d)&&(a&&c?dx(d,c,e,i):(s&&l||!(!o||!l||c))&&dx(l,d,e,i))},t.isWeekInMonth=function(e){var n=t.props.day,r=lh(e,6);return Gg(e,n)||Gg(r,n)},t.isCurrentMonth=function(e,t){return Np(e)===Np(Dg())&&t===vp(Dg())},t.isCurrentQuarter=function(e,t){return Np(e)===Np(Dg())&&t===Oh(Dg())},t.isSelectedMonth=function(e,t,n){return vp(n)===t&&Np(e)===Np(n)},t.isSelectMonthInList=function(e,n,r){return r.some(function(r){return t.isSelectedMonth(e,n,r)})},t.isSelectedQuarter=function(e,t,n){return Oh(e)===t&&Np(e)===Np(n)},t.isMonthSelected=function(){var e=t.props,n=e.day,r=e.selected,i=e.selectedDates,a=e.selectsMultiple,s=vp(n);return a?null==i?void 0:i.some(function(e){return t.isSelectedMonth(n,s,e)}):!!r&&t.isSelectedMonth(n,s,r)},t.renderWeeks=function(){for(var e,n,r=[],i=t.props.fixedHeight,a=0,s=!1,o=Hg(zg(t.props.day),t.props.locale,t.props.calendarStartDay),l=t.props.selected?(e=t.props.selected,t.props.showWeekPicker?Hg(e,t.props.locale,t.props.calendarStartDay):t.props.selected):void 0,c=t.props.preSelection?(n=t.props.preSelection,t.props.showWeekPicker?Hg(n,t.props.locale,t.props.calendarStartDay):t.props.preSelection):void 0;r.push(b.createElement(Px,Ag({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:o,month:vp(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:l,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,o=kh(o,1);var d=i&&a>=6,u=!i&&!t.isWeekInMonth(o);if(d||u){if(!t.props.peekNextMonth)break;s=!0}}return r},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),i=r.isDisabled,a=r.labelDate;i||t.handleDayClick(zg(a),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,i=n.labelDate;r||t.handleDayMouseEnter(zg(i))},t.handleMonthNavigation=function(e,n){var r,i,a,s;null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,n),null===(s=null===(a=t.MONTH_REFS[e])||void 0===a?void 0:a.current)||void 0===s||s.focus()},t.handleKeyboardNavigation=function(e,n,r){var i,a=t.props,s=a.selected,o=a.preSelection,l=a.setPreSelection,c=a.minDate,d=a.maxDate,u=a.showFourColumnMonthYearPicker,h=a.showTwoColumnMonthYearPicker;if(o){var p=Bx(u,h),m=t.getVerticalOffset(p),f=null===(i=Fx[p])||void 0===i?void 0:i.grid,g=function(e,t,n){var r,i,a=t,s=n;switch(e){case _g.ArrowRight:a=ch(t,1),s=11===n?0:n+1;break;case _g.ArrowLeft:a=Lm(t,1),s=0===n?11:n-1;break;case _g.ArrowUp:a=Lm(t,m),s=(null===(r=null==f?void 0:f[0])||void 0===r?void 0:r.includes(n))?n+12-m:n-m;break;case _g.ArrowDown:a=ch(t,m),s=(null===(i=null==f?void 0:f[f.length-1])||void 0===i?void 0:i.includes(n))?n-12+m:n+m}return{newCalculatedDate:a,newCalculatedMonth:s}};if(n!==_g.Enter){var x=function(e,n,r){for(var i=e,a=!1,s=0,o=g(i,n,r),l=o.newCalculatedDate,u=o.newCalculatedMonth;!a;){if(s>=40){l=n,u=r;break}var h;c&&l<c&&(i=_g.ArrowRight,l=(h=g(i,l,u)).newCalculatedDate,u=h.newCalculatedMonth),d&&l>d&&(i=_g.ArrowLeft,l=(h=g(i,l,u)).newCalculatedDate,u=h.newCalculatedMonth),sx(l,t.props)?(l=(h=g(i,l,u)).newCalculatedDate,u=h.newCalculatedMonth):a=!0,s++}return{newCalculatedDate:l,newCalculatedMonth:u}}(n,o,r),b=x.newCalculatedDate,y=x.newCalculatedMonth;switch(n){case _g.ArrowRight:case _g.ArrowLeft:case _g.ArrowUp:case _g.ArrowDown:t.handleMonthNavigation(y,b)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null==l||l(s))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Fx[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,i=r.disabledKeyboardNavigation,a=r.handleOnMonthKeyDown,s=e.key;s!==_g.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,s,n),a&&a(e)},t.onQuarterClick=function(e,n){var r=Dm(t.props.day,n);ox(r,t.props)||t.handleDayClick(Ug(r),e)},t.onQuarterMouseEnter=function(e){var n=Dm(t.props.day,e);ox(n,t.props)||t.handleDayMouseEnter(Ug(n))},t.handleQuarterNavigation=function(e,n){var r,i,a,s;t.isDisabled(n)||t.isExcluded(n)||(null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,n),null===(s=null===(a=t.QUARTER_REFS[e-1])||void 0===a?void 0:a.current)||void 0===s||s.focus())},t.onQuarterKeyDown=function(e,n){var r,i,a=e.key;if(!t.props.disabledKeyboardNavigation)switch(a){case _g.Enter:t.onQuarterClick(e,n),null===(i=(r=t.props).setPreSelection)||void 0===i||i.call(r,t.props.selected);break;case _g.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,jh(t.props.preSelection,1));break;case _g.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,Rm(t.props.preSelection))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,i=r.day,a=r.minDate,s=r.maxDate,o=r.excludeDates,l=r.includeDates,c=Tm(i,e);return{isDisabled:null!==(n=(a||s||o||l)&&ix(c,t.props))&&void 0!==n&&n,labelDate:c}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,s=n.preSelection,o=n.monthClassName,l=o?o(Tm(r,e)):void 0,c=t.getSelection();return th("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":c?t.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&s&&t.isSelectedMonth(r,e,s)&&!t.isMonthSelected()&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&a?ax(i,a,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=vp(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Oh(t.props.preSelection),r=ox(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,i=void 0===r?"Choose":r,a=n.disabledDayAriaLabelPrefix,s=void 0===a?"Not available":a,o=n.day,l=n.locale,c=Tm(o,e),d=t.isDisabled(c)||t.isExcluded(c)?s:i;return"".concat(d," ").concat(Lg(c,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,i=n.startDate,a=n.endDate,s=n.selected,o=n.minDate,l=n.maxDate,c=n.excludeDates,d=n.includeDates,u=n.filterDate,h=n.preSelection,p=n.disabledKeyboardNavigation,m=(o||l||c||d||u)&&ox(Dm(r,e),t.props);return th("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":s?t.isSelectedQuarter(r,e,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&h&&t.isSelectedQuarter(r,e,h)&&!m,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&a?dx(i,a,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,i=n.renderMonthContent,a=n.locale,s=n.day,o=tx(e,a),l=ex(e,a);return i?i(e,o,l,s):r?l:o},t.getQuarterContent=function(e){var n,r,i,a=t.props,s=a.renderQuarterContent,o=(r=e,i=a.locale,Lg(Dm(Dg(),r),"QQQ",i));return null!==(n=null==s?void 0:s(e,o))&&void 0!==n?n:o},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,i=n.showFourColumnMonthYearPicker,a=n.day,s=n.selected,o=null===(e=Fx[Bx(i,r)])||void 0===e?void 0:e.grid;return null==o?void 0:o.map(function(e,n){return b.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map(function(e,n){return b.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){Ex(n)&&(n.preventDefault(),n.key=_g.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(a,e)?"date":void 0,"aria-selected":s?t.isSelectedMonth(a,e,s):void 0},t.getMonthContent(e))}))})},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return b.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(e,i){return b.createElement("div",{key:i,ref:t.QUARTER_REFS[i],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))}))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,i=e.selectsEnd;return th("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||i)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return Sg(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,a=void 0===i?"Month ":i,s=a?a.trim()+" ":"";return t||n?b.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Lg(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():this.renderQuarters()):b.createElement("div",{role:"table"},this.props.dayNamesHeader&&b.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),b.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Lg(r,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},t}(x.Component),zx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(e){return t.props.month===e},t.handleOptionKeyDown=function(e,n){var r;switch(n.key){case"Enter":n.preventDefault(),t.onChange(e);break;case"Escape":n.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":n.preventDefault();var i=(e+("ArrowUp"===n.key?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;null===(r=t.monthOptionButtonsRef[i])||void 0===r||r.focus()}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(e,n){return b.createElement("div",{ref:function(e){t.monthOptionButtonsRef[n]=e,t.isSelectedMonth(n)&&(null==e||e.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),onKeyDown:t.handleOptionKeyDown.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?b.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return Sg(t,e),t.prototype.render=function(){return b.createElement(Og,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),Wx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(e,t){return b.createElement("option",{key:e,value:t},e)})},t.renderSelectMode=function(e){return b.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return b.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},b.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),b.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return b.createElement(zx,Ag({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Sg(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return tx(e,t.props.locale)}:function(e){return ex(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return b.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(x.Component);function Ux(e,t){for(var n=[],r=zg(e),i=zg(t);!kp(r,i);)n.push(Dg(r)),r=ch(r,1);return n}var Vx=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(e){var t=jp(e),r=qg(n.props.date,e)&&Gg(n.props.date,e);return b.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?b.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Lg(e,n.props.dateFormat,n.props.locale))})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Ux(n.props.minDate,n.props.maxDate)},n}return Sg(t,e),t.prototype.render=function(){var e=th({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return b.createElement(Og,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),$x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=zg(t.props.minDate),n=zg(t.props.maxDate),r=[];!kp(e,n);){var i=jp(e);r.push(b.createElement("option",{key:i,value:i},Lg(e,t.props.dateFormat,t.props.locale))),e=ch(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement("select",{value:jp(zg(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=Lg(t.props.date,t.props.dateFormat,t.props.locale);return b.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},b.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),b.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return b.createElement(Vx,Ag({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=Dg(e);qg(t.props.date,n)&&Gg(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return Sg(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return b.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(x.Component),qx=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,r,i;n.list&&(n.list.scrollTop=null!==(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==i?i:0)})},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&mx(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&px(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=e,Ax(n.props.selected).getTime()===Ax(t).getTime());var t},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&mx(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&px(e,n.props)},n.liClasses=function(e){var r,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*bp(e)+60*yp(e)+wp(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!=0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(e,t){var r,i;e.key===_g.Space&&(e.preventDefault(),e.key=_g.Enter),(e.key===_g.ArrowUp||e.key===_g.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===_g.ArrowDown||e.key===_g.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===_g.Enter&&n.handleClick(t),null===(i=(r=n.props).handleOnKeyDown)||void 0===i||i.call(r,e)},n.renderTimes=function(){for(var e,r,i,a,s=[],o="string"==typeof n.props.format?n.props.format:"p",l=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,c=n.props.selected||n.props.openToDate||Dg(),d=Bg(c),u=n.props.injectTimes&&n.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),h=60*(r=c,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24),Math.round((+a-+i)/36e5))/l,p=0;p<h;p++){var m=wh(d,p*l);if(s.push(m),u){var f=Nx(d,m,p,l,u);s=s.concat(f)}}var g=s.reduce(function(e,t){return t.getTime()<=c.getTime()?t:e},s[0]);return s.map(function(e){return b.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===g&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===g?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},Lg(e,o,n.props.locale))})},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?b.createElement(b.Fragment,null):b.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},b.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Sg(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return b.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),b.createElement("div",{className:"react-datepicker__time"},b.createElement("div",{className:"react-datepicker__time-box"},b.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(x.Component),Gx=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=Cg([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(e){return nx(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return rx(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()})},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,i,a,s,o=n.props,l=o.date,c=o.yearItemNumber;if(void 0!==l&&void 0!==c){var d=Sx(l,c).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(i=(r=n.props).setPreSelection)||void 0===i||i.call(r,t),e-d<0?n.updateFocusOnPaginate(c-(d-e)):e-d>=c?n.updateFocusOnPaginate(Math.abs(c-(e-d))):null===(s=null===(a=n.YEAR_REFS[e-d])||void 0===a?void 0:a.current)||void 0===s||s.focus())}},n.isSameDay=function(e,t){return Qg(e,t)},n.isCurrentYear=function(e){return e===Np(Dg())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&qg(Im(Dg(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&qg(Im(Dg(),e),n.props.endDate)},n.isInRange=function(e){return lx(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,i=t.selectsEnd,a=t.selectsRange,s=t.startDate,o=t.endDate;return!(!(r||i||a)||!n.selectingDate())&&(r&&o?lx(e,n.selectingDate(),o):(i&&s||!(!a||!s||o))&&lx(e,s,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,i=r.startDate,a=r.selectsStart;return qg(Im(Dg(),e),a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!=i?i:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,i=r.endDate,a=r.selectsEnd,s=r.selectsRange;return qg(Im(Dg(),e),a||s?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!=i?i:null)},n.isKeyboardSelected=function(e){if(!n.props.disabledKeyboardNavigation&&void 0!==n.props.date&&null!=n.props.preSelection){var t=n.props,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,o=t.filterDate,l=t.selected,c=Wg(Im(n.props.date,e)),d=(r||i||a||s||o)&&cx(e,n.props),u=!!l&&Qg(c,Wg(l)),h=Qg(c,Wg(n.props.preSelection));return!n.props.inline&&!u&&h&&!d}},n.isSelectedYear=function(e){var t=n.props,r=t.selectsMultiple,i=t.selected,a=t.selectedDates;return r?null==a?void 0:a.some(function(t){return e===Np(t)}):!!i&&e===Np(i)},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(Wg(Im(r,t)),e)},n.onYearKeyDown=function(e,t){var r,i,a=e.key,s=n.props,o=s.date,l=s.yearItemNumber,c=s.handleOnKeyDown;if(a!==_g.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(a){case _g.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(i=(r=n.props).setPreSelection)||void 0===i||i.call(r,n.props.selected);break;case _g.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,Sh(n.props.preSelection,1));break;case _g.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,Bm(n.props.preSelection,1));break;case _g.ArrowUp:if(void 0===o||void 0===l||null==n.props.preSelection)break;var d=Sx(o,l).startPeriod;if((p=t-(h=3))<d){var u=l%h;t>=d&&t<d+u?h=u:h+=u,p=t-h}n.handleYearNavigation(p,Bm(n.props.preSelection,h));break;case _g.ArrowDown:if(void 0===o||void 0===l||null==n.props.preSelection)break;var h,p,m=Sx(o,l).endPeriod;(p=t+(h=3))>m&&(u=l%h,t<=m&&t>m-u?h=u:h+=u,p=t+h),n.handleYearNavigation(p,Sh(n.props.preSelection,h))}c&&c(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,i=t.minDate,a=t.maxDate,s=t.excludeDates,o=t.includeDates,l=t.filterDate,c=t.yearClassName;return th("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null==c?void 0:c(Im(r,e)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(e),"react-datepicker__year-text--disabled":(i||a||s||o||l)&&cx(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Np(n.props.preSelection),r=cx(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return Sg(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,a=n.onYearMouseEnter,s=n.onYearMouseLeave;if(void 0===r)return null;for(var o=Sx(r,i),l=o.startPeriod,c=o.endPeriod,d=function(n){t.push(b.createElement("div",{ref:u.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){Ex(t)&&(t.preventDefault(),t.key=_g.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(u.getYearTabIndex(n)),className:u.getYearClassNames(n),onMouseEnter:u.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerEnter:u.props.usePointerEvent?function(e){return a(e,n)}:void 0,onMouseLeave:u.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerLeave:u.props.usePointerEvent?function(e){return s(e,n)}:void 0,key:n,"aria-current":u.isCurrentYear(n)?"date":void 0},u.getYearContent(n)))},u=this,h=l;h<=c;h++)d(h);return b.createElement("div",{className:"react-datepicker__year"},b.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(x.Component);function Yx(e,t,n,r){for(var i=[],a=0;a<2*t+1;a++){var s=e+t-a,o=!0;n&&(o=Np(n)<=s),r&&o&&(o=Np(r)>=s),o&&i.push(s)}return i}var Qx=function(e){function t(t){var n=e.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case"Enter":t.preventDefault(),n.onChange(e);break;case"Escape":t.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":t.preventDefault();var i=e+("ArrowUp"===t.key?1:-1);n.yearOptionButtonsRef[i]&&(null===(r=n.yearOptionButtonsRef[i])||void 0===r||r.focus())}},n.renderOptions=function(){n.yearOptionButtonsRef={};var e=n.props.year,t=n.state.yearsList.map(function(t){return b.createElement("div",{ref:function(r){n.yearOptionButtonsRef[t]=r,t===e&&(null==r||r.focus())},role:"button",tabIndex:0,className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),onKeyDown:n.handleOptionKeyDown.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?b.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",t)}),r=n.props.minDate?Np(n.props.minDate):null,i=n.props.maxDate?Np(n.props.maxDate):null;return i&&n.state.yearsList.find(function(e){return e===i})||t.unshift(b.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},b.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find(function(e){return e===r})||t.push(b.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},b.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=r||(i?10:5);return n.state={yearsList:Yx(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return Sg(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=th({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return b.createElement(Og,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(x.Component),Kx=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Np(t.props.minDate):1900,n=t.props.maxDate?Np(t.props.maxDate):2100,r=[],i=e;i<=n;i++)r.push(b.createElement("option",{key:i,value:i},i));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return b.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return b.createElement("button",{key:"read",type:"button",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},b.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),b.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return b.createElement(Qx,Ag({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,i;null===(i=(r=t.props).onSelect)||void 0===i||i.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return Sg(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return b.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(x.Component),Jx=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Xx="react-datepicker-ignore-onclickoutside",Zx=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n,i,a;i=e.target,a=(i.className||"").split(/\s+/),Jx.some(function(e){return a.indexOf(e)>=0})&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,i=e.openToDate,a=yx(r.props),s=vx(r.props),o=Dg();return i||n||t||(a&&Sp(o,a)?a:s&&kp(o,s)?s:o)},r.increaseMonth=function(){r.setState(function(e){return{date:ch(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(e){return{date:Lm(e.date,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Im(Dg(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,i,a;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(a=(i=r.props).setOpen)||void 0===a||a.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!nx(e,r.props))return e;for(var t=zg(e),n=function(e){return Lh(e)}(e),i=function(e,t){const[n,r]=bh(0,e,t),i=Ph(n,r),a=Math.abs(vh(n,r));n.setDate(n.getDate()-i*a);const s=i*(a-Number(Ph(n,r)===-i));return 0===s?0:s}(n,t),a=null,s=0;s<=i;s++){var o=lh(t,s);if(!nx(o,r.props)){a=o;break}}return a},r.handleMonthChange=function(e){var t,n,i,a=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(a),r.props.adjustDateOnChange&&(r.props.onSelect(a),null===(i=(n=r.props).setOpen)||void 0===i||i.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState(function(t){return{date:Im(t.date,Number(e))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(e){r.setState(function(t){return{date:Tm(t.date,Number(e))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(e){r.setState(function(t){return{date:Im(Tm(t.date,vp(e)),Np(e))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(e){void 0===e&&(e=r.state.date);var t=Hg(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(b.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},b.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),b.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),n.concat([0,1,2,3,4,5,6].map(function(e){var n=lh(t,e),i=r.formatWeekday(n,r.props.locale),a=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return b.createElement("div",{key:e,role:"columnheader",className:th("react-datepicker__day-name",a)},b.createElement("span",{className:"react-datepicker__sr-only"},Lg(n,"EEEE",r.props.locale)),b.createElement("span",{"aria-hidden":"true"},i))}))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Lg(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Lg(e,"EEE",t)}(e,t):function(e,t){return Lg(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState(function(e){var n;return{date:Bm(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,i;if(!r.props.renderCustomHeader){var a,s=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,o=r.props.showPreviousMonths?s-1:0,l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:o,c=Lm(r.state.date,l);switch(!0){case r.props.showMonthYearPicker:a=xx(r.state.date,r.props);break;case r.props.showYearPicker:a=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.yearItemNumber,a=void 0===i?12:i,s=Sx(Wg(Bm(e,a)),a).endPeriod,o=r&&Np(r);return o&&o>s||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=function(e,t){var n=void 0===t?{}:t,r=n.minDate,i=n.includeDates,a=Rm(Hh(e));return r&&Mh(r,a)>0||i&&i.every(function(e){return Mh(e,a)>0})||!1}(r.state.date,r.props);break;default:a=fx(c,r.props)}if(((null!==(i=r.props.forceShowMonthNavigation)&&void 0!==i?i:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!a)&&!r.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.decreaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),u=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,m=p.previousMonthButtonLabel,f=void 0===m?t.defaultProps.previousMonthButtonLabel:m,g=p.previousYearButtonLabel,x=void 0===g?t.defaultProps.previousYearButtonLabel:g,y=r.props,v=y.previousMonthAriaLabel,w=void 0===v?"string"==typeof f?f:"Previous Month":v,j=y.previousYearAriaLabel,N=void 0===j?"string"==typeof x?x:"Previous Year":j;return b.createElement("button",{type:"button",className:d.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?N:w},b.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},h?x:f))}}},r.increaseYear=function(){r.setState(function(e){var n;return{date:Sh(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=bx(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.yearItemNumber,a=void 0===i?12:i,s=Sx(Sh(e,a),a).startPeriod,o=r&&Np(r);return o&&o<s||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,i=n.includeDates,a=jh(Bh(e),1);return r&&Mh(a,r)>0||i&&i.every(function(e){return Mh(a,e)>0})||!1}(r.state.date,r.props);break;default:n=gx(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var i=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),a=void 0);var s=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,l=o.nextMonthButtonLabel,c=void 0===l?t.defaultProps.nextMonthButtonLabel:l,d=o.nextYearButtonLabel,u=void 0===d?t.defaultProps.nextYearButtonLabel:d,h=r.props,p=h.nextMonthAriaLabel,m=void 0===p?"string"==typeof c?c:"Next Month":p,f=h.nextYearAriaLabel,g=void 0===f?"string"==typeof u?u:"Next Year":f;return b.createElement("button",{type:"button",className:i.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":s?g:m},b.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},s?u:c))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),b.createElement("h2",{className:t.join(" ")},Lg(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return b.createElement(Kx,Ag({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Np(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return b.createElement(Wx,Ag({},t.defaultProps,r.props,{month:vp(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return b.createElement($x,Ag({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(Vg(),e),r.props.setPreSelection&&r.props.setPreSelection(Vg())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return b.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(e){return b.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(e))},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return b.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),b.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)))},r.renderCustomHeader=function(e){var t,n,i=e.monthDate,a=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var s,o=r.props,l=o.showYearPicker,c=o.yearItemNumber;if(l){var d=Sx(i,c);s={startYear:d.startPeriod,endYear:d.endPeriod}}var u=fx(r.state.date,r.props),h=gx(r.state.date,r.props),p=xx(r.state.date,r.props),m=bx(r.state.date,r.props);return b.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,Ag(Ag(Ag({},r.state),l&&{visibleYearsRange:s}),{customHeaderCount:a,monthDate:i,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:h,prevYearButtonDisabled:p,nextYearButtonDisabled:m})))},r.renderYearHeader=function(e){var n=e.monthDate,i=r.props,a=i.showYearPicker,s=i.yearItemNumber,o=Sx(n,void 0===s?t.defaultProps.yearItemNumber:s),l=o.startPeriod,c=o.endPeriod;return b.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(l," - ").concat(c):Np(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,i={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(i);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var i=[],a=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?a-1:0,o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Sh(r.state.date,s):Lm(r.state.date,s),l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:s,c=0;c<a;++c){var d=c-l+s,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Sh(o,d):ch(o,d),h="month-".concat(c),p=c<a-1,m=c>0;i.push(b.createElement("div",{key:h,ref:function(e){r.monthContainer=null!=e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:u,i:c}),b.createElement(Hx,Ag({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:u,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:c,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:m,dayNamesHeader:r.renderDayNamesHeader(u)}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?b.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),b.createElement(Gx,Ag({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return b.createElement(qx,Ag({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&Ig(e)&&Boolean(r.props.selected)?"".concat(kx(e.getHours()),":").concat(kx(e.getMinutes())):"";if(r.props.showTimeInput)return b.createElement(Ox,Ag({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,i=Sx(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),a=i.startPeriod,s=i.endPeriod;return n=r.props.showYearPicker?"".concat(a," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Np(r.state.date):"".concat(ex(vp(r.state.date),r.props.locale)," ").concat(Np(r.state.date)),b.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return b.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=x.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Sg(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:Xx,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.props.showTimeSelect&&(this.assignMonthContainer=void this.setState({monthContainer:this.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Qg(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Qg(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Gg(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},t.prototype.render=function(){var e=this.props.container||Tg;return b.createElement(Og,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},b.createElement("div",{style:{display:"contents"},ref:this.containerRef},b.createElement(e,{className:th("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(x.Component),eb=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if("string"==typeof t)return b.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(b.isValidElement(t)){var s=t;return b.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(a," ").concat(r),onClick:function(e){"function"==typeof s.props.onClick&&s.props.onClick(e),"function"==typeof i&&i(e)}})}return b.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},b.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tb=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return Sg(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return ut.createPortal(this.props.children,this.el)},t}(x.Component),nb=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},rb=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(nb)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=x.createRef(),n}return Sg(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?b.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},b.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,b.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(x.Component),ib=function(e){function t(t){var n,r,i="boolean"!=typeof t.hidePopper||t.hidePopper,a=x.useRef(null),s=Ng(Ag({open:!i,whileElementsMounted:rg,placement:t.popperPlacement,middleware:Cg([(r={padding:15},{...ag(r),options:[r,undefined]}),pg(10),mg({element:a})],null!==(n=t.popperModifiers)&&void 0!==n?n:[],!0)},t.popperProps)),o=Ag(Ag({},t),{hidePopper:i,popperProps:Ag(Ag({},s),{arrowRef:a})});return b.createElement(e,Ag({},o))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}(function(e){var t=e.className,n=e.wrapperClassName,r=e.hidePopper,i=void 0===r||r,a=e.popperComponent,s=e.targetComponent,o=e.enableTabLoop,l=e.popperOnKeyDown,c=e.portalId,d=e.portalHost,u=e.popperProps,h=e.showArrow,p=void 0;if(!i){var m=th("react-datepicker-popper",t);p=b.createElement(rb,{enableTabLoop:o},b.createElement("div",{ref:u.refs.setFloating,style:u.floatingStyles,className:m,"data-placement":u.placement,onKeyDown:l},a,h&&b.createElement(vg,{ref:u.arrowRef,context:u.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(p=x.createElement(e.popperContainer,{},p)),c&&!i&&(p=b.createElement(tb,{portalId:c,portalHost:d},p));var f=th("react-datepicker-wrapper",n);return b.createElement(b.Fragment,null,b.createElement("div",{ref:u.refs.setReference,className:f},s),p)}),ab="Date input not valid.",sb=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Dg()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return Ig(n)?Cg(Cg([],e,!0),[Ag(Ag({},t),{date:n})],!1):e},[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=yx(r.props),i=vx(r.props),a=n&&Sp(t,Bg(n))?n:i&&kp(t,$g(i))?i:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:a,highlightDates:wx(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var e,n=r.props,i=n.locale,a=n.startDate,s=n.endDate,o=n.rangeSeparator,l=n.selected,c=n.selectedDates,d=n.selectsMultiple,u=n.selectsRange,h=n.value,p=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,m=r.state.inputValue;return"string"==typeof h?h:"string"==typeof m?m:u?function(e,t,n){if(!e&&!t)return"";var r=e?Rg(e,n):"",i=t?Rg(t,n):"",a=n.rangeSeparator||" - ";return"".concat(r).concat(a).concat(i)}(a,s,{dateFormat:p,locale:i,rangeSeparator:o}):d?function(e,t){if(!(null==e?void 0:e.length))return"";var n=e[0]?Rg(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Rg(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}(null!=c?c:[],{dateFormat:p,locale:i}):Rg(l,{dateFormat:p,locale:i})},r.resetHiddenStatus=function(){r.setState(Ag(Ag({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Ag(Ag({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:lb},function(){e||r.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return _h(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,i=r.state.wasHidden,a=!i||r.state.open;i&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!a||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Ag(Ag({},r.state),{inputValue:null}))},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.resetInputValue(),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,i,a,s,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,o),c&&"function"==typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){r.setState({inputValue:(null==c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:ob});var d=r.props,u=d.selectsRange,h=d.startDate,p=d.endDate,m=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,f=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null==c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(u){var x=r.props.rangeSeparator,b=x.trim(),y=g.split(m.includes(b)?x:b,2).map(function(e){return e.trim()}),v=y[0],w=y[1],j=Pg(null!=v?v:"",m,r.props.locale,f),N=j?Pg(null!=w?w:"",m,r.props.locale,f):null,k=(null==h?void 0:h.getTime())!==(null==j?void 0:j.getTime()),S=(null==p?void 0:p.getTime())!==(null==N?void 0:N.getTime());if(!k&&!S)return;if(j&&nx(j,r.props))return;if(N&&nx(N,r.props))return;null===(a=(i=r.props).onChange)||void 0===a||a.call(i,[j,N],c)}else{var A=Pg(g,m,r.props.locale,f,null!==(s=r.props.selected)&&void 0!==s?s:void 0);!A&&g||r.setSelected(A,c,!0)}}},r.handleSelect=function(e,t,n){if(!r.props.readOnly){var i=r.props,a=i.selectsRange,s=i.startDate,o=i.endDate,l=i.swapRange,c=!a||s&&!o&&(l||!_x(e,s));r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&c&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):c&&r.setOpen(!1)}},r.setSelected=function(e,t,n,i){var a,s,o=e;if(r.props.showYearPicker){if(null!==o&&cx(Np(o),r.props))return}else if(r.props.showMonthYearPicker){if(null!==o&&ix(o,r.props))return}else if(null!==o&&nx(o,r.props))return;var l=r.props,c=l.onChange,d=l.selectsRange,u=l.startDate,h=l.endDate,p=l.selectsMultiple,m=l.selectedDates,f=l.minTime,g=l.swapRange;if(!Kg(r.props.selected,o)||r.props.allowSameDay||d||p)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=Fg(o,{hour:bp(r.props.selected),minute:yp(r.props.selected),second:wp(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||f&&(o=Fg(o,{hour:f.getHours(),minute:f.getMinutes(),second:f.getSeconds()})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:i})),d){var x=!u&&!!h,b=u&&h;u||h?u&&!h?null===o?null==c||c([null,null],t):_x(o,u)?g?null==c||c([o,u],t):null==c||c([o,null],t):null==c||c([u,o],t):x&&(o&&_x(o,h)?null==c||c([o,h],t):null==c||c([o,null],t)):null==c||c([o,null],t),b&&(null==c||c([o,null],t))}else if(p){if(null!==o)if(null==m?void 0:m.length)if(m.some(function(e){return Qg(e,o)})){var y=m.filter(function(e){return!Qg(e,o)});null==c||c(y,t)}else null==c||c(Cg(Cg([],m,!0),[o],!1),t);else null==c||c([o],t)}else null==c||c(o,t);n||(null===(s=(a=r.props).onSelect)||void 0===s||s.call(a,o,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){if(!r.props.readOnly){var t=_h(r.props.minDate),n=_h(r.props.maxDate),i=!0;if(e){var a=Bg(e);if(t&&n)i=Jg(e,r.props.minDate,r.props.maxDate);else if(t){var s=Bg(r.props.minDate);i=kp(e,s)||Kg(a,s)}else if(n){var o=$g(r.props.maxDate);i=Sp(e,o)||Kg(a,o)}}i&&r.setState({preSelection:e})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var i=r.props.selected?r.props.selected:r.getPreSelection(),a=r.props.selected?e:Fg(i,{hour:bp(e),minute:yp(e)});r.setState({preSelection:a}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,a),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,i,a,s,o;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(l===_g.ArrowDown||l===_g.ArrowUp){e.preventDefault();var c=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',d=(null===(a=r.calendar)||void 0===a?void 0:a.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(c);return void(d instanceof HTMLElement&&d.focus({preventScroll:!0}))}var u=Dg(r.state.preSelection);l===_g.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===lb?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):l===_g.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):l===_g.Tab&&r.setOpen(!1),r.inputOk()||null===(o=(s=r.props).onInputError)||void 0===o||o.call(s,{code:1,msg:ab})}}else l!==_g.ArrowDown&&l!==_g.ArrowUp&&l!==_g.Enter||null===(i=r.onInputClick)||void 0===i||i.call(r)},r.onPortalKeyDown=function(e){e.key===_g.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(e){var t,n,i,a,s,o,l=r.props,c=l.minDate,d=l.maxDate,u=l.disabledKeyboardNavigation,h=l.showWeekPicker,p=l.shouldCloseOnSelect,m=l.locale,f=l.calendarStartDay,g=l.adjustDateOnChange,x=l.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!u){var b=e.key,y=e.shiftKey,v=Dg(r.state.preSelection),w=function(e,t){var n=t;switch(e){case _g.ArrowRight:n=h?kh(t,1):lh(t,1);break;case _g.ArrowLeft:n=h?Fm(t):function(e){return lh(e,-1,void 0)}(t);break;case _g.ArrowUp:n=Fm(t);break;case _g.ArrowDown:n=kh(t,1);break;case _g.PageUp:n=y?Bm(t,1):Lm(t,1);break;case _g.PageDown:n=y?Sh(t,1):ch(t,1);break;case _g.Home:n=Hg(t,m,f);break;case _g.End:n=function(e){return function(e){var t,n,r,i;const a=ph(),s=null!=(i=null!=(r=a.weekStartsOn)?r:null==(n=null==(t=a.locale)?void 0:t.options)?void 0:n.weekStartsOn)?i:0,o=oh(e,void 0),l=o.getDay(),c=6+(l<s?-7:0)-(l-s);return o.setDate(o.getDate()+c),o.setHours(23,59,59,999),o}(e)}(t)}return n};if(b===_g.Enter)return e.preventDefault(),r.handleSelect(v,e),void(!p&&r.setPreSelection(v));if(b===_g.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(a=(i=r.props).onInputError)||void 0===a||a.call(i,{code:1,msg:ab}));var j=null;switch(b){case _g.ArrowLeft:case _g.ArrowRight:case _g.ArrowUp:case _g.ArrowDown:case _g.PageUp:case _g.PageDown:case _g.Home:case _g.End:j=function(e,t){for(var n=e,i=!1,a=0,s=w(e,t);!i;){if(a>=40){s=t;break}c&&s<c&&(n=_g.ArrowRight,s=nx(c,r.props)?w(n,s):c),d&&s>d&&(n=_g.ArrowLeft,s=nx(d,r.props)?w(n,s):d),nx(s,r.props)?(n!==_g.PageUp&&n!==_g.Home||(n=_g.ArrowRight),n!==_g.PageDown&&n!==_g.End||(n=_g.ArrowLeft),s=w(n,s)):i=!0,a++}return s}(b,v)}if(j){if(e.preventDefault(),r.setState({lastPreSelectChange:lb}),g&&r.setSelected(j),r.setPreSelection(j),x){var N=vp(v),k=vp(j),S=Np(v),A=Np(j);N!==k||S!==A?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(o=(s=r.props).onInputError)||void 0===o||o.call(s,{code:1,msg:ab})}},r.onPopperKeyDown=function(e){e.key===_g.Escape&&(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,i=t.onChange;n?null==i||i([null,null],e):null==i||i(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?b.createElement(Zx,Ag({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:jx(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n,i=r.props.locale,a=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,s=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return n=r.props.selectsRange?"Selected start date: ".concat(Rg(r.props.startDate,{dateFormat:s,locale:i}),". ").concat(r.props.endDate?"End date: "+Rg(r.props.endDate,{dateFormat:s,locale:i}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Rg(r.props.selected,{dateFormat:a,locale:i})):r.props.showYearPicker?"Selected year: ".concat(Rg(r.props.selected,{dateFormat:"yyyy",locale:i})):r.props.showMonthYearPicker?"Selected month: ".concat(Rg(r.props.selected,{dateFormat:"MMMM yyyy",locale:i})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Rg(r.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):"Selected date: ".concat(Rg(r.props.selected,{dateFormat:s,locale:i})),b.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n)},r.renderDateInput=function(){var e,n,i=th(r.props.className,((e={})[r.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=r.state.open,e)),a=r.props.customInput||b.createElement("input",{type:"text"}),s=r.props.customInputRef||"ref";return x.cloneElement(a,((n={})[s]=function(e){r.input=e},n.value=r.getInputValue(),n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=th(a.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,i=e.selected,a=e.startDate,s=e.endDate,o=e.clearButtonTitle,l=e.clearButtonClassName,c=void 0===l?"":l,d=e.ariaLabelClose,u=void 0===d?"Close":d,h=e.selectedDates,p=e.readOnly;return!t||p||null==i&&null==a&&null==s&&!(null==h?void 0:h.length)?null:b.createElement("button",{type:"button",className:th("react-datepicker__close-icon",c,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":u,onClick:r.onClearClick,title:o,tabIndex:-1})},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Sg(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:Xx,readOnly:!1,rangeSeparator:" - ",withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,i,a,s,o;e.inline&&(s=e.selected,o=this.props.selected,s&&o?vp(s)!==vp(o)||Np(s)!==Np(o):s!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:wx(this.props.highlightDates)}),t.focused||Kg(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(a=(i=this.props).onCalendarClose)||void 0===a||a.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,i=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,s=this.state.open;return b.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&b.createElement(eb,Ag({icon:n,className:th(i,!i&&r,s&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?b.createElement(rb,{enableTabLoop:this.props.enableTabLoop},b.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=b.createElement(tb,Ag({portalId:this.props.portalId},this.props),t)),b.createElement("div",null,this.renderInputContainer(),t)}return b.createElement(ib,Ag({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(x.Component),ob="input",lb="navigate";const{entries:cb,setPrototypeOf:db,isFrozen:ub,getPrototypeOf:hb,getOwnPropertyDescriptor:pb}=Object;let{freeze:mb,seal:fb,create:gb}=Object,{apply:xb,construct:bb}="undefined"!=typeof Reflect&&Reflect;mb||(mb=function(e){return e}),fb||(fb=function(e){return e}),xb||(xb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),bb||(bb=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const yb=Pb(Array.prototype.forEach),vb=Pb(Array.prototype.lastIndexOf),wb=Pb(Array.prototype.pop),jb=Pb(Array.prototype.push),Nb=Pb(Array.prototype.splice),kb=Pb(String.prototype.toLowerCase),Sb=Pb(String.prototype.toString),Ab=Pb(String.prototype.match),Cb=Pb(String.prototype.replace),_b=Pb(String.prototype.indexOf),Eb=Pb(String.prototype.trim),Tb=Pb(Object.prototype.hasOwnProperty),Ob=Pb(RegExp.prototype.test),Mb=(Db=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bb(Db,t)});var Db;function Pb(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return xb(e,t,r)}}function Ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kb;db&&db(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(ub(t)||(t[r]=e),i=e)}e[i]=!0}return e}function Lb(e){for(let t=0;t<e.length;t++)Tb(e,t)||(e[t]=null);return e}function Rb(e){const t=gb(null);for(const[n,r]of cb(e))Tb(e,n)&&(Array.isArray(r)?t[n]=Lb(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Rb(r):t[n]=r);return t}function Fb(e,t){for(;null!==e;){const n=pb(e,t);if(n){if(n.get)return Pb(n.get);if("function"==typeof n.value)return Pb(n.value)}e=hb(e)}return function(){return null}}const Bb=mb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hb=mb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zb=mb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wb=mb(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ub=mb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Vb=mb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$b=mb(["#text"]),qb=mb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Gb=mb(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yb=mb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qb=mb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kb=fb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jb=fb(/<%[\w\W]*|[\w\W]*%>/gm),Xb=fb(/\$\{[\w\W]*/gm),Zb=fb(/^data-[\-\w.\u00B7-\uFFFF]+$/),ey=fb(/^aria-[\-\w]+$/),ty=fb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ny=fb(/^(?:\w+script|data):/i),ry=fb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iy=fb(/^html$/i),ay=fb(/^[a-z][.\w]*(-[.\w]+)+$/i);var sy=Object.freeze({__proto__:null,ARIA_ATTR:ey,ATTR_WHITESPACE:ry,CUSTOM_ELEMENT:ay,DATA_ATTR:Zb,DOCTYPE_NAME:iy,ERB_EXPR:Jb,IS_ALLOWED_URI:ty,IS_SCRIPT_OR_DATA:ny,MUSTACHE_EXPR:Kb,TMPLIT_EXPR:Xb});var oy=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.2.7",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:m}=t,f=c.prototype,g=Fb(f,"cloneNode"),x=Fb(f,"remove"),b=Fb(f,"nextSibling"),y=Fb(f,"childNodes"),v=Fb(f,"parentNode");if("function"==typeof o){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,j="";const{implementation:N,createNodeIterator:k,createDocumentFragment:S,getElementsByTagName:A}=r,{importNode:C}=i;let _={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof cb&&"function"==typeof v&&N&&void 0!==N.createHTMLDocument;const{MUSTACHE_EXPR:E,ERB_EXPR:T,TMPLIT_EXPR:O,DATA_ATTR:M,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:I,CUSTOM_ELEMENT:L}=sy;let{IS_ALLOWED_URI:R}=sy,F=null;const B=Ib({},[...Bb,...Hb,...zb,...Ub,...$b]);let H=null;const z=Ib({},[...qb,...Gb,...Yb,...Qb]);let W=Object.seal(gb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,V=null,$=!0,q=!0,G=!1,Y=!0,Q=!1,K=!0,J=!1,X=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,ie=!1,ae=!0,se=!1,oe={},le=null;const ce=Ib({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=Ib({},["audio","video","img","source","image","track"]);let he=null;const pe=Ib({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let xe=ge,be=!1,ye=null;const ve=Ib({},[me,fe,ge],Sb);let we=Ib({},["mi","mo","mn","ms","mtext"]),je=Ib({},["annotation-xml"]);const Ne=Ib({},["title","style","font","a","script"]);let ke=null;const Se=["application/xhtml+xml","text/html"];let Ae=null,Ce=null;const _e=r.createElement("form"),Ee=function(e){return e instanceof RegExp||e instanceof Function},Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=Rb(e),ke=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ae="application/xhtml+xml"===ke?Sb:kb,F=Tb(e,"ALLOWED_TAGS")?Ib({},e.ALLOWED_TAGS,Ae):B,H=Tb(e,"ALLOWED_ATTR")?Ib({},e.ALLOWED_ATTR,Ae):z,ye=Tb(e,"ALLOWED_NAMESPACES")?Ib({},e.ALLOWED_NAMESPACES,Sb):ve,he=Tb(e,"ADD_URI_SAFE_ATTR")?Ib(Rb(pe),e.ADD_URI_SAFE_ATTR,Ae):pe,de=Tb(e,"ADD_DATA_URI_TAGS")?Ib(Rb(ue),e.ADD_DATA_URI_TAGS,Ae):ue,le=Tb(e,"FORBID_CONTENTS")?Ib({},e.FORBID_CONTENTS,Ae):ce,U=Tb(e,"FORBID_TAGS")?Ib({},e.FORBID_TAGS,Ae):Rb({}),V=Tb(e,"FORBID_ATTR")?Ib({},e.FORBID_ATTR,Ae):Rb({}),oe=!!Tb(e,"USE_PROFILES")&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Q=e.SAFE_FOR_TEMPLATES||!1,K=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||ty,xe=e.NAMESPACE||ge,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,W=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(q=!1),te&&(ee=!0),oe&&(F=Ib({},$b),H=[],!0===oe.html&&(Ib(F,Bb),Ib(H,qb)),!0===oe.svg&&(Ib(F,Hb),Ib(H,Gb),Ib(H,Qb)),!0===oe.svgFilters&&(Ib(F,zb),Ib(H,Gb),Ib(H,Qb)),!0===oe.mathMl&&(Ib(F,Ub),Ib(H,Yb),Ib(H,Qb))),e.ADD_TAGS&&(F===B&&(F=Rb(F)),Ib(F,e.ADD_TAGS,Ae)),e.ADD_ATTR&&(H===z&&(H=Rb(H)),Ib(H,e.ADD_ATTR,Ae)),e.ADD_URI_SAFE_ATTR&&Ib(he,e.ADD_URI_SAFE_ATTR,Ae),e.FORBID_CONTENTS&&(le===ce&&(le=Rb(le)),Ib(le,e.FORBID_CONTENTS,Ae)),ae&&(F["#text"]=!0),J&&Ib(F,["html","head","body"]),F.table&&(Ib(F,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Mb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Mb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,j=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return null}}(m,a)),null!==w&&"string"==typeof j&&(j=w.createHTML(""));mb&&mb(e),Ce=e}},Oe=Ib({},[...Hb,...zb,...Wb]),Me=Ib({},[...Ub,...Vb]),De=function(e){jb(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){x(e)}},Pe=function(e,t){try{jb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){jb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{De(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Ie=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=Ab(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ke&&xe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=w?w.createHTML(e):e;if(xe===ge)try{t=(new p).parseFromString(i,ke)}catch(s){}if(!t||!t.documentElement){t=N.createDocument(xe,"template",null);try{t.documentElement.innerHTML=be?j:i}catch(s){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),xe===ge?A.call(t,J?"html":"body")[0]:J?t.documentElement:a},Le=function(e){return k.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Re=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Fe=function(e){return"function"==typeof l&&e instanceof l};function Be(e,t,r){yb(e,e=>{e.call(n,t,r,Ce)})}const He=function(e){let t=null;if(Be(_.beforeSanitizeElements,e,null),Re(e))return De(e),!0;const r=Ae(e.nodeName);if(Be(_.uponSanitizeElement,e,{tagName:r,allowedTags:F}),K&&e.hasChildNodes()&&!Fe(e.firstElementChild)&&Ob(/<[/\w!]/g,e.innerHTML)&&Ob(/<[/\w!]/g,e.textContent))return De(e),!0;if(7===e.nodeType)return De(e),!0;if(K&&8===e.nodeType&&Ob(/<[/\w]/g,e.data))return De(e),!0;if(!F[r]||U[r]){if(!U[r]&&We(r)){if(W.tagNameCheck instanceof RegExp&&Ob(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(ae&&!le[r]){const t=v(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,b(e))}}return De(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:xe,tagName:"template"});const n=kb(e.tagName),r=kb(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===fe?t.namespaceURI===ge?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(Oe[n]):e.namespaceURI===me?t.namespaceURI===ge?"math"===n:t.namespaceURI===fe?"math"===n&&je[r]:Boolean(Me[n]):e.namespaceURI===ge?!(t.namespaceURI===fe&&!je[r])&&!(t.namespaceURI===me&&!we[r])&&!Me[n]&&(Ne[n]||!Oe[n]):!("application/xhtml+xml"!==ke||!ye[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Ob(/<\/no(script|embed|frames)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,yb([E,T,O],e=>{t=Cb(t,e," ")}),e.textContent!==t&&(jb(n.removed,{element:e.cloneNode()}),e.textContent=t)),Be(_.afterSanitizeElements,e,null),!1):(De(e),!0)},ze=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in _e))return!1;if(q&&!V[t]&&Ob(M,t));else if($&&Ob(D,t));else if(!H[t]||V[t]){if(!(We(e)&&(W.tagNameCheck instanceof RegExp&&Ob(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&Ob(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t,e))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&Ob(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(he[t]);else if(Ob(R,Cb(n,I,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_b(n,"data:")||!de[e])if(G&&!Ob(P,Cb(n,I,"")));else if(n)return!1;return!0},We=function(e){return"annotation-xml"!==e&&Ab(e,L)},Ue=function(e){Be(_.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Re(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let i=t.length;for(;i--;){const s=t[i],{name:o,namespaceURI:l,value:c}=s,d=Ae(o),u=c;let h="value"===o?u:Eb(u);if(r.attrName=d,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,Be(_.uponSanitizeAttribute,e,r),h=r.attrValue,!ie||"id"!==d&&"name"!==d||(Pe(o,e),h="user-content-"+h),K&&Ob(/((--!?|])>)|<\/(style|title|textarea)/i,h)){Pe(o,e);continue}if("attributename"===d&&Ab(h,"href")){Pe(o,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Pe(o,e);continue}if(!Y&&Ob(/\/>/i,h)){Pe(o,e);continue}Q&&yb([E,T,O],e=>{h=Cb(h,e," ")});const p=Ae(e.nodeName);if(ze(p,d,h)){if(w&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(l);else switch(m.getAttributeType(p,d)){case"TrustedHTML":h=w.createHTML(h);break;case"TrustedScriptURL":h=w.createScriptURL(h)}if(h!==u)try{l?e.setAttributeNS(l,o,h):e.setAttribute(o,h),Re(e)?De(e):wb(n.removed)}catch(a){Pe(o,e)}}else Pe(o,e)}Be(_.afterSanitizeAttributes,e,null)},Ve=function e(t){let n=null;const r=Le(t);for(Be(_.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Be(_.uponSanitizeShadowNode,n,null),He(n),Ue(n),n.content instanceof s&&e(n.content);Be(_.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,o=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw Mb("toString is not a function");if("string"!=typeof(e=e.toString()))throw Mb("dirty is not a string, aborting")}if(!n.isSupported)return e;if(X||Te(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Ae(e.nodeName);if(!F[t]||U[t])throw Mb("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Ie("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!ee&&!Q&&!J&&-1===e.indexOf("<"))return w&&ne?w.createHTML(e):e;if(r=Ie(e),!r)return ee?null:ne?j:""}r&&Z&&De(r.firstChild);const d=Le(se?e:r);for(;o=d.nextNode();)He(o),Ue(o),o.content instanceof s&&Ve(o.content);if(se)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(H.shadowroot||H.shadowrootmode)&&(c=C.call(i,c,!0)),c}let u=J?r.outerHTML:r.innerHTML;return J&&F["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Ob(iy,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Q&&yb([E,T,O],e=>{u=Cb(u,e," ")}),w&&ne?w.createHTML(u):u},n.setConfig=function(){Te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),X=!0},n.clearConfig=function(){Ce=null,X=!1},n.isValidAttribute=function(e,t,n){Ce||Te({});const r=Ae(e),i=Ae(t);return ze(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&jb(_[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=vb(_[e],t);return-1===n?void 0:Nb(_[e],n,1)[0]}return wb(_[e])},n.removeHooks=function(e){_[e]=[]},n.removeAllHooks=function(){_={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const ly=Object.freeze(Object.defineProperty({__proto__:null,default:oy},Symbol.toStringTag,{value:"Module"})),cy=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},dy=({isOpen:e,onClose:t,title:n,children:r,className:i,maxWidth:a="max-w-xl"})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a} ${i||"w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),uy=(e,t,n,r)=>{if(null==e||null==t||null==n||null==r)return null;const i=60*e+t,a=60*n+r;let s=Math.abs(a-i);return s>720&&(s=1440-s),s},hy=e=>{if(null==e||isNaN(e)||e<0)return"-";const t=Math.floor(e/60),n=e%60;return 0===e?"0min":0===t&&n>0?`${n}min`:t>0&&0===n?`${t}h`:`${t}h ${n}min`},py=({record:e,onClose:t})=>{const n=(e,t)=>null==e||null==t?"-":`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,r=e=>null==e?"-":"object"==typeof e?e.name||JSON.stringify(e):"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toLocaleString("id-ID"):String(e),i=uy(e.stopJam,e.stopMenit,e.startJam,e.startMenit),a=hy(i),s=({status:e})=>h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${{PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"}[e]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:e}),o=({activity:e})=>h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${{Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"}[e]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:e}),l=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),c=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),d=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(c,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const i=oy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:i}})]})]})})})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),h.jsx(o,{activity:e.perbaikanPerawatan}),h.jsx(s,{status:e.stopTime})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Date: ",r(e.date)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(ld,{className:"w-4 h-4"}),"Duration: ",r(a)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Pu,{className:"w-4 h-4"}),"Machine: ",r(e.mesin)]})]})]})})}),h.jsx(l,{title:"Basic Information",icon:h.jsx(od,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(c,{label:"Date",value:r(e.date),icon:h.jsx(Yc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Shift",value:r(e.shift),icon:h.jsx(ld,{className:"w-4 h-4"})}),h.jsx(c,{label:"Group",value:r(e.group),icon:h.jsx(Mu,{className:"w-4 h-4"})}),h.jsx(c,{label:"Machine",value:r(e.mesin),icon:h.jsx(mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Unit",value:r(e.unit),icon:h.jsx(Xd,{className:"w-4 h-4"})}),h.jsx(c,{label:"Running Hour",value:r(e.runningHour),icon:h.jsx(ld,{className:"w-4 h-4"})})]})}),h.jsx(l,{title:"Time Details",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(c,{label:"Stop Time",value:n(e.stopJam,e.stopMenit),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Start Time",value:n(e.startJam,e.startMenit),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Duration",value:r(a),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Stop Type",value:r(e.stopTime),icon:h.jsx(ku,{className:"w-4 h-4"})})]})}),h.jsx(l,{title:"Issue & Problem Details",icon:h.jsx(ku,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(c,{label:"Item Trouble",value:r(e.itemTrouble),icon:h.jsx(Pu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Issue Description",value:r(e.jenisGangguan),icon:h.jsx(ku,{className:"w-4 h-4"}),priority:"high"}),h.jsx(d,{label:"Action Taken",htmlContent:e.bentukTindakan||"",icon:h.jsx(id,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(c,{label:"Root Cause",value:r(e.rootCause),icon:h.jsx(pu,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(l,{title:"Maintenance Activity",icon:h.jsx(Pu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(c,{label:"Activity Type",value:r(e.perbaikanPerawatan),icon:h.jsx(mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"Specific Activity",value:r(e.jenisAktivitas),icon:h.jsx(Pu,{className:"w-4 h-4"})}),h.jsx(c,{label:"Kegiatan",value:r(e.kegiatan),icon:h.jsx(od,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(l,{title:"Spare Parts Used",icon:h.jsx(Xd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(c,{label:"Part Code",value:r(e.kodePart),icon:h.jsx(Xd,{className:"w-4 h-4"})}),h.jsx(c,{label:"Part Name",value:r(e.sparePart),icon:h.jsx(Xd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(c,{label:"ID Part",value:r(e.idPart),icon:h.jsx(Id,{className:"w-4 h-4"})}),h.jsx(c,{label:"Quantity",value:r(e.jumlah),icon:h.jsx(Xc,{className:"w-4 h-4"})}),h.jsx(c,{label:"Unit",value:r(e.unitSparePart),icon:h.jsx(Xd,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(l,{title:"Event Timeline",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[h.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),h.jsx("span",{className:"text-sm text-red-600",children:n(e.stopJam,e.stopMenit)})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),h.jsx("span",{className:"text-sm text-blue-600",children:n(e.startJam,e.startMenit)})]}),h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),h.jsx("span",{className:"text-sm text-green-600",children:r(a)})]})]})}),h.jsx(l,{title:"Technical Summary",icon:h.jsx(Xc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),h.jsx("p",{className:"text-lg font-bold text-blue-600",children:r(e.perbaikanPerawatan)})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),h.jsxs("p",{className:"text-lg font-bold text-green-600",children:[r(a)," downtime"]})]})]})}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:h.jsx(Ac.button,{type:"button",onClick:t,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},my=()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[n,r]=x.useState(""),[i,a]=x.useState(!1),[s,o]=x.useState([]),[l,c]=x.useState([]),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(null),[y,v]=x.useState(1),[w]=x.useState(10),{user:j,getMachineHistories:N,deleteMachineHistory:k,isAuthenticated:S,isMasterDataLoading:A,hasPermission:C}=xt(),[_,E]=x.useState([]),[T,O]=x.useState([]),[M,D]=x.useState(!0),[P,I]=x.useState(null),[L,R]=x.useState([]),F=je(),[B,H]=x.useState(window.innerWidth<768),[z,W]=x.useState(!1),[U,V]=x.useState(null),[$,q]=x.useState(null),[G,Y]=x.useState(null),[Q,K]=x.useState([]),[J,X]=x.useState(!1),[Z,ee]=x.useState(!1),te=x.useRef(null),ne=x.useRef(null),[re,ie]=x.useState({key:"date",direction:"descending"}),[ae,se]=x.useState(!1),oe=x.useRef(null),le=x.useRef(null),[ce,de]=x.useState(!1),[ue,he]=x.useState(!1),[pe,me]=x.useState(null),[fe,ge]=x.useState(!1),xe=x.useRef(null),[be,ye]=x.useState(!1),ve=x.useRef(null),we="/machinehistory"===location.pathname,Ne="/machinehistory/reports"===location.pathname,ke=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(n),Se=x.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),Ae=x.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),Ce=x.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),_e=x.useCallback(async()=>{try{D(!0);const e=await N();E(e||[]),O(e||[]);const t=Array.from(new Set(e.map(e=>e.mesin))).filter(Boolean).map(e=>({id:e,name:e}));R(t)}catch(e){E([]),R([])}finally{D(!1)}},[N]);x.useEffect(()=>{v(1)},[]),x.useEffect(()=>{_e()},[_e]),x.useEffect(()=>{let e=[..._];if(ke.trim()){const t=ke.toLowerCase().trim();e=e.filter(e=>{var n,r,i,a;const s=t.split(":");let o="all",l=t;s.length>1&&Se.some(e=>e.name.toLowerCase()===s[0].trim())&&(o=s[0].trim(),l=s.slice(1).join(":").trim());const c=null==(n=e.mesin)?void 0:n.toLowerCase().includes(l),d=null==(r=e.jenisGangguan)?void 0:r.toLowerCase().includes(l),u=null==(i=e.id)?void 0:i.toLowerCase().includes(l),h=null==(a=e.itemTrouble)?void 0:a.toLowerCase().includes(l);return"machine name"===o?c:"issue description"===o?d:"record id"===o?u:"item trouble"===o?h:c||d||u||h})}if($){const t=new Date($);t.setHours(0,0,0,0),e=e.filter(e=>{const n=new Date(e.date);return n.setHours(0,0,0,0),n>=t})}if(G){const t=new Date(G);t.setHours(23,59,59,999),e=e.filter(e=>{const n=new Date(e.date);return n.setHours(0,0,0,0),n<=t})}s.length>0&&(e=e.filter(e=>s.includes(e.perbaikanPerawatan))),l.length>0&&(e=e.filter(e=>l.includes(e.mesin))),Q.length>0&&(e=e.filter(e=>Q.includes(e.shift))),null!==re&&e.sort((e,t)=>{const n=Te(e[re.key]),r=Te(t[re.key]);return n<r?"ascending"===re.direction?-1:1:n>r?"ascending"===re.direction?1:-1:0}),O(e)},[_,ke,$,G,s,l,Q,re,Se,Ae,Ce]),x.useEffect(()=>{const e=()=>{H(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{te.current&&!te.current.contains(e.target)&&X(!1),ne.current&&!ne.current.contains(e.target)&&ee(!1),!oe.current||oe.current.contains(e.target)||e.target.closest(".search-suggestions")||se(!1),!le.current||le.current.contains(e.target)||e.target.closest(".machine-filter-toggle")||de(!1),!xe.current||xe.current.contains(e.target)||e.target.closest(".status-filter-toggle")||ge(!1),!ve.current||ve.current.contains(e.target)||e.target.closest(".shift-filter-toggle")||ye(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Ee=b.useMemo(()=>{if(!n)return Se;const e=n.toLowerCase();return Se.filter(t=>t.name.toLowerCase().includes(e))},[n,Se]),Te=e=>"object"==typeof e&&null!==e?e.name||e.toString():(null==e?void 0:e.toString())||"",Oe=y*w,Me=Oe-w,De=T.slice(Me,Oe),Pe=Math.ceil(T.length/w),Ie=e=>v(e),Le=(e,t)=>null==e||null==t?"-":`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,Re=e=>{const t=uy(e.stopJam,e.stopMenit,e.startJam,e.startMenit);return hy(t)},Fe=e=>{switch((e||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Kc,{}),isMobile:B,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>F("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${we?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>F("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",h.jsx("span",{className:"text-blue-600",children:"Records"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[C("create_machine_history")&&h.jsxs(Ac.button,{onClick:()=>F("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Record"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>u(!d),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:d?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(cy,{title:"Total Records",value:T.length.toLocaleString("id-ID"),change:"+8%",icon:h.jsx(od,{})}),h.jsx(cy,{title:"Avg Durationtime",value:T.length>0?hy(Math.round(T.reduce((e,t)=>e+(uy(t.stopJam,t.stopMenit,t.startJam,t.startMenit)||0),0)/T.length)):"0min",change:"-5%",icon:h.jsx(ld,{})}),h.jsx(cy,{title:"Repairs",value:T.filter(e=>"Perbaikan"===e.perbaikanPerawatan).length.toLocaleString("id-ID"),change:"+3",icon:h.jsx(Pu,{})}),h.jsx(cy,{title:"Maintenance",value:T.filter(e=>"Perawatan"===e.perbaikanPerawatan).length.toLocaleString("id-ID"),change:"+2",icon:h.jsx(id,{})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:oe,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:n,onChange:e=>{const t=e.target.value;r(t)},onFocus:()=>se(!0),"aria-label":"Search records"}),h.jsx(Da,{children:ae&&Ee.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Ee.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,r(`${t}: `),se(!1),void(null==(n=oe.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:d&&h.jsxs(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[h.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[h.jsx(Yc,{className:"text-gray-500 text-base"}),h.jsx(sb,{selected:$,onChange:e=>q(e),selectsStart:!0,startDate:$,endDate:G,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),h.jsx("span",{className:"text-gray-400",children:"-"}),h.jsx(sb,{selected:G,onChange:e=>Y(e),selectsEnd:!0,startDate:$,endDate:G,minDate:$||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),($||G)&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{q(null),Y(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:h.jsx(Iu,{className:"text-base"})})]}),h.jsxs("div",{ref:xe,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ge(!fe)},"aria-expanded":fe,"aria-haspopup":"true","aria-label":"Filter by Type",children:[h.jsx("span",{children:s.length>0?s.length===Ae.length?"All Types":`Selected (${s.length})`:"All Types"}),h.jsx(Zc,{className:`transform transition-transform ${fe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Da,{children:fe&&h.jsxs(Ac.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:s.length===Ae.length&&Ae.length>0,onChange:e=>{e.target.checked?o(Ae.map(e=>e.value)):o([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Ae.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:s.includes(e.value),onChange:t=>{return n=e.value,r=t.target.checked,void o(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.label})]},e.value))]})})]}),h.jsxs("div",{ref:le,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>de(!ce),"aria-expanded":ce,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[h.jsx("span",{children:l.length>0?l.length===L.length&&L.length>0?"All Machines":`Selected (${l.length})`:"All Machines"}),h.jsx(Zc,{className:`transform transition-transform ${ce?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Da,{children:ce&&h.jsxs(Ac.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:l.length===L.length&&L.length>0,onChange:e=>{e.target.checked?c(L.map(e=>e.name)):c([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),L.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:l.includes(e.name),onChange:t=>{return n=e.name,r=t.target.checked,void c(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.name})]},e.id))]})})]}),h.jsxs("div",{ref:ve,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ye(!be)},"aria-expanded":be,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[h.jsx("span",{children:Q.length>0?Q.length===Ce.length?"All Shifts":`Selected (${Q.length})`:"All Shifts"}),h.jsx(Zc,{className:`transform transition-transform ${be?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Da,{children:be&&h.jsxs(Ac.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Q.length===Ce.length&&Ce.length>0,onChange:e=>{e.target.checked?K(Ce.map(e=>e.value)):K([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Ce.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Q.includes(e.value),onChange:t=>{return n=e.value,r=t.target.checked,void K(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.label})]},e.value))]})})]})]})})]}),M?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):0===T.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Dd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:ke||s.length>0||l.length>0||$||G||Q.length>0?"No records found matching your filters.":"No records available."}),(ke||s.length>0||l.length>0||$||G||Q.length>0)&&h.jsx("button",{onClick:()=>{r(""),o([]),c([]),q(null),Y(null),K([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>(e=>{let t="ascending";re&&re.key===e&&"ascending"===re.direction&&(t="descending"),ie({key:e,direction:t})})("date"),children:["Date","date"===(null==re?void 0:re.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===re.direction?"":""})]}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:De.map(e=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.date}),h.jsxs("div",{className:"text-xs text-gray-600",children:[Le(e.stopJam,e.stopMenit)," - ",Le(e.startJam,e.startMenit)]})]}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.mesin}),h.jsx("div",{className:"text-xs text-gray-600",children:e.unit})]}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",e.shift,", Group ",e.group]})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:Re(e)})}),h.jsxs("td",{className:"px-5 py-3",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.itemTrouble}),h.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:e.jenisGangguan})]}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx(Ac.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Fe(e.stopTime)}`,children:e.stopTime})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(`/machinehistory/edit/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${e.mesin} on ${e.date}`,children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{V(e.id),W(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${e.mesin} on ${e.date}`,children:h.jsx(ju,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{g(e),m(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${e.mesin} on ${e.date}`,children:h.jsx(gd,{className:"inline text-base"})})]})]},e.id))})]})})}),T.length>w&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:Me+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(Oe,T.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:T.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ie(y-1),disabled:1===y,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Pe},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ie(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${y===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ie(y+1),disabled:y===Pe,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),f&&h.jsx(dy,{isOpen:p,onClose:()=>{m(!1),g(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:h.jsx(py,{record:f,onClose:()=>m(!1)})}),h.jsx(dy,{isOpen:z,onClose:()=>W(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>W(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>U&&(async e=>{try{await k(e),E(_.filter(t=>t.id!==e)),W(!1),V(null)}catch(t){I("Failed to delete record. Please try again.")}})(U),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function fy(e){return(fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gy(e){var t=function(e,t){if("object"!=fy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=fy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==fy(t)?t:t+""}function xy(e,t,n){return(t=gy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?by(Object(n),!0).forEach(function(t){xy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wy(e,t){if(e){if("string"==typeof e)return vy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vy(e,t):void 0}}function jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||wy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ny(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ky=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Sy(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,i=void 0!==r&&r,a=e.defaultValue,s=void 0===a?null:a,o=e.inputValue,l=e.menuIsOpen,c=e.onChange,d=e.onInputChange,u=e.onMenuClose,h=e.onMenuOpen,p=e.value,m=Ny(e,ky),f=jy(x.useState(void 0!==o?o:n),2),g=f[0],b=f[1],y=jy(x.useState(void 0!==l?l:i),2),v=y[0],w=y[1],j=jy(x.useState(void 0!==p?p:s),2),N=j[0],k=j[1],S=x.useCallback(function(e,t){"function"==typeof c&&c(e,t),k(e)},[c]),A=x.useCallback(function(e,t){var n;"function"==typeof d&&(n=d(e,t)),b(void 0!==n?n:e)},[d]),C=x.useCallback(function(){"function"==typeof h&&h(),w(!0)},[h]),_=x.useCallback(function(){"function"==typeof u&&u(),w(!1)},[u]),E=void 0!==o?o:g,T=void 0!==l?l:v,O=void 0!==p?p:N;return yy(yy({},m),{},{inputValue:E,menuIsOpen:T,onChange:S,onInputChange:A,onMenuClose:_,onMenuOpen:C,value:O})}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}function Cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gy(r.key),r)}}function _y(e,t){return(_y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ey(e){return(Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ty=function(){return!!e})()}function Oy(e){return function(e){if(Array.isArray(e))return vy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var My=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Dw){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),Dy="-ms-",Py="-moz-",Iy="-webkit-",Ly="comm",Ry="rule",Fy="decl",By="@keyframes",Hy=Math.abs,zy=String.fromCharCode,Wy=Object.assign;function Uy(e){return e.trim()}function Vy(e,t,n){return e.replace(t,n)}function $y(e,t){return e.indexOf(t)}function qy(e,t){return 0|e.charCodeAt(t)}function Gy(e,t,n){return e.slice(t,n)}function Yy(e){return e.length}function Qy(e){return e.length}function Ky(e,t){return t.push(e),e}var Jy=1,Xy=1,Zy=0,ev=0,tv=0,nv="";function rv(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Jy,column:Xy,length:s,return:""}}function iv(e,t){return Wy(rv("",null,null,"",null,null,0),e,{length:-e.length},t)}function av(){return tv=ev>0?qy(nv,--ev):0,Xy--,10===tv&&(Xy=1,Jy--),tv}function sv(){return tv=ev<Zy?qy(nv,ev++):0,Xy++,10===tv&&(Xy=1,Jy++),tv}function ov(){return qy(nv,ev)}function lv(){return ev}function cv(e,t){return Gy(nv,e,t)}function dv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uv(e){return Jy=Xy=1,Zy=Yy(nv=e),ev=0,[]}function hv(e){return nv="",e}function pv(e){return Uy(cv(ev-1,gv(91===e?e+2:40===e?e+1:e)))}function mv(e){for(;(tv=ov())&&tv<33;)sv();return dv(e)>2||dv(tv)>3?"":" "}function fv(e,t){for(;--t&&sv()&&!(tv<48||tv>102||tv>57&&tv<65||tv>70&&tv<97););return cv(e,lv()+(t<6&&32==ov()&&32==sv()))}function gv(e){for(;sv();)switch(tv){case e:return ev;case 34:case 39:34!==e&&39!==e&&gv(tv);break;case 40:41===e&&gv(e);break;case 92:sv()}return ev}function xv(e,t){for(;sv()&&e+tv!==57&&(e+tv!==84||47!==ov()););return"/*"+cv(t,ev-1)+"*"+zy(47===e?e:sv())}function bv(e){for(;!dv(ov());)sv();return cv(e,ev)}function yv(e){return hv(vv("",null,null,null,[""],e=uv(e),0,[0],e))}function vv(e,t,n,r,i,a,s,o,l){for(var c=0,d=0,u=s,h=0,p=0,m=0,f=1,g=1,x=1,b=0,y="",v=i,w=a,j=r,N=y;g;)switch(m=b,b=sv()){case 40:if(108!=m&&58==qy(N,u-1)){-1!=$y(N+=Vy(pv(b),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:N+=pv(b);break;case 9:case 10:case 13:case 32:N+=mv(m);break;case 92:N+=fv(lv()-1,7);continue;case 47:switch(ov()){case 42:case 47:Ky(jv(xv(sv(),lv()),t,n),l);break;default:N+="/"}break;case 123*f:o[c++]=Yy(N)*x;case 125*f:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+d:-1==x&&(N=Vy(N,/\f/g,"")),p>0&&Yy(N)-u&&Ky(p>32?Nv(N+";",r,n,u-1):Nv(Vy(N," ","")+";",r,n,u-2),l);break;case 59:N+=";";default:if(Ky(j=wv(N,t,n,c,d,i,o,y,v=[],w=[],u),a),123===b)if(0===d)vv(N,t,j,j,v,a,u,o,w);else switch(99===h&&110===qy(N,3)?100:h){case 100:case 108:case 109:case 115:vv(e,j,j,r&&Ky(wv(e,j,j,0,0,i,o,y,i,v=[],u),w),i,w,u,o,r?v:w);break;default:vv(N,j,j,j,[""],w,0,o,w)}}c=d=p=0,f=x=1,y=N="",u=s;break;case 58:u=1+Yy(N),p=m;default:if(f<1)if(123==b)--f;else if(125==b&&0==f++&&125==av())continue;switch(N+=zy(b),b*f){case 38:x=d>0?1:(N+="\f",-1);break;case 44:o[c++]=(Yy(N)-1)*x,x=1;break;case 64:45===ov()&&(N+=pv(sv())),h=ov(),d=u=Yy(y=N+=bv(lv())),b++;break;case 45:45===m&&2==Yy(N)&&(f=0)}}return a}function wv(e,t,n,r,i,a,s,o,l,c,d){for(var u=i-1,h=0===i?a:[""],p=Qy(h),m=0,f=0,g=0;m<r;++m)for(var x=0,b=Gy(e,u+1,u=Hy(f=s[m])),y=e;x<p;++x)(y=Uy(f>0?h[x]+" "+b:Vy(b,/&\f/g,h[x])))&&(l[g++]=y);return rv(e,t,n,0===i?Ry:o,l,c,d)}function jv(e,t,n){return rv(e,t,n,Ly,zy(tv),Gy(e,2,-2),0)}function Nv(e,t,n,r){return rv(e,t,n,Fy,Gy(e,0,r),Gy(e,r+1,-1),r)}function kv(e,t){for(var n="",r=Qy(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Sv(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Fy:return e.return=e.return||e.value;case Ly:return"";case By:return e.return=e.value+"{"+kv(e.children,r)+"}";case Ry:e.value=e.props.join(",")}return Yy(n=kv(e.children,r))?e.return=e.value+"{"+n+"}":""}function Av(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Cv=function(e,t,n){for(var r=0,i=0;r=i,i=ov(),38===r&&12===i&&(t[n]=1),!dv(i);)sv();return cv(e,ev)},_v=new WeakMap,Ev=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||_v.get(n))&&!r){_v.set(e,!0);for(var i=[],a=function(e,t){return hv(function(e,t){var n=-1,r=44;do{switch(dv(r)){case 0:38===r&&12===ov()&&(t[n]=1),e[n]+=Cv(ev-1,t,n);break;case 2:e[n]+=pv(r);break;case 4:if(44===r){e[++n]=58===ov()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=zy(r)}}while(r=sv());return e}(uv(e),t))}(t,i),s=n.props,o=0,l=0;o<a.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[o]?a[o].replace(/&\f/g,s[c]):s[c]+" "+a[o]}}},Tv=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ov(e,t){switch(function(e,t){return 45^qy(e,0)?(((t<<2^qy(e,0))<<2^qy(e,1))<<2^qy(e,2))<<2^qy(e,3):0}(e,t)){case 5103:return Iy+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Iy+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Iy+e+Py+e+Dy+e+e;case 6828:case 4268:return Iy+e+Dy+e+e;case 6165:return Iy+e+Dy+"flex-"+e+e;case 5187:return Iy+e+Vy(e,/(\w+).+(:[^]+)/,Iy+"box-$1$2"+Dy+"flex-$1$2")+e;case 5443:return Iy+e+Dy+"flex-item-"+Vy(e,/flex-|-self/,"")+e;case 4675:return Iy+e+Dy+"flex-line-pack"+Vy(e,/align-content|flex-|-self/,"")+e;case 5548:return Iy+e+Dy+Vy(e,"shrink","negative")+e;case 5292:return Iy+e+Dy+Vy(e,"basis","preferred-size")+e;case 6060:return Iy+"box-"+Vy(e,"-grow","")+Iy+e+Dy+Vy(e,"grow","positive")+e;case 4554:return Iy+Vy(e,/([^-])(transform)/g,"$1"+Iy+"$2")+e;case 6187:return Vy(Vy(Vy(e,/(zoom-|grab)/,Iy+"$1"),/(image-set)/,Iy+"$1"),e,"")+e;case 5495:case 3959:return Vy(e,/(image-set\([^]*)/,Iy+"$1$`$1");case 4968:return Vy(Vy(e,/(.+:)(flex-)?(.*)/,Iy+"box-pack:$3"+Dy+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Iy+e+e;case 4095:case 3583:case 4068:case 2532:return Vy(e,/(.+)-inline(.+)/,Iy+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yy(e)-1-t>6)switch(qy(e,t+1)){case 109:if(45!==qy(e,t+4))break;case 102:return Vy(e,/(.+:)(.+)-([^]+)/,"$1"+Iy+"$2-$3$1"+Py+(108==qy(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$y(e,"stretch")?Ov(Vy(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==qy(e,t+1))break;case 6444:switch(qy(e,Yy(e)-3-(~$y(e,"!important")&&10))){case 107:return Vy(e,":",":"+Iy)+e;case 101:return Vy(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Iy+(45===qy(e,14)?"inline-":"")+"box$3$1"+Iy+"$2$3$1"+Dy+"$2box$3")+e}break;case 5936:switch(qy(e,t+11)){case 114:return Iy+e+Dy+Vy(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Iy+e+Dy+Vy(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Iy+e+Dy+Vy(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Iy+e+Dy+e+e}return e}var Mv,Dv,Pv,Iv,Lv=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Fy:e.return=Ov(e.value,e.length);break;case By:return kv([iv(e,{value:Vy(e.value,"@","@"+Iy)})],r);case Ry:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return kv([iv(e,{props:[Vy(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return kv([iv(e,{props:[Vy(t,/:(plac\w+)/,":"+Iy+"input-$1")]}),iv(e,{props:[Vy(t,/:(plac\w+)/,":-moz-$1")]}),iv(e,{props:[Vy(t,/:(plac\w+)/,Dy+"input-$1")]})],r)}return""})}}],Rv=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,i,a=e.stylisPlugins||Lv,s={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;o.push(e)});var l,c,d,u,h=[Sv,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],p=(c=[Ev,Tv].concat(a,h),d=Qy(c),function(e,t,n,r){for(var i="",a=0;a<d;a++)i+=c[a](e,t,n,r)||"";return i});i=function(e,t,n,r){l=n,kv(yv(e?e+"{"+t.styles+"}":t.styles),p),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new My({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return m.sheet.hydrate(o),m},Fv={exports:{}},Bv={};!function(){if(Iv)return Pv;Iv=1;var e=(Dv||(Dv=1,Fv.exports=function(){if(Mv)return Bv;Mv=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,f=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case a:case i:case u:return e;default:switch(e=e&&e.$$typeof){case o:case d:case m:case p:case s:return e;default:return h}}case n:return h}}}function v(e){return y(e)===c}return Bv.AsyncMode=l,Bv.ConcurrentMode=c,Bv.ContextConsumer=o,Bv.ContextProvider=s,Bv.Element=t,Bv.ForwardRef=d,Bv.Fragment=r,Bv.Lazy=m,Bv.Memo=p,Bv.Portal=n,Bv.Profiler=a,Bv.StrictMode=i,Bv.Suspense=u,Bv.isAsyncMode=function(e){return v(e)||y(e)===l},Bv.isConcurrentMode=v,Bv.isContextConsumer=function(e){return y(e)===o},Bv.isContextProvider=function(e){return y(e)===s},Bv.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Bv.isForwardRef=function(e){return y(e)===d},Bv.isFragment=function(e){return y(e)===r},Bv.isLazy=function(e){return y(e)===m},Bv.isMemo=function(e){return y(e)===p},Bv.isPortal=function(e){return y(e)===n},Bv.isProfiler=function(e){return y(e)===a},Bv.isStrictMode=function(e){return y(e)===i},Bv.isSuspense=function(e){return y(e)===u},Bv.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===a||e===i||e===u||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===o||e.$$typeof===d||e.$$typeof===g||e.$$typeof===x||e.$$typeof===b||e.$$typeof===f)},Bv.typeOf=y,Bv}()),Fv.exports),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function a(n){return e.isMemo(n)?r:i[n.$$typeof]||t}i[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[e.Memo]=r;var s=Object.defineProperty,o=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,u=Object.prototype;Pv=function e(t,r,i){if("string"!=typeof r){if(u){var h=d(r);h&&h!==u&&e(t,h,i)}var p=o(r);l&&(p=p.concat(l(r)));for(var m=a(t),f=a(r),g=0;g<p.length;++g){var x=p[g];if(!(n[x]||i&&i[x]||f&&f[x]||m&&m[x])){var b=c(r,x);try{s(t,x,b)}catch(Dw){}}}}return t}}();var Hv=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},zv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wv=/[A-Z]|^ms/g,Uv=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Vv=function(e){return 45===e.charCodeAt(1)},$v=function(e){return null!=e&&"boolean"!=typeof e},qv=Av(function(e){return Vv(e)?e:e.replace(Wv,"-$&").toLowerCase()}),Gv=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Uv,function(e,t,n){return Qv={name:t,styles:n,next:Qv},t})}return 1===zv[e]||Vv(e)||"number"!=typeof t||0===t?t:t+"px"};function Yv(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Qv={name:i.name,styles:i.styles,next:Qv},i.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)Qv={name:s.name,styles:s.styles,next:Qv},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yv(e,t,n[i])+";";else for(var a in n){var s=n[a];if("object"!=typeof s){var o=s;$v(o)&&(r+=qv(a)+":"+Gv(a,o)+";")}else if(Array.isArray(s)&&"string"==typeof s[0]&&null==t)for(var l=0;l<s.length;l++)$v(s[l])&&(r+=qv(a)+":"+Gv(a,s[l])+";");else{var c=Yv(e,t,s);switch(a){case"animation":case"animationName":r+=qv(a)+":"+c+";";break;default:r+=a+"{"+c+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var o=Qv,l=n(e);return Qv=o,Yv(e,t,l)}}return n}var Qv,Kv=/label:\s*([^\s;{]+)\s*(;|$)/g;function Jv(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Qv=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Yv(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++)i+=Yv(n,t,e[s]),r&&(i+=a[s]);Kv.lastIndex=0;for(var o,l="";null!==(o=Kv.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Qv}}var Xv=!!y.useInsertionEffect&&y.useInsertionEffect||function(e){return e()},Zv=x.createContext("undefined"!=typeof HTMLElement?Rv({key:"css"}):null);Zv.Provider;var ew,tw,nw=function(e){return x.forwardRef(function(t,n){var r=x.useContext(Zv);return e(t,r,n)})},rw=x.createContext({}),iw={}.hasOwnProperty,aw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sw=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Hv(t,n,r),Xv(function(){return function(e,t,n){Hv(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}),null},ow=nw(function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[aw],a=[r],s="";"string"==typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var o=Jv(a,void 0,x.useContext(rw));s+=t.key+"-"+o.name;var l={};for(var c in e)iw.call(e,c)&&"css"!==c&&c!==aw&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),x.createElement(x.Fragment,null,x.createElement(sw,{cache:t,serialized:o,isStringTag:"string"==typeof i}),x.createElement(i,l))}),lw=function(e,t){var n=arguments;if(null==t||!iw.call(t,"css"))return x.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=ow,i[1]=function(e,t){var n={};for(var r in t)iw.call(t,r)&&(n[r]=t[r]);return n[aw]=e,n}(e,t);for(var a=2;a<r;a++)i[a]=n[a];return x.createElement.apply(null,i)};function cw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jv(t)}ew=lw||(lw={}),tw||(tw=ew.JSX||(ew.JSX={}));var dw=x.useLayoutEffect,uw=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],hw=function(){};function pw(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function mw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&a.push("".concat(pw(e,s)));return a.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var fw=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===fy(e)&&null!==e?[e]:[];var t},gw=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,yy({},Ny(e,uw))},xw=function(e,t,n){var r=e.cx,i=e.getStyles,a=e.getClassNames,s=e.className;return{css:i(t,e),className:r(null!=n?n:{},a(t,e),s)}};function bw(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function yw(e){return bw(e)?window.pageYOffset:e.scrollTop}function vw(e,t){bw(e)?window.scrollTo(0,t):e.scrollTop=t}function ww(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hw,i=yw(e),a=t-i,s=0;!function t(){var o,l=a*((o=(o=s+=10)/n-1)*o*o+1)+i;vw(e,l),s<n?window.requestAnimationFrame(t):r(e)}()}function jw(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?vw(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&vw(e,Math.max(t.offsetTop-i,0))}function Nw(){try{return document.createEvent("TouchEvent"),!0}catch(Dw){return!1}}var kw=!1,Sw={get passive(){return kw=!0}},Aw="undefined"!=typeof window?window:{};Aw.addEventListener&&Aw.removeEventListener&&(Aw.addEventListener("p",hw,Sw),Aw.removeEventListener("p",hw,!1));var Cw=kw;function _w(e){return null!=e}function Ew(e,t,n){return e?t:n}var Tw=["children","innerProps"],Ow=["children","innerProps"];var Mw,Dw,Pw,Iw=function(e){return"auto"===e?"bottom":e},Lw=x.createContext(null),Rw=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,s=e.menuShouldScrollIntoView,o=e.theme,l=(x.useContext(Lw)||{}).setPortalPlacement,c=x.useRef(null),d=jy(x.useState(r),2),u=d[0],h=d[1],p=jy(x.useState(null),2),m=p[0],f=p[1],g=o.spacing.controlHeight;return dw(function(){var e=c.current;if(e){var t="fixed"===a,o=function(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,s=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d,u=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),p=h.bottom,m=h.height,f=h.top,g=n.offsetParent.getBoundingClientRect().top,x=s||bw(d=l)?window.innerHeight:d.clientHeight,b=yw(l),y=parseInt(getComputedStyle(n).marginBottom,10),v=parseInt(getComputedStyle(n).marginTop,10),w=g-v,j=x-f,N=w+b,k=u-b-f,S=p-x+b+y,A=b+f-v,C=160;switch(i){case"auto":case"bottom":if(j>=m)return{placement:"bottom",maxHeight:t};if(k>=m&&!s)return a&&ww(l,S,C),{placement:"bottom",maxHeight:t};if(!s&&k>=r||s&&j>=r)return a&&ww(l,S,C),{placement:"bottom",maxHeight:s?j-y:k-y};if("auto"===i||s){var _=t,E=s?w:N;return E>=r&&(_=Math.min(E-y-o,t)),{placement:"top",maxHeight:_}}if("bottom"===i)return a&&vw(l,S),{placement:"bottom",maxHeight:t};break;case"top":if(w>=m)return{placement:"top",maxHeight:t};if(N>=m&&!s)return a&&ww(l,A,C),{placement:"top",maxHeight:t};if(!s&&N>=r||s&&w>=r){var T=t;return(!s&&N>=r||s&&w>=r)&&(T=s?w-v:N-v),a&&ww(l,A,C),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:g});h(o.maxHeight),f(o.placement),null==l||l(o.placement)}},[r,i,a,s,n,l,g]),t({ref:c,placerProps:yy(yy({},e),{},{placement:m||Iw(i),maxHeight:u})})},Fw=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return yy({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Bw=Fw,Hw=Fw,zw=["size"],Ww=["innerProps","isRtl","size"],Uw={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Vw=function(e){var t=e.size,n=Ny(e,zw);return lw("svg",Ay({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Uw},n))},$w=function(e){return lw(Vw,Ay({size:20},e),lw("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},qw=function(e){return lw(Vw,Ay({size:20},e),lw("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Gw=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,a=r.colors;return yy({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i,":hover":{color:n?a.neutral80:a.neutral40}})},Yw=Gw,Qw=Gw,Kw=function(){var e=cw.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Mw||(Dw=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Pw||(Pw=Dw.slice(0)),Mw=Object.freeze(Object.defineProperties(Dw,{raw:{value:Object.freeze(Pw)}})))),Jw=function(e){var t=e.delay,n=e.offset;return lw("span",{css:cw({animation:"".concat(Kw," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Xw=["data"],Zw=["innerRef","isDisabled","isHidden","inputClassName"],ej={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},tj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":yy({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ej)},nj=function(e){return yy({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ej)},rj=function(e){var t=e.children,n=e.innerProps;return lw("div",n,t)},ij={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return lw("div",Ay({},xw(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||lw($w,null))},Control:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,a=e.innerProps,s=e.menuIsOpen;return lw("div",Ay({ref:i},xw(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":s}),a,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return lw("div",Ay({},xw(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||lw(qw,null))},DownChevron:qw,CrossIcon:$w,Group:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,a=e.Heading,s=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return lw("div",Ay({},xw(e,"group",{group:!0}),o),lw(a,Ay({},s,{selectProps:d,theme:c,getStyles:r,getClassNames:i,cx:n}),l),lw("div",null,t))},GroupHeading:function(e){var t=gw(e);t.data;var n=Ny(t,Xw);return lw("div",Ay({},xw(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return lw("div",Ay({},xw(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return lw("span",Ay({},t,xw(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=gw(e),i=r.innerRef,a=r.isDisabled,s=r.isHidden,o=r.inputClassName,l=Ny(r,Zw);return lw("div",Ay({},xw(e,"input",{"input-container":!0}),{"data-value":n||""}),lw("input",Ay({className:t({input:!0},o),ref:i,style:nj(s),disabled:a},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,a=Ny(e,Ww);return lw("div",Ay({},xw(yy(yy({},a),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),lw(Jw,{delay:0,offset:n}),lw(Jw,{delay:160,offset:!0}),lw(Jw,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return lw("div",Ay({},xw(e,"menu",{menu:!0}),{ref:n},r),t)},MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return lw("div",Ay({},xw(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,i=e.innerProps,a=e.menuPlacement,s=e.menuPosition,o=x.useRef(null),l=x.useRef(null),c=jy(x.useState(Iw(a)),2),d=c[0],u=c[1],h=x.useMemo(function(){return{setPortalPlacement:u}},[]),p=jy(x.useState(null),2),m=p[0],f=p[1],g=x.useCallback(function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===s?0:window.pageYOffset,n=e[d]+t;n===(null==m?void 0:m.offset)&&e.left===(null==m?void 0:m.rect.left)&&e.width===(null==m?void 0:m.rect.width)||f({offset:n,rect:e})}},[r,s,d,null==m?void 0:m.offset,null==m?void 0:m.rect.left,null==m?void 0:m.rect.width]);dw(function(){g()},[g]);var b=x.useCallback(function(){"function"==typeof l.current&&(l.current(),l.current=null),r&&o.current&&(l.current=rg(r,o.current,g,{elementResize:"ResizeObserver"in window}))},[r,g]);dw(function(){b()},[b]);var y=x.useCallback(function(e){o.current=e,b()},[b]);if(!t&&"fixed"!==s||!m)return null;var v=lw("div",Ay({ref:y},xw(yy(yy({},e),{},{offset:m.offset,position:s,rect:m.rect}),"menuPortal",{"menu-portal":!0}),i),n);return lw(Lw.Provider,{value:h},t?dt.createPortal(v,t):v)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=Ny(e,Ow);return lw("div",Ay({},xw(yy(yy({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=Ny(e,Tw);return lw("div",Ay({},xw(yy(yy({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,a=e.isDisabled,s=e.removeProps,o=e.selectProps,l=n.Container,c=n.Label,d=n.Remove;return lw(l,{data:r,innerProps:yy(yy({},xw(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:o},lw(c,{data:r,innerProps:yy({},xw(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),lw(d,{data:r,innerProps:yy(yy({},xw(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:o}))},MultiValueContainer:rj,MultiValueLabel:rj,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return lw("div",Ay({role:"button"},n),t||lw($w,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,a=e.innerRef,s=e.innerProps;return lw("div",Ay({},xw(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:a,"aria-disabled":n},s),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return lw("div",Ay({},xw(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return lw("div",Ay({},xw(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return lw("div",Ay({},xw(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return lw("div",Ay({},xw(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},aj=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function sj(e,t){return e===t||!(!aj(e)||!aj(t))}function oj(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!sj(e[n],t[n]))return!1;return!0}for(var lj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},cj=function(e){return lw("span",Ay({css:lj},e))},dj={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,a=void 0===i?"":i,s=e.selectValue,o=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(a," focused, ").concat(d(s,n),".");if("menu"===t&&c){var u=o?" disabled":"",h="".concat(l?" selected":"").concat(u);return"".concat(a).concat(h,", ").concat(d(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},uj=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,a=e.isFocused,s=e.selectValue,o=e.selectProps,l=e.id,c=e.isAppleDevice,d=o.ariaLiveMessages,u=o.getOptionLabel,h=o.inputValue,p=o.isMulti,m=o.isOptionDisabled,f=o.isSearchable,g=o.menuIsOpen,b=o.options,y=o.screenReaderStatus,v=o.tabSelectsValue,w=o.isLoading,j=o["aria-label"],N=o["aria-live"],k=x.useMemo(function(){return yy(yy({},dj),d||{})},[d]),S=x.useMemo(function(){var e,n="";if(t&&k.onChange){var r=t.option,i=t.options,a=t.removedValue,o=t.removedValues,l=t.value,c=a||r||(e=l,Array.isArray(e)?null:e),d=c?u(c):"",h=i||o||void 0,p=h?h.map(u):[],f=yy({isDisabled:c&&m(c,s),label:d,labels:p},t);n=k.onChange(f)}return n},[t,k,m,s,u]),A=x.useMemo(function(){var e="",t=n||r,a=!!(n&&s&&s.includes(n));if(t&&k.onFocus){var o={focused:t,label:u(t),isDisabled:m(t,s),isSelected:a,options:i,context:t===n?"menu":"value",selectValue:s,isAppleDevice:c};e=k.onFocus(o)}return e},[n,r,u,m,k,i,s,c]),C=x.useMemo(function(){var e="";if(g&&b.length&&!w&&k.onFilter){var t=y({count:i.length});e=k.onFilter({inputValue:h,resultsMessage:t})}return e},[i,h,g,k,b,y,w]),_="initial-input-focus"===(null==t?void 0:t.action),E=x.useMemo(function(){var e="";if(k.guidance){var t=r?"value":g?"menu":"input";e=k.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,s),isMulti:p,isSearchable:f,tabSelectsValue:v,isInitialFocus:_})}return e},[j,n,r,p,m,f,g,k,s,v,_]),T=lw(x.Fragment,null,lw("span",{id:"aria-selection"},S),lw("span",{id:"aria-focused"},A),lw("span",{id:"aria-results"},C),lw("span",{id:"aria-guidance"},E));return lw(x.Fragment,null,lw(cj,{id:l},_&&T),lw(cj,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!_&&T))},hj=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],pj=new RegExp("["+hj.map(function(e){return e.letters}).join("")+"]","g"),mj={},fj=0;fj<hj.length;fj++)for(var gj=hj[fj],xj=0;xj<gj.letters.length;xj++)mj[gj.letters[xj]]=gj.base;var bj=function(e){return e.replace(pj,function(e){return mj[e]})},yj=function(e,t){void 0===t&&(t=oj);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}(bj),vj=function(e){return e.replace(/^\s+|\s+$/g,"")},wj=function(e){return"".concat(e.label," ").concat(e.value)},jj=["innerRef"];function Nj(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.entries(e).filter(function(e){var t=jy(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=jy(t,2),r=n[0],i=n[1];return e[r]=i,e},{})}(Ny(e,jj),"onExited","in","enter","exit","appear");return lw("input",Ay({ref:t},n,{css:cw({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var kj=["boxSizing","height","overflow","paddingRight","position"],Sj={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Aj(e){e.cancelable&&e.preventDefault()}function Cj(e){e.stopPropagation()}function _j(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Ej(){return"ontouchstart"in window||navigator.maxTouchPoints}var Tj=!("undefined"==typeof window||!window.document||!window.document.createElement),Oj=0,Mj={capture:!1,passive:!1},Dj=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Pj={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ij(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,s=x.useRef(!1),o=x.useRef(!1),l=x.useRef(0),c=x.useRef(null),d=x.useCallback(function(e,t){if(null!==c.current){var l=c.current,d=l.scrollTop,u=l.scrollHeight,h=l.clientHeight,p=c.current,m=t>0,f=u-h-d,g=!1;f>t&&s.current&&(r&&r(e),s.current=!1),m&&o.current&&(a&&a(e),o.current=!1),m&&t>f?(n&&!s.current&&n(e),p.scrollTop=u,g=!0,s.current=!0):!m&&-t>d&&(i&&!o.current&&i(e),p.scrollTop=0,g=!0,o.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[n,r,i,a]),u=x.useCallback(function(e){d(e,e.deltaY)},[d]),h=x.useCallback(function(e){l.current=e.changedTouches[0].clientY},[]),p=x.useCallback(function(e){var t=l.current-e.changedTouches[0].clientY;d(e,t)},[d]),m=x.useCallback(function(e){if(e){var t=!!Cw&&{passive:!1};e.addEventListener("wheel",u,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",p,t)}},[p,h,u]),f=x.useCallback(function(e){e&&(e.removeEventListener("wheel",u,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",p,!1))},[p,h,u]);return x.useEffect(function(){if(t){var e=c.current;return m(e),function(){f(e)}}},[t,m,f]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=x.useRef({}),a=x.useRef(null),s=x.useCallback(function(e){if(Tj){var t=document.body,n=t&&t.style;if(r&&kj.forEach(function(e){var t=n&&n[e];i.current[e]=t}),r&&Oj<1){var a=parseInt(i.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,o=window.innerWidth-s+a||0;Object.keys(Sj).forEach(function(e){var t=Sj[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&Ej()&&(t.addEventListener("touchmove",Aj,Mj),e&&(e.addEventListener("touchstart",_j,Mj),e.addEventListener("touchmove",Cj,Mj))),Oj+=1}},[r]),o=x.useCallback(function(e){if(Tj){var t=document.body,n=t&&t.style;Oj=Math.max(Oj-1,0),r&&Oj<1&&kj.forEach(function(e){var t=i.current[e];n&&(n[e]=t)}),t&&Ej()&&(t.removeEventListener("touchmove",Aj,Mj),e&&(e.removeEventListener("touchstart",_j,Mj),e.removeEventListener("touchmove",Cj,Mj)))}},[r]);return x.useEffect(function(){if(t){var e=a.current;return s(e),function(){o(e)}}},[t,s,o]),function(e){a.current=e}}({isEnabled:n});return lw(x.Fragment,null,n&&lw("div",{onClick:Dj,css:Pj}),t(function(e){i(e),a(e)}))}var Lj={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Rj=function(e){var t=e.name,n=e.onFocus;return lw("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Lj,value:"",onChange:function(){}})};function Fj(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Bj(){return Fj(/^Mac/i)}var Hj=function(e){return e.label},zj=function(e){return e.value},Wj={clearIndicator:Qw,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,a=i.colors,s=i.borderRadius;return yy({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:r?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:r?a.primary:a.neutral30}})},dropdownIndicator:Yw,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return yy({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,a=r.colors;return yy({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,a=i.spacing,s=i.colors;return yy(yy({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},tj),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,a=i.colors,s=i.spacing.baseUnit;return yy({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*s})},loadingMessage:Hw,menu:function(e,t){var n,r=e.placement,i=e.theme,a=i.borderRadius,s=i.spacing,o=i.colors;return yy((xy(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),xy(n,"position","absolute"),xy(n,"width","100%"),xy(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return yy({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,a=n.colors;return yy({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,a=e.cropWithEllipsis;return yy({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,a=n.colors,s=e.isFocused;return yy({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:Bw,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,a=e.theme,s=a.spacing,o=a.colors;return yy({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?o.primary:r?o.primary25:"transparent",color:n?o.neutral20:i?o.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return yy({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,a=r.colors;return yy({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return yy({alignItems:"center",display:r&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},Uj={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Vj={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Nw(),captureMenuScroll:!Nw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=yy({ignoreCase:!0,ignoreAccents:!0,stringify:wj,trim:!0,matchFrom:"any"},undefined),r=n.ignoreCase,i=n.ignoreAccents,a=n.stringify,s=n.trim,o=n.matchFrom,l=s?vj(t):t,c=s?vj(a(e)):a(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=yj(l),c=bj(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:Hj,getOptionValue:zj,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Dw){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function $j(e,t,n,r){return{type:"option",data:t,isDisabled:Zj(e,t,n),isSelected:eN(e,t,n),label:Jj(e,t),value:Xj(e,t),index:r}}function qj(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(n,r){return $j(e,n,t,r)}).filter(function(t){return Qj(e,t)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=$j(e,n,t,r);return Qj(e,a)?a:void 0}).filter(_w)}function Gj(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,Oy(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function Yj(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,Oy(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function Qj(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,a=t.isSelected,s=t.label,o=t.value;return(!nN(e)||!a)&&tN(e,{label:s,value:o,data:i},r)}var Kj=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},Jj=function(e,t){return e.getOptionLabel(t)},Xj=function(e,t){return e.getOptionValue(t)};function Zj(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function eN(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Xj(e,t);return n.some(function(t){return Xj(e,t)===r})}function tN(e,t,n){return!e.filterOption||e.filterOption(t,n)}var nN=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},rN=1,iN=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}(t,x.Component);var e=function(e){var t=Ty();return function(){var n,r=Ey(e);if(t){var i=Ey(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==fy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}(t);function t(n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this,n)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,a=n.name;t.name=a,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,a=i.closeMenuOnSelect,s=i.isMulti,o=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:o}),a&&(r.setState({inputIsHiddenAfterUpdate:!s}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,a=t.name,s=r.state.selectValue,o=i&&r.isOptionSelected(e,s),l=r.isOptionDisabled(e,s);if(o){var c=r.getOptionValue(e);r.setValue(s.filter(function(e){return r.getOptionValue(e)!==c}),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:a});i?r.setValue([].concat(Oy(s),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),a=n.filter(function(e){return r.getOptionValue(e)!==i}),s=Ew(t,a,a[0]||null);r.onChange(s,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(Ew(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),a=Ew(e,i,i[0]||null);n&&r.onChange(a,{action:"pop-value",removedValue:n})},r.getFocusedOptionId=function(e){return Kj(r.state.focusableOptionsWithIds,e)},r.getFocusableOptionsWithIds=function(){return Yj(qj(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mw.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Jj(r.props,e)},r.getOptionValue=function(e){return Xj(r.props,e)},r.getStyles=function(e,t){var n=r.props.unstyled,i=Wj[e](t,n);i.boxSizing="border-box";var a=r.props.styles[e];return a?a(i,t):i},r.getClassNames=function(e,t){var n,i;return null===(n=(i=r.props.classNames)[e])||void 0===n?void 0:n.call(i,t)},r.getElementId=function(e){return"".concat(r.state.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,yy(yy({},ij),e.components);var e},r.buildCategorizedOptions=function(){return qj(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Gj(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:yy({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&bw(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),a=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||a>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){if(!r.blockOptionHover&&r.state.focusedOption!==e){var t=r.getFocusableOptions().indexOf(e);r.setState({focusedOption:e,focusedOptionId:t>-1?r.getFocusedOptionId(e):null})}},r.shouldHideSelectedOptions=function(){return nN(r.props)},r.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),r.focus()},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,a=t.escapeClearsValue,s=t.inputValue,o=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,h=t.openMenuOnFocus,p=r.state,m=p.focusedOption,f=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||s)return;r.focusValue("previous");break;case"ArrowRight":if(!n||s)return;r.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(f)r.removeValue(f);else{if(!i)return;n?r.popValue():o&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!u||!m||h&&r.isOptionSelected(m,g))return;r.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(c){if(!m)return;if(r.isComposing)return;r.selectOption(m);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:s}),r.onMenuClose()):o&&a&&r.clearValue();break;case" ":if(s)return;if(!c){r.openMenu("first");break}if(!m)return;r.selectOption(m);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++rN),r.state.selectValue=fw(n.value),n.menuIsOpen&&r.state.selectValue.length){var i=r.getFocusableOptionsWithIds(),a=r.buildFocusableOptions(),s=a.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=i,r.state.focusedOption=a[s],r.state.focusedOptionId=Kj(i,a[s])}return r}return function(e,t,n){t&&Cy(e.prototype,t),n&&Cy(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jw(this.menuListRef,this.focusedOptionRef),(Bj()||Fj(/^iPhone/i)||Fj(/^iPad/i)||Bj()&&navigator.maxTouchPoints>1)&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,a=this.buildFocusableOptions(),s="first"===e?0:a.length-1;if(!this.props.isMulti){var o=a.indexOf(r[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[s],focusedOptionId:this.getFocusedOptionId(a[s])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var a=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===i?0:-1===i?a:i-1;break;case"next":i>-1&&i<a&&(s=i+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,a=r.indexOf(n);n||(a=-1),"up"===e?i=a>0?a-1:r.length-1:"down"===e?i=(a+1)%r.length:"pageup"===e?(i=a-t)<0&&(i=0):"pagedown"===e?(i=a+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Uj):yy(yy({},Uj),this.props.theme):Uj}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,a=this.selectOption,s=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,d=o.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:d,selectOption:a,selectProps:o,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Zj(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return eN(this.props,e,t)}},{key:"filterOption",value:function(e,t){return tN(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,a=e.tabIndex,s=e.form,o=e.menuIsOpen,l=e.required,c=this.getComponents().Input,d=this.state,u=d.inputIsHidden,h=d.ariaSelection,p=this.commonProps,m=r||this.getElementId("input"),f=yy(yy(yy({"aria-autocomplete":"list","aria-expanded":o,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},o&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?x.createElement(c,Ay({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:i},f)):x.createElement(Nj,Ay({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:hw,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:s,value:""},f))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,a=t.MultiValueRemove,s=t.SingleValue,o=t.Placeholder,l=this.commonProps,c=this.props,d=c.controlShouldRenderValue,u=c.isDisabled,h=c.isMulti,p=c.inputValue,m=c.placeholder,f=this.state,g=f.selectValue,b=f.focusedValue,y=f.isFocused;if(!this.hasValue()||!d)return p?null:x.createElement(o,Ay({},l,{key:"placeholder",isDisabled:u,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return g.map(function(t,s){var o=t===b,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return x.createElement(n,Ay({},l,{components:{Container:r,Label:i,Remove:a},isFocused:o,isDisabled:u,key:c,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(p)return null;var v=g[0];return x.createElement(s,Ay({},l,{data:v,isDisabled:u}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(e,Ay({},t,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,a=this.state.isFocused;return e&&i?x.createElement(e,Ay({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,a=this.state.isFocused;return x.createElement(n,Ay({},r,{isDisabled:i,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(e,Ay({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,a=t.MenuList,s=t.MenuPortal,o=t.LoadingMessage,l=t.NoOptionsMessage,c=t.Option,d=this.commonProps,u=this.state.focusedOption,h=this.props,p=h.captureMenuScroll,m=h.inputValue,f=h.isLoading,g=h.loadingMessage,b=h.minMenuHeight,y=h.maxMenuHeight,v=h.menuIsOpen,w=h.menuPlacement,j=h.menuPosition,N=h.menuPortalTarget,k=h.menuShouldBlockScroll,S=h.menuShouldScrollIntoView,A=h.noOptionsMessage,C=h.onMenuScrollToTop,_=h.onMenuScrollToBottom;if(!v)return null;var E,T=function(t,n){var r=t.type,i=t.data,a=t.isDisabled,s=t.isSelected,o=t.label,l=t.value,h=u===i,p=a?void 0:function(){return e.onOptionHover(i)},m=a?void 0:function(){return e.selectOption(i)},f="".concat(e.getElementId("option"),"-").concat(n),g={id:f,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.state.isAppleDevice?void 0:s};return x.createElement(c,Ay({},d,{innerProps:g,data:i,isDisabled:a,isSelected:s,key:f,label:o,type:r,value:l,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())E=this.getCategorizedOptions().map(function(t){if("group"===t.type){var i=t.data,a=t.options,s=t.index,o="".concat(e.getElementId("group"),"-").concat(s),l="".concat(o,"-heading");return x.createElement(n,Ay({},d,{key:o,data:i,options:a,Heading:r,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return T(e,"".concat(s,"-").concat(e.index))}))}if("option"===t.type)return T(t,"".concat(t.index))});else if(f){var O=g({inputValue:m});if(null===O)return null;E=x.createElement(o,d,O)}else{var M=A({inputValue:m});if(null===M)return null;E=x.createElement(l,d,M)}var D={minMenuHeight:b,maxMenuHeight:y,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:S},P=x.createElement(Rw,Ay({},d,D),function(t){var n=t.ref,r=t.placerProps,s=r.placement,o=r.maxHeight;return x.createElement(i,Ay({},d,D,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:f,placement:s}),x.createElement(Ij,{captureEnabled:p,onTopArrive:C,onBottomArrive:_,lockEnabled:k},function(t){return x.createElement(a,Ay({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:f,maxHeight:o,focusedOption:u}),E)}))});return N||"fixed"===j?x.createElement(s,Ay({},d,{appendTo:N,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),P):P}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,a=t.name,s=t.required,o=this.state.selectValue;if(s&&!this.hasValue()&&!r)return x.createElement(Rj,{name:a,onFocus:this.onValueInputFocus});if(a&&!r){if(i){if(n){var l=o.map(function(t){return e.getOptionValue(t)}).join(n);return x.createElement("input",{name:a,type:"hidden",value:l})}var c=o.length>0?o.map(function(t,n){return x.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})}):x.createElement("input",{name:a,type:"hidden",value:""});return x.createElement("div",null,c)}var d=o[0]?this.getOptionValue(o[0]):"";return x.createElement("input",{name:a,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,a=t.isFocused,s=t.selectValue,o=this.getFocusableOptions();return x.createElement(uj,Ay({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:a,selectValue:s,focusableOptions:o,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,a=this.props,s=a.className,o=a.id,l=a.isDisabled,c=a.menuIsOpen,d=this.state.isFocused,u=this.commonProps=this.getCommonProps();return x.createElement(r,Ay({},u,{className:s,innerProps:{id:o,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:d}),this.renderLiveRegion(),x.createElement(t,Ay({},u,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:d,menuIsOpen:c}),x.createElement(i,Ay({},u,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(n,Ay({},u,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,s=t.isFocused,o=t.prevWasFocused,l=t.instancePrefix,c=e.options,d=e.value,u=e.menuIsOpen,h=e.inputValue,p=e.isMulti,m=fw(d),f={};if(n&&(d!==n.value||c!==n.options||u!==n.menuIsOpen||h!==n.inputValue)){var g=u?function(e,t){return Gj(qj(e,t))}(e,m):[],x=u?Yj(qj(e,m),"".concat(l,"-option")):[],b=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,m):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);f={selectValue:m,focusedOption:y,focusedOptionId:Kj(x,y),focusableOptionsWithIds:x,focusedValue:b,clearFocusValueOnUpdate:!1}}var v=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},w=a,j=s&&o;return s&&!j&&(w={value:Ew(p,m,m[0]||null),options:m,action:"initial-input-focus"},j=!o),"initial-input-focus"===(null==a?void 0:a.action)&&(w=null),yy(yy(yy({},f),v),{},{prevProps:e,ariaSelection:w,prevWasFocused:j})}}]),t}();iN.defaultProps=Vj;var aN=x.forwardRef(function(e,t){var n=Sy(e);return x.createElement(iN,Ay({ref:t},n))});function sN(e){this.content=e}function oN(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),a=t.child(r);if(i!=a){if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let e=0;i.text[e]==a.text[e];e++)n++;return n}if(i.content.size||a.content.size){let e=oN(i.content,a.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function lN(e,t,n,r){for(let i=e.childCount,a=t.childCount;;){if(0==i||0==a)return i==a?null:{a:n,b:r};let s=e.child(--i),o=t.child(--a),l=s.nodeSize;if(s!=o){if(!s.sameMarkup(o))return{a:n,b:r};if(s.isText&&s.text!=o.text){let e=0,t=Math.min(s.text.length,o.text.length);for(;e<t&&s.text[s.text.length-e-1]==o.text[o.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||o.content.size){let e=lN(s.content,o.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}sN.prototype={constructor:sN,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),a=r.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new sN(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new sN(n)},addToStart:function(e,t){return new sN([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new sN(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),a=r.find(e);return i.splice(-1==a?i.length:a,0,t,n),new sN(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=sN.from(e)).size?new sN(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=sN.from(e)).size?new sN(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=sN.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},sN.from=function(e){if(e instanceof sN)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new sN(t)};class cN{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,i){for(let a=0,s=0;s<t;a++){let o=this.content[a],l=s+o.nodeSize;if(l>e&&!1!==n(o,r+s,i||null,a)&&o.content.size){let i=s+1;o.nodesBetween(Math.max(0,e-i),Math.min(o.content.size,t-i),n,r+i)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",a=!0;return this.nodesBetween(e,t,(s,o)=>{let l=s.isText?s.text.slice(Math.max(e,o)-o,t-o):s.isLeaf?r?"function"==typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(a?a=!1:i+=n),i+=l},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new cN(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,a=0;a<t;i++){let s=this.content[i],o=a+s.nodeSize;o>e&&((a<e||o>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),r+=s.nodeSize),a=o}return new cN(n,r)}cutByIndex(e,t){return e==t?cN.empty:0==e&&t==this.content.length?this:new cN(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new cN(r,i)}addToStart(e){return new cN([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new cN(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return oN(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return lN(this,e,t,n)}findIndex(e){if(0==e)return uN(0,e);if(e==this.size)return uN(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?uN(t+1,r):uN(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return cN.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new cN(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return cN.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new cN(t||e,n)}static from(e){if(!e)return cN.empty;if(e instanceof cN)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new cN([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}cN.empty=new cN([],0);const dN={index:0,offset:0};function uN(e,t){return dN.index=e,dN.offset=t,dN}function hN(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!hN(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!hN(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let pN=class e{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hN(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];let n=t.slice();return n.sort((e,t)=>e.type.rank-t.type.rank),n}};pN.none=[];class mN extends Error{}class fN{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=xN(this.content,e+this.openStart,t);return n&&new fN(n,this.openStart,this.openEnd)}removeBetween(e,t){return new fN(gN(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return fN.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new fN(cN.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new fN(e,n,r)}}function gN(e,t,n){let{index:r,offset:i}=e.findIndex(t),a=e.maybeChild(r),{index:s,offset:o}=e.findIndex(n);if(i==t||a.isText){if(o!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(gN(a.content,t-i-1,n-i-1)))}function xN(e,t,n,r){let{index:i,offset:a}=e.findIndex(t),s=e.maybeChild(i);if(a==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let o=xN(s.content,t-a-1,n,s);return o&&e.replaceChild(i,s.copy(o))}function bN(e,t,n){if(n.openStart>e.depth)throw new mN("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new mN("Inconsistent open depths");return yN(e,t,n,0)}function yN(e,t,n,r){let i=e.index(r),a=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=yN(e,t,n,r+1);return a.copy(a.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)r=t.node(i).copy(cN.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return kN(a,SN(e,i,s,t,r))}{let r=e.parent,i=r.content;return kN(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return kN(a,AN(e,t,r))}function vN(e,t){if(!t.type.compatibleContent(e.type))throw new mN("Cannot join "+t.type.name+" onto "+e.type.name)}function wN(e,t,n){let r=e.node(n);return vN(r,t.node(n)),r}function jN(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function NN(e,t,n,r){let i=(t||e).node(n),a=0,s=t?t.index(n):i.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(jN(e.nodeAfter,r),a++));for(let o=a;o<s;o++)jN(i.child(o),r);t&&t.depth==n&&t.textOffset&&jN(t.nodeBefore,r)}function kN(e,t){return e.type.checkContent(t),e.copy(t)}function SN(e,t,n,r,i){let a=e.depth>i&&wN(e,t,i+1),s=r.depth>i&&wN(n,r,i+1),o=[];return NN(null,e,i,o),a&&s&&t.index(i)==n.index(i)?(vN(a,s),jN(kN(a,SN(e,t,n,r,i+1)),o)):(a&&jN(kN(a,AN(e,t,i+1)),o),NN(t,n,i,o),s&&jN(kN(s,AN(n,r,i+1)),o)),NN(r,null,i,o),new cN(o)}function AN(e,t,n){let r=[];return NN(null,e,n,r),e.depth>n&&jN(kN(wN(e,t,n+1),AN(e,t,n+1)),r),NN(t,null,n,r),new cN(r)}fN.empty=new fN(cN.empty,0,0);class CN{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let i=0;i<e;i++)r+=n.child(i).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return pN.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new ON(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let a=e;;){let{index:e,offset:t}=a.content.findIndex(i),s=i-t;if(n.push(a,e,r+t),!s)break;if(a=a.child(e),a.isText)break;i=s-1,r+=t+1}return new CN(t,n,i)}static resolveCached(e,t){let n=TN.get(e);if(n)for(let i=0;i<n.elts.length;i++){let e=n.elts[i];if(e.pos==t)return e}else TN.set(e,n=new _N);let r=n.elts[n.i]=CN.resolve(e,t);return n.i=(n.i+1)%EN,r}}class _N{constructor(){this.elts=[],this.i=0}}const EN=12,TN=new WeakMap;class ON{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const MN=Object.create(null);let DN=class e{constructor(e,t,n,r=pN.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||cN.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&hN(this.attrs,t||e.defaultAttrs||MN)&&pN.sameSet(this.marks,n||pN.none)}copy(t=null){return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return fN.empty;let r=this.resolve(e),i=this.resolve(t),a=n?0:r.sharedDepth(t),s=r.start(a),o=r.node(a).content.cut(r.pos-s,i.pos-s);return new fN(o,r.depth-a,i.depth-a)}replace(e,t,n){return bN(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return CN.resolveCached(this,e)}resolveNoCache(e){return CN.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),IN(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=cN.empty,r=0,i=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,r,i),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let o=r;o<i;o++)if(!this.type.allowsMarks(n.child(o).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),a=i&&i.matchFragment(this.content,t);return!!a&&a.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=pN.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!pN.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=cN.fromJSON(e,t.content),i=e.nodeType(t.type).create(t.attrs,r,n);return i.type.checkAttrs(i.attrs),i}};DN.prototype.text=void 0;class PN extends DN{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):IN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new PN(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new PN(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function IN(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class LN{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new RN(e,t);if(null==n.next)return LN.empty;let r=FN(n);n.next&&n.err("Unexpected trailing text");let i=function(e){let t=Object.create(null);return function n(r){let i=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);VN(e,n).forEach(e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let a=t[r.join(",")]=new LN(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(UN);a.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return a}(VN(e,0))}(function(e){let t=[[]];return i(function e(t,a){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,a)),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(a,s),i(e(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return i(e(t.expr,a),s),i(e(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(a)].concat(e(t.expr,a));if("range"==t.type){let s=a;for(let r=0;r<t.min;r++){let r=n();i(e(t.expr,s),r),s=r}if(-1==t.max)i(e(t.expr,s),s);else for(let a=t.min;a<t.max;a++){let a=n();r(s,a),i(e(t.expr,s),a),s=a}return[r(s)]}if("name"==t.type)return[r(a,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=e(t.exprs[r],a);if(r==t.exprs.length-1)return s;i(s,a=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach(e=>e.to=t)}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,a=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];a.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function i(a,s){let o=a.matchFragment(e,n);if(o&&(!t||o.validEnd))return cN.from(s.map(e=>e.createAndFill()));for(let e=0;e<a.next.length;e++){let{type:t,next:n}=a.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:a,next:s}=i.next[e];a.isLeaf||a.hasRequiredAttrs()||a.name in t||r.type&&!s.validEnd||(n.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let i=0;i<t.next.length;i++)r+=(i?", ":"")+t.next[i].type.name+"->"+e.indexOf(t.next[i].next);return r}).join("\n")}}LN.empty=new LN(!0);class RN{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function FN(e){let t=[];do{t.push(BN(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function BN(e){let t=[];do{t.push(HN(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function HN(e){let t=function(e){if(e.eat("(")){let t=FN(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let a in n){let e=n[a];e.isInGroup(t)&&i.push(e)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=WN(e,t)}return t}function zN(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function WN(e,t){let n=zN(e),r=n;return e.eat(",")&&(r="}"!=e.next?zN(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function UN(e,t){return t-e}function VN(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:a}=i[e];r||-1!=n.indexOf(a)||t(a)}}(t),n.sort(UN)}function $N(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function qN(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function GN(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let n=e[i];n.validate&&n.validate(t[i])}}function YN(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new KN(e,r,t[r]);return n}let QN=class e{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=YN(e,n.attrs),this.defaultAttrs=$N(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==LN.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qN(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new DN(this,this.computeAttrs(e),cN.from(t),pN.setFrom(n))}createChecked(e=null,t,n){return t=cN.from(t),this.checkContent(t),new DN(this,this.computeAttrs(e),t,pN.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=cN.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(cN.empty,!0);return i?new DN(this,e,t.append(i),pN.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){GN(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:pN.none:e}static compile(t,n){let r=Object.create(null);t.forEach((t,i)=>r[t]=new e(t,n,i));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let e in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class KN{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let i=null===n?"null":typeof n;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class JN{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=YN(e,r.attrs),this.excluded=null;let i=$N(this.attrs);this.instance=i?new pN(this,i):null}create(e=null){return!e&&this.instance?this.instance:new pN(this,qN(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,i)=>n[e]=new JN(e,r++,t,i)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){GN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class XN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=sN.from(e.nodes),t.marks=sN.from(e.marks||{}),this.nodes=QN.compile(this.spec.nodes,this),this.marks=JN.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",i=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=LN.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==i?null:i?ZN(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:ZN(this,t.split(" "))}this.nodeFromJSON=e=>DN.fromJSON(this,e),this.markFromJSON=e=>pN.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof QN))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new PN(n,n.defaultAttrs,e,pN.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function ZN(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],a=e.marks[i],s=a;if(a)n.push(a);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class ek{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new sk(this,t,!1);return n.addAll(e,pN.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new sk(this,t,!0);return n.addAll(e,pN.none,t.from,t.to),fN.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ok(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],a=r.style;if(!(0!=a.indexOf(e)||r.context&&!n.matchesContext(r.context)||a.length>e.length&&(61!=a.charCodeAt(e.length)||a.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=lk(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=lk(e)),e.node||e.ignore||e.mark||(e.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ek(e,ek.schemaRules(e)))}}const tk={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nk={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rk={ol:!0,ul:!0};function ik(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class ak{constructor(e,t,n,r,i,a){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=a,this.content=[],this.activeMarks=pN.none,this.match=i||(4&a?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(cN.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=cN.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(cN.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!tk.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class sk{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,i=t.topNode,a=ik(null,t.preserveWhitespace,0)|(n?4:0);r=i?new ak(i.type,i.attrs,pN.none,!0,t.topMatch||i.type.contentMatch,a):new ak(n?null:e.schema.topNodeType,null,pN.none,!0,null,a),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,i=2&r.options?"full":this.localPreserveWS||(1&r.options)>0;if("full"===i||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)n="full"!==i?n.replace(/\r?\n|\r/g," "):n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],i=e.previousSibling;(!t||i&&"BR"==i.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,i=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a,s=e.nodeName.toLowerCase();rk.hasOwnProperty(s)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&rk.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(o?o.ignore:nk.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let n,r=this.needsBlock;if(tk.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),n=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let a=o&&o.skip?t:this.readStyles(e,t);a&&this.addAll(e,a),n&&this.sync(i),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,o,n,!1===o.consuming?a:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let e=this.parser.matchedStyles[r],i=n.getPropertyValue(e);if(i)for(let n;;){let r=this.parser.matchStyle(e,i,this,n);if(!r)break;if(r.ignore)return null;if(t=r.clearMark?t.filter(e=>!r.clearMark(e)):t.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return t}addElementByRule(e,t,n,r){let i,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(a,t.attrs||null,n,t.preserveWhitespace);e&&(i=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}i&&this.sync(s)&&this.open--}addAll(e,t,n,r){let i=n||0;for(let a=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];a!=s;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,t);this.findAtPoint(e,i)}findPlace(e,t,n){let r,i;for(let a=this.open,s=0;a>=0;a--){let t=this.nodes[a],o=t.findWrapping(e);if(o&&(!r||r.length>o.length+s)&&(r=o,i=t,!o.length))break;if(t.solid){if(n)break;s+=2}}if(!r)return null;this.sync(i);for(let a=0;a<r.length;a++)t=this.enterInner(r[a],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=pN.none;for(let i of r.concat(e.marks))(t.type?t.type.allowsMarkType(i.type):ck(i.type,e.type))&&(n=i.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let i=this.findPlace(e.create(t),n,!1);return i&&(i=this.enterInner(e,t,n,!0,r)),i}enterInner(e,t,n,r=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let s=ik(e,i,a.options);4&a.options&&0==a.content.length&&(s|=4);let o=pN.none;return n=n.filter(t=>!(a.type?a.type.allowsMarkType(t.type):ck(t.type,e))||(o=t.addToSet(o),!1)),this.nodes.push(new ak(e,t,o,r,null,s)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),a=(e,s)=>{for(;e>=0;e--){let o=t[e];if(""==o){if(e==t.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!e||e.name!=o&&!e.isInGroup(o))return!1;s--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function ok(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function lk(e){let t={};for(let n in e)t[n]=e[n];return t}function ck(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let a=[],s=e=>{a.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(a.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class dk{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=hk(t).createDocumentFragment());let r=n,i=[];return e.forEach(e=>{if(i.length||e.marks.length){let n=0,a=0;for(;n<i.length&&a<e.marks.length;){let t=e.marks[a];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,a++}else a++}for(;n<i.length;)r=i.pop()[1];for(;a<e.marks.length;){let n=e.marks[a++],s=this.serializeMark(n,e.isInline,t);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=mk(hk(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&mk(hk(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return mk(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dk(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=uk(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return uk(e.marks)}}function uk(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function hk(e){return e.document||window.document}const pk=new WeakMap;function mk(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let i,a=t[0];if("string"!=typeof a)throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=function(e){let t=pk.get(e);return void 0===t&&pk.set(e,t=function(e){let t=null;return function e(n){if(n&&"object"==typeof n)if(Array.isArray(n))if("string"==typeof n[0])t||(t=[]),t.push(n);else for(let t=0;t<n.length;t++)e(n[t]);else for(let t in n)e(n[t])}(e),t}(e)),t}(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,o=a.indexOf(" ");o>0&&(n=a.slice(0,o),a=a.slice(o+1));let l=n?e.createElementNS(n,a):e.createElement(a),c=t[1],d=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let u=d;u<t.length;u++){let i=t[u];if(0===i){if(u<t.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:a}=mk(e,i,n,r);if(l.appendChild(t),a){if(s)throw new RangeError("Multiple content holes");s=a}}}return{dom:l,contentDOM:s}}const fk=Math.pow(2,16);function gk(e,t){return e+t*fk}function xk(e){return 65535&e}class bk{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class yk{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&yk.empty)return yk.empty}recover(e){let t=0,n=xk(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/fk}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let o=this.ranges[s]-(this.inverted?r:0);if(o>e)break;let l=this.ranges[s+i],c=this.ranges[s+a],d=o+l;if(e<=d){let i=o+r+((l?e==o?-1:e==d?1:t:t)<0?0:c);if(n)return i;let a=e==(t<0?o:d)?null:gk(s/3,e-o),u=e==o?2:e==d?1:4;return(t<0?e!=o:e!=d)&&(u|=8),new bk(i,u,a)}r+=c-l}return n?e+r:new bk(e+r,0,null)}touches(e,t){let n=0,r=xk(t),i=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let o=this.ranges[s+i];if(e<=t+o&&s==3*r)return!0;n+=this.ranges[s+a]-o}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let a=this.ranges[r],s=a-(this.inverted?i:0),o=a+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,o,o+c),i+=c-l}}invert(){return new yk(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?yk.empty:new yk(e<0?[0,-e,0]:[0,0,e])}}yk.empty=new yk([]);class vk{constructor(e,t,n=0,r=(e?e.length:0)){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new vk(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new vk;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this._maps[i].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(i);if(null!=t&&t>i&&t<this.to){i=t,e=this._maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new bk(e,r,null)}}const wk=Object.create(null);let jk=class{getMap(){return yk.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=wk[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in wk)throw new RangeError("Duplicate use of step JSON ID "+e);return wk[e]=t,t.prototype.jsonID=e,t}};class Nk{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Nk(e,null)}static fail(e){return new Nk(null,e)}static fromReplace(e,t,n,r){try{return Nk.ok(e.replace(t,n,r))}catch(Dw){if(Dw instanceof mN)return Nk.fail(Dw.message);throw Dw}}}function kk(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let a=e.child(i);a.content.size&&(a=a.copy(kk(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return cN.fromArray(r)}class Sk extends jk{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new fN(kk(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return Nk.fromReplace(e,this.from,this.to,i)}invert(){return new Ak(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Sk(t.pos,n.pos,this.mark)}merge(e){return e instanceof Sk&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sk(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Sk(t.from,t.to,e.markFromJSON(t.mark))}}jk.jsonID("addMark",Sk);class Ak extends jk{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new fN(kk(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return Nk.fromReplace(e,this.from,this.to,n)}invert(){return new Sk(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Ak(t.pos,n.pos,this.mark)}merge(e){return e instanceof Ak&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ak(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ak(t.from,t.to,e.markFromJSON(t.mark))}}jk.jsonID("removeMark",Ak);class Ck extends jk{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Nk.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Nk.fromReplace(e,this.pos,this.pos+1,new fN(cN.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Ck(this.pos,t.marks[n]);return new Ck(this.pos,this.mark)}}return new _k(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ck(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ck(t.pos,e.markFromJSON(t.mark))}}jk.jsonID("addNodeMark",Ck);class _k extends jk{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Nk.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Nk.fromReplace(e,this.pos,this.pos+1,new fN(cN.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Ck(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _k(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _k(t.pos,e.markFromJSON(t.mark))}}jk.jsonID("removeNodeMark",_k);class Ek extends jk{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Ok(e,this.from,this.to)?Nk.fail("Structure replace would overwrite content"):Nk.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new yk([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ek(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Ek(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ek)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?fN.empty:new fN(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ek(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?fN.empty:new fN(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ek(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ek(t.from,t.to,fN.fromJSON(e,t.slice),!!t.structure)}}jk.jsonID("replace",Ek);class Tk extends jk{constructor(e,t,n,r,i,a,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=a,this.structure=s}apply(e){if(this.structure&&(Ok(e,this.from,this.gapFrom)||Ok(e,this.gapTo,this.to)))return Nk.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Nk.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Nk.fromReplace(e,this.from,this.to,n):Nk.fail("Content does not fit in gap")}getMap(){return new yk([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Tk(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new Tk(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Tk(t.from,t.to,t.gapFrom,t.gapTo,fN.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Ok(e,t,n){let r=e.resolve(t),i=n-t,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let e=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function Mk(e,t,n,r=n.contentMatch,i=!0){let a=e.doc.nodeAt(t),s=[],o=t+1;for(let l=0;l<a.childCount;l++){let t=a.child(l),c=o+t.nodeSize,d=r.matchType(t.type);if(d){r=d;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new Ak(o,c,t.marks[r]));if(i&&t.isText&&"pre"!=n.whitespace){let e,r,i=/\r?\n|\r/g;for(;e=i.exec(t.text);)r||(r=new fN(cN.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),s.push(new Ek(o+e.index,o+e.index+e[0].length,r))}}else s.push(new Ek(o,c,fN.empty));o=c}if(!r.validEnd){let t=r.fillBefore(cN.empty,!0);e.replace(o,o,new fN(t,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function Dk(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Pk(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),a=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,a,t))return n;if(0==n||r.type.spec.isolating||!Dk(r,i,a))break}return null}function Ik(e,t,n=null,r=e){let i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.contentMatchAt(r).findWrapping(t);if(!a)return null;let s=a.length?a[0]:t;return n.canReplaceWith(r,i,s)?a:null}(e,t),a=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.child(r),s=t.contentMatch.findWrapping(a.type);if(!s)return null;let o=(s.length?s[s.length-1]:t).contentMatch;for(let l=r;o&&l<i;l++)o=o.matchType(n.child(l).type);return o&&o.validEnd?s:null}(r,t);return a?i.map(Lk).concat({type:t,attrs:n}).concat(a.map(Lk)):null}function Lk(e){return{type:e,attrs:null}}function Rk(e,t,n,r){t.forEach((i,a)=>{if(i.isText){let s,o=/\r?\n|\r/g;for(;s=o.exec(i.text);){let i=e.mapping.slice(r).map(n+1+a+s.index);e.replaceWith(i,i+1,t.type.schema.linebreakReplacement.create())}}})}function Fk(e,t,n,r){t.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let i=e.mapping.slice(r).map(n+1+a);e.replaceWith(i,i+1,t.type.schema.text("\n"))}})}function Bk(e,t,n=1,r){let i=e.resolve(t),a=i.depth-n,s=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=n-2;c>a;c--,d--){let e=i.node(c),t=i.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),a=r&&r[d+1];a&&(n=n.replaceChild(0,a.type.create(a.attrs)));let s=r&&r[d]||e;if(!e.canReplace(t+1,e.childCount)||!s.type.validContent(n))return!1}let o=i.indexAfter(a),l=r&&r[0];return i.node(a).canReplaceWith(o,o,l?l.type:i.node(a+1).type)}function Hk(e,t){let n=e.resolve(t),r=n.index();return zk(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function zk(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let a=t.child(i),s=a.type==r?e.type.schema.nodes.text:a.type;if(n=n.matchType(s),!n)return!1;if(!e.type.allowsMarks(a.marks))return!1}return n.validEnd}(e,t))}function Wk(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let e,a,s=r.index(i);if(i==r.depth?(e=r.nodeBefore,a=r.nodeAfter):n>0?(e=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(e=r.node(i).maybeChild(s-1),a=r.node(i+1)),e&&!e.isTextblock&&zk(e,a)&&r.node(i).canReplace(s,s+1))return t;if(0==i)break;t=n<0?r.before(i):r.after(i)}}function Uk(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let a=0;a<n.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),o=!1;if(1==a)o=s.canReplace(n,n,i);else{let e=s.contentMatchAt(n).findWrapping(i.firstChild.type);o=e&&s.canReplaceWith(n,n,e[0])}if(o)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function Vk(e,t,n=t,r=fN.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),a=e.resolve(n);return $k(i,a,r)?new Ek(t,n,r):new qk(i,a,r).fit()}function $k(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}jk.jsonID("replaceAround",Tk);class qk{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=cN.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=cN.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,a=n.depth,s=r.depth;for(;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;let o=new fN(i,a,s);return e>-1?new Tk(n.pos,e,this.$to.pos,this.$to.end(),o,t):o.size||n.pos!=this.$to.pos?new Ek(n.pos,r.pos,o):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=Qk(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let i=e.firstChild;for(let a=this.depth;a>=0;a--){let e,{type:s,match:o}=this.frontier[a],l=null;if(1==t&&(i?o.matchType(i.type)||(l=o.fillBefore(cN.from(i),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:a,parent:r,inject:l};if(2==t&&i&&(e=o.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:a,parent:r,wrap:e};if(r&&o.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Qk(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new fN(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Qk(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new fN(Gk(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new fN(Gk(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let a=this.unplaced,s=n?n.content:a.content,o=a.openStart-e,l=0,c=[],{match:d,type:u}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));d=d.matchFragment(r)}let h=s.size+e-(a.content.size-a.openEnd);for(;l<s.childCount;){let e=s.child(l),t=d.matchType(e.type);if(!t)break;l++,(l>1||0==o||e.content.size)&&(d=t,c.push(Kk(e.mark(u.allowedMarks(e.marks)),1==l?o:0,l==s.childCount?h:-1)))}let p=l==s.childCount;p||(h=-1),this.placed=Yk(this.placed,t,cN.from(c)),this.frontier[t].match=d,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,f=s;m<h;m++){let e=f.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),f=e.content}this.unplaced=p?0==e?fN.empty:new fN(Gk(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new fN(Gk(a.content,e,l),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Jk(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Jk(e,t,r,n,i);if(a){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=Jk(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Yk(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Yk(this.placed,this.depth,cN.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(cN.empty,!0);e.childCount&&(this.placed=Yk(this.placed,this.frontier.length,e))}}function Gk(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Gk(e.firstChild.content,t-1,n)))}function Yk(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Yk(e.lastChild.content,t-1,n)))}function Qk(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Kk(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Kk(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(cN.empty,!0)))),e.copy(r)}function Jk(e,t,n,r,i){let a=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==a.childCount&&!n.compatibleContent(a.type))return null;let o=r.fillBefore(a.content,!0,s);return o&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,a.content,s)?o:null}function Xk(e){return e.spec.defining||e.spec.definingForContent}function Zk(e,t,n,r,i){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Zk(i.content,t+1,n,r,i)))}if(t>r){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(cN.empty,!0))}return e}function eS(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}class tS extends jk{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Nk.fail("No node at attribute step's position");let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Nk.fromReplace(e,this.pos,this.pos+1,new fN(cN.from(r),0,t.isLeaf?0:1))}getMap(){return yk.empty}invert(e){return new tS(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new tS(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new tS(t.pos,t.attr,t.value)}}jk.jsonID("attr",tS);class nS extends jk{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Nk.ok(n)}getMap(){return yk.empty}invert(e){return new nS(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new nS(t.attr,t.value)}}jk.jsonID("docAttr",nS);let rS=class extends Error{};rS=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(rS.prototype=Object.create(Error.prototype)).constructor=rS,rS.prototype.name="TransformError";class iS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vk}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new rS(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=fN.empty){let r=Vk(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new fN(cN.from(n),0,0))}delete(e,t){return this.replace(e,t,fN.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),a=e.doc.resolve(n);if($k(i,a,r))return e.step(new Ek(t,n,r));let s=eS(i,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let o=-(i.depth+1);s.unshift(o);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let e=i.node(h).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(h)>-1?o=h:i.before(h)==p&&s.splice(1,0,-h)}let l=s.indexOf(o),c=[],d=r.openStart;for(let h=r.content,p=0;;p++){let e=h.firstChild;if(c.push(e),p==r.openStart)break;h=e.content}for(let h=d-1;h>=0;h--){let e=c[h],t=Xk(e.type);if(t&&!e.sameMarkup(i.node(Math.abs(o)-1)))d=h;else if(t||!e.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let t=(h+d+1)%(r.openStart+1),o=c[t];if(o)for(let c=0;c<s.length;c++){let d=s[(c+l)%s.length],u=!0;d<0&&(u=!1,d=-d);let h=i.node(d-1),p=i.index(d-1);if(h.canReplaceWith(p,p,o.type,o.marks))return e.replace(i.before(d),u?a.after(d):n,new fN(Zk(r.content,0,r.openStart,t),t,r.openEnd))}}let u=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>u));h--){let e=s[h];e<0||(t=i.before(e),n=a.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let e=r.index(i);if(r.node(i).canReplaceWith(e,e,n))return r.before(i+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let e=r.indexAfter(i);if(r.node(i).canReplaceWith(e,e,n))return r.after(i+1);if(e<r.node(i).childCount)return null}return null}(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new fN(cN.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),a=eS(r,i);for(let s=0;s<a.length;s++){let t=a[s],n=s==a.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),i.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),i.indexAfter(t-1))))return e.delete(r.before(t),i.after(t))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:i,depth:a}=t,s=r.before(a+1),o=i.after(a+1),l=s,c=o,d=cN.empty,u=0;for(let m=a,f=!1;m>n;m--)f||r.index(m)>0?(f=!0,d=cN.from(r.node(m).copy(d)),u++):l--;let h=cN.empty,p=0;for(let m=a,f=!1;m>n;m--)f||i.after(m+1)<i.end(m)?(f=!0,h=cN.from(i.node(m).copy(h)),p++):c++;e.step(new Tk(l,c,s,o,new fN(d.append(h),u,p),d.size-u,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,a=e.doc.resolve(t-n),s=a.node().type;if(i&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(i);e&&!t?r=!1:!e&&t&&(r=!0)}let o=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);Fk(e,r.node(),r.before(),o)}s.inlineContent&&Mk(e,t+n-1,s,a.node().contentMatchAt(a.index()),null==r);let l=e.mapping.slice(o),c=l.map(t-n);if(e.step(new Ek(c,l.map(t+n,-1),fN.empty,!0)),!0===r){let t=e.doc.resolve(c);Rk(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=cN.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=cN.from(n[s].type.create(n[s].attrs,r))}let i=t.start,a=t.end;e.step(new Tk(i,a,i,a,new fN(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let s="function"==typeof i?i(t):i;if(t.isTextblock&&!t.hasMarkup(r,s)&&function(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(a).map(n),r)){let i=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?i=!1:!e&&t&&(i=!0)}!1===i&&Fk(e,t,n,a),Mk(e,e.mapping.slice(a).map(n,1),r,void 0,null===i);let o=e.mapping.slice(a),l=o.map(n,1),c=o.map(n+t.nodeSize,1);return e.step(new Tk(l,c,l+1,c-1,new fN(cN.from(r.create(s,null,t.marks)),0,0),1,!0)),!0===i&&Rk(e,t,n,a),!1}})}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,i){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(r,null,i||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Tk(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new fN(cN.from(s),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new tS(e,t,n)),this}setDocAttribute(e,t){return this.step(new nS(e,t)),this}addNodeMark(e,t){return this.step(new Ck(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof pN)t.isInSet(n.marks)&&this.step(new _k(e,t));else{let r,i=n.marks,a=[];for(;r=t.isInSet(i);)a.push(new _k(e,r)),i=r.removeFromSet(i);for(let e=a.length-1;e>=0;e--)this.step(a[e])}return this}split(e,t=1,n){return function(e,t,n=1,r){let i=e.doc.resolve(t),a=cN.empty,s=cN.empty;for(let o=i.depth,l=i.depth-n,c=n-1;o>l;o--,c--){a=cN.from(i.node(o).copy(a));let e=r&&r[c];s=cN.from(e?e.type.create(e.attrs,s):i.node(o).copy(s))}e.step(new Ek(t,t,new fN(a.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let i,a,s=[],o=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let d=e.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),u=Math.min(l+e.nodeSize,n),h=r.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(h)||(i&&i.to==c&&i.mark.eq(d[e])?i.to=u:s.push(i=new Ak(c,u,d[e])));a&&a.to==c?a.to=u:o.push(a=new Sk(c,u,r))}}),s.forEach(t=>e.step(t)),o.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let i=[],a=0;e.doc.nodesBetween(t,n,(e,s)=>{if(!e.isInline)return;a++;let o=null;if(r instanceof JN){let t,n=e.marks;for(;t=r.isInSet(n);)(o||(o=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(o=[r]):o=e.marks;if(o&&o.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<o.length;e++){let n,l=o[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==a-1&&l.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=a):i.push({style:l,from:Math.max(s,t),to:r,step:a})}}}),i.forEach(t=>e.step(new Ak(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return Mk(this,e,t,n),this}}const aS=Object.create(null);class sS{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new oS(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=fN.empty){let n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let i=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:o,$to:l}=a[s],c=e.mapping.slice(i);e.replaceRange(c.map(o.pos),c.map(l.pos),s?fN.empty:t),0==s&&xS(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:a,$to:s}=r[i],o=e.mapping.slice(n),l=o.map(a.pos),c=o.map(s.pos);i?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),xS(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new dS(e):gS(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let r=t<0?gS(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):gS(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new mS(e.node(0))}static atStart(e){return gS(e,e,0,0,1)||new mS(e)}static atEnd(e){return gS(e,e,e.content.size,e.childCount,-1)||new mS(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=aS[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in aS)throw new RangeError("Duplicate use of selection JSON ID "+e);return aS[e]=t,t.prototype.jsonID=e,t}getBookmark(){return dS.between(this.$anchor,this.$head).getBookmark()}}sS.prototype.visible=!0;class oS{constructor(e,t){this.$from=e,this.$to=t}}let lS=!1;function cS(e){lS||e.parent.inlineContent||(lS=!0)}class dS extends sS{constructor(e,t=e){cS(e),cS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return sS.near(n);let r=e.resolve(t.map(this.anchor));return new dS(r.parent.inlineContent?r:n,n)}replace(e,t=fN.empty){if(super.replace(e,t),t==fN.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof dS&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new uS(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new dS(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=sS.findFrom(t,n,!0)||sS.findFrom(t,-n,!0);if(!e)return sS.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(sS.findFrom(e,-n,!0)||sS.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new dS(e,t)}}sS.jsonID("text",dS);class uS{constructor(e,t){this.anchor=e,this.head=t}map(e){return new uS(e.map(this.anchor),e.map(this.head))}resolve(e){return dS.between(e.resolve(this.anchor),e.resolve(this.head))}}class hS extends sS{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?sS.near(i):new hS(i)}content(){return new fN(cN.from(this.node),0,0)}eq(e){return e instanceof hS&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new pS(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new hS(e.resolve(t.anchor))}static create(e,t){return new hS(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}hS.prototype.visible=!1,sS.jsonID("node",hS);class pS{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new uS(n,n):new pS(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&hS.isSelectable(n)?new hS(t):sS.near(t)}}class mS extends sS{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=fN.empty){if(t==fN.empty){e.delete(0,e.doc.content.size);let t=sS.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new mS(e)}map(e){return new mS(e)}eq(e){return e instanceof mS}getBookmark(){return fS}}sS.jsonID("all",mS);const fS={map(){return this},resolve:e=>new mS(e)};function gS(e,t,n,r,i,a=!1){if(t.inlineContent)return dS.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let r=t.child(s);if(r.isAtom){if(!a&&hS.isSelectable(r))return hS.create(e,n-(i<0?r.nodeSize:0))}else{let t=gS(e,r,n+i,i<0?r.childCount:0,i,a);if(t)return t}n+=r.nodeSize*i}return null}function xS(e,t,n){let r=e.steps.length-1;if(r<t)return;let i,a=e.steps[r];(a instanceof Ek||a instanceof Tk)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==i&&(i=r)}),e.setSelection(sS.near(e.doc.resolve(i),n)))}class bS extends iS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return pN.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||pN.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(sS.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function yS(e,t){return t&&e?e.bind(t):e}class vS{constructor(e,t,n){this.name=e,this.init=yS(t.init,n),this.apply=yS(t.apply,n)}}const wS=[new vS("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new vS("selection",{init:(e,t)=>e.selection||sS.atStart(t.doc),apply:e=>e.selection}),new vS("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new vS("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class jS{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=wS.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new vS(e.key,e.spec.state,e))})}}class NS{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let o=r?r[a].n:0,l=r?r[a].state:this,c=o<t.length&&s.spec.appendTransaction.call(s,o?t.slice(o):t,l,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<a?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[a]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new NS(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new bS(this)}static create(e){let t=new jS(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new NS(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new jS(this.schema,e.plugins),n=t.fields,r=new NS(t);for(let i=0;i<n.length;i++){let t=n[i].name;r[t]=this.hasOwnProperty(t)?this[t]:n[i].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new jS(e.schema,e.plugins),i=new NS(r);return r.fields.forEach(r=>{if("doc"==r.name)i.doc=DN.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=sS.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let s=n[a],o=s.spec.state;if(s.key==r.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(t,a))return void(i[r.name]=o.fromJSON.call(s,e,t[a],i))}i[r.name]=r.init(e,i)}}),i}}function kS(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=kS(i,t,{})),n[r]=i}return n}class SS{constructor(e){this.spec=e,this.props={},e.props&&kS(e.props,this,this.props),this.key=e.key?e.key.key:CS("plugin")}getState(e){return e[this.key]}}const AS=Object.create(null);function CS(e){return e in AS?e+"$"+ ++AS[e]:(AS[e]=0,e+"$")}class _S{constructor(e="key"){this.key=CS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ES=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},TS=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let OS=null;const MS=function(e,t,n){let r=OS||(OS=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},DS=function(e,t,n,r){return n&&(IS(e,t,n,r,-1)||IS(e,t,n,r,1))},PS=/^(img|br|input|textarea|hr)$/i;function IS(e,t,n,r,i){for(var a;;){if(e==n&&t==r)return!0;if(t==(i<0?0:LS(e))){let n=e.parentNode;if(!n||1!=n.nodeType||RS(e)||PS.test(e.nodeName)||"false"==e.contentEditable)return!1;t=ES(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(i<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(a=n.pmViewDesc)||void 0===a?void 0:a.ignoreForSelection))return!1;t+=i}else e=n,t=i<0?LS(e):0}}}}function LS(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function RS(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const FS=function(e){return e.focusNode&&DS(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function BS(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const HS="undefined"!=typeof navigator?navigator:null,zS="undefined"!=typeof document?document:null,WS=HS&&HS.userAgent||"",US=/Edge\/(\d+)/.exec(WS),VS=/MSIE \d/.exec(WS),$S=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(WS),qS=!!(VS||$S||US),GS=VS?document.documentMode:$S?+$S[1]:US?+US[1]:0,YS=!qS&&/gecko\/(\d+)/i.test(WS);YS&&(/Firefox\/(\d+)/.exec(WS)||[0,0])[1];const QS=!qS&&/Chrome\/(\d+)/.exec(WS),KS=!!QS,JS=QS?+QS[1]:0,XS=!qS&&!!HS&&/Apple Computer/.test(HS.vendor),ZS=XS&&(/Mobile\/\w+/.test(WS)||!!HS&&HS.maxTouchPoints>2),eA=ZS||!!HS&&/Mac/.test(HS.platform),tA=!!HS&&/Win/.test(HS.platform),nA=/Android \d/.test(WS),rA=!!zS&&"webkitFontSmoothing"in zS.documentElement.style,iA=rA?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function aA(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function sA(e,t){return"number"==typeof e?e:e[t]}function oA(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function lA(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(1!=s.nodeType){s=TS(s);continue}let e=s,n=e==a.body,o=n?aA(a):oA(e),l=0,c=0;if(t.top<o.top+sA(r,"top")?c=-(o.top-t.top+sA(i,"top")):t.bottom>o.bottom-sA(r,"bottom")&&(c=t.bottom-t.top>o.bottom-o.top?t.top+sA(i,"top")-o.top:t.bottom-o.bottom+sA(i,"bottom")),t.left<o.left+sA(r,"left")?l=-(o.left-t.left+sA(i,"left")):t.right>o.right-sA(r,"right")&&(l=t.right-o.right+sA(i,"right")),l||c)if(n)a.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let i=e.scrollLeft-n,a=e.scrollTop-r;t={left:t.left-i,top:t.top-a,right:t.right-i,bottom:t.bottom-a}}let d=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(d))break;s="absolute"==d?s.offsetParent:TS(s)}}function cA(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=TS(r));return t}function dA(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:a}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}let uA=null;function hA(e,t){let n,r,i,a,s=2e8,o=0,l=t.top,c=t.top;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let e;if(1==d.nodeType)e=d.getClientRects();else{if(3!=d.nodeType)continue;e=MS(d).getClientRects()}for(let h=0;h<e.length;h++){let p=e[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<s){n=d,s=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==d.nodeType&&e&&(o=u+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!i&&p.left<=t.left&&p.right>=t.left&&(i=d,a={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=u+1)}}return!n&&i&&(n=i,r=a,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=xA(r,1);if(n.top!=n.bottom&&pA(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:o}:hA(n,r)}function pA(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function mA(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),a=i;;){let n=e.childNodes[a];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(pA(t,i))return mA(n,t,i)}}if((a=(a+1)%r)==i)break}return e}function fA(e,t){let n,r=e.dom.ownerDocument,i=0,a=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(LS(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(LS(r.startContainer),r.startOffset)}}}(r,t.left,t.top);a&&({node:n,offset:i}=a);let s,o=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!o||!e.dom.contains(1!=o.nodeType?o.parentNode:o)){let n=e.dom.getBoundingClientRect();if(!pA(t,n))return null;if(o=mA(e.dom,t,n),!o)return null}if(XS)for(let c=o;n&&c;c=TS(c))c.draggable&&(n=void 0);if(o=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(o,t),n){if(YS&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}let r;rA&&i&&1==n.nodeType&&1==(r=n.childNodes[i-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&i--,n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=function(e,t,n,r){let i=-1;for(let a=t,s=!1;a!=e.dom;){let t,n=e.docView.nearestDesc(a,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!s&&t.left>r.left||t.top>r.top?i=n.posBefore:(!s&&t.right<r.left||t.bottom<r.top)&&(i=n.posAfter),s=!0),!n.contentDOM&&i<0&&!n.node.isText))return(n.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;a=n.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}(e,n,i,t))}null==s&&(s=function(e,t,n){let{node:r,offset:i}=hA(t,n),a=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();a=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function gA(e){return e.top<e.bottom||e.left<e.right}function xA(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(gA(e))return e}return Array.prototype.find.call(n,gA)||e.getBoundingClientRect()}const bA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yA(e,t,n){let{node:r,offset:i,atom:a}=e.docView.domFromPos(t,n<0?-1:1),s=rA||YS;if(3==r.nodeType){if(!s||!bA.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,a=n<0?1:-1;return n<0&&!i?(t++,a=-1):n>=0&&i==r.nodeValue.length?(e--,a=1):n<0?e--:t++,vA(xA(MS(r,e,t),a),a<0)}{let e=xA(MS(r,i,i),n);if(YS&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=xA(MS(r,i-1,i-1),-1);if(t.top==e.top){let n=xA(MS(r,i,i+1),-1);if(n.top!=e.top)return vA(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(null==a&&i&&(n<0||i==LS(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return wA(e.getBoundingClientRect(),!1)}if(null==a&&i<LS(r)){let e=r.childNodes[i];if(1==e.nodeType)return wA(e.getBoundingClientRect(),!0)}return wA(r.getBoundingClientRect(),n>=0)}if(null==a&&i&&(n<0||i==LS(r))){let e=r.childNodes[i-1],t=3==e.nodeType?MS(e,LS(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return vA(xA(t,1),!1)}if(null==a&&i<LS(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?MS(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return vA(xA(t,-1),!0)}return vA(xA(3==r.nodeType?MS(r):r,-n),n>=0)}function vA(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function wA(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function jA(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}const NA=/[\u0590-\u08ac]/;let kA=null,SA=null,AA=!1;class CA{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>ES(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i,a=this.getDesc(r);if(a&&(!t||a.node)){if(!n||!(i=a.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return a;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let i=0;n<this.children.length;n++){let t=this.children[n],a=i+t.size;if(a>e||t instanceof PA){r=e-i;break}i=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof _A&&i.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?ES(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?ES(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let a=n,s=0;;s++){let n=this.children[s],o=a+n.size;if(-1==r&&e<=o){let i=a+n.border;if(e>=i&&t<=o-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=a;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=ES(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(o>t||s==this.children.length-1)){t=o;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=ES(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}a=o}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),a=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let s=this.children[p],o=m+s.size;if(i>m&&a<o)return s.setSelection(e-m-s.border,t-m-s.border,n,r);m=o}let s=this.domFromPos(e,e?-1:1),o=t==e?s:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((YS||XS)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(d=!(!t||"\n"!=e.nodeValue[t-1]),d&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(s=o={node:n.parentNode,offset:ES(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(YS&&c.focusNode&&c.focusNode!=o.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||d&&XS)&&DS(s.node,s.offset,c.anchorNode,c.anchorOffset)&&DS(o.node,o.offset,c.focusNode,c.focusOffset))return;let u=!1;if((l.extend||e==t)&&(!d||!YS)){l.collapse(s.node,s.offset);try{e!=t&&l.extend(o.node,o.offset),u=!0}catch(h){}}if(!u){if(e>t){let e=s;s=o,o=e}let n=document.createRange();n.setEnd(o.node,o.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==a?e<=a&&t>=n:e<a&&t>n){let r=n+i.border,s=a-i.border;if(e>=r&&t<=s)return this.dirty=e==n||t==a?2:1,void(e!=r||t!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=a}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class _A extends CA{constructor(e,t,n,r){let i,a=t.type.toDOM;if("function"==typeof a&&(a=a(n,()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r)),!t.type.spec.raw){if(1!=a.nodeType){let e=document.createElement("span");e.appendChild(a),a=e}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class EA extends CA{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class TA extends CA{constructor(e,t,n,r,i){super(e,[],n,r),this.mark=t,this.spec=i}static create(e,t,n,r){let i=r.nodeViews[t.type.name],a=i&&i(t,r,n);return a&&a.dom||(a=dk.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new TA(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=TA.create(this.parent,this.mark,!0,n),i=this.children,a=this.size;t<a&&(i=GA(i,t,a,n)),e>0&&(i=GA(i,0,e,n));for(let s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class OA extends CA{constructor(e,t,n,r,i,a,s,o,l){super(e,[],i,a),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,i,a){let s,o=i.nodeViews[t.type.name],l=o&&o(t,i,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:a,n,r),c=l&&l.dom,d=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=dk.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:d}=e)}d||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let u=c;return c=WA(c,n,t),l?s=new IA(e,t,n,r,c,d||null,u,l,i,a+1):t.isText?new DA(e,t,n,r,c,u,i):new OA(e,t,n,r,c,d||null,u,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>cN.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&UA(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,a=i&&i.pos>-1?i:null,s=i&&i.pos<0,o=new $A(this,a&&a.node,e);!function(e,t,n,r){let i=t.locals(e),a=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,i,t.forChild(a,s),n),a+=s.nodeSize}return}let s=0,o=[],l=null;for(let c=0;;){let d,u,h,p;for(;s<i.length&&i[s].to==a;){let e=i[s++];e.widget&&(d?(u||(u=[d])).push(e):d=e)}if(d)if(u){u.sort(qA);for(let e=0;e<u.length;e++)n(u[e],c,!!l)}else n(d,c,!!l);if(l)p=-1,h=l,l=null;else{if(!(c<e.childCount))break;p=c,h=e.child(c++)}for(let e=0;e<o.length;e++)o[e].to<=a&&o.splice(e--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)o.push(i[s++]);let m=a+h.nodeSize;if(h.isText){let e=m;s<i.length&&i[s].from<e&&(e=i[s].from);for(let t=0;t<o.length;t++)o[t].to<e&&(e=o[t].to);e<m&&(l=h.cut(e-a),h=h.cut(0,e-a),m=e,p=-1)}else for(;s<i.length&&i[s].to<m;)s++;r(h,h.isInline&&!h.isLeaf?o.filter(e=>!e.inline):o.slice(),t.forChild(a,h),p),a=m}}(this.node,this.innerDeco,(t,i,a)=>{t.spec.marks?o.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!a&&o.syncToMarks(i==this.node.childCount?pN.none:this.node.child(i).marks,n,e),o.placeWidget(t,e,r)},(t,a,l,c)=>{let d;o.syncToMarks(t.marks,n,e),o.findNodeMatch(t,a,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=o.findIndexWithChild(i.node))>-1&&o.updateNodeAt(t,a,l,d,e)||o.updateNextNode(t,a,l,e,c,r)||o.addNode(t,a,l,e,r),r+=t.nodeSize}),o.syncToMarks([],n,e),this.node.isTextblock&&o.addTextblockHacks(),o.destroyRest(),(o.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),LA(this.contentDOM,this.children,e),ZS&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof dS)||n<t||r>t+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let e=i.nodeValue,a=function(e,t,n,r){for(let i=0,a=0;i<e.childCount&&a<=r;){let s=e.child(i++),o=a;if(a+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let t=e.child(i++);if(a+=t.nodeSize,!t.isText)break;l+=t.text}if(a>=n){if(a>=r&&l.slice(r-t.length-o,r-o)==t)return r-t.length;let e=o<r?l.lastIndexOf(t,r-o-1):-1;if(e>=0&&e+t.length+o>=n)return o+e;if(n==r&&l.length>=r+t.length-o&&l.slice(r-o,r-o+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return a<0?null:{node:i,pos:a,text:e}}return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new EA(this,i,t,r);e.input.compositionNodes.push(a),this.children=GA(this.children,n,n+r.length,e,a)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(UA(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=HA(this.dom,this.nodeDOM,BA(this.outerDeco,this.node,t),BA(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function MA(e,t,n,r,i){WA(r,t,e);let a=new OA(void 0,e,t,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class DA extends OA{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new DA(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class PA extends CA{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class IA extends OA{constructor(e,t,n,r,i,a,s,o,l,c){super(e,t,n,r,i,a,s,l,c),this.spec=o}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function LA(e,t,n){let r=e.firstChild,i=!1;for(let a=0;a<t.length;a++){let s=t[a],o=s.dom;if(o.parentNode==e){for(;o!=r;)r=VA(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(o,r);if(s instanceof TA){let t=r?r.previousSibling:e.lastChild;LA(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=VA(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const RA=function(e){e&&(this.nodeName=e)};RA.prototype=Object.create(null);const FA=[new RA];function BA(e,t,n){if(0==e.length)return FA;let r=n?FA[0]:new RA,i=[r];for(let a=0;a<e.length;a++){let s=e[a].type.attrs;if(s){s.nodeName&&i.push(r=new RA(s.nodeName));for(let e in s){let a=s[e];null!=a&&(n&&1==i.length&&i.push(r=new RA(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+a:"style"==e?r.style=(r.style?r.style+";":"")+a:"nodeName"!=e&&(r[e]=a))}}}return i}function HA(e,t,n,r){if(n==FA&&r==FA)return t;let i=t;for(let a=0;a<r.length;a++){let t=r[a],s=n[a];if(a){let n;s&&s.nodeName==t.nodeName&&i!=e&&(n=i.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(i),s=FA[0]),i=n}zA(i,s||FA[0],t)}return i}function zA(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function WA(e,t,n){return HA(e,e,FA,BA(t,n,1!=e.nodeType))}function UA(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function VA(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class $A{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,a=new Map,s=[];e:for(;i>0;){let o;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof TA)){o=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=o.node;if(l){if(l!=e.child(i-1))break;--i,a.set(o,i),s.push(o)}}return{index:i,matched:a,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;r<a&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=TA.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,a=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))a=this.top.children.indexOf(i,this.index);else for(let s=this.index,o=Math.min(this.top.children.length,s+5);s<o;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){a=s;break}}return!(a<0||(this.destroyBetween(this.index,a),this.index++,0))}updateNodeAt(e,t,n,r,i){let a=this.top.children[r];return 3==a.dirty&&a.dom==a.contentDOM&&(a.dirty=2),!!a.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i,a){for(let s=this.index;s<this.top.children.length;s++){let o=this.top.children[s];if(o instanceof OA){let l=this.preMatch.matched.get(o);if(null!=l&&l!=i)return!1;let c,d=o.dom,u=this.isLocked(d)&&!(e.isText&&o.node&&o.node.isText&&o.nodeDOM.nodeValue==e.text&&3!=o.dirty&&UA(t,o.outerDeco));if(!u&&o.update(e,t,n,r))return this.destroyBetween(this.index,s),o.dom!=d&&(this.changed=!0),this.index++,!0;if(!u&&(c=this.recreateWrapper(o,e,t,n,r,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,a+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,i,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!UA(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let s=OA.create(this.top,t,n,r,i,a);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,r,i){let a=OA.create(this.top,e,t,n,r,i);a.contentDOM&&a.updateChildren(r,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new _A(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof TA;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof DA)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((XS||KS)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new PA(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function qA(e,t){return e.type.side-t.type.side}function GA(e,t,n,r,i){let a=[];for(let s=0,o=0;s<e.length;s++){let l=e[s],c=o,d=o+=l.size;c>=n||d<=t?a.push(l):(c<t&&a.push(l.slice(0,t-c,r)),i&&(a.push(i),i=void 0),d>n&&a.push(l.slice(n-c,l.size,r)))}return a}function YA(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let o,l,c=r.resolve(s);if(FS(n)){for(o=s;i&&!i.node;)i=i.parent;let e=i.node;if(i&&e.isAtom&&hS.isSelectable(e)&&i.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,i=t==LS(e);r||i;){if(e==n)return!0;let t=ES(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==LS(e)}}(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;l=new hS(s==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,i=s;for(let r=0;r<n.rangeCount;r++){let a=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(a.startContainer,a.startOffset,1)),i=Math.max(i,e.docView.posFromDOM(a.endContainer,a.endOffset,-1))}if(t<0)return null;[o,s]=i==e.state.selection.anchor?[i,t]:[t,i],c=r.resolve(s)}else o=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(o<0)return null}let d=r.resolve(o);return l||(l=rC(e,d,c,"pointer"==t||e.state.selection.head<c.pos&&!a?1:-1)),l}function QA(e){return e.editable?e.hasFocus():aC(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function KA(e,t=!1){let n=e.state.selection;if(tC(e,n),QA(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&KS){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&DS(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,ES(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&qS&&GS<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,i,{anchor:a,head:s}=n;!JA||n instanceof dS||(n.$from.parent.inlineContent||(r=XA(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=XA(e,n.to))),e.docView.setSelection(a,s,e,t),JA&&(r&&eC(r),i&&eC(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{QA(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const JA=XS||KS&&JS<63;function XA(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(XS&&i&&"false"==i.contentEditable)return ZA(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return ZA(i);if(a)return ZA(a)}}function ZA(e){return e.contentEditable="true",XS&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function eC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function tC(e,t){if(t instanceof hS){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(nC(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else nC(e)}function nC(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function rC(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||dS.between(t,n,r)}function iC(e){return!(e.editable&&!e.hasFocus())&&aC(e)}function aC(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function sC(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&sS.findFrom(a,t)}function oC(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function lC(e,t,n){let r=e.state.selection;if(!(r instanceof dS)){if(r instanceof hS&&r.node.isInline)return oC(e,new dS(t>0?r.$to:r.$from));{let n=sC(e.state,t);return!!n&&oC(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,i=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=e.state.doc.resolve(n.pos+i.nodeSize*(t<0?-1:1));return oC(e,new dS(r.$anchor,a))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=sC(e.state,t);return!!(n&&n instanceof hS)&&oC(e,n)}if(!(eA&&n.indexOf("m")>-1)){let n,i=r.$head,a=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText)return!1;let s=t<0?i.pos-a.nodeSize:i.pos;return!!(a.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(hS.isSelectable(a)?oC(e,new hS(t<0?e.state.doc.resolve(i.pos-a.nodeSize):i)):!!rA&&oC(e,new dS(e.state.doc.resolve(t<0?s:s+a.nodeSize))))}}function cC(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function dC(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function uC(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,a,s=!1;for(YS&&1==n.nodeType&&r<cC(n)&&dC(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(dC(e,-1))i=n,a=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(hC(n))break;{let t=n.previousSibling;for(;t&&dC(t,-1);)i=n.parentNode,a=ES(t),t=t.previousSibling;if(t)n=t,r=cC(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?pC(e,n,r):i&&pC(e,i,a)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,a,s=cC(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!dC(n.childNodes[r],1))break;i=n,a=++r}else{if(hC(n))break;{let t=n.nextSibling;for(;t&&dC(t,1);)i=t.parentNode,a=ES(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=cC(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&pC(e,i,a)}(e)}function hC(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function pC(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!RS(e);)t=ES(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!RS(e);)t=ES(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(FS(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&KA(e)},50)}function mC(e,t){let n=e.state.doc.resolve(t);if(!KS&&!tA&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function fC(e,t,n){let r=e.state.selection;if(r instanceof dS&&!r.empty||n.indexOf("s")>-1)return!1;if(eA&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=sC(e.state,t);if(n&&n instanceof hS)return oC(e,n)}if(!i.parent.inlineContent){let n=t<0?i:a,s=r instanceof mS?sS.near(n,t):sS.findFrom(n,t);return!!s&&oC(e,s)}return!1}function gC(e,t){if(!(e.state.selection instanceof dS))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let r=e.state.tr;return t<0?r.delete(n.pos-a.nodeSize,n.pos):r.delete(n.pos,n.pos+a.nodeSize),e.dispatch(r),!0}return!1}function xC(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function bC(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:i,openEnd:a}=t;for(;i>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,a--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||dk.fromSchema(e.state.schema),o=_C(),l=o.createElement("div");l.appendChild(s.serializeFragment(r,{document:o}));let c,d=l.firstChild,u=0;for(;d&&1==d.nodeType&&(c=AC[d.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=o.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),u++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${i} ${a}${u?` -${u}`:""} ${JSON.stringify(n)}`),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function yC(e,t,n,r,i){let a,s,o=i.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,o||r,e)}),o)return s=new fN(cN.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{s=t(s,e,!0)}),s;let n=e.someProp("clipboardTextParser",n=>n(t,i,r,e));if(n)s=n;else{let n=i.marks(),{schema:r}=e.state,s=dk.fromSchema(r);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=a.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),a=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=_C().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);if((n=i&&AC[i[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=function(e){let t=window.trustedTypes;return t?(EC||(EC=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),EC.createHTML(e)):e}(e),n)for(let a=0;a<n.length;a++)r=r.querySelector(n[a])||r;return r}(n),rA&&function(e){let t=e.querySelectorAll(KS?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(a);let c=a&&a.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let e=a.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;a=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||ek.fromSchema(e.state.schema);s=t.parseSlice(a,{preserveWhitespace:!(!l&&!d),context:i,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||vC.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(d)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(Dw){return e}let{content:i,openStart:a,openEnd:s}=e;for(let o=n.length-2;o>=0;o-=2){let e=r.nodes[n[o]];if(!e||e.hasRequiredAttrs())break;i=cN.from(e.create(n[o+1],i)),a++,s++}return new fN(i,a,s)}(SC(s,+d[1],+d[2]),d[4]);else if(s=fN.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n).contentMatchAt(t.index(n)),a=[];if(e.forEach(e=>{if(!a)return;let t,n=i.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&r.length&&jC(n,r,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=NC(a[a.length-1],r.length));let t=wC(e,n);a.push(t),i=i.matchType(t.type),r=n}}),a)return cN.from(a)}return e}(s.content,i),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=SC(s,e,t)}return e.someProp("transformPasted",t=>{s=t(s,e,l)}),s}const vC=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function wC(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,cN.from(e));return e}function jC(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let a=jC(e,t,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(cN.from(wC(n,e,i+1))))}}function NC(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,NC(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(cN.empty,!0);return e.copy(n.append(r))}function kC(e,t,n,r,i,a){let s=t<0?e.firstChild:e.lastChild,o=s.content;return e.childCount>1&&(a=0),i<r-1&&(o=kC(o,t,n,r,i+1,a)),i>=n&&(o=t<0?s.contentMatchAt(0).fillBefore(o,a<=i).append(o):o.append(s.contentMatchAt(s.childCount).fillBefore(cN.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(o))}function SC(e,t,n){return t<e.openStart&&(e=new fN(kC(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new fN(kC(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const AC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CC=null;function _C(){return CC||(CC=document.implementation.createHTMLDocument("title"))}let EC=null;const TC={},OC={},MC={touchstart:!0,touchmove:!0};class DC{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function PC(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function IC(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>LC(e,t))})}function LC(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function RC(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function FC(e){return{left:e.clientX,top:e.clientY}}function BC(e,t,n,r,i){if(-1==r)return!1;let a=e.state.doc.resolve(r);for(let s=a.depth+1;s>0;s--)if(e.someProp(t,t=>s>a.depth?t(e,n,a.nodeAfter,a.before(s),i,!0):t(e,n,a.node(s),a.before(s),i,!1)))return!0;return!1}function HC(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function zC(e,t,n,r){return BC(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function WC(e,t,n,r){return BC(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(HC(e,dS.create(r,0,r.content.size)),!0);let i=r.resolve(t);for(let a=i.depth+1;a>0;a--){let t=a>i.depth?i.nodeAfter:i.node(a),n=i.before(a);if(t.inlineContent)HC(e,dS.create(r,n+1,n+1+t.content.size));else{if(!hS.isSelectable(t))continue;HC(e,hS.create(r,n))}return!0}}(e,n,r)}function UC(e){return KC(e)}OC.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!qC(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!nA||!KS||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!ZS||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||function(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||eA&&72==n&&"c"==r)return gC(e,-1)||uC(e,-1);if(46==n&&!t.shiftKey||eA&&68==n&&"c"==r)return gC(e,1)||uC(e,1);if(13==n||27==n)return!0;if(37==n||eA&&66==n&&"c"==r){let t=37==n?"ltr"==mC(e,e.state.selection.from)?-1:1:-1;return lC(e,t,r)||uC(e,t)}if(39==n||eA&&70==n&&"c"==r){let t=39==n?"ltr"==mC(e,e.state.selection.from)?1:-1:1;return lC(e,t,r)||uC(e,t)}return 38==n||eA&&80==n&&"c"==r?fC(e,-1,r)||uC(e,-1):40==n||eA&&78==n&&"c"==r?function(e){if(!XS||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;xC(e,n,"true"),setTimeout(()=>xC(e,n,"false"),20)}return!1}(e)||fC(e,1,r)||uC(e,1):r==(eA?"m":"c")&&(66==n||73==n||89==n||90==n)}(e,n)?n.preventDefault():PC(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,BS(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},OC.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},OC.keypress=(e,t)=>{let n=t;if(qC(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||eA&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof dS&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,i))||e.dispatch(i()),n.preventDefault()}};const VC=eA?"metaKey":"ctrlKey";TC.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=UC(e),i=Date.now(),a="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[VC]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?a="doubleClick":"doubleClick"==e.input.lastClick.type&&(a="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:a,button:n.button};let s=e.posAtCoords(FC(n));s&&("singleClick"==a?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new $C(e,s,n,!!r)):("doubleClick"==a?zC:WC)(e,s.pos,s.inside,n)?n.preventDefault():PC(e,"pointer"))};class $C{constructor(e,t,n,r){let i,a;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[VC],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),a=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,a=n.depth?n.before():0}const s=r?null:n.target,o=s?e.docView.nearestDesc(s,!0):null;this.target=o&&1==o.nodeDOM.nodeType?o.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||l instanceof hS&&l.from<=a&&l.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!YS||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),PC(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>KA(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(FC(e))),this.updateAllowDefault(e),this.allowDefault||!t?PC(this.view,"pointer"):function(e,t,n,r,i){return BC(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(i?function(e,t){if(-1==t)return!1;let n,r,i=e.state.selection;i instanceof hS&&(n=i.node);let a=e.state.doc.resolve(t);for(let s=a.depth+1;s>0;s--){let e=s>a.depth?a.nodeAfter:a.node(s);if(hS.isSelectable(e)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=r&&(HC(e,hS.create(e.state.doc,r)),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&hS.isSelectable(r))&&(HC(e,new hS(n)),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||XS&&this.mightDrag&&!this.mightDrag.node.isAtom||KS&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(HC(this.view,sS.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):PC(this.view,"pointer")}move(e){this.updateAllowDefault(e),PC(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function qC(e,t){return!!e.composing||!!(XS&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}TC.touchstart=e=>{e.input.lastTouch=Date.now(),UC(e),PC(e,"pointer")},TC.touchmove=e=>{e.input.lastTouch=Date.now(),PC(e,"pointer")},TC.contextmenu=e=>UC(e);const GC=nA?5e3:-1;function YC(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>KC(e),t))}function QC(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function KC(e,t=!1){if(!(nA&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),QC(e),t||e.docView&&e.docView.dirty){let n=YA(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}OC.compositionstart=OC.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof dS&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),KC(e,!0),e.markCursor=null;else if(KC(e,!t.selection.empty),YS&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}YC(e,GC)},OC.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,YC(e,20))};const JC=qS&&GS<15||ZS&&iA<604;function XC(e,t,n,r,i){let a=yC(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,i,a||fN.empty)))return!0;if(!a)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(a),o=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(a);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ZC(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}TC.copy=OC.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let a=JC?null:n.clipboardData,s=r.content(),{dom:o,text:l}=bC(e,s);a?(n.preventDefault(),a.clearData(),a.setData("text/html",o.innerHTML),a.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,o),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},OC.paste=(e,t)=>{let n=t;if(e.composing&&!nA)return;let r=JC?null:n.clipboardData,i=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&XC(e,ZC(r),r.getData("text/html"),i,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?XC(e,r.value,null,i,t):XC(e,r.textContent,r.innerHTML,i,t)},50)}(e,n)};class e_{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const t_=eA?"altKey":"ctrlKey";function n_(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[t_]}TC.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i,a=e.state.selection,s=a.empty?null:e.posAtCoords(FC(n));if(s&&s.pos>=a.from&&s.pos<=(a instanceof hS?a.to-1:a.to));else if(r&&r.mightDrag)i=hS.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(i=hS.create(e.state.doc,t.posBefore))}let o=(i||e.state.selection).content(),{dom:l,text:c,slice:d}=bC(e,o);(!n.dataTransfer.files.length||!KS||JS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(JC?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",JC||n.dataTransfer.setData("text/plain",c),e.dragging=new e_(d,n_(e,n),i)},TC.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},OC.dragover=OC.dragenter=(e,t)=>t.preventDefault(),OC.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(FC(n));if(!i)return;let a=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",t=>{s=t(s,e,!1)}):s=yC(e,ZC(n.dataTransfer),JC?null:n.dataTransfer.getData("text/html"),!1,a);let o=!(!r||!n_(e,n));if(e.someProp("handleDrop",t=>t(e,n,s||fN.empty,o)))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?Uk(e.state.doc,a.pos,s):a.pos;null==l&&(l=a.pos);let c=e.state.tr;if(o){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let d=c.mapping.map(l),u=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(u?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(h))return;let p=c.doc.resolve(d);if(u&&hS.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new hS(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,i)=>t=i),c.setSelection(rC(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},TC.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&KA(e)},20))},TC.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},TC.beforeinput=(e,t)=>{if(KS&&nA&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,BS(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let os in OC)TC[os]=OC[os];function r_(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class i_{constructor(e,t){this.toDOM=e,this.spec=t||c_,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:a}=e.mapResult(t.from+r,this.side<0?-1:1);return a?null:new o_(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof i_&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&r_(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class a_{constructor(e,t){this.attrs=e,this.spec=t||c_}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,a=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=a?null:new o_(i,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof a_&&r_(this.attrs,e.attrs)&&r_(this.spec,e.spec)}static is(e){return e.type instanceof a_}destroy(){}}class s_{constructor(e,t){this.attrs=e,this.spec=t||c_}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let a=e.mapResult(t.to+r,-1);return a.deleted||a.pos<=i.pos?null:new o_(i.pos-n,a.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof s_&&r_(this.attrs,e.attrs)&&r_(this.spec,e.spec)}destroy(){}}class o_{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new o_(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new o_(e,e,new i_(t,n))}static inline(e,t,n,r){return new o_(e,t,new a_(n,r))}static node(e,t,n,r){return new o_(e,t,new s_(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof a_}get widget(){return this.type instanceof i_}}const l_=[],c_={};class d_{constructor(e,t){this.local=e.length?e:l_,this.children=t.length?t:l_}static create(e,t){return t.length?g_(t,e,0,c_):u_}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,t-s,n,r+s,i)}}map(e,t,n){return this==u_||0==e.maps.length?this:this.mapInner(e,t,0,0,n||c_)}mapInner(e,t,n,r,i){let a;for(let s=0;s<this.local.length;s++){let o=this.local[s].map(e,n,r);o&&o.type.valid(t,o)?(a||(a=[])).push(o):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,i,a,s){let o=e.slice();for(let c=0,d=a;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,i)=>{let a=i-r-(n-t);for(let s=0;s<o.length;s+=3){let r=o[s+1];if(r<0||t>r+d-e)continue;let i=o[s]+d-e;n>=i?o[s+1]=t<=i?-2:-1:t>=d&&a&&(o[s]+=a,o[s+1]+=a)}e+=a}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(-2==o[c+1]){l=!0,o[c+1]=-1;continue}let t=n.map(e[c]+a),d=t-i;if(d<0||d>=r.content.size){l=!0;continue}let u=n.map(e[c+1]+a,-1)-i,{index:h,offset:p}=r.content.findIndex(d),m=r.maybeChild(h);if(m&&p==d&&p+m.nodeSize==u){let r=o[c+2].mapInner(n,m,t+1,e[c]+a+1,s);r!=u_?(o[c]=d,o[c+1]=u,o[c+2]=r):(o[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,i,a,s){function o(e,t){for(let a=0;a<e.local.length;a++){let o=e.local[a].map(r,i,t);o?n.push(o):s.onRemove&&s.onRemove(e.local[a].spec)}for(let n=0;n<e.children.length;n+=3)o(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&o(e[l+2],t[l]+a+1);return n}(o,e,t,n,i,a,s),c=g_(l,r,0,s);t=c.local;for(let e=0;e<o.length;e+=3)o[e+1]<0&&(o.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<o.length&&o[t]<n;)t+=3;o.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new d_(t.sort(x_),o)}(this.children,a||[],e,t,n,r,i):a?new d_(a.sort(x_),l_):u_}add(e,t){return t.length?this==u_?d_.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach((e,a)=>{let s,o=a+n;if(s=m_(t,e,o)){for(r||(r=this.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,o+1):r.splice(i,0,a,a+e.nodeSize,g_(s,e,o+1,c_)),i+=3}});let a=p_(i?f_(t):t,-n);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new d_(a.length?this.local.concat(a).sort(x_):this.local,r||this.children)}remove(e){return 0==e.length||this==u_?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,a=n[i]+t,s=n[i+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>a&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let o=n[i+2].removeInner(r,a+1);o!=u_?n[i+2]=o:(n.splice(i,3),i-=3)}if(r.length)for(let i,a=0;a<e.length;a++)if(i=e[a])for(let e=0;e<r.length;e++)r[e].eq(i,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new d_(r,n):u_}forChild(e,t){if(this==u_)return this;if(t.isLeaf)return d_.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let i=e+1,a=i+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<a&&e.to>i&&e.type instanceof a_){let t=Math.max(i,e.from)-i,n=Math.min(a,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new d_(r.sort(x_),l_);return n?new h_([e,n]):e}return n||u_}eq(e){if(this==e)return!0;if(!(e instanceof d_)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return b_(this.localsInner(e))}localsInner(e){if(this==u_)return l_;if(e.inlineContent||!this.local.some(a_.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof a_||t.push(this.local[n]);return t}forEachSet(e){e(this)}}d_.empty=new d_([],[]),d_.removeOverlap=b_;const u_=d_.empty;class h_{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,c_));return h_.from(n)}forChild(e,t){if(t.isLeaf)return d_.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=u_&&(i instanceof h_?n=n.concat(i.members):n.push(i))}return h_.from(n)}eq(e){if(!(e instanceof h_)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?b_(n?t:t.sort(x_)):l_}static from(e){switch(e.length){case 0:return u_;case 1:return e[0];default:return new h_(e.every(e=>e instanceof d_)?e:e.reduce((e,t)=>e.concat(t instanceof d_?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function p_(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new o_(i.from+t,i.to+t,i.type))}return n}function m_(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let a,s=0;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[s]=null);return i}function f_(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function g_(e,t,n,r){let i=[],a=!1;t.forEach((t,s)=>{let o=m_(e,t,s+n);if(o){a=!0;let e=g_(o,t,n+s+1,r);e!=u_&&i.push(s,s+t.nodeSize,e)}});let s=p_(a?f_(e):e,-n).sort(x_);for(let o=0;o<s.length;o++)s[o].type.valid(t,s[o])||(r.onRemove&&r.onRemove(s[o].spec),s.splice(o--,1));return s.length||i.length?new d_(s,i):u_}function x_(e,t){return e.from-t.from||e.to-t.to}function b_(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let a=t[i];if(a.from!=r.from){a.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,a.from),y_(t,i,r.copy(a.from,r.to)));break}a.to!=r.to&&(t==e&&(t=e.slice()),t[i]=a.copy(a.from,r.to),y_(t,i+1,a.copy(r.to,a.to)))}}return t}function y_(e,t,n){for(;t<e.length&&x_(n,e[t])>0;)t++;e.splice(t,0,n)}function v_(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=u_&&t.push(r)}),e.cursorWrapper&&t.push(d_.create(e.state.doc,[e.cursorWrapper.deco])),h_.from(t)}const w_={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},j_=qS&&GS<=11;class N_{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class k_{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new N_,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);qS&&GS<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),j_&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,w_)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iC(this.view)){if(this.suppressingSelectionUpdates)return KA(this.view);if(qS&&GS<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&DS(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let i=e.focusNode;i;i=TS(i))n.add(i);for(let i=e.anchorNode;i;i=TS(i))if(n.has(i)){t=i;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&iC(e)&&!this.ignoreSelectionChange(n),i=-1,a=-1,s=!1,o=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],o);e&&(i=i<0?e.from:Math.min(e.from,i),a=a<0?e.to:Math.max(e.to,a),e.typeOver&&(s=!0))}if(YS&&o.length){let t=o.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&__(e,n)==t||r.remove()}}}let l=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&FS(n)&&(l=YA(e))&&l.eq(sS.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,KA(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,a),function(e){if(!S_.has(e)&&(S_.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=YS,A_)return;A_=!0}}(e)),this.handleDOMChange(i,a,s,o),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||KA(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(qS&&GS<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:a}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!a||Array.prototype.indexOf.call(e.addedNodes,a)<0)&&(i=a)}let a=r&&r.parentNode==e.target?ES(r)+1:0,s=n.localPosFromDOM(e.target,a,-1),o=i&&i.parentNode==e.target?ES(i):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,o,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let S_=new WeakMap,A_=!1;function C_(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return DS(s.node,s.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function __(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function E_(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(XS&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||XS&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const T_=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function O_(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:rC(e,t.resolve(n.anchor),t.resolve(n.head))}function M_(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}function D_(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class P_{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new DC,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(B_),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=R_(this),L_(this),this.nodeViews=F_(this),this.docView=MA(this.state.doc,I_(this),v_(this),this.dom,this),this.domObserver=new k_(this,(e,t,n,r)=>function(e,t,n,r,i){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=YA(e,t);if(n&&!e.state.selection.eq(n)){if(KS&&nA&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,BS(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),a&&r.setMeta("composition",a),e.dispatch(r)}return}let s=e.state.doc.resolve(t),o=s.sharedDepth(n);t=s.before(o+1),n=e.state.doc.resolve(n).after(o+1);let l,c,d=e.state.selection,u=function(e,t,n){let r,{node:i,fromOffset:a,toOffset:s,from:o,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:c.anchorOffset}],FS(c)||r.push({node:c.focusNode,offset:c.focusOffset})),KS&&8===e.input.lastKeyCode)for(let g=s;g>a;g--){let e=i.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=g;break}if(!t||t.size)break}let u=e.state.doc,h=e.someProp("domParser")||ek.fromSchema(e.state.schema),p=u.resolve(o),m=null,f=h.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:E_,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+o,head:t+o}}return{doc:f,sel:m,from:o,to:l}}(e,t,n),h=e.state.doc,p=h.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let m=function(e,t,n,r,i){let a=e.findDiffStart(t,n);if(null==a)return null;let{a:s,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i&&(r-=s+Math.max(0,a-Math.min(s,o))-a),s<a&&e.size<t.size){let e=r<=a&&r>=s?a-r:0;a-=e,a&&a<t.size&&D_(t.textBetween(a-1,a+1))&&(a+=e?1:-1),o=a+(o-s),s=a}else if(o<a){let t=r<=a&&r>=o?a-r:0;a-=t,a&&a<e.size&&D_(e.textBetween(a-1,a+1))&&(a+=t?1:-1),s=a+(s-o),o=a}return{start:a,endA:s,endB:o}}(p.content,u.doc.content,u.from,l,c);if(m&&e.input.domChangeCount++,(ZS&&e.input.lastIOSEnter>Date.now()-225||nA)&&i.some(e=>1==e.nodeType&&!T_.test(e.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",t=>t(e,BS(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!m){if(!(r&&d instanceof dS&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=O_(e,e.state.doc,u.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);a&&n.setMeta("composition",a),e.dispatch(n)}}return}m={start:d.from,endA:d.to,endB:d.to}}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof dS&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),qS&&GS<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&" "==u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)&&(m.start--,m.endA--,m.endB--);let f=u.doc.resolveNoCache(m.start-u.from),g=u.doc.resolveNoCache(m.endB-u.from),x=h.resolve(m.start),b=f.sameParent(g)&&f.parent.inlineContent&&x.end()>=m.endA;if((ZS&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!b&&f.pos<u.doc.content.size&&(!f.sameParent(g)||!f.parent.inlineContent)&&f.pos<g.pos&&!/\S/.test(u.doc.textBetween(f.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,BS(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>m.start&&function(e,t,n,r,i){if(n-t<=i.pos-r.pos||M_(r,!0,!1)<i.pos)return!1;let a=e.resolve(t);if(!r.parent.isTextblock){let e=a.nodeAfter;return null!=e&&n==t+e.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=e.resolve(M_(a,!0,!0));return!(!s.parent.isTextblock||s.pos>n||M_(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(h,m.start,m.endA,f,g)&&e.someProp("handleKeyDown",t=>t(e,BS(8,"Backspace"))))return void(nA&&KS&&e.domObserver.suppressSelectionUpdates());KS&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),nA&&!b&&f.start()!=g.start()&&0==g.parentOffset&&f.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,g=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,BS(13,"Enter"))})},20));let y,v=m.start,w=m.endA,j=t=>{let n=t||e.state.tr.replace(v,w,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let t=O_(e,n.doc,u.sel);t&&!(KS&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==v||t.head==n.mapping.map(w)-1)||qS&&t.empty&&t.head==v)&&n.setSelection(t)}return a&&n.setMeta("composition",a),n.scrollIntoView()};if(b){if(f.pos==g.pos){qS&&GS<=11&&0==f.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>KA(e),20));let t=j(e.state.tr.delete(v,w)),n=h.resolve(m.start).marksAcross(h.resolve(m.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(m.endA==m.endB&&(y=function(e,t){let n,r,i,a=e.firstChild.marks,s=t.firstChild.marks,o=a,l=s;for(let d=0;d<s.length;d++)o=s[d].removeFromSet(o);for(let d=0;d<a.length;d++)l=a[d].removeFromSet(l);if(1==o.length&&0==l.length)r=o[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=o.length||1!=l.length)return null;r=l[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let d=0;d<t.childCount;d++)c.push(i(t.child(d)));if(cN.from(c).eq(e))return{mark:r,type:n}}(f.parent.content.cut(f.parentOffset,g.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start())))){let t=j(e.state.tr);"add"==y.type?t.addMark(v,w,y.mark):t.removeMark(v,w,y.mark),e.dispatch(t)}else if(f.parent.child(f.index()).isText&&f.index()==g.index()-(g.textOffset?0:1)){let t=f.parent.textBetween(f.parentOffset,g.parentOffset),n=()=>j(e.state.tr.insertText(t,v,w));e.someProp("handleTextInput",r=>r(e,v,w,t,n))||e.dispatch(n())}}else e.dispatch(j())}(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in TC){let n=TC[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!RC(e,t)||LC(e,t)||!e.editable&&t.type in OC||n(e,t)},MC[t]?{passive:!0}:void 0)}XS&&e.dom.addEventListener("input",()=>null),IC(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&IC(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(B_),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(QC(this),a=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=F_(this);(function(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,i=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&IC(this),this.editable=R_(this),L_(this);let o=v_(this),l=I_(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=i||!this.docView.matchesNode(e.doc,l,o);!d&&e.selection.eq(r.selection)||(a=!0);let u="preserve"==c&&a&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let a=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(a,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let o=r.getBoundingClientRect();if(o.top>=i-20){t=r,n=o.top;break}}return{refDOM:t,refTop:n,stack:cA(e.dom)}}(this);if(a){this.domObserver.stop();let t=d&&(qS||KS)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(d){let n=KS?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=LS(e=e.childNodes[t-1])}else{if(!e.parentNode||RS(e))return null;t=ES(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||RS(e))return null;t=ES(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}(this)),!i&&this.docView.update(e.doc,l,o,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=MA(e.doc,l,o,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return DS(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?KA(this,t):(tC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;dA(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof hS){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&lA(this,t.getBoundingClientRect(),e)}else lA(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new e_(e.slice,e.move,r<0?void 0:hS.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let a=0;a<this.directPlugins.length;a++){let r=this.directPlugins[a].props[e];if(null!=r&&(n=t?t(r):r))return n}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let r=i[a].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(qS){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(uA)return e.focus(uA);let t=cA(e);e.focus(null==uA?{get preventScroll(){return uA={preventScroll:!0},!0}}:void 0),uA||(uA=!1,dA(t,0))}(this.dom),KA(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return fA(this,e)}coordsAtPos(e,t=1){return yA(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){return kA==t&&SA==n?AA:(kA=t,SA=n,AA="up"==n||"down"==n?function(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return jA(e,t,()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=yA(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=MS(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,s=i==r.parent.content.size,o=e.domSelection();return o?NA.test(r.parent.textContent)&&o.modify?jA(e,t,()=>{let{focusNode:t,focusOffset:i,anchorNode:a,anchorOffset:s}=e.domSelectionRange(),l=o.caretBidiLevel;o.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:d,focusOffset:u}=e.domSelectionRange(),h=d&&!c.contains(1==d.nodeType?d:d.parentNode)||t==d&&i==u;try{o.collapse(a,s),t&&(t!=a||i!=s)&&o.extend&&o.extend(t,i)}catch(p){}return null!=l&&(o.caretBidiLevel=l),h}):"left"==n||"backward"==n?a:s:r.pos==r.start()||r.pos==r.end()}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return XC(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return XC(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return bC(this,e)}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],v_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,OS=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){LC(e,t)||!TC[t.type]||!e.editable&&t.type in OC||TC[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?XS&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return C_(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?C_(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function I_(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[o_.node(0,e.state.doc.content.size,t)]}function L_(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:o_.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function R_(e){return!e.someProp("editable",t=>!1===t(e.state))}function F_(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function B_(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}P_.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var H_={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},z_={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},W_="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),U_="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),V_=0;V_<10;V_++)H_[48+V_]=H_[96+V_]=String(V_);for(V_=1;V_<=24;V_++)H_[V_+111]="F"+V_;for(V_=65;V_<=90;V_++)H_[V_]=String.fromCharCode(V_+32),z_[V_]=String.fromCharCode(V_);for(var $_ in H_)z_.hasOwnProperty($_)||(z_[$_]=H_[$_]);const q_="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),G_="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function Y_(e){let t,n,r,i,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(let o=0;o<a.length-1;o++){let e=a[o];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);q_?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function Q_(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function K_(e){let t=function(e){let t=Object.create(null);for(let n in e)t[Y_(n)]=e[n];return t}(e);return function(e,n){let r,i=function(e){var t=!(W_&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||U_&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?z_:H_)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),a=t[Q_(i,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){let r=t[Q_(i,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(G_&&n.ctrlKey&&n.altKey)&&(r=H_[n.keyCode])&&r!=i){let i=t[Q_(r,n)];if(i&&i(e.state,e.dispatch,e))return!0}}return!1}}const J_=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function X_(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Z_=(e,t,n)=>{let r=X_(e,n);if(!r)return!1;let i=rE(r);if(!i){let n=r.blockRange(),i=n&&Pk(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let a=i.nodeBefore;if(hE(e,i,t,-1))return!0;if(0==r.parent.content.size&&(tE(a,"end")||hS.isSelectable(a)))for(let s=r.depth;;s--){let n=Vk(e.doc,r.before(s),r.after(s),fN.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(tE(a,"end")?sS.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):hS.create(r.doc,i.pos-a.nodeSize)),t(r.scrollIntoView())}return!0}if(1==s||r.node(s-1).childCount>1)break}return!(!a.isAtom||i.depth!=r.depth-1||(t&&t(e.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),0))};function eE(e,t,n){let r=t.nodeBefore,i=t.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let a=t.nodeAfter,s=t.pos+1;for(;!a.isTextblock;s++){if(a.type.spec.isolating)return!1;let e=a.firstChild;if(!e)return!1;a=e}let o=Vk(e.doc,i,s,fN.empty);if(!o||o.from!=i||o instanceof Ek&&o.slice.size>=s-i)return!1;if(n){let t=e.tr.step(o);t.setSelection(dS.create(t.doc,i)),n(t.scrollIntoView())}return!0}function tE(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const nE=(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;a=rE(r)}let s=a&&a.nodeBefore;return!(!s||!hS.isSelectable(s)||(t&&t(e.tr.setSelection(hS.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),0))};function rE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function iE(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const aE=(e,t,n)=>{let r=iE(e,n);if(!r)return!1;let i=oE(r);if(!i)return!1;let a=i.nodeAfter;if(hE(e,i,t,1))return!0;if(0==r.parent.content.size&&(tE(a,"start")||hS.isSelectable(a))){let n=Vk(e.doc,r.before(),r.after(),fN.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(tE(a,"start")?sS.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):hS.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!a.isAtom||i.depth!=r.depth-1||(t&&t(e.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),0))},sE=(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;a=oE(r)}let s=a&&a.nodeAfter;return!(!s||!hS.isSelectable(s)||(t&&t(e.tr.setSelection(hS.create(e.doc,a.pos)).scrollIntoView()),0))};function oE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const lE=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))};function cE(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dE=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof mS||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=cE(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(n,a.createAndFill());s.setSelection(dS.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},uE=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Bk(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Pk(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function hE(e,t,n,r){let i,a,s=t.nodeBefore,o=t.nodeAfter,l=s.type.spec.isolating||o.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,a=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!i.isTextblock&&!Hk(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(i=(a=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&a.matchType(i[0]||o.type).validEnd){if(n){let r=t.pos+o.nodeSize,a=cN.empty;for(let e=i.length-1;e>=0;e--)a=cN.from(i[e].create(null,a));a=cN.from(s.copy(a));let l=e.tr.step(new Tk(t.pos-1,r,t.pos,r,new fN(a,1,0),i.length,!0)),c=l.doc.resolve(r+2*i.length);c.nodeAfter&&c.nodeAfter.type==s.type&&Hk(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let d=o.type.spec.isolating||r>0&&l?null:sS.findFrom(t,1),u=d&&d.$from.blockRange(d.$to),h=u&&Pk(u);if(null!=h&&h>=t.depth)return n&&n(e.tr.lift(u,h).scrollIntoView()),!0;if(c&&tE(o,"start",!0)&&tE(s,"end")){let r=s,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let a=o,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=cN.empty;for(let e=i.length-1;e>=0;e--)r=cN.from(i[e].copy(r));n(e.tr.step(new Tk(t.pos-i.length,t.pos+o.nodeSize,t.pos+l,t.pos+o.nodeSize-l,new fN(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function pE(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return!!i.node(a).isTextblock&&(n&&n(t.tr.setSelection(dS.create(t.doc,e<0?i.start(a):i.end(a)))),!0)}}const mE=pE(-1),fE=pE(1);function gE(e,t=null){return function(n,r){let i=!1;for(let a=0;a<n.selection.ranges.length&&!i;a++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[a];n.doc.nodesBetween(r,s,(r,a)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)i=!0;else{let t=n.doc.resolve(a),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}})}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[r];i.setBlockType(a,s,e,t)}r(i.scrollIntoView())}return!0}}function xE(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}xE(J_,Z_,nE),xE(J_,aE,sE),xE(lE,dE,uE,(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof hS&&e.selection.node.isBlock)return!(!n.parentOffset||!Bk(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.depth)return!1;let i,a,s=[],o=!1,l=!1;for(let h=n.depth;;h--){if(n.node(h).isBlock){o=n.end(h)==n.pos+(n.depth-h),l=n.start(h)==n.pos-(n.depth-h),a=cE(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),s.unshift(o&&a?{type:a}:null),i=h;break}if(1==h)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof dS||e.selection instanceof mS)&&c.deleteSelection();let d=c.mapping.map(n.pos),u=Bk(c.doc,d,s.length,s);if(u||(s[0]=a?{type:a}:null,u=Bk(c.doc,d,s.length,s)),!u)return!1;if(c.split(d,s.length,s),!o&&l&&n.node(i).type!=a){let e=c.mapping.map(n.before(i)),t=c.doc.resolve(e);a&&n.node(i-1).canReplaceWith(t.index(),t.index()+1,a)&&c.setNodeMarkup(c.mapping.map(n.before(i)),a)}return t&&t(c.scrollIntoView()),!0}),"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();var bE=Object.defineProperty,yE=(e,t)=>{for(var n in t)bE(e,n,{get:t[n],enumerable:!0})};function vE(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:a}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,a=n.storedMarks,n}}}var wE=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,a=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(a);return i.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(i),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,s=[],o=!!e,l=e||i.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),i=n(...e)(r);return s.push(i),c}])),run:()=>(o||!t||l.getMeta("preventDispatch")||this.hasCustomState||a.dispatch(l),s.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,a=this.buildProps(i,r),s=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...a,dispatch:void 0})]));return{...s,chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,s={tr:e,editor:r,view:a,state:vE({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(s)]))}};return s}},jE=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function NE(e,t){const n=new iS(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}var kE=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&kE(r)}return e};function SE(e){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return kE(n)}function AE(e,t,n){if(e instanceof DN||e instanceof cN)return e;n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return cN.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return AE("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,i="";const a=new XN({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,i="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?ek.fromSchema(a).parseSlice(SE(e),n.parseOptions):ek.fromSchema(a).parse(SE(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const r=ek.fromSchema(t);return n.slice?r.parseSlice(SE(e),n.parseOptions).content:r.parse(SE(e),n.parseOptions)}return AE("",t,n)}function CE(e,t,n={},r={}){return AE(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function _E(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function EE(e,t,n){return void 0===e.config[t]&&e.parent?EE(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?EE(e.parent,t,n):null}):e.config[t]}function TE(e){return e.map(e=>{const t=EE(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...TE(t())]:e}).flat(10)}function OE(e,t){const n=dk.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function ME(e){return"function"==typeof e}function DE(e,t=void 0,...n){return ME(e)?t?e.bind(t)(...n):e(...n):e}function PE(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function IE(e){const t=[],{nodeExtensions:n,markExtensions:r}=PE(e),i=[...n,...r],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=EE(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:i});n&&n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...a,...r}})})})})}),i.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=EE(e,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach(([n,r])=>{const i={...a,...r};"function"==typeof(null==i?void 0:i.default)&&(i.default=i.default()),(null==i?void 0:i.isRequired)&&void 0===(null==i?void 0:i.default)&&delete i.default,t.push({type:e.name,name:n,attribute:i})})}),t}function LE(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const r=t?String(t).split(" "):[],i=n[e]?n[e].split(" "):[],a=r.filter(e=>!i.includes(e));n[e]=[...i,...a].join(" ")}else if("style"===e){const r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],i=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],a=new Map;i.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());a.set(t,n)}),r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());a.set(t,n)}),n[e]=Array.from(a.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function RE(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>LE(e,t),{})}function FE(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const i=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...i}}}}function BE(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function HE(e){return e.sort((e,t)=>{const n=EE(e,"priority")||100,r=EE(t,"priority")||100;return n>r?-1:n<r?1:0})}function zE(e){const t=HE(TE(e));return function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name)).length,t}function WE(e,t,n){const{from:r,to:i}=t,{blockSeparator:a="\n\n",textSerializers:s={}}=n||{};let o="";return e.nodesBetween(r,i,(e,n,l,c)=>{var d;e.isBlock&&n>r&&(o+=a);const u=null==s?void 0:s[e.type.name];if(u)return l&&(o+=u({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(o+=null==(d=null==e?void 0:e.text)?void 0:d.slice(Math.max(r,n)-n,i-n))}),o}function UE(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function VE(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function $E(e,t){const n=VE(t,e.schema),{from:r,to:i,empty:a}=e.selection,s=[];a?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,e=>{s.push(...e.marks)});const o=s.find(e=>e.type.name===n.name);return o?{...o.attrs}:{}}function qE(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function GE(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function YE(e,t){const n=GE("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=qE(t,e.schema),{from:r,to:i}=e.selection,a=[];e.doc.nodesBetween(r,i,e=>{a.push(e)});const s=a.reverse().find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}(e,t):"mark"===n?$E(e,t):{}}function QE(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,i)=>{const a=[];if(e.ranges.length)e.forEach((e,t)=>{a.push({from:e,to:t})});else{const{from:e,to:t}=n[i];if(void 0===e||void 0===t)return;a.push({from:e,to:t})}a.forEach(({from:e,to:n})=>{const a=t.slice(i).map(e,-1),s=t.slice(i).map(n),o=t.invert().map(a,-1),l=t.invert().map(s);r.push({oldRange:{from:o,to:l},newRange:{from:a,to:s}})})}),function(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>!t.filter((e,t)=>t!==n).some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}(r)}function KE(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function JE(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:KE(t[r])?t[r].test(e[r]):t[r]===e[r])}function XE(e,t,n={}){return e.find(e=>e.type===t&&JE(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function ZE(e,t,n={}){return!!XE(e,t,n)}function eT(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if(i.node&&i.node.marks.some(e=>e.type===t)||(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(e=>e.type===t))return;if(n=n||(null==(r=i.node.marks[0])?void 0:r.attrs),!XE([...i.node.marks],t,n))return;let a=i.index,s=e.start()+i.offset,o=a+1,l=s+i.node.nodeSize;for(;a>0&&ZE([...e.parent.child(a-1).marks],t,n);)a-=1,s-=e.parent.child(a).nodeSize;for(;o<e.parent.childCount&&ZE([...e.parent.child(o).marks],t,n);)l+=e.parent.child(o).nodeSize,o+=1;return{from:s,to:l}}function tT(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const i=eT(n.resolve(e),t.type);i&&r.push({mark:t,...i})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function nT(e,t){return t.nodes[e]||t.marks[e]||null}function rT(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function iT(e,t,n={}){const{empty:r,ranges:i}=e.selection,a=t?VE(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!a||a.name===e.type.name).find(e=>JE(e.attrs,n,{strict:!1}));let s=0;const o=[];if(i.forEach(({$from:t,$to:n})=>{const r=t.pos,i=n.pos;e.doc.nodesBetween(r,i,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),a=Math.min(i,t+e.nodeSize);s+=a-n,o.push(...e.marks.map(e=>({mark:e,from:n,to:a})))})}),0===s)return!1;const l=o.filter(e=>!a||a.name===e.mark.type.name).filter(e=>JE(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=o.filter(e=>!a||e.mark.type!==a&&e.mark.type.excludes(a)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=s}function aT(e,t,n={}){const{from:r,to:i,empty:a}=e.selection,s=t?qE(t,e.schema):null,o=[];e.doc.nodesBetween(r,i,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),a=Math.min(i,t+e.nodeSize);o.push({node:e,from:n,to:a})});const l=i-r,c=o.filter(e=>!s||s.name===e.node.type.name).filter(e=>JE(e.node.attrs,n,{strict:!1}));return a?!!c.length:c.reduce((e,t)=>e+t.to-t.from,0)>=l}function sT(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function oT(e,t){const{nodeExtensions:n}=PE(t),r=n.find(t=>t.name===e);if(!r)return!1;const i=DE(EE(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof i&&i.split(" ").includes("list")}function lT(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(lT(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function cT(e){return e instanceof hS}function dT(e){return e instanceof dS}function uT(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function hT(e,t=null){if(!t)return null;const n=sS.atStart(e),r=sS.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const i=n.from,a=r.to;return"all"===t?dS.create(e,uT(0,i,a),uT(e.content.size,i,a)):dS.create(e,uT(t,i,a),uT(t,i,a))}var pT=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function mT(e){var t;const{editor:n,from:r,to:i,text:a,rules:s,plugin:o}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1;const u=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,i,a)=>{var s,o;const l=(null==(o=(s=e.type.spec).toText)?void 0:o.call(s,{node:e,pos:t,parent:i,index:a}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+a;return s.forEach(e=>{if(d)return;const t=((e,t)=>{if(KE(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith),r.push(n.replaceWith)),r})(u,e.find);if(!t)return;const s=l.state.tr,c=vE({state:l.state,transaction:s}),h={from:r-(t[0].length-a.length),to:i},{commands:p,chain:m,can:f}=new wE({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:m,can:f})&&s.steps.length&&(e.undoable&&s.setMeta(o,{transform:s,from:r,to:i,text:a}),l.dispatch(s),d=!0)}),d}function fT(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function gT(e,t){const n={...e};return fT(e)&&fT(t)&&Object.keys(t).forEach(r=>{fT(t[r])&&fT(e[r])?n[r]=gT(e[r],t[r]):n[r]=t[r]}),n}var xT=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...DE(EE(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...DE(EE(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>gT(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},bT=class e extends xT{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const i=r.marks();if(!i.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const a=i.find(e=>(null==e?void 0:e.type.name)===t.name);return a&&n.removeStoredMark(a),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},yT=class{constructor(e){this.find=e.find,this.handler=e.handler}};var vT=null;function wT(e){const{editor:t,rules:n}=e;let r,i=null,a=!1,s=!1,o="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch(Dw){r=null}const l=({state:e,from:n,to:i,rule:a,pasteEvt:s})=>{const l=e.tr,c=vE({state:e,transaction:l});if(function(e){const{editor:t,state:n,from:r,to:i,rule:a,pasteEvent:s,dropEvent:o}=e,{commands:l,chain:c,can:d}=new wE({editor:t,state:n}),u=[];return n.doc.nodesBetween(r,i,(e,t)=>{var h,p,m,f,g;if((null==(p=null==(h=e.type)?void 0:h.spec)?void 0:p.code)||!(e.isText||e.isTextblock||e.isInline))return;const x=null!=(g=null!=(f=null==(m=e.content)?void 0:m.size)?f:e.nodeSize)?g:0,b=Math.max(r,t),y=Math.min(i,t+x);b>=y||((e,t,n)=>{if(KE(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(b-t,y-t,void 0,""),a.find,s).forEach(e=>{if(void 0===e.index)return;const t=b+e.index+1,r=t+e[0].length,i={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},h=a.handler({state:n,range:i,match:e,commands:l,chain:c,can:d,pasteEvent:s,dropEvent:o});u.push(h)})}),u.every(e=>null!==e)}({editor:t,state:c,from:Math.max(n-1,0),to:i.b-1,rule:a,pasteEvent:s,dropEvent:r})&&l.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch(Dw){r=null}return o="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}};return n.map(e=>new SS({view(e){const n=n=>{var r;i=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,i&&(vT=t)},r=()=>{vT&&(vT=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(s=i===e.dom.parentElement,r=t,!s){const e=vT;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return o=t,a=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const i=t[0],c="paste"===i.getMeta("uiEvent")&&!a,d="drop"===i.getMeta("uiEvent")&&!s,u=i.getMeta("applyPasteRules"),h=!!u;if(!c&&!d&&!h)return;if(h){let{text:t}=u;"string"==typeof t||(t=OE(cN.from(t),r.schema));const{from:n}=u,i=n+t.length,a=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:i},pasteEvt:a})}const p=n.doc.content.findDiffStart(r.doc.content),m=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof p&&m&&p!==m.b?l({rule:e,state:r,from:p,to:m,pasteEvt:o}):void 0}}))}var jT=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=zE(e),this.schema=function(e,t){var n;const r=IE(e),{nodeExtensions:i,markExtensions:a}=PE(e),s=null==(n=i.find(e=>EE(e,"topNode")))?void 0:n.name,o=Object.fromEntries(i.map(n=>{const i=r.filter(e=>e.type===n.name),a={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce((e,t)=>{const r=EE(t,"extendNodeSchema",a);return{...e,...r?r(n):{}}},{}),o=BE({...s,content:DE(EE(n,"content",a)),marks:DE(EE(n,"marks",a)),group:DE(EE(n,"group",a)),inline:DE(EE(n,"inline",a)),atom:DE(EE(n,"atom",a)),selectable:DE(EE(n,"selectable",a)),draggable:DE(EE(n,"draggable",a)),code:DE(EE(n,"code",a)),whitespace:DE(EE(n,"whitespace",a)),linebreakReplacement:DE(EE(n,"linebreakReplacement",a)),defining:DE(EE(n,"defining",a)),isolating:DE(EE(n,"isolating",a)),attrs:Object.fromEntries(i.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=DE(EE(n,"parseHTML",a));l&&(o.parseDOM=l.map(e=>FE(e,i)));const c=EE(n,"renderHTML",a);c&&(o.toDOM=e=>c({node:e,HTMLAttributes:RE(e,i)}));const d=EE(n,"renderText",a);return d&&(o.toText=d),[n.name,o]})),l=Object.fromEntries(a.map(n=>{const i=r.filter(e=>e.type===n.name),a={name:n.name,options:n.options,storage:n.storage,editor:t},s=e.reduce((e,t)=>{const r=EE(t,"extendMarkSchema",a);return{...e,...r?r(n):{}}},{}),o=BE({...s,inclusive:DE(EE(n,"inclusive",a)),excludes:DE(EE(n,"excludes",a)),group:DE(EE(n,"group",a)),spanning:DE(EE(n,"spanning",a)),code:DE(EE(n,"code",a)),attrs:Object.fromEntries(i.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))}),l=DE(EE(n,"parseHTML",a));l&&(o.parseDOM=l.map(e=>FE(e,i)));const c=EE(n,"renderHTML",a);return c&&(o.toDOM=e=>c({mark:e,HTMLAttributes:RE(e,i)})),[n.name,o]}));return new XN({topNode:s,nodes:o,marks:l})}(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=EE(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:nT(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this;return HE([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:nT(t.name,this.schema)},r=[],i=EE(t,"addKeyboardShortcuts",n);let a={};if("mark"===t.type&&EE(t,"exitable",n)&&(a.ArrowRight=()=>bT.handleExit({editor:e,mark:t})),i){const t=Object.fromEntries(Object.entries(i()).map(([t,n])=>[t,()=>n({editor:e})]));a={...a,...t}}const s=new SS({props:{handleKeyDown:K_(a)}});r.push(s);const o=EE(t,"addInputRules",n);if(sT(t,e.options.enableInputRules)&&o){const t=o();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new SS({state:{init:()=>null,apply(e,i,a){const s=e.getMeta(r);if(s)return s;const o=e.getMeta("applyInputRules");return!!o&&setTimeout(()=>{let{text:e}=o;"string"==typeof e||(e=OE(cN.from(e),a.schema));const{from:i}=o,s=i+e.length;mT({editor:t,from:i,to:s,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:i}},props:{handleTextInput:(e,i,a,s)=>mT({editor:t,from:i,to:a,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:i}=e.state.selection;i&&mT({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,i){if("Enter"!==i.key)return!1;const{$cursor:a}=e.state.selection;return!!a&&mT({editor:t,from:a.pos,to:a.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),i=Array.isArray(n)?n:[n];r.push(...i)}}const l=EE(t,"addPasteRules",n);if(sT(t,e.options.enablePasteRules)&&l){const t=l();if(t&&t.length){const n=wT({editor:e,rules:t});r.push(...n)}}const c=EE(t,"addProseMirrorPlugins",n);if(c){const e=c();r.push(...e)}return r})}get attributes(){return IE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=PE(this.extensions);return Object.fromEntries(t.filter(e=>!!EE(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:qE(t.name,this.schema)},i=EE(t,"addNodeView",r);return i?[t.name,(r,a,s,o,l)=>{const c=RE(r,n);return i()({node:r,view:a,getPos:s,decorations:o,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]:[]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=PE(this.extensions);return Object.fromEntries(t.filter(e=>!!EE(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:VE(t.name,this.schema)},i=EE(t,"addMarkView",r);return i?[t.name,(r,a,s)=>{const o=RE(r,n);return i()({mark:r,view:a,inline:s,editor:e,extension:t,HTMLAttributes:o,updateAttributes:t=>{!function(e,t,n={}){const{state:r}=t,{doc:i,tr:a}=r,s=e;i.descendants((t,r)=>{const i=a.mapping.map(r),o=a.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach(e=>{if(e!==s)return!1;l=e}),!l)return;let c=!1;if(Object.keys(n).forEach(e=>{n[e]!==l.attrs[e]&&(c=!0)}),c){const t=e.type.create({...e.attrs,...n});a.removeMark(i,o,e.type),a.addMark(i,o,t)}}),a.docChanged&&t.view.dispatch(a)}(r,e,t)}})}]:[]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:nT(e.name,this.schema)};"mark"===e.type&&(null==(t=DE(EE(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name);const r=EE(e,"onBeforeCreate",n),i=EE(e,"onCreate",n),a=EE(e,"onUpdate",n),s=EE(e,"onSelectionUpdate",n),o=EE(e,"onTransaction",n),l=EE(e,"onFocus",n),c=EE(e,"onBlur",n),d=EE(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),o&&this.editor.on("transaction",o),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}};jT.resolve=zE,jT.sort=HE,jT.flatten=TE,yE({},{ClipboardTextSerializer:()=>kT,Commands:()=>LO,Delete:()=>RO,Drop:()=>FO,Editable:()=>BO,FocusEvents:()=>zO,Keymap:()=>WO,Paste:()=>UO,Tabindex:()=>VO,focusEventsPluginKey:()=>HO});var NT=class e extends xT{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},kT=NT.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new SS({key:new _S("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:a}=i,s=Math.min(...a.map(e=>e.$from.pos)),o=Math.max(...a.map(e=>e.$to.pos)),l=UE(n);return WE(r,{from:s,to:o},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),ST={};yE(ST,{blur:()=>AT,clearContent:()=>CT,clearNodes:()=>_T,command:()=>ET,createParagraphNear:()=>TT,cut:()=>OT,deleteCurrentNode:()=>MT,deleteNode:()=>DT,deleteRange:()=>PT,deleteSelection:()=>IT,enter:()=>LT,exitCode:()=>RT,extendMarkRange:()=>FT,first:()=>BT,focus:()=>zT,forEach:()=>WT,insertContent:()=>UT,insertContentAt:()=>VT,joinBackward:()=>GT,joinDown:()=>qT,joinForward:()=>YT,joinItemBackward:()=>QT,joinItemForward:()=>KT,joinTextblockBackward:()=>JT,joinTextblockForward:()=>XT,joinUp:()=>$T,keyboardShortcut:()=>eO,lift:()=>tO,liftEmptyBlock:()=>nO,liftListItem:()=>rO,newlineInCode:()=>iO,resetAttributes:()=>sO,scrollIntoView:()=>oO,selectAll:()=>lO,selectNodeBackward:()=>cO,selectNodeForward:()=>dO,selectParentNode:()=>uO,selectTextblockEnd:()=>hO,selectTextblockStart:()=>pO,setContent:()=>mO,setMark:()=>fO,setMeta:()=>gO,setNode:()=>xO,setNodeSelection:()=>bO,setTextSelection:()=>yO,sinkListItem:()=>vO,splitBlock:()=>jO,splitListItem:()=>NO,toggleList:()=>AO,toggleMark:()=>CO,toggleNode:()=>_O,toggleWrap:()=>EO,undoInputRule:()=>TO,unsetAllMarks:()=>OO,unsetMark:()=>MO,updateAttributes:()=>DO,wrapIn:()=>PO,wrapInList:()=>IO});var AT=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),CT=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),_T=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return!n||(i.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:i}=t,a=r.resolve(i.map(n)),s=r.resolve(i.map(n+e.nodeSize)),o=a.blockRange(s);if(!o)return;const l=Pk(o);if(e.type.isTextblock){const{defaultType:e}=a.parent.contentMatchAt(a.index());t.setNodeMarkup(o.start,e)}(l||0===l)&&t.lift(o,l)})}),!0)},ET=e=>t=>e(t),TT=()=>({state:e,dispatch:t})=>dE(e,t),OT=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,a=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,a.content),r.setSelection(new dS(r.doc.resolve(Math.max(s-1,0)))),!0},MT=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(t){const t=i.before(a),n=i.after(a);e.delete(t,n).scrollIntoView()}return!0}return!1},DT=e=>({tr:t,state:n,dispatch:r})=>{const i=qE(e,n.schema),a=t.selection.$anchor;for(let e=a.depth;e>0;e-=1)if(a.node(e).type===i){if(r){const n=a.before(e),r=a.after(e);t.delete(n,r).scrollIntoView()}return!0}return!1},PT=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},IT=()=>({state:e,dispatch:t})=>J_(e,t),LT=()=>({commands:e})=>e.keyboardShortcut("Enter"),RT=()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),s=cE(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,s.createAndFill());i.setSelection(sS.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0})(e,t),FT=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const a=VE(e,r.schema),{doc:s,selection:o}=n,{$from:l,from:c,to:d}=o;if(i){const e=eT(l,a,t);if(e&&e.from<=c&&e.to>=d){const t=dS.create(s,e.from,e.to);n.setSelection(t)}}return!0},BT=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function HT(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var zT=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:a})=>{t={scrollIntoView:!0,...t};const s=()=>{(HT()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===e||!1===e)return!0;if(a&&null===e&&!dT(n.state.selection))return s(),!0;const o=hT(i.doc,e)||n.state.selection,l=n.state.selection.eq(o);return a&&(l||i.setSelection(o),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},WT=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),UT=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),VT=(e,t,n)=>({tr:r,dispatch:i,editor:a})=>{var s;if(i){let i;const o=e=>{a.emit("contentError",{editor:a,error:e,disableCollaboration:()=>{"collaboration"in a.storage&&"object"==typeof a.storage.collaboration&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...(n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{AE(t,a.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(Dw){o(Dw)}try{i=AE(t,a.schema,{parseOptions:l,errorOnInvalidContent:null!=(s=n.errorOnInvalidContent)?s:a.options.enableContentCheck})}catch(Dw){return o(Dw),!1}let c,{from:d,to:u}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},h=!0,p=!0;if(("type"in i?[i]:i).forEach(e=>{e.check(),h=!!h&&e.isText&&0===e.marks.length,p=!!p&&e.isBlock}),d===u&&p){const{parent:e}=r.doc.resolve(d);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(d-=1,u+=1)}if(h){if(Array.isArray(t))c=t.map(e=>e.text||"").join("");else if(t instanceof cN){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),c=e}else c="object"==typeof t&&t&&t.text?t.text:t;r.insertText(c,d,u)}else{c=i;const e=r.doc.resolve(d),t=e.node(),n=0===e.parentOffset,a=t.isText||t.isTextblock,s=t.content.size>0;n&&a&&s&&(d=Math.max(0,d-1)),r.replaceWith(d,u,c)}n.updateSelection&&function(e,t){const n=e.steps.length-1;if(n<t)return;const r=e.steps[n];if(!(r instanceof Ek||r instanceof Tk))return;const i=e.mapping.maps[n];let a=0;i.forEach((e,t,n,r)=>{0===a&&(a=r)}),e.setSelection(sS.near(e.doc.resolve(a),-1))}(r,r.steps.length-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:c}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:c})}return!0},$T=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,i=r instanceof hS;if(i){if(r.node.isTextblock||!Hk(e.doc,r.from))return!1;n=r.from}else if(n=Wk(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);i&&r.setSelection(hS.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),qT=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof hS){if(r.node.isTextblock||!Hk(e.doc,r.to))return!1;n=r.to}else if(n=Wk(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),GT=()=>({state:e,dispatch:t})=>Z_(e,t),YT=()=>({state:e,dispatch:t})=>aE(e,t),QT=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Wk(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(Dw){return!1}},KT=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Wk(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(Dw){return!1}},JT=()=>({state:e,dispatch:t})=>((e,t)=>{let n=X_(e,void 0);if(!n)return!1;let r=rE(n);return!!r&&eE(e,r,t)})(e,t),XT=()=>({state:e,dispatch:t})=>((e,t)=>{let n=iE(e,void 0);if(!n)return!1;let r=oE(n);return!!r&&eE(e,r,t)})(e,t);function ZT(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var eO=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const a=function(e){const t=e.split(/-(?!$)/);let n,r,i,a,s=t[t.length-1];"Space"===s&&(s=" ");for(let o=0;o<t.length-1;o+=1){const e=t[o];if(/^(cmd|meta|m)$/i.test(e))a=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error(`Unrecognized modifier name: ${e}`);HT()||ZT()?a=!0:r=!0}}return n&&(s=`Alt-${s}`),r&&(s=`Ctrl-${s}`),a&&(s=`Meta-${s}`),i&&(s=`Shift-${s}`),s}(e).split(/-(?!$)/),s=a.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),o=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,o))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&i&&r.maybeStep(t)}),!0},tO=(e,t={})=>({state:n,dispatch:r})=>!!aT(n,qE(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),a=i&&Pk(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)})(n,r),nO=()=>({state:e,dispatch:t})=>uE(e,t),rO=e=>({state:t,dispatch:n})=>{return(r=qE(e,t.schema),function(e,t){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,e=>e.childCount>0&&e.firstChild.type==r);return!!a&&(!t||(n.node(a.depth-1).type==r?function(e,t,n,r){let i=e.tr,a=r.end,s=r.$to.end(r.depth);a<s&&(i.step(new Tk(a-1,s,a,s,new fN(cN.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ON(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const o=Pk(r);if(null==o)return!1;i.lift(r,o);let l=i.doc.resolve(i.mapping.map(a,-1)-1);return Hk(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}(e,t,r,a):function(e,t,n){let r=e.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,f=n.startIndex;m>f;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let a=r.doc.resolve(n.start),s=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let o=0==n.startIndex,l=n.endIndex==i.childCount,c=a.node(-1),d=a.index(-1);if(!c.canReplace(d+(o?0:1),d+1,s.content.append(l?cN.empty:cN.from(i))))return!1;let u=a.pos,h=u+s.nodeSize;return r.step(new Tk(u-(o?1:0),h+(l?1:0),u+1,h-1,new fN((o?cN.empty:cN.from(i.copy(cN.empty))).append(l?cN.empty:cN.from(i.copy(cN.empty))),o?0:1,l?0:1),o?0:1)),t(r.scrollIntoView()),!0}(e,t,a)))})(t,n);var r},iO=()=>({state:e,dispatch:t})=>lE(e,t);function aO(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var sO=(e,t)=>({tr:n,state:r,dispatch:i})=>{let a=null,s=null;const o=GE("string"==typeof e?e:e.name,r.schema);return!!o&&("node"===o&&(a=qE(e,r.schema)),"mark"===o&&(s=VE(e,r.schema)),i&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{a&&a===e.type&&n.setNodeMarkup(r,void 0,aO(e.attrs,t)),s&&e.marks.length&&e.marks.forEach(i=>{s===i.type&&n.addMark(r,r+e.nodeSize,s.create(aO(i.attrs,t)))})})}),!0)},oO=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),lO=()=>({tr:e,dispatch:t})=>{if(t){const t=new mS(e.doc);e.setSelection(t)}return!0},cO=()=>({state:e,dispatch:t})=>nE(e,t),dO=()=>({state:e,dispatch:t})=>sE(e,t),uO=()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:i}=e.selection,a=r.sharedDepth(i);return 0!=a&&(n=r.before(a),t&&t(e.tr.setSelection(hS.create(e.doc,n))),!0)})(e,t),hO=()=>({state:e,dispatch:t})=>fE(e,t),pO=()=>({state:e,dispatch:t})=>mE(e,t),mO=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:a,dispatch:s,commands:o})=>{const{doc:l}=a;if("full"!==r.preserveWhitespace){const o=CE(e,i.schema,r,{errorOnInvalidContent:null!=t?t:i.options.enableContentCheck});return s&&a.replaceWith(0,l.content.size,o).setMeta("preventUpdate",!n),!0}return s&&a.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:i.options.enableContentCheck})},fO=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=n,{empty:s,ranges:o}=a,l=VE(e,r.schema);if(i)if(s){const e=$E(r,l);n.addStoredMark(l.create({...e,...t}))}else o.forEach(e=>{const i=e.$from.pos,a=e.$to.pos;r.doc.nodesBetween(i,a,(e,r)=>{const s=Math.max(r,i),o=Math.min(r+e.nodeSize,a);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(s,o,l.create({...e.attrs,...t}))}):n.addMark(s,o,l.create(t))})});return function(e,t,n){var r;const{selection:i}=t;let a=null;if(dT(i)&&(a=i.$cursor),a){const t=null!=(r=e.storedMarks)?r:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:t,$to:r})=>{let i=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(i)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),a=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));i=t&&a}return!i}),i})}(r,n,l)},gO=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),xO=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const a=qE(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),!!a.isTextblock&&i().command(({commands:e})=>!!gE(a,{...s,...t})(n)||e.clearNodes()).command(({state:e})=>gE(a,{...s,...t})(e,r)).run()},bO=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=uT(e,0,n.content.size),i=hS.create(n,r);t.setSelection(i)}return!0},yO=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:i}="number"==typeof e?{from:e,to:e}:e,a=dS.atStart(n).from,s=dS.atEnd(n).to,o=uT(r,a,s),l=uT(i,a,s),c=dS.create(n,o,l);t.setSelection(c)}return!0},vO=e=>({state:t,dispatch:n})=>{const r=qE(e,t.schema);return(i=r,function(e,t){let{$from:n,$to:r}=e.selection,a=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==i);if(!a)return!1;let s=a.startIndex;if(0==s)return!1;let o=a.parent,l=o.child(s-1);if(l.type!=i)return!1;if(t){let n=l.lastChild&&l.lastChild.type==o.type,r=cN.from(n?i.create():null),s=new fN(cN.from(i.create(null,cN.from(o.type.create(null,r)))),n?3:1,0),c=a.start,d=a.end;t(e.tr.step(new Tk(c-(n?3:1),d,c,d,s,1,!0)).scrollIntoView())}return!0})(t,n);var i};function wO(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var jO=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:a,doc:s}=t,{$from:o,$to:l}=a,c=rT(i.extensionManager.attributes,o.node().type.name,o.node().attrs);if(a instanceof hS&&a.node.isBlock)return!(!o.parentOffset||!Bk(s,o.pos)||(r&&(e&&wO(n,i.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),0));if(!o.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,u=0===o.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(o.node(-1).contentMatchAt(o.indexAfter(-1)));let h=d&&u?[{type:u,attrs:c}]:void 0,p=Bk(t.doc,t.mapping.map(o.pos),1,h);if(h||p||!Bk(t.doc,t.mapping.map(o.pos),1,u?[{type:u}]:void 0)||(p=!0,h=u?[{type:u,attrs:c}]:void 0),r){if(p&&(a instanceof dS&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,h),u&&!d&&!o.parentOffset&&o.parent.type!==u)){const e=t.mapping.map(o.before()),n=t.doc.resolve(e);o.node(-1).canReplaceWith(n.index(),n.index()+1,u)&&t.setNodeMarkup(t.mapping.map(o.before()),u)}e&&wO(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},NO=(e,t={})=>({tr:n,state:r,dispatch:i,editor:a})=>{var s;const o=qE(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==o)return!1;const h=a.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let e=cN.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=cN.from(l.node(t).copy(e));const i=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,a={...rT(h,l.node().type.name,l.node().attrs),...t},c=(null==(s=o.contentMatch.defaultType)?void 0:s.createAndFill(a))||void 0;e=e.append(cN.from(o.createAndFill(null,c)||void 0));const d=l.before(l.depth-(r-1));n.replace(d,l.after(-i),new fN(e,4-r,0));let u=-1;n.doc.nodesBetween(d,n.doc.content.size,(e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)}),u>-1&&n.setSelection(dS.near(n.doc.resolve(u))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,m={...rT(h,u.type.name,u.attrs),...t},f={...rT(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:o,attrs:m},{type:p,attrs:f}]:[{type:o,attrs:m}];if(!Bk(n.doc,l.pos,2))return!1;if(i){const{selection:e,storedMarks:t}=r,{splittableMarks:s}=a.extensionManager,o=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!o||!i)return!0;const c=o.filter(e=>s.includes(e.type.name));n.ensureMarks(c)}return!0},kO=(e,t)=>{const n=_E(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!Hk(e.doc,n.pos)||(e.join(n.pos),!0)},SO=(e,t)=>{const n=_E(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r);return n.node.type!==(null==i?void 0:i.type)||!Hk(e.doc,r)||(e.join(r),!0)},AO=(e,t,n,r={})=>({editor:i,tr:a,state:s,dispatch:o,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:h}=i.extensionManager,p=qE(e,s.schema),m=qE(t,s.schema),{selection:f,storedMarks:g}=s,{$from:x,$to:b}=f,y=x.blockRange(b),v=g||f.$to.parentOffset&&f.$from.marks();if(!y)return!1;const w=_E(e=>oT(e.type.name,u))(f);if(y.depth>=1&&w&&y.depth-w.depth<=1){if(w.node.type===p)return c.liftListItem(m);if(oT(w.node.type.name,u)&&p.validContent(w.node.content)&&o)return l().command(()=>(a.setNodeMarkup(w.pos,p),!0)).command(()=>kO(a,p)).command(()=>SO(a,p)).run()}return n&&v&&o?l().command(()=>{const e=d().wrapInList(p,r),t=v.filter(e=>h.includes(e.type.name));return a.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(p,r).command(()=>kO(a,p)).command(()=>SO(a,p)).run():l().command(()=>!!d().wrapInList(p,r)||c.clearNodes()).wrapInList(p,r).command(()=>kO(a,p)).command(()=>SO(a,p)).run()},CO=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=n,s=VE(e,r.schema);return iT(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:a}):i.setMark(s,t)},_O=(e,t,n={})=>({state:r,commands:i})=>{const a=qE(e,r.schema),s=qE(t,r.schema),o=aT(r,a,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),o?i.setNode(s,l):i.setNode(a,{...l,...n})},EO=(e,t={})=>({state:n,commands:r})=>{const i=qE(e,n.schema);return aT(n,i,t)?r.lift(i):r.wrapIn(i,t)},TO=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let a;if(i.spec.isInputRules&&(a=i.getState(e))){if(t){const t=e.tr,n=a.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(a.text){const n=t.doc.resolve(a.from).marks();t.replaceWith(a.from,a.to,e.schema.text(a.text,n))}else t.delete(a.from,a.to)}return!0}}return!1},OO=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},MO=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:s=!1}=t,{selection:o}=n,l=VE(e,r.schema),{$from:c,empty:d,ranges:u}=o;if(!i)return!0;if(d&&s){let{from:e,to:t}=o;const r=null==(a=c.marks().find(e=>e.type===l))?void 0:a.attrs,i=eT(c,l,r);i&&(e=i.from,t=i.to),n.removeMark(e,t,l)}else u.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},DO=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let a=null,s=null;const o=GE("string"==typeof e?e:e.name,r.schema);return!!o&&("node"===o&&(a=qE(e,r.schema)),"mark"===o&&(s=VE(e,r.schema)),i&&n.selection.ranges.forEach(e=>{const i=e.$from.pos,o=e.$to.pos;let l,c,d,u;n.selection.empty?r.doc.nodesBetween(i,o,(e,t)=>{a&&a===e.type&&(d=Math.max(t,i),u=Math.min(t+e.nodeSize,o),l=t,c=e)}):r.doc.nodesBetween(i,o,(e,r)=>{r<i&&a&&a===e.type&&(d=Math.max(r,i),u=Math.min(r+e.nodeSize,o),l=r,c=e),r>=i&&r<=o&&(a&&a===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach(a=>{if(s===a.type){const l=Math.max(r,i),c=Math.min(r+e.nodeSize,o);n.addMark(l,c,s.create({...a.attrs,...t}))}}))}),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...t}),s&&c.marks.length&&c.marks.forEach(e=>{s===e.type&&n.addMark(d,u,s.create({...e.attrs,...t}))}))}),!0)},PO=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:i,$to:a}=n.selection,s=i.blockRange(a),o=s&&Ik(s,e,t);return!!o&&(r&&r(n.tr.wrap(s,o).scrollIntoView()),!0)}}(qE(e,n.schema),t)(n,r),IO=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:i,$to:a}=n.selection,s=i.blockRange(a);if(!s)return!1;let o=r?n.tr:null;return!!function(e,t,n,r=null){let i=!1,a=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=s.resolve(t.start-2);a=new ON(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new ON(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let o=Ik(a,n,r,t);return!!o&&(e&&function(e,t,n,r,i){let a=cN.empty;for(let d=n.length-1;d>=0;d--)a=cN.from(n[d].type.create(n[d].attrs,a));e.step(new Tk(t.start-(r?2:0),t.end,t.start,t.end,new fN(a,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let o=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,u=t.endIndex,h=!0;d<u;d++,h=!1)!h&&Bk(e.doc,l,o)&&(e.split(l,o),l+=2*o),l+=c.child(d).nodeSize}(e,t,o,i,n),!0)}(o,s,e,t)&&(r&&r(o.scrollIntoView()),!0)}}(qE(e,n.schema),t)(n,r),LO=NT.create({name:"commands",addCommands:()=>({...ST})}),RO=NT.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const a=()=>{var n,r,i,a;if(null!=(a=null==(i=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.filterTransaction)?void 0:i.call(r,e))?a:e.getMeta("y-sync$"))return;const s=NE(e.before,[e,...t]);QE(s).forEach(t=>{s.mapping.mapResult(t.oldRange.from).deletedAfter&&s.mapping.mapResult(t.oldRange.to).deletedBefore&&s.before.nodesBetween(t.oldRange.from,t.oldRange.to,(n,r)=>{const i=r+n.nodeSize-2,a=t.oldRange.from<=r&&i<=t.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:i,newFrom:s.mapping.map(r),newTo:s.mapping.map(i),deletedRange:t.oldRange,newRange:t.newRange,partial:!a,editor:this.editor,transaction:e,combinedTransform:s})})});const o=s.mapping;s.steps.forEach((t,n)=>{var r,i;if(t instanceof Ak){const a=o.slice(n).map(t.from,-1),l=o.slice(n).map(t.to),c=o.invert().map(a,-1),d=o.invert().map(l),u=null==(r=s.doc.nodeAt(a-1))?void 0:r.marks.some(e=>e.eq(t.mark)),h=null==(i=s.doc.nodeAt(l))?void 0:i.marks.some(e=>e.eq(t.mark));this.editor.emit("delete",{type:"mark",mark:t.mark,from:t.from,to:t.to,deletedRange:{from:c,to:d},newRange:{from:a,to:l},partial:Boolean(h||u),editor:this.editor,transaction:e,combinedTransform:s})}})};null==(i=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.async)||i?setTimeout(a,0):a()}}),FO=NT.create({name:"drop",addProseMirrorPlugins(){return[new SS({key:new _S("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),BO=NT.create({name:"editable",addProseMirrorPlugins(){return[new SS({key:new _S("editable"),props:{editable:()=>this.editor.options.editable}})]}}),HO=new _S("focusEvents"),zO=NT.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new SS({key:HO,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),WO=NT.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:i,$anchor:a}=n,{pos:s,parent:o}=a,l=a.parent.isTextblock&&s>0?t.doc.resolve(s-1):a,c=l.parent.type.spec.isolating,d=a.pos-a.parentOffset,u=c&&1===l.parent.childCount?d===a.pos:sS.atStart(r).from===s;return!(!i||!o.type.isTextblock||o.textContent.length||!u||u&&"paragraph"===a.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},i={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return HT()||ZT()?i:r},addProseMirrorPlugins(){return[new SS({key:new _S("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),i=e.some(e=>e.getMeta("preventClearDocument"));if(!r||i)return;const{empty:a,from:s,to:o}=t.selection,l=sS.atStart(t.doc).from,c=sS.atEnd(t.doc).to;if(a||s!==l||o!==c)return;if(!lT(n.doc))return;const d=n.tr,u=vE({state:n,transaction:d}),{commands:h}=new wE({editor:this.editor,state:u});return h.clearNodes(),d.steps.length?d:void 0}})]}}),UO=NT.create({name:"paste",addProseMirrorPlugins(){return[new SS({key:new _S("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),VO=NT.create({name:"tabindex",addProseMirrorPlugins(){return[new SS({key:new _S("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),$O=class e{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return;t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,s=this.pos+r+(a?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const l=new e(o,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new e(o,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];if(e[i]!==t[i])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const i=Object.keys(t);return this.children.forEach(a=>{n&&r.length>0||(a.node.type.name===e&&i.every(e=>t[e]===a.node.attrs[e])&&r.push(a),n&&r.length>0||(r=r.concat(a.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},qO=class extends jE{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=hT(t,this.options.autofocus);this.editorState=NS.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',document.getElementsByTagName("head")[0].appendChild(r),r}(0,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=ME(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[BO,kT.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),LO,zO,WO,VO,FO,UO,RO].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new jT(n,this)}createCommandManager(){this.commandManager=new wE({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=CE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(Dw){if(!(Dw instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(Dw.message)))throw Dw;this.emit("contentError",{editor:this,error:Dw,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=CE(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new P_(e,{...this.options.editorProps,attributes:{role:"textbox",...null==(t=this.options.editorProps)?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),o=null==s?void 0:s.getMeta("focus"),l=null==s?void 0:s.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||a.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return YE(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return aT(e,null,n)||iT(e,null,n);const r=GE(t,e.schema);return"node"===r?aT(e,t,n):"mark"===r&&iT(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return OE(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){return WE(e,{from:0,to:e.content.size},t)}(this.state.doc,{blockSeparator:t,textSerializers:{...UE(this.schema),...n}})}get isEmpty(){return lT(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new $O(t,this)}get $doc(){return this.$pos(0)}};function GO(e){return new pT({find:e.find,handler:({state:t,range:n,match:r})=>{const i=DE(e.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:a}=t,s=r[r.length-1],o=r[0];if(s){const r=o.search(/\S/),l=n.from+o.indexOf(s),c=l+s.length;if(tT(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&a.delete(c,n.to),l>n.from&&a.delete(n.from+r,l);const d=n.from+r+s.length;a.addMark(n.from+r,d,e.type.create(i||{})),a.removeStoredMark(e.type)}},undoable:e.undoable})}function YO(e){return new pT({find:e.find,handler:({state:t,range:n,match:r})=>{const i=DE(e.getAttributes,void 0,r)||{},{tr:a}=t,s=n.from;let o=n.to;const l=e.type.create(i);if(r[1]){let e=s+r[0].lastIndexOf(r[1]);e>o?e=o:o=e+r[1].length;const t=r[0][r[0].length-1];a.insertText(t,s+r[0].length-1),a.replaceWith(e,o,l)}else if(r[0]){const t=e.type.isInline?s:s-1;a.insert(t,e.type.create(i)).delete(a.mapping.map(s),a.mapping.map(o))}a.scrollIntoView()},undoable:e.undoable})}function QO(e){return new pT({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),a=DE(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,a)},undoable:e.undoable})}function KO(e){return new pT({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const a=DE(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),o=s.doc.resolve(n.from).blockRange(),l=o&&Ik(o,e.type,a);if(!l)return null;if(s.wrap(o,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:i}=e.editor.extensionManager,a=r||n.$to.parentOffset&&n.$from.marks();if(a){const e=a.filter(e=>i.includes(e.type.name));s.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";i().updateAttributes(t,a).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Hk(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&s.join(n.from-1)},undoable:e.undoable})}var JO=class e extends xT{constructor(){super(...arguments),this.type="node"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};function XO(e){return new yT({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const a=DE(e.getAttributes,void 0,r,i);if(!1===a||null===a)return null;const{tr:s}=t,o=r[r.length-1],l=r[0];let c=n.to;if(o){const r=l.search(/\S/),i=n.from+l.indexOf(o),d=i+o.length;if(tT(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>i).length)return null;d<n.to&&s.delete(d,n.to),i>n.from&&s.delete(n.from+r,i),c=n.from+r+o.length,s.addMark(n.from+r,c,e.type.create(a||{})),s.removeStoredMark(e.type)}}})}var ZO=(e,t=0)=>{const n=[];return!e.children.length||t>20||Array.from(e.children).forEach(e=>{"SPAN"===e.tagName?n.push(e):e.children.length&&n.push(...ZO(e,t+1))}),n},eM=bT.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=ZO(e);t&&t.forEach(e=>{var t,n;const r=e.getAttribute("style"),i=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style",`${i};${r}`)})})(e),{})}]},renderHTML({HTMLAttributes:e}){return["span",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(t,n)=>{if(t.isTextblock)return!0;t.marks.filter(e=>e.type===this.type).some(e=>Object.values(e.attrs).some(e=>!!e))||e.removeMark(n,n+t.nodeSize,this.type)}),!0}}}}),tM=NT.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("background-color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),nM=NT.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands:()=>({setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),rM=NT.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})}),iM=NT.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),aM=NT.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands:()=>({setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()})}),sM=NT.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(tM.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(nM.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(rM.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(iM.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(aM.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(eM.configure(this.options.textStyle)),e}}),oM=NT.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(e=>e),toggleTextAlign:e=>({editor:t,commands:n})=>!!this.options.alignments.includes(e)&&(t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),lM=nM,cM=rM;const dM="numeric",uM="ascii",hM="alpha",pM="asciinumeric",mM="alphanumeric",fM="domain",gM="emoji",xM="scheme",bM="slashscheme",yM="whitespace";function vM(e,t){return e in t||(t[e]=[]),t[e]}function wM(e,t,n){t[dM]&&(t[pM]=!0,t[mM]=!0),t[uM]&&(t[pM]=!0,t[hM]=!0),t[pM]&&(t[mM]=!0),t[hM]&&(t[mM]=!0),t[mM]&&(t[fM]=!0),t[gM]&&(t[fM]=!0);for(const r in t){const t=vM(r,n);t.indexOf(e)<0&&t.push(e)}}function jM(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}jM.groups={},jM.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],i=t.jr[r][1];if(i&&n.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){let i;return r=r||jM.groups,t&&t.j?i=t:(i=new jM(t),n&&r&&wM(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const a=e.length;if(!a)return i;for(let s=0;s<a-1;s++)i=i.tt(e[s]);return i.tt(e[a-1],t,n,r)},tt(e,t,n,r){r=r||jM.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const a=t;let s,o=i.go(e);if(o?(s=new jM,Object.assign(s.j,o.j),s.jr.push.apply(s.jr,o.jr),s.jd=o.jd,s.t=o.t):s=new jM,a){if(r)if(s.t&&"string"==typeof s.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,r),n);wM(a,e,r)}else n&&wM(a,n,r);s.t=a}return i.j[e]=s,s}};const NM=(e,t,n,r,i)=>e.ta(t,n,r,i),kM=(e,t,n,r,i)=>e.tr(t,n,r,i),SM=(e,t,n,r,i)=>e.ts(t,n,r,i),AM=(e,t,n,r,i)=>e.tt(t,n,r,i),CM="WORD",_M="UWORD",EM="ASCIINUMERICAL",TM="ALPHANUMERICAL",OM="LOCALHOST",MM="TLD",DM="UTLD",PM="SCHEME",IM="SLASH_SCHEME",LM="NUM",RM="WS",FM="NL",BM="OPENBRACE",HM="CLOSEBRACE",zM="OPENBRACKET",WM="CLOSEBRACKET",UM="OPENPAREN",VM="CLOSEPAREN",$M="OPENANGLEBRACKET",qM="CLOSEANGLEBRACKET",GM="FULLWIDTHLEFTPAREN",YM="FULLWIDTHRIGHTPAREN",QM="LEFTCORNERBRACKET",KM="RIGHTCORNERBRACKET",JM="LEFTWHITECORNERBRACKET",XM="RIGHTWHITECORNERBRACKET",ZM="FULLWIDTHLESSTHAN",eD="FULLWIDTHGREATERTHAN",tD="AMPERSAND",nD="APOSTROPHE",rD="ASTERISK",iD="AT",aD="BACKSLASH",sD="BACKTICK",oD="CARET",lD="COLON",cD="COMMA",dD="DOLLAR",uD="DOT",hD="EQUALS",pD="EXCLAMATION",mD="HYPHEN",fD="PERCENT",gD="PIPE",xD="PLUS",bD="POUND",yD="QUERY",vD="QUOTE",wD="FULLWIDTHMIDDLEDOT",jD="SEMI",ND="SLASH",kD="TILDE",SD="UNDERSCORE",AD="EMOJI",CD="SYM";var _D=Object.freeze({__proto__:null,ALPHANUMERICAL:TM,AMPERSAND:tD,APOSTROPHE:nD,ASCIINUMERICAL:EM,ASTERISK:rD,AT:iD,BACKSLASH:aD,BACKTICK:sD,CARET:oD,CLOSEANGLEBRACKET:qM,CLOSEBRACE:HM,CLOSEBRACKET:WM,CLOSEPAREN:VM,COLON:lD,COMMA:cD,DOLLAR:dD,DOT:uD,EMOJI:AD,EQUALS:hD,EXCLAMATION:pD,FULLWIDTHGREATERTHAN:eD,FULLWIDTHLEFTPAREN:GM,FULLWIDTHLESSTHAN:ZM,FULLWIDTHMIDDLEDOT:wD,FULLWIDTHRIGHTPAREN:YM,HYPHEN:mD,LEFTCORNERBRACKET:QM,LEFTWHITECORNERBRACKET:JM,LOCALHOST:OM,NL:FM,NUM:LM,OPENANGLEBRACKET:$M,OPENBRACE:BM,OPENBRACKET:zM,OPENPAREN:UM,PERCENT:fD,PIPE:gD,PLUS:xD,POUND:bD,QUERY:yD,QUOTE:vD,RIGHTCORNERBRACKET:KM,RIGHTWHITECORNERBRACKET:XM,SCHEME:PM,SEMI:jD,SLASH:ND,SLASH_SCHEME:IM,SYM:CD,TILDE:kD,TLD:MM,UNDERSCORE:SD,UTLD:DM,UWORD:_M,WORD:CM,WS:RM});const ED=/[a-z]/,TD=/\p{L}/u,OD=/\p{Emoji}/u,MD=/\d/,DD=/\s/;let PD=null,ID=null;function LD(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let i,a=e.charCodeAt(r),s=a<55296||a>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,i=[];let a=0,s=0;for(;s<r;){let o=e,l=null,c=0,d=null,u=-1,h=-1;for(;s<r&&(l=o.go(n[s]));)o=l,o.accepts()?(u=0,h=0,d=o):u>=0&&(u+=n[s].length,h++),c+=n[s].length,a+=n[s].length,s++;a-=u,s-=h,c-=u,i.push({t:d.t,v:t.slice(a-c,a),s:a-c,e:a})}return i}function RD(e,t,n,r,i){let a;const s=t.length;for(let o=0;o<s-1;o++){const n=t[o];e.j[n]?a=e.j[n]:(a=new jM(r),a.jr=i.slice(),e.j[n]=a),e=a}return a=new jM(n),a.jr=i.slice(),e.j[t[s-1]]=a,a}function FD(e){const t=[],n=[];let r=0;for(;r<e.length;){let i=0;for(;"0123456789".indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+i),10);t>0;t--)n.pop();r+=i}else n.push(e[r]),r++}return t}const BD={defaultProtocol:"http",events:null,format:zD,formatHref:zD,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function HD(e,t=null){let n=Object.assign({},BD);e&&(n=Object.assign(n,e instanceof HD?e.o:e));const r=n.ignoreTags,i=[];for(let a=0;a<r.length;a++)i.push(r[a].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function zD(e){return e}function WD(e,t){this.t="token",this.v=e,this.tk=t}function UD(e,t){class n extends WD{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}HD.prototype={o:BD,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let i=this.o[e];return i?("object"==typeof i?(i=n.t in i?i[n.t]:BD[e],"function"==typeof i&&r&&(i=i(t,n))):"function"==typeof i&&r&&(i=i(t,n.t,n)),i):i},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},WD.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=BD.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),a=this.toFormattedString(e),s={},o=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return s.href=r,o&&(s.class=o),l&&(s.target=l),c&&(s.rel=c),d&&Object.assign(s,d),{tagName:i,attributes:s,content:a,eventListeners:u}}};const VD=UD("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$D=UD("text"),qD=UD("nl"),GD=UD("url",{isLink:!0,toHref(e=BD.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==OM&&e[1].t===lD}}),YD=e=>new jM(e);function QD(e,t,n){const r=n[0].s,i=n[n.length-1].e;return new e(t.slice(r,i),n)}const KD="undefined"!=typeof console&&console&&console.warn||(()=>{}),JD={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function XD(e,t=!1){if(JD.initialized&&KD(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');JD.customSchemes.push([e,t])}function ZD(e){return JD.initialized||function(){JD.scanner=function(e=[]){const t={};jM.groups=t;const n=new jM;null==PD&&(PD=FD("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==ID&&(ID=FD("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222")),AM(n,"'",nD),AM(n,"{",BM),AM(n,"}",HM),AM(n,"[",zM),AM(n,"]",WM),AM(n,"(",UM),AM(n,")",VM),AM(n,"<",$M),AM(n,">",qM),AM(n,"",GM),AM(n,"",YM),AM(n,"",QM),AM(n,"",KM),AM(n,"",JM),AM(n,"",XM),AM(n,"",ZM),AM(n,"",eD),AM(n,"&",tD),AM(n,"*",rD),AM(n,"@",iD),AM(n,"`",sD),AM(n,"^",oD),AM(n,":",lD),AM(n,",",cD),AM(n,"$",dD),AM(n,".",uD),AM(n,"=",hD),AM(n,"!",pD),AM(n,"-",mD),AM(n,"%",fD),AM(n,"|",gD),AM(n,"+",xD),AM(n,"#",bD),AM(n,"?",yD),AM(n,'"',vD),AM(n,"/",ND),AM(n,";",jD),AM(n,"~",kD),AM(n,"_",SD),AM(n,"\\",aD),AM(n,"",wD);const r=kM(n,MD,LM,{[dM]:!0});kM(r,MD,r);const i=kM(r,ED,EM,{[pM]:!0}),a=kM(r,TD,TM,{[mM]:!0}),s=kM(n,ED,CM,{[uM]:!0});kM(s,MD,i),kM(s,ED,s),kM(i,MD,i),kM(i,ED,i);const o=kM(n,TD,_M,{[hM]:!0});kM(o,ED),kM(o,MD,a),kM(o,TD,o),kM(a,MD,a),kM(a,ED),kM(a,TD,a);const l=AM(n,"\n",FM,{[yM]:!0}),c=AM(n,"\r",RM,{[yM]:!0}),d=kM(n,DD,RM,{[yM]:!0});AM(n,"",d),AM(c,"\n",l),AM(c,"",d),kM(c,DD,d),AM(d,"\r"),AM(d,"\n"),kM(d,DD,d),AM(d,"",d);const u=kM(n,OD,AD,{[gM]:!0});AM(u,"#"),kM(u,OD,u),AM(u,"",u);const h=AM(u,"");AM(h,"#"),kM(h,OD,u);const p=[[ED,s],[MD,i]],m=[[ED,null],[TD,o],[MD,a]];for(let f=0;f<PD.length;f++)RD(n,PD[f],MM,CM,p);for(let f=0;f<ID.length;f++)RD(n,ID[f],DM,_M,m);wM(MM,{tld:!0,ascii:!0},t),wM(DM,{utld:!0,alpha:!0},t),RD(n,"file",PM,CM,p),RD(n,"mailto",PM,CM,p),RD(n,"http",IM,CM,p),RD(n,"https",IM,CM,p),RD(n,"ftp",IM,CM,p),RD(n,"ftps",IM,CM,p),wM(PM,{scheme:!0,ascii:!0},t),wM(IM,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let f=0;f<e.length;f++){const t=e[f][0],r=e[f][1]?{[xM]:!0}:{[bM]:!0};t.indexOf("-")>=0?r[fM]=!0:ED.test(t)?MD.test(t)?r[pM]=!0:r[uM]=!0:r[dM]=!0,SM(n,t,t,r)}return SM(n,"localhost",OM,{ascii:!0}),n.jd=new jM(CD),{start:n,tokens:Object.assign({groups:t},_D)}}(JD.customSchemes);for(let e=0;e<JD.tokenQueue.length;e++)JD.tokenQueue[e][1]({scanner:JD.scanner});JD.parser=function({groups:e}){const t=e.domain.concat([tD,rD,iD,aD,sD,oD,dD,hD,mD,LM,fD,gD,xD,bD,ND,CD,kD,SD]),n=[nD,lD,cD,uD,pD,fD,yD,vD,jD,$M,qM,BM,HM,WM,zM,UM,VM,GM,YM,QM,KM,JM,XM,ZM,eD],r=[tD,nD,rD,aD,sD,oD,dD,hD,mD,BM,HM,fD,gD,xD,bD,yD,ND,CD,kD,SD],i=YD(),a=AM(i,kD);NM(a,r,a),NM(a,e.domain,a);const s=YD(),o=YD(),l=YD();NM(i,e.domain,s),NM(i,e.scheme,o),NM(i,e.slashscheme,l),NM(s,r,a),NM(s,e.domain,s);const c=AM(s,iD);AM(a,iD,c),AM(o,iD,c),AM(l,iD,c);const d=AM(a,uD);NM(d,r,a),NM(d,e.domain,a);const u=YD();NM(c,e.domain,u),NM(u,e.domain,u);const h=AM(u,uD);NM(h,e.domain,u);const p=YD(VD);NM(h,e.tld,p),NM(h,e.utld,p),AM(c,OM,p);const m=AM(u,mD);AM(m,mD,m),NM(m,e.domain,u),NM(p,e.domain,u),AM(p,uD,h),AM(p,mD,m);const f=AM(p,lD);NM(f,e.numeric,VD);const g=AM(s,mD),x=AM(s,uD);AM(g,mD,g),NM(g,e.domain,s),NM(x,r,a),NM(x,e.domain,s);const b=YD(GD);NM(x,e.tld,b),NM(x,e.utld,b),NM(b,e.domain,s),NM(b,r,a),AM(b,uD,x),AM(b,mD,g),AM(b,iD,c);const y=AM(b,lD),v=YD(GD);NM(y,e.numeric,v);const w=YD(GD),j=YD();NM(w,t,w),NM(w,n,j),NM(j,t,w),NM(j,n,j),AM(b,ND,w),AM(v,ND,w);const N=AM(o,lD),k=AM(l,lD),S=AM(k,ND),A=AM(S,ND);NM(o,e.domain,s),AM(o,uD,x),AM(o,mD,g),NM(l,e.domain,s),AM(l,uD,x),AM(l,mD,g),NM(N,e.domain,w),AM(N,ND,w),AM(N,yD,w),NM(A,e.domain,w),NM(A,t,w),AM(A,ND,w);const C=[[BM,HM],[zM,WM],[UM,VM],[$M,qM],[GM,YM],[QM,KM],[JM,XM],[ZM,eD]];for(let _=0;_<C.length;_++){const[e,r]=C[_],i=AM(w,e);AM(j,e,i),AM(i,r,w);const a=YD(GD);NM(i,t,a);const s=YD();NM(i,n),NM(a,t,a),NM(a,n,s),NM(s,t,a),NM(s,n,s),AM(a,r,w),AM(s,r,w)}return AM(i,OM,b),AM(i,FM,qD),{start:i,tokens:_D}}(JD.scanner.tokens);for(let e=0;e<JD.pluginQueue.length;e++)JD.pluginQueue[e][1]({scanner:JD.scanner,parser:JD.parser});JD.initialized=!0}(),function(e,t,n){let r=n.length,i=0,a=[],s=[];for(;i<r;){let o=e,l=null,c=null,d=0,u=null,h=-1;for(;i<r&&!(l=o.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||o.go(n[i].t));)l=null,o=c,o.accepts()?(h=0,u=o):h>=0&&h++,i++,d++;if(h<0)i-=d,i<r&&(s.push(n[i]),i++);else{s.length>0&&(a.push(QD($D,t,s)),s=[]),i-=h,d-=h;const e=u.t,r=n.slice(i-d,i);a.push(QD(e,t,r))}}return s.length>0&&a.push(QD($D,t,s)),a}(JD.parser.start,e,LD(JD.scanner.start,e))}function eP(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new HD(n),i=ZD(e),a=[];for(let s=0;s<i.length;s++){const e=i[s];!e.isLink||t&&e.t!==t||!r.check(e)||a.push(e.toFormattedObject(r))}return a}ZD.scan=LD;var tP="[\0- -\u2029]",nP=new RegExp(tP),rP=new RegExp(`${tP}$`),iP=new RegExp(tP,"g");function aP(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(iP,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var sP,oP,lP=bT.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate),this.options.protocols.forEach(e=>{"string"!=typeof e?XD(e.scheme,e.optionalSlashes):XD(e)})},onDestroy(){jM.groups={},JD.scanner=null,JD.parser=null,JD.tokenQueue=[],JD.pluginQueue=[],JD.customSchemes=[],JD.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!aP(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!aP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!aP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",LE(this.options.HTMLAttributes,e),0]:["a",LE(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!aP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!aP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[XO({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=eP(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!aP(e,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(e=>t.push({text:e.value,data:{href:e.href},index:e.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;var r;return this.options.autolink&&e.push((r={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!aP(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink},new SS({key:new _S("autolink"),appendTransaction:(e,t,n)=>{const i=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),a=e.some(e=>e.getMeta("preventAutolink"));if(!i||a)return;const{tr:s}=n;return QE(NE(t.doc,[...e])).forEach(({newRange:e})=>{const t=function(e,t){const n=[];return e.nodesBetween(t.from,t.to,(e,t)=>{(e=>e.isTextblock)(e)&&n.push({node:e,pos:t})}),n}(n.doc,e);let i,a;if(t.length>1)i=t[0],a=n.doc.textBetween(i.pos,i.pos+i.node.nodeSize,void 0," ");else if(t.length){const r=n.doc.textBetween(e.from,e.to," "," ");if(!rP.test(r))return;i=t[0],a=n.doc.textBetween(i.pos,e.to,void 0," ")}if(i&&a){const e=a.split(nP).filter(Boolean);if(e.length<=0)return!1;const t=e[e.length-1],l=i.pos+a.lastIndexOf(t);if(!t)return!1;const c=ZD(t).map(e=>e.toObject(r.defaultProtocol));if(!(1===(o=c).length?o[0].isLink:3===o.length&&o[1].isLink&&["()","[]"].includes(o[0].value+o[2].value)))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!n.schema.marks.code||!n.doc.rangeHasMark(e.from,e.to,n.schema.marks.code)).filter(e=>r.validate(e.value)).filter(e=>r.shouldAutoLink(e.value)).forEach(e=>{tT(e.from,e.to,n.doc).some(e=>e.mark.type===r.type)||s.addMark(e.from,e.to,r.type.create({href:e.href}))})}var o}),s.steps.length?s:void 0}}))),!0===this.options.openOnClick&&e.push(function(e){return new SS({key:new _S("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,a;if(0!==r.button)return!1;if(!t.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let e=r.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;s=t.find(e=>"A"===e.nodeName)}if(!s)return!1;const o=YE(t.state,e.type.name),l=null!=(i=null==s?void 0:s.href)?i:o.href,c=null!=(a=null==s?void 0:s.target)?a:o.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!s||!l||(window.open(l,c),0))}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new SS({key:new _S("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:a}=i,{empty:s}=a;if(s)return!1;let o="";r.content.forEach(e=>{o+=e.textContent});const l=eP(o,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===o);return!(!o||!l)&&e.editor.commands.setMark(e.type,{href:l.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),cP=lP,dP={exports:{}},uP={};function hP(){return oP||(oP=1,dP.exports=function(){if(sP)return uP;sP=1;var e=g(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function s(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,d=l[1];return i(function(){c.value=o,c.getSnapshot=t,s(c)&&d({inst:c})},[e,o,t]),r(function(){return s(c)&&d({inst:c}),e(function(){s(c)&&d({inst:c})})},[e]),a(o),o};return uP.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,uP}()),dP.exports}var pP,mP,fP=hP();const gP=a(mP?pP:(mP=1,pP=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var s=a[i];if(!("_owner"===s&&t.$$typeof||e(t[s],n[s])))return!1}return!0}return t!=t&&n!=n}));var xP,bP,yP={exports:{}},vP={},wP=(bP||(bP=1,yP.exports=function(){if(xP)return vP;xP=1;var e=g(),t=hP(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return vP.useSyncExternalStoreWithSelector=function(e,t,l,c,d){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=s(function(){function e(e){if(!a){if(a=!0,r=e,e=c(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var s=c(e);return void 0!==d&&d(t,s)?(r=e,t):(r=e,i=s)}var r,i,a=!1,s=void 0===l?null:l;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,l,c,d]);var p=r(e,u[0],u[1]);return a(function(){h.hasValue=!0,h.value=p},[p]),o(p),p},vP}()),yP.exports),jP=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},NP=({contentComponent:e})=>{const t=fP.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(t)})},kP=class extends b.Component{constructor(e){var t;super(e),this.editorContentRef=b.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:ut.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch(Dw){}}}render(){const{editor:e,innerRef:t,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:jP(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&h.jsx(NP,{contentComponent:e.contentComponent})]})}},SP=x.forwardRef((e,t)=>{const n=b.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return b.createElement(kP,{key:n,innerRef:t,...e})}),AP=b.memo(SP),CP="undefined"!=typeof window?x.useLayoutEffect:x.useEffect,_P=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function EP(e){var t;const[n]=x.useState(()=>new _P(e.editor)),r=wP.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:gP);return CP(()=>n.watch(e.editor),[e.editor,n]),x.useDebugValue(r),r}var TP="undefined"==typeof window,OP=TP||Boolean("undefined"!=typeof window&&window.next),MP=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?TP||OP?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDrop)?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null==(n=(t=this.options.current).onPaste)?void 0:n.call(t,...e)},onDelete:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDelete)?void 0:n.call(t,...e)}};return new qO(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};x.createContext({editor:null}).Consumer;var DP=x.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}});b.forwardRef((e,t)=>{const{onDragStart:n}=x.useContext(DP),r=e.as||"div";return h.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}),b.createContext({markViewContentRef:()=>{}});var PP=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const{children:n,...r}=null!=t?t:{};if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},IP=/^\s*>\s$/,LP=JO.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return PP("blockquote",{...LE(this.options.HTMLAttributes,e),children:PP("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[KO({find:IP,type:this.type})]}}),RP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,FP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,BP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,HP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,zP=bT.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return PP("strong",{...LE(this.options.HTMLAttributes,e),children:PP("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[GO({find:RP,type:this.type}),GO({find:BP,type:this.type})]},addPasteRules(){return[XO({find:FP,type:this.type}),XO({find:HP,type:this.type})]}}),WP=/(^|[^`])`([^`]+)`(?!`)$/,UP=/(^|[^`])`([^`]+)`(?!`)/g,VP=bT.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[GO({find:WP,type:this.type})]},addPasteRules(){return[XO({find:UP,type:this.type})]}}),$P=/^```([a-z]+)?[\s\n]$/,qP=/^~~~([a-z]+)?[\s\n]$/,GP=JO.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;return[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0]||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",LE(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes()},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:i}=r,{$from:a,empty:s}=i;if(a.parent.type!==this.type)return!1;const o=" ".repeat(n);return s?e.commands.insertContent(o):e.commands.command(({tr:e})=>{const{from:t,to:n}=i,a=r.doc.textBetween(t,n,"\n","\n").split("\n").map(e=>o+e).join("\n");return e.replaceWith(t,n,r.schema.text(a)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:i}=r,{$from:a,empty:s}=i;return a.parent.type===this.type&&(s?e.commands.command(({tr:e})=>{var t;const{pos:i}=a,s=a.start(),o=a.end(),l=r.doc.textBetween(s,o,"\n","\n").split("\n");let c=0,d=0;const u=i-s;for(let n=0;n<l.length;n+=1){if(d+l[n].length>=u){c=n;break}d+=l[n].length+1}const h=(null==(t=l[c].match(/^ */))?void 0:t[0])||"",p=Math.min(h.length,n);if(0===p)return!0;let m=s;for(let n=0;n<c;n+=1)m+=l[n].length+1;return e.delete(m,m+p),i-m<=p&&e.setSelection(dS.create(e.doc,m)),!0}):e.commands.command(({tr:e})=>{const{from:t,to:a}=i,s=r.doc.textBetween(t,a,"\n","\n").split("\n").map(e=>{var t;const r=(null==(t=e.match(/^ */))?void 0:t[0])||"",i=Math.min(r.length,n);return e.slice(i)}).join("\n");return e.replaceWith(t,a,r.schema.text(s)),!0}))},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith("\n\n");return!(!a||!s)&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:a}=n;if(!a||i.parent.type!==this.type)return!1;if(i.parentOffset!==i.parent.nodeSize-2)return!1;const s=i.after();return void 0!==s&&(r.nodeAt(s)?e.commands.command(({tr:e})=>(e.setSelection(sS.near(r.resolve(s))),!0)):e.commands.exitCode())}}},addInputRules(){return[QO({find:$P,type:this.type,getAttributes:e=>({language:e[1]})}),QO({find:qP,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new SS({key:new _S("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=null==i?void 0:i.mode;if(!n||!a)return!1;const{tr:s,schema:o}=e.state,l=o.text(n.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:a},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(dS.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),YP=JO.create({name:"doc",topNode:!0,content:"block+"}),QP=JO.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",LE(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:i}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=r.extensionManager,o=i||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&o&&a){const t=o.filter(e=>s.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),KP=JO.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,LE(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>QO({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),JP=JO.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",LE(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!function(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof hS){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let i=r.depth;for(;i>=0;){const e=r.index(i);if(r.node(i).contentMatchAt(e).matchType(t))return!0;i-=1}return!1}(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return cT(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:e,tr:t,dispatch:n})=>{if(n){const{$to:n}=t.selection,r=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?t.setSelection(dS.create(t.doc,n.pos+1)):n.nodeAfter.isBlock?t.setSelection(hS.create(t.doc,n.pos)):t.setSelection(dS.create(t.doc,n.pos));else{const i=e.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,a=null==i?void 0:i.create();a&&(t.insert(r,a),t.setSelection(dS.create(t.doc,r+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[YO({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),XP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ZP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,eI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,tI=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,nI=bT.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[GO({find:XP,type:this.type}),GO({find:eI,type:this.type})]},addPasteRules(){return[XO({find:ZP,type:this.type}),XO({find:tI,type:this.type})]}}),rI=Object.defineProperty,iI="textStyle",aI=/^\s*([-+*])\s$/,sI=JO.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(iI)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=KO({find:aI,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=KO({find:aI,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(iI),editor:this.editor})),[e]}}),oI=JO.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",LE(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)rI(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>lI,getNextListDepth:()=>cI,handleBackspace:()=>pI,handleDelete:()=>gI,hasListBefore:()=>dI,hasListItemAfter:()=>xI,hasListItemBefore:()=>uI,listItemHasSubList:()=>hI,nextListIsDeeper:()=>mI,nextListIsHigher:()=>fI});var lI=(e,t)=>{const{$from:n}=t.selection,r=qE(e,t.schema);let i=null,a=n.depth,s=n.pos,o=null;for(;a>0&&null===o;)i=n.node(a),i.type===r?o=a:(a-=1,s-=1);return null===o?null:{$pos:t.doc.resolve(s),depth:o}},cI=(e,t)=>{const n=lI(e,t);if(!n)return!1;const[,r]=((e,t,n,r=20)=>{const i=e.doc.resolve(n);let a=r,s=null;for(;a>0&&null===s;){const e=i.node(a);(null==e?void 0:e.type.name)===t?s=e:a-=1}return[s,a]})(t,e,n.$pos.pos+4);return r},dI=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),a=e.doc.resolve(i).node();return!(!a||!n.includes(a.type.name))},uI=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return 0!==i.index()&&(null==(n=i.nodeBefore)?void 0:n.type.name)===e},hI=(e,t,n)=>{if(!n)return!1;const r=qE(e,t.schema);let i=!1;return n.descendants(e=>{e.type===r&&(i=!0)}),i},pI=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!aT(e.state,t)&&dI(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),i=[];r.node().descendants((e,n)=>{e.type.name===t&&i.push({node:e,pos:n})});const a=i.at(-1);if(!a)return!1;const s=e.state.doc.resolve(r.start()+a.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},s.end()).joinForward().run()}if(!aT(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=lI(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=hI(t,e.state,i);return uI(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},mI=(e,t)=>{const n=cI(e,t),r=lI(e,t);return!(!r||!n)&&n>r.depth},fI=(e,t)=>{const n=cI(e,t),r=lI(e,t);return!(!r||!n)&&n<r.depth},gI=(e,t)=>{if(!aT(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const n=_E(e=>e.type.name===t)(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return i.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!(!n.empty&&r.sameParent(i))&&(mI(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():fI(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},xI=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return i.index()!==i.parent.childCount-1&&(null==(n=i.nodeAfter)?void 0:n.type.name)===e},bI=NT.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&gI(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&gI(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&pI(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&pI(e,n,r)&&(t=!0)}),t}}}}),yI="textStyle",vI=/^(\d+)\.\s$/,wI=JO.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",LE(this.options.HTMLAttributes,n),0]:["ol",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(yI)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=KO({find:vI,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=KO({find:vI,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(yI)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),jI=/^\s*(\[([( |x])?\])\s$/,NI=JO.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",LE(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),a=document.createElement("label"),s=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),c=e=>{var t,n;o.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,o.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return c(e),a.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",e=>e.preventDefault()),o.addEventListener("change",t=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(o.checked=!o.checked);const{checked:i}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const r=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==r?void 0:r.attrs,checked:i}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,i)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{i.setAttribute(e,t)}),i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,a.append(o,s),i.append(a,l),Object.entries(t).forEach(([e,t])=>{i.setAttribute(e,t)}),{dom:i,contentDOM:l,update:e=>e.type===this.type&&(i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,c(e),!0)}}},addInputRules(){return[KO({find:jI,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),kI=JO.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",LE(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});NT.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(sI.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(oI.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(bI.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(wI.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(NI.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(kI.configure(this.options.taskList)),e}});var SI=JO.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),AI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,CI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,_I=bT.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[GO({find:AI,type:this.type})]},addPasteRules(){return[XO({find:CI,type:this.type})]}}),EI=JO.create({name:"text",group:"inline"}),TI=bT.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function OI(e={}){return new SS({view:t=>new MI(t,e)})}class MI{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,i=r.getBoundingClientRect(),a=i.width/r.offsetWidth,s=i.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let i=t.getBoundingClientRect(),a=n?i.bottom:i.top;n&&r&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let o=this.width/2*s;e={left:i.left,right:i.right,top:a-o,bottom:a+o}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*a;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let o,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)o=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;o=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-o)/a+"px",this.element.style.top=(e.top-l)/s+"px",this.element.style.width=(e.right-e.left)/a+"px",this.element.style.height=(e.bottom-e.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=Uk(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class DI extends sS{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return DI.valid(n)?new DI(n):sS.near(n)}content(){return fN.empty}eq(e){return e instanceof DI&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new DI(e.resolve(t.pos))}getBookmark(){return new PI(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&DI.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let a=e.node(n);if(t>0?e.indexAfter(n)<a.childCount:e.index(n)>0){i=a.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(DI.valid(s))return s}for(;;){let a=t>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!hS.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue e}break}i=a,r+=t;let s=e.doc.resolve(r);if(DI.valid(s))return s}return null}}}DI.prototype.visible=!1,DI.findFrom=DI.findGapCursorFrom,sS.jsonID("gapcursor",DI);class PI{constructor(e){this.pos=e}map(e){return new PI(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return DI.valid(t)?new DI(t):sS.near(t)}}const II=K_({ArrowLeft:LI("horiz",-1),ArrowRight:LI("horiz",1),ArrowUp:LI("vert",-1),ArrowDown:LI("vert",1)});function LI(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let a=e.selection,s=t>0?a.$to:a.$from,o=a.empty;if(a instanceof dS){if(!i.endOfTextblock(n)||0==s.depth)return!1;o=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=DI.findGapCursorFrom(s,t,o);return!!l&&(r&&r(e.tr.setSelection(new DI(l))),!0)}}function RI(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!DI.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&hS.isSelectable(e.state.doc.nodeAt(i.inside))||(e.dispatch(e.state.tr.setSelection(new DI(r))),0))}function FI(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof DI))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=cN.empty;for(let s=r.length-1;s>=0;s--)i=cN.from(r[s].createAndFill(null,i));let a=e.state.tr.replace(n.pos,n.pos,new fN(i,0,0));return a.setSelection(dS.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function BI(e){if(!(e.selection instanceof DI))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",d_.create(e.doc,[o_.widget(e.selection.head,t,{key:"gapcursor"})])}var HI=200,zI=function(){};zI.prototype.append=function(e){return e.length?(e=zI.from(e),!this.length&&e||e.length<HI&&this.leafAppend(e)||this.length<HI&&e.leafPrepend(this)||this.appendInner(e)):this},zI.prototype.prepend=function(e){return e.length?zI.from(e).append(this):this},zI.prototype.appendInner=function(e){return new UI(this,e)},zI.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?zI.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},zI.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},zI.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},zI.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},zI.from=function(e){return e instanceof zI?e:e&&e.length?new WI(e):zI.empty};var WI=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=HI)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=HI)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(zI);zI.empty=new WI([]);var UI=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(zI);class VI{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let a,s,o=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new $I(e.map));let t,i=e.step.map(n.slice(r));i&&o.maybeStep(i).doc&&(t=o.mapping.maps[o.mapping.maps.length-1],l.push(new $I(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else o.maybeStep(e.step);return e.selection?(a=n?e.selection.map(n.slice(r)):e.selection,s=new VI(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:o,selection:a}}addTransform(e,t,n,r){let i=[],a=this.eventCount,s=this.items,o=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),d=new $I(e.mapping.maps[c],l,t);(n=o&&o.merge(d))&&(d=n,c?i.pop():s=s.slice(0,s.length-1)),i.push(d),t&&(a++,t=void 0),r||(o=d)}let l=a-n.depth;return l>GI&&(s=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(s,l),a-=l),new VI(s.append(i),a)}remapping(e,t){let n=new vk;return this.items.forEach((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)},e,t),n}addMaps(e){return 0==this.eventCount?this:new VI(this.items.append(e.map(e=>new $I(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},r);let o=t;this.items.forEach(t=>{let r=i.getMirror(--o);if(null==r)return;a=Math.min(a,r);let l=i.maps[r];if(t.step){let a=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(o+1,r));c&&s++,n.push(new $I(l,a,c))}else n.push(new $I(l))},r);let l=[];for(let u=t;u<a;u++)l.push(new $I(i.maps[u]));let c=this.items.slice(0,r).append(l).append(n),d=new VI(c,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((a,s)=>{if(s>=e)r.push(a),a.selection&&i++;else if(a.step){let e=a.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let o=a.selection&&a.selection.map(t.slice(n));o&&i++;let l,c=new $I(s.invert(),e,o),d=r.length-1;(l=r.length&&r[d].merge(c))?r[d]=l:r.push(c)}}else a.map&&n--},this.items.length,0),new VI(zI.from(r.reverse()),i)}}VI.empty=new VI(zI.empty,0);class $I{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new $I(t.getMap().invert(),t,this.selection)}}}class qI{constructor(e,t,n,r,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}const GI=20;function YI(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,i)=>t.push(r,i));return t}function QI(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),a=t.map(e[r+1],-1);i<=a&&n.push(i,a)}return n}let KI=!1,JI=null;function XI(e){let t=e.plugins;if(JI!=t){KI=!1,JI=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){KI=!0;break}}return KI}const ZI=new _S("history"),eL=new _S("closeHistory");function tL(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new SS({key:ZI,state:{init:()=>new qI(VI.empty,VI.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let i,a=n.getMeta(ZI);if(a)return a.historyState;n.getMeta(eL)&&(e=new qI(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(ZI))return s.getMeta(ZI).redo?new qI(e.done.addTransform(n,void 0,r,XI(t)),e.undone,YI(n.mapping.maps),e.prevTime,e.prevComposition):new qI(e.done,e.undone.addTransform(n,void 0,r,XI(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new qI(e.done.rebased(n,i),e.undone.rebased(n,i),QI(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new qI(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),QI(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let i=n.getMeta("composition"),a=0==e.prevTime||!s&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)}),n}(n,e.prevRanges)),o=s?QI(e.prevRanges,n.mapping):YI(n.mapping.maps);return new qI(e.done.addTransform(n,a?t.selection.getBookmark():void 0,r,XI(t)),VI.empty,o,n.time,null==i?e.prevComposition:i)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?rL:"historyRedo"==n?iL:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function nL(e,t){return(n,r)=>{let i=ZI.getState(n);if(!i||0==(e?i.undone:i.done).eventCount)return!1;if(r){let a=function(e,t,n){let r=XI(t),i=ZI.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,r);if(!a)return null;let s=a.selection.resolve(a.transform.doc),o=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,r),l=new qI(n?o:a.remaining,n?a.remaining:o,null,0,-1);return a.transform.setSelection(s).setMeta(ZI,{redo:n,historyState:l})}(i,n,e);a&&r(t?a.scrollIntoView():a)}return!0}}const rL=nL(!1,!0),iL=nL(!0,!0);NT.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new SS({key:new _S("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(null==i||0===i)return void(e=!0);const a=this.storage.characters({node:r.doc});if(a>i){const t=0,n=a-i,s=r.tr.deleteRange(t,n);return e=!0,s}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),i=this.storage.characters({node:e.doc});if(i<=n)return!0;if(r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r)return!1;if(!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,s=a-(i-n),o=a;return e.deleteRange(s,o),!(this.storage.characters({node:e.doc})>n)}})]}});var aL=NT.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[OI(this.options)]}});NT.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new SS({key:new _S("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,a=[];if(!n||!r)return d_.create(e,[]);let s=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(!e.isText)return i>=t&&i<=t+e.nodeSize-1&&void(s+=1)});let o=0;return e.descendants((e,t)=>!e.isText&&(i>=t&&i<=t+e.nodeSize-1&&(o+=1,"deepest"===this.options.mode&&s-o>0||"shallowest"===this.options.mode&&o>1?"deepest"===this.options.mode:void a.push(o_.node(t,t+e.nodeSize,{class:this.options.className}))))),d_.create(e,a)}}})]}});var sL=NT.create({name:"gapCursor",addProseMirrorPlugins:()=>[new SS({props:{decorations:BI,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&DI.valid(n)?new DI(n):null,handleClick:RI,handleKeyDown:II,handleDOMEvents:{beforeinput:FI}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=DE(EE(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}});function oL({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}NT.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new SS({key:new _S("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const a=this.editor.isEmpty;return e.descendants((e,t)=>{const n=r>=t&&r<=t+e.nodeSize,s=!e.isLeaf&&lT(e);if((n||!this.options.showOnlyCurrent)&&s){const r=[this.options.emptyNodeClass];a&&r.push(this.options.emptyEditorClass);const s=o_.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});i.push(s)}return this.options.includeChildren}),d_.create(e,i)}}})]}}),NT.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new SS({key:new _S("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||cT(n.selection)||e.view.dragging?null:d_.create(n.doc,[o_.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});var lL=NT.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:[]}),addProseMirrorPlugins(){const e=new _S(this.name),t=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(this.options.node).includes(e.name));return[new SS({key:e,appendTransaction:(t,n,r)=>{const{doc:i,tr:a,schema:s}=r,o=e.getState(r),l=i.content.size,c=s.nodes[this.options.node];if(o)return a.insert(l,c.create())},state:{init:(e,n)=>!oL({node:n.tr.doc.lastChild,types:t}),apply:(e,n)=>e.docChanged?!oL({node:e.doc.lastChild,types:t}):n}})]}}),cL=NT.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>rL(e,t),redo:()=>({state:e,dispatch:t})=>iL(e,t)}),addProseMirrorPlugins(){return[tL(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),dL=NT.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return!1!==this.options.bold&&i.push(zP.configure(this.options.bold)),!1!==this.options.blockquote&&i.push(LP.configure(this.options.blockquote)),!1!==this.options.bulletList&&i.push(sI.configure(this.options.bulletList)),!1!==this.options.code&&i.push(VP.configure(this.options.code)),!1!==this.options.codeBlock&&i.push(GP.configure(this.options.codeBlock)),!1!==this.options.document&&i.push(YP.configure(this.options.document)),!1!==this.options.dropcursor&&i.push(aL.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&i.push(sL.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&i.push(QP.configure(this.options.hardBreak)),!1!==this.options.heading&&i.push(KP.configure(this.options.heading)),!1!==this.options.undoRedo&&i.push(cL.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&i.push(JP.configure(this.options.horizontalRule)),!1!==this.options.italic&&i.push(nI.configure(this.options.italic)),!1!==this.options.listItem&&i.push(oI.configure(this.options.listItem)),!1!==this.options.listKeymap&&i.push(bI.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&i.push(lP.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&i.push(wI.configure(this.options.orderedList)),!1!==this.options.paragraph&&i.push(SI.configure(this.options.paragraph)),!1!==this.options.strike&&i.push(_I.configure(this.options.strike)),!1!==this.options.text&&i.push(EI.configure(this.options.text)),!1!==this.options.underline&&i.push(TI.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&i.push(lL.configure(null==(r=this.options)?void 0:r.trailingNode)),i}}),uL=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,hL=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,pL=bT.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",LE(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[GO({find:uL,type:this.type})]},addPasteRules(){return[XO({find:hL,type:this.type})]}});const mL=[sM,dL.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),lM.configure({types:["textStyle"]}),pL.configure({multicolor:!0}),cM.configure({types:["textStyle"]}),cP.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),oM.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],fL=({editor:e,onClose:t})=>{const[n,r]=x.useState(()=>e.getAttributes("link").href||""),[i,a]=x.useState(()=>({from:e.state.selection.from,to:e.state.selection.to})),[s,o]=x.useState(()=>{try{const{from:t,to:n}=e.state.selection;return t===n?"":e.state.doc.textBetween(t,n)||""}catch(Dw){return""}});return h.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),h.jsx("input",{type:"url",value:n,onChange:e=>r(e.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!s&&h.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),h.jsx("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:s||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!s&&h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[h.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.getAttributes("link").href&&h.jsx("button",{onClick:()=>{e.chain().focus().setTextSelection(i).run(),e.chain().focus().unsetLink().run(),t()},className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),h.jsx("button",{onClick:()=>{e.chain().focus().setTextSelection(i).run(),n?s?e.chain().focus().extendMarkRange("link").setLink({href:n}).run():e.chain().focus().insertContent({type:"text",text:s||n,marks:[{type:"link",attrs:{href:n}}]}).run():e.chain().focus().unsetLink().run(),t()},disabled:!n,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},gL=({editor:e,type:t,onClose:n})=>{const r="color"===t?e.getAttributes("textStyle").color:e.getAttributes("highlight").color;return h.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"color"===t?"Text Color":"Background Color"}),h.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"].map(i=>h.jsx("button",{onClick:()=>(r=>{"color"===t?e.chain().focus().setColor(r).run():e.chain().focus().setHighlight({color:r}).run(),n()})(i),className:"w-8 h-8 rounded border border-gray-300 "+(r===i?"ring-2 ring-blue-500":""),style:{backgroundColor:i},title:i},i))}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("button",{onClick:()=>{"color"===t?e.chain().focus().unsetColor().run():e.chain().focus().unsetHighlight().run(),n()},className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),h.jsx("button",{onClick:n,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function xL({editor:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(null),[a,s]=x.useState(!1);if(!e)return null;const o=EP({editor:e,selector:e=>{var t,n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j;return{isBold:null!=(t=e.editor.isActive("bold"))&&t,canBold:null!=(n=e.editor.can().chain().toggleBold().run())&&n,isItalic:null!=(r=e.editor.isActive("italic"))&&r,canItalic:null!=(i=e.editor.can().chain().toggleItalic().run())&&i,isStrike:null!=(a=e.editor.isActive("strike"))&&a,canStrike:null!=(s=e.editor.can().chain().toggleStrike().run())&&s,isCode:null!=(o=e.editor.isActive("code"))&&o,canCode:null!=(l=e.editor.can().chain().toggleCode().run())&&l,isLink:null!=(c=e.editor.isActive("link"))&&c,currentColor:e.editor.getAttributes("textStyle").color,currentBackgroundColor:e.editor.getAttributes("highlight").color,currentFontFamily:e.editor.getAttributes("textStyle").fontFamily,isAlignLeft:null!=(d=e.editor.isActive({textAlign:"left"}))&&d,isAlignCenter:null!=(u=e.editor.isActive({textAlign:"center"}))&&u,isAlignRight:null!=(h=e.editor.isActive({textAlign:"right"}))&&h,isAlignJustify:null!=(p=e.editor.isActive({textAlign:"justify"}))&&p,canClearMarks:null!=(m=e.editor.can().chain().unsetAllMarks().run())&&m,isParagraph:null!=(f=e.editor.isActive("paragraph"))&&f,isHeading1:null!=(g=e.editor.isActive("heading",{level:1}))&&g,isHeading2:null!=(x=e.editor.isActive("heading",{level:2}))&&x,isHeading3:null!=(b=e.editor.isActive("heading",{level:3}))&&b,isBulletList:null!=(y=e.editor.isActive("bulletList"))&&y,isOrderedList:null!=(v=e.editor.isActive("orderedList"))&&v,canUndo:null!=(w=e.editor.can().chain().undo().run())&&w,canRedo:null!=(j=e.editor.can().chain().redo().run())&&j}}});return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:h.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBold().run(),disabled:!o.canBold,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Bold",children:h.jsx(Wc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!o.canItalic,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Italic",children:h.jsx(Pd,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleStrike().run(),disabled:!o.canStrike,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Strikethrough",children:h.jsx(yu,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleCode().run(),disabled:!o.canCode,className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Code",children:h.jsx(cd,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("left").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Align Left",children:h.jsx(Lc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("center").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Align Center",children:h.jsx(Pc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("right").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Align Right",children:h.jsx(Rc,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign("justify").run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Justify",children:h.jsx(Ic,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsxs("button",{type:"button",onClick:()=>i("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[h.jsx(eu,{size:18}),o.currentColor&&h.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:o.currentColor}})]}),h.jsxs("button",{type:"button",onClick:()=>i("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[h.jsx(Zd,{size:18}),o.currentBackgroundColor&&h.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:o.currentBackgroundColor}})]})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[h.jsx("button",{type:"button",onClick:()=>s(!a),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:h.jsx(Su,{size:18})}),a&&h.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"].map(t=>h.jsx("button",{onClick:()=>{e.chain().focus().setFontFamily(t).run(),s(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:t},children:t.split(",")[0]},t)),h.jsx("button",{type:"button",onClick:()=>{e.chain().focus().unsetFontFamily().run(),s(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(!0)},className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Insert Link",children:h.jsx(Fd,{size:18})}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:h.jsx(du,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:h.jsx(ju,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().setParagraph().run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Paragraph",children:h.jsx(ru,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Heading 1",children:h.jsx(Ad,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Heading 2",children:h.jsx(Cd,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Heading 3",children:h.jsx(_d,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleBulletList().run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Bullet List",children:h.jsx(Ud,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().toggleOrderedList().run(),className:"p-2 text-sm rounded border transition-colors flex items-center justify-center "+(o.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:"Ordered List",children:h.jsx(zd,{size:18})})]}),h.jsx("div",{className:"w-px bg-gray-300 mx-1"}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[h.jsx("button",{type:"button",onClick:()=>e.chain().focus().undo().run(),disabled:!o.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:h.jsx(Au,{size:18})}),h.jsx("button",{type:"button",onClick:()=>e.chain().focus().redo().run(),disabled:!o.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:h.jsx(lu,{size:18})})]})]})}),t&&h.jsx(fL,{editor:e,onClose:()=>n(!1)}),r&&h.jsx(gL,{editor:e,type:r,onClose:()=>i(null)})]})}const bL=({value:e,onChange:t})=>{const n=function(e={},t=[]){const n=x.useRef(e);n.current=e;const[r]=x.useState(()=>new MP(n)),i=fP.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(i),x.useEffect(r.onRender(t)),EP({editor:i,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),i}({extensions:mL,content:e,onUpdate:({editor:e})=>{const n=e.getHTML();t(n)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML:e=>e},parseOptions:{preserveWhitespace:"full"}});return n?h.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[h.jsx(xL,{editor:n}),h.jsx(AP,{editor:n,className:"min-h-[120px]"})]}):h.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},yL=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,vL=()=>{var e,t,n,r,i,a,s;const{getAllMasterData:o,submitMachineHistory:l}=xt(),c=je(),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[j,N]=x.useState(window.innerWidth<768),[k,S]=x.useState([]),[A,C]=x.useState([]),[_,E]=x.useState([]),[T,O]=x.useState([]),[M,D]=x.useState([]),[P,I]=x.useState([]),[L,R]=x.useState([]),[F,B]=x.useState([]),[H,z]=x.useState([]),W={date:(new Date).toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[U,V]=x.useState(W),$=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)V(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;V(e=>{if(["stopJam","startJam"].includes(t)){const r=n.replace(/[^\d]/g,""),i=parseInt(r,10);return{...e,[t]:""===r?0:Math.max(0,Math.min(23,isNaN(i)?0:i))}}if(["stopMenit","startMenit"].includes(t)){const r=n.replace(/[^\d]/g,""),i=parseInt(r,10);return{...e,[t]:""===r?0:Math.max(0,Math.min(59,isNaN(i)?0:i))}}return"runningHour"===t||"jumlah"===t?{...e,[t]:n.replace(/[^\d.]/g,"")}:{...e,[t]:n}})}},[]),q=x.useCallback(e=>{if("string"==typeof e){const t=e.replace(/[^\d]/g,""),n=parseInt(t,10);return isNaN(n)?"":n.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(e)||null==e?"":e.toLocaleString("id-ID").replace(/,/g,".")},[]),G=x.useCallback(()=>{V(W),m(null),g(null)},[]),Y=x.useCallback(()=>{y(!1),c("/machinehistory")},[c]);x.useEffect(()=>{(async()=>{var e,t,n,r,i,a,s,l,c;try{const d=await o();S((null==(e=d.mesin)?void 0:e.data)||[]),C((null==(t=d.shifts)?void 0:t.data)||[]),E((null==(n=d.groups)?void 0:n.data)||[]),O((null==(r=d.stoptimes)?void 0:r.data)||[]),D((null==(i=d.units)?void 0:i.data)||[]),I((null==(a=d.itemtroubles)?void 0:a.data)||[]),R((null==(s=d.jenisaktivitas)?void 0:s.data)||[]),B((null==(l=d.kegiatans)?void 0:l.data)||[]),z((null==(c=d.unitspareparts)?void 0:c.data)||[])}catch(d){m(d.message||"Gagal memuat daftar data master.")}})()},[o]);const Q={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:h.jsx(Kc,{}),isMobile:j,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!v)),w(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),h.jsxs(Ac.button,{onClick:()=>c("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to History"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(!0),m(null),g(null);const t={...U,perbaikanPerawatan:"Perbaikan"===U.jenisAktivitas?"Perbaikan":"Perawatan",runningHour:U.runningHour?parseInt(String(U.runningHour).replace(/\./g,""),10):0,jumlah:U.jumlah?parseInt(String(U.jumlah).replace(/\./g,""),10):0,stopJam:0===U.stopJam&&""===String(U.stopJam)?null:U.stopJam,stopMenit:0===U.stopMenit&&""===String(U.stopMenit)?null:U.stopMenit,startJam:0===U.startJam&&""===String(U.startJam)?null:U.startJam,startMenit:0===U.startMenit&&""===String(U.startMenit)?null:U.startMenit};try{await l(t),g("Data history mesin berhasil disimpan!"),y(!0),G()}catch(n){m(n.message||"Gagal menyimpan data history mesin. Silakan coba lagi.")}finally{u(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"date",id:"date",value:U.date,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"shift",id:"shift",options:(A||[]).map(e=>({value:e.id,label:e.name})),value:A.map(e=>({value:e.id,label:e.name})).find(e=>e.value===U.shift),onChange:e=>$(e,"shift"),placeholder:"Select Shift",styles:Q,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"group",id:"group",options:(_||[]).map(e=>({value:e.id,label:e.name})),value:_.map(e=>({value:e.id,label:e.name})).find(e=>e.value===U.group),onChange:e=>$(e,"group"),placeholder:"Select Group",styles:Q,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-indigo-500"})," Time Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"startJam",id:"startJam",value:null===U.startJam?"":U.startJam,onChange:$,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:null===U.startMenit?"":U.startMenit,onChange:$,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:null===U.stopJam?"":U.stopJam,onChange:$,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:null===U.stopMenit?"":U.stopMenit,onChange:$,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"stopTime",id:"stopTime",options:(T||[]).map(e=>({value:e.id,label:e.name})),value:T.find(e=>e.id===U.stopTime)?{value:U.stopTime,label:(null==(e=T.find(e=>e.id===U.stopTime))?void 0:e.name)||""}:null,onChange:e=>$(e,"stopTime"),placeholder:"Select Stop Type",styles:Q,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-green-500"})," Machine Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"mesin",id:"mesin",options:(k||[]).map(e=>({value:e.id,label:e.name})),value:k.find(e=>e.id===U.mesin)?{value:U.mesin,label:(null==(t=k.find(e=>e.id===U.mesin))?void 0:t.name)||""}:null,onChange:e=>$(e,"mesin"),placeholder:"Select Machine",styles:Q,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:q(U.runningHour),onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"unit",id:"unit",options:(M||[]).map(e=>({value:e.id,label:e.name})),value:M.find(e=>e.id===U.unit)?{value:U.unit,label:(null==(n=M.find(e=>e.id===U.unit))?void 0:n.name)||""}:null,onChange:e=>$(e,"unit"),placeholder:"Select Unit",styles:Q,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"itemTrouble",id:"itemTrouble",options:(P||[]).map(e=>({value:e.id,label:e.name})),value:P.find(e=>e.id===U.itemTrouble)?{value:U.itemTrouble,label:(null==(r=P.find(e=>e.id===U.itemTrouble))?void 0:r.name)||""}:null,onChange:e=>$(e,"itemTrouble"),placeholder:"Select Item Trouble",styles:Q,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:U.jenisGangguan,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:U.bentukTindakan,onChange:e=>{V(t=>({...t,bentukTindakan:e}))}})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"rootCause",id:"rootCause",value:U.rootCause,onChange:$,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Wd,{className:"mr-2 text-purple-500"})," Activity Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"jenisAktivitas",id:"jenisAktivitas",options:(L||[]).map(e=>({value:e.id,label:e.name})),value:L.find(e=>e.id===U.jenisAktivitas)?{value:U.jenisAktivitas,label:(null==(i=L.find(e=>e.id===U.jenisAktivitas))?void 0:i.name)||""}:null,onChange:e=>$(e,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:Q,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"kegiatan",id:"kegiatan",options:(F||[]).map(e=>({value:e.id,label:e.name})),value:F.find(e=>e.id===U.kegiatan)?{value:U.kegiatan,label:(null==(a=F.find(e=>e.id===U.kegiatan))?void 0:a.name)||""}:null,onChange:e=>$(e,"kegiatan"),placeholder:"Select Activity",styles:Q,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),h.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:U.kodePart,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),h.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:U.sparePart,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),h.jsx("input",{type:"text",name:"idPart",id:"idPart",value:U.idPart,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),h.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:q(U.jumlah),onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),h.jsx(aN,{name:"unitSparePart",id:"unitSparePart",options:(H||[]).map(e=>({value:e.id,label:e.name})),value:H.find(e=>e.id===U.unitSparePart)?{value:U.unitSparePart,label:(null==(s=H.find(e=>e.id===U.unitSparePart))?void 0:s.name)||""}:null,onChange:e=>$(e,"unitSparePart"),placeholder:"Select Unit",styles:Q})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:G,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),h.jsx(yL,{isOpen:b,onClose:Y,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},wL=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,jL=()=>{var e,t,n,r,i,a,s,o,l,c,d,u,p,m,f,g,b,y,v,w,j,N,k,S,A,C,_,E,T,O,M,D,P,I,L,R;const{id:F}=ke(),B=je(),[H,z]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[W,U]=x.useState(window.innerWidth<768),{getMachineHistoryById:V,updateMachineHistory:$,masterData:q,isMasterDataLoading:G}=xt(),[Y,Q]=x.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[K,J]=x.useState(!0),[X,Z]=x.useState(!1),[ee,te]=x.useState(null),[ne,re]=x.useState(null),[ie,ae]=x.useState(!1);x.useEffect(()=>{(async()=>{var e,t,n,r,i,a,s,o,l,c,d;try{if(J(!0),G||!q)return;if(F){const u=(await V(F)).data;u?Q({date:u.date||"",shift:String(u.shift_id)||"",group:String(u.group_id)||"",stopJam:null!=(t=null==(e=u.startstop)?void 0:e.stop_time_hh)?t:null,stopMenit:null!=(r=null==(n=u.startstop)?void 0:n.stop_time_mm)?r:null,startJam:null!=(a=null==(i=u.startstop)?void 0:i.start_time_hh)?a:null,startMenit:null!=(o=null==(s=u.startstop)?void 0:s.start_time_mm)?o:null,stopTime:String(u.stoptime_id)||"",unit:String(u.unit_id)||"",mesin:String(u.mesin_id)||"",runningHour:null!=(l=u.running_hour)?l:0,itemTrouble:String(u.itemtrouble_id)||"",jenisGangguan:u.jenis_gangguan||"",bentukTindakan:u.bentuk_tindakan||"",perbaikanPerawatan:"Perbaikan"===(null==(c=u.jenisaktifitas)?void 0:c.name)?"Perbaikan":"Perawatan",rootCause:u.root_cause||"",jenisAktivitas:String(u.jenisaktifitas_id)||"",kegiatan:String(u.kegiatan_id)||"",kodePart:u.kode_part||"",sparePart:u.spare_part||"",idPart:u.id_part||"",jumlah:null!=(d=u.jumlah)?d:0,unitSparePart:String(u.unitsp_id)||""}):te("Data history mesin tidak ditemukan.")}else te("ID history mesin tidak diberikan untuk pengeditan.")}catch(u){te(u.message||"Terjadi kesalahan saat memuat data.")}finally{J(!1)}})()},[F,q,G,V]);const se=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)Q(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n,type:r}=e.target;Q(e=>{if(["stopJam","startJam"].includes(t)){const r=n.replace(/[^\d]/g,""),i=parseInt(r,10);return{...e,[t]:""===r?null:Math.max(0,Math.min(23,isNaN(i)?0:i))}}if(["stopMenit","startMenit"].includes(t)){const r=n.replace(/[^\d]/g,""),i=parseInt(r,10);return{...e,[t]:""===r?null:Math.max(0,Math.min(59,isNaN(i)?0:i))}}return"runningHour"===t||"jumlah"===t?{...e,[t]:n.replace(/[^\d.]/g,"")}:{...e,[t]:n}})}},[]),oe=x.useCallback(e=>{if(null===e||isNaN(Number(e)))return"";if("string"==typeof e){const t=e.replace(/[^\d]/g,""),n=parseInt(t,10);return isNaN(n)?"":n.toLocaleString("id-ID").replace(/,/g,".")}return e.toLocaleString("id-ID").replace(/,/g,".")},[]),le=x.useCallback(()=>{Q({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),te(null),re(null)},[]),ce=x.useCallback(()=>{ae(!1),B("/machinehistory")},[B]),de={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return G||K?h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[h.jsx(Td,{className:"animate-spin mr-3 text-2xl"}),h.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):q||G?ee&&!Y.date?h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[h.jsx(Iu,{className:"mr-3 text-2xl"}),h.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",ee]})]})}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:h.jsx(Kc,{}),isMobile:W,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!H)),z(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",F&&`(ID: ${F})`]}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),h.jsxs(Ac.button,{onClick:()=>B("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to History"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[ee&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:ee}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>te(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),Z(!0),te(null),re(null);const t={...Y,perbaikanPerawatan:"Perbaikan"===Y.jenisAktivitas?"Perbaikan":"Perawatan",runningHour:Y.runningHour?parseInt(String(Y.runningHour).replace(/\./g,""),10):0,jumlah:Y.jumlah?parseInt(String(Y.jumlah).replace(/\./g,""),10):0};try{const e=await $(F,t);re(e.message||"Machine history updated successfully!"),ae(!0)}catch(n){te(n.message||"Failed to update machine history.")}finally{Z(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"date",id:"date",value:Y.date,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"shift",id:"shift",options:(null==(t=null==(e=null==q?void 0:q.shifts)?void 0:e.data)?void 0:t.map(e=>({value:e.id,label:e.name})))||[],value:(null==(r=null==(n=null==q?void 0:q.shifts)?void 0:n.data)?void 0:r.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.shift)))||null,onChange:e=>se(e,"shift"),placeholder:"Select Shift",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"group",id:"group",options:(null==(a=null==(i=null==q?void 0:q.groups)?void 0:i.data)?void 0:a.map(e=>({value:e.id,label:e.name})))||[],value:(null==(o=null==(s=null==q?void 0:q.groups)?void 0:s.data)?void 0:o.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.group)))||null,onChange:e=>se(e,"group"),placeholder:"Select Group",styles:de,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-indigo-500"})," Time Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"startJam",id:"startJam",value:null===Y.startJam?"":Y.startJam,onChange:se,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:null===Y.startMenit?"":Y.startMenit,onChange:se,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:null===Y.stopJam?"":Y.stopJam,onChange:se,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),h.jsx("span",{className:"text-gray-500 text-lg",children:":"}),h.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:null===Y.stopMenit?"":Y.stopMenit,onChange:se,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"stopTime",id:"stopTime",options:(null==(c=null==(l=null==q?void 0:q.stoptimes)?void 0:l.data)?void 0:c.map(e=>({value:e.id,label:e.name})))||[],value:(null==(u=null==(d=null==q?void 0:q.stoptimes)?void 0:d.data)?void 0:u.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.stopTime)))||null,onChange:e=>se(e,"stopTime"),placeholder:"Select Stop Type",styles:de,required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-green-500"})," Machine Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"mesin",id:"mesin",options:(null==(m=null==(p=null==q?void 0:q.mesin)?void 0:p.data)?void 0:m.map(e=>({value:e.id,label:e.name})))||[],value:(null==(g=null==(f=null==q?void 0:q.mesin)?void 0:f.data)?void 0:g.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.mesin)))||null,onChange:e=>se(e,"mesin"),placeholder:"Select Machine",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:oe(Y.runningHour),onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"unit",id:"unit",options:(null==(y=null==(b=null==q?void 0:q.units)?void 0:b.data)?void 0:y.map(e=>({value:e.id,label:e.name})))||[],value:(null==(w=null==(v=null==q?void 0:q.units)?void 0:v.data)?void 0:w.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.unit)))||null,onChange:e=>se(e,"unit"),placeholder:"Select Unit",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"itemTrouble",id:"itemTrouble",options:(null==(N=null==(j=null==q?void 0:q.itemtroubles)?void 0:j.data)?void 0:N.map(e=>({value:e.id,label:e.name})))||[],value:(null==(S=null==(k=null==q?void 0:q.itemtroubles)?void 0:k.data)?void 0:S.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.itemTrouble)))||null,onChange:e=>se(e,"itemTrouble"),placeholder:"Select Item Trouble",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:Y.jenisGangguan,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:Y.bentukTindakan,onChange:e=>{Q(t=>({...t,bentukTindakan:e}))}})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"rootCause",id:"rootCause",value:Y.rootCause,onChange:se,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Wd,{className:"mr-2 text-purple-500"})," Activity Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"jenisAktivitas",id:"jenisAktivitas",options:(null==(C=null==(A=null==q?void 0:q.jenisaktivitas)?void 0:A.data)?void 0:C.map(e=>({value:e.id,label:e.name})))||[],value:(null==(E=null==(_=null==q?void 0:q.jenisaktivitas)?void 0:_.data)?void 0:E.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.jenisAktivitas)))||null,onChange:e=>se(e,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"kegiatan",id:"kegiatan",options:(null==(O=null==(T=null==q?void 0:q.kegiatans)?void 0:T.data)?void 0:O.map(e=>({value:e.id,label:e.name})))||[],value:(null==(D=null==(M=null==q?void 0:q.kegiatans)?void 0:M.data)?void 0:D.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.kegiatan)))||null,onChange:e=>se(e,"kegiatan"),placeholder:"Select Activity",styles:de,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),h.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:Y.kodePart,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),h.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:Y.sparePart,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),h.jsx("input",{type:"text",name:"idPart",id:"idPart",value:Y.idPart,onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),h.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:oe(Y.jumlah),onChange:se,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),h.jsx(aN,{name:"unitSparePart",id:"unitSparePart",options:(null==(I=null==(P=null==q?void 0:q.unitspareparts)?void 0:P.data)?void 0:I.map(e=>({value:e.id,label:e.name})))||[],value:(null==(R=null==(L=null==q?void 0:q.unitspareparts)?void 0:L.data)?void 0:R.map(e=>({value:e.id,label:e.name})).find(e=>String(e.value)===String(Y.unitSparePart)))||null,onChange:e=>se(e,"unitSparePart"),placeholder:"Select Unit",styles:de})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:le,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:X,children:X?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),h.jsx(wL,{isOpen:ie,onClose:ce,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]}):h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[h.jsx(Iu,{className:"mr-3 text-2xl"}),h.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})})},NL={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"},activity_logs:{view:"87"},erp_integration:{view_data:"88",manage_integration:"89"},mesins:{view:"44",create:"45",edit:"46",delete:"47"},vendors:{view:"48",create:"49",edit:"50",delete:"51"},units:{view:"52",manage:"53"},unitsp:{view:"54",manage:"55"},workareas:{view:"56",manage:"57"},service_groups:{view:"58",manage:"59"},service_catalogues:{view:"60",manage:"61"},departments:{view:"62",manage:"63"},item_mesins:{view:"64",manage:"65"},groups:{manage:"66"},shifts:{manage:"67"},itemtroubles:{manage:"68"},jenisaktifitas:{manage:"69"},kegiatan:{manage:"70"},stoptimes:{manage:"71"},intervals:{manage:"72"},startstops:{manage:"73"},trashed_mhs:{view:"74",restore:"75",force_delete:"76"},monitoring_schedules:{view:"77",manage:"78"},monitoring_activities:{view:"79",manage:"80",batch_update:"81"},schedule_approval:{approve:"82"},approval_templates:{view:"83",manage:"84",set_active:"85",manage_approvers:"86"},genba_master_config:{view_master:"90",manage_roles:"91",manage_sos:"92",manage_so_bridges:"93",manage_work_areas:"94"},genba_activity:{create:"95",view_own:"96",view_all:"97",approve:"98",delete:"99"}},kL=()=>{var e;const{user:t,logout:n,fetchWithAuth:r,getUsers:i,hasPermission:a,updateUserPermissions:s,deleteUser:o,createRole:l,updateRole:c}=xt(),d=je();ye();const[u,p]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[m,f]=x.useState(window.innerWidth<768),[g,b]=x.useState("roles"),[y,v]=x.useState(null),[w,j]=x.useState(null),[N,k]=x.useState(!1),[S,A]=x.useState({}),[C,_]=x.useState("all"),[E,T]=x.useState(""),[O,M]=x.useState([]),[D,P]=x.useState([]),[I,L]=x.useState(!1);x.useRef(null),x.useEffect(()=>{const e=()=>{f(window.innerWidth<768),window.innerWidth<768&&p(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(u))},[u]),x.useEffect(()=>{a("view_permissions")&&(async()=>{try{const[e,t]=await Promise.all([i(),r("/roles")]),n=(e||e).map(e=>({id:String(e.id),name:e.name,nik:e.nik,email:e.email,roleId:e.role_id?String(e.role_id):null,role:e.role?{id:e.role.id,name:e.role.name}:void 0,customPermissions:e.customPermissions||[],department:e.department||null,department_id:e.department_id||null,permissions:e.permissions||e.allPermissions||[]})),a=t.map(e=>({id:String(e.id),name:e.name,description:e.description||`${e.name} role`,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name}));M(n),P(a)}catch(e){}})()},[i,r,a]);const R=e=>{A(t=>({...t,[e]:!t[e]}))},F=x.useCallback(async()=>{if(y&&a("edit_permissions"))if(y.name.trim())try{const e={name:y.name,description:y.description,permissions:y.permissions};y.id?await c(y.id,e):await l(e);const t=(await r("/roles")).map(e=>({id:String(e.id),name:e.name,description:e.description,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name}));P(t),k(!1),v(null)}catch(e){}else alert("Role name cannot be empty!");else alert("You don't have permission or role data is incomplete.")},[y,a,c,l,r]),B=x.useCallback(async e=>{if(window.confirm("Are you sure you want to delete this user?")){L(!0);try{await o(e);const t=await i();M(t)}catch(t){}finally{L(!1)}}},[o,i]),H=e=>{if(!e)return"No Role";const t=D.find(t=>String(t.id)===String(e));return t?t.name:"No Role"},z=["all",...new Set(O.map(e=>{var t;return(null==(t=e.department)?void 0:t.name)||""}).filter(Boolean))],W=O.filter(e=>{var t;return"all"===C||(null==(t=e.department)?void 0:t.name)===C}).filter(e=>e.name.toLowerCase().includes(E.toLowerCase())||e.nik.toLowerCase().includes(E.toLowerCase()));return a("view_permissions")?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Id,{}),isMobile:m,toggleSidebar:()=>{p(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:h.jsxs("div",{className:"flex border-b border-gray-100",children:[h.jsxs("button",{onClick:()=>b("roles"),className:"px-6 py-3 font-medium text-sm flex items-center "+("roles"===g?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"),children:[h.jsx(Id,{className:"mr-2 text-base"}),"Roles & Permissions"]}),h.jsxs("button",{onClick:()=>b("users"),className:"px-6 py-3 font-medium text-sm flex items-center "+("users"===g?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"),children:[h.jsx(Mu,{className:"mr-2 text-base"}),"User Permissions"]})]})}),"roles"===g&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),a("edit_permissions")&&h.jsxs(Ac.button,{onClick:()=>{k(!0),v({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Role"})]})]}),N&&h.jsxs(Ac.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:(null==y?void 0:y.id)?"Edit Role":"Add New Role"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),h.jsx("input",{type:"text",value:(null==y?void 0:y.name)||"",onChange:e=>v(t=>({...t,name:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("input",{type:"text",value:(null==y?void 0:y.description)||"",onChange:e=>v(t=>({...t,description:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),h.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),h.jsx("div",{className:"space-y-4",children:Object.entries(NL).map(([e,t])=>h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>R(e),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[h.jsx("span",{className:"font-medium text-gray-700 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),S[e]?h.jsx(nd,{}):h.jsx(Zc,{})]}),h.jsx(Da,{children:S[e]&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(t).map(([t,n])=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:`perm-${n}`,checked:(null==y?void 0:y.isSuperadmin)||(null==y?void 0:y.permissions.includes(n))||!1,onChange:()=>(e=>{y&&!y.isSuperadmin&&v(t=>({...t,permissions:t.permissions.includes(e)?t.permissions.filter(t=>t!==e):[...t.permissions,e]}))})(n),disabled:null==y?void 0:y.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),h.jsx("label",{htmlFor:`perm-${n}`,className:"ml-2 text-sm text-gray-700",children:h.jsxs("div",{className:"font-medium",children:[t," ",e.replace(/([A-Z])/g," $1").trim(),(null==y?void 0:y.isSuperadmin)&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},n))})})]},e))}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{k(!1),v(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(e=>h.jsxs(Ac.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.name,e.isSuperadmin&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),h.jsxs("div",{className:"flex space-x-2",children:[!e.isSuperadmin&&a("edit_permissions")&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{v(e),k(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:h.jsx(bu,{className:"text-base"})}),!e.isSuperadmin&&a("edit_permissions")&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(async e=>{if(a("manage_users")&&window.confirm("Are you sure you want to delete this role?"))try{await r(`/roles/${e}`,{method:"DELETE"});const t=(await r("/roles")).map(e=>({id:String(e.id),name:e.name,description:e.description,permissions:e.permissions.map(String),isSuperadmin:"superadmin"===e.name}));P(t)}catch(t){}})(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"text-base"})})]})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Permissions:"}),h.jsx("span",{className:"font-medium text-gray-900",children:e.permissions.length})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),h.jsx("span",{className:"font-medium text-gray-900",children:O.filter(t=>t.roleId===e.id).length})]})]})]},e.id))})]}),"users"===g&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),h.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(pu,{className:"absolute left-3 top-3 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search users...",value:E,onChange:e=>T(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),h.jsx("select",{value:C,onChange:e=>_(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:z.map(e=>h.jsx("option",{value:e,children:"all"===e?"All Departments":e},e))}),a("manage_users")&&h.jsxs(Ac.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(Tu,{className:"text-base"}),h.jsx("span",{children:"Add User"})]})]})]}),h.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),h.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:W.map(e=>{var n,r,i;return h.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.nik}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.email}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(null==(n=e.department)?void 0:n.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(null==(r=e.role)?void 0:r.name)||H(e.roleId)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"3"===e.roleId?h.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(null==(i=e.customPermissions)?void 0:i.length)?h.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:e.customPermissions.join(", "),children:[e.customPermissions.length," custom"]}):h.jsx("span",{className:"italic text-gray-400",children:"None"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a("edit_permissions")&&h.jsxs(h.Fragment,{children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{const t=D.find(t=>String(t.id)===String(e.roleId));j({...e,rolePermissions:(null==t?void 0:t.permissions)||[],customPermissions:e.customPermissions||[],permissions:e.permissions||[]})})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:h.jsx(bu,{className:"text-base"})}),e.id!==(null==t?void 0:t.id)&&a("manage_users")&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>B(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"text-base"})})]})})]},e.id)})})]})})})]})]})]}),h.jsx(Da,{children:w&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),h.jsx("button",{onClick:()=>j(null),className:"text-gray-500 hover:text-gray-700",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsxs("div",{className:"p-6",children:[!w.roleId&&h.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:h.jsx("p",{className:"text-yellow-700",children:" This user has no role assigned. Permissions will come only from custom permissions."})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),h.jsx("div",{className:"font-medium text-gray-900",children:w.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("div",{className:"text-gray-600",children:w.nik})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("div",{className:"text-gray-600",children:w.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("div",{className:"text-gray-600",children:(null==(e=w.department)?void 0:e.name)||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:w.roleId||"",onChange:e=>{const t=e.target.value||null,n=D.find(e=>String(e.id)===String(t));j({...w,roleId:t,rolePermissions:(null==n?void 0:n.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"No Role"}),D.map(e=>h.jsx("option",{value:String(e.id),children:e.name},e.id))]})]})]}),h.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),h.jsx("div",{className:"space-y-4",children:Object.entries(NL).map(([e,t])=>h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>R(e),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[h.jsx("span",{className:"font-medium text-gray-700 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),S[e]?h.jsx(nd,{}):h.jsx(Zc,{})]}),h.jsx(Da,{children:S[e]&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(t).map(([t,n])=>{var r,i;const a=(null==(r=w.rolePermissions)?void 0:r.includes(n))||!1,s="3"===w.roleId,o=s||a||(null==(i=w.customPermissions)?void 0:i.includes(n)),l=s||a;return h.jsxs("div",{className:"flex items-center "+(l?"opacity-50":""),children:[h.jsx("input",{type:"checkbox",id:`user-perm-${n}`,checked:o,onChange:()=>!l&&(e=>{w&&"3"!==w.roleId&&j(t=>{if(!t)return null;const n=t.customPermissions.includes(e)?t.customPermissions.filter(t=>t!==e):[...t.customPermissions,e];return{...t,customPermissions:n,permissions:[...new Set([...t.rolePermissions||[],...n])]}})})(n),disabled:l,className:"h-4 w-4 rounded focus:ring-blue-500 "+(s?"text-blue-600":a?"text-purple-600":"text-blue-600")}),h.jsx("label",{htmlFor:`user-perm-${n}`,className:"ml-2 text-sm text-gray-700",children:h.jsxs("div",{className:"font-medium flex items-center",children:[t," ",e.replace(/([A-Z])/g," $1").trim(),s&&h.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),a&&!s&&h.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},n)})})})]},e))})]}),h.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(w)try{const e=await s(w.id,{roleId:w.roleId||null,customPermissions:w.customPermissions||[]});M(O.map(t=>{if(t.id===e.id){const t=e.roleId||null,n=D.find(e=>String(e.id)===String(t)),r=(null==n?void 0:n.permissions)||[],i=e.customPermissions||[],a=[...new Set([...r,...i])];return{...e,roleId:t,customPermissions:i,rolePermissions:r,permissions:a}}return t})),j(null)}catch(e){}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[h.jsx(ku,{className:"text-red-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},SL=()=>{const{changePassword:e}=xt(),t=je(),[n,r]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,a]=x.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[s,o]=x.useState(!1),[l,c]=x.useState({current:!1,new:!1,confirm:!1}),[d,u]=x.useState(""),p=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),i[t]&&a(e=>({...e,[t]:"",general:""}))},m=e=>{c(t=>({...t,[e]:!t[e]}))};return h.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[h.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:h.jsx(Et,{className:"text-xl text-gray-700"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),h.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:h.jsx(Rt,{className:"text-blue-600 text-lg"})}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{let e=!0;const t={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return n.currentPassword||(t.currentPassword="Current password is required",e=!1),n.newPassword?n.newPassword.length<8&&(t.newPassword="Password must be at least 8 characters",e=!1):(t.newPassword="New password is required",e=!1),n.newPassword!==n.confirmPassword&&(t.confirmPassword="Passwords do not match",e=!1),a(t),e})()){o(!0),u("");try{await e(n.currentPassword,n.newPassword),u("Your password has been changed successfully!"),r({currentPassword:"",newPassword:"",confirmPassword:""}),a({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(i){a(e=>({...e,general:i.message||"Failed to change password. Please try again."}))}finally{o(!1)}}},className:"space-y-6",children:[h.jsxs(Da,{children:[i.general&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[h.jsx(_t,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),h.jsx("p",{className:"text-red-600 text-sm",children:i.general})]})]}),d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[h.jsx(Tt,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),h.jsx("p",{className:"text-green-600 text-sm",children:d})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l.current?"text":"password",id:"currentPassword",name:"currentPassword",value:n.currentPassword,onChange:p,className:`w-full border ${i.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:s,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:()=>m("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":l.current?"Hide password":"Show password",children:l.current?h.jsx(Dt,{}):h.jsx(Pt,{})})]}),i.currentPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(_t,{className:"mr-1"})," ",i.currentPassword]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l.new?"text":"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:p,className:`w-full border ${i.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:s,autoComplete:"new-password"}),h.jsx("button",{type:"button",onClick:()=>m("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":l.new?"Hide password":"Show password",children:l.new?h.jsx(Dt,{}):h.jsx(Pt,{})})]}),h.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[h.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[h.jsx(Lt,{className:"mr-1 text-blue-500"})," Password requirement:"]}),h.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),i.newPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(_t,{className:"mr-1"})," ",i.newPassword]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:l.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:`w-full border ${i.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:s,autoComplete:"new-password"}),h.jsx("button",{type:"button",onClick:()=>m("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":l.confirm?"Hide password":"Show password",children:l.confirm?h.jsx(Dt,{}):h.jsx(Pt,{})})]}),i.confirmPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(_t,{className:"mr-1"})," ",i.confirmPassword]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>t(-1),disabled:s,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:s||n.newPassword.length<8||n.newPassword!==n.confirmPassword,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center "+(s?"opacity-75":""),children:s?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Rt,{className:"mr-2"}),"Update Password"]})})]})]})]}),h.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[h.jsx(Lt,{className:"text-blue-500 mr-2"})," Security Tip"]}),h.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},AL=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],CL=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],_L=()=>{const e=je(),{user:t,register:n,getRoles:r,hasPermission:i,getDepartment:a}=xt(),[s,o]=x.useState(!1),[l,c]=x.useState({}),[d,u]=x.useState(!1),[p,m]=x.useState({}),[f,g]=x.useState([]),[b,y]=x.useState([]),[v,w]=x.useState(window.innerWidth<768),[j,N]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[k,S]=x.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department_id:"",password:"",confirmPassword:""});x.useEffect(()=>{(async()=>{try{const e=await r();g(e);const t=await a();y(t)}catch(e){}})()},[r,a,e]);const A=AL.reduce((e,t)=>(e[t]=CL.filter(e=>e.category===t),e),{}),C=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:n})),p[t]&&m(e=>({...e,[t]:""}))};return i("manage_users")?h.jsxs("div",{className:`flex h-screen font-sans antialiased ${s?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[h.jsx(Ru,{})," ",h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Ou,{}),isMobile:v,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!j)),N(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar "+(s?"bg-gray-900":"bg-gray-50"),children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:(s?"text-gray-100":"text-gray-900")+" text-2xl md:text-3xl font-bold",children:"Add New User"}),h.jsx("p",{className:(s?"text-gray-400":"text-gray-600")+" mt-1",children:"Fill out the form below to add a new user to the system."})]}),h.jsxs(Ac.button,{onClick:()=>e("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:(s?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50")+" flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border",children:[h.jsx(Et,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),p.form&&h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:(s?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700")+" px-4 py-3 rounded relative border mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsxs("span",{className:"block sm:inline",children:[" ",p.form]})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return k.name.trim()||(e.name="Name is required"),k.nik.trim()?/^\d+$/.test(k.nik)||(e.nik="NIK must be numeric"):e.nik="NIK is required",k.password?k.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",k.password!==k.confirmPassword&&(e.confirmPassword="Passwords do not match"),k.department_id||(e.department="Department is required"),k.roleId||(e.roleId="Role is required"),m(e),0===Object.keys(e).length})()){k.name,k.nik,k.email,k.password,k.confirmPassword,k.department_id,k.roleId,k.customPermissions,k.customPermissions.length,u(!0);try{await n(k.name,k.email,k.nik,k.password,k.department_id,k.roleId,k.customPermissions),e("/permissions",{state:{success:"User created successfully"}})}catch(r){m({form:r.message||"Failed to create user. Please try again."})}finally{u(!1)}}},children:[h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:(s?"bg-gray-800 border-gray-700":"bg-white border-blue-50")+" rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 "+(s?"text-gray-100":"text-gray-900"),children:"User Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Full Name*"}),h.jsx("input",{type:"text",name:"name",value:k.name,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),p.name&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"NIK (Employee ID)*"}),h.jsx("input",{type:"text",name:"nik",value:k.nik,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),p.nik&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.nik})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Email*"}),h.jsx("input",{type:"text",name:"email",value:k.email,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),p.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Department*"}),h.jsxs("select",{name:"department_id",value:k.department_id,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Department"}),b.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]}),p.department_id&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.department_id})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Password*"}),h.jsx("input",{type:"password",name:"password",value:k.password,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),p.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Confirm Password*"}),h.jsx("input",{type:"password",name:"confirmPassword",value:k.confirmPassword,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),p.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.confirmPassword})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium "+(s?"text-gray-300":"text-gray-700"),children:"Role*"}),h.jsxs("select",{name:"roleId",value:k.roleId,onChange:C,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[h.jsx("option",{value:"",children:"Select Role"}),f.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]}),p.roleId&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.roleId})]})]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:(s?"bg-gray-800 border-gray-700":"bg-white border-blue-50")+" rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 "+(s?"text-gray-100":"text-gray-900"),children:"Custom Permissions"}),h.jsx("p",{className:"text-sm mb-4 "+(s?"text-gray-400":"text-gray-600"),children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),h.jsx("div",{className:"space-y-4",children:Object.entries(A).map(([e,t])=>h.jsxs("div",{className:(s?"border-gray-700":"border-gray-200")+" border rounded-lg overflow-hidden",children:[h.jsxs("button",{type:"button",onClick:()=>(e=>{c(t=>({...t,[e]:!t[e]}))})(e),className:`w-full flex justify-between items-center p-3 ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[h.jsx("span",{className:"font-medium "+(s?"text-gray-200":"text-gray-700"),children:e}),l[e]?h.jsx(Mt,{className:s?"text-gray-400":"text-gray-500"}):h.jsx(Ot,{className:s?"text-gray-400":"text-gray-500"})]}),h.jsx(Da,{children:l[e]&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 "+(s?"bg-gray-800":"bg-white"),children:t.map(e=>{const t=!!k.roleId&&(e=>{const t=f.find(t=>t.id===e);return t?t.permissions:[]})(k.roleId).includes(e.id),n=k.customPermissions.includes(e.id),r=t;return h.jsxs("div",{className:"flex items-center "+(r?"opacity-50":""),children:[h.jsx("input",{type:"checkbox",id:`perm-${e.id}`,checked:n||t,onChange:()=>{return!r&&(t=e.id,void S(e=>({...e,customPermissions:e.customPermissions.includes(t)?e.customPermissions.filter(e=>e!==t):[...e.customPermissions,t]})));var t},disabled:r,className:`h-4 w-4 rounded focus:ring-blue-500\n                                  ${t?s?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":s?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),h.jsxs("label",{htmlFor:`perm-${e.id}`,className:"ml-2 text-sm "+(s?"text-gray-300":"text-gray-700"),children:[h.jsxs("div",{className:"font-medium flex items-center",children:[e.name,t&&h.jsx("span",{className:`ml-2 text-xs ${s?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),h.jsx("div",{className:"text-gray-500 text-xs",children:e.description})]})]},e.id)})})})]},e))})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx(Ac.button,{type:"button",onClick:()=>e("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:(s?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50")+" inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:d,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${s?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:d?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Bt,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):h.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:h.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},EL=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},TL=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,OL=({isOpen:e,onClose:t,onAssign:n,workOrder:r,users:i})=>{const[a,s]=x.useState("");return e&&r?h.jsx(TL,{isOpen:e,onClose:t,title:`Assign Work Order #${r.work_order_no||r.id}`,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-gray-700",children:["Work Order ",h.jsxs("strong",{children:["#",r.work_order_no||r.id]})," from ",h.jsx("strong",{children:r.requester.name})," needs to be assigned."]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),h.jsxs("select",{id:"user-select",value:a,onChange:e=>s(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[h.jsx("option",{value:"",children:"Select User"}),i.map(e=>{var t;return h.jsxs("option",{value:e.id,children:[e.name," - ",(null==(t=e.department)?void 0:t.name)||e.department_name," (",e.position||"No Position",")"]},e.id)})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{r&&a&&(n(r.id,a),t())},disabled:!a,className:"px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 "+(a?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:"Assign"})]})]})}):null},ML=()=>{const[e,t]=x.useState(!1),[r,i]=x.useState(!1),[a,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,p]=x.useState(!1),[m,f]=x.useState(!1),[g,b]=x.useState(null),[y,v]=x.useState(1),[w]=x.useState(5),j=n(),[N,k]=x.useState(window.innerWidth<768),[S,A]=x.useState(!1),[C,_]=x.useState(!1),[E,T]=x.useState([]),[O,M]=x.useState(!0),[D,P]=x.useState(null),[I,L]=x.useState(!1),[R,F]=x.useState(null),[B,H]=x.useState(!1),[z,W]=x.useState([]),[U,V]=x.useState(!1),$=je(),q=ye(),G=x.useRef(null),Y=x.useRef(null),{user:Q,getWorkOrdersIT:K,updateWorkOrderIT:J,getUsers:X,hasPermission:Z,getVendor:ee}=xt(),te="/workorders/it/assignment"===q.pathname,ne="/workorders/it/reports"===q.pathname,re="/workorders/it/knowledgebase"===q.pathname,ie="/workorders/it"===q.pathname,ae="/workorders/it/receiver"===q.pathname;q.pathname;const se=x.useCallback(async()=>{M(!0),P(null);try{const e=(await K()).filter(e=>{var t,n,r;return((null==(n=null==(t=e.service)?void 0:t.owner)?void 0:n.id)||(null==(r=e.service)?void 0:r.service_owner))===Number(null==Q?void 0:Q.id)});T(e)}catch(e){P(e.message||"Failed to load work orders.")}finally{M(!1)}},[K,null==Q?void 0:Q.id]),oe=x.useCallback(async()=>{try{const e=await X();W(e)}catch(e){}},[X]),le=x.useCallback(async(e,t)=>{L(!0),F(null),H(!1);try{const n=await J({...t,id:e});return T(t=>t.map(t=>t.id===e?n:t)),H(!0),setTimeout(()=>H(!1),3e3),n}catch(n){throw F(n.message||"Failed to update work order."),n}finally{L(!1)}},[J]),ce=()=>{k(window.innerWidth<768),window.innerWidth<768&&i(!1)},de=e=>{G.current&&!G.current.contains(e.target)&&A(!1),Y.current&&!Y.current.contains(e.target)&&_(!1)};x.useEffect(()=>(window.addEventListener("resize",ce),document.addEventListener("mousedown",de),se(),oe(),()=>{window.removeEventListener("resize",ce),document.removeEventListener("mousedown",de)}),[se,oe]);const ue=e=>{switch(e){case"New":default:return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":case"Cancel":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Closed":return"bg-gray-900 text-white"}},he=e=>{switch(null==e?void 0:e.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},pe=e=>{switch(e){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},me=e=>{switch(null==e?void 0:e.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},fe=x.useCallback(e=>{const t=E.find(t=>t.id===e);t&&(b(t),p(!0))},[E]);x.useCallback(e=>{const t=E.find(t=>t.id===e);t&&(b(t),f(!0))},[E]),x.useCallback(async e=>{try{await le(e.id,e),f(!1),b(null)}catch(t){}},[le]);const ge=E.filter(e=>{var t,n,r,i;const s=(null==(n=null==(t=e.requester)?void 0:t.name)?void 0:n.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(i=e.complaint)?void 0:i.toLowerCase().includes(a.toLowerCase()))||String(e.id).includes(a),l="all"===o||e.handling_status===o;return s&&l}).sort((e,t)=>{var n,r;const i=pe(e.handling_status),a=pe(t.handling_status);if(i!==a)return i-a;const s=me((null==(n=e.service)?void 0:n.priority)||"Medium"),o=me((null==(r=t.service)?void 0:r.priority)||"Medium");return s!==o?s-o:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}),xe=y*w,be=xe-w,ve=ge.slice(be,xe),we=Math.ceil(ge.length/w),Ne=e=>v(e),ke=x.useCallback(e=>{b(e),V(!0)},[]),Se=x.useCallback(async(e,t)=>{try{await le(e,{assigned_to_id:parseInt(t),handling_status:"Assigned",handling_date:(new Date).toISOString()}),V(!1),b(null)}catch(n){}},[le]),Ae=({order:e,onClose:t})=>{var n,r,i,a,s,o,l,c,d,u,p,m;const f=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),g=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",x=({status:e})=>{const t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.New}`,children:e})},b=({priority:e})=>{const t={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.Medium}`,children:e||"Medium"})},y=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),v=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),w=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(v,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const i=oy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:i}})]})]})})})},N=({order:e})=>{const n="New"===e.handling_status,r="Assigned"===e.handling_status,i=n&&Z("assign_workorders");return h.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[i&&h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{V(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(Ou,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),r&&h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>$(`/workorders/it/receiver/editreceiver/${e.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(bu,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",e.work_order_no||e.id]}),h.jsx(x,{status:e.handling_status}),h.jsx(b,{priority:null==(n=e.service)?void 0:n.priority})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Created: ",g(e.date)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(ld,{className:"w-4 h-4"}),e.handling_date?`Handling: ${g(e.handling_date)}`:"Not yet handled"]})]})]})})}),h.jsx(y,{title:"Service Owner Information",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(v,{label:"Service Owner",value:f((null==(i=null==(r=e.service)?void 0:r.owner)?void 0:i.name)||(null==Q?void 0:Q.name)),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Service Department",value:f(null==(a=null==Q?void 0:Q.department)?void 0:a.name),icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Service Type",value:f(null==(s=e.service_type)?void 0:s.group_name),icon:h.jsx(Pu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Service Name",value:f(null==(o=e.service)?void 0:o.service_name),icon:h.jsx(od,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(y,{title:"Request Information",icon:h.jsx(od,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(v,{label:"Requester",value:f(null==(l=e.requester)?void 0:l.name),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Requester Department",value:f(e.department_name||(null==(c=e.department)?void 0:c.name)),icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Reception Method",value:f(e.reception_method),icon:h.jsx(Cu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Known By",value:f(null==(d=e.known_by)?void 0:d.name),icon:h.jsx(gd,{className:"w-4 h-4"})}),h.jsx(v,{label:"Asset Number",value:f(e.asset_no),icon:h.jsx(od,{className:"w-4 h-4"})})]})}),h.jsx(y,{title:"Technical Details",icon:h.jsx(Pu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(v,{label:"Device Information",value:f(e.device_info),icon:h.jsx(mu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(w,{label:"Complaint Details",htmlContent:e.complaint||"",icon:h.jsx(ku,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(y,{title:"Assignment & Handling",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[h.jsx(v,{label:"Current Status",value:f(e.handling_status),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Priority Level",value:f((null==(u=e.service)?void 0:u.priority)||"Medium"),icon:h.jsx(ku,{className:"w-4 h-4"}),priority:"high"})]}),h.jsx(v,{label:"Assigned To",value:f((null==(p=e.assigned_to)?void 0:p.name)||"Unassigned"),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(v,{label:"Assignment Type",value:e.vendor?"Vendor":e.assigned_to?"Internal Technician":"Not Assigned",icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Handling Start Date",value:g(e.handling_date||"-"),icon:h.jsx(Yc,{className:"w-4 h-4"})}),h.jsx(v,{label:"Received By",value:f((null==(m=e.received_by)?void 0:m.name)||"-"),icon:h.jsx(id,{className:"w-4 h-4"})}),h.jsx(w,{label:"Action Taken",htmlContent:e.action_taken||"",icon:h.jsx(Pu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(w,{label:"Technical Remarks",htmlContent:e.remarks||"",icon:h.jsx(od,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.vendor&&h.jsx(y,{title:"Vendor Assignment",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(v,{label:"Vendor Name",value:f(e.vendor.name),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(v,{label:"Contact Person",value:f(e.vendor.contact_person),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(v,{label:"Email",value:f(e.vendor.email),icon:h.jsx(Gd,{className:"w-4 h-4"})}),h.jsx(v,{label:"Phone",value:f(e.vendor.telp),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Mobile",value:f(e.vendor.HP),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(v,{label:"Address",value:f(e.vendor.address),icon:h.jsx(Yd,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(y,{title:"Timeline",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),h.jsx("span",{className:"text-sm text-green-600",children:g(e.date)})]}),e.handling_date&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),h.jsx("span",{className:"text-sm text-blue-600",children:g(e.handling_date)})]}),e.assigned_to&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[h.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),h.jsx("span",{className:"text-sm text-purple-600",children:f(e.assigned_to.name)})]})]})}),e.attachment&&h.jsx(y,{title:"Attachment",icon:h.jsx(tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`${j.envVariables.VITE_BACKEND_API_URL}$ {order.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:e=>{e.currentTarget.style.display="none"}})})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(tu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),h.jsxs("a",{href:`${j.envVariables.VITE_BACKEND_API_URL}${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[h.jsx(fd,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})}),h.jsx(N,{order:e})]})};return x.useEffect(()=>{v(1),document.documentElement.classList.toggle("dark",e)},[a,o,e]),O?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):D?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ku,{className:"text-red-600 text-5xl"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-lg text-red-800",children:D}),h.jsx("button",{onClick:se,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:N,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>$("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>$("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>$("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${te?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>$("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>$("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${re?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),R&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:R}),h.jsx("button",{onClick:()=>F(null),className:"absolute top-0 right-0 p-3",children:h.jsx(Iu,{size:16})})]}),B&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),h.jsx("button",{onClick:()=>H(!1),className:"absolute top-0 right-0 p-3",children:h.jsx(Iu,{size:16})})]}),h.jsx(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(EL,{title:"Total IT Assignments",value:ge.length.toString(),change:"+8%",icon:h.jsx(od,{})}),h.jsx(EL,{title:"In Progress",value:ge.filter(e=>["In Progress","Escalated","Vendor Handled"].includes(e.handling_status)).length.toString(),change:"-1",icon:h.jsx(Pu,{})}),h.jsx(EL,{title:"Resolved",value:ge.filter(e=>["Resolved","Done"].includes(e.handling_status)).length.toString(),change:"+1",icon:h.jsx(id,{})}),h.jsx(EL,{title:"Assigned",value:ge.filter(e=>"Assigned"===e.handling_status).length.toString(),change:"+3",icon:h.jsx(ld,{})})]}),h.jsx(Ac.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:e=>s(e.target.value)})]}),h.jsx(Da,{children:c&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:o,onChange:e=>l(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"New",children:"New"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Done",children:"Done"}),h.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ve.length>0?ve.map(e=>{var t,n,r,i;const a=!("Resolved"===e.handling_status||"Done"===e.handling_status||"Cancel"===e.handling_status||"Closed"===e.handling_status)&&Z("view_workorders"),s="New"===e.handling_status;["In Progress","Escalated","Vendor Handled"].includes(e.handling_status);const o=(e=>{var t;return e.vendor?`${e.vendor.name}`:(null==(t=e.assigned_to)?void 0:t.name)||"Unassigned"})(e),l=(e=>e.vendor?"vendor":e.assigned_to?"user":"unassigned")(e);return h.jsxs(Ac.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>fe(e.id),title:"Click to view details",children:e.work_order_no||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.requester.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.handling_date?new Date(e.handling_date).toLocaleDateString():"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${he(null==(t=e.service)?void 0:t.priority)} shadow-sm`,children:(null==(n=e.service)?void 0:n.priority)||"Medium"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ue(e.handling_status)} shadow-sm`,children:e.handling_status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s?h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ke(e),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-sm font-medium "+("vendor"===l?"text-purple-600":"user"===l?"text-blue-600":"text-gray-500"),children:o}),"vendor"===l&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(e.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:h.jsx(gd,{className:"text-lg"})}),a&&("In Progress"!==e.handling_status||!(null==(r=e.assigned_to)?void 0:r.name)||"N/A"===(null==(i=e.assigned_to)?void 0:i.name))&&h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$(`/workorders/it/receiver/editreceiver/${e.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:h.jsx(bu,{className:"text-lg"})})]})]},e.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),ge.length>w&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:be+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(xe,ge.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:ge.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(y-1),disabled:1===y,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:we},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${y===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(y+1),disabled:y===we,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{p(!1),b(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:h.jsx(Ae,{order:g,onClose:()=>{p(!1),b(null)}})})]})})}),g&&h.jsx(OL,{isOpen:U,onClose:()=>{V(!1),b(null)},onAssign:Se,workOrder:g,users:z})]})},DL=({content:e,className:t=""})=>{if(!e)return h.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${t}`,children:"-"});const n=oy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${t}`,dangerouslySetInnerHTML:{__html:n}})},PL=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,IL=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[i,a]=x.useState(""),[s,o]=x.useState("all"),[l,c]=x.useState(!1),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(1),[b]=x.useState(5),[y,v]=x.useState(window.innerWidth<768),[w,j]=x.useState(!1),[N,k]=x.useState(!1),[S,A]=x.useState(!0),[C,_]=x.useState(null),{user:E,hasPermission:T,getWorkOrdersIT:O}=xt(),M=je(),D=ye(),P=x.useRef(null),I=x.useRef(null);D.pathname,D.pathname;const L="/workorders/it"===D.pathname;D.pathname;const R="/workorders/it/assignment"===D.pathname,F="/workorders/it/receiver"===D.pathname,B="/workorders/it/reports"===D.pathname,H="/workorders/it/knowledgebase"===D.pathname,[z,W]=x.useState([]),U=x.useCallback(async()=>{try{A(!0),_(null);const e=(await O()).filter(e=>e.action_taken&&"Closed"===e.handling_status).map(e=>{var t,n,r;const i=e.complaint.split(" ").slice(0,5).join(" "),a=`Solution for: ${i}${i.length<e.complaint.length?"...":""}`;return{id:e.id,title:a,content:e.action_taken||"No action taken details available.",category:(null==(t=e.service)?void 0:t.service_name)||"General",tags:[(null==(n=e.service_type)?void 0:n.group_name)||"General",e.handling_status||"Completed",...e.asset_no?[`Asset: ${e.asset_no}`]:[]],lastUpdated:e.handling_date||e.updated_at||e.created_at,workOrderNo:e.work_order_no,technician:(null==(r=e.assigned_to)?void 0:r.name)||"Unknown Technician",completionDate:e.handling_date||e.updated_at}});W(e)}catch(e){_("Failed to load knowledge base articles")}finally{A(!1)}},[O]);x.useEffect(()=>{const e=()=>{v(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{P.current&&!P.current.contains(e.target)&&j(!1),I.current&&!I.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{U()},[U]),x.useEffect(()=>{g(1),document.documentElement.classList.toggle("dark",e)},[i,s,n,e]);const V=x.useCallback(e=>{m(e),c(!0)},[]),$=z.filter(e=>{const t=e.title.toLowerCase().includes(i.toLowerCase())||e.content.toLowerCase().includes(i.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(i.toLowerCase())),n="all"===s||e.category===s;return t&&n}),q=Array.from(new Set(z.map(e=>e.category))),G=f*b,Y=G-b,Q=$.slice(Y,G),K=Math.ceil($.length/b),J=e=>g(e);return E?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Uc,{}),isMobile:y,toggleSidebar:()=>{r(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${L?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${F?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${R?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${B?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>M("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${H?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),h.jsx(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[h.jsxs("div",{className:"relative w-full md:w-2/3",children:[h.jsx(pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:i,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),h.jsxs("div",{className:"relative w-full md:w-1/3",children:[h.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Categories"}),q.map(e=>h.jsx("option",{value:e,children:e},e))]}),h.jsx(Zc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),h.jsxs("div",{className:"text-sm text-gray-500",children:[$.length," articles found"]})]}),S?h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):C?h.jsxs("div",{className:"text-center py-10 text-red-500",children:[h.jsx(Dd,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),h.jsx("p",{className:"text-lg font-medium",children:C}),h.jsx("button",{onClick:U,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):0===Q.length?h.jsxs("div",{className:"text-center py-10 text-gray-500",children:[h.jsx(Dd,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),h.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):h.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.jsx(Da,{children:Q.map(e=>h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>V(e),children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),h.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:h.jsx(DL,{content:e.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),h.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[h.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:e.category}),e.tags.map(e=>h.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:e},e))]}),h.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx(bd,{size:12,className:"mr-1"}),e.workOrderNo]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(_u,{size:12,className:"mr-1"}),e.technician]})]}),h.jsxs("span",{className:"flex items-center",children:[h.jsx(Yc,{size:12,className:"mr-1"}),new Date(e.lastUpdated).toLocaleDateString()]})]})]},e.id))})}),$.length>b&&h.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx(Ac.button,{onClick:()=>J(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),h.jsx(Ac.button,{onClick:()=>J(f+1),disabled:f===K,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",h.jsx("span",{className:"font-medium",children:Y+1})," to ",h.jsx("span",{className:"font-medium",children:Math.min(G,$.length)})," of"," ",h.jsx("span",{className:"font-medium",children:$.length})," results"]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsxs(Ac.button,{onClick:()=>J(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"sr-only",children:"Previous"}),h.jsx(ed,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(K)].map((e,t)=>h.jsx(Ac.button,{onClick:()=>J(t+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium "+(f===t+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:t+1},t)),h.jsxs(Ac.button,{onClick:()=>J(f+1),disabled:f===K,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"sr-only",children:"Next"}),h.jsx(td,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),p&&h.jsx(PL,{isOpen:l,onClose:()=>c(!1),title:p.title,children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bd,{size:16,className:"mr-2 text-blue-600"}),h.jsx("span",{className:"font-medium",children:"Work Order:"}),h.jsx("span",{className:"ml-2",children:p.workOrderNo})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(_u,{size:16,className:"mr-2 text-green-600"}),h.jsx("span",{className:"font-medium",children:"Technician:"}),h.jsx("span",{className:"ml-2",children:p.technician})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yc,{size:16,className:"mr-2 text-purple-600"}),h.jsx("span",{className:"font-medium",children:"Completed:"}),h.jsx("span",{className:"ml-2",children:new Date(p.completionDate).toLocaleDateString()})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Uc,{size:16,className:"mr-2 text-orange-600"}),h.jsx("span",{className:"font-medium",children:"Category:"}),h.jsx("span",{className:"ml-2",children:p.category})]})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),h.jsx(DL,{content:p.content})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(e=>h.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:e},e))})]}),h.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(p.lastUpdated).toLocaleDateString()," at ",new Date(p.lastUpdated).toLocaleTimeString()]})]})})]}):h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var LL=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],RL=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),r=String(t.getOptionValue(e)).toLowerCase(),i=String(t.getOptionLabel(e)).toLowerCase();return r===n||i===n},FL={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some(function(t){return RL(e,t,r)})||n.some(function(t){return RL(e,t,r)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},BL=x.forwardRef(function(e,t){var n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,b,y,v,w,j,N,k,S,A,C,_,E,T,O=(r=(n=Sy(e)).allowCreateWhileLoading,i=void 0!==r&&r,a=n.createOptionPosition,s=void 0===a?"last":a,o=n.formatCreateLabel,l=void 0===o?FL.formatCreateLabel:o,c=n.isValidNewOption,d=void 0===c?FL.isValidNewOption:c,u=n.getNewOptionData,h=void 0===u?FL.getNewOptionData:u,p=n.onCreateOption,m=n.options,f=void 0===m?[]:m,g=n.onChange,y=(b=Ny(n,LL)).getOptionValue,v=void 0===y?zj:y,w=b.getOptionLabel,j=void 0===w?Hj:w,N=b.inputValue,k=b.isLoading,S=b.isMulti,A=b.value,C=b.name,_=x.useMemo(function(){return d(N,fw(A),f,{getOptionValue:v,getOptionLabel:j})?h(N,l(N)):void 0},[l,h,j,v,N,d,f,A]),E=x.useMemo(function(){return!i&&k||!_?f:"first"===s?[_].concat(Oy(f)):[].concat(Oy(f),[_])},[i,s,k,_,f]),T=x.useCallback(function(e,t){if("select-option"!==t.action)return g(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==_)g(e,t);else if(p)p(N);else{var r=h(N,N),i={action:"create-option",name:C,option:r};g(Ew(S,[].concat(Oy(fw(A)),[r]),r),i)}},[h,N,S,C,_,p,g,A]),yy(yy({},b),{},{options:E,onChange:T}));return x.createElement(iN,Ay({ref:t},O))}),HL=BL;const zL=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,WL=()=>{var e,t,n,r,i;const{addWorkOrderIT:a,user:s,getUsers:o,getServices:l,getDepartment:c,getServiceGroups:d}=xt(),u=je(),[p,m]=x.useState([]),[f,g]=x.useState([]),[b,y]=x.useState([]),[v,w]=x.useState([]),[j,N]=x.useState(window.innerWidth<768),[k,S]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[A,C]=x.useState(!1),[_,E]=x.useState(null),[T,O]=x.useState(null),[M,D]=x.useState(!1),[P,I]=x.useState(null),[L,R]=x.useState([]),[F,B]=x.useState([]),[H,z]=x.useState(!1),[W,U]=x.useState(null),V=x.useRef(null),$=x.useRef(null),q={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==s?void 0:s.id)?parseInt(s.id):0,known_by_id:(null==(e=null==s?void 0:s.department)?void 0:e.head_id)||null,department_id:(null==s?void 0:s.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null},[G,Y]=x.useState(q),Q="Electronic Work Order System"===G.reception_method;x.useEffect(()=>{s&&(async()=>{try{const e=(await d((null==s?void 0:s.id)?parseInt(s.id):0)).map(e=>({id:Number(e.id),name:e.group_name||e.name||"",description:e.group_description||e.description||void 0}));B(e);const t=await c();g(t);const n=await o();if(m(n),s&&s.id){const e=await l(parseInt(s.id));y(e)}}catch(e){}})()},[s,o,l,c,d]),x.useEffect(()=>{if("Electronic Work Order System"===G.reception_method&&s&&f.length>0){const e=f.find(e=>e.id===s.department_id),t=(null==e?void 0:e.head_id)||null;Y(e=>({...e,requester_id:parseInt(s.id),department_id:s.department_id||0,known_by_id:t}))}},[G.reception_method,s,f]),x.useEffect(()=>{const e=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{if(null!==G.service_group_id&&b.length>0){const e=b.filter(e=>e.service_group&&e.service_group.id===G.service_group_id);R(e)}else R([])},[G.service_group_id,b]),x.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k]);const K=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r=e.value;else{if(null!==e||!t)return;n=t,r=null}Y(e=>({...e,[n]:r}))},[]),J=e=>{Y(t=>({...t,asset_no:e?e.value:""}))},X=x.useCallback(()=>{I(null),Y(e=>({...e,attachment:null}))},[]),Z=x.useCallback(()=>{D(!1),u("/workorders/it")},[u]);x.useEffect(()=>{const e=e=>{H&&z(!1)};return H&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[H]);const ee={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},te=x.useCallback(e=>{if(!e)return;const t=parseInt(e.value),n=p.find(e=>parseInt(e.id)===t);if(n){const e=f.find(e=>e.id===n.department_id);Y(r=>({...r,requester_id:t,department_id:n.department_id||0,known_by_id:(null==e?void 0:e.head_id)||null}))}},[p,f]),ne=({selectedFile:e,attachment:t,onRemove:n})=>{if(!e&&!t)return null;const r=e&&e.type.startsWith("image/")?URL.createObjectURL(e):t&&t.startsWith("data:image")||t&&t.startsWith("blob:")?t:null,i=null!==r,a=e?e.name:t||"Attachment";return h.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"p-3 rounded-lg "+(e?"bg-blue-50":"bg-purple-50"),children:i?h.jsx(Qc,{className:"h-6 w-6 text-green-600"}):h.jsx(yd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:a}),h.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[h.jsx("p",{className:"text-xs text-gray-500",children:e?`${(e.size/1024/1024).toFixed(2)} MB`:"Existing file"}),h.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:e?"Ready to upload":"Attached"})]})]})]}),h.jsx(Ac.button,{type:"button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:h.jsx(Iu,{size:18})})]}),i&&r&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:r,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:j,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),h.jsxs(Ac.button,{onClick:()=>u("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(ed,{className:"text-lg"})," Back to Work Orders"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[_&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:_}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>E(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),C(!0),E(null),!G.service_group_id)return E("Service Type is required"),void C(!1);if(!G.service_catalogue_id)return E("Service is required"),void C(!1);if(!L.find(e=>e.id===G.service_catalogue_id))return E("Selected service is not available for the chosen service type"),void C(!1);const t={...G,service_group_id:G.service_group_id,service_catalogue_id:G.service_catalogue_id};try{const e=await a(t,P);O({message:"Work Order created successfully!",work_order:e.work_order||e}),D(!0)}catch(n){E(n.message||"Gagal menyimpan work order. Silakan coba lagi.")}finally{C(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"date",name:"date",value:G.date,onChange:K,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:G.reception_method,label:G.reception_method},onChange:e=>{const t=(null==e?void 0:e.value)||"";Y(e=>{var n,r;const i={...e,reception_method:t};return"Electronic Work Order System"===t&&s?{...i,requester_id:parseInt(s.id),department_id:(null==(n=s.department)?void 0:n.id)||0,known_by_id:(null==(r=s.department)?void 0:r.head_id)||null}:i})},placeholder:"Select Reception Method",styles:ee,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",h.jsx("span",{className:"text-red-500",children:"*"})]}),Q?h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==s?void 0:s.name)||"Current User"})}):h.jsx(aN,{id:"requester_id",name:"requester_id",options:p.map(e=>({value:String(e.id),label:e.name})),value:p.find(e=>parseInt(e.id)===G.requester_id)?{value:String(G.requester_id),label:(null==(t=p.find(e=>parseInt(e.id)===G.requester_id))?void 0:t.name)||""}:null,onChange:te,placeholder:"Select Requester",styles:ee,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(Q){const e=f.find(e=>e.id===(null==s?void 0:s.department_id));return(null==e?void 0:e.name)||"No department assigned"}const e=f.find(e=>e.id===G.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(Q){const e=f.find(e=>e.id===(null==s?void 0:s.department_id));if(e&&e.head_id){const t=p.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"}const e=f.find(e=>e.id===G.department_id);if(e&&e.head_id){const t=p.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"service_group_id",name:"service_group_id",options:F.map(e=>({value:String(e.id),label:e.name})),value:null!==G.service_group_id?{value:String(G.service_group_id),label:(null==(n=F.find(e=>e.id===G.service_group_id))?void 0:n.name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;Y(e=>({...e,service_group_id:t,service_catalogue_id:null}))},placeholder:"Select Service Type",styles:ee,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"service_catalogue_id",name:"service_catalogue_id",options:L.map(e=>({value:String(e.id),label:e.service_name})),value:null!==G.service_catalogue_id?{value:String(G.service_catalogue_id),label:(null==(r=L.find(e=>e.id===G.service_catalogue_id))?void 0:r.service_name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;Y(e=>({...e,service_catalogue_id:t}))},placeholder:null!==G.service_group_id?0===L.length?"No services available for selected type":"Select Service":"Please select Service Type first",styles:ee,isDisabled:null===G.service_group_id||0===L.length,required:!0}),0===L.length&&G.service_group_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),h.jsx(HL,{name:"asset_no",id:"asset_no",options:v,value:G.asset_no?{value:G.asset_no,label:G.asset_no}:null,onChange:J,onCreateOption:e=>{const t={value:e,label:e};w(e=>[...e,t]),J(t)},placeholder:"Type or select Asset No.",styles:ee,isClearable:!0,required:!1})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Wd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{id:"device_info",name:"device_info",value:G.device_info,onChange:K,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:G.complaint,onChange:e=>{Y(t=>({...t,complaint:e}))}})]})]})]}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),P||G.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(tu,{className:"h-5 w-5 text-blue-600"})}),h.jsx("p",{className:"text-sm font-medium text-blue-900",children:P?`File selected: ${P.name}`:"Photo captured from camera"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"File ready for upload. Click to change."})]})}):h.jsx(Ac.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),z(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(tu,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}),h.jsx(ne,{selectedFile:P,attachment:G.attachment,onRemove:X}),h.jsx(Da,{children:H&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>z(!1),children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Iu,{size:20})})]}),W?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:V,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:$,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(V.current&&$.current){const e=$.current,t=e.getContext("2d");if(t){e.width=V.current.videoWidth,e.height=V.current.videoHeight,t.drawImage(V.current,0,0);const n=e.toDataURL("image/jpeg",.8);Y(e=>({...e,attachment:n}));const r={name:`photo-${Date.now()}.jpg`,type:"image/jpeg",size:n.length,lastModified:Date.now(),data:n};I(r),W&&(W.getTracks().forEach(e=>e.stop()),U(null))}}z(!1)},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{W&&(W.getTracks().forEach(e=>e.stop()),U(null)),z(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];I(e),Y(e=>({...e,attachment:null}))}z(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(yd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});U(e),V.current&&(V.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(Qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:()=>{Y(q),I(null),E(null),O(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:A,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:A?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),h.jsx(zL,{isOpen:M,onClose:Z,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==T?void 0:T.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(i=null==T?void 0:T.work_order)?void 0:i.work_order_no]}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},UL=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Select Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workorders/it"),children:[h.jsx(ud,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workorders/td"),children:[h.jsx(Sd,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},VL=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(Yd,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/worklocation/workarea"),children:[h.jsx(Yd,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/worklocation/department"),children:[h.jsx(Gc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/worklocation/workunit"),children:[h.jsx(Du,{size:64,className:"text-purple-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),h.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},$L=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(Mu,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workarrangement/workgroup"),children:[h.jsx(Mu,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/workarrangement/workshift"),children:[h.jsx(ld,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},qL=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Pu,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/generalsettings"),children:[h.jsx(mu,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/spareparttype"),children:[h.jsx(Su,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/sparepartgroup"),children:[h.jsx($c,{size:64,className:"text-purple-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),h.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/sparepart/sparepartmaintenance"),children:[h.jsx(wu,{size:64,className:"text-orange-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),h.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},GL=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:h.jsx(Xd,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/assets/assetsgroup"),children:[h.jsx($c,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/assets/assetsdata"),children:[h.jsx(pd,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},YL=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Rd,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/services/servicegroups"),children:[h.jsx(Mu,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/services/servicecatalogues"),children:[h.jsx(Uc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},QL=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const f=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(wu,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/activitytypes"),children:[h.jsx(Hd,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/activity"),children:[h.jsx(Dc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/stoptimes"),children:[h.jsx(ld,{size:64,className:"text-purple-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),h.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>f("/maintenanceactivity/troubleitem"),children:[h.jsx(ku,{size:64,className:"text-orange-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),h.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})};var KL,JL,XL,ZL,eR,tR,nR,rR,iR,aR,sR,oR,lR,cR,dR,uR,hR,pR,mR,fR,gR,xR,bR,yR,vR,wR,jR,NR,kR,SR,AR,CR,_R,ER,TR,OR,MR,DR,PR,IR,LR,RR,FR,BR,HR,zR,WR,UR,VR,$R,qR,GR,YR,QR,KR,JR,XR,ZR,eF,tF,nF,rF,iF,aF,sF,oF,lF,cF,dF,uF,hF,pF,mF,fF,gF,xF,bF,yF,vF,wF,jF,NF,kF,SF,AF,CF,_F,EF,TF,OF,MF,DF,PF,IF,LF,RF,FF,BF,HF,zF,WF,UF,VF,$F;function qF(){if(JL)return KL;JL=1;var e=Array.isArray;return KL=e}function GF(){if(ZL)return XL;ZL=1;var e="object"==typeof i&&i&&i.Object===Object&&i;return XL=e}function YF(){if(tR)return eR;tR=1;var e=GF(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return eR=n}function QF(){if(rR)return nR;rR=1;var e=YF().Symbol;return nR=e}function KF(){if(cR)return lR;cR=1;var e=QF(),t=function(){if(aR)return iR;aR=1;var e=QF(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return iR=function(e){var t=n.call(e,i),a=e[i];try{e[i]=void 0;var s=!0}catch(Dw){}var o=r.call(e);return s&&(t?e[i]=a:delete e[i]),o}}(),n=function(){if(oR)return sR;oR=1;var e=Object.prototype.toString;return sR=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return lR=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function JF(){return uR?dR:(uR=1,dR=function(e){return null!=e&&"object"==typeof e})}function XF(){if(pR)return hR;pR=1;var e=KF(),t=JF();return hR=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function ZF(){if(fR)return mR;fR=1;var e=qF(),t=XF(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return mR=function(i,a){if(e(i))return!1;var s=typeof i;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=i&&!t(i))||r.test(i)||!n.test(i)||null!=a&&i in Object(a)}}function eB(){return xR?gR:(xR=1,gR=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function tB(){if(yR)return bR;yR=1;var e=KF(),t=eB();return bR=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function nB(){if(SR)return kR;SR=1;var e=Function.prototype.toString;return kR=function(t){if(null!=t){try{return e.call(t)}catch(Dw){}try{return t+""}catch(Dw){}}return""}}function rB(){if(OR)return TR;OR=1;var e=function(){if(CR)return AR;CR=1;var e=tB(),t=function(){if(NR)return jR;NR=1;var e,t=function(){if(wR)return vR;wR=1;var e=YF()["__core-js_shared__"];return vR=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return jR=function(e){return!!n&&n in e}}(),n=eB(),r=nB(),i=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return AR=function(a){return!(!n(a)||t(a))&&(e(a)?c:i).test(r(a))}}(),t=ER?_R:(ER=1,_R=function(e,t){return null==e?void 0:e[t]});return TR=function(n,r){var i=t(n,r);return e(i)?i:void 0}}function iB(){if(DR)return MR;DR=1;var e=rB()(Object,"create");return MR=e}function aB(){return QR?YR:(QR=1,YR=function(e,t){return e===t||e!=e&&t!=t})}function sB(){if(JR)return KR;JR=1;var e=aB();return KR=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}}function oB(){if(oF)return sF;oF=1;var e=GR?qR:(GR=1,qR=function(){this.__data__=[],this.size=0}),t=function(){if(ZR)return XR;ZR=1;var e=sB(),t=Array.prototype.splice;return XR=function(n){var r=this.__data__,i=e(r,n);return!(i<0||(i==r.length-1?r.pop():t.call(r,i,1),--this.size,0))}}(),n=function(){if(tF)return eF;tF=1;var e=sB();return eF=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]}}(),r=function(){if(rF)return nF;rF=1;var e=sB();return nF=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(aF)return iF;aF=1;var e=sB();return iF=function(t,n){var r=this.__data__,i=e(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,sF=a}function lB(){if(cF)return lF;cF=1;var e=rB()(YF(),"Map");return lF=e}function cB(){if(fF)return mF;fF=1;var e=pF?hF:(pF=1,hF=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return mF=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function dB(){if(SF)return kF;SF=1;var e=function(){if(uF)return dF;uF=1;var e=function(){if($R)return VR;$R=1;var e=function(){if(IR)return PR;IR=1;var e=iB();return PR=function(){this.__data__=e?e(null):{},this.size=0}}(),t=RR?LR:(RR=1,LR=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(BR)return FR;BR=1;var e=iB(),t=Object.prototype.hasOwnProperty;return FR=function(n){var r=this.__data__;if(e){var i=r[n];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(zR)return HR;zR=1;var e=iB(),t=Object.prototype.hasOwnProperty;return HR=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),i=function(){if(UR)return WR;UR=1;var e=iB();return WR=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,VR=a}(),t=oB(),n=lB();return dF=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(xF)return gF;xF=1;var e=cB();return gF=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(yF)return bF;yF=1;var e=cB();return bF=function(t){return e(this,t).get(t)}}(),r=function(){if(wF)return vF;wF=1;var e=cB();return vF=function(t){return e(this,t).has(t)}}(),i=function(){if(NF)return jF;NF=1;var e=cB();return jF=function(t,n){var r=e(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this}}();function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,kF=a}function uB(){if(CF)return AF;CF=1;var e=dB();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var i=function(){var e=arguments,t=r?r.apply(this,e):e[0],a=i.cache;if(a.has(t))return a.get(t);var s=n.apply(this,e);return i.cache=a.set(t,s)||a,s};return i.cache=new(t.Cache||e),i}return t.Cache=e,AF=t}function hB(){return DF?MF:(DF=1,MF=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i})}function pB(){if(RF)return LF;RF=1;var e=function(){if(IF)return PF;IF=1;var e=QF(),t=hB(),n=qF(),r=XF(),i=e?e.prototype:void 0,a=i?i.toString:void 0;return PF=function e(i){if("string"==typeof i)return i;if(n(i))return t(i,e)+"";if(r(i))return a?a.call(i):"";var s=i+"";return"0"==s&&1/i==-1/0?"-0":s},PF}();return LF=function(t){return null==t?"":e(t)}}function mB(){if(BF)return FF;BF=1;var e=qF(),t=ZF(),n=function(){if(OF)return TF;OF=1;var e=function(){if(EF)return _F;EF=1;var e=uB();return _F=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,i,a){r.push(i?a.replace(n,"$1"):t||e)}),r});return TF=r}(),r=pB();return FF=function(i,a){return e(i)?i:t(i,a)?[i]:n(r(i))}}function fB(){if(zF)return HF;zF=1;var e=XF();return HF=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}function gB(){if(UF)return WF;UF=1;var e=mB(),t=fB();return WF=function(n,r){for(var i=0,a=(r=e(r,n)).length;null!=n&&i<a;)n=n[t(r[i++])];return i&&i==a?n:void 0}}function xB(){if($F)return VF;$F=1;var e=gB();return VF=function(t,n,r){var i=null==t?void 0:e(t,n);return void 0===i?r:i}}const bB=a(xB());var yB,vB;const wB=a(vB?yB:(vB=1,yB=function(e){return null==e}));var jB,NB;const kB=a(function(){if(NB)return jB;NB=1;var e=KF(),t=qF(),n=JF();return jB=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}()),SB=a(tB()),AB=a(eB());var CB,_B,EB,TB,OB,MB,DB={exports:{}},PB={},IB=(_B||(_B=1,DB.exports=function(){if(CB)return PB;CB=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function f(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:switch(e=e.type){case r:case a:case i:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case o:case c:case p:case h:case s:return e;default:return m}}case n:return m}}}return e=Symbol.for("react.module.reference"),PB.ContextConsumer=o,PB.ContextProvider=s,PB.Element=t,PB.ForwardRef=c,PB.Fragment=r,PB.Lazy=p,PB.Memo=h,PB.Portal=n,PB.Profiler=a,PB.StrictMode=i,PB.Suspense=d,PB.SuspenseList=u,PB.isAsyncMode=function(){return!1},PB.isConcurrentMode=function(){return!1},PB.isContextConsumer=function(e){return f(e)===o},PB.isContextProvider=function(e){return f(e)===s},PB.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},PB.isForwardRef=function(e){return f(e)===c},PB.isFragment=function(e){return f(e)===r},PB.isLazy=function(e){return f(e)===p},PB.isMemo=function(e){return f(e)===h},PB.isPortal=function(e){return f(e)===n},PB.isProfiler=function(e){return f(e)===a},PB.isStrictMode=function(e){return f(e)===i},PB.isSuspense=function(e){return f(e)===d},PB.isSuspenseList=function(e){return f(e)===u},PB.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===a||t===i||t===d||t===u||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===h||t.$$typeof===s||t.$$typeof===o||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},PB.typeOf=f,PB}()),DB.exports);function LB(){if(TB)return EB;TB=1;var e=KF(),t=JF();return EB=function(n){return"number"==typeof n||t(n)&&"[object Number]"==e(n)}}const RB=a(function(){if(MB)return OB;MB=1;var e=LB();return OB=function(t){return e(t)&&t!=+t}}()),FB=a(LB());var BB=function(e){return 0===e?0:e>0?1:-1},HB=function(e){return kB(e)&&e.indexOf("%")===e.length-1},zB=function(e){return FB(e)&&!RB(e)},WB=function(e){return zB(e)||kB(e)},UB=0,VB=function(e){var t=++UB;return"".concat(e||"").concat(t)},$B=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!zB(e)&&!kB(e))return r;if(HB(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return RB(n)&&(n=r),i&&n>t&&(n=t),n},qB=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},GB=function(e,t){return zB(e)&&zB(t)?function(n){return e+n*(t-e)}:function(){return t}};function YB(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):bB(e,t))===n}):null}var QB=function(e,t){return zB(e)&&zB(t)?e-t:kB(e)&&kB(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function KB(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function JB(e){return(JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var XB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZB=["points","pathLength"],eH={svg:["viewBox","children"],polygon:ZB,polyline:ZB},tH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nH=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!AB(n))return null;var r={};return Object.keys(n).forEach(function(e){tH.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},rH=function(e,t,n){if(!AB(e)||"object"!==JB(e))return null;var r=null;return Object.keys(e).forEach(function(i){var a=e[i];tH.includes(i)&&"function"==typeof a&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))}),r},iH=["children"],aH=["children"];function sH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oH(e){return(oH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lH={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},cH=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},dH=null,uH=null,hH=function e(t){if(t===dH&&Array.isArray(uH))return uH;var n=[];return x.Children.forEach(t,function(t){wB(t)||(IB.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),uH=n,dH=t,n};function pH(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return cH(e)}):[cH(t)],hH(e).forEach(function(e){var t=bB(e,"type.displayName")||bB(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function mH(e,t){var n=pH(e,t);return n&&n[0]}var fH=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!zB(n)||n<=0||!zB(r)||r<=0)},gH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xH=function(e){return e&&"object"===oH(e)&&"clipDot"in e},bH=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(x.isValidElement(e)&&(r=e.props),!AB(r))return null;var i={};return Object.keys(r).forEach(function(e){var a;(function(e,t,n,r){var i,a=null!==(i=null==eH?void 0:eH[r])&&void 0!==i?i:[];return t.startsWith("data-")||!SB(e)&&(r&&a.includes(t)||XB.includes(t))||n&&tH.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(i[e]=r[e])}),i},yH=function e(t,n){if(t===n)return!0;var r=x.Children.count(t);if(r!==x.Children.count(n))return!1;if(0===r)return!0;if(1===r)return vH(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!vH(a,s))return!1}return!0},vH=function(e,t){if(wB(e)&&wB(t))return!0;if(!wB(e)&&!wB(t)){var n=e.props||{},r=n.children,i=sH(n,iH),a=t.props||{},s=a.children,o=sH(a,aH);return r&&s?KB(i,o)&&yH(r,s):!r&&!s&&KB(i,o)}return!1},wH=function(e,t){var n=[],r={};return hH(e).forEach(function(e,i){if(function(e){return e&&e.type&&kB(e.type)&&gH.indexOf(e.type)>=0}(e))n.push(e);else if(e){var a=cH(e.type),s=t[a]||{},o=s.handler,l=s.once;if(o&&(!l||!r[a])){var c=o(e,a,i);n.push(c),r[a]=!0}}}),n},jH=["children","width","height","viewBox","className","style","title","desc"];function NH(){return NH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NH.apply(this,arguments)}function kH(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,l=e.desc,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,jH),d=i||{width:n,height:r,x:0,y:0},u=th("recharts-surface",a);return b.createElement("svg",NH({},bH(c,!0,"svg"),{className:u,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),b.createElement("title",null,o),b.createElement("desc",null,l),t)}var SH=["children","className"];function AH(){return AH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AH.apply(this,arguments)}var CH,_H,EH,TH,OH,MH,DH,PH,IH,LH,RH,FH,BH,HH,zH,WH,UH=b.forwardRef(function(e,t){var n=e.children,r=e.className,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,SH),a=th("recharts-layer",r);return b.createElement("g",AH({className:a},bH(i,!0),{ref:t}),n)}),VH=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function $H(){if(MH)return OH;MH=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return OH=function(t){return e.test(t)}}const qH=a(function(){if(WH)return zH;WH=1;var e=function(){if(HH)return BH;HH=1;var e=function(){if(TH)return EH;TH=1;var e=_H?CH:(_H=1,CH=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a});return EH=function(t,n,r){var i=t.length;return r=void 0===r?i:r,!n&&r>=i?t:e(t,n,r)}}(),t=$H(),n=function(){if(FH)return RH;FH=1;var e=PH?DH:(PH=1,DH=function(e){return e.split("")}),t=$H(),n=function(){if(LH)return IH;LH=1;var e="\\ud800-\\udfff",t="["+e+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+e+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+n+"|"+r+")?",l="[\\ufe0e\\ufe0f]?",c=l+o+"(?:\\u200d(?:"+[i,a,s].join("|")+")"+l+o+")*",d="(?:"+[i+n+"?",n,a,s,t].join("|")+")",u=RegExp(r+"(?="+r+")|"+d+c,"g");return IH=function(e){return e.match(u)||[]}}();return RH=function(r){return t(r)?n(r):e(r)}}(),r=pB();return BH=function(i){return function(a){a=r(a);var s=t(a)?n(a):void 0,o=s?s[0]:a.charAt(0),l=s?e(s,1).join(""):a.slice(1);return o[i]()+l}}}()("toUpperCase");return zH=e}());function GH(e){return function(){return e}}const YH=Math.cos,QH=Math.sin,KH=Math.sqrt,JH=Math.PI,XH=2*JH,ZH=Math.PI,ez=2*ZH,tz=1e-6,nz=ez-tz;function rz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class iz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?rz:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rz;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>tz)if(Math.abs(d*o-l*c)>tz&&i){let h=n-a,p=r-s,m=o*o+l*l,f=h*h+p*p,g=Math.sqrt(m),x=Math.sqrt(u),b=i*Math.tan((ZH-Math.acos((m+u-f)/(2*g*x)))/2),y=b/x,v=b/g;Math.abs(y-1)>tz&&this._append`L${e+y*c},${t+y*d}`,this._append`A${i},${i},0,0,${+(d*h>c*p)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,d=1^a,u=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>tz||Math.abs(this._y1-c)>tz)&&this._append`L${l},${c}`,n&&(u<0&&(u=u%ez+ez),u>nz?this._append`A${n},${n},0,1,${d},${e-s},${t-o}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:u>tz&&this._append`A${n},${n},0,${+(u>=ZH)},${d},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function az(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new iz(t)}function sz(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function oz(e){this._context=e}function lz(e){return new oz(e)}function cz(e){return e[0]}function dz(e){return e[1]}function uz(e,t){var n=GH(!0),r=null,i=lz,a=null,s=az(o);function o(o){var l,c,d,u=(o=sz(o)).length,h=!1;for(null==r&&(a=i(d=s())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(d)return a=null,d+""||null}return e="function"==typeof e?e:void 0===e?cz:GH(e),t="function"==typeof t?t:void 0===t?dz:GH(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:GH(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:GH(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:GH(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function hz(e,t,n){var r=null,i=GH(!0),a=null,s=lz,o=null,l=az(c);function c(c){var d,u,h,p,m,f=(c=sz(c)).length,g=!1,x=new Array(f),b=new Array(f);for(null==a&&(o=s(m=l())),d=0;d<=f;++d){if(!(d<f&&i(p=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],b[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(p,d,c),b[d]=+t(p,d,c),o.point(r?+r(p,d,c):x[d],n?+n(p,d,c):b[d]))}if(m)return o=null,m+""||null}function d(){return uz().defined(i).curve(s).context(a)}return e="function"==typeof e?e:void 0===e?cz:GH(+e),t="function"==typeof t?t:GH(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?dz:GH(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:GH(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:GH(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:GH(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:GH(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:GH(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:GH(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:GH(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class pz{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const mz={draw(e,t){const n=KH(t/JH);e.moveTo(n,0),e.arc(0,0,n,0,XH)}},fz={draw(e,t){const n=KH(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},gz=KH(1/3),xz=2*gz,bz={draw(e,t){const n=KH(t/xz),r=n*gz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yz={draw(e,t){const n=KH(t),r=-n/2;e.rect(r,r,n,n)}},vz=QH(JH/10)/QH(7*JH/10),wz=QH(XH/10)*vz,jz=-YH(XH/10)*vz,Nz={draw(e,t){const n=KH(.8908130915292852*t),r=wz*n,i=jz*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=XH*a/5,s=YH(t),o=QH(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},kz=KH(3),Sz={draw(e,t){const n=-KH(t/(3*kz));e.moveTo(0,2*n),e.lineTo(-kz*n,-n),e.lineTo(kz*n,-n),e.closePath()}},Az=-.5,Cz=KH(3)/2,_z=1/KH(12),Ez=3*(_z/2+1),Tz={draw(e,t){const n=KH(t/Ez),r=n/2,i=n*_z,a=r,s=n*_z+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Az*r-Cz*i,Cz*r+Az*i),e.lineTo(Az*a-Cz*s,Cz*a+Az*s),e.lineTo(Az*o-Cz*l,Cz*o+Az*l),e.lineTo(Az*r+Cz*i,Az*i-Cz*r),e.lineTo(Az*a+Cz*s,Az*s-Cz*a),e.lineTo(Az*o+Cz*l,Az*l-Cz*o),e.closePath()}};function Oz(){}function Mz(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Dz(e){this._context=e}function Pz(e){this._context=e}function Iz(e){this._context=e}function Lz(e){this._context=e}function Rz(e){return e<0?-1:1}function Fz(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Rz(a)+Rz(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Bz(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hz(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function zz(e){this._context=e}function Wz(e){this._context=new Uz(e)}function Uz(e){this._context=e}function Vz(e){this._context=e}function $z(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qz(e,t){this._context=e,this._t=t}function Gz(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Yz(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Qz(e,t){return e[t]}function Kz(e){const t=[];return t.key=e,t}function Jz(e){return(Jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mz(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mz(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Pz.prototype={areaStart:Oz,areaEnd:Oz,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mz(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Mz(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Lz.prototype={areaStart:Oz,areaEnd:Oz,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},zz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hz(this,this._t0,Bz(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hz(this,Bz(this,n=Fz(this,e,t)),n);break;default:Hz(this,this._t0,n=Fz(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Wz.prototype=Object.create(zz.prototype)).point=function(e,t){zz.prototype.point.call(this,t,e)},Uz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=$z(e),i=$z(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Xz=["type","size","sizeType"];function Zz(){return Zz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zz.apply(this,arguments)}function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=Jz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Jz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Jz(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nW={symbolCircle:mz,symbolCross:fz,symbolDiamond:bz,symbolSquare:yz,symbolStar:Nz,symbolTriangle:Sz,symbolWye:Tz},rW=Math.PI/180,iW=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,a=e.size,s=void 0===a?64:a,o=e.sizeType,l=void 0===o?"area":o,c=tW(tW({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Xz)),{},{type:i,size:s,sizeType:l}),d=c.className,u=c.cx,h=c.cy,p=bH(c,!0);return u===+u&&h===+h&&s===+s?b.createElement("path",Zz({},p,{className:th("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat(qH(e));return nW[t]||mz}(i),n=function(e,t){let n=null,r=az(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:GH(e||mz),t="function"==typeof t?t:GH(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:GH(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:GH(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*rW;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,l,i)),n())})):null};function aW(e){return(aW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sW(){return sW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sW.apply(this,arguments)}function oW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lW=function(){return!!e})()}function cW(e){return(cW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dW(e,t){return(dW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function uW(e,t,n){return(t=hW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=function(e){if("object"!=aW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aW(t)?t:t+""}iW.registerSymbol=function(e,t){nW["symbol".concat(qH(e))]=t};var pW,mW,fW,gW,xW,bW,yW,vW,wW,jW,NW,kW,SW,AW,CW,_W,EW,TW,OW,MW,DW,PW,IW,LW,RW,FW,BW,HW,zW,WW,UW,VW,$W,qW,GW,YW,QW,KW,JW,XW,ZW,eU,tU,nU,rU,iU,aU,sU,oU=32,lU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=cW(t),function(e,t){if(t&&("object"===aW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lW()?Reflect.construct(t,n||[],cW(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dW(e,t)}(e,x.PureComponent),t=e,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=oU/6,i=oU/3,a=e.inactive?t:e.color;if("plainline"===e.type)return b.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:oU,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return b.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(oU,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return b.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(oU,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oW(Object(n),!0).forEach(function(t){uW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,b.cloneElement(e.legendIcon,s)}return b.createElement(iW,{fill:a,cx:n,cy:n,size:oU,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,a=t.formatter,s=t.inactiveColor,o={x:0,y:0,width:oU,height:oU},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var i=t.formatter||a,d=th(uW(uW({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var u=SB(t.value)?null:t.value;VH(!SB(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return b.createElement("li",sW({className:d,style:l,key:"legend-item-".concat(n)},rH(e.props,t,n)),b.createElement(kH,{width:r,height:r,viewBox:o,style:c},e.renderIcon(t)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},i?i(u,t,n):u))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hW(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function cU(){if(kW)return NW;kW=1;var e=oB(),t=function(){if(mW)return pW;mW=1;var e=oB();return pW=function(){this.__data__=new e,this.size=0}}(),n=gW?fW:(gW=1,fW=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=bW?xW:(bW=1,xW=function(e){return this.__data__.get(e)}),i=vW?yW:(vW=1,yW=function(e){return this.__data__.has(e)}),a=function(){if(jW)return wW;jW=1;var e=oB(),t=lB(),n=dB();return wW=function(r,i){var a=this.__data__;if(a instanceof e){var s=a.__data__;if(!t||s.length<199)return s.push([r,i]),this.size=++a.size,this;a=this.__data__=new n(s)}return a.set(r,i),this.size=a.size,this}}();function s(t){var n=this.__data__=new e(t);this.size=n.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,NW=s}function dU(){if(TW)return EW;TW=1;var e=dB(),t=AW?SW:(AW=1,SW=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=_W?CW:(_W=1,CW=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,EW=r}function uU(){return MW?OW:(MW=1,OW=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1})}function hU(){return PW?DW:(PW=1,DW=function(e,t){return e.has(t)})}function pU(){if(LW)return IW;LW=1;var e=dU(),t=uU(),n=hU();return IW=function(r,i,a,s,o,l){var c=1&a,d=r.length,u=i.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(r),p=l.get(i);if(h&&p)return h==i&&p==r;var m=-1,f=!0,g=2&a?new e:void 0;for(l.set(r,i),l.set(i,r);++m<d;){var x=r[m],b=i[m];if(s)var y=c?s(b,x,m,i,r,l):s(x,b,m,r,i,l);if(void 0!==y){if(y)continue;f=!1;break}if(g){if(!t(i,function(e,t){if(!n(g,t)&&(x===e||o(x,e,a,s,l)))return g.push(t)})){f=!1;break}}else if(x!==b&&!o(x,b,a,s,l)){f=!1;break}}return l.delete(r),l.delete(i),f}}function mU(){return WW?zW:(WW=1,zW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n})}function fU(){return qW?$W:(qW=1,$W=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e})}function gU(){if(sU)return aU;sU=1;var e=function(){if(iU)return rU;iU=1;var e=KF(),t=JF();return rU=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=JF(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee")};return aU=a}uW(lU,"displayName","Legend"),uW(lU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xU,bU,yU,vU,wU,jU,NU,kU,SU,AU,CU,_U={exports:{}};function EU(){return yU||(yU=1,e=_U,t=_U.exports,n=YF(),r=bU?xU:(bU=1,xU=function(){return!1}),o=((s=(a=(i=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e)&&a.exports===i?n.Buffer:void 0)?s.isBuffer:void 0)||r,e.exports=o),_U.exports;var e,t,n,r,i,a,s,o}function TU(){if(wU)return vU;wU=1;var e=/^(?:0|[1-9]\d*)$/;return vU=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}function OU(){return NU?jU:(NU=1,jU=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991})}function MU(){return CU?AU:(CU=1,AU=function(e){return function(t){return e(t)}})}var DU,PU,IU,LU,RU,FU,BU,HU,zU,WU,UU,VU,$U,qU,GU,YU,QU,KU,JU,XU,ZU,eV,tV,nV,rV,iV,aV,sV,oV,lV,cV,dV,uV,hV,pV,mV,fV,gV,xV,bV,yV,vV,wV,jV,NV,kV,SV,AV,CV,_V,EV,TV,OV,MV,DV,PV,IV,LV,RV,FV,BV,HV,zV,WV,UV,VV,$V,qV,GV,YV,QV,KV,JV,XV,ZV,e$,t$,n$,r$,i$,a$,s$,o$,l$={exports:{}};function c$(){if(IU)return PU;IU=1;var e=function(){if(SU)return kU;SU=1;var e=KF(),t=OU(),n=JF(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,kU=function(i){return n(i)&&t(i.length)&&!!r[e(i)]}}(),t=MU(),n=function(){return DU||(DU=1,e=l$,t=l$.exports,n=GF(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(Dw){}}(),e.exports=s),l$.exports;var e,t,n,r,i,a,s}(),r=n&&n.isTypedArray,i=r?t(r):e;return PU=i}function d$(){return zU?HU:(zU=1,HU=function(e,t){return function(n){return e(t(n))}})}function u$(){if(GU)return qU;GU=1;var e=tB(),t=OU();return qU=function(n){return null!=n&&t(n.length)&&!e(n)}}function h$(){if(QU)return YU;QU=1;var e=function(){if(RU)return LU;RU=1;var e=nU?tU:(nU=1,tU=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),t=gU(),n=qF(),r=EU(),i=TU(),a=c$(),s=Object.prototype.hasOwnProperty;return LU=function(o,l){var c=n(o),d=!c&&t(o),u=!c&&!d&&r(o),h=!c&&!d&&!u&&a(o),p=c||d||u||h,m=p?e(o.length,String):[],f=m.length;for(var g in o)!l&&!s.call(o,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,f))||m.push(g);return m}}(),t=function(){if($U)return VU;$U=1;var e=function(){if(BU)return FU;BU=1;var e=Object.prototype;return FU=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}(),t=function(){if(UU)return WU;UU=1;var e=d$()(Object.keys,Object);return WU=e}(),n=Object.prototype.hasOwnProperty;return VU=function(r){if(!e(r))return t(r);var i=[];for(var a in Object(r))n.call(r,a)&&"constructor"!=a&&i.push(a);return i}}(),n=u$();return YU=function(r){return n(r)?e(r):t(r)}}function p$(){if(JU)return KU;JU=1;var e=function(){if(YW)return GW;YW=1;var e=fU(),t=qF();return GW=function(n,r,i){var a=r(n);return t(n)?a:e(a,i(n))}}(),t=function(){if(eU)return ZW;eU=1;var e=KW?QW:(KW=1,QW=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}),t=XW?JW:(XW=1,JW=function(){return[]}),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return ZW=r?function(t){return null==t?[]:(t=Object(t),e(r(t),function(e){return n.call(t,e)}))}:t}(),n=h$();return KU=function(r){return e(r,n,t)}}function m$(){if(aV)return iV;aV=1;var e=rB()(YF(),"Set");return iV=e}function f$(){if(uV)return dV;uV=1;var e=cU(),t=pU(),n=function(){if(VW)return UW;VW=1;var e=QF(),t=function(){if(FW)return RW;FW=1;var e=YF().Uint8Array;return RW=e}(),n=aB(),r=pU(),i=HW?BW:(HW=1,BW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}),a=mU(),s=e?e.prototype:void 0,o=s?s.valueOf:void 0;return UW=function(e,s,l,c,d,u,h){switch(l){case"[object DataView]":if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=s.byteLength||!u(new t(e),new t(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+s);case"[object Error]":return e.name==s.name&&e.message==s.message;case"[object RegExp]":case"[object String]":return e==s+"";case"[object Map]":var p=i;case"[object Set]":var m=1&c;if(p||(p=a),e.size!=s.size&&!m)return!1;var f=h.get(e);if(f)return f==s;c|=2,h.set(e,s);var g=r(p(e),p(s),c,d,u,h);return h.delete(e),g;case"[object Symbol]":if(o)return o.call(e)==o.call(s)}return!1}}(),r=function(){if(ZU)return XU;ZU=1;var e=p$(),t=Object.prototype.hasOwnProperty;return XU=function(n,r,i,a,s,o){var l=1&i,c=e(n),d=c.length;if(d!=e(r).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in r:t.call(r,h)))return!1}var p=o.get(n),m=o.get(r);if(p&&m)return p==r&&m==n;var f=!0;o.set(n,r),o.set(r,n);for(var g=l;++u<d;){var x=n[h=c[u]],b=r[h];if(a)var y=l?a(b,x,h,r,n,o):a(x,b,h,n,r,o);if(!(void 0===y?x===b||s(x,b,i,a,o):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var v=n.constructor,w=r.constructor;v==w||!("constructor"in n)||!("constructor"in r)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(n),o.delete(r),f}}(),i=function(){if(cV)return lV;cV=1;var e=function(){if(tV)return eV;tV=1;var e=rB()(YF(),"DataView");return eV=e}(),t=lB(),n=function(){if(rV)return nV;rV=1;var e=rB()(YF(),"Promise");return nV=e}(),r=m$(),i=function(){if(oV)return sV;oV=1;var e=rB()(YF(),"WeakMap");return sV=e}(),a=KF(),s=nB(),o="[object Map]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",u="[object DataView]",h=s(e),p=s(t),m=s(n),f=s(r),g=s(i),x=a;return(e&&x(new e(new ArrayBuffer(1)))!=u||t&&x(new t)!=o||n&&x(n.resolve())!=l||r&&x(new r)!=c||i&&x(new i)!=d)&&(x=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case h:return u;case p:return o;case m:return l;case f:return c;case g:return d}return t}),lV=x}(),a=qF(),s=EU(),o=c$(),l="[object Arguments]",c="[object Array]",d="[object Object]",u=Object.prototype.hasOwnProperty;return dV=function(h,p,m,f,g,x){var b=a(h),y=a(p),v=b?c:i(h),w=y?c:i(p),j=(v=v==l?d:v)==d,N=(w=w==l?d:w)==d,k=v==w;if(k&&s(h)){if(!s(p))return!1;b=!0,j=!1}if(k&&!j)return x||(x=new e),b||o(h)?t(h,p,m,f,g,x):n(h,p,v,m,f,g,x);if(!(1&m)){var S=j&&u.call(h,"__wrapped__"),A=N&&u.call(p,"__wrapped__");if(S||A){var C=S?h.value():h,_=A?p.value():p;return x||(x=new e),g(C,_,m,f,x)}}return!!k&&(x||(x=new e),r(h,p,m,f,g,x))}}function g$(){if(pV)return hV;pV=1;var e=f$(),t=JF();return hV=function n(r,i,a,s,o){return r===i||(null==r||null==i||!t(r)&&!t(i)?r!=r&&i!=i:e(r,i,a,s,n,o))}}function x$(){if(xV)return gV;xV=1;var e=eB();return gV=function(t){return t==t&&!e(t)}}function b$(){return wV?vV:(wV=1,vV=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}})}function y$(){return DV?MV:(DV=1,MV=function(e){return e})}function v$(){if(zV)return HV;zV=1;var e=function(){if(NV)return jV;NV=1;var e=function(){if(fV)return mV;fV=1;var e=cU(),t=g$();return mV=function(n,r,i,a){var s=i.length,o=s,l=!a;if(null==n)return!o;for(n=Object(n);s--;){var c=i[s];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var d=(c=i[s])[0],u=n[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in n))return!1}else{var p=new e;if(a)var m=a(u,h,d,n,r,p);if(!(void 0===m?t(h,u,3,a,p):m))return!1}}return!0}}(),t=function(){if(yV)return bV;yV=1;var e=x$(),t=h$();return bV=function(n){for(var r=t(n),i=r.length;i--;){var a=r[i],s=n[a];r[i]=[a,s,e(s)]}return r}}(),n=b$();return jV=function(r){var i=t(r);return 1==i.length&&i[0][2]?n(i[0][0],i[0][1]):function(t){return t===r||e(t,r,i)}}}(),t=function(){if(OV)return TV;OV=1;var e=g$(),t=xB(),n=function(){if(EV)return _V;EV=1;var e=SV?kV:(SV=1,kV=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(CV)return AV;CV=1;var e=mB(),t=gU(),n=qF(),r=TU(),i=OU(),a=fB();return AV=function(s,o,l){for(var c=-1,d=(o=e(o,s)).length,u=!1;++c<d;){var h=a(o[c]);if(!(u=null!=s&&l(s,h)))break;s=s[h]}return u||++c!=d?u:!!(d=null==s?0:s.length)&&i(d)&&r(h,d)&&(n(s)||t(s))}}();return _V=function(n,r){return null!=n&&t(n,r,e)}}(),r=ZF(),i=x$(),a=b$(),s=fB();return TV=function(o,l){return r(o)&&i(l)?a(s(o),l):function(r){var i=t(r,o);return void 0===i&&i===l?n(r,o):e(l,i,3)}}}(),n=y$(),r=qF(),i=function(){if(BV)return FV;BV=1;var e=IV?PV:(IV=1,PV=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(RV)return LV;RV=1;var e=gB();return LV=function(t){return function(n){return e(n,t)}}}(),n=ZF(),r=fB();return FV=function(i){return n(i)?e(r(i)):t(i)}}();return HV=function(a){return"function"==typeof a?a:null==a?n:"object"==typeof a?r(a)?t(a[0],a[1]):e(a):i(a)}}function w$(){return UV?WV:(UV=1,WV=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1})}function j$(){if(a$)return i$;a$=1;var e=dU(),t=function(){if(JV)return KV;JV=1;var e=function(){if(QV)return YV;QV=1;var e=w$(),t=$V?VV:($V=1,VV=function(e){return e!=e}),n=GV?qV:(GV=1,qV=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1});return YV=function(r,i,a){return i==i?n(r,i,a):e(r,t,a)}}();return KV=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1}}(),n=ZV?XV:(ZV=1,XV=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}),r=hU(),i=function(){if(r$)return n$;r$=1;var e=m$(),t=t$?e$:(t$=1,e$=function(){}),n=mU(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return n$=r}(),a=mU();return i$=function(s,o,l){var c=-1,d=t,u=s.length,h=!0,p=[],m=p;if(l)h=!1,d=n;else if(u>=200){var f=o?null:i(s);if(f)return a(f);h=!1,d=r,m=new e}else m=o?[]:p;e:for(;++c<u;){var g=s[c],x=o?o(g):g;if(g=l||0!==g?g:0,h&&x==x){for(var b=m.length;b--;)if(m[b]===x)continue e;o&&m.push(x),p.push(g)}else d(m,x,l)||(m!==p&&m.push(x),p.push(g))}return p}}const N$=a(function(){if(o$)return s$;o$=1;var e=v$(),t=j$();return s$=function(n,r){return n&&n.length?t(n,e(r,2)):[]}}());function k$(e,t,n){return!0===t?N$(e,n):SB(t)?N$(e,t):e}function S$(e){return(S$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A$=["ref"];function C$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C$(Object(n),!0).forEach(function(t){D$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P$(r.key),r)}}function T$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(T$=function(){return!!e})()}function O$(e){return(O$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M$(e,t){return(M$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D$(e,t,n){return(t=P$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P$(e){var t=function(e){if("object"!=S$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S$(t)?t:t+""}function I$(e){return e.value}var L$,R$,F$,B$,H$,z$,W$,U$,V$,$$,q$,G$,Y$,Q$,K$,J$,X$,Z$,eq,tq,nq,rq,iq,aq,sq,oq,lq,cq,dq,uq,hq,pq,mq,fq,gq,xq,bq,yq,vq,wq,jq,Nq,kq,Sq,Aq=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return D$(t=function(e,t,n){return t=O$(t),function(e,t){if(t&&("object"===S$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,T$()?Reflect.construct(t,n||[],O$(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M$(e,t)}(e,x.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=_$(_$({},this.defaultProps),e.props).layout;return"vertical"===n&&zB(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_$({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,a=r.align,s=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),_$(_$({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,o=t.payload,l=_$(_$({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(a)),a);return b.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(b.isValidElement(e))return b.cloneElement(e,t);if("function"==typeof e)return b.createElement(e,t);t.ref;var n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,A$);return b.createElement(lU,n)}(n,_$(_$({},this.props),{},{payload:k$(o,s,I$)})))}}])&&E$(t.prototype,n),r&&E$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Cq(){if(B$)return F$;B$=1;var e=fU(),t=function(){if(R$)return L$;R$=1;var e=QF(),t=gU(),n=qF(),r=e?e.isConcatSpreadable:void 0;return L$=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return F$=function n(r,i,a,s,o){var l=-1,c=r.length;for(a||(a=t),o||(o=[]);++l<c;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,s,o):e(o,d):s||(o[o.length]=d)}return o}}function _q(){if($$)return V$;$$=1;var e=function(){if(U$)return W$;U$=1;var e=(z$?H$:(z$=1,H$=function(e){return function(t,n,r){for(var i=-1,a=Object(t),s=r(t),o=s.length;o--;){var l=s[e?o:++i];if(!1===n(a[l],l,a))break}return t}}))();return W$=e}(),t=h$();return V$=function(n,r){return n&&e(n,r,t)}}function Eq(){if(Q$)return Y$;Q$=1;var e=_q(),t=function(){if(G$)return q$;G$=1;var e=u$();return q$=function(t,n){return function(r,i){if(null==r)return r;if(!e(r))return t(r,i);for(var a=r.length,s=n?a:-1,o=Object(r);(n?s--:++s<a)&&!1!==i(o[s],s,o););return r}}}()(e);return Y$=t}function Tq(){if(J$)return K$;J$=1;var e=Eq(),t=u$();return K$=function(n,r){var i=-1,a=t(n)?Array(n.length):[];return e(n,function(e,t,n){a[++i]=r(e,t,n)}),a}}function Oq(){if(aq)return iq;aq=1;var e=hB(),t=gB(),n=v$(),r=Tq(),i=Z$?X$:(Z$=1,X$=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),a=MU(),s=function(){if(rq)return nq;rq=1;var e=function(){if(tq)return eq;tq=1;var e=XF();return eq=function(t,n){if(t!==n){var r=void 0!==t,i=null===t,a=t==t,s=e(t),o=void 0!==n,l=null===n,c=n==n,d=e(n);if(!l&&!d&&!s&&t>n||s&&o&&c&&!l&&!d||i&&o&&c||!r&&c||!a)return 1;if(!i&&!s&&!d&&t<n||d&&r&&a&&!i&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}}();return nq=function(t,n,r){for(var i=-1,a=t.criteria,s=n.criteria,o=a.length,l=r.length;++i<o;){var c=e(a[i],s[i]);if(c)return i>=l?c:c*("desc"==r[i]?-1:1)}return t.index-n.index}}(),o=y$(),l=qF();return iq=function(c,d,u){d=d.length?e(d,function(e){return l(e)?function(n){return t(n,1===e.length?e[0]:e)}:e}):[o];var h=-1;d=e(d,a(n));var p=r(c,function(t,n,r){return{criteria:e(d,function(e){return e(t)}),index:++h,value:t}});return i(p,function(e,t){return s(e,t,u)})}}function Mq(){if(pq)return hq;pq=1;var e=rB(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(Dw){}}();return hq=t}function Dq(){if(yq)return bq;yq=1;var e=function(){if(fq)return mq;fq=1;var e=uq?dq:(uq=1,dq=function(e){return function(){return e}}),t=Mq(),n=y$();return mq=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}(),t=function(){if(xq)return gq;xq=1;var e=Date.now;return gq=function(t){var n=0,r=0;return function(){var i=e(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},gq}(),n=t(e);return bq=n}function Pq(){if(Nq)return jq;Nq=1;var e=aB(),t=u$(),n=TU(),r=eB();return jq=function(i,a,s){if(!r(s))return!1;var o=typeof a;return!!("number"==o?t(s)&&n(a,s.length):"string"==o&&a in s)&&e(s[a],i)}}D$(Aq,"displayName","Legend"),D$(Aq,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const Iq=a(function(){if(Sq)return kq;Sq=1;var e=Cq(),t=Oq(),n=function(){if(wq)return vq;wq=1;var e=y$(),t=function(){if(cq)return lq;cq=1;var e=(oq||(oq=1,sq=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),sq),t=Math.max;return lq=function(n,r,i){return r=t(void 0===r?n.length-1:r,0),function(){for(var a=arguments,s=-1,o=t(a.length-r,0),l=Array(o);++s<o;)l[s]=a[r+s];s=-1;for(var c=Array(r+1);++s<r;)c[s]=a[s];return c[r]=i(l),e(n,this,c)}},lq}(),n=Dq();return vq=function(r,i){return n(t(r,i,e),r+"")}}(),r=Pq(),i=n(function(n,i){if(null==n)return[];var a=i.length;return a>1&&r(n,i[0],i[1])?i=[]:a>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(n,e(i,1),[])});return kq=i}());function Lq(e){return(Lq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rq(){return Rq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rq.apply(this,arguments)}function Fq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bq(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=Lq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Lq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Lq(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zq(e){return Array.isArray(e)&&WB(e[0])&&WB(e[1])?e.join(" ~ "):e}var Wq=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,d=e.formatter,u=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,m=e.label,f=e.labelFormatter,g=e.accessibilityLayer,x=void 0!==g&&g,y=Hq({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),v=Hq({margin:0},l),w=!wB(m),j=w?m:"",N=th("recharts-default-tooltip",h),k=th("recharts-tooltip-label",p);w&&f&&null!=c&&(j=f(m,c));var S=x?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Rq({className:N,style:y},S),b.createElement("p",{className:k,style:v},b.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(u?Iq(c,u):c).map(function(e,t){if("none"===e.type)return null;var r=Hq({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||zq,a=e.value,o=e.name,l=a,u=o;if(i&&null!=l&&null!=u){var h=i(a,o,e,t,c);if(Array.isArray(h)){var p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fq(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h,2);l=p[0],u=p[1]}else l=h}return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},WB(u)?b.createElement("span",{className:"recharts-tooltip-item-name"},u):null,WB(u)?b.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,b.createElement("span",{className:"recharts-tooltip-item-value"},l),b.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Uq(e){return(Uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Uq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Uq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Uq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $q="recharts-tooltip-wrapper",qq={visibility:"hidden"};function Gq(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return th($q,Vq(Vq(Vq(Vq({},"".concat($q,"-right"),zB(n)&&t&&zB(t.x)&&n>=t.x),"".concat($q,"-left"),zB(n)&&t&&zB(t.x)&&n<t.x),"".concat($q,"-bottom"),zB(r)&&t&&zB(t.y)&&r>=t.y),"".concat($q,"-top"),zB(r)&&t&&zB(t.y)&&r<t.y))}function Yq(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&zB(a[r]))return a[r];var d=n[r]-o-i,u=n[r]+i;return t[r]?s[r]?d:u:s[r]?d<l[r]?Math.max(u,l[r]):Math.max(d,l[r]):u+o>l[r]+c?Math.max(d,l[r]):Math.max(u,l[r])}function Qq(e){return(Qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kq(Object(n),!0).forEach(function(t){tG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xq=function(){return!!e})()}function Zq(e){return(Zq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eG(e,t){return(eG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tG(e,t,n){return(t=nG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nG(e){var t=function(e){if("object"!=Qq(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qq(t)?t:t+""}var rG=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tG(t=function(e,t,n){return t=Zq(t),function(e,t){if(t&&("object"===Qq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xq()?Reflect.construct(t,n||[],Zq(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tG(t,"handleKeyDown",function(e){var n,r,i,a;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(a=t.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==i?i:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eG(e,t)}(e,x.PureComponent),t=e,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,d=t.offset,u=t.position,h=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,f=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Yq({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=Yq({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):qq,cssClasses:Gq({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),x=g.cssClasses,y=g.cssProperties,v=Jq(Jq({transition:c&&n?"transform ".concat(i,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},f);return b.createElement("div",{tabIndex:-1,className:x,style:v,ref:function(t){e.wrapperNode=t}},s)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nG(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}(),iG=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function aG(e){return(aG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sG(Object(n),!0).forEach(function(t){uG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lG=function(){return!!e})()}function cG(e){return(cG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dG(e,t){return(dG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function uG(e,t,n){return(t=hG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hG(e){var t=function(e){if("object"!=aG(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aG(t)?t:t+""}function pG(e){return e.dataKey}var mG,fG,gG,xG,bG,yG,vG,wG,jG,NG,kG,SG,AG=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=cG(t),function(e,t){if(t&&("object"===aG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lG()?Reflect.construct(t,n||[],cG(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dG(e,t)}(e,x.PureComponent),t=e,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,d=t.offset,u=t.payload,h=t.payloadUniqBy,p=t.position,m=t.reverseDirection,f=t.useTranslate3d,g=t.viewBox,x=t.wrapperStyle,y=null!=u?u:[];l&&y.length&&(y=k$(u.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),h,pG));var v=y.length>0;return b.createElement(rG,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:n,coordinate:o,hasPayload:v,offset:d,position:p,reverseDirection:m,useTranslate3d:f,viewBox:g,wrapperStyle:x},function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):"function"==typeof e?b.createElement(e,t):b.createElement(Wq,t)}(s,oG(oG({},this.props),{},{payload:y})))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hG(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function CG(){if(wG)return vG;wG=1;var e=function(){if(yG)return bG;yG=1;var e=function(){if(xG)return gG;xG=1;var e=/\s/;return gG=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}}(),t=/^\s+/;return bG=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}(),t=eB(),n=XF(),r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;return vG=function(o){if("number"==typeof o)return o;if(n(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=i.test(o);return c||a.test(o)?s(o.slice(2),c?2:8):r.test(o)?NaN:+o}}uG(AG,"displayName","Tooltip"),uG(AG,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!iG,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});const _G=a(function(){if(SG)return kG;SG=1;var e=function(){if(NG)return jG;NG=1;var e=eB(),t=function(){if(fG)return mG;fG=1;var e=YF();return mG=function(){return e.Date.now()}}(),n=CG(),r=Math.max,i=Math.min;return jG=function(a,s,o){var l,c,d,u,h,p,m=0,f=!1,g=!1,x=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function b(e){var t=l,n=c;return l=c=void 0,m=e,u=a.apply(n,t)}function y(e){var t=e-p;return void 0===p||t>=s||t<0||g&&e-m>=d}function v(){var e=t();if(y(e))return w(e);h=setTimeout(v,function(e){var t=s-(e-p);return g?i(t,d-(e-m)):t}(e))}function w(e){return h=void 0,x&&l?b(e):(l=c=void 0,u)}function j(){var e=t(),n=y(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return m=e,h=setTimeout(v,s),f?b(e):u}(p);if(g)return clearTimeout(h),h=setTimeout(v,s),b(p)}return void 0===h&&(h=setTimeout(v,s)),u}return s=n(s)||0,e(o)&&(f=!!o.leading,d=(g="maxWait"in o)?r(n(o.maxWait)||0,s):d,x="trailing"in o?!!o.trailing:x),j.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=p=c=h=void 0},j.flush=function(){return void 0===h?u:w(t())},j},jG}(),t=eB();return kG=function(n,r,i){var a=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return t(i)&&(a="leading"in i?!!i.leading:a,s="trailing"in i?!!i.trailing:s),e(n,r,{leading:a,maxWait:r,trailing:s})}}());function EG(e){return(EG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TG(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=EG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=EG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==EG(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DG=x.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,d=void 0===c?0:c,u=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,f=void 0===m?0:m,g=e.id,y=e.className,v=e.onResize,w=e.style,j=void 0===w?{}:w,N=x.useRef(null),k=x.useRef();k.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return N.current},configurable:!0})});var S,A,C=(S=x.useState({containerWidth:i.width,containerHeight:i.height}),A=2,function(e){if(Array.isArray(e))return e}(S)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(S,A)||function(e,t){if(e){if("string"==typeof e)return MG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MG(e,t):void 0}}(S,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=C[0],E=C[1],T=x.useCallback(function(e,t){E(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);x.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;T(r,i),null===(t=k.current)||void 0===t||t.call(k,r,i)};f>0&&(e=_G(e,f,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=N.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),t.observe(N.current),function(){t.disconnect()}},[T,f]);var O=x.useMemo(function(){var e=_.containerWidth,t=_.containerHeight;if(e<0||t<0)return null;VH(HB(s)||HB(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),VH(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=HB(s)?e:s,i=HB(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),h&&i>h&&(i=h)),VH(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,s,l,d,u,n);var a=!Array.isArray(p)&&cH(p.type).endsWith("Chart");return b.Children.map(p,function(e){return b.isValidElement(e)?x.cloneElement(e,OG({width:r,height:i},a?{style:OG({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e})},[n,p,l,h,u,d,_,s]);return b.createElement("div",{id:g?"".concat(g):void 0,className:th("recharts-responsive-container",y),style:OG(OG({},j),{},{width:s,height:l,minWidth:d,minHeight:u,maxHeight:h}),ref:N},O)}),PG=function(e){return null};function IG(e){return(IG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LG(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=IG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=IG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==IG(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}PG.displayName="Cell";var FG={widthCache:{},cacheCount:0},BG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HG="recharts_measurement_span",zG=function(e){if(null==e||iG)return{width:0,height:0};var t,n=(t=RG({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(FG.widthCache[r])return FG.widthCache[r];try{var i=document.getElementById(HG);i||((i=document.createElement("span")).setAttribute("id",HG),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=RG(RG({},BG),n);Object.assign(i.style,a),i.textContent="".concat(e);var s=i.getBoundingClientRect(),o={width:s.width,height:s.height};return FG.widthCache[r]=o,++FG.cacheCount>2e3&&(FG.cacheCount=0,FG.widthCache={}),o}catch(Dw){return{width:0,height:0}}};function WG(e){return(WG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return VG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VG(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qG(r.key),r)}}function qG(e){var t=function(e){if("object"!=WG(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=WG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==WG(t)?t:t+""}var GG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},XG=Object.keys(JG),ZG="NaN",eY=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||QG.test(n)||(this.num=NaN,this.unit=""),XG.includes(n)&&(this.num=function(e,t){return e*JG[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=UG(null!==(n=KG.exec(t))&&void 0!==n?n:[],3),i=r[1],a=r[2];return new e(parseFloat(i),null!=a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&$G(t.prototype,n),r&&$G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function tY(e){if(e.includes(ZG))return ZG;for(var t=e;t.includes("*")||t.includes("/");){var n,r=UG(null!==(n=GG.exec(t))&&void 0!==n?n:[],4),i=r[1],a=r[2],s=r[3],o=eY.parse(null!=i?i:""),l=eY.parse(null!=s?s:""),c="*"===a?o.multiply(l):o.divide(l);if(c.isNaN())return ZG;t=t.replace(GG,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=UG(null!==(d=YG.exec(t))&&void 0!==d?d:[],4),h=u[1],p=u[2],m=u[3],f=eY.parse(null!=h?h:""),g=eY.parse(null!=m?m:""),x="+"===p?f.add(g):f.subtract(g);if(x.isNaN())return ZG;t=t.replace(YG,x.toString())}return t}var nY=/\(([^()]*)\)/;function rY(e){var t=function(e){try{return function(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=UG(nY.exec(t),2)[1];t=t.replace(nY,tY(n))}return t}(t),tY(t)}(e)}catch(Dw){return ZG}}(e.slice(5,-1));return t===ZG?"":t}var iY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aY=["dx","dy","angle","className","breakAll"];function sY(){return sY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sY.apply(this,arguments)}function oY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cY(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dY=/[ \f\n\r\t\v\u2028\u2029]+/,uY=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return wB(t)||(i=n?t.toString().split(""):t.toString().split(dY)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:zG(e,r).width}}),spaceWidth:n?0:zG("",r).width}}catch(Dw){return null}},hY=function(e){return[{words:wB(e)?[]:e.toString().split(dY)}]},pY="#808080",mY=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,d=void 0!==c&&c,u=e.textAnchor,h=void 0===u?"start":u,p=e.verticalAnchor,m=void 0===p?"end":p,f=e.fill,g=void 0===f?pY:f,y=oY(e,iY),v=x.useMemo(function(){return function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,a=e.breakAll,s=e.maxLines;if((t||n)&&!iG){var o=uY({breakAll:a,children:r,style:i});return o?function(e,t,n,r,i){var a=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=zB(a),d=s,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.word,s=t.width,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=u(t);if(!c)return h;for(var p,m=function(e){var t=d.slice(0,e),n=uY({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,i=u(n),s=i.length>a||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[s,i]},f=0,g=d.length-1,x=0;f<=g&&x<=d.length-1;){var b=Math.floor((f+g)/2),y=lY(m(b-1),2),v=y[0],w=y[1],j=lY(m(b),1)[0];if(v||j||(f=b+1),v&&j&&(g=b-1),!v&&j){p=w;break}x++}return p||h}({breakAll:a,children:r,maxLines:s,style:i},o.wordsWithComputedWidth,o.spaceWidth,t,n):hY(r)}return hY(r)}({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),w=y.dx,j=y.dy,N=y.angle,k=y.className,S=y.breakAll,A=oY(y,aY);if(!WB(n)||!WB(i))return null;var C,_=n+(zB(w)?w:0),E=i+(zB(j)?j:0);switch(m){case"start":C=rY("calc(".concat(l,")"));break;case"middle":C=rY("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:C=rY("calc(".concat(v.length-1," * -").concat(s,")"))}var T=[];if(d){var O=v[0].width,M=y.width;T.push("scale(".concat((zB(M)?M/O:1)/O,")"))}return N&&T.push("rotate(".concat(N,", ").concat(_,", ").concat(E,")")),T.length&&(A.transform=T.join(" ")),b.createElement("text",sY({},bH(A,!0),{x:_,y:E,className:th("recharts-text",k),textAnchor:h,fill:g.includes("url")?pY:g}),v.map(function(e,t){var n=e.words.join(S?"":" ");return b.createElement("tspan",{x:_,dy:0===t?C:s,key:"".concat(n,"-").concat(t)},n)}))};function fY(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gY(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xY(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=fY,n=(t,n)=>fY(e(t),n),r=(t,n)=>e(t)-n):(t=e===fY||e===gY?e:bY,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const s=i(e,t,n,a-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function bY(){return 0}function yY(e){return null===e?NaN:+e}const vY=xY(fY).right;xY(yY).center;class wY extends Map{constructor(e,t=NY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(jY(this,e))}has(e){return super.has(jY(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function jY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function NY(e){return null!==e&&"object"==typeof e?e.valueOf():e}function kY(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const SY=Math.sqrt(50),AY=Math.sqrt(10),CY=Math.sqrt(2);function _Y(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=SY?10:a>=AY?5:a>=CY?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?_Y(e,t,2*n):[o,l,c]}function EY(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?_Y(t,e,n):_Y(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function TY(e,t,n){return _Y(e=+e,t=+t,n=+n)[2]}function OY(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?TY(t,e,n):TY(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function MY(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function DY(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function PY(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?kY:function(e=fY){if(e===fY)return kY;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);PY(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(IY(e,n,t),i(e[r],a)>0&&IY(e,n,r);s<o;){for(IY(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?IY(e,n,o):(++o,IY(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function IY(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function LY(e,t,n=yY){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function RY(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function FY(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const BY=Symbol("implicit");function HY(){var e=new wY,t=[],n=[],r=BY;function i(i){let a=e.get(i);if(void 0===a){if(r!==BY)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new wY;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return HY(t,n).unknown(r)},RY.apply(i,arguments),i}function zY(){var e,t,n=HY().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var n=r().length,u=s<a,h=u?s:a,p=u?a:s;e=(p-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(u?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,u()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,u()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return zY(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},RY.apply(u(),arguments)}function WY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WY(t())},e}function UY(){return WY(zY.apply(null,arguments).paddingInner(1))}function VY(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $Y(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qY(){}var GY=.7,YY=1/GY,QY="\\s*([+-]?\\d+)\\s*",KY="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",JY="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XY=/^#([0-9a-f]{3,8})$/,ZY=new RegExp(`^rgb\\(${QY},${QY},${QY}\\)$`),eQ=new RegExp(`^rgb\\(${JY},${JY},${JY}\\)$`),tQ=new RegExp(`^rgba\\(${QY},${QY},${QY},${KY}\\)$`),nQ=new RegExp(`^rgba\\(${JY},${JY},${JY},${KY}\\)$`),rQ=new RegExp(`^hsl\\(${KY},${JY},${JY}\\)$`),iQ=new RegExp(`^hsla\\(${KY},${JY},${JY},${KY}\\)$`),aQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sQ(){return this.rgb().formatHex()}function oQ(){return this.rgb().formatRgb()}function lQ(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?cQ(t):3===n?new hQ(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?dQ(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?dQ(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ZY.exec(e))?new hQ(t[1],t[2],t[3],1):(t=eQ.exec(e))?new hQ(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tQ.exec(e))?dQ(t[1],t[2],t[3],t[4]):(t=nQ.exec(e))?dQ(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rQ.exec(e))?bQ(t[1],t[2]/100,t[3]/100,1):(t=iQ.exec(e))?bQ(t[1],t[2]/100,t[3]/100,t[4]):aQ.hasOwnProperty(e)?cQ(aQ[e]):"transparent"===e?new hQ(NaN,NaN,NaN,0):null}function cQ(e){return new hQ(e>>16&255,e>>8&255,255&e,1)}function dQ(e,t,n,r){return r<=0&&(e=t=n=NaN),new hQ(e,t,n,r)}function uQ(e,t,n,r){return 1===arguments.length?((i=e)instanceof qY||(i=lQ(i)),i?new hQ((i=i.rgb()).r,i.g,i.b,i.opacity):new hQ):new hQ(e,t,n,null==r?1:r);var i}function hQ(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pQ(){return`#${xQ(this.r)}${xQ(this.g)}${xQ(this.b)}`}function mQ(){const e=fQ(this.opacity);return`${1===e?"rgb(":"rgba("}${gQ(this.r)}, ${gQ(this.g)}, ${gQ(this.b)}${1===e?")":`, ${e})`}`}function fQ(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gQ(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xQ(e){return((e=gQ(e))<16?"0":"")+e.toString(16)}function bQ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vQ(e,t,n,r)}function yQ(e){if(e instanceof vQ)return new vQ(e.h,e.s,e.l,e.opacity);if(e instanceof qY||(e=lQ(e)),!e)return new vQ;if(e instanceof vQ)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new vQ(s,o,l,e.opacity)}function vQ(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function wQ(e){return(e=(e||0)%360)<0?e+360:e}function jQ(e){return Math.max(0,Math.min(1,e||0))}function NQ(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}VY(qY,lQ,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sQ,formatHex:sQ,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return yQ(this).formatHsl()},formatRgb:oQ,toString:oQ}),VY(hQ,uQ,$Y(qY,{brighter(e){return e=null==e?YY:Math.pow(YY,e),new hQ(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?GY:Math.pow(GY,e),new hQ(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hQ(gQ(this.r),gQ(this.g),gQ(this.b),fQ(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pQ,formatHex:pQ,formatHex8:function(){return`#${xQ(this.r)}${xQ(this.g)}${xQ(this.b)}${xQ(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:mQ,toString:mQ})),VY(vQ,function(e,t,n,r){return 1===arguments.length?yQ(e):new vQ(e,t,n,null==r?1:r)},$Y(qY,{brighter(e){return e=null==e?YY:Math.pow(YY,e),new vQ(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?GY:Math.pow(GY,e),new vQ(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new hQ(NQ(e>=240?e-240:e+120,i,r),NQ(e,i,r),NQ(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new vQ(wQ(this.h),jQ(this.s),jQ(this.l),fQ(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fQ(this.opacity);return`${1===e?"hsl(":"hsla("}${wQ(this.h)}, ${100*jQ(this.s)}%, ${100*jQ(this.l)}%${1===e?")":`, ${e})`}`}}));const kQ=e=>()=>e;function SQ(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):kQ(isNaN(e)?t:e)}const AQ=function e(t){var n=function(e){return 1===(e=+e)?SQ:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):kQ(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=uQ(e)).r,(t=uQ(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=SQ(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function CQ(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function _Q(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=IQ(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function EQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function TQ(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function OQ(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=IQ(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var MQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DQ=new RegExp(MQ.source,"g");function PQ(e,t){var n,r,i,a=MQ.lastIndex=DQ.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=MQ.exec(e))&&(r=DQ.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:TQ(n,r)})),a=DQ.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function IQ(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?kQ(t):("number"===i?TQ:"string"===i?(n=lQ(t))?(t=n,AQ):PQ:t instanceof lQ?AQ:t instanceof Date?EQ:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?_Q:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?OQ:TQ:CQ))(e,t)}function LQ(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RQ(e){return+e}var FQ=[0,1];function BQ(e){return e}function HQ(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function zQ(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=HQ(i,r),a=n(s,a)):(r=HQ(r,i),a=n(a,s)),function(e){return a(r(e))}}function WQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=HQ(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=vY(e,t,1,r)-1;return a[n](i[n](t))}}function UQ(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function VQ(){var e,t,n,r,i,a,s=FQ,o=FQ,l=IQ,c=BQ;function d(){var e=Math.min(s.length,o.length);return c!==BQ&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?WQ:zQ,i=a=null,u}function u(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return u.invert=function(n){return c(t((a||(a=r(o,s.map(e),TQ)))(n)))},u.domain=function(e){return arguments.length?(s=Array.from(e,RQ),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=LQ,d()},u.clamp=function(e){return arguments.length?(c=!!e||BQ,d()):c!==BQ},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function $Q(){return VQ()(BQ,BQ)}function qQ(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function GQ(e){return(e=qQ(Math.abs(e)))?e[1]:NaN}var YQ,QQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function KQ(e){if(!(t=QQ.exec(e)))throw new Error("invalid format: "+e);var t;return new JQ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function JQ(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function XQ(e,t){var n=qQ(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}KQ.prototype=JQ.prototype,JQ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ZQ={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XQ(100*e,t),r:XQ,s:function(e,t){var n=qQ(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(YQ=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+qQ(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eK(e){return e}var tK,nK,rK,iK=Array.prototype.map,aK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sK(e,t,n,r){var i,a=OY(e,t,n);switch((r=KQ(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(GQ(t)/3)))-GQ(Math.abs(e)))}(a,s))||(r.precision=i),rK(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,GQ(t)-GQ(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-GQ(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return nK(r)}function oK(e){var t=e.domain;return e.ticks=function(e){var n=t();return EY(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return sK(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],d=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);d-- >0;){if((i=TY(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function lK(){var e=$Q();return e.copy=function(){return UQ(e,lK())},RY.apply(e,arguments),oK(e)}function cK(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function dK(e){return Math.log(e)}function uK(e){return Math.exp(e)}function hK(e){return-Math.log(-e)}function pK(e){return-Math.exp(-e)}function mK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fK(e){return(t,n)=>-e(-t,n)}function gK(e){const t=e(dK,uK),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?mK:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=fK(r),i=fK(i),e(hK,pK)):e(dK,uK),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=r(s),h=r(o);const p=null==e?10:+e;let m=[];if(!(a%1)&&h-u<p){if(u=Math.floor(u),h=Math.ceil(h),s>0){for(;u<=h;++u)for(c=1;c<a;++c)if(d=u<0?c/i(-u):c*i(u),!(d<s)){if(d>o)break;m.push(d)}}else for(;u<=h;++u)for(c=a-1;c>=1;--c)if(d=u>0?c/i(-u):c*i(u),!(d<s)){if(d>o)break;m.push(d)}2*m.length<p&&(m=EY(s,o,p))}else m=EY(u,h,Math.min(h-u,p)).map(i);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=KQ(n)).precision||(n.trim=!0),n=nK(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(cK(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function xK(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bK(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yK(e){var t=1,n=e(xK(t),bK(t));return n.constant=function(n){return arguments.length?e(xK(t=+n),bK(t)):t},oK(n)}function vK(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jK(e){return e<0?-e*e:e*e}function NK(e){var t=e(BQ,BQ),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(BQ,BQ):.5===n?e(wK,jK):e(vK(n),vK(1/n)):n},oK(t)}function kK(){var e=NK(VQ());return e.copy=function(){return UQ(e,kK()).exponent(e.exponent())},RY.apply(e,arguments),e}function SK(e){return Math.sign(e)*e*e}tK=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?eK:(t=iK.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?eK:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(iK.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=KQ(e)).fill,n=e.align,u=e.sign,h=e.symbol,p=e.zero,m=e.width,f=e.comma,g=e.precision,x=e.trim,b=e.type;"n"===b?(f=!0,b="g"):ZQ[b]||(void 0===g&&(g=12),x=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===h?a:/[%p]/.test(b)?l:"",w=ZQ[b],j=/[defgprs%]/.test(b);function N(e){var i,a,l,h=y,N=v;if("c"===b)N=w(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),x&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),h=(k?"("===u?u:c:"-"===u||"("===u?"":u)+h,N=("s"===b?aK[8+YQ/3]:"")+N+(k&&"("===u?")":""),j)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){N=(46===l?s+e.slice(i+1):e.slice(i))+N,e=e.slice(0,i);break}}f&&!p&&(e=r(e,1/0));var S=h.length+e.length+N.length,A=S<m?new Array(m-S+1).join(t):"";switch(f&&p&&(e=r(A+e,A.length?m-N.length:1/0),A=""),n){case"<":e=h+e+N+A;break;case"=":e=h+A+e+N;break;case"^":e=A.slice(0,S=A.length>>1)+h+e+N+A.slice(S);break;default:e=A+h+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=KQ(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(GQ(t)/3))),i=Math.pow(10,-r),a=aK[8+r/3];return function(e){return n(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),nK=tK.format,rK=tK.formatPrefix;const AK=new Date,CK=new Date;function _K(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>_K(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(AK.setTime(+t),CK.setTime(+r),e(AK),e(CK),Math.floor(n(AK,CK))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const EK=_K(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);EK.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?_K(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):EK:null),EK.range;const TK=1e3,OK=6e4,MK=36e5,DK=864e5,PK=6048e5,IK=31536e6,LK=_K(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*TK)},(e,t)=>(t-e)/TK,e=>e.getUTCSeconds());LK.range;const RK=_K(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TK)},(e,t)=>{e.setTime(+e+t*OK)},(e,t)=>(t-e)/OK,e=>e.getMinutes());RK.range;const FK=_K(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*OK)},(e,t)=>(t-e)/OK,e=>e.getUTCMinutes());FK.range;const BK=_K(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*TK-e.getMinutes()*OK)},(e,t)=>{e.setTime(+e+t*MK)},(e,t)=>(t-e)/MK,e=>e.getHours());BK.range;const HK=_K(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*MK)},(e,t)=>(t-e)/MK,e=>e.getUTCHours());HK.range;const zK=_K(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OK)/DK,e=>e.getDate()-1);zK.range;const WK=_K(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/DK,e=>e.getUTCDate()-1);WK.range;const UK=_K(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/DK,e=>Math.floor(e/DK));function VK(e){return _K(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OK)/PK)}UK.range;const $K=VK(0),qK=VK(1),GK=VK(2),YK=VK(3),QK=VK(4),KK=VK(5),JK=VK(6);function XK(e){return _K(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/PK)}$K.range,qK.range,GK.range,YK.range,QK.range,KK.range,JK.range;const ZK=XK(0),eJ=XK(1),tJ=XK(2),nJ=XK(3),rJ=XK(4),iJ=XK(5),aJ=XK(6);ZK.range,eJ.range,tJ.range,nJ.range,rJ.range,iJ.range,aJ.range;const sJ=_K(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());sJ.range;const oJ=_K(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());oJ.range;const lJ=_K(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lJ.every=e=>isFinite(e=Math.floor(e))&&e>0?_K(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,lJ.range;const cJ=_K(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function dJ(e,t,n,r,i,a){const s=[[LK,1,TK],[LK,5,5e3],[LK,15,15e3],[LK,30,3e4],[a,1,OK],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,MK],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,DK],[r,2,1728e5],[n,1,PK],[t,1,2592e6],[t,3,7776e6],[e,1,IK]];function o(t,n,r){const i=Math.abs(n-t)/r,a=xY(([,,e])=>e).right(s,i);if(a===s.length)return e.every(OY(t/IK,n/IK,r));if(0===a)return EK.every(Math.max(OY(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}cJ.every=e=>isFinite(e=Math.floor(e))&&e>0?_K(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,cJ.range;const[uJ,hJ]=dJ(cJ,oJ,ZK,UK,HK,FK),[pJ,mJ]=dJ(lJ,sJ,$K,zK,BK,RK);function fJ(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gJ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xJ(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var bJ,yJ,vJ,wJ={"-":"",_:" ",0:"0"},jJ=/^\s*\d+/,NJ=/^%/,kJ=/[\\^$*+?|[\]().{}]/g;function SJ(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function AJ(e){return e.replace(kJ,"\\$&")}function CJ(e){return new RegExp("^(?:"+e.map(AJ).join("|")+")","i")}function _J(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function EJ(e,t,n){var r=jJ.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function TJ(e,t,n){var r=jJ.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function OJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function MJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function DJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function PJ(e,t,n){var r=jJ.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function IJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function RJ(e,t,n){var r=jJ.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function FJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function BJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function HJ(e,t,n){var r=jJ.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function WJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function UJ(e,t,n){var r=jJ.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function VJ(e,t,n){var r=jJ.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $J(e,t,n){var r=jJ.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qJ(e,t,n){var r=NJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function GJ(e,t,n){var r=jJ.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function YJ(e,t,n){var r=jJ.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function QJ(e,t){return SJ(e.getDate(),t,2)}function KJ(e,t){return SJ(e.getHours(),t,2)}function JJ(e,t){return SJ(e.getHours()%12||12,t,2)}function XJ(e,t){return SJ(1+zK.count(lJ(e),e),t,3)}function ZJ(e,t){return SJ(e.getMilliseconds(),t,3)}function eX(e,t){return ZJ(e,t)+"000"}function tX(e,t){return SJ(e.getMonth()+1,t,2)}function nX(e,t){return SJ(e.getMinutes(),t,2)}function rX(e,t){return SJ(e.getSeconds(),t,2)}function iX(e){var t=e.getDay();return 0===t?7:t}function aX(e,t){return SJ($K.count(lJ(e)-1,e),t,2)}function sX(e){var t=e.getDay();return t>=4||0===t?QK(e):QK.ceil(e)}function oX(e,t){return e=sX(e),SJ(QK.count(lJ(e),e)+(4===lJ(e).getDay()),t,2)}function lX(e){return e.getDay()}function cX(e,t){return SJ(qK.count(lJ(e)-1,e),t,2)}function dX(e,t){return SJ(e.getFullYear()%100,t,2)}function uX(e,t){return SJ((e=sX(e)).getFullYear()%100,t,2)}function hX(e,t){return SJ(e.getFullYear()%1e4,t,4)}function pX(e,t){var n=e.getDay();return SJ((e=n>=4||0===n?QK(e):QK.ceil(e)).getFullYear()%1e4,t,4)}function mX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+SJ(t/60|0,"0",2)+SJ(t%60,"0",2)}function fX(e,t){return SJ(e.getUTCDate(),t,2)}function gX(e,t){return SJ(e.getUTCHours(),t,2)}function xX(e,t){return SJ(e.getUTCHours()%12||12,t,2)}function bX(e,t){return SJ(1+WK.count(cJ(e),e),t,3)}function yX(e,t){return SJ(e.getUTCMilliseconds(),t,3)}function vX(e,t){return yX(e,t)+"000"}function wX(e,t){return SJ(e.getUTCMonth()+1,t,2)}function jX(e,t){return SJ(e.getUTCMinutes(),t,2)}function NX(e,t){return SJ(e.getUTCSeconds(),t,2)}function kX(e){var t=e.getUTCDay();return 0===t?7:t}function SX(e,t){return SJ(ZK.count(cJ(e)-1,e),t,2)}function AX(e){var t=e.getUTCDay();return t>=4||0===t?rJ(e):rJ.ceil(e)}function CX(e,t){return e=AX(e),SJ(rJ.count(cJ(e),e)+(4===cJ(e).getUTCDay()),t,2)}function _X(e){return e.getUTCDay()}function EX(e,t){return SJ(eJ.count(cJ(e)-1,e),t,2)}function TX(e,t){return SJ(e.getUTCFullYear()%100,t,2)}function OX(e,t){return SJ((e=AX(e)).getUTCFullYear()%100,t,2)}function MX(e,t){return SJ(e.getUTCFullYear()%1e4,t,4)}function DX(e,t){var n=e.getUTCDay();return SJ((e=n>=4||0===n?rJ(e):rJ.ceil(e)).getUTCFullYear()%1e4,t,4)}function PX(){return"+0000"}function IX(){return"%"}function LX(e){return+e}function RX(e){return Math.floor(+e/1e3)}function FX(e){return new Date(e)}function BX(e){return e instanceof Date?+e:+new Date(+e)}function HX(e,t,n,r,i,a,s,o,l,c){var d=$Q(),u=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),f=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function w(e){return(l(e)<e?p:o(e)<e?m:s(e)<e?f:a(e)<e?g:r(e)<e?i(e)<e?x:b:n(e)<e?y:v)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,BX)):h().map(FX)},d.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(cK(n,e)):d},d.copy=function(){return UQ(d,HX(e,t,n,r,i,a,s,o,l,c))},d}function zX(){var e,t,n,r,i,a=0,s=1,o=BQ,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(IQ),c.rangeRound=d(LQ),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function WX(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UX(){var e=NK(zX());return e.copy=function(){return WX(e,UX()).exponent(e.exponent())},FY.apply(e,arguments)}function VX(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,d=1,u=BQ,h=!1;function p(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(d*e<d*t?r:i),u(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,u=function(e,t){void 0===t&&(t=e,e=IQ);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),p):[u(0),u(.5),u(1)]}}return p.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=m(IQ),p.rangeRound=m(LQ),p.unknown=function(e){return arguments.length?(s=e,p):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),d=t<e?-1:1,p}}function $X(){var e=NK(VX());return e.copy=function(){return WX(e,$X()).exponent(e.exponent())},FY.apply(e,arguments)}bJ=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=CJ(i),d=_J(i),u=CJ(a),h=_J(a),p=CJ(s),m=_J(s),f=CJ(o),g=_J(o),x=CJ(l),b=_J(l),y={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:QJ,e:QJ,f:eX,g:uX,G:pX,H:KJ,I:JJ,j:XJ,L:ZJ,m:tX,M:nX,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:LX,s:RX,S:rX,u:iX,U:aX,V:oX,w:lX,W:cX,x:null,X:null,y:dX,Y:hX,Z:mX,"%":IX},v={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:fX,e:fX,f:vX,g:OX,G:DX,H:gX,I:xX,j:bX,L:yX,m:wX,M:jX,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:LX,s:RX,S:NX,u:kX,U:SX,V:CX,w:_X,W:EX,x:null,X:null,y:TX,Y:MX,Z:PX,"%":IX},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=x.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:BJ,e:BJ,f:$J,g:IJ,G:PJ,H:zJ,I:zJ,j:HJ,L:VJ,m:FJ,M:WJ,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:RJ,Q:GJ,s:YJ,S:UJ,u:TJ,U:OJ,V:MJ,w:EJ,W:DJ,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:IJ,Y:PJ,Z:LJ,"%":qJ};function j(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=wJ[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(n){var r,i,a=xJ(1900,void 0,1);if(k(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=gJ(xJ(a.y,0,1))).getUTCDay(),r=i>4||0===i?eJ.ceil(r):eJ(r),r=WK.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=fJ(xJ(a.y,0,1))).getDay(),r=i>4||0===i?qK.ceil(r):qK(r),r=zK.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?gJ(xJ(a.y,0,1)).getUTCDay():fJ(xJ(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,gJ(a)):fJ(a)}}function k(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in wJ?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=j(n,y),y.X=j(r,y),y.c=j(t,y),v.x=j(n,v),v.X=j(r,v),v.c=j(t,v),{format:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),yJ=bJ.format,bJ.parse,vJ=bJ.utcFormat,bJ.utcParse;const qX=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zY,scaleDiverging:function e(){var t=oK(VX()(BQ));return t.copy=function(){return WX(t,e())},FY.apply(t,arguments)},scaleDivergingLog:function e(){var t=gK(VX()).domain([.1,1,10]);return t.copy=function(){return WX(t,e()).base(t.base())},FY.apply(t,arguments)},scaleDivergingPow:$X,scaleDivergingSqrt:function(){return $X.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=yK(VX());return t.copy=function(){return WX(t,e()).constant(t.constant())},FY.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,RQ),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,RQ):[0,1],oK(r)},scaleImplicit:BY,scaleLinear:lK,scaleLog:function e(){const t=gK(VQ()).domain([1,10]);return t.copy=()=>UQ(t,e()).base(t.base()),RY.apply(t,arguments),t},scaleOrdinal:HY,scalePoint:UY,scalePow:kK,scaleQuantile:function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=LY(n,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:r[vY(i,e)]}return s.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},s.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(fY),a()},s.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return i.slice()},s.copy=function(){return e().domain(n).range(r).unknown(t)},RY.apply(s,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,a=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[vY(a,e,0,i)]:t}function l(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},o.range=function(e){return arguments.length?(i=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return e().domain([n,r]).range(s).unknown(t)},RY.apply(oK(o),arguments)},scaleRadial:function e(){var t,n=$Q(),r=[0,1],i=!1;function a(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return a.invert=function(e){return n.invert(SK(e))},a.domain=function(e){return arguments.length?(n.domain(e),a):n.domain()},a.range=function(e){return arguments.length?(n.range((r=Array.from(e,RQ)).map(SK)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(i=!!e,a):i},a.clamp=function(e){return arguments.length?(n.clamp(e),a):n.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},RY.apply(a,arguments),oK(a)},scaleSequential:function e(){var t=oK(zX()(BQ));return t.copy=function(){return WX(t,e())},FY.apply(t,arguments)},scaleSequentialLog:function e(){var t=gK(zX()).domain([1,10]);return t.copy=function(){return WX(t,e()).base(t.base())},FY.apply(t,arguments)},scaleSequentialPow:UX,scaleSequentialQuantile:function e(){var t=[],n=BQ;function r(e){if(null!=e&&!isNaN(e=+e))return n((vY(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(fY),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return DY(e);if(t>=1)return MY(e);var n,r=(n-1)*t,i=Math.floor(r),a=MY(PY(e,i).subarray(0,i+1));return a+(DY(e.subarray(i+1))-a)*(r-i)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},FY.apply(r,arguments)},scaleSequentialSqrt:function(){return UX.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=yK(zX());return t.copy=function(){return WX(t,e()).constant(t.constant())},FY.apply(t,arguments)},scaleSqrt:function(){return kK.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=yK(VQ());return t.copy=function(){return UQ(t,e()).constant(t.constant())},RY.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return null!=e&&e<=e?r[vY(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},RY.apply(a,arguments)},scaleTime:function(){return RY.apply(HX(pJ,mJ,lJ,sJ,$K,zK,BK,RK,LK,yJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return RY.apply(HX(uJ,hJ,cJ,oJ,ZK,WK,HK,FK,LK,vJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:sK},Symbol.toStringTag,{value:"Module"}));var GX,YX,QX,KX,JX,XX;function ZX(){if(YX)return GX;YX=1;var e=XF();return GX=function(t,n,r){for(var i=-1,a=t.length;++i<a;){var s=t[i],o=n(s);if(null!=o&&(void 0===l?o==o&&!e(o):r(o,l)))var l=o,c=s}return c}}function eZ(){return KX?QX:(KX=1,QX=function(e,t){return e>t})}const tZ=a(function(){if(XX)return JX;XX=1;var e=ZX(),t=eZ(),n=y$();return JX=function(r){return r&&r.length?e(r,n,t):void 0}}());var nZ,rZ,iZ,aZ;function sZ(){return rZ?nZ:(rZ=1,nZ=function(e,t){return e<t})}const oZ=a(function(){if(aZ)return iZ;aZ=1;var e=ZX(),t=sZ(),n=y$();return iZ=function(r){return r&&r.length?e(r,n,t):void 0}}());var lZ,cZ,dZ,uZ;const hZ=a(function(){if(uZ)return dZ;uZ=1;var e=Cq(),t=function(){if(cZ)return lZ;cZ=1;var e=hB(),t=v$(),n=Tq(),r=qF();return lZ=function(i,a){return(r(i)?e:n)(i,t(a,3))}}();return dZ=function(n,r){return e(t(n,r),1)}}());var pZ,mZ;const fZ=a(function(){if(mZ)return pZ;mZ=1;var e=g$();return pZ=function(t,n){return e(t,n)}}());var gZ,xZ=1e9,bZ=!0,yZ="[DecimalError] ",vZ=yZ+"Invalid argument: ",wZ=yZ+"Exponent out of range: ",jZ=Math.floor,NZ=Math.pow,kZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,SZ=1e7,AZ=jZ(1286742750677284.5),CZ={};function _Z(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),bZ?FZ(t,u):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),a>(o=(s=Math.ceil(u/7))>o?s+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=l.length)-(a=c.length)<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/SZ|0,l[a]%=SZ;for(n&&(l.unshift(n),++i),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=i,bZ?FZ(t,u):t}function EZ(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vZ+e)}function TZ(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=IZ(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=IZ(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}CZ.absoluteValue=CZ.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},CZ.comparedTo=CZ.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},CZ.decimalPlaces=CZ.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},CZ.dividedBy=CZ.div=function(e){return OZ(this,new this.constructor(e))},CZ.dividedToIntegerBy=CZ.idiv=function(e){var t=this.constructor;return FZ(OZ(this,new t(e),0,1),t.precision)},CZ.equals=CZ.eq=function(e){return!this.cmp(e)},CZ.exponent=function(){return DZ(this)},CZ.greaterThan=CZ.gt=function(e){return this.cmp(e)>0},CZ.greaterThanOrEqualTo=CZ.gte=function(e){return this.cmp(e)>=0},CZ.isInteger=CZ.isint=function(){return this.e>this.d.length-2},CZ.isNegative=CZ.isneg=function(){return this.s<0},CZ.isPositive=CZ.ispos=function(){return this.s>0},CZ.isZero=function(){return 0===this.s},CZ.lessThan=CZ.lt=function(e){return this.cmp(e)<0},CZ.lessThanOrEqualTo=CZ.lte=function(e){return this.cmp(e)<1},CZ.logarithm=CZ.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(gZ))throw Error(yZ+"NaN");if(n.s<1)throw Error(yZ+(n.s?"NaN":"-Infinity"));return n.eq(gZ)?new r(0):(bZ=!1,t=OZ(LZ(n,a),LZ(e,a),a),bZ=!0,FZ(t,i))},CZ.minus=CZ.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BZ(t,e):_Z(t,(e.s=-e.s,e))},CZ.modulo=CZ.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(yZ+"NaN");return n.s?(bZ=!1,t=OZ(n,e,0,1).times(e),bZ=!0,n.minus(t)):FZ(new r(n),i)},CZ.naturalExponential=CZ.exp=function(){return MZ(this)},CZ.naturalLogarithm=CZ.ln=function(){return LZ(this)},CZ.negated=CZ.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},CZ.plus=CZ.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_Z(t,e):BZ(t,(e.s=-e.s,e))},CZ.precision=CZ.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(vZ+e);if(t=DZ(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},CZ.squareRoot=CZ.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(yZ+"NaN")}for(e=DZ(o),bZ=!1,0==(i=Math.sqrt(+o))||i==1/0?(((t=TZ(o.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=jZ((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(a=r).plus(OZ(o,a,s+2)).times(.5),TZ(a.d).slice(0,s)===(t=TZ(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(FZ(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if("9999"!=t)break;s+=4}return bZ=!0,FZ(r,n)},CZ.times=CZ.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,u=d.constructor,h=d.d,p=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,n=d.e+e.e,(l=h.length)<(c=p.length)&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],r=s=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+t,a[i--]=o%SZ|0,t=o/SZ|0;a[i]=(a[i]+t)%SZ|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,bZ?FZ(e,u.precision):e},CZ.toDecimalPlaces=CZ.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(EZ(e,0,xZ),void 0===t?t=r.rounding:EZ(t,0,8),FZ(n,e+DZ(n)+1,t))},CZ.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=HZ(r,!0):(EZ(e,0,xZ),void 0===t?t=i.rounding:EZ(t,0,8),n=HZ(r=FZ(new i(r),e+1,t),!0,e+1)),n},CZ.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?HZ(i):(EZ(e,0,xZ),void 0===t?t=a.rounding:EZ(t,0,8),n=HZ((r=FZ(new a(i),e+DZ(i)+1,t)).abs(),!1,e+DZ(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},CZ.toInteger=CZ.toint=function(){var e=this,t=e.constructor;return FZ(new t(e),DZ(e)+1,t.rounding)},CZ.toNumber=function(){return+this},CZ.toPower=CZ.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(gZ);if(!(o=new l(o)).s){if(e.s<1)throw Error(yZ+"Infinity");return o}if(o.eq(gZ))return o;if(r=l.precision,e.eq(gZ))return FZ(o,r);if(s=(t=e.e)>=(n=e.d.length-1),a=o.s,s){if((n=c<0?-c:c)<=9007199254740991){for(i=new l(gZ),t=Math.ceil(r/7+4),bZ=!1;n%2&&zZ((i=i.times(o)).d,t),0!==(n=jZ(n/2));)zZ((o=o.times(o)).d,t);return bZ=!0,e.s<0?new l(gZ).div(i):FZ(i,r)}}else if(a<0)throw Error(yZ+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,bZ=!1,i=e.times(LZ(o,r+12)),bZ=!0,(i=MZ(i)).s=a,i},CZ.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=HZ(i,(n=DZ(i))<=a.toExpNeg||n>=a.toExpPos):(EZ(e,1,xZ),void 0===t?t=a.rounding:EZ(t,0,8),r=HZ(i=FZ(new a(i),e,t),e<=(n=DZ(i))||n<=a.toExpNeg,e)),r},CZ.toSignificantDigits=CZ.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(EZ(e,1,xZ),void 0===t?t=n.rounding:EZ(t,0,8)),FZ(new n(this),e,t)},CZ.toString=CZ.valueOf=CZ.val=CZ.toJSON=CZ[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=DZ(e),n=e.constructor;return HZ(e,t<=n.toExpNeg||t>=n.toExpPos)};var OZ=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%SZ|0,r=n/SZ|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*SZ+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S=r.constructor,A=r.s==i.s?1:-1,C=r.d,_=i.d;if(!r.s)return new S(r);if(!i.s)throw Error(yZ+"Division by zero");for(l=r.e-i.e,N=_.length,w=C.length,m=(p=new S(A)).d=[],c=0;_[c]==(C[c]||0);)++c;if(_[c]>(C[c]||0)&&--l,(b=null==a?a=S.precision:s?a+(DZ(r)-DZ(i))+1:a)<0)return new S(0);if(b=b/7+2|0,c=0,1==N)for(d=0,_=_[0],b++;(c<w||d)&&b--;c++)y=d*SZ+(C[c]||0),m[c]=y/_|0,d=y%_|0;else{for((d=SZ/(_[0]+1)|0)>1&&(_=e(_,d),C=e(C,d),N=_.length,w=C.length),v=N,g=(f=C.slice(0,N)).length;g<N;)f[g++]=0;(k=_.slice()).unshift(0),j=_[0],_[1]>=SZ/2&&++j;do{d=0,(o=t(_,f,N,g))<0?(x=f[0],N!=g&&(x=x*SZ+(f[1]||0)),(d=x/j|0)>1?(d>=SZ&&(d=SZ-1),1==(o=t(u=e(_,d),f,h=u.length,g=f.length))&&(d--,n(u,N<h?k:_,h))):(0==d&&(o=d=1),u=_.slice()),(h=u.length)<g&&u.unshift(0),n(f,u,g),-1==o&&(o=t(_,f,N,g=f.length))<1&&(d++,n(f,N<g?k:_,g)),g=f.length):0===o&&(d++,f=[0]),m[c++]=d,o&&f[0]?f[g++]=C[v]||0:(f=[C[v]],g=1)}while((v++<w||void 0!==f[0])&&b--)}return m[0]||m.shift(),p.e=l,FZ(p,s?a+DZ(p)+1:a)}}();function MZ(e,t){var n,r,i,a,s,o=0,l=0,c=e.constructor,d=c.precision;if(DZ(e)>16)throw Error(wZ+DZ(e));if(!e.s)return new c(gZ);for(bZ=!1,s=d,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(s+=Math.log(NZ(2,l))/Math.LN10*2+5|0,n=r=i=new c(gZ),c.precision=s;;){if(r=FZ(r.times(e),s),n=n.times(++o),TZ((a=i.plus(OZ(r,n,s))).d).slice(0,s)===TZ(i.d).slice(0,s)){for(;l--;)i=FZ(i.times(i),s);return c.precision=d,null==t?(bZ=!0,FZ(i,d)):i}i=a}}function DZ(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function PZ(e,t,n){if(t>e.LN10.sd())throw bZ=!0,n&&(e.precision=n),Error(yZ+"LN10 precision limit exceeded");return FZ(new e(e.LN10),t)}function IZ(e){for(var t="";e--;)t+="0";return t}function LZ(e,t){var n,r,i,a,s,o,l,c,d,u=1,h=e,p=h.d,m=h.constructor,f=m.precision;if(h.s<1)throw Error(yZ+(h.s?"NaN":"-Infinity"));if(h.eq(gZ))return new m(0);if(null==t?(bZ=!1,c=f):c=t,h.eq(10))return null==t&&(bZ=!0),PZ(m,c);if(c+=10,m.precision=c,r=(n=TZ(p)).charAt(0),a=DZ(h),!(Math.abs(a)<15e14))return l=PZ(m,c+2,f).times(a+""),h=LZ(new m(r+"."+n.slice(1)),c-10).plus(l),m.precision=f,null==t?(bZ=!0,FZ(h,f)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=TZ((h=h.times(e)).d)).charAt(0),u++;for(a=DZ(h),r>1?(h=new m("0."+n),a++):h=new m(r+"."+n.slice(1)),o=s=h=OZ(h.minus(gZ),h.plus(gZ),c),d=FZ(h.times(h),c),i=3;;){if(s=FZ(s.times(d),c),TZ((l=o.plus(OZ(s,new m(i),c))).d).slice(0,c)===TZ(o.d).slice(0,c))return o=o.times(2),0!==a&&(o=o.plus(PZ(m,c+2,f).times(a+""))),o=OZ(o,new m(u),c),m.precision=f,null==t?(bZ=!0,FZ(o,f)):o;o=l,i+=2}}function RZ(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=jZ(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),bZ&&(e.e>AZ||e.e<-AZ))throw Error(wZ+n)}else e.s=0,e.e=0,e.d=[0];return e}function FZ(e,t,n){var r,i,a,s,o,l,c,d,u=e.d;for(s=1,a=u[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,c=u[d=0];else{if((d=Math.ceil((r+1)/7))>=(a=u.length))return e;for(c=a=u[d],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(o=c/(a=NZ(10,s-i-1))%10|0,l=t<0||void 0!==u[d+1]||c%a,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?i>0?c/NZ(10,s-i):0:u[d-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return l?(a=DZ(e),u.length=1,t=t-a-1,u[0]=NZ(10,(7-t%7)%7),e.e=jZ(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==r?(u.length=d,a=1,d--):(u.length=d+1,a=NZ(10,7-r),u[d]=i>0?(c/NZ(10,s-i)%NZ(10,i)|0)*a:0),l)for(;;){if(0==d){(u[0]+=a)==SZ&&(u[0]=1,++e.e);break}if(u[d]+=a,u[d]!=SZ)break;u[d--]=0,a=1}for(r=u.length;0===u[--r];)u.pop();if(bZ&&(e.e>AZ||e.e<-AZ))throw Error(wZ+DZ(e));return e}function BZ(e,t){var n,r,i,a,s,o,l,c,d,u,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),bZ?FZ(t,p):t;if(l=e.d,u=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((d=s<0)?(n=l,s=-s,o=u.length):(n=u,r=c,o=l.length),s>(i=Math.max(Math.ceil(p/7),o)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=l.length)<(o=u.length))&&(o=i),i=0;i<o;i++)if(l[i]!=u[i]){d=l[i]<u[i];break}s=0}for(d&&(n=l,l=u,u=n,t.s=-t.s),o=l.length,i=u.length-o;i>0;--i)l[o++]=0;for(i=u.length;i>s;){if(l[--i]<u[i]){for(a=i;a&&0===l[--a];)l[a]=SZ-1;--l[a],l[i]+=SZ}l[i]-=u[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,bZ?FZ(t,p):t):new h(0)}function HZ(e,t,n){var r,i=DZ(e),a=TZ(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+IZ(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+IZ(-i-1)+a,n&&(r=n-s)>0&&(a+=IZ(r))):i>=s?(a+=IZ(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+IZ(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=IZ(r))),e.s<0?"-"+a:a}function zZ(e,t){if(e.length>t)return e.length=t,!0}function WZ(e){if(!e||"object"!=typeof e)throw Error(yZ+"Object expected");var t,n,r,i=["precision",1,xZ,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(jZ(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(vZ+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(vZ+n+": "+r);this[n]=new this(r)}return this}var UZ=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(vZ+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):RZ(t,e.toString())}if("string"!=typeof e)throw Error(vZ+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!kZ.test(e))throw Error(vZ+e);RZ(t,e)}if(a.prototype=CZ,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=WZ,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});gZ=new UZ(1);const VZ=UZ;function $Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qZ=function(e){return e},GZ={},YZ=function(e){return e===GZ},QZ=function(e){return function t(){return 0===arguments.length||1===arguments.length&&YZ(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},KZ=function e(t,n){return 1===t?n:QZ(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(e){return e!==GZ}).length;return s>=t?n.apply(void 0,i):e(t-s,QZ(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,s=i.map(function(e){return YZ(e)?t.shift():e});return n.apply(void 0,(a=s,function(e){if(Array.isArray(e))return $Z(e)}(a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return $Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$Z(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(t))}))})},JZ=function(e){return KZ(e.length,e)},XZ=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ZZ=JZ(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),e0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},t0=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};JZ(function(e,t,n){var r=+e;return r+n*(+t-r)});const n0=function(e,t,n){for(var r=new VZ(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a},r0=function(e){return 0===e?1:Math.floor(new VZ(e).abs().log(10).toNumber())+1};JZ(function(e,t,n){var r=t-+e;return(n-e)/(r||1/0)}),JZ(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});function i0(e){return function(e){if(Array.isArray(e))return o0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}(e,t)||s0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s0(e,t){if(e){if("string"==typeof e)return o0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o0(e,t):void 0}}function o0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l0(e){var t=a0(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function c0(e,t,n){if(e.lte(0))return new VZ(0);var r=r0(e.toNumber()),i=new VZ(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new VZ(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return t?o:new VZ(Math.ceil(o))}function d0(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new VZ(0),tickMin:new VZ(0),tickMax:new VZ(0)};var a,s=c0(new VZ(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new VZ(0):(a=new VZ(e).add(t).div(2)).sub(new VZ(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new VZ(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?d0(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new VZ(o).mul(s)),tickMax:a.add(new VZ(l).mul(s))})}var u0=t0(function(e){var t=a0(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(i,2),o=a0(l0([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(i0(XZ(0,i-1).map(function(){return 1/0}))):[].concat(i0(XZ(0,i-1).map(function(){return-1/0})),[c]);return n>r?e0(d):d}if(l===c)return function(e,t,n){var r=1,i=new VZ(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new VZ(10).pow(r0(e)-1),i=new VZ(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new VZ(Math.floor(e)))}else 0===e?i=new VZ(Math.floor((t-1)/2)):n||(i=new VZ(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return qZ;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}}(ZZ(function(e){return i.add(new VZ(e-s).mul(r)).toNumber()}),XZ);return o(0,t)}(l,i,a);var u=d0(l,c,s,a),h=u.step,p=u.tickMin,m=u.tickMax,f=n0(p,m.add(new VZ(.1).mul(h)),h);return n>r?e0(f):f}),h0=t0(function(e,t){var n=a0(e,2),r=n[0],i=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=a0(l0([r,i]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var c=Math.max(t,2),d=c0(new VZ(l).sub(o).div(c-1),a,0),u=[].concat(i0(n0(new VZ(o),new VZ(l).sub(new VZ(.99).mul(d)),d)),[l]);return r>i?e0(u):u});function p0(e,t){throw new Error("Invariant failed")}var m0=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function f0(e){return(f0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(this,arguments)}function x0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(b0=function(){return!!e})()}function y0(e){return(y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v0(e,t){return(v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w0(e,t,n){return(t=j0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j0(e){var t=function(e){if("object"!=f0(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f0(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f0(t)?t:t+""}var N0=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=y0(t),function(e,t){if(t&&("object"===f0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b0()?Reflect.construct(t,n||[],y0(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v0(e,t)}(e,b.Component),t=e,n=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,a=e.data,s=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,m0),d=bH(c,!1);"x"===this.props.direction&&"number"!==o.type&&p0();var u=a.map(function(e){var a=s(e,i),c=a.x,u=a.y,h=a.value,p=a.errorVal;if(!p)return null;var m,f,g,x,y=[];if(Array.isArray(p)){var v=(x=2,function(e){if(Array.isArray(e))return e}(g=p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(g,x)||function(e,t){if(e){if("string"==typeof e)return x0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x0(e,t):void 0}}(g,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());m=v[0],f=v[1]}else m=f=p;if("vertical"===n){var w=o.scale,j=u+t,N=j+r,k=j-r,S=w(h-m),A=w(h+f);y.push({x1:A,y1:N,x2:A,y2:k}),y.push({x1:S,y1:j,x2:A,y2:j}),y.push({x1:S,y1:N,x2:S,y2:k})}else if("horizontal"===n){var C=l.scale,_=c+t,E=_-r,T=_+r,O=C(h-m),M=C(h+f);y.push({x1:E,y1:M,x2:T,y2:M}),y.push({x1:_,y1:O,x2:_,y2:M}),y.push({x1:E,y1:O,x2:T,y2:O})}return b.createElement(UH,g0({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return b.createElement("line",g0({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return b.createElement(UH,{className:"recharts-errorBars"},u)}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j0(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function k0(e){return(k0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S0(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=k0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=k0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==k0(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}w0(N0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),w0(N0,"displayName","ErrorBar");var C0=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,a=mH(t,Aq);if(!a)return null;var s,o=Aq.defaultProps,l=void 0!==o?A0(A0({},o),a.props):{};return s=a.props&&a.props.payload?a.props&&a.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?A0(A0({},n),t.props):{},i=r.dataKey,a=r.name,s=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||s||"square",color:L0(t),value:a||i,payload:r}}),A0(A0(A0({},l),Aq.getWithHeight(a,r)),{},{payload:s,item:a})};function _0(e){return(_0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E0(e){return function(e){if(Array.isArray(e))return T0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T0(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O0(Object(n),!0).forEach(function(t){D0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D0(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_0(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P0(e,t,n){return wB(e)||wB(t)?n:WB(t)?bB(e,t,n):SB(t)?t(e):n}function I0(e,t,n,r){var i=hZ(e,function(e){return P0(e,t)});if("number"===n){var a=i.filter(function(e){return zB(e)||parseFloat(e)});return a.length?[oZ(a),tZ(a)]:[1/0,-1/0]}return(r?i.filter(function(e){return!wB(e)}):i).map(function(e){return WB(e)||e instanceof Date?e:""})}var L0=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?M0(M0({},e.type.defaultProps),e.props):e.props,a=i.stroke,s=i.fill;switch(r){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:s;break;default:n=s}return n},R0=function(e,t,n,r,i){var a=pH(t.props.children,N0).filter(function(e){return function(e,t,n){return!!wB(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(a&&a.length){var s=a.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=P0(t,n);if(wB(r))return e;var i=Array.isArray(r)?[oZ(r),tZ(r)]:[r,r],a=s.reduce(function(e,n){var r=P0(t,n,0),a=i[0]-Math.abs(Array.isArray(r)?r[0]:r),s=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(s,e[1])]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0])}return null},F0=function(e,t,n,r,i){var a=t.map(function(t){var a=t.props.dataKey;return"number"===n&&a&&R0(e,t,a,r)||I0(e,a,n,i)});if("number"===n)return a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var s={};return a.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e},[])},B0=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},H0=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,a,s=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate});return i||s.push(t),a||s.push(n),s},z0=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,a=e.type,s=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*BB(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!RB(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},W0=new WeakMap,U0=function(e,t){if("function"!=typeof t)return e;W0.has(e)||W0.set(e,new WeakMap);var n=W0.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},V0=function(e,t,n){var r=e.scale,i=e.type,a=e.layout,s=e.axisType;if("auto"===r)return"radial"===a&&"radiusAxis"===s?{scale:zY(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:lK(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:UY(),realScaleType:"point"}:"category"===i?{scale:zY(),realScaleType:"band"}:{scale:lK(),realScaleType:"linear"};if(kB(r)){var o="scale".concat(qH(r));return{scale:(qX[o]||UY)(),realScaleType:qX[o]?o:"point"}}return SB(r)?{scale:r}:{scale:UY(),realScaleType:"point"}},$0=1e-4,q0=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$0,a=Math.max(r[0],r[1])+$0,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},G0={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=RB(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Gz(e,t)}},none:Gz,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}Gz(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var d=e[t[o]],u=d[s][1]||0,h=(u-(d[s-1][1]||0))/2,p=0;p<o;++p){var m=e[t[p]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=u,c+=h*u}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,Gz(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=RB(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Y0=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=G0[n],a=function(){var e=GH([]),t=Yz,n=Gz,r=Qz;function i(i){var a,s,o=Array.from(e.apply(this,arguments),Kz),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=sz(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:GH(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:GH(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Yz:"function"==typeof e?e:GH(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Gz:e,i):n},i}().keys(r).value(function(e,t){return+P0(e,t,0)}).order(Yz).offset(i);return a(e)},Q0=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,a=t.originalDomain,s=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(i&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=u0(l,i,s);return e.domain([oZ(c),tZ(c)]),{niceTicks:c}}if(i&&"number"===r){var d=e.domain();return{niceTicks:h0(d,i,s)}}return null};function K0(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!wB(i[t.dataKey])){var o=YB(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=P0(i,wB(s)?t.dataKey:s);return wB(l)?null:t.scale(l)}var J0=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,a=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=P0(a,t.dataKey,t.domain[s]);return wB(o)?null:t.scale(o)-i/2+r},X0=function(e,t,n){return Object.keys(e).reduce(function(r,i){var a=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[oZ(t.concat([e[0]]).filter(zB)),tZ(t.concat([e[1]]).filter(zB))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Z0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t1=function(e,t,n){if(SB(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(zB(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Z0.test(e[0])){var i=+Z0.exec(e[0])[1];r[0]=t[0]-i}else SB(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(zB(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(e1.test(e[1])){var a=+e1.exec(e[1])[1];r[1]=t[1]+a}else SB(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},n1=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Iq(t,function(e){return e.coordinate}),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},r1=function(e,t,n){return e&&e.length?fZ(e,bB(n,"type.defaultProps.domain"))?t:e:t},i1=function(e,t){var n=e.type.defaultProps?M0(M0({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,a=n.unit,s=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return M0(M0({},bH(e,!1)),{},{dataKey:r,unit:a,formatter:s,name:i||r,color:L0(e),value:P0(t,r),type:o,payload:t,chartType:l,hide:c})};function a1(e){return(a1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(t){l1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=a1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=a1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==a1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d1=Math.PI/180,u1=function(e){return 180*e/Math.PI},h1=function(e,t,n,r){return{x:e+Math.cos(-d1*r)*n,y:t+Math.sin(-d1*r)*n}},p1=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},m1=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},f1=function(e,t){var n=function(e,t){var n=e.x,r=e.y,i=t.cx,a=t.cy,s=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-a,2))}({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:u1(l),angleInRadian:l}}({x:e.x,y:e.y},t),r=n.radius,i=n.angle,a=t.innerRadius,s=t.outerRadius;if(r<a||r>s)return!1;if(0===r)return!0;var o,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}}(t),c=l.startAngle,d=l.endAngle,u=i;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;o=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;o=u>=d&&u<=c}return o?o1(o1({},t),{},{radius:r,angle:m1(u,t)}):null},g1=function(e){return x.isValidElement(e)||SB(e)||"boolean"==typeof e?"":e.className};function x1(e){return(x1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b1=["offset"];function y1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v1(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=x1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=x1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==x1(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j1.apply(this,arguments)}function N1(e){var t,n=e.offset,r=w1({offset:void 0===n?5:n},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,b1)),i=r.viewBox,a=r.position,s=r.value,o=r.children,l=r.content,c=r.className,d=void 0===c?"":c,u=r.textBreakAll;if(!i||wB(s)&&wB(o)&&!x.isValidElement(l)&&!SB(l))return null;if(x.isValidElement(l))return x.cloneElement(l,r);if(SB(l)){if(t=x.createElement(l,r),x.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=wB(e.children)?t:e.children;return SB(n)?n(r):r}(r);var h=function(e){return"cx"in e&&zB(e.cx)}(i),p=bH(r,!0);if(h&&("insideStart"===a||"insideEnd"===a||"end"===a))return function(e,t,n){var r,i,a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,u=c.cy,h=c.innerRadius,p=c.outerRadius,m=c.startAngle,f=c.endAngle,g=c.clockWise,x=(h+p)/2,y=function(e,t){return BB(t-e)*Math.min(Math.abs(t-e),360)}(m,f),v=y>=0?1:-1;"insideStart"===a?(r=m+v*o,i=g):"insideEnd"===a?(r=f-v*o,i=!g):"end"===a&&(r=f+v*o,i=g),i=y<=0?i:!i;var w=h1(d,u,x,r),j=h1(d,u,x,r+359*(i?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(i?0:1,",\n    ").concat(j.x,",").concat(j.y),k=wB(e.id)?VB("recharts-radial-line-"):e.id;return b.createElement("text",j1({},n,{dominantBaseline:"central",className:th("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:k,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(k)},t))}(r,t,p);var m=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,a=i.cx,s=i.cy,o=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var d=h1(a,s,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=h1(a,s,(o+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,a=t,s=a.x,o=a.y,l=a.width,c=a.height,d=c>=0?1:-1,u=d*r,h=d>0?"end":"start",p=d>0?"start":"end",m=l>=0?1:-1,f=m*r,g=m>0?"end":"start",x=m>0?"start":"end";if("top"===i)return w1(w1({},{x:s+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===i)return w1(w1({},{x:s+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===i){var b={x:s-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return w1(w1({},b),n?{width:Math.max(b.x-n.x,0),height:c}:{})}if("right"===i){var y={x:s+l+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return w1(w1({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:c}:{})}var v=n?{width:l,height:c}:{};return"insideLeft"===i?w1({x:s+f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideRight"===i?w1({x:s+l-f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideTop"===i?w1({x:s+l/2,y:o+u,textAnchor:"middle",verticalAnchor:p},v):"insideBottom"===i?w1({x:s+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:h},v):"insideTopLeft"===i?w1({x:s+f,y:o+u,textAnchor:x,verticalAnchor:p},v):"insideTopRight"===i?w1({x:s+l-f,y:o+u,textAnchor:g,verticalAnchor:p},v):"insideBottomLeft"===i?w1({x:s+f,y:o+c-u,textAnchor:x,verticalAnchor:h},v):"insideBottomRight"===i?w1({x:s+l-f,y:o+c-u,textAnchor:g,verticalAnchor:h},v):AB(i)&&(zB(i.x)||HB(i.x))&&(zB(i.y)||HB(i.y))?w1({x:s+$B(i.x,l),y:o+$B(i.y,c),textAnchor:"end",verticalAnchor:"end"},v):w1({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(r);return b.createElement(mY,j1({className:th("recharts-label",d)},p,m,{breakAll:u}),t)}N1.displayName="Label";var k1,S1,A1=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,a=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,p=e.left,m=e.width,f=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(zB(m)&&zB(f)){if(zB(d)&&zB(u))return{x:d,y:u,width:m,height:f};if(zB(h)&&zB(p))return{x:h,y:p,width:m,height:f}}return zB(d)&&zB(u)?{x:d,y:u,width:0,height:0}:zB(t)&&zB(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};N1.parseViewBox=A1,N1.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=A1(e),a=pH(r,N1).map(function(e,n){return x.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})});if(!n)return a;var s,o=function(e,t){return e?!0===e?b.createElement(N1,{key:"label-implicit",viewBox:t}):WB(e)?b.createElement(N1,{key:"label-implicit",viewBox:t,value:e}):x.isValidElement(e)?e.type===N1?x.cloneElement(e,{key:"label-implicit",viewBox:t}):b.createElement(N1,{key:"label-implicit",content:e,viewBox:t}):SB(e)?b.createElement(N1,{key:"label-implicit",content:e,viewBox:t}):AB(e)?b.createElement(N1,j1({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[o].concat(function(e){if(Array.isArray(e))return y1(e)}(s=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return y1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y1(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};const C1=a(S1?k1:(S1=1,k1=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function _1(e){return(_1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E1=["valueAccessor"],T1=["data","dataKey","clockWise","id","textBreakAll"];function O1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M1.apply(this,arguments)}function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=_1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_1(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var L1=function(e){return Array.isArray(e.value)?C1(e.value):e.value};function R1(e){var t=e.valueAccessor,n=void 0===t?L1:t,r=I1(e,E1),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=I1(r,T1);return i&&i.length?b.createElement(UH,{className:"recharts-label-list"},i.map(function(e,t){var r=wB(a)?n(e,t):P0(e&&e.payload,a),i=wB(o)?{}:{id:"".concat(o,"-").concat(t)};return b.createElement(N1,M1({},bH(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:N1.parseViewBox(wB(s)?e:P1(P1({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}function F1(e){return(F1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B1.apply(this,arguments)}function H1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H1(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=F1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=F1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==F1(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}R1.displayName="LabelList",R1.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r,i=pH(e.children,R1).map(function(e,n){return x.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?b.createElement(R1,{key:"labelList-implicit",data:t}):b.isValidElement(e)||SB(e)?b.createElement(R1,{key:"labelList-implicit",data:t,content:e}):AB(e)?b.createElement(R1,M1({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(function(e){if(Array.isArray(e))return O1(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return O1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O1(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):i};var W1=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,a=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+r,d=Math.asin(o/c)/d1,u=l?i:i+a*d,h=l?i-a*d:i;return{center:h1(t,n,c,u),circleTangency:h1(t,n,r,u),lineTangency:h1(t,n,c*Math.cos(d*d1),h),theta:d}},U1=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.startAngle,s=function(e,t){return BB(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),o=a+s,l=h1(t,n,i,a),c=h1(t,n,i,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var u=h1(t,n,r,a),h=h1(t,n,r,o);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},V1={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$1=function(e){var t=z1(z1({},V1),e),n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=t.className;if(a<i||c===d)return null;var h,p=th("recharts-sector",u),m=a-i,f=$B(s,m,0,!0);return h=f>0&&Math.abs(c-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=BB(c-l),u=W1({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),h=u.circleTangency,p=u.lineTangency,m=u.theta,f=W1({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),g=f.circleTangency,x=f.lineTangency,b=f.theta,y=o?Math.abs(l-c):Math.abs(l-c)-m-b;if(y<0)return s?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):U1({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n  ");if(r>0){var w=W1({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),j=w.circleTangency,N=w.lineTangency,k=w.theta,S=W1({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),A=S.circleTangency,C=S.lineTangency,_=S.theta,E=o?Math.abs(l-c):Math.abs(l-c)-k-_;if(E<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(C.x,",").concat(C.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v}({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(f,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):U1({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),b.createElement("path",B1({},bH(t,!0),{className:p,d:h,role:"img"}))};function q1(e){return(q1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G1.apply(this,arguments)}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=q1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=q1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==q1(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K1,J1,X1,Z1,e2,t2={curveBasisClosed:function(e){return new Pz(e)},curveBasisOpen:function(e){return new Iz(e)},curveBasis:function(e){return new Dz(e)},curveBumpX:function(e){return new pz(e,!0)},curveBumpY:function(e){return new pz(e,!1)},curveLinearClosed:function(e){return new Lz(e)},curveLinear:lz,curveMonotoneX:function(e){return new zz(e)},curveMonotoneY:function(e){return new Wz(e)},curveNatural:function(e){return new Vz(e)},curveStep:function(e){return new qz(e,.5)},curveStepAfter:function(e){return new qz(e,1)},curveStepBefore:function(e){return new qz(e,0)}},n2=function(e){return e.x===+e.x&&e.y===+e.y},r2=function(e){return e.x},i2=function(e){return e.y},a2=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var a=n&&n.length?function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,a=void 0===i?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(SB(e))return e;var n="curve".concat(qH(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?t2[n]||lz:t2["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),u=c?a.filter(function(e){return n2(e)}):a;if(Array.isArray(s)){var h=c?s.filter(function(e){return n2(e)}):s,p=u.map(function(e,t){return Q1(Q1({},e),{},{base:h[t]})});return(t="vertical"===o?hz().y(i2).x1(r2).x0(function(e){return e.base.x}):hz().x(r2).y1(i2).y0(function(e){return e.base.y})).defined(n2).curve(d),t(p)}return(t="vertical"===o&&zB(s)?hz().y(i2).x1(r2).x0(s):zB(s)?hz().x(r2).y1(i2).y0(s):uz().x(r2).y(i2)).defined(n2).curve(d),t(u)}(e):r;return x.createElement("path",G1({},bH(e,!1),nH(e),{className:th("recharts-curve",t),d:a,ref:i}))},s2={exports:{}};function o2(){return J1?K1:(J1=1,K1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function l2(){if(Z1)return X1;Z1=1;var e=o2();function t(){}function n(){}return n.resetWarningCache=t,X1=function(){function r(t,n,r,i,a,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}function c2(){return e2||(e2=1,s2.exports=l2()()),s2.exports}const d2=a(c2());var u2=Object.getOwnPropertyNames,h2=Object.getOwnPropertySymbols,p2=Object.prototype.hasOwnProperty;function m2(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function f2(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,a=i.get(t),s=i.get(n);if(a&&s)return a===n&&s===t;i.set(t,n),i.set(n,t);var o=e(t,n,r);return i.delete(t),i.delete(n),o}}function g2(e){return u2(e).concat(h2(e))}var x2=Object.hasOwn||function(e,t){return p2.call(e,t)};function b2(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var y2=Object.getOwnPropertyDescriptor,v2=Object.keys;function w2(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function j2(e,t){return b2(e.getTime(),t.getTime())}function N2(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function k2(e,t){return e===t}function S2(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,s=new Array(r),o=e.entries(),l=0;(i=o.next())&&!i.done;){for(var c=t.entries(),d=!1,u=0;(a=c.next())&&!a.done;)if(s[u])u++;else{var h=i.value,p=a.value;if(n.equals(h[0],p[0],l,u,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1;l++}return!0}var A2=b2;function C2(e,t,n){var r=v2(e),i=r.length;if(v2(t).length!==i)return!1;for(;i-- >0;)if(!P2(e,t,n,r[i]))return!1;return!0}function _2(e,t,n){var r,i,a,s=g2(e),o=s.length;if(g2(t).length!==o)return!1;for(;o-- >0;){if(!P2(e,t,n,r=s[o]))return!1;if(i=y2(e,r),a=y2(t,r),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function E2(e,t){return b2(e.valueOf(),t.valueOf())}function T2(e,t){return e.source===t.source&&e.flags===t.flags}function O2(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,s=new Array(r),o=e.values();(i=o.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!s[d]&&n.equals(i.value,a.value,i.value,a.value,e,t,n)){c=s[d]=!0;break}d++}if(!c)return!1}return!0}function M2(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function D2(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function P2(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||x2(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var I2=Array.isArray,L2="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,R2=Object.assign,F2=Object.prototype.toString.call.bind(Object.prototype.toString);var B2=H2();function H2(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,a=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?_2:w2,areDatesEqual:j2,areErrorsEqual:N2,areFunctionsEqual:k2,areMapsEqual:r?m2(S2,_2):S2,areNumbersEqual:A2,areObjectsEqual:r?_2:C2,arePrimitiveWrappersEqual:E2,areRegExpsEqual:T2,areSetsEqual:r?m2(O2,_2):O2,areTypedArraysEqual:r?_2:M2,areUrlsEqual:D2,unknownTagComparators:void 0};if(n&&(i=R2({},i,n(i))),t){var a=f2(i.areArraysEqual),s=f2(i.areMapsEqual),o=f2(i.areObjectsEqual),l=f2(i.areSetsEqual);i=R2({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(e,m,f){if(e===m)return!0;if(null==e||null==m)return!1;var g=typeof e;if(g!==typeof m)return!1;if("object"!==g)return"number"===g?s(e,m,f):"function"===g&&i(e,m,f);var x=e.constructor;if(x!==m.constructor)return!1;if(x===Object)return o(e,m,f);if(I2(e))return t(e,m,f);if(null!=L2&&L2(e))return u(e,m,f);if(x===Date)return n(e,m,f);if(x===RegExp)return c(e,m,f);if(x===Map)return a(e,m,f);if(x===Set)return d(e,m,f);var b,y=F2(e);if("[object Date]"===y)return n(e,m,f);if("[object RegExp]"===y)return c(e,m,f);if("[object Map]"===y)return a(e,m,f);if("[object Set]"===y)return d(e,m,f);if("[object Object]"===y)return"function"!=typeof e.then&&"function"!=typeof m.then&&o(e,m,f);if("[object URL]"===y)return h(e,m,f);if("[object Error]"===y)return r(e,m,f);if("[object Arguments]"===y)return o(e,m,f);if("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)return l(e,m,f);if(p){var v=p[y];if(!v){var w=null!=(b=e)?b[Symbol.toStringTag]:void 0;w&&(v=p[w])}if(v)return v(e,m,f)}return!1}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(e,s){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return n(e,s,{cache:c,equals:i,meta:d,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(e,t){return n(e,t,s)}}({circular:r,comparator:c,createState:a,equals:i?i(c):(t=c,function(e,n,r,i,a,s,o){return t(e,n,o)}),strict:o})}function z2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function W2(e){return(W2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V2(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=function(e){if(Array.isArray(e))return e}(o=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return U2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U2(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],s=i.slice(1);return"number"==typeof a?void z2(n.bind(null,s),a):(n(a),void z2(n.bind(null,s)))}"object"===W2(r)&&e(r),"function"==typeof r&&r()}var o};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function $2(e){return($2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(t){Y2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==$2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===$2(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}H2({strict:!0}),H2({circular:!0}),H2({circular:!0,strict:!0}),H2({createInternalComparator:function(){return b2}}),H2({strict:!0,createInternalComparator:function(){return b2}}),H2({circular:!0,createInternalComparator:function(){return b2}}),H2({circular:!0,createInternalComparator:function(){return b2},strict:!0});var Q2=function(e){return e},K2=function(e,t){return Object.keys(t).reduce(function(n,r){return G2(G2({},n),{},Y2({},r,e(r,t[r])))},{})},J2=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function X2(e,t){if(e){if("string"==typeof e)return Z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z2(e,t):void 0}}function Z2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var e5=1e-4,t5=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},n5=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},r5=function(e,t){return function(n){var r=t5(e,t);return n5(r,n)}},i5=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,a=t[0],s=t[1],o=t[2],l=t[3];if(1===t.length)switch(t[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:var c=t[0].split("(");if("cubic-bezier"===c[0]&&4===c[1].split(")")[0].split(",").length){var d=(r=c[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),i=4,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(r,i)||X2(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());a=d[0],s=d[1],o=d[2],l=d[3]}}var u,h,p=r5(a,o),m=r5(s,l),f=(u=a,h=o,function(e){var t=t5(u,h),n=[].concat(function(e){return function(e){if(Array.isArray(e))return Z2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X2(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.map(function(e,t){return e*t}).slice(1)),[0]);return n5(n,e)}),g=function(e){return e>1?1:e<0?0:e},x=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=p(n)-t,a=f(n);if(Math.abs(i-t)<e5||a<e5)return m(n);n=g(n-i/a)}return m(n)};return x.isStepper=!1,x};function a5(e){return(a5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s5(e){return function(e){if(Array.isArray(e))return u5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d5(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o5(Object(n),!0).forEach(function(t){c5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a5(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==a5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===a5(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d5(e,t){if(e){if("string"==typeof e)return u5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u5(e,t):void 0}}function u5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h5=function(e,t,n){return e+(t-e)*n},p5=function(e){return e.from!==e.to},m5=function e(t,n,r){var i=K2(function(e,n){if(p5(n)){var r=(s=t(n.from,n.to,n.velocity),o=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(s,o)||d5(s,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1];return l5(l5({},n),{},{from:i,velocity:a})}var s,o;return n},n);return r<1?K2(function(e,t){return p5(t)?l5(l5({},t),{},{velocity:h5(t.velocity,i[e].velocity,r),from:h5(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};function f5(e){return(f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g5=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function x5(e){return function(e){if(Array.isArray(e))return b5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b5(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y5(Object(n),!0).forEach(function(t){w5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w5(e,t,n){return(t=j5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j5(e){var t=function(e,t){if("object"!==f5(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==f5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===f5(t)?t:String(t)}function N5(e,t){return(N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k5(e,t){if(t&&("object"===f5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S5(e)}function S5(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A5(e){return(A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C5=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N5(e,t)}(a,x.PureComponent);var e,t,n,r,i=(e=a,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Dw){return!1}}(),function(){var n,r=A5(e);if(t){var i=A5(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k5(this,n)});function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,e,t)).props,s=r.isActive,o=r.attributeName,l=r.from,c=r.to,d=r.steps,u=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(S5(n)),n.changeStyle=n.changeStyle.bind(S5(n)),!s||h<=0)return n.state={style:{}},"function"==typeof u&&(n.state={style:c}),k5(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"==typeof u)return n.state={style:l},k5(n);n.state={style:o?w5({},o,l):l}}else n.state={style:{}};return n}return n=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(B2(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||a?o:e.to;if(this.state&&l){var u={style:i?w5({},i,d):d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(u)}this.runAnimation(v5(v5({},this.props),{},{from:d,begin:0}))}}else{var h={style:i?w5({},i,s):s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=function(e,t,n,r,i){var a,s,o,l,c=(a=e,s=t,[Object.keys(a),Object.keys(s)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(n,r){return l5(l5({},n),{},c5({},r,[e[r],t[r]]))},{}),u=c.reduce(function(n,r){return l5(l5({},n),{},c5({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){o||(o=r);var a=(r-o)/n.dt;u=m5(n,u,a),i(l5(l5(l5({},e),t),K2(function(e,t){return t.from},u))),o=r,Object.values(u).filter(p5).length&&(h=requestAnimationFrame(p))}:function(a){l||(l=a);var s=(a-l)/r,o=K2(function(e,t){return h5.apply(void 0,s5(t).concat([n(s)]))},d);if(i(l5(l5(l5({},e),t),o)),s<1)h=requestAnimationFrame(p);else{var c=K2(function(e,t){return h5.apply(void 0,s5(t).concat([n(1)]))},d);i(l5(l5(l5({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}}(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i5(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,s=void 0===a?17:a,o=function(e,t,r){var a=r+(-(e-t)*n-r*i)*s/1e3,o=r*s/1e3+e;return Math.abs(o-t)<e5&&Math.abs(a)<e5?[t,0]:[o,a]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===r.split("(")[0])return i5(r)}return"function"==typeof r?r:null}(a),i,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},i,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],s=a.style,o=a.duration,l=void 0===o?0:o;return this.manager.start([i].concat(x5(n.reduce(function(e,r,i){if(0===i)return e;var a=r.duration,s=r.easing,o=void 0===s?"ease":s,l=r.style,c=r.properties,d=r.onAnimationEnd,u=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(x5(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:a,easing:o}),a]);var p=J2(h,a,o),m=v5(v5(v5({},u.style),l),{},{transition:p});return[].concat(x5(e),[m,a,d]).filter(Q2)},[s,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=V2());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!=typeof a&&"function"!=typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var u=r?w5({},r,i):i,h=J2(Object.keys(u),n,a);d.start([s,t,v5(v5({},u),{},{transition:h}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,g5),a=x.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!r||0===a||n<=0)return t;var o=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return x.cloneElement(e,v5(v5({},i),{},{style:v5(v5({},r),s),className:a}))};return 1===a?o(x.Children.only(t)):b.createElement("div",null,x.Children.map(t,function(e){return o(e)}))}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j5(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}();function _5(e){return(_5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E5(){return E5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E5.apply(this,arguments)}function T5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O5(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=_5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=_5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_5(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}C5.displayName="Animate",C5.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},C5.propTypes={from:d2.oneOfType([d2.object,d2.string]),to:d2.oneOfType([d2.object,d2.string]),attributeName:d2.string,duration:d2.number,begin:d2.number,easing:d2.oneOfType([d2.string,d2.func]),steps:d2.arrayOf(d2.shape({duration:d2.number.isRequired,style:d2.object.isRequired,easing:d2.oneOfType([d2.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),d2.func]),properties:d2.arrayOf("string"),onAnimationEnd:d2.func})),children:d2.oneOfType([d2.node,d2.func]),isActive:d2.bool,canBegin:d2.bool,onAnimationEnd:d2.func,shouldReAnimate:d2.bool,onAnimationStart:d2.func,onAnimationReStart:d2.func};var D5=function(e,t,n,r,i){var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=i[u]>s?s:i[u];a="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(a+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),a+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(a+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*d[1])),a+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(a+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+r)),a+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(a+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*d[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},P5=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,a=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(i,i+s),c=Math.max(i,i+s),d=Math.min(a,a+o),u=Math.max(a,a+o);return n>=l&&n<=c&&r>=d&&r<=u}return!1},I5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L5=function(e){var t,n,r=M5(M5({},I5),e),i=x.useRef(),a=(t=x.useState(-1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return T5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T5(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],o=a[1];x.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var e=i.current.getTotalLength();e&&o(e)}catch(t){}},[]);var l=r.x,c=r.y,d=r.width,u=r.height,h=r.radius,p=r.className,m=r.animationEasing,f=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||0===d||0===u)return null;var w=th("recharts-rectangle",p);return v?b.createElement(C5,{canBegin:s>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:f,animationEasing:m,isActive:v},function(e){var t=e.width,n=e.height,a=e.x,o=e.y;return b.createElement(C5,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:y,easing:m},b.createElement("path",E5({},bH(r,!0),{className:w,d:D5(a,o,t,n,h),ref:i})))}):b.createElement("path",E5({},bH(r,!0),{className:w,d:D5(l,c,d,u,h)}))},R5=["points","className","baseLinePoints","connectNulls"];function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F5.apply(this,arguments)}function B5(e){return function(e){if(Array.isArray(e))return H5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return H5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H5(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z5=function(e){return e&&e.x===+e.x&&e.y===+e.y},W5=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){z5(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),z5(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(B5(e),B5(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},U5=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,i=e.connectNulls,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,R5);if(!t||!t.length)return null;var s=th("recharts-polygon",n);if(r&&r.length){var o=a.stroke&&"none"!==a.stroke,l=function(e,t,n){var r=W5(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(W5(t.reverse(),n).slice(1))}(t,r,i);return b.createElement("g",{className:s},b.createElement("path",F5({},bH(a,!0),{fill:"Z"===l.slice(-1)?a.fill:"none",stroke:"none",d:l})),o?b.createElement("path",F5({},bH(a,!0),{fill:"none",d:W5(t,i)})):null,o?b.createElement("path",F5({},bH(a,!0),{fill:"none",d:W5(r,i)})):null)}var c=W5(t,i);return b.createElement("path",F5({},bH(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",className:s,d:c}))};function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V5.apply(this,arguments)}var $5=function(e){var t=e.cx,n=e.cy,r=e.r,i=th("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?x.createElement("circle",V5({},bH(e,!1),nH(e),{className:i,cx:t,cy:n,r:r})):null};function q5(e){return(q5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var G5=["x","y","top","left","width","height","className"];function Y5(){return Y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y5.apply(this,arguments)}function Q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K5,J5,X5=function(e,t,n,r,i,a){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},Z5=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,a=e.top,s=void 0===a?0:a,o=e.left,l=void 0===o?0:o,c=e.width,d=void 0===c?0:c,u=e.height,h=void 0===u?0:u,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q5(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=q5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=q5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==q5(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:i,top:s,left:l,width:d,height:h},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,G5));return zB(n)&&zB(i)&&zB(d)&&zB(h)&&zB(s)&&zB(l)?b.createElement("path",Y5({},bH(m,!0),{className:th("recharts-cross",p),d:X5(n,i,d,h,s,l)})):null};const e4=a(function(){if(J5)return K5;J5=1;var e=ZX(),t=eZ(),n=v$();return K5=function(r,i){return r&&r.length?e(r,n(i,2),t):void 0}}());var t4,n4;const r4=a(function(){if(n4)return t4;n4=1;var e=ZX(),t=v$(),n=sZ();return t4=function(r,i){return r&&r.length?e(r,t(i,2),n):void 0}}());var i4=["cx","cy","angle","ticks","axisLine"],a4=["ticks","tick","angle","tickFormatter","stroke"];function s4(e){return(s4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o4(){return o4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o4.apply(this,arguments)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(t){f4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g4(r.key),r)}}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h4=function(){return!!e})()}function p4(e){return(p4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m4(e,t){return(m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f4(e,t,n){return(t=g4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g4(e){var t=function(e){if("object"!=s4(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s4(t)?t:t+""}var x4=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=p4(t),function(e,t){if(t&&("object"===s4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h4()?Reflect.construct(t,n||[],p4(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m4(e,t)}(e,x.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return b.isValidElement(e)?b.cloneElement(e,t):SB(e)?e(t):b.createElement(mY,o4({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,a=n.cy;return h1(i,a,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=e4(i,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:r4(i,function(e){return e.coordinate||0}).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=e.axisLine,s=d4(e,i4),o=i.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=h1(t,n,o[0],r),c=h1(t,n,o[1],r),d=c4(c4(c4({},bH(s,!1)),{},{fill:"none"},bH(a,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return b.createElement("line",o4({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,a=n.angle,s=n.tickFormatter,o=n.stroke,l=d4(n,a4),c=this.getTickTextAnchor(),d=bH(l,!1),u=bH(i,!1),h=r.map(function(n,r){var l=t.getTickValueCoord(n),h=c4(c4(c4(c4({textAnchor:c,transform:"rotate(".concat(90-a,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:o},u),{},{index:r},l),{},{payload:n});return b.createElement(UH,o4({className:th("recharts-polar-radius-axis-tick",g1(i)),key:"tick-".concat(n.coordinate)},rH(t.props,n,r)),e.renderTickItem(i,h,s?s(n.value,r):n.value))});return b.createElement(UH,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?b.createElement(UH,{className:th("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),N1.renderCallByParent(this.props,this.getViewBox())):null}}])&&u4(t.prototype,n),r&&u4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function b4(e){return(b4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y4.apply(this,arguments)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(t){A4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C4(r.key),r)}}function N4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(N4=function(){return!!e})()}function k4(e){return(k4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S4(e,t){return(S4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A4(e,t,n){return(t=C4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C4(e){var t=function(e){if("object"!=b4(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b4(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b4(t)?t:t+""}f4(x4,"displayName","PolarRadiusAxis"),f4(x4,"axisType","radiusAxis"),f4(x4,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var _4,E4,T4,O4,M4=Math.PI/180,D4=1e-5,P4=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=k4(t),function(e,t){if(t&&("object"===b4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N4()?Reflect.construct(t,n||[],k4(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S4(e,t)}(e,x.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return b.isValidElement(e)?b.cloneElement(e,t):SB(e)?e(t):b.createElement(mY,y4({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,a=t.orientation,s=t.tickSize||8,o=h1(n,r,i,e.coordinate),l=h1(n,r,i+("inner"===a?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*M4);return n>D4?"outer"===t?"start":"end":n<-D4?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,i=e.axisLine,a=e.axisLineType,s=w4(w4({},bH(this.props,!1)),{},{fill:"none"},bH(i,!1));if("circle"===a)return b.createElement($5,y4({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:r}));var o=this.props.ticks.map(function(e){return h1(t,n,r,e.coordinate)});return b.createElement(U5,y4({className:"recharts-polar-angle-axis-line"},s,{points:o}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,i=n.tick,a=n.tickLine,s=n.tickFormatter,o=n.stroke,l=bH(this.props,!1),c=bH(i,!1),d=w4(w4({},l),{},{fill:"none"},bH(a,!1)),u=r.map(function(n,r){var u=t.getTickLineCoord(n),h=w4(w4(w4({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:o},c),{},{index:r,payload:n,x:u.x2,y:u.y2});return b.createElement(UH,y4({className:th("recharts-polar-angle-axis-tick",g1(i)),key:"tick-".concat(n.coordinate)},rH(t.props,n,r)),a&&b.createElement("line",y4({className:"recharts-polar-angle-axis-tick-line"},d,u)),i&&e.renderTickItem(i,h,s?s(n.value,r):n.value))});return b.createElement(UH,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:b.createElement(UH,{className:th("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&j4(t.prototype,n),r&&j4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();A4(P4,"displayName","PolarAngleAxis"),A4(P4,"axisType","angleAxis"),A4(P4,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const I4=a(function(){if(O4)return T4;O4=1;var e=KF(),t=function(){if(E4)return _4;E4=1;var e=d$()(Object.getPrototypeOf,Object);return _4=e}(),n=JF(),r=Function.prototype,i=Object.prototype,a=r.toString,s=i.hasOwnProperty,o=a.call(Object);return T4=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var i=t(r);if(null===i)return!0;var l=s.call(i,"constructor")&&i.constructor;return"function"==typeof l&&l instanceof l&&a.call(l)==o}}());var L4,R4;const F4=a(function(){if(R4)return L4;R4=1;var e=KF(),t=JF();return L4=function(n){return!0===n||!1===n||t(n)&&"[object Boolean]"==e(n)}}());function B4(e){return(B4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H4.apply(this,arguments)}function z4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=B4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=B4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==B4(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V4,$4=function(e,t,n,r,i){var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),(a+="L ".concat(e+n-s/2-r,",").concat(t+i))+"L ".concat(e,",").concat(t," Z")},q4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G4=function(e){var t,n,r=U4(U4({},q4),e),i=x.useRef(),a=(t=x.useState(-1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z4(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],o=a[1];x.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var e=i.current.getTotalLength();e&&o(e)}catch(t){}},[]);var l=r.x,c=r.y,d=r.upperWidth,u=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,f=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||h!==+h||0===d&&0===u||0===h)return null;var v=th("recharts-trapezoid",p);return y?b.createElement(C5,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:h,x:l,y:c},duration:f,animationEasing:m,isActive:y},function(e){var t=e.upperWidth,n=e.lowerWidth,a=e.height,o=e.x,l=e.y;return b.createElement(C5,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:m},b.createElement("path",H4({},bH(r,!0),{className:v,d:$4(o,l,t,n,a),ref:i})))}):b.createElement("g",null,b.createElement("path",H4({},bH(r,!0),{className:v,d:$4(l,c,d,u,h)})))},Y4=["option","shapeType","propTransformer","activeClassName","isActive"];function Q4(e){return(Q4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=Q4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Q4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Q4(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X4(e,t){return J4(J4({},t),e)}function Z4(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return b.createElement(L5,n);case"trapezoid":return b.createElement(G4,n);case"sector":return b.createElement($1,n);case"symbols":if(function(e){return"symbols"===e}(t))return b.createElement(iW,n);break;default:return null}}function e3(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,a=void 0===i?X4:i,s=e.activeClassName,o=void 0===s?"recharts-active-shape":s,l=e.isActive,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Y4);if(x.isValidElement(n))t=x.cloneElement(n,J4(J4({},c),function(e){return x.isValidElement(e)?e.props:e}(n)));else if(SB(n))t=n(c);else if(I4(n)&&!F4(n)){var d=a(n,c);t=b.createElement(Z4,{shapeType:r,elementProps:d})}else{var u=c;t=b.createElement(Z4,{shapeType:r,elementProps:u})}return l?b.createElement(UH,{className:o},t):t}function t3(e,t){return null!=t&&"trapezoids"in e.props}function n3(e,t){return null!=t&&"sectors"in e.props}function r3(e,t){return null!=t&&"points"in e.props}function i3(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&a}function a3(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function s3(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function o3(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return t3(e,t)?n="trapezoids":n3(e,t)?n="sectors":r3(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,r;return t3(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:n3(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:r3(e,t)?t.payload:{}}(n,t),s=r.filter(function(e,r){var s=fZ(a,e),o=n.props[i].filter(function(e){var r=function(e,t){var n;return t3(e,t)?n=i3:n3(e,t)?n=a3:r3(e,t)&&(n=s3),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(o[o.length-1]);return s&&r===l});return r.indexOf(s[s.length-1])}function l3(e){return(l3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c3(){return c3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c3.apply(this,arguments)}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(t){g3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x3(r.key),r)}}function p3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p3=function(){return!!e})()}function m3(e){return(m3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f3(e,t){return(f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g3(e,t,n){return(t=x3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x3(e){var t=function(e){if("object"!=l3(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l3(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l3(t)?t:t+""}var b3,y3,v3,w3,j3,N3,k3,S3,A3=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g3(n=function(e,t,n){return t=m3(t),function(e,t){if(t&&("object"===l3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p3()?Reflect.construct(t,n||[],m3(e).constructor):t.apply(e,n))}(this,e,[t]),"pieRef",null),g3(n,"sectorRefs",[]),g3(n,"id",VB("recharts-pie-")),g3(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),SB(e)&&e()}),g3(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),SB(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f3(e,t)}(e,x.PureComponent),t=e,n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,i=n.labelLine,a=n.dataKey,s=n.valueKey,o=bH(this.props,!1),l=bH(r,!1),c=bH(i,!1),d=r&&r.offsetRadius||20,u=t.map(function(t,n){var u=(t.startAngle+t.endAngle)/2,h=h1(t.cx,t.cy,t.outerRadius+d,u),p=u3(u3(u3(u3({},o),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(h.x,t.cx)},h),m=u3(u3(u3(u3({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[h1(t.cx,t.cy,t.outerRadius,u),h]}),f=a;return wB(a)&&wB(s)?f="value":wB(a)&&(f=s),b.createElement(UH,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},i&&e.renderLabelLineItem(i,m,"line"),e.renderLabelItem(r,p,P0(t,f)))});return b.createElement(UH,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,i=n.blendStroke,a=n.inactiveShape;return e.map(function(n,s){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(s),l=a&&t.hasActiveIndex()?a:null,c=o?r:l,d=u3(u3({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return b.createElement(UH,c3({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},rH(t.props,n,s),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),b.createElement(e3,c3({option:c,isActive:o,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,i=t.animationBegin,a=t.animationDuration,s=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return b.createElement(C5,{begin:i,duration:a,isActive:r,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,i=[],a=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],s=t>0?bB(e,"paddingAngle",0):0;if(n){var o=GB(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=u3(u3({},e),{},{startAngle:a+s,endAngle:a+o(r)+s});i.push(l),a=l.endAngle}else{var d=e.endAngle,u=e.startAngle,h=GB(0,d-u)(r),p=u3(u3({},e),{},{startAngle:a+s,endAngle:a+h+s});i.push(p),a=p.endAngle}}),b.createElement(UH,null,e.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&fZ(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,i=t.className,a=t.label,s=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,u=this.state.isAnimationFinished;if(n||!r||!r.length||!zB(s)||!zB(o)||!zB(l)||!zB(c))return null;var h=th("recharts-pie",i);return b.createElement(UH,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(r),N1.renderCallByParent(this.props,null,!1),(!d||u)&&R1.renderCallByParent(this.props,r,!1))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(b.isValidElement(e))return b.cloneElement(e,t);if(SB(e))return e(t);var r=th("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return b.createElement(a2,c3({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(SB(e)&&(r=e(t),b.isValidElement(r)))return r;var i=th("recharts-pie-label-text","boolean"==typeof e||SB(e)?"":e.className);return b.createElement(mY,c3({},t,{alignmentBaseline:"middle",className:i}),r)}}],n&&h3(t.prototype,n),r&&h3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function C3(){if(w3)return v3;w3=1;var e=CG(),t=1/0;return v3=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}V4=A3,g3(A3,"displayName","Pie"),g3(A3,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!iG,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),g3(A3,"parseDeltaAngle",function(e,t){return BB(t-e)*Math.min(Math.abs(t-e),360)}),g3(A3,"getRealPieData",function(e){var t=e.data,n=e.children,r=bH(e,!1),i=pH(n,PG);return t&&t.length?t.map(function(e,t){return u3(u3(u3({payload:e},r),e),i&&i[t]&&i[t].props)}):i&&i.length?i.map(function(e){return u3(u3({},r),e.props)}):[]}),g3(A3,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,s=p1(i,a);return{cx:r+$B(e.cx,i,i/2),cy:n+$B(e.cy,a,a/2),innerRadius:$B(e.innerRadius,s,0),outerRadius:$B(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(i*i+a*a)/2}}),g3(A3,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?u3(u3({},t.type.defaultProps),t.props):t.props,i=V4.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=V4.parseCoordinateOfPie(r,n),f=V4.parseDeltaAngle(s,o),g=Math.abs(f),x=c;wB(c)&&wB(u)?(VH(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):wB(c)&&(VH(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=u);var b,y,v=i.filter(function(e){return 0!==P0(e,x,0)}).length,w=g-v*p-(g>=360?v:v-1)*l,j=i.reduce(function(e,t){var n=P0(t,x,0);return e+(zB(n)?n:0)},0);return j>0&&(b=i.map(function(e,t){var n,r=P0(e,x,0),i=P0(e,d,t),o=(zB(r)?r:0)/j,c=(n=t?y.endAngle+BB(f)*l*(0!==r?1:0):s)+BB(f)*((0!==r?p:0)+o*w),u=(n+c)/2,g=(m.innerRadius+m.outerRadius)/2,b=[{name:i,value:r,payload:e,dataKey:x,type:h}],v=h1(m.cx,m.cy,g,u);return y=u3(u3(u3({percent:o,cornerRadius:a,name:i,tooltipPayload:b,midAngle:u,middleRadius:g,tooltipPosition:v},e),m),{},{value:P0(e,x),startAngle:n,endAngle:c,payload:e,paddingAngle:BB(f)*l})})),u3(u3({},m),{},{sectors:b,data:i})});const _3=a(function(){if(S3)return k3;S3=1;var e=function(){if(N3)return j3;N3=1;var e=function(){if(y3)return b3;y3=1;var e=Math.ceil,t=Math.max;return b3=function(n,r,i,a){for(var s=-1,o=t(e((r-n)/(i||1)),0),l=Array(o);o--;)l[a?o:++s]=n,n+=i;return l}}(),t=Pq(),n=C3();return j3=function(r){return function(i,a,s){return s&&"number"!=typeof s&&t(i,a,s)&&(a=s=void 0),i=n(i),void 0===a?(a=i,i=0):a=n(a),s=void 0===s?i<a?1:-1:n(s),e(i,a,s,r)}}}()();return k3=e}());function E3(e){return(E3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(t){M3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M3(e,t,n){return t=function(e){var t=function(e,t){if("object"!=E3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=E3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==E3(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D3=["Webkit","Moz","O","ms"];function P3(e){return(P3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I3(){return I3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I3.apply(this,arguments)}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(t){W3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U3(r.key),r)}}function B3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(B3=function(){return!!e})()}function H3(e){return(H3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z3(e,t){return(z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W3(e,t,n){return(t=U3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U3(e){var t=function(e){if("object"!=P3(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P3(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P3(t)?t:t+""}var V3,$3,q3,G3,Y3=function(e){return e.changedTouches&&!!e.changedTouches.length},Q3=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),W3(n=function(e,t,n){return t=H3(t),function(e,t){if(t&&("object"===P3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B3()?Reflect.construct(t,n||[],H3(e).constructor):t.apply(e,n))}(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),W3(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),W3(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),W3(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),W3(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),W3(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),W3(n,"handleSlideDragStart",function(e){var t=Y3(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}(e,x.PureComponent),t=e,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,a=this.props,s=a.gap,o=a.data.length-1,l=Math.min(n,r),c=Math.max(n,r),d=e.getIndexInRange(i,l),u=e.getIndexInRange(i,c);return{startIndex:d-d%s,endIndex:u===o?o:u-u%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,a=P0(n[e],i,e);return SB(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,a=this.props,s=a.x,o=a.width,l=a.travellerWidth,c=a.startIndex,d=a.endIndex,u=a.onChange,h=e.pageX-n;h>0?h=Math.min(h,s+o-l-i,s+o-l-r):h<0&&(h=Math.max(h,s-r,s-i));var p=this.getIndex({startX:r+h,endX:i+h});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Y3(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,a=t.startX,s=this.state[r],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,h=o.gap,p=o.data,m={startX:this.state.startX,endX:this.state.endX},f=e.pageX-n;f>0?f=Math.min(f,l+c-d-s):f<0&&(f=Math.max(f,l-s)),m[r]=s+f;var g=this.getIndex(m),x=g.startIndex,b=g.endIndex;this.setState(W3(W3({},r,s+f),"brushMoveStartX",e.pageX),function(){var e;u&&(e=p.length-1,("startX"===r&&(i>a?x%h===0:b%h===0)||i<a&&b===e||"endX"===r&&(i>a?b%h===0:x%h===0)||i>a&&b===e)&&u(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,a=r.startX,s=r.endX,o=this.state[t],l=i.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var d=i[c];"startX"===t&&d>=s||"endX"===t&&d<=a||this.setState(W3({},t,d),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,a=e.fill,s=e.stroke;return b.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,a=e.data,s=e.children,o=e.padding,l=x.Children.only(s);return l?b.cloneElement(l,{x:t,y:n,width:r,height:i,margin:o,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,a=this,s=this.props,o=s.y,l=s.travellerWidth,c=s.height,d=s.traveller,u=s.ariaLabel,h=s.data,p=s.startIndex,m=s.endIndex,f=Math.max(t,this.props.x),g=R3(R3({},bH(this.props,!1)),{},{x:f,y:o,width:l,height:c}),x=u||"Min value: ".concat(null===(r=h[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=h[m])||void 0===i?void 0:i.name);return b.createElement(UH,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,a=n.stroke,s=n.travellerWidth,o=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return b.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:o,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,a=e.travellerWidth,s=e.stroke,o=this.state,l=o.startX,c=o.endX,d={pointerEvents:"none",fill:s};return b.createElement(UH,{className:"recharts-brush-texts"},b.createElement(mY,I3({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},d),this.getTextOfTick(t)),b.createElement(mY,I3({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+a+5,y:r+i/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,a=e.y,s=e.width,o=e.height,l=e.alwaysShowText,c=this.state,d=c.startX,u=c.endX,h=c.isTextActive,p=c.isSlideMoving,m=c.isTravellerMoving,f=c.isTravellerFocused;if(!t||!t.length||!zB(i)||!zB(a)||!zB(s)||!zB(o)||s<=0||o<=0)return null;var g,x,y,v,w=th("recharts-brush",n),j=1===b.Children.count(r),N=(x="none",y=(g="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(v=D3.reduce(function(e,t){return O3(O3({},e),{},M3({},t+y,x))},{}))[g]=x,v);return b.createElement(UH,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(d,u),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(u,"endX"),(h||p||m||f||l)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.stroke,s=Math.floor(n+i/2)-1;return b.createElement(b.Fragment,null,b.createElement("rect",{x:t,y:n,width:r,height:i,fill:a,stroke:"none"}),b.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),b.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return b.isValidElement(t)?b.cloneElement(t,n):SB(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,a=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return R3({prevData:n,prevTravellerWidth:a,prevUpdateId:s,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,a=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=UY().domain(_3(0,o)).range([i,i+a-s]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:a,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([i,i+r-a]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:a,prevUpdateId:s,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&F3(t.prototype,n),r&&F3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();W3(Q3,"displayName","Brush"),W3(Q3,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const K3=a(function(){if(G3)return q3;G3=1;var e=uU(),t=v$(),n=function(){if($3)return V3;$3=1;var e=Eq();return V3=function(t,n){var r;return e(t,function(e,t,i){return!(r=n(e,t,i))}),!!r}}(),r=qF(),i=Pq();return q3=function(a,s,o){var l=r(a)?e:n;return o&&i(a,s,o)&&(s=void 0),l(a,t(s,3))}}());var J3,X3,Z3,e6,t6=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t};const n6=a(function(){if(e6)return Z3;e6=1;var e=function(){if(X3)return J3;X3=1;var e=Mq();return J3=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}(),t=_q(),n=v$();return Z3=function(r,i){var a={};return i=n(i,3),t(r,function(t,n,r){e(a,n,i(t,n,r))}),a}}());var r6,i6,a6,s6,o6,l6;const c6=a(function(){if(l6)return o6;l6=1;var e=i6?r6:(i6=1,r6=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}),t=function(){if(s6)return a6;s6=1;var e=Eq();return a6=function(t,n){var r=!0;return e(t,function(e,t,i){return r=!!n(e,t,i)}),r}}(),n=v$(),r=qF(),i=Pq();return o6=function(a,s,o){var l=r(a)?e:t;return o&&i(a,s,o)&&(s=void 0),l(a,n(s,3))}}());var d6=["x","y"];function u6(e){return(u6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h6(){return h6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h6.apply(this,arguments)}function p6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p6(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=u6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=u6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==u6(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f6(e,t){var n=e.x,r=e.y,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,d6),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),d=parseInt(c,10),u="".concat(t.width||i.width),h=parseInt(u,10);return m6(m6(m6(m6(m6({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function g6(e){return b.createElement(e3,h6({shapeType:"rectangle",propTransformer:f6,activeClassName:"recharts-active-bar"},e))}var x6,b6=["value","background"];function y6(e){return(y6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v6(){return v6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v6.apply(this,arguments)}function w6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w6(Object(n),!0).forEach(function(t){C6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_6(r.key),r)}}function k6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k6=function(){return!!e})()}function S6(e){return(S6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A6(e,t){return(A6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C6(e,t,n){return(t=_6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e){var t=function(e){if("object"!=y6(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y6(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y6(t)?t:t+""}var E6=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return C6(t=function(e,t,n){return t=S6(t),function(e,t){if(t&&("object"===y6(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k6()?Reflect.construct(t,n||[],S6(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),C6(t,"id",VB("recharts-bar-")),C6(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),C6(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A6(e,t)}(e,x.PureComponent),t=e,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,a=n.activeIndex,s=n.activeBar,o=bH(this.props,!1);return e&&e.map(function(e,n){var l=n===a,c=l?s:r,d=j6(j6(j6({},o),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return b.createElement(UH,v6({className:"recharts-bar-rectangle"},rH(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),b.createElement(g6,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return b.createElement(C5,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,a=n.map(function(e,t){var n=c&&c[t];if(n){var a=GB(n.x,e.x),s=GB(n.y,e.y),o=GB(n.width,e.width),l=GB(n.height,e.height);return j6(j6({},e),{},{x:a(i),y:s(i),width:o(i),height:l(i)})}if("horizontal"===r){var d=GB(0,e.height)(i);return j6(j6({},e),{},{y:e.y+e.height-d,height:d})}var u=GB(0,e.width)(i);return j6(j6({},e),{},{width:u})});return b.createElement(UH,null,e.renderRectanglesStatically(a))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&fZ(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,a=bH(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,b6);if(!s)return null;var l=j6(j6(j6(j6(j6({},o),{},{fill:"#eee"},s),a),rH(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return b.createElement(g6,v6({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,a=n.yAxis,s=n.layout,o=pH(n.children,N0);if(!o)return null;var l="vertical"===s?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:P0(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return b.createElement(UH,d,o.map(function(e){return b.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:a,layout:s,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,a=e.yAxis,s=e.left,o=e.top,l=e.width,c=e.height,d=e.isAnimationActive,u=e.background,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=th("recharts-bar",r),f=i&&i.allowDataOverflow,g=a&&a.allowDataOverflow,x=f||g,y=wB(h)?this.id:h;return b.createElement(UH,{className:m},f||g?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(y)},b.createElement("rect",{x:f?s:s-l/2,y:g?o:o-c/2,width:f?l:2*l,height:g?c:2*c}))):null,b.createElement(UH,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(y,")"):null},u?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,y),(!d||p)&&R1.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&N6(t.prototype,n),r&&N6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function T6(e){return(T6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I6(r.key),r)}}function M6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M6(Object(n),!0).forEach(function(t){P6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P6(e,t,n){return(t=I6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I6(e){var t=function(e,t){if("object"!=T6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=T6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==T6(t)?t:t+""}x6=E6,C6(E6,"displayName","Bar"),C6(E6,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!iG,animationBegin:0,animationDuration:400,animationEasing:"ease"}),C6(E6,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var m=t.layout,f=n.type.defaultProps,g=void 0!==f?j6(j6({},f),n.props):n.props,x=g.dataKey,b=g.children,y=g.minPointSize,v="horizontal"===m?s:a,w=c?v.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:v}),N=pH(b,PG),k=u.map(function(e,t){var r,u,h,f,g,b;c?r=function(e,t){if(!t||2!==t.length||!zB(t[0])||!zB(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!zB(e[0])||e[0]<n)&&(i[0]=n),(!zB(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[d+t],w):(r=P0(e,x),Array.isArray(r)||(r=[j,r]));var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i=zB(n)||function(e){return wB(e)}(n);return i?e(n,r):(i||p0(),t)}}(y,x6.defaultProps.minPointSize)(r[1],t);if("horizontal"===m){var k,S=[s.scale(r[0]),s.scale(r[1])],A=S[0],C=S[1];u=J0({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:e,index:t}),h=null!==(k=null!=C?C:A)&&void 0!==k?k:void 0,f=p.size;var _=A-C;if(g=Number.isNaN(_)?0:_,b={x:u,y:s.y,width:f,height:s.height},Math.abs(v)>0&&Math.abs(g)<Math.abs(v)){var E=BB(g||v)*(Math.abs(v)-Math.abs(g));h-=E,g+=E}}else{var T=[a.scale(r[0]),a.scale(r[1])],O=T[0],M=T[1];u=O,h=J0({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),f=M-O,g=p.size,b={x:a.x,y:h,width:a.width,height:g},Math.abs(v)>0&&Math.abs(f)<Math.abs(v)&&(f+=BB(f||v)*(Math.abs(v)-Math.abs(f)))}return j6(j6(j6({},e),{},{x:u,y:h,width:f,height:g,value:c?r:r[1],payload:e,background:b},N&&N[t]&&N[t].props),{},{tooltipPayload:[i1(n,e)],tooltipPosition:{x:u+f/2,y:h+g/2}})});return j6({data:k,layout:m},h)});var L6=function(e,t,n,r,i){var a=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},u=!!mH(l,E6);return c.reduce(function(a,s){var l,c,h,p,m,f=t[s],g=f.orientation,x=f.domain,b=f.padding,y=void 0===b?{}:b,v=f.mirror,w=f.reversed,j="".concat(g).concat(v?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=x[1]-x[0],k=1/0,S=f.categoricalDomain.sort(QB);if(S.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))}),Number.isFinite(k)){var A=k/N,C="vertical"===f.layout?n.height:n.width;if("gap"===f.padding&&(l=A*C/2),"no-gap"===f.padding){var _=$B(e.barCategoryGap,A*C),E=A*C/2;l=E-_-(E-_)/C*_}}}c="xAxis"===r?[n.left+(y.left||0)+(l||0),n.left+n.width-(y.right||0)-(l||0)]:"yAxis"===r?"horizontal"===o?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(l||0),n.top+n.height-(y.bottom||0)-(l||0)]:f.range,w&&(c=[c[1],c[0]]);var T=V0(f,i,u),O=T.scale,M=T.realScaleType;O.domain(x).range(c),q0(O);var D=Q0(O,D6(D6({},f),{},{realScaleType:M}));"xAxis"===r?(m="top"===g&&!v||"bottom"===g&&v,h=n.left,p=d[j]-m*f.height):"yAxis"===r&&(m="left"===g&&!v||"right"===g&&v,h=d[j]-m*f.width,p=n.top);var P=D6(D6(D6({},f),D),{},{realScaleType:M,x:h,y:p,scale:O,width:"xAxis"===r?n.width:f.width,height:"yAxis"===r?n.height:f.height});return P.bandSize=n1(P,D),f.hide||"xAxis"!==r?f.hide||(d[j]+=(m?-1:1)*P.width):d[j]+=(m?-1:1)*P.height,D6(D6({},a),{},P6({},s,P))},{})},R6=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},F6=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&O6(t.prototype,n),r&&O6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();P6(F6,"EPS",1e-4);var B6,H6,z6,W6,U6,V6,$6,q6,G6=function(e){var t=Object.keys(e).reduce(function(t,n){return D6(D6({},t),{},P6({},n,F6.create(e[n])))},{});return D6(D6({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return n6(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return c6(e,function(e,n){return t[n].isInRange(e)})}})};const Y6=a(function(){if(q6)return $6;q6=1;var e=function(){if(H6)return B6;H6=1;var e=v$(),t=u$(),n=h$();return B6=function(r){return function(i,a,s){var o=Object(i);if(!t(i)){var l=e(a,3);i=n(i),a=function(e){return l(o[e],e,o)}}var c=r(i,a,s);return c>-1?o[l?i[c]:c]:void 0}}}()(function(){if(V6)return U6;V6=1;var e=w$(),t=v$(),n=function(){if(W6)return z6;W6=1;var e=C3();return z6=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return U6=function(i,a,s){var o=null==i?0:i.length;if(!o)return-1;var l=null==s?0:n(s);return l<0&&(l=r(o+l,0)),e(i,t(a,3),l)}}());return $6=e}());var Q6=a(uB())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),K6=x.createContext(void 0),J6=x.createContext(void 0),X6=x.createContext(void 0),Z6=x.createContext({}),e7=x.createContext(void 0),t7=x.createContext(0),n7=x.createContext(0),r7=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,a=e.clipPathId,s=e.children,o=e.width,l=e.height,c=Q6(i);return b.createElement(K6.Provider,{value:n},b.createElement(J6.Provider,{value:r},b.createElement(Z6.Provider,{value:i},b.createElement(X6.Provider,{value:c},b.createElement(e7.Provider,{value:a},b.createElement(t7.Provider,{value:l},b.createElement(n7.Provider,{value:o},s)))))))},i7=function(e){var t=x.useContext(K6);null==t&&p0();var n=t[e];return null==n&&p0(),n},a7=function(e){var t=x.useContext(J6);null==t&&p0();var n=t[e];return null==n&&p0(),n},s7=function(){return x.useContext(n7)},o7=function(){return x.useContext(t7)};function l7(e){return(l7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c7=function(){return!!e})()}function d7(e){return(d7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u7(e,t){return(u7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h7(Object(n),!0).forEach(function(t){m7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m7(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=function(e){if("object"!=l7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l7(t)?t:t+""}function g7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x7(){return x7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x7.apply(this,arguments)}function b7(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=x.useContext(e7),d=i7(i),u=a7(a),h=x.useContext(X6);if(!c||!h)return null;VH(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,a,s,o,l){var c=i.x,d=i.y,u=i.width,h=i.height;if(n){var p=l.y,m=e.y.apply(p,{position:a});if(t6(l,"discard")&&!e.y.isInRange(m))return null;var f=[{x:c+u,y:m},{x:c,y:m}];return"left"===o?f.reverse():f}if(t){var g=l.x,x=e.x.apply(g,{position:a});if(t6(l,"discard")&&!e.x.isInRange(x))return null;var b=[{x:x,y:d+h},{x:x,y:d}];return"top"===s?b.reverse():b}if(r){var y=l.segment.map(function(t){return e.apply(t,{position:a})});return t6(l,"discard")&&K3(y,function(t){return!e.isInRange(t)})?null:y}return null}(G6({x:d.scale,y:u.scale}),WB(t),WB(n),r&&2===r.length,h,e.position,d.orientation,u.orientation,e);if(!p)return null;var m,f,g,y=(f=2,function(e){if(Array.isArray(e))return e}(m=p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(m,f)||function(e,t){if(e){if("string"==typeof e)return g7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g7(e,t):void 0}}(m,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],w=v.x,j=v.y,N=y[1],k=N.x,S=N.y,A=p7(p7({clipPath:t6(e,"hidden")?"url(#".concat(c,")"):void 0},bH(e,!0)),{},{x1:w,y1:j,x2:k,y2:S});return b.createElement(UH,{className:th("recharts-reference-line",o)},function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):SB(e)?e(t):b.createElement("line",x7({},t,{className:"recharts-reference-line-line"}))}(s,A),N1.renderCallByParent(e,R6({x:(g={x1:w,y1:j,x2:k,y2:S}).x1,y:g.y1},{x:g.x2,y:g.y2})))}var y7=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=d7(t),function(e,t){if(t&&("object"===l7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c7()?Reflect.construct(t,n||[],d7(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u7(e,t)}(e,b.Component),t=e,(n=[{key:"render",value:function(){return b.createElement(b7,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f7(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function v7(){return v7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v7.apply(this,arguments)}function w7(e){return(w7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j7(Object(n),!0).forEach(function(t){C7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k7=function(){return!!e})()}function S7(e){return(S7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A7(e,t){return(A7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C7(e,t,n){return(t=_7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _7(e){var t=function(e){if("object"!=w7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w7(t)?t:t+""}m7(y7,"displayName","ReferenceLine"),m7(y7,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var E7=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=S7(t),function(e,t){if(t&&("object"===w7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k7()?Reflect.construct(t,n||[],S7(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A7(e,t)}(e,b.Component),t=e,(n=[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,a=t.alwaysShow,s=t.clipPathId,o=WB(n),l=WB(r);if(VH(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,a=G6({x:r.scale,y:i.scale}),s=a.apply({x:t,y:n},{bandAware:!0});return t6(e,"discard")&&!a.isInRange(s)?null:s}(this.props);if(!c)return null;var d=c.x,u=c.y,h=this.props,p=h.shape,m=h.className,f=N7(N7({clipPath:t6(this.props,"hidden")?"url(#".concat(s,")"):void 0},bH(this.props,!0)),{},{cx:d,cy:u});return b.createElement(UH,{className:th("recharts-reference-dot",m)},e.renderDot(p,f),N1.renderCallByParent(this.props,{x:d-i,y:u-i,width:2*i,height:2*i}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_7(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function T7(){return T7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T7.apply(this,arguments)}function O7(e){return(O7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M7(Object(n),!0).forEach(function(t){R7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P7=function(){return!!e})()}function I7(e){return(I7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L7(e,t){return(L7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=function(e){if("object"!=O7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=O7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O7(t)?t:t+""}C7(E7,"displayName","ReferenceDot"),C7(E7,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),C7(E7,"renderDot",function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):SB(e)?e(t):b.createElement($5,v7({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var B7=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=I7(t),function(e,t){if(t&&("object"===O7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P7()?Reflect.construct(t,n||[],I7(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L7(e,t)}(e,b.Component),t=e,(n=[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,a=t.y2,s=t.className,o=t.alwaysShow,l=t.clipPathId;VH(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=WB(n),d=WB(r),u=WB(i),h=WB(a),p=this.props.shape;if(!(c||d||u||h||p))return null;var m=function(e,t,n,r,i){var a=i.x1,s=i.x2,o=i.y1,l=i.y2,c=i.xAxis,d=i.yAxis;if(!c||!d)return null;var u=G6({x:c.scale,y:d.scale}),h={x:e?u.x.apply(a,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(o,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(s,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!t6(i,"discard")||u.isInRange(h)&&u.isInRange(p)?R6(h,p):null}(c,d,u,h,this.props);if(!m&&!p)return null;var f=t6(this.props,"hidden")?"url(#".concat(l,")"):void 0;return b.createElement(UH,{className:th("recharts-reference-area",s)},e.renderRect(p,D7(D7({clipPath:f},bH(this.props,!0)),m)),N1.renderCallByParent(this.props,m))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F7(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function H7(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function z7(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function W7(e){return(W7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U7(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=W7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=W7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==W7(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $7(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!i||!i.length||!r)return[];if(zB(l)||iG)return function(e,t){return H7(e,t+1)}(i,"number"==typeof l&&zB(l)?l:0);var h=[],p="top"===o||"bottom"===o?"width":"height",m=d&&"width"===p?zG(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(e,r){var i=SB(c)?c(e.value,r):e.value;return"width"===p?function(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}(zG(i,{fontSize:t,letterSpacing:n}),m,u):zG(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?BB(i[1].coordinate-i[0].coordinate):1,x=function(e,t,n){var r="width"===n,i=e.x,a=e.y,s=e.width,o=e.height;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(a,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:H7(r,d)};var a,s=c,h=function(){return void 0===a&&(a=n(t,s)),a},p=t.coordinate,m=0===c||z7(e,p,h,u,l);m||(c=0,u=o,d+=1),m&&(u=p+e*(h()/2+i),c+=d)};d<=s.length;)if(a=h())return a.v;return[]}(g,x,f,i,s):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end;if(a){var d=r[o-1],u=n(d,o-1),h=e*(d.coordinate+e*u/2-c);s[o-1]=d=V7(V7({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),z7(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+i),s[o-1]=V7(V7({},d),{},{isShow:!0}))}for(var p=a?o-1:o,m=function(t){var r,a=s[t],o=function(){return void 0===r&&(r=n(a,t)),r};if(0===t){var d=e*(a.coordinate-e*o()/2-l);s[t]=a=V7(V7({},a),{},{tickCoord:d<0?a.coordinate-d*e:a.coordinate})}else s[t]=a=V7(V7({},a),{},{tickCoord:a.coordinate});z7(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=V7(V7({},a),{},{isShow:!0}))},f=0;f<p;f++)m(f);return s}(g,x,f,i,s,"preserveStartEnd"===l):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=t.start,l=t.end,c=function(t){var r,c=a[t],d=function(){return void 0===r&&(r=n(c,t)),r};if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);a[t]=c=V7(V7({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else a[t]=c=V7(V7({},c),{},{tickCoord:c.coordinate});z7(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+i),a[t]=V7(V7({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}(g,x,f,i,s),h.filter(function(e){return e.isShow}))}R7(B7,"displayName","ReferenceArea"),R7(B7,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),R7(B7,"renderRect",function(e,t){return b.isValidElement(e)?b.cloneElement(e,t):SB(e)?e(t):b.createElement(L5,T7({},t,{className:"recharts-reference-area-rect"}))});var q7=["viewBox"],G7=["viewBox"],Y7=["ticks"];function Q7(e){return(Q7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K7(){return K7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K7.apply(this,arguments)}function J7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J7(Object(n),!0).forEach(function(t){i8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z7(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a8(r.key),r)}}function t8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(t8=function(){return!!e})()}function n8(e){return(n8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r8(e,t){return(r8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i8(e,t,n){return(t=a8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a8(e){var t=function(e){if("object"!=Q7(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Q7(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q7(t)?t:t+""}var s8=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t,n){return t=n8(t),function(e,t){if(t&&("object"===Q7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,t8()?Reflect.construct(t,n||[],n8(e).constructor):t.apply(e,n))}(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r8(e,t)}(e,x.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){var r=th(t.className,"recharts-cartesian-axis-tick-value");return b.isValidElement(e)?b.cloneElement(e,X7(X7({},t),{},{className:r})):SB(e)?e(X7(X7({},t),{},{className:r})):b.createElement(mY,K7({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Z7(e,q7),i=this.props,a=i.viewBox,s=Z7(i,G7);return!KB(n,a)||!KB(r,s)||!KB(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,a,s,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,h=o.orientation,p=o.tickSize,m=o.mirror,f=o.tickMargin,g=m?-1:1,x=e.tickSize||p,b=zB(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,s=(r=(i=c+ +!m*u)-g*x)-g*f,a=b;break;case"left":r=i=e.coordinate,a=(t=(n=l+ +!m*d)-g*x)-g*f,s=b;break;case"right":r=i=e.coordinate,a=(t=(n=l+ +m*d)+g*x)+g*f,s=b;break;default:t=n=e.coordinate,s=(r=(i=c+ +m*u)+g*x)+g*f,a=b}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,a=e.orientation,s=e.mirror,o=e.axisLine,l=X7(X7(X7({},bH(this.props,!1)),bH(o,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);l=X7(X7({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+("left"===a&&!s||"right"===a&&s);l=X7(X7({},l),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return b.createElement("line",K7({},l,{className:th("recharts-cartesian-axis-line",bB(o,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,a=this.props,s=a.tickLine,o=a.stroke,l=a.tick,c=a.tickFormatter,d=a.unit,u=$7(X7(X7({},this.props),{},{ticks:t}),n,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=bH(this.props,!1),f=bH(l,!1),g=X7(X7({},m),{},{fill:"none"},bH(s,!1)),x=u.map(function(t,n){var r=i.getTickLineCoord(t),a=r.line,x=r.tick,y=X7(X7(X7(X7({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:o},f),x),{},{index:n,payload:t,visibleTicksCount:u.length,tickFormatter:c});return b.createElement(UH,K7({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},rH(i.props,t,n)),s&&b.createElement("line",K7({},g,a,{className:th("recharts-cartesian-axis-tick-line",bB(s,"className"))})),l&&e.renderTickItem(l,y,"".concat(SB(c)?c(t.value,n):t.value).concat(d||"")))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=Z7(o,Y7),d=l;return SB(a)&&(d=l&&l.length>0?a(this.props):a(c)),r<=0||i<=0||!d||!d.length?null:b.createElement(UH,{className:th("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),N1.renderCallByParent(this.props))}}])&&e8(t.prototype,n),r&&e8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();i8(s8,"displayName","CartesianAxis"),i8(s8,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var o8=["x1","y1","x2","y2","key"],l8=["offset"];function c8(e){return(c8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d8(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=c8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=c8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==c8(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h8(){return h8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h8.apply(this,arguments)}function p8(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var m8=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,o=e.ry;return b.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f8(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(SB(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,l=p8(t,o8),c=bH(l,!1);c.offset;var d=p8(c,l8);n=b.createElement("line",h8({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function g8(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(r,a){var s=u8(u8({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(a),index:a});return f8(i,s)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function x8(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(r,a){var s=u8(u8({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(a),index:a});return f8(i,s)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function b8(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal;if(void 0!==l&&!l||!t||!t.length)return null;var c=o.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==c[0]&&c.unshift(0);var d=c.map(function(e,o){var l=c[o+1]?c[o+1]-e:i+s-e;if(l<=0)return null;var d=o%t.length;return b.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function y8(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var u=d.map(function(e,t){var n=d[t+1]?d[t+1]-e:a+o-e;if(n<=0)return null;var c=t%r.length;return b.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var v8=function(e,t){var n=e.xAxis,r=e.width,i=e.height,a=e.offset;return H0($7(u8(u8(u8({},s8.defaultProps),n),{},{ticks:z0(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},w8=function(e,t){var n=e.yAxis,r=e.width,i=e.height,a=e.offset;return H0($7(u8(u8(u8({},s8.defaultProps),n),{},{ticks:z0(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},j8={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function N8(e){var t,n,r,i,a,s,o,l,c=s7(),d=o7(),u=x.useContext(Z6),h=u8(u8({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:j8.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:j8.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:j8.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:j8.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:j8.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:j8.verticalFill,x:zB(e.x)?e.x:u.left,y:zB(e.y)?e.y:u.top,width:zB(e.width)?e.width:u.width,height:zB(e.height)?e.height:u.height}),p=h.x,m=h.y,f=h.width,g=h.height,y=h.syncWithTicks,v=h.horizontalValues,w=h.verticalValues,j=(o=x.useContext(K6),qB(o)),N=(l=x.useContext(J6),Y6(l,function(e){return c6(e.domain,Number.isFinite)})||qB(l));if(!zB(f)||f<=0||!zB(g)||g<=0||!zB(p)||p!==+p||!zB(m)||m!==+m)return null;var k=h.verticalCoordinatesGenerator||v8,S=h.horizontalCoordinatesGenerator||w8,A=h.horizontalPoints,C=h.verticalPoints;if((!A||!A.length)&&SB(S)){var _=v&&v.length,E=S({yAxis:N?u8(u8({},N),{},{ticks:_?v:N.ticks}):void 0,width:c,height:d,offset:u},!!_||y);VH(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(c8(E),"]")),Array.isArray(E)&&(A=E)}if((!C||!C.length)&&SB(k)){var T=w&&w.length,O=k({xAxis:j?u8(u8({},j),{},{ticks:T?w:j.ticks}):void 0,width:c,height:d,offset:u},!!T||y);VH(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(c8(O),"]")),Array.isArray(O)&&(C=O)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(m8,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),b.createElement(g8,h8({},h,{offset:u,horizontalPoints:A,xAxis:j,yAxis:N})),b.createElement(x8,h8({},h,{offset:u,verticalPoints:C,xAxis:j,yAxis:N})),b.createElement(b8,h8({},h,{horizontalPoints:A})),b.createElement(y8,h8({},h,{verticalPoints:C})))}N8.displayName="CartesianGrid";var k8=["type","layout","connectNulls","ref"],S8=["key"];function A8(e){return(A8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C8(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _8(){return _8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_8.apply(this,arguments)}function E8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(t){R8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O8(e){return function(e){if(Array.isArray(e))return M8(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return M8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M8(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F8(r.key),r)}}function P8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P8=function(){return!!e})()}function I8(e){return(I8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L8(e,t){return(L8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R8(e,t,n){return(t=F8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F8(e){var t=function(e){if("object"!=A8(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=A8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A8(t)?t:t+""}var B8=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return R8(t=function(e,t,n){return t=I8(t),function(e,t){if(t&&("object"===A8(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P8()?Reflect.construct(t,n||[],I8(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),R8(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),R8(t,"getStrokeDasharray",function(n,r,i){var a=i.reduce(function(e,t){return e+t});if(!a)return t.generateSimpleStrokeDasharray(r,n);for(var s=Math.floor(n/a),o=n%a,l=r-n,c=[],d=0,u=0;d<i.length;u+=i[d],++d)if(u+i[d]>o){c=[].concat(O8(i.slice(0,d)),[o-u]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(O8(e.repeat(i,s)),O8(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),R8(t,"id",VB("recharts-line-")),R8(t,"pathRef",function(e){t.mainCurve=e}),R8(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),R8(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L8(e,t)}(e,x.PureComponent),t=e,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,a=n.yAxis,s=n.layout,o=pH(n.children,N0);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:P0(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return b.createElement(UH,c,o.map(function(e){return b.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:a,layout:s,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.dot,s=i.points,o=i.dataKey,l=bH(this.props,!1),c=bH(a,!0),d=s.map(function(t,n){var r=T8(T8(T8({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:s});return e.renderDotItem(a,r)}),u={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return b.createElement(UH,_8({className:"recharts-line-dots",key:"dots"},u),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,a=i.type,s=i.layout,o=i.connectNulls;i.ref;var l=C8(i,k8),c=T8(T8(T8({},bH(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:o});return b.createElement(a2,_8({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,a=r.strokeDasharray,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,d=r.animationId,u=r.animateNewValues,h=r.width,p=r.height,m=this.state,f=m.prevPoints,g=m.totalLength;return b.createElement(C5,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(f){var o=f.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*o);if(f[n]){var r=f[n],i=GB(r.x,e.x),a=GB(r.y,e.y);return T8(T8({},e),{},{x:i(s),y:a(s)})}if(u){var l=GB(2*h,e.x),c=GB(p/2,e.y);return T8(T8({},e),{},{x:l(s),y:c(s)})}return T8(T8({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,d=GB(0,g)(s);if(a){var m="".concat(a).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(d,g,m)}else c=n.generateSimpleStrokeDasharray(g,d);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,a=this.state,s=a.prevPoints,o=a.totalLength;return i&&r&&r.length&&(!s&&o>0||!fZ(s,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,a=t.className,s=t.xAxis,o=t.yAxis,l=t.top,c=t.left,d=t.width,u=t.height,h=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,f=1===i.length,g=th("recharts-line",a),x=s&&s.allowDataOverflow,y=o&&o.allowDataOverflow,v=x||y,w=wB(p)?this.id:p,j=null!==(e=bH(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,k=void 0===N?3:N,S=j.strokeWidth,A=void 0===S?2:S,C=(xH(r)?r:{}).clipDot,_=void 0===C||C,E=2*k+A;return b.createElement(UH,{className:g},x||y?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:x?c:c-d/2,y:y?l:l-u/2,width:x?d:2*d,height:y?u:2*u})),!_&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:c-E/2,y:l-E/2,width:d+E,height:u+E}))):null,!f&&this.renderCurve(v,w),this.renderErrorBar(v,w),(f||r)&&this.renderDots(v,_,w),(!h||m)&&R1.renderCallByParent(this.props,i))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(O8(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(O8(r),O8(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(SB(e))n=e(t);else{var r=t.key,i=C8(t,S8),a=th("recharts-line-dot","boolean"!=typeof e?e.className:"");n=b.createElement($5,_8({key:r},i,{className:a}))}return n}}],n&&D8(t.prototype,n),r&&D8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();R8(B8,"displayName","Line"),R8(B8,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!iG,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),R8(B8,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return T8({points:l.map(function(e,t){var l=P0(e,s);return"horizontal"===d?{x:K0({axis:n,ticks:i,bandSize:o,entry:e,index:t}),y:wB(l)?null:r.scale(l),value:l,payload:e}:{x:wB(l)?null:n.scale(l),y:K0({axis:r,ticks:a,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var H8,z8=["layout","type","stroke","connectNulls","isRange","ref"],W8=["key"];function U8(e){return(U8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V8(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $8(){return $8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$8.apply(this,arguments)}function q8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q8(Object(n),!0).forEach(function(t){X8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z8(r.key),r)}}function Q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Q8=function(){return!!e})()}function K8(e){return(K8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J8(e,t){return(J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function X8(e,t,n){return(t=Z8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z8(e){var t=function(e){if("object"!=U8(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=U8(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U8(t)?t:t+""}var e9=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return X8(t=function(e,t,n){return t=K8(t),function(e,t){if(t&&("object"===U8(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Q8()?Reflect.construct(t,n||[],K8(e).constructor):t.apply(e,n))}(this,e,[].concat(r)),"state",{isAnimationFinished:!0}),X8(t,"id",VB("recharts-area-")),X8(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),SB(e)&&e()}),X8(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),SB(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J8(e,t)}(e,x.PureComponent),t=e,n=[{key:"renderDots",value:function(t,n,r){var i=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(i&&!a)return null;var s=this.props,o=s.dot,l=s.points,c=s.dataKey,d=bH(this.props,!1),u=bH(o,!0),h=l.map(function(t,n){var r=G8(G8(G8({key:"dot-".concat(n),r:3},d),u),{},{index:n,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(o,r)}),p={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return b.createElement(UH,$8({className:"recharts-area-dots"},p),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,i=t.strokeWidth,a=r[0].x,s=r[r.length-1].x,o=e*Math.abs(a-s),l=tZ(r.map(function(e){return e.y||0}));return zB(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(tZ(n.map(function(e){return e.y||0})),l)),zB(l)?b.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,i=t.strokeWidth,a=r[0].y,s=r[r.length-1].y,o=e*Math.abs(a-s),l=tZ(r.map(function(e){return e.x||0}));return zB(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(tZ(n.map(function(e){return e.x||0})),l)),zB(l)?b.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var i=this.props,a=i.layout,s=i.type,o=i.stroke,l=i.connectNulls,c=i.isRange;i.ref;var d=V8(i,z8);return b.createElement(UH,{clipPath:n?"url(#clipPath-".concat(r,")"):null},b.createElement(a2,$8({},bH(d,!0),{points:e,connectNulls:l,type:s,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==o&&b.createElement(a2,$8({},bH(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:l,fill:"none",points:e})),"none"!==o&&c&&b.createElement(a2,$8({},bH(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,a=r.baseLine,s=r.isAnimationActive,o=r.animationBegin,l=r.animationDuration,c=r.animationEasing,d=r.animationId,u=this.state,h=u.prevPoints,p=u.prevBaseLine;return b.createElement(C5,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var s=r.t;if(h){var o,l=h.length/i.length,c=i.map(function(e,t){var n=Math.floor(t*l);if(h[n]){var r=h[n],i=GB(r.x,e.x),a=GB(r.y,e.y);return G8(G8({},e),{},{x:i(s),y:a(s)})}return e});return o=zB(a)&&"number"==typeof a?GB(p,a)(s):wB(a)||RB(a)?GB(p,0)(s):a.map(function(e,t){var n=Math.floor(t*l);if(p[n]){var r=p[n],i=GB(r.x,e.x),a=GB(r.y,e.y);return G8(G8({},e),{},{x:i(s),y:a(s)})}return e}),n.renderAreaStatically(c,o,e,t)}return b.createElement(UH,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),b.createElement(UH,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(i,a,e,t)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,i=n.baseLine,a=n.isAnimationActive,s=this.state,o=s.prevPoints,l=s.prevBaseLine,c=s.totalLength;return a&&r&&r.length&&(!o&&c>0||!fZ(o,r)||!fZ(l,i))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,i,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,a=t.className,s=t.top,o=t.left,l=t.xAxis,c=t.yAxis,d=t.width,u=t.height,h=t.isAnimationActive,p=t.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,f=1===i.length,g=th("recharts-area",a),x=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,v=x||y,w=wB(p)?this.id:p,j=null!==(e=bH(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,k=void 0===N?3:N,S=j.strokeWidth,A=void 0===S?2:S,C=(xH(r)?r:{}).clipDot,_=void 0===C||C,E=2*k+A;return b.createElement(UH,{className:g},x||y?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:x?o:o-d/2,y:y?s:s-u/2,width:x?d:2*d,height:y?u:2*u})),!_&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:o-E/2,y:s-E/2,width:d+E,height:u+E}))):null,f?null:this.renderArea(v,w),(r||f)&&this.renderDots(v,_,w),(!h||m)&&R1.renderCallByParent(this.props,i))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],n&&Y8(t.prototype,n),r&&Y8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function t9(e){return(t9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(n9=function(){return!!e})()}function r9(e){return(r9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i9(e,t){return(i9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a9(e,t,n){return(t=s9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9(e){var t=function(e){if("object"!=t9(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=t9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t9(t)?t:t+""}function o9(){return o9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o9.apply(this,arguments)}function l9(e){var t=e.xAxisId,n=s7(),r=o7(),i=i7(t);return null==i?null:x.createElement(s8,o9({},i,{className:th("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return z0(e,!0)}}))}H8=e9,X8(e9,"displayName","Area"),X8(e9,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!iG,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),X8(e9,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,s=t.props.baseValue,o=null!=s?s:a;if(zB(o)&&"number"==typeof o)return o;var l="horizontal"===i?r:n,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===o?u:"dataMax"===o||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),X8(e9,"getComposedData",function(e){var t,n=e.props,r=e.item,i=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,p=e.offset,m=n.layout,f=d&&d.length,g=H8.getBaseValue(n,r,i,a),x="horizontal"===m,b=!1,y=h.map(function(e,t){var n;f?n=d[u+t]:(n=P0(e,c),Array.isArray(n)?b=!0:n=[g,n]);var r=null==n[1]||f&&null==P0(e,c);return x?{x:K0({axis:i,ticks:s,bandSize:l,entry:e,index:t}),y:r?null:a.scale(n[1]),value:n,payload:e}:{x:r?null:i.scale(n[1]),y:K0({axis:a,ticks:o,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=f||b?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?a.scale(t):null}:{x:null!=t?i.scale(t):null,y:e.y}}):x?a.scale(g):i.scale(g),G8({points:y,baseLine:t,layout:m,isRange:b},p)}),X8(e9,"renderDotItem",function(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(SB(e))n=e(t);else{var r=th("recharts-area-dot","boolean"!=typeof e?e.className:""),i=t.key,a=V8(t,W8);n=b.createElement($5,$8({},a,{key:i,className:r}))}return n});var c9=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=r9(t),function(e,t){if(t&&("object"===t9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n9()?Reflect.construct(t,n||[],r9(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i9(e,t)}(e,x.Component),t=e,(n=[{key:"render",value:function(){return x.createElement(l9,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s9(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function d9(e){return(d9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u9=function(){return!!e})()}function h9(e){return(h9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p9(e,t){return(p9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m9(e,t,n){return(t=f9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=function(e){if("object"!=d9(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d9(t)?t:t+""}function g9(){return g9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g9.apply(this,arguments)}a9(c9,"displayName","XAxis"),a9(c9,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var x9=function(e){var t=e.yAxisId,n=s7(),r=o7(),i=a7(t);return null==i?null:x.createElement(s8,g9({},i,{className:th("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return z0(e,!0)}}))},b9=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){return t=h9(t),function(e,t){if(t&&("object"===d9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u9()?Reflect.construct(t,n||[],h9(e).constructor):t.apply(e,n))}(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p9(e,t)}(e,x.Component),t=e,(n=[{key:"render",value:function(){return x.createElement(x9,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f9(r.key),r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function y9(e){return function(e){if(Array.isArray(e))return v9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v9(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}m9(b9,"displayName","YAxis"),m9(b9,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var w9,j9=function(e,t,n,r,i){var a=pH(e,y7),s=pH(e,E7),o=[].concat(y9(a),y9(s)),l=pH(e,B7),c="".concat(r,"Id"),d=r[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===n&&t6(t.props,"extendDomain")&&zB(t.props[d])){var r=t.props[d];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},u)),l.length){var h="".concat(d,"1"),p="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===n&&t6(t.props,"extendDomain")&&zB(t.props[h])&&zB(t.props[p])){var r=t.props[h],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},u)}return i&&i.length&&(u=i.reduce(function(e,t){return zB(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},N9={exports:{}},k9=(w9||(w9=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,a),!0;case 6:return d.fn.call(d.context,t,r,i,a,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(N9)),N9.exports),S9=new(a(k9)),A9="recharts.syncMouseEvents";function C9(e){return(C9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _9(e,t,n){return(t=E9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=function(e){if("object"!=C9(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C9(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C9(t)?t:t+""}var T9=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_9(this,"activeIndex",0),_9(this,"coordinateList",[]),_9(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,a=void 0===i?null:i,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=a?a:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,a=n.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+s+o,d=i+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E9(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function O9(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle;return{points:[h1(t,n,r,i),h1(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function M9(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return O9(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=h1(o,l,c,u),p=h1(o,l,d,u);r=h.x,i=h.y,a=p.x,s=p.y}return[{x:r,y:i},{x:a,y:s}]}function D9(e){return(D9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P9(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],i=function(e){var t=function(e,t){if("object"!=D9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=D9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==D9(t)?t:t+""}(i),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L9(e){var t,n,r,i=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!m||!s||!o||"ScatterChart"!==p&&"axis"!==a)return null;var f=a2;if("ScatterChart"===p)r=o,f=Z5;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,o,c,u),f=L5;else if("radial"===h){var g=O9(o),b=g.cx,y=g.cy,v=g.radius;r={cx:b,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:v,outerRadius:v},f=$1}else r={points:M9(h,o,c)},f=a2;var w=I9(I9(I9(I9({stroke:"#ccc",pointerEvents:"none"},c),r),bH(m,!1)),{},{payload:l,payloadIndex:d,className:th("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,w):x.createElement(f,w)}var R9=["item"],F9=["children","className","width","height","style","compact","title","desc"];function B9(e){return(B9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H9(){return H9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H9.apply(this,arguments)}function z9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||G9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W9(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U9=function(){return!!e})()}function V9(e){return(V9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $9(e,t){return($9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q9(e){return function(e){if(Array.isArray(e))return Y9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G9(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G9(e,t){if(e){if("string"==typeof e)return Y9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y9(e,t):void 0}}function Y9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q9(Object(n),!0).forEach(function(t){J9(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J9(e,t,n){return(t=X9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X9(e){var t=function(e,t){if("object"!=B9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=B9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==B9(t)?t:t+""}var Z9={xAxis:["bottom","top"],yAxis:["left","right"]},eee={width:"100%",height:"100%"},tee={x:0,y:0};function nee(e){return e}var ree=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,a=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(q9(e),q9(n)):e},[]);return a.length>0?a:e&&e.length&&zB(r)&&zB(i)?e.slice(r,i+1):[]};function iee(e){return"number"===e?[0,"auto"]:void 0}var aee=function(e,t,n,r){var i=e.graphicalItems,a=e.tooltipAxis,s=ree(t,e);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(i,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;return d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),(c=a.dataKey&&!a.allowDuplicatedCategory?YB(void 0===d?s:d,a.dataKey,r):d&&d[n]||s[n])?[].concat(q9(i),[i1(o,c)]):i},[])},see=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,s=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var o=i.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,d=r[l].coordinate,u=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(BB(d-c)!==BB(u-d)){var p=[];if(BB(u-d)===BB(o[1]-o[0])){h=u;var m=d+o[1]-o[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var f=u+o[1]-o[0];p[0]=Math.min(d,(f+d)/2),p[1]=Math.max(d,(f+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){a=r[l].index;break}}else{var x=Math.min(c,u),b=Math.max(c,u);if(e>(x+d)/2&&e<=(b+d)/2){a=r[l].index;break}}}else for(var y=0;y<s;y++)if(0===y&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y>0&&y<s-1&&e>(n[y].coordinate+n[y-1].coordinate)/2&&e<=(n[y].coordinate+n[y+1].coordinate)/2||y===s-1&&e>(n[y].coordinate+n[y-1].coordinate)/2){a=n[y].index;break}return a}(a,s,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=aee(e,t,c,d),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,s=r.radius;return K9(K9(K9({},r),h1(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,l=r.angle;return K9(K9(K9({},r),h1(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return tee}(n,s,c,i);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},oee=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,a=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(r,"Id"),u=pH(c,i),h={};return u&&u.length?h=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,a=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=B0(c,i);return n.reduce(function(t,n){var p,m=void 0!==n.type.defaultProps?K9(K9({},n.type.defaultProps),n.props):n.props,f=m.type,g=m.dataKey,x=m.allowDataOverflow,b=m.allowDuplicatedCategory,y=m.scale,v=m.ticks,w=m.includeHidden,j=m[a];if(t[j])return t;var N,k,S,A=ree(e.data,{graphicalItems:r.filter(function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===j}),dataStartIndex:o,dataEndIndex:l}),C=A.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&zB(r)&&zB(i))return!0}return!1})(m.domain,x,f)&&(N=t1(m.domain,null,x),!h||"number"!==f&&"auto"===y||(S=I0(A,g,"category")));var _=iee(f);if(!N||0===N.length){var E,T=null!==(E=m.domain)&&void 0!==E?E:_;if(g){if(N=I0(A,g,f),"category"===f&&h){var O=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);b&&O?(k=N,N=_3(0,C)):b||(N=r1(T,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(q9(e),[t])},[]))}else if("category"===f)N=b?N.filter(function(e){return""!==e&&!wB(e)}):r1(T,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||wB(t)?e:[].concat(q9(e),[t])},[]);else if("number"===f){var M=function(e,t,n,r,i){var a=t.map(function(t){return R0(e,t,n,i,r)}).filter(function(e){return!wB(e)});return a&&a.length?a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,r.filter(function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!i)}),g,i,c);M&&(N=M)}!h||"number"!==f&&"auto"===y||(S=I0(A,g,"category"))}else N=h?_3(0,C):s&&s[j]&&s[j].hasStack&&"number"===f?"expand"===u?[0,1]:X0(s[j].stackGroups,o,l):F0(A,r.filter(function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),f,c,!0);if("number"===f)N=j9(d,N,j,i,v),T&&(N=t1(T,N,x));else if("category"===f&&T){var D=T;N.every(function(e){return D.indexOf(e)>=0})&&(N=D)}}return K9(K9({},t),{},J9({},j,K9(K9({},m),{},{axisType:i,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(p=m.domain)&&void 0!==p?p:_,isCategorical:h,layout:c})))},{})}(e,{axes:u,graphicalItems:a,axisType:r,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):a&&a.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,a=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=ree(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),h=u.length,p=B0(c,i),m=-1;return n.reduce(function(e,t){var f,g=(void 0!==t.type.defaultProps?K9(K9({},t.type.defaultProps),t.props):t.props)[a],x=iee("number");return e[g]?e:(m++,p?f=_3(0,h):s&&s[g]&&s[g].hasStack?(f=X0(s[g].stackGroups,o,l),f=j9(d,f,g,i)):(f=t1(x,F0(u,n.filter(function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",c),r.defaultProps.allowDataOverflow),f=j9(d,f,g,i)),K9(K9({},e),{},J9({},g,K9(K9({axisType:i},r.defaultProps),{},{hide:!0,orientation:bB(Z9,"".concat(i,".").concat(m%2),null),domain:f,originalDomain:x,isCategorical:p,layout:c}))))},{})}(e,{Axis:i,graphicalItems:a,axisType:r,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),h},lee=function(e){var t=e.children,n=e.defaultShowTooltip,r=mH(t,Q3),i=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},cee=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dee=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},uee=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,u=function(e,r){var i=e.props,a=e.dataStartIndex,s=e.dataEndIndex,l=e.updateId;if(!fH({props:i}))return null;var d=i.children,u=i.layout,h=i.stackOffset,p=i.data,m=i.reverseStackOrder,f=cee(u),g=f.numericAxisName,x=f.cateAxisName,b=pH(d,n),y=function(e,t,n,r,i,a){if(!e)return null;var s=(a?t.reverse():t).reduce(function(e,t){var i,a=null!==(i=t.type)&&void 0!==i&&i.defaultProps?M0(M0({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(a.hide)return e;var o=a[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(WB(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[VB("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return M0(M0({},e),{},D0({},o,l))},{});return Object.keys(s).reduce(function(t,a){var o=s[a];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,a){var s=o.stackGroups[a];return M0(M0({},t),{},D0({},a,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:Y0(e,s.items,i)}))},{})),M0(M0({},t),{},D0({},a,o))},{})}(p,b,"".concat(g,"Id"),"".concat(x,"Id"),h,m),v=o.reduce(function(e,t){var n="".concat(t.axisType,"Map");return K9(K9({},e),{},J9({},n,oee(i,K9(K9({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&y,dataStartIndex:a,dataEndIndex:s}))))},{}),w=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,a=e.yAxisMap,s=void 0===a?{}:a,o=n.width,l=n.height,c=n.children,d=n.margin||{},u=mH(c,Q3),h=mH(c,Aq),p=Object.keys(s).reduce(function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:K9(K9({},e),{},J9({},r,e[r]+n.width))},{left:d.left||0,right:d.right||0}),m=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:K9(K9({},e),{},J9({},r,bB(e,"".concat(r))+n.height))},{top:d.top||0,bottom:d.bottom||0}),f=K9(K9({},m),p),g=f.bottom;u&&(f.bottom+=u.props.height||Q3.defaultProps.height),h&&t&&(f=function(e,t,n,r){var i=n.children,a=n.width,s=n.margin,o=a-(s.left||0)-(s.right||0),l=C0({children:i,legendWidth:o});if(l){var c=r||{},d=c.width,u=c.height,h=l.align,p=l.verticalAlign,m=l.layout;if(("vertical"===m||"horizontal"===m&&"middle"===p)&&"center"!==h&&zB(e[h]))return M0(M0({},e),{},D0({},h,e[h]+(d||0)));if(("horizontal"===m||"vertical"===m&&"center"===h)&&"middle"!==p&&zB(e[p]))return M0(M0({},e),{},D0({},p,e[p]+(u||0)))}return e}(f,0,n,t));var x=o-f.left-f.right,b=l-f.top-f.bottom;return K9(K9({brushBottom:g},f),{},{width:Math.max(x,0),height:Math.max(b,0)})}(K9(K9({},v),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(v).forEach(function(e){v[e]=c(i,v[e],w,e.replace("Map",""),t)});var j,N,k=v["".concat(x,"Map")],S=(j=qB(k),{tooltipTicks:N=z0(j,!1,!0),orderedTooltipTicks:Iq(N,function(e){return e.coordinate}),tooltipAxis:j,tooltipAxisBandSize:n1(j,N)}),A=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,a=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,m=cee(d),f=m.numericAxisName,g=m.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some(function(e){var t=cH(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),b=[];return n.forEach(function(n,m){var y=ree(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),v=void 0!==n.type.defaultProps?K9(K9({},n.type.defaultProps),n.props):n.props,w=v.dataKey,j=v.maxBarSize,N=v["".concat(f,"Id")],k=v["".concat(g,"Id")],S=o.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=v["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||p0();var a=r[i];return K9(K9({},e),{},J9(J9({},n.axisType,a),"".concat(n.axisType,"Ticks"),z0(a)))},{}),A=S[g],C=S["".concat(g,"Ticks")],_=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?M0(M0({},e.type.defaultProps),e.props):e.props).stackId;if(WB(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null}(n,r[N].stackGroups),E=cH(n.type).indexOf("Bar")>=0,T=n1(A,C),O=[],M=x&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var a={},s=Object.keys(i),o=0,l=s.length;o<l;o++)for(var c=i[s[o]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var p=c[d[u]],m=p.items,f=p.cateAxisId,g=m.filter(function(e){return cH(e.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,b=void 0!==x?M0(M0({},x),g[0].props):g[0].props,y=b.barSize,v=b[f];a[v]||(a[v]=[]);var w=wB(y)?t:y;a[v].push({item:g[0],stackList:g.slice(1),barSize:wB(w)?void 0:$B(w,n,0)})}}return a}({barSize:c,stackGroups:r,totalSize:dee(S,g)});if(E){var D,P,I=wB(j)?p:j,L=null!==(D=null!==(P=n1(A,C,!0))&&void 0!==P?P:I)&&void 0!==D?D:0;O=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,a=void 0===i?[]:i,s=e.maxBarSize,o=a.length;if(o<1)return null;var l,c=$B(t,r,0,!0),d=[];if(a[0].barSize===+a[0].barSize){var u=!1,h=r/o,p=a.reduce(function(e,t){return e+t.barSize||0},0);(p+=(o-1)*c)>=r&&(p-=(o-1)*c,c=0),p>=r&&h>0&&(u=!0,p=o*(h*=.9));var m={offset:((r-p)/2|0)-c,size:0};l=a.reduce(function(e,t){var n={item:t.item,position:{offset:m.offset+m.size+c,size:u?h:t.barSize}},r=[].concat(E0(e),[n]);return m=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:m})}),r},d)}else{var f=$B(n,r,0,!0);r-2*f-(o-1)*c<=0&&(c=0);var g=(r-2*f-(o-1)*c)/o;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;l=a.reduce(function(e,t,n){var r=[].concat(E0(e),[{item:t.item,position:{offset:f+(g+c)*n+(g-x)/2,size:x}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},d)}return l}({barGap:u,barCategoryGap:h,bandSize:L!==T?L:T,sizeList:M[k],maxBarSize:I}),L!==T&&(O=O.map(function(e){return K9(K9({},e),{},{position:K9(K9({},e.position),{},{offset:e.position.offset-L/2})})}))}var R,F,B=n&&n.type&&n.type.getComposedData;B&&b.push({props:K9(K9({},B(K9(K9({},S),{},{displayedData:y,props:e,dataKey:w,item:n,bandSize:T,barPosition:O,offset:i,stackedData:_,layout:d,dataStartIndex:s,dataEndIndex:l}))),{},J9(J9(J9({key:n.key||"item-".concat(m)},f,S[f]),g,S[g]),"animationId",a)),childIndex:(R=n,F=e.children,hH(F).indexOf(R)),item:n})}),b}(i,K9(K9({},v),{},{dataStartIndex:a,dataEndIndex:s,updateId:l,graphicalItems:b,stackGroups:y,offset:w}));return K9(K9({formattedGraphicalItems:A,graphicalItems:b,offset:w,stackGroups:y},S),v)},h=function(){function e(n){var r,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),J9(a=function(e,t,n){return t=V9(t),function(e,t){if(t&&("object"===B9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,U9()?Reflect.construct(t,n||[],V9(e).constructor):t.apply(e,n))}(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),J9(a,"accessibilityManager",new T9),J9(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(K9({legendBBox:e},u({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},K9(K9({},a.state),{},{legendBBox:e}))))}}),J9(a,"handleReceiveSyncEvent",function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!=typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),J9(a,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState(function(){return K9({dataStartIndex:t,dataEndIndex:n},u({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),J9(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var n=K9(K9({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;SB(r)&&r(n,e)}}),J9(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),n=t?K9(K9({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;SB(r)&&r(n,e)}),J9(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),J9(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),J9(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),J9(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;SB(n)&&n(t,e)}),J9(a,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&lH[t]?lH[t]:null}(e),r=bB(a.props,"".concat(n));n&&SB(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),J9(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var n=K9(K9({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;SB(r)&&r(n,e)}}),J9(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;SB(t)&&t(a.getMouseInfo(e),e)}),J9(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;SB(t)&&t(a.getMouseInfo(e),e)}),J9(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),J9(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),J9(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),J9(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;SB(t)&&t(a.getMouseInfo(e),e)}),J9(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;SB(t)&&t(a.getMouseInfo(e),e)}),J9(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&S9.emit(A9,a.props.syncId,e,a.eventEmitterSymbol)}),J9(a,"applySyncEvent",function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(K9({dataStartIndex:s,dataEndIndex:o},u({props:a.props,dataStartIndex:s,dataEndIndex:o,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,h=a.state,p=h.offset,m=h.tooltipTicks;if(!p)return;if("function"==typeof r)d=r(m,e);else if("value"===r){d=-1;for(var f=0;f<m.length;f++)if(m[f].value===e.activeLabel){d=f;break}}var g=K9(K9({},p),{},{x:p.left,y:p.top}),x=Math.min(l,g.x+g.width),b=Math.min(c,g.y+g.height),y=m[d]&&m[d].value,v=aee(a.state,a.props.data,d),w=m[d]?{x:"horizontal"===n?m[d].coordinate:x,y:"horizontal"===n?b:m[d].coordinate}:tee;a.setState(K9(K9({},e),{},{activeLabel:y,activeCoordinate:w,activePayload:v,activeTooltipIndex:d}))}else a.setState(e)}),J9(a,"renderCursor",function(e){var n,r=a.state,i=r.isTooltipActive,s=r.activeCoordinate,o=r.activePayload,l=r.offset,c=r.activeTooltipIndex,d=r.tooltipAxisBandSize,u=a.getTooltipEventType(),h=null!==(n=e.props.active)&&void 0!==n?n:i,p=a.props.layout,m=e.key||"_recharts-cursor";return b.createElement(L9,{key:m,activeCoordinate:s,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:h,layout:p,offset:l,tooltipAxisBandSize:d,tooltipEventType:u})}),J9(a,"renderPolarAxis",function(e,t,n){var r=bB(e,"type.axisType"),i=bB(a.state,"".concat(r,"Map")),s=e.type.defaultProps,o=void 0!==s?K9(K9({},s),e.props):e.props,l=i&&i[o["".concat(r,"Id")]];return x.cloneElement(e,K9(K9({},l),{},{className:th(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:z0(l,!0)}))}),J9(a,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,s=a.state,o=s.radiusAxisMap,l=s.angleAxisMap,c=qB(o),d=qB(l),u=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return x.cloneElement(e,{polarAngles:Array.isArray(r)?r:z0(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:z0(c,!0).map(function(e){return e.coordinate}),cx:u,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),J9(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,i=t.height,s=a.props.margin||{},o=r-(s.left||0)-(s.right||0),c=C0({children:n,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var d=c.item,u=W9(c,R9);return x.cloneElement(d,K9(K9({},u),{},{chartWidth:r,chartHeight:i,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),J9(a,"renderTooltip",function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,i=mH(n,AG);if(!i)return null;var s=a.state,o=s.isTooltipActive,l=s.activeCoordinate,c=s.activePayload,d=s.activeLabel,u=s.offset,h=null!==(e=i.props.active)&&void 0!==e?e:o;return x.cloneElement(i,{viewBox:K9(K9({},u),{},{x:u.left,y:u.top}),active:h,label:d,payload:h?c:[],coordinate:l,accessibilityLayer:r})}),J9(a,"renderBrush",function(e){var t=a.props,n=t.margin,r=t.data,i=a.state,s=i.offset,o=i.dataStartIndex,l=i.dataEndIndex,c=i.updateId;return x.cloneElement(e,{key:e.key||"_recharts-brush",onChange:U0(a.handleBrushChange,e.props.onChange),data:r,x:zB(e.props.x)?e.props.x:s.left,y:zB(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:zB(e.props.width)?e.props.width:s.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})}),J9(a,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=a.clipPathId,i=a.state,s=i.xAxisMap,o=i.yAxisMap,l=i.offset,c=e.type.defaultProps||{},d=e.props,u=d.xAxisId,h=void 0===u?c.xAxisId:u,p=d.yAxisId,m=void 0===p?c.yAxisId:p;return x.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[h],yAxis:o[m],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),J9(a,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,i=t.basePoint,a=t.childIndex,s=t.isRange,o=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?K9(K9({},n.item.type.defaultProps),n.item.props):n.item.props,d=c.activeDot,u=K9(K9({index:a,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:L0(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},bH(d,!1)),nH(d));return o.push(e.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(a))),i?o.push(e.renderActiveDot(d,K9(K9({},u),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(a))):s&&o.push(null),o}),J9(a,"renderGraphicChild",function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var i=a.getTooltipEventType(),s=a.state,o=s.isTooltipActive,l=s.tooltipAxis,c=s.activeTooltipIndex,d=s.activeLabel,u=mH(a.props.children,AG),h=r.props,p=h.points,m=h.isRange,f=h.baseLine,g=void 0!==r.item.type.defaultProps?K9(K9({},r.item.type.defaultProps),r.item.props):r.item.props,b=g.activeDot,y=g.hide,v=g.activeBar,w=g.activeShape,j=Boolean(!y&&o&&u&&(b||v||w)),N={};"axis"!==i&&u&&"click"===u.props.trigger?N={onClick:U0(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:U0(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:U0(a.handleItemMouseEnter,e.props.onMouseEnter)});var k=x.cloneElement(e,K9(K9({},r.props),N));if(j){if(!(c>=0)){var S,A=(null!==(S=a.getItemByXY(a.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,C=A.item,_=void 0===C?e:C,E=A.childIndex,T=K9(K9(K9({},r.props),N),{},{activeIndex:E});return[x.cloneElement(_,T),null,null]}var O,M;if(l.dataKey&&!l.allowDuplicatedCategory){var D="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());O=YB(p,D,d),M=m&&f&&YB(f,D,d)}else O=null==p?void 0:p[c],M=m&&f&&f[c];if(w||v){var P=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[x.cloneElement(e,K9(K9(K9({},r.props),N),{},{activeIndex:P})),null,null]}if(!wB(O))return[k].concat(q9(a.renderActivePoints({item:r,activePoint:O,basePoint:M,childIndex:c,isRange:m})))}return m?[k,null,null]:[k,null]}),J9(a,"renderCustomized",function(e,t,n){return x.cloneElement(e,K9(K9({key:"recharts-customized-".concat(n)},a.props),a.state))}),J9(a,"renderMap",{CartesianGrid:{handler:nee,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:nee},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:nee},YAxis:{handler:nee},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:VB("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=_G(a.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$9(e,t)}(e,x.Component),n=e,r=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,a=mH(t,AG);if(a){var s=a.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=aee(this.state,n,s,o),c=this.state.tooltipTicks[s].coordinate,d=(this.state.offset.top+r)/2,u="horizontal"===i?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(u=K9(K9({},u),h.props.points[s].tooltipPosition),l=h.props.points[s].tooltipPayload);var p={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(a),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){yH([mH(e.children,AG)],[mH(this.props.children,AG)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=mH(this.props.children,AG);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i=(t=r).top+window.scrollY-document.documentElement.clientTop,a=t.left+window.scrollX-document.documentElement.clientLeft,s={chartX:Math.round(e.pageX-a),chartY:Math.round(e.pageY-i)},o=r.width/n.offsetWidth||1,l=this.inRange(s.chartX,s.chartY,o);if(!l)return null;var c=this.state,d=c.xAxisMap,u=c.yAxisMap,h=this.getTooltipEventType(),p=see(this.state,this.props.data,this.props.layout,l);if("axis"!==h&&d&&u){var m=qB(d).scale,f=qB(u).scale,g=m&&m.invert?m.invert(s.chartX):null,x=f&&f.invert?f.invert(s.chartY):null;return K9(K9({},s),{},{xValue:g,yValue:x},p)}return p?K9(K9({},s),p):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,a=t/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return i>=s.left&&i<=s.left+s.width&&a>=s.top&&a<=s.top+s.height?{x:i,y:a}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=qB(l);return f1({x:i,y:a},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=mH(e,AG),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),K9(K9({},nH(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){S9.on(A9,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){S9.removeListener(A9,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,a=r.length;i<a;i++){var s=r[i];if(s.item===e||s.props.key===e.key||t===cH(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,a=t.width;return b.createElement("defs",null,b.createElement("clipPath",{id:e},b.createElement("rect",{x:n,y:r,height:i,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=z9(t,2),r=n[0],i=n[1];return K9(K9({},e),{},J9({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=z9(t,2),r=n[0],i=n[1];return K9(K9({},e),{},J9({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,a=n.length;i<a;i++){var s=n[i],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?K9(K9({},l.type.defaultProps),l.props):l.props,d=cH(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return P5(e,t)});if(u)return{graphicalItem:s,payload:u}}else if("RadialBar"===d){var h=(o.data||[]).find(function(t){return f1(e,t)});if(h)return{graphicalItem:s,payload:h}}else if(t3(s,r)||n3(s,r)||r3(s,r)){var p=o3({graphicalItem:s,activeTooltipItem:r,itemData:c.data}),m=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:K9(K9({},s),{},{childIndex:m}),payload:r3(s,r)?c.data[p]:s.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!fH(this))return null;var t,n,r=this.props,i=r.children,a=r.className,s=r.width,o=r.height,l=r.style,c=r.compact,d=r.title,u=r.desc,h=W9(r,F9),p=bH(h,!1);if(c)return b.createElement(r7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},b.createElement(kH,H9({},p,{width:s,height:o,title:d,desc:u}),this.renderClipPath(),wH(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return b.createElement(r7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},b.createElement("div",H9({className:th("recharts-wrapper",a),style:K9({position:"relative",cursor:"default",width:s,height:o},l)},m,{ref:function(t){e.container=t}}),b.createElement(kH,H9({},p,{width:s,height:o,title:d,desc:u,style:eee}),this.renderClipPath(),wH(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X9(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}();J9(h,"displayName",t),J9(h,"defaultProps",K9({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),J9(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,a=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var p=lee(e);return K9(K9(K9({},p),{},{updateId:0},u(K9(K9({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!KB(c,t.prevMargin)){var m=lee(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=K9(K9({},see(t,r,o)),{},{updateId:t.updateId+1}),x=K9(K9(K9({},m),f),g);return K9(K9(K9({},x),u(K9({props:e},x),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!yH(i,t.prevChildren)){var b,y,v,w,j=mH(i,Q3),N=j&&null!==(b=null===(y=j.props)||void 0===y?void 0:y.startIndex)&&void 0!==b?b:d,k=j&&null!==(v=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==v?v:h,S=N!==d||k!==h,A=wB(r)||S?t.updateId+1:t.updateId;return K9(K9({updateId:A},u(K9(K9({props:e},t),{},{updateId:A,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:i,dataStartIndex:N,dataEndIndex:k})}return null}),J9(h,"renderActiveDot",function(e,t,n){var r;return r=x.isValidElement(e)?x.cloneElement(e,t):SB(e)?e(t):b.createElement($5,t),b.createElement(UH,{className:"recharts-active-dot",key:n},r)});var p=x.forwardRef(function(e,t){return b.createElement(h,H9({},e,{ref:t}))});return p.displayName=h.displayName,p},hee=uee({chartName:"LineChart",GraphicalChild:B8,axisComponents:[{axisType:"xAxis",AxisComp:c9},{axisType:"yAxis",AxisComp:b9}],formatAxisMap:L6}),pee=uee({chartName:"BarChart",GraphicalChild:E6,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:c9},{axisType:"yAxis",AxisComp:b9}],formatAxisMap:L6}),mee=uee({chartName:"PieChart",GraphicalChild:A3,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:P4},{axisType:"radiusAxis",AxisComp:x4}],formatAxisMap:function(e,t,n,r,i){var a=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=$B(e.cx,a,a/2),d=$B(e.cy,s,s/2),u=p1(a,s,n),h=$B(e.innerRadius,u,0),p=$B(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,n){var a,s,u,m=t[n],f=m.domain,g=m.reversed;if(wB(m.range))"angleAxis"===r?a=[o,l]:"radiusAxis"===r&&(a=[h,p]),g&&(a=[a[1],a[0]]);else{var x=(s=a=m.range,u=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(s,u)||function(e,t){if(e){if("string"==typeof e)return c1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c1(e,t):void 0}}(s,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());o=x[0],l=x[1]}var b=V0(m,i),y=b.realScaleType,v=b.scale;v.domain(f).range(a),q0(v);var w=Q0(v,o1(o1({},m),{},{realScaleType:y})),j=o1(o1(o1({},m),w),{},{range:a,radius:p,realScaleType:y,scale:v,cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:o,endAngle:l});return o1(o1({},e),{},l1({},n,j))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),fee=uee({chartName:"AreaChart",GraphicalChild:e9,axisComponents:[{axisType:"xAxis",AxisComp:c9},{axisType:"yAxis",AxisComp:b9}],formatAxisMap:L6});const gee=(e,t,n,r)=>{if(null==e||null==t||null==n||null==r)return null;const i=60*e+t,a=60*n+r;let s=Math.abs(a-i);return s>720&&(s=1440-s),s},xee=e=>{if(null==e||isNaN(e)||e<0)return"-";const t=Math.round(100*e)/100,n=Math.floor(t/60),r=t%60;return 0===t?"0min":0===n&&r>0?`${r.toFixed(2)}min`:n>0&&0===r?`${n}h`:`${n}h ${r.toFixed(2)}min`},bee=({title:e,value:t,change:n,icon:r})=>{const i=null==n?void 0:n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),n&&h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},yee=()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[n,r]=x.useState(!1),[i,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),{user:d,getMachineHistories:u}=xt(),p=je(),m=ye(),[f,g]=x.useState(window.innerWidth<768),[y,v]=x.useState(!1),[w,j]=x.useState(!1),N=b.useRef(null),k=b.useRef(null),S="/machinehistory"===m.pathname,A="/machinehistory/reports"===m.pathname;x.useEffect(()=>{(async()=>{o(!0);try{const e=await u();a(e||[])}catch(e){c("Failed to load machine history data for reports."),a([])}finally{o(!1)}})()},[u]),x.useEffect(()=>{const e=()=>{g(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{N.current&&!N.current.contains(e.target)&&v(!1),k.current&&!k.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const C=x.useMemo(()=>i.length,[i]),_=x.useMemo(()=>{const e={};return i.forEach(t=>{t.mesin&&(e[t.mesin]=(e[t.mesin]||0)+1)}),Object.entries(e).sort(([,e],[,t])=>t-e).slice(0,3).map(([e,t])=>({name:e,count:t}))},[i]),E=x.useMemo(()=>{const e={};return i.forEach(t=>{if(t.mesin){const n=gee(t.stopJam,t.stopMenit,t.startJam,t.startMenit);null!==n&&(e[t.mesin]||(e[t.mesin]={totalMinutes:0,count:0}),e[t.mesin].totalMinutes+=n,e[t.mesin].count+=1)}}),Object.entries(e).map(([e,t])=>{const n=t.count>0?t.totalMinutes/t.count:0,r=Math.round(100*n)/100;return{name:e,averageDowntimeMinutes:r,displayDowntime:xee(r)}})},[i]),T=x.useMemo(()=>{const e={};return i.forEach(t=>{if(t.date){const n=new Date(t.date),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}`;e[r]=(e[r]||0)+1}}),Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{const[n,r]=e.split("-");return{name:`${new Date(Number(n),Number(r)-1,1).toLocaleString("en-US",{month:"short"})} ${n}`,"Maintenance Events":t}})},[i]),O=x.useMemo(()=>{const e={Perbaikan:0,Perawatan:0};return i.forEach(t=>{"Perbaikan"===t.perbaikanPerawatan?e.Perbaikan+=1:"Perawatan"===t.perbaikanPerawatan&&(e.Perawatan+=1)}),[{name:"Repairs",value:e.Perbaikan},{name:"Maintenance",value:e.Perawatan}].filter(e=>e.value>0)},[i]),M=["#8884d8","#82ca9d","#ffc658","#ff7300"];return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:h.jsx(Kc,{}),isMobile:f,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${S?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${A?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",h.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),s?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):0===i.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Dd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[h.jsx(bee,{title:"Total Maintenance Events",value:C.toLocaleString("id-ID"),icon:h.jsx(od,{})}),h.jsx(bee,{title:"Avg. Downtime (All Machines)",value:xee(Math.round(i.reduce((e,t)=>e+(gee(t.stopJam,t.stopMenit,t.startJam,t.startMenit)||0),0)/i.length*100)/100),icon:h.jsx(ld,{})}),h.jsx(bee,{title:"Machines Maintained",value:new Set(i.map(e=>e.mesin)).size.toLocaleString("id-ID"),icon:h.jsx(Pu,{})}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Xc,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(pee,{data:_,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(N8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(c9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(b9,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(AG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),h.jsx(E6,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),0===_.length&&h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),O.length>0?h.jsx(DG,{width:"100%",height:300,children:h.jsxs(mee,{children:[h.jsx(A3,{data:O,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:O.map((e,t)=>h.jsx(PG,{fill:M[t%M.length]},`cell-${t}`))}),h.jsx(AG,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(e,t)=>[`${e} events`,t]}),h.jsx(Aq,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),h.jsx(DG,{width:"100%",height:350,children:h.jsxs(pee,{data:E,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(N8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(c9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(b9,{tickFormatter:e=>xee(e),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(AG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:e=>xee(e)}),h.jsx(E6,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),0===E.length&&h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Nu,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),h.jsx(DG,{width:"100%",height:350,children:h.jsxs(hee,{data:T,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(N8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(c9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(b9,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(AG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),h.jsx(Aq,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),h.jsx(B8,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),0===T.length&&h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})},vee=()=>{const[e,t]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[n,r]=x.useState(!1),[i,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(1),[p]=x.useState(10),{user:m,getAuditTrail:f,isAuthenticated:g}=xt();je();const[y,v]=x.useState(window.innerWidth<768),[w,j]=x.useState(!1),[N,k]=x.useState(!1),S=x.useRef(null),A=x.useRef(null),[C,_]=x.useState({key:"changed_at",direction:"descending"}),[E,T]=x.useState(""),O=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(E),[M,D]=x.useState(!1),[P,I]=x.useState(null),L=x.useCallback(async()=>{try{o(!0),c(null);const e=await f();a(e)}catch(e){c("Failed to load audit trail data. Please try again."),a([])}finally{o(!1)}},[f]);x.useEffect(()=>{L()},[L]),x.useEffect(()=>{const e=()=>{v(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&j(!1),A.current&&!A.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const R=e=>{let t="ascending";C&&C.key===e&&"ascending"===C.direction&&(t="descending"),_({key:e,direction:t})},F=e=>"object"==typeof e&&null!==e?e.name||e.toString():(null==e?void 0:e.toString())||"",B=x.useCallback(e=>{I(e),D(!0)},[]),H=e=>{switch(e){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},z=b.useMemo(()=>{let e=[...i||[]];if(O.trim()){const t=O.toLowerCase().trim();e=e.filter(e=>{var n,r,i;return[(null==(n=e.changed_by)?void 0:n.toLowerCase())||"",(null==(r=e.action)?void 0:r.toLowerCase())||"",(null==(i=e.recordable_type)?void 0:i.toLowerCase())||"",JSON.stringify(e.old_data_snapshot||{}).toLowerCase(),JSON.stringify(e.new_data_snapshot||{}).toLowerCase()].some(e=>e.includes(t))})}return null!==C?e.sort((e,t)=>{if("changed_at"===C.key){const n=new Date(e.changed_at).getTime(),r=new Date(t.changed_at).getTime();return"ascending"===C.direction?n-r:r-n}const n=F(e[C.key]),r=F(t[C.key]);return n<r?"ascending"===C.direction?-1:1:n>r?"ascending"===C.direction?1:-1:0}):e.sort((e,t)=>{const n=new Date(e.changed_at).getTime();return new Date(t.changed_at).getTime()-n}),e},[i,O,C]),W=d*p,U=W-p,V=z.slice(U,W),$=Math.ceil(z.length/p),q=e=>u(e),G=e=>{try{return new Date(e).toLocaleString()}catch(Dw){return e}},Y=({log:e,onClose:t})=>{const n=e=>null==e?"-":"object"==typeof e&&null!==e?JSON.stringify(e):"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():"boolean"==typeof e?e?"Yes":"No":String(e),r=e=>e&&""!==e.trim()?oy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}):"-",i=e=>{try{return new Date(e).toLocaleString()}catch(Dw){return e}},a=e=>e?e.replace("App\\Models\\",""):"Unknown",s=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),o=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),l=(e,t)=>{if(!e||0===Object.keys(e).length)return h.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",t," data available"]});const i=Object.entries(e).filter(([e])=>!["id","created_at","updated_at","deleted_at"].includes(e));return 0===i.length?h.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",t," data available"]}):h.jsx("div",{className:"space-y-4",children:i.map(([e,t])=>{const i=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),a=e.toLowerCase().includes("complaint")||e.toLowerCase().includes("action_taken")||e.toLowerCase().includes("remarks");return h.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:h.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:i})}),h.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:a?h.jsx("div",{className:"rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:r(String(t||""))}}):h.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:n(t)})})]},e)})})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",e.id]}),h.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full "+("created"===e.action?"bg-green-100 text-green-800 border border-green-300":"updated"===e.action?"bg-blue-100 text-blue-800 border border-blue-300":"deleted"===e.action?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"),children:e.action.charAt(0).toUpperCase()+e.action.slice(1)})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(ld,{className:"w-4 h-4"}),"Timestamp: ",i(e.changed_at)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Ou,{className:"w-4 h-4"}),"User: ",e.changed_by||"N/A"]})]})]})})}),h.jsx(s,{title:"General Information",icon:h.jsx(od,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(o,{label:"Audit ID",value:n(e.id),icon:h.jsx(Id,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Timestamp",value:i(e.changed_at),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"User",value:n(e.changed_by),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Action",value:n(e.action),icon:h.jsx(Dc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(o,{label:"Record Type",value:a(e.recordable_type),icon:h.jsx(bd,{className:"w-4 h-4"})}),h.jsx(o,{label:"Record ID",value:n(e.recordable_id),icon:h.jsx(Bd,{className:"w-4 h-4"})})]})}),e.recordable_details&&Object.keys(e.recordable_details).length>0&&h.jsx(s,{title:"Record Details",icon:h.jsx(bd,{className:"w-5 h-5"}),children:((e,t)=>{if(!e||0===Object.keys(e).length)return h.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",t.toLowerCase()," available"]});const r=Object.entries(e).filter(([e,t])=>!["id","created_at","updated_at","deleted_at"].includes(e)&&null!=t&&""!==t);return 0===r.length?h.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",t.toLowerCase()," available"]}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(([e,t])=>{const r=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return h.jsx(o,{label:r,value:n(t)},e)})})})(e.recordable_details,"Record Details")}),h.jsx(s,{title:"Data Changes Comparison",icon:h.jsx(Dc,{className:"w-5 h-5"}),children:(()=>{const t=(()=>{const t=e.old_data_snapshot?Object.keys(e.old_data_snapshot):[],n=e.new_data_snapshot?Object.keys(e.new_data_snapshot):[];return[...new Set([...t,...n])].filter(e=>!["id","created_at","updated_at","deleted_at"].includes(e))})();if(0===t.length)return h.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const i=t.map(t=>{var n,r;const i=null!=(n=e.old_data_snapshot)?n:{},a=null!=(r=e.new_data_snapshot)?r:{},s=Object.prototype.hasOwnProperty.call(i,t),o=Object.prototype.hasOwnProperty.call(a,t),l=s?i[t]:void 0;let c,d=o?a[t]:void 0;return"updated"===e.action&&s&&!o&&(d=l),c=!s&&o?"added":s&&!o?"deleted"===e.action?"removed":"unchanged":((e,t)=>{if(void 0===e&&void 0===t)return!0;if(null===e&&null===t)return!0;if(void 0===e&&null===t)return!1;if(null===e&&void 0===t)return!1;if(e===t)return!0;if(!isNaN(Number(e))&&!isNaN(Number(t)))return Number(e)===Number(t);if("boolean"==typeof e&&"boolean"==typeof t)return e===t;if("string"==typeof e&&"string"==typeof t)return e.trim().toLowerCase()===t.trim().toLowerCase();if("object"==typeof e&&"object"==typeof t&&null!==e&&null!==t)try{return JSON.stringify(e)===JSON.stringify(t)}catch(Dw){return String(e)===String(t)}const n=String(e||"").trim(),r=String(t||"").trim();return!(""!==n&&"null"!==n&&"undefined"!==n||""!==r&&"null"!==r&&"undefined"!==r)||n===r})(l,d)?"unchanged":"updated",{key:t,oldValue:l,newValue:d,status:c}}),a=i.filter(e=>"unchanged"!==e.status).length,s=i.length-a;return h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(({key:e,oldValue:t,newValue:i,status:a})=>{const s=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),o=e.toLowerCase().includes("complaint")||e.toLowerCase().includes("action_taken")||e.toLowerCase().includes("remarks"),l=o?r(String(t||"")):n(t),c=o?r(String(i||"")):n(i),d="updated"===a?"bg-yellow-50":"added"===a?"bg-green-50":"removed"===a?"bg-red-50":"";return h.jsxs("tr",{className:d,children:[h.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:s}),h.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:o?h.jsx("div",{className:"p-2 rounded rich-text-content prose prose-sm max-w-none "+("removed"===a?"bg-red-100 text-red-800 border border-red-200":"updated"===a?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),dangerouslySetInnerHTML:{__html:l}}):h.jsx("div",{className:"p-2 rounded "+("removed"===a?"bg-red-100 text-red-800 border border-red-200":"updated"===a?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),children:l})}),h.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:o?h.jsx("div",{className:"p-2 rounded rich-text-content prose prose-sm max-w-none "+("added"===a?"bg-green-100 text-green-800 border border-green-200":"updated"===a?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),dangerouslySetInnerHTML:{__html:c}}):h.jsx("div",{className:"p-2 rounded "+("added"===a?"bg-green-100 text-green-800 border border-green-200":"updated"===a?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"),children:c})}),h.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:"added"===a?h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[h.jsx(iu,{className:"w-3 h-3 mr-1"}),"Added"]}):"removed"===a?h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[h.jsx(ju,{className:"w-3 h-3 mr-1"}),"Removed"]}):"updated"===a?h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[h.jsx(Dc,{className:"w-3 h-3 mr-1"}),"Updated"]}):h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[h.jsx(id,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},e)})})]}),h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium",children:a})," field(s) changed  ",h.jsx("span",{className:"font-medium",children:s})," field(s) unchanged"]})]})})()}),h.jsx(s,{title:"Complete Data Snapshots",icon:h.jsx(pd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-8",children:[e.old_data_snapshot&&Object.keys(e.old_data_snapshot).length>0&&h.jsxs("div",{className:"w-full",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),h.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:l(e.old_data_snapshot,"old")})]}),e.new_data_snapshot&&Object.keys(e.new_data_snapshot).length>0&&h.jsxs("div",{className:"w-full",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),h.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:l(e.new_data_snapshot,"new")})]})]})}),h.jsx(s,{title:"Audit Summary",icon:h.jsx(Xc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),h.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.action.charAt(0).toUpperCase()+e.action.slice(1)})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),h.jsxs("p",{className:"text-sm text-green-600",children:[a(e.recordable_type),"  ID: ",e.recordable_id]})]})]})}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:h.jsx(Ac.button,{type:"button",onClick:t,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:h.jsx(Bd,{}),isMobile:y,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",h.jsx("span",{className:"text-blue-600",children:"Trail"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),h.jsx(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:E,onChange:e=>{T(e.target.value)},"aria-label":"Search audit logs"})]})})}),s?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):l?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(ku,{className:"text-red-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-red-700 text-base font-medium",children:l}),h.jsx("button",{onClick:L,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):0===z.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Dd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:O?"No audit entries found matching your search.":"No audit entries available."}),O&&h.jsx("button",{onClick:()=>T(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("changed_at"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(ld,{className:"mr-2 text-sm"})," Timestamp","changed_at"===(null==C?void 0:C.key)?h.jsx("span",{className:"ml-1",children:"ascending"===C.direction?"":""}):h.jsx("span",{className:"ml-1 text-gray-400",children:""})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("changed_by"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ou,{className:"mr-2 text-sm"})," User","changed_by"===(null==C?void 0:C.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===C.direction?"":""})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("action"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Dc,{className:"mr-2 text-sm"})," Action","action"===(null==C?void 0:C.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===C.direction?"":""})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>R("recordable_type"),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(bd,{className:"mr-2 text-sm"})," Record Type","recordable_type"===(null==C?void 0:C.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===C.direction?"":""})]})}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map(e=>{return h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:G(e.changed_at)})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.changed_by||"N/A"})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${H(e.action)} shadow-sm`,children:e.action.charAt(0).toUpperCase()+e.action.slice(1)})}),h.jsxs("td",{className:"px-5 py-3",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:(t=e.recordable_type,t?t.replace("App\\Models\\",""):"Unknown")}),e.recordable_id&&h.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",e.recordable_id]})]}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>B(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[h.jsx(gd,{className:"text-lg"}),h.jsx("span",{children:"View"})]})})]},e.id);var t})})]})})}),z.length>p&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:U+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(W,z.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:z.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(d-1),disabled:1===d,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:$},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${d===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(d+1),disabled:d===$,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),P&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",P.id]}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{D(!1),I(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:h.jsx(Y,{log:P,onClose:()=>{D(!1),I(null)}})})]})})})]})},wee=()=>{const e=je(),{user:t}=xt(),[n,r]=x.useState(!1),[i,a]=x.useState(window.innerWidth>=768),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(!1),[d,u]=x.useState(!1),p=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{const e=()=>{o(window.innerWidth<768),window.innerWidth<768?a(!1):a(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(Eu,{}),isMobile:s,toggleSidebar:()=>{a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),h.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:h.jsxs(Ac.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>{e("/workflowapproval/monitoringapproval")},children:[h.jsx(Kd,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",h.jsx(td,{size:18,className:"ml-1"})]})]})})]})]})]})},jee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Nee=()=>{const e=je(),{getApprovalTemplates:t,createApprovalTemplate:n,deleteApprovalTemplate:r,setApprovalTemplateActive:i}=xt(),[a,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(!1),[u,p]=x.useState(""),[m,f]=x.useState([]),[g,b]=x.useState(!1),[y,v]=x.useState(""),[w,j]=x.useState(!1),[N,k]=x.useState(null),S=(e,t,n)=>{k({type:e,templateId:t,templateName:n}),j(!0)};x.useEffect(()=>{A()},[]);const A=async()=>{try{b(!0);const e=await t();f(e||[])}catch(e){v("Failed to load approval templates")}finally{b(!1)}};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(Eu,{}),isMobile:a,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Ud,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),h.jsxs(Ac.button,{onClick:()=>d(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:g,children:[h.jsx(vd,{size:18,className:"mr-2"})," Create New Template"]})]}),y&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:y}),g?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(Vd,{className:"animate-spin text-blue-600",size:32})}):h.jsx("div",{className:"space-y-4",children:m.length>0?m.map(t=>h.jsx(Ac.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[h.jsx(bd,{size:20,className:"mr-2 text-blue-500"}),t.name]}),h.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[h.jsx("span",{className:"text-xs font-medium px-2.5 py-1 rounded-full "+(t.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.is_active?"Active":"Inactive"}),t.approvers&&h.jsxs("span",{className:"text-xs text-gray-500",children:[t.approvers.length," approver(s)"]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{onClick:()=>(t=>{e(`/workflowapproval/monitoringapproval/configureapproval/${t.id}`)})(t),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:g,children:"Configure"}),!t.is_active&&h.jsx(Ac.button,{onClick:e=>{e.stopPropagation(),S("activate",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:g,children:"Activate"}),h.jsx(Ac.button,{onClick:e=>{e.stopPropagation(),S("delete",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:g,children:"Delete"})]})]})},t.id)):h.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),h.jsx(jee,{isOpen:w,onClose:()=>{j(!1),k(null)},title:"Confirm Action",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",null==N?void 0:N.type,' template "',null==N?void 0:N.templateName,'"?',"delete"===(null==N?void 0:N.type)&&" This action cannot be undone."]}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{j(!1),k(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(N)try{b(!0),"activate"===N.type?(await i(N.templateId),f(e=>e.map(e=>({...e,is_active:e.id===N.templateId})))):"delete"===N.type&&(await r(N.templateId),await A()),j(!1),k(null),v("")}catch(e){v(`Failed to ${N.type} template`)}finally{b(!1)}},className:"px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm "+("delete"===(null==N?void 0:N.type)?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"),children:"delete"===(null==N?void 0:N.type)?"Delete":"Activate"})]})]})}),h.jsx(jee,{isOpen:c,onClose:()=>d(!1),title:"Create New Template",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),h.jsx("input",{type:"text",id:"templateName",value:u,onChange:e=>p(e.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),y&&h.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:y}),h.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{d(!1),p(""),v("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),h.jsxs(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(u.trim())try{b(!0);const e=await n({name:u,is_active:!1});f(t=>[...t,e]),d(!1),p(""),v("")}catch(e){v("Failed to create template")}finally{b(!1)}else v("Template name must be filled out.")},className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:g||!u.trim(),children:[g?h.jsx(Vd,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},kee=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),See=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(!1),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(""),[p,m]=x.useState(!1),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(null),j=x.useRef(!0),[N,k]=x.useState(null),[S]=x.useState(window.innerWidth<768),[A,C]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),_=je(),{getServiceGroups:E,getServiceGroup:T,hasPermission:O,deleteServiceGroup:M}=xt(),D=x.useCallback(async()=>{try{r(!0);const e=(await E(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});t(e)}catch(e){w("Failed to load service groups")}finally{j.current&&r(!1)}},[E]);return x.useEffect(()=>(j.current=!0,D(),()=>{j.current=!1}),[D]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Mu,{}),isMobile:S,toggleSidebar:()=>{const e=!A;C(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",h.jsx("span",{className:"text-blue-600",children:"Groups"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),O("view_service_groups")&&h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>_("/services/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Group"})]})]}),n?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):0===e.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:h.jsx(wd,{})}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),O("view_service_groups")&&h.jsx("button",{onClick:()=>_("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:e.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.description||"-"})}),O("view_service_groups")&&h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_(`/services/servicegroups/editservicegroup/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{return t=e.id,g(t),y(!0),void w(null);var t},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})}),v&&h.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 font-medium",children:v})})]})]}),h.jsx(kee,{isOpen:i,onClose:()=>a(!1),title:s?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),h.jsx("input",{value:l,onChange:e=>c(e.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),h.jsx("textarea",{value:d,onChange:e=>u(e.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{a(!1),o(null),c(""),u(""),w(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(l.trim()){m(!0),w(null);try{if(await new Promise(e=>setTimeout(e,500)),s)t(e=>e.map(e=>e.id===s.id?{...e,name:l.trim(),description:d.trim()||void 0}:e));else{const n={id:e.length>0?Math.max(...e.map(e=>e.id))+1:1,name:l.trim(),description:d.trim()||void 0};t(e=>[...e,n])}a(!1),o(null),c(""),u("")}catch(n){w("Failed to save service group")}finally{m(!1)}}else w("Group Name is required")},disabled:p,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:p?"Saving...":"Save"})]}),v&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-red-600 font-medium",children:v})})]})}),h.jsx(kee,{isOpen:b,onClose:()=>y(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:h.jsx(ju,{})}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>y(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>f&&(async n=>{try{await M(n),t(e.filter(e=>e.id!==n)),y(!1),g(null)}catch(r){w("Failed to delete service group. Please try again.")}})(f),disabled:p,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:p?"Deleting...":"Delete"})]})]})})]})},Aee=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Cee=({title:e,currentCount:t,lastMonthCount:n,icon:r,usePercentage:i=!0})=>{const a=t>=n,s=`${i?((e,t)=>{if(0===t)return e>0?"+100%":"0%";const n=(e-t)/t*100;return`${n>=0?"+":""}${Math.round(n)}%`})(t,n):((e,t)=>{const n=e-t;return`${n>0?"+":n<0?"":"+"}${n}`})(t,n)} from last month`;return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsx("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:s})]})},_ee=()=>{const e=xt(),[t,n]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),r=je(),[i,a]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[p,m]=x.useState(!1),[f,g]=x.useState(""),[b,y]=x.useState(!1),[v,w]=x.useState(""),[j,N]=x.useState(""),[k,S]=x.useState(!0),[A,C]=x.useState([]),[_,E]=x.useState([]),[T,O]=x.useState([]),[M,D]=x.useState(!1),[P,I]=x.useState(null),[L,R]=x.useState(!1),[F,B]=x.useState(null),[H,z]=x.useState(null),[W,U]=x.useState(!1),V=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(f),$=x.useRef(null),[q,G]=x.useState(1),[Y,Q]=x.useState({key:"created_at",direction:"descending"}),[K,J]=x.useState(null),[X,Z]=x.useState(!1),[ee,te]=x.useState(window.innerWidth<768),ne=x.useRef(null),re=x.useRef(null),ie=x.useCallback(async()=>{try{const t=(await e.getServiceGroups(0)||[]).map(e=>e.group_name||e.group_description?{id:e.id,group_name:e.group_name,group_description:e.group_description,name:e.group_name||e.name}:{id:e.id,name:e.name||null});E(t)}catch(Dw){E([])}},[e]),ae=x.useCallback(async()=>{try{const t=(await e.getUsers()||[]).map(e=>({id:Number(e.id),name:e.name}));O(t)}catch(Dw){O([])}},[e]),se=x.useCallback(e=>{var t,n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b;return{id:null!=(t=e.id)?t:0,service_name:null!=(r=null!=(n=e.service_name)?n:e.name)?r:"",service_description:null!=(a=null!=(i=e.service_description)?i:e.description)?a:"",service_group:null!=(o=null!=(s=e.service_group)?s:e.service_group)?o:0,priority:null!=(l=e.priority)?l:"Low",service_owner:Number(null!=(u=null!=(d=null!=(c=e.service_owner)?c:e.service_owner)?d:e.owner)?u:0),sla:Number(null!=(p=null!=(h=e.sla)?h:e.sla)?p:0),impact:null!=(m=e.impact)?m:"",created_at:null!=(g=null!=(f=e.created_at)?f:e.createdAt)?g:(new Date).toISOString(),updated_at:null!=(b=null!=(x=e.updated_at)?x:e.updatedAt)?b:(new Date).toISOString()}},[]),oe=x.useCallback(async()=>{S(!0),J(null);try{const t=(await e.getServices(0)||[]).map(se);t.sort((e,t)=>e.created_at<t.created_at?1:-1),C(t)}catch(Dw){J("Failed to load service catalogue."),C([])}finally{S(!1)}},[e,se]);x.useEffect(()=>{let e=!0;return e&&(oe(),ie(),ae()),()=>{e=!1}},[oe,ie,ae]),x.useEffect(()=>{const e=()=>{te(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{ne.current&&!ne.current.contains(e.target)&&m(!1),re.current&&!re.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const le=(e,t)=>{z({type:e,message:t}),setTimeout(()=>z(null),3e3)},ce=A.length,de=x.useMemo(()=>{const e={Critical:0,High:0,Medium:0,Low:0};return A.forEach(t=>{const n=t.priority||"Low";e[n]=(e[n]||0)+1}),e},[A]),ue=x.useMemo(()=>{if(0===A.length)return 0;const e=A.reduce((e,t)=>e+(t.sla||0),0);return Math.round(e/A.length*100)/100},[A]),he=x.useMemo(()=>{const e=new Set;return A.forEach(t=>e.add(t.service_owner)),e.size},[A]),pe=x.useMemo(()=>{const e=new Date;return e.setMonth(e.getMonth()-1),A.filter(t=>new Date(t.created_at)<e)},[A]),me=x.useMemo(()=>{let e=[...A];if(V.trim()){const t=V.toLowerCase().trim();e=e.filter(e=>e.service_name.toLowerCase().includes(t)||(e.service_description||"").toLowerCase().includes(t))}return v&&(e=e.filter(e=>String(e.service_group.id)===String(v))),j&&(e=e.filter(e=>e.priority===j)),Y&&e.sort((e,t)=>{const n=e[Y.key],r=t[Y.key];return n<r?"ascending"===Y.direction?-1:1:n>r?"ascending"===Y.direction?1:-1:0}),e},[A,V,v,j,Y]),fe=e=>{switch(e){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";default:return"bg-gray-500 text-white"}},ge=10*q,xe=ge-10,be=me.slice(xe,ge),ye=Math.max(1,Math.ceil(me.length/10)),ve=()=>{const[t,n]=x.useState((null==P?void 0:P.service_name)||""),[r,i]=x.useState((null==P?void 0:P.service_description)||""),[a,s]=x.useState((null==P?void 0:P.service_group.id)||""),[o,l]=x.useState((null==P?void 0:P.priority)||"Low"),[c,d]=x.useState((null==P?void 0:P.service_owner)||(T[0]?T[0].id:"")),[u,p]=x.useState((null==P?void 0:P.sla)||24),[m,f]=x.useState((null==P?void 0:P.impact)||""),[g,b]=x.useState({});return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),h.jsx("input",{value:t,onChange:e=>n(e.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),g.service_name&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.service_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),h.jsx("textarea",{value:r,onChange:e=>i(e.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),h.jsxs("select",{value:a,onChange:e=>s(e.target.value?Number(e.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[h.jsx("option",{value:"",children:"-- Select Group --"}),_.map(e=>{var t,n;return h.jsx("option",{value:String(e.id),children:null!=(n=null!=(t=e.group_name)?t:e.name)?n:String(e.id)},String(e.id))})]}),g.service_type&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.service_type})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),h.jsxs("select",{value:o,onChange:e=>l(e.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Critical",children:"Critical"})]}),g.priority&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.priority})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),h.jsx("input",{type:"number",value:u,onChange:e=>p(Number(e.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),g.sla&&h.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.sla})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),h.jsxs("select",{value:c,onChange:e=>d(e.target.value?Number(e.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[h.jsx("option",{value:"",children:"-- Select Owner --"}),T.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),h.jsx("textarea",{value:m,onChange:e=>f(e.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{if(b({}),t.trim())if(a)if(o)if(isNaN(Number(u)))b(e=>({...e,sla:"SLA must be a number"}));else{Z(!0);try{const n={service_name:t.trim(),service_description:r.trim(),service_type:Number(a),priority:o,service_owner:Number(c)||0,sla:Number(u)||0,impact:m.trim()};P?(await e.fetchWithAuth(`/service-catalogues/${P.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),le("success","Service updated")):(await e.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),le("success","Service created")),await oe(),D(!1)}catch(Dw){le("error","Save failed")}finally{Z(!1)}}else b(e=>({...e,priority:"Priority is required"}));else b(e=>({...e,service_type:"Service Type is required"}));else b({service_name:"Service Name is required"})},disabled:X,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:X?"Saving...":"Save"})]})]})},we=({service:e,onClose:t})=>{var n,r,i,a,s,o;const l=e=>null==e?"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),c=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",d=({priority:e})=>{const t={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.Low}`,children:e})},u=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),p=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),m=null!=(r=null==(n=T.find(t=>t.id===Number(e.service_owner)))?void 0:n.name)?r:String(e.service_owner),f=null!=(o=null!=(s=null==(i=_.find(t=>String(t.id)===String(e.service_group.id)))?void 0:i.group_name)?s:null==(a=_.find(t=>String(t.id)===String(e.service_group.id)))?void 0:a.name)?o:String(e.service_group.id);return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.service_name}),h.jsx(d,{priority:e.priority})]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Created: ",c(e.created_at)]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),h.jsx(u,{title:"Service Information",icon:h.jsx(Dd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(p,{label:"Service Name",value:l(e.service_name),icon:h.jsx(Uc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(p,{label:"Service Type",value:l(f),icon:h.jsx(wd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(p,{label:"Priority",value:l(e.priority),icon:h.jsx(ku,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(u,{title:"Service Details",icon:h.jsx(Uc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(p,{label:"Service Description",value:l(e.service_description),icon:h.jsx(Uc,{className:"w-4 h-4"}),fullWidth:!0}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(p,{label:"Service Owner",value:l(m),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(p,{label:"SLA (hours)",value:l(e.sla),icon:h.jsx(ld,{className:"w-4 h-4"})})]})]})}),h.jsx(u,{title:"Additional Information",icon:h.jsx(Dd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(p,{label:"Impact",value:l(e.impact),icon:h.jsx(ku,{className:"w-4 h-4"}),fullWidth:!0}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(p,{label:"Created At",value:c(e.created_at),icon:h.jsx(Yc,{className:"w-4 h-4"})}),h.jsx(p,{label:"Updated At",value:c(e.updated_at),icon:h.jsx(Yc,{className:"w-4 h-4"})})]})]})})]})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Uc,{}),isMobile:ee,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),n(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",h.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>r("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Service"})]}),h.jsxs("label",{className:"flex items-center cursor-pointer",children:[h.jsx("input",{type:"file",accept:".csv",onChange:t=>{var n;const r=(null==(n=t.target.files)?void 0:n[0])||null;r&&(async n=>{if(n){U(!0);try{const t=(await n.text()).split("\n").map(e=>e.trim()).filter(Boolean),r=[];for(let e=0;e<t.length;e++){const n=t[e].split(",").map(e=>e.trim()),i={service_name:n[1]||`Imported Service ${e+1}`,service_description:n[2]||"",service_type:_[0]?Number(_[0].id):0,priority:n[4]||"Low",service_owner:T[0]?T[0].id:0,sla:Number(n[6])||24,impact:n[7]||""};r.push(i)}for(const n of r)await e.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});await oe(),le("success",`Imported ${r.length} services`)}catch(t){le("error","Import failed")}finally{U(!1)}}})(r),t.target.value=""},className:"hidden"}),h.jsxs(Ac.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:W?"Importing...":"Import"})]})]}),h.jsxs(Ac.button,{onClick:()=>y(e=>!e),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:b?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Cee,{title:"Total Services",currentCount:ce,lastMonthCount:pe.length,icon:h.jsx(Dd,{})}),h.jsx(Cee,{title:"Critical",currentCount:de.Critical,lastMonthCount:pe.filter(e=>"Critical"===e.priority).length,icon:h.jsx(Dd,{}),usePercentage:!1}),h.jsx(Cee,{title:"Average SLA (hrs)",currentCount:ue,lastMonthCount:pe.length>0?Math.round(pe.reduce((e,t)=>e+(t.sla||0),0)/pe.length*100)/100:0,icon:h.jsx(Dd,{}),usePercentage:!1}),h.jsx(Cee,{title:"Total Owners",currentCount:he,lastMonthCount:new Set(pe.map(e=>e.service_owner)).size,icon:h.jsx(Ou,{}),usePercentage:!1})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[h.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:$,value:f,onChange:e=>g(e.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),h.jsx(Da,{children:b&&h.jsxs(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[h.jsxs("select",{value:v,onChange:e=>w(e.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},children:[h.jsx("option",{value:"",children:"All Groups"}),_.map(e=>{var t,n;return h.jsx("option",{value:String(e.id),children:null!=(n=null!=(t=e.group_name)?t:e.name)?n:String(e.id)},String(e.id))})]}),h.jsxs("select",{value:j,onChange:e=>N(e.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},children:[h.jsx("option",{value:"",children:"All Priorities"}),h.jsx("option",{value:"Critical",children:"Critical"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),k?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):K?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[h.jsx(Dd,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:K}),h.jsx("div",{className:"mt-4",children:h.jsx("button",{onClick:oe,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):0===me.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Dd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:V||v||j?"No services found matching your filters.":"No services available."}),(V||v||j)&&h.jsx("button",{onClick:()=>{w(""),N(""),g("")},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>(e=>{let t="ascending";Y&&Y.key===e&&"ascending"===Y.direction&&(t="descending"),Q({key:e,direction:t})})("service_name"),children:"Service Name"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:be.map((e,t)=>{var n,i,s,l,c,d;const u=null!=(i=null==(n=T.find(t=>t.id===Number(e.service_owner)))?void 0:n.name)?i:String(e.service_owner),p=null!=(d=null!=(c=null==(s=_.find(t=>String(t.id)===String(e.service_group.id)))?void 0:s.group_name)?c:null==(l=_.find(t=>String(t.id)===String(e.service_group.id)))?void 0:l.name)?d:String(e.service_group.id);return h.jsxs(Ac.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:xe+t+1}),h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.service_name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:p}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${fe(e.priority)} shadow-sm`,children:e.priority})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:u}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.sla}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:e.impact||"-"}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(e=>{a(e),o(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:h.jsx(gd,{className:"text-lg"})}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(`/services/servicecatalogues/editservicecatalogue/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:h.jsx(bu,{className:"text-lg"})}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{return t=e.id,B(t),void R(!0);var t},className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:h.jsx(ju,{className:"text-lg"})})]})]},e.id)})})]})})}),me.length>10&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:xe+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(ge,me.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:me.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(e=>Math.max(1,e-1)),disabled:1===q,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ye},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${q===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>G(e=>Math.min(ye,e+1)),disabled:q===ye,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),h.jsx(Aee,{isOpen:M,onClose:()=>D(!1),title:P?"Edit Service":"Add Service",className:"max-w-3xl",children:h.jsx(ve,{})}),h.jsx(Aee,{isOpen:L,onClose:()=>R(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(Dd,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>R(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(F){Z(!0);try{await e.fetchWithAuth(`/service-catalogues/${F}`,{method:"DELETE"}),await oe(),R(!1),B(null),le("success","Service deleted")}catch(Dw){le("error","Failed to delete service")}finally{Z(!1)}}},disabled:X,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),h.jsx(Aee,{isOpen:s,onClose:()=>o(!1),title:"Service Details",className:"max-w-5xl",children:i&&h.jsx(we,{service:i,onClose:()=>o(!1)})}),H&&h.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:h.jsx(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"px-5 py-3 rounded-lg shadow-md "+("success"===H.type?"bg-green-600 text-white":"bg-red-600 text-white"),children:H.message})})]})},Eee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Tee=()=>{const e=xt(),{addServiceGroup:t}=e,[n,r]=x.useState(window.innerWidth<768),[i,a]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),s=je(),[o,l]=x.useState(""),[c,d]=x.useState(""),[u,p]=x.useState(!1),[m,f]=x.useState(null),[g,b]=x.useState(!1),y=()=>{b(!1),s("/services/servicegroups")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Mu,{}),isMobile:n,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!i)),a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),h.jsxs(Ac.button,{onClick:()=>s("/services/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&h.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-semibold",children:"Error: "}),h.jsx("span",{className:"ml-2",children:m})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),f(null),o.trim()){p(!0);try{await t({group_name:o.trim(),group_description:c.trim()||null}),b(!0)}catch(n){const e=n instanceof Error?n.message:"Failed to save service group";f(e)}finally{p(!1)}}else f("Group Name is required")},className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{name:"group_name",value:o,onChange:e=>l(e.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),h.jsx("textarea",{name:"group_description",value:c,onChange:e=>d(e.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>s("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:u,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),h.jsx(Eee,{isOpen:g,onClose:y,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},Oee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Mee=()=>{const e=ke().id,t=je(),n=xt(),{getServiceGroup:r,updateServiceGroup:i}=n,[a,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(""),[u,p]=x.useState(""),[m,f]=x.useState(!1),[g,b]=x.useState(!0),[y,v]=x.useState(null),[w,j]=x.useState(!1);x.useEffect(()=>{let t=!0;return(async()=>{var n,i;b(!0),v(null);try{if(!e)return void v("Missing service group id");const a=await r(e);if(!t)return;d(String(null!=(n=a.group_name)?n:"")),p(String(null!=(i=a.group_description)?i:"")||"")}catch(a){const e=a instanceof Error?a.message:"Failed to load service group";v(e)}finally{t&&b(!1)}})(),()=>{t=!1}},[r,e]);const N=()=>{j(!1),t("/services/servicegroups")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Mu,{}),isMobile:a,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:g?h.jsxs("div",{className:"text-center p-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):h.jsxs(h.Fragment,{children:[y&&h.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-semibold",children:"Error: "}),h.jsx("span",{className:"ml-2",children:y})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),v(null),c.trim()){f(!0);try{const t=Number(e);await i(t,{group_name:c.trim(),group_description:u.trim()||null}),j(!0)}catch(n){const e=n instanceof Error?n.message:"Failed to update service group";v(e)}finally{f(!1)}}else v("Group Name is required")},className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{name:"group_name",value:c,onChange:e=>d(e.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),h.jsx("textarea",{name:"group_description",value:u,onChange:e=>p(e.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>t("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:m,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:m?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),h.jsx(Oee,{isOpen:w,onClose:N,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:N,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},Dee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Pee=()=>{const{id:e}=ke(),{updateServiceCatalogue:t,getServiceGroups:n,getUsers:r,fetchWithAuth:i}=xt(),a=je(),[s,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[d,u]=x.useState(!1),[p,m]=x.useState(!0),[f,g]=x.useState(null),[b,y]=x.useState(null),[v,w]=x.useState(!1),[j,N]=x.useState([]),[k,S]=x.useState([]),[A,C]=x.useState({service_name:"",service_description:"",service_group:null,priority:"Low",service_owner:"",sla:24,impact:""}),_=x.useCallback(async()=>{var t;try{const[a,s,o]=await Promise.all([i(`/service-catalogues/${e}`),n(0),r()]),l=a.data||a;N(s),S(o),l&&C({service_name:l.service_name||"",service_description:l.service_description||"",service_group:(null==(t=l.service_group)?void 0:t.id)||null,priority:l.priority||"Low",service_owner:String(l.service_owner||""),sla:l.sla?parseFloat(l.sla):24,impact:l.impact||""})}catch(a){g(a.message||"Failed to load service data")}finally{m(!1)}},[e,i,n,r]);x.useEffect(()=>{e&&_()},[e,_]);const E=e=>{const{name:t,value:n}=e.target;C(e=>({...e,[t]:"sla"===t?Number(n):"service_group"===t?""===n?null:Number(n):n}))},T=()=>{w(!1),a("/services/servicecatalogues")};return p?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Uc,{}),isMobile:s,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),h.jsxs(Ac.button,{onClick:()=>a("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Catalogue"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:f}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),h.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),u(!0),g(null),!(A.service_name&&null!==A.service_group&&A.priority&&A.service_owner&&A.sla))return g("Please fill all required fields"),void u(!1);try{const n={service_name:A.service_name,service_description:A.service_description,service_group:A.service_group,priority:A.priority,service_owner:Number(A.service_owner),sla:A.sla,impact:A.impact};await t(e,n),y("Service Catalogue updated successfully!"),w(!0)}catch(r){g(r.message||"Failed to update Service Catalogue")}finally{u(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"service_name",id:"service_name",value:A.service_name,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_group",id:"service_group",value:A.service_group||"",onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Type"}),j.map(e=>h.jsx("option",{value:e.id,children:e.group_name||e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"priority",id:"priority",value:A.priority,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_owner",id:"service_owner",value:A.service_owner,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Owner"}),k.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",name:"sla",id:"sla",value:A.sla,onChange:E,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),h.jsx("input",{type:"text",name:"impact",id:"impact",value:A.impact,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),h.jsx("textarea",{name:"service_description",id:"service_description",value:A.service_description,onChange:E,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>a("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),h.jsx(Dee,{isOpen:v,onClose:T,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:b}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:T,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},Iee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Lee=()=>{const{addServiceCatalogue:e,getServiceGroups:t,getUsers:n}=xt(),r=je(),[i,a]=x.useState(window.innerWidth<768),[s,o]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[l,c]=x.useState(!1),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState([]),[v,w]=x.useState([]),[j,N]=x.useState({service_name:"",service_description:"",service_group:"",priority:"Low",service_owner:"",sla:24,impact:""}),k=x.useCallback(async()=>{try{const[e,r]=await Promise.all([t(0),n()]),i=r.filter(e=>{var t,n,r,i;const a=(null==(n=null==(t=e.department)?void 0:t.name)?void 0:n.toLowerCase())||(null==(i=null==(r=e.department)?void 0:r.name)?void 0:i.toLowerCase())||"";return a.includes("information and technology")&&a.includes("technology")||"it"===a});y(e),w(i)}catch(e){u(e.message||"Failed to load form data")}},[t,n]);x.useEffect(()=>{k()},[k]);const S=e=>{const{name:t,value:n}=e.target;N(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=()=>{g(!1),r("/services/servicecatalogues")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Uc,{}),isMobile:i,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),o(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),h.jsxs(Ac.button,{onClick:()=>r("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Catalogue"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),c(!0),u(null),!(j.service_name&&j.service_group&&j.priority&&j.service_owner&&j.sla))return u("Please fill all required fields"),void c(!1);try{const t={service_name:j.service_name,service_description:j.service_description,service_group:Number(j.service_group),priority:j.priority,service_owner:Number(j.service_owner),sla:j.sla,impact:j.impact};await e(t),m("Service Catalogue created successfully!"),g(!0)}catch(n){u(n.message||"Failed to create Service Catalogue")}finally{c(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"service_name",id:"service_name",value:j.service_name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_group",id:"service_group",value:j.service_group,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Type"}),b.map(e=>h.jsx("option",{value:e.id,children:e.group_name||e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"priority",id:"priority",value:j.priority,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"service_owner",id:"service_owner",value:j.service_owner,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Service Owner"}),v.map(e=>h.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",name:"sla",id:"sla",value:j.sla,onChange:S,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),h.jsx("input",{type:"text",name:"impact",id:"impact",value:j.impact,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),h.jsx("textarea",{name:"service_description",id:"service_description",value:j.service_description,onChange:S,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>r("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:l,children:l?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Iee,{isOpen:f,onClose:A,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},Ree=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Fee=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Bee=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),{getDepartment:i,getUsers:a,deleteDepartment:s}=xt(),[o,l]=x.useState(!0),[c,d]=x.useState(null),[u,p]=x.useState(""),[m,f]=x.useState(!1),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w]=x.useState(window.innerWidth<768),[j,N]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),k=je(),S=x.useRef(null),[A,C]=x.useState(!1),_=x.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),E=x.useCallback(async()=>{try{l(!0);const e=await i(),n=await a(),s=[...e].sort((e,t)=>e.id-t.id);t(s),r(n)}catch(e){d("Failed to load departments")}finally{l(!1)}},[i,a]);x.useEffect(()=>{E()},[E]);const T=x.useMemo(()=>{if(!u)return _;const e=u.toLowerCase();return _.filter(t=>t.name.toLowerCase().includes(e))},[u,_]),O=x.useMemo(()=>{if(!u.trim())return e;const t=u.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&_.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n,a;const s=null==(t=e.name)?void 0:t.toLowerCase().includes(i),o=null==(a=null==(n=e.head)?void 0:n.name)?void 0:a.toLowerCase().includes(i);return"department"===r?s:"head"===r?o:s||o})},[e,u,_]),M=x.useCallback(e=>{b(e),f(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:h.jsx(Gc,{}),isMobile:w,toggleSidebar:()=>{const e=!j;N(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>k("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Department"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>v(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Fee,{title:"Total Departments",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Gc,{className:"w-6 h-6"})}),h.jsx(Fee,{title:"Head Departments",value:e.filter(e=>null!==e.head_id).length.toString(),change:`+${Math.floor(e.filter(e=>null!==e.head_id).length/e.length*100)}%`,icon:h.jsx(Ou,{className:"w-6 h-6"})}),h.jsx(Fee,{title:"Departments with Email",value:e.filter(e=>{var t;return null==(t=e.head)?void 0:t.email}).length.toString(),change:`+${Math.floor(e.filter(e=>{var t;return null==(t=e.head)?void 0:t.email}).length/e.length*100)}%`,icon:h.jsx(Gd,{className:"w-6 h-6"})}),h.jsx(Fee,{title:"Total Employees",value:n.length.toString(),change:`+${Math.floor(n.length/50*100)}%`,icon:h.jsx(Mu,{className:"w-6 h-6"})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:S,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:u,onChange:e=>{const t=e.target.value;p(t)},onFocus:()=>C(!0),"aria-label":"Search departments"}),h.jsx(Da,{children:A&&T.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:T.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,p(`${t}: `),C(!1),void(null==(n=S.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:y&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),o?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):0===O.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:u?"No departments found matching your search.":"No departments available."}),u&&h.jsx("button",{onClick:()=>p(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:O.map((e,t)=>{var n,r;return h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:(null==(n=e.head)?void 0:n.name)||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:(null==(r=e.head)?void 0:r.email)||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(`/worklocation/department/editdepartment/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id)})})]})})})]})]}),h.jsx(Ree,{isOpen:m,onClose:()=>f(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>f(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&(async n=>{try{await s(n),t(e.filter(e=>e.id!==n)),f(!1),b(null)}catch(r){d("Failed to delete department. Please try again.")}})(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Hee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,zee=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addDepartment:s,getUsers:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",head_id:0}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]),x.useCallback(e=>{if(!e)return;const t=parseInt(e.value),r=n.find(e=>parseInt(e.id)===t);if(r){const e=i.find(e=>e.id===r.department_id);j(n=>({...n,id:t,department_id:r.department_id||0,known_by_id:(null==e?void 0:e.head_id)||null}))}},[n,i]);const S=()=>{g(!1),v("/worklocation/department")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Gc,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Department Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,head_id:w.head_id};await s(e),m("Department created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Department")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"head_id",id:"head_id",value:w.head_id,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Head Department"}),n.map(e=>h.jsx("option",{value:e.id,children:e.name||e.name},e.id))]})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),h.jsx(Hee,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department"})]})})]})},Wee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Uee=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{addDepartment:o,getUsers:l,updateDepartment:c,getDepartmentById:d}=xt(),[u,p]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[m,f]=x.useState(null),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w,j]=x.useState(!1),N=je(),[k,S]=x.useState({name:"",head_id:0});x.useEffect(()=>{a&&S({name:a.name||"",head_id:a.head_id||0})},[a]);const A=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:"sla"===t?Number(n):n}))},C=x.useCallback(async()=>{try{if(e){const[t,n]=await Promise.all([d(e),l()]);s(t),i(n)}}catch(t){f(t.message||"Failed to load form data")}},[e,d,l]);x.useEffect(()=>{e&&C()},[e,C]);const _=()=>{v(!1),N("/worklocation/department")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Gc,{}),isMobile:t,toggleSidebar:()=>{p(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),h.jsxs(Ac.button,{onClick:()=>N("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Department Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:m}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>f(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),j(!0),f(null);try{const t={name:k.name,head_id:k.head_id};await c(e,t),b("Department update successfully!"),v(!0)}catch(n){f(n.message||"Failed to create Department")}finally{j(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:k.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"head_id",id:"head_id",value:k.head_id,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"",children:"Select Head Department"}),r.map(e=>h.jsx("option",{value:e.id,children:e.name||e.name},e.id))]})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>N("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),h.jsx(Wee,{isOpen:y,onClose:_,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department Management"})]})})]})},Vee=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),$ee=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},qee=()=>{const[e,t]=x.useState([]),{getStopTimes:n,deleteStopTimes:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load stop times")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const a=null==(t=e.name)?void 0:t.toLowerCase().includes(i),s=null==(n=e.description)?void 0:n.toLowerCase().includes(i);return"stop time"===r?a:"description"===r?s:a||s})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:h.jsx(ld,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Stop Time"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx($ee,{title:"Total Stop Times",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(ld,{className:"w-6 h-6"})})}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search stop times"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No stop times found matching your search.":"No stop times available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/stoptimes/editstoptime/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Vee,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete stop time. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Gee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Yee=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addStopTimes:s,getStopTimes:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/stoptimes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ld,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Stop Times Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Stop Time created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Stop Time")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Gee,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},Qee=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Kee=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getStopTimes:o,updateStopTimes:l,getStopTimesById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{a&&k({name:a.name||"",description:a.description||""})},[a]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&A()},[e,A]);const C=()=>{y(!1),j("/maintenanceactivity/stoptimes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ld,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),h.jsxs(Ac.button,{onClick:()=>j("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Stop Times Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Stop Time update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Stop Time")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(Qee,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},Jee=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Xee=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Zee=()=>{const[e,t]=x.useState([]),{getActivityTypes:n,deleteActivityTypes:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load activity types")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t;return null==(t=e.name)?void 0:t.toLowerCase().includes(i)})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:h.jsx(Hd,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Activity Type"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(Xee,{title:"Total Activity Types",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Hd,{className:"w-6 h-6"})})}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search activity types"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No activity types found matching your search.":"No activity types available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/activitytypes/editactivitytype/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Jee,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete activity type. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},ete=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,tte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addActivityTypes:s,getActivityTypes:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:""}),N=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{N()},[N]);const k=()=>{g(!1),v("/maintenanceactivity/activitytypes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Bd,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Activity Types Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name};await s(e),m("Activity Type created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Activity Type")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(ete,{isOpen:f,onClose:k,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:k,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},nte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,rte=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getActivityTypes:o,updateActivityTypes:l,getActivityTypesById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:""});x.useEffect(()=>{a&&k({name:a.name||""})},[a]);const S=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&S()},[e,S]);const A=()=>{y(!1),j("/maintenanceactivity/activitytypes")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Bd,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),h.jsxs(Ac.button,{onClick:()=>j("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Activity Type Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name};await l(e,t),g("Activity Type update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Activity Type")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),h.jsx(nte,{isOpen:b,onClose:A,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},ite=({title:e,currentCount:t,lastMonthCount:n,icon:r,usePercentage:i=!0})=>{const a=t>=n,s=`${i?ate(t,n):ste(t,n)} from last month`;return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsx("p",{className:"mt-3 text-xs font-semibold "+(a?"text-green-600":"text-red-600"),children:s})]})},ate=(e,t)=>{if(0===t)return e>0?"+100%":"0%";const n=(e-t)/t*100;return`${n>=0?"+":""}${Math.round(n)}%`},ste=(e,t)=>{const n=e-t;return`${n>0?"+":n<0?"":"+"}${n}`},ote=()=>{const[e,t]=x.useState(!1),[r,i]=x.useState(!1),[a,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,p]=x.useState(!1),[m,f]=x.useState(null),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w,j]=x.useState(null),[N,k]=x.useState(1),[S]=x.useState(5),[A,C]=x.useState(window.innerWidth<768),[_,E]=x.useState(!1),[T,O]=x.useState(!1),[M,D]=x.useState([]),[P,I]=x.useState([]),[L,R]=x.useState(!0),[F,B]=x.useState(null),[H,z]=x.useState(null),W=n(),[U,V]=x.useState([]),[$,q]=x.useState(!1),[G,Y]=x.useState(!1),[Q,K]=x.useState(null),[J,X]=x.useState(null),{user:Z,getWorkOrdersIT:ee,deleteWorkOrder:te,hasPermission:ne,fetchWithAuth:re,getVendor:ie}=xt(),ae=je(),se=ye(),oe=x.useRef(null),le=x.useRef(null);se.pathname,se.pathname;const ce="/workorders/it"===se.pathname;se.pathname;const de="/workorders/it/assignment"===se.pathname,ue="/workorders/it/receiver"===se.pathname,he="/workorders/it/reports"===se.pathname,pe="/workorders/it/knowledgebase"===se.pathname;x.useEffect(()=>{const e=()=>{C(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{oe.current&&!oe.current.contains(e.target)&&E(!1),le.current&&!le.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{let e=!0;return(async()=>{try{R(!0),B(null);const t=await ee();if(!e)return;const n=(null==Z?void 0:Z.isSuperadmin)?t:t.filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));D(n),D(n);const r=new Date;r.setMonth(r.getMonth()-1);const i=n.filter(e=>new Date(e.date)<r);V(i)}catch(t){if(!e)return;B("Failed to load work orders. Please try again.")}finally{e&&R(!1)}})(),()=>{e=!1}},[ee,null==Z?void 0:Z.id]),x.useEffect(()=>{k(1),document.documentElement.classList.toggle("dark",e)},[a,o,e]);const me=e=>{switch(e){case"New":case"Cancel":default:return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":case"Closed":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white"}},fe=x.useCallback(e=>{const t=M.find(t=>t.id===e);t&&(f(t),p(!0))},[M]);x.useCallback(e=>{j(e),v(!0)},[]);const ge=x.useCallback(async e=>{try{R(!0),B(null),await te(e);const t=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));D(t),v(!1),j(null),z("Work order deleted successfully."),setTimeout(()=>z(null),2500)}catch(t){B("Failed to delete work order.")}finally{R(!1)}},[te,ee,null==Z?void 0:Z.id]),xe=x.useCallback(e=>{X(e),Y(!0)},[]),be=x.useCallback(e=>{K(e),q(!0)},[]),ve=x.useCallback(async e=>{try{R(!0),B(null),await re(`/ayam/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const t=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));D(t);const n=new Date;n.setMonth(n.getMonth()-1);const r=t.filter(e=>new Date(e.date)<n);V(r),p(!1),f(null),Y(!1),X(null),z("Work order cancelled successfully."),setTimeout(()=>z(null),2500)}catch(t){B("Failed to cancel work order.")}finally{R(!1)}},[re,ee,null==Z?void 0:Z.id]),we=x.useCallback(async e=>{try{R(!0),B(null),await re(`/ayam/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const t=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));D(t);const n=new Date;n.setMonth(n.getMonth()-1);const r=t.filter(e=>new Date(e.date)<n);V(r),p(!1),f(null),q(!1),K(null),z("Work order completed successfully."),setTimeout(()=>z(null),2500)}catch(t){B("Failed to complete work order.")}finally{R(!1)}},[re,ee,null==Z?void 0:Z.id]),Ne=e=>e.filter(e=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(e.handling_status)),ke=e=>e.filter(e=>["Closed","Cancel"].includes(e.handling_status)),Se=e=>e.filter(e=>"New"===e.handling_status),Ae=M.filter(e=>{var t,n,r,i;const s=(null==(n=null==(t=e.requester)?void 0:t.name)?void 0:n.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(i=e.complaint)?void 0:i.toLowerCase().includes(a.toLowerCase()))||String(e.id).includes(a),l="all"===o||e.handling_status===o;return s&&l}).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),Ce=N*S,_e=Ce-S,Ee=Ae.slice(_e,Ce),Te=Math.ceil(Ae.length/S),Oe=e=>k(e),Me=({order:e,onClose:t})=>{var n,r,i,a,s;const o=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),l=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",c=({status:e})=>{const t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.New}`,children:e})},d=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),u=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),p=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(u,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const i=oy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:i}})]})]})})})},m=({order:e})=>{const t=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return h.jsx(ad,{className:"w-4 h-4"});case"assigned":return h.jsx(Ou,{className:"w-4 h-4"});case"in progress":return h.jsx(ld,{className:"w-4 h-4"});case"resolved":return h.jsx(xu,{className:"w-4 h-4"});case"closed":return h.jsx(id,{className:"w-4 h-4"});case"cancel":return h.jsx(sd,{className:"w-4 h-4"});case"escalated":return h.jsx(ku,{className:"w-4 h-4"});case"vendor handled":return h.jsx(Pu,{className:"w-4 h-4"});default:return h.jsx(Dc,{className:"w-4 h-4"})}},n=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},r=(e,t)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(null==t?void 0:t.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"}[e.toLowerCase()]||`Status: ${e}`),i=(e,t)=>{const n=new Date(e),r=new Date(t),i=Math.abs(r.getTime()-n.getTime()),a=Math.ceil(i/864e5);if(0===a){const e=Math.ceil(i/36e5),t=Math.ceil(i/6e4);return t<60?`${t} minutes`:`${e} hours`}return`${a} day${a>1?"s":""}`},a=e=>{const t=new Date(e);return{date:t.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},s=(()=>{var t,n;const a=[];if(a.push({id:"created",status:"new",date:e.date,changed_by:(null==(t=e.requester)?void 0:t.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),e.status_history&&e.status_history.length>0&&[...e.status_history].sort((e,t)=>new Date(e.changed_at).getTime()-new Date(t.changed_at).getTime()).forEach((t,n)=>{var s,o;const l=a[a.length-1],c=i(l.date,t.changed_at);let d=t.action,u=r(t.action);"updated"===t.action&&(null==(s=t.new_data)?void 0:s.handling_status)&&(d=t.new_data.handling_status,u=r(t.new_data.handling_status,{assigned_to:null==(o=e.assigned_to)?void 0:o.name}));let h="System";h=55===t.user_id?"DevTest User 1":41===t.user_id?"Regular User QC":57===t.user_id?"DevTest User 2":36===t.user_id?"Super Admin User":37===t.user_id?"Admin User One":40===t.user_id?"Regular User IT":42===t.user_id||56===t.user_id?"Monitor":t.changed_by?t.changed_by:`User ${t.user_id}`,a.push({id:t.id.toString(),status:d,date:t.changed_at,changed_by:h,description:u,duration:c,comments:t.comments,old_data:t.old_data,new_data:t.new_data,isStatusChange:!0})}),(null==(n=e.received_by)?void 0:n.name)&&e.handling_date&&!a.some(e=>{var t,n;return"received"===e.status||(null==(t=e.new_data)?void 0:t.received_by_id)&&"Resolved"===(null==(n=e.new_data)?void 0:n.handling_status)})){const t=a[a.length-1],n=i(t.date,e.handling_date),r={id:"received",status:"received",date:e.handling_date,changed_by:e.received_by.name,description:"Diterima oleh teknisi",duration:n,isManualEvent:!0};a.push(r)}return a.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())})();return h.jsxs("div",{className:"space-y-6",children:[s.map((r,o)=>{const l=a(r.date),c=o===s.length-1,d=(e=>{var t,n,r;return(null==(t=e.new_data)?void 0:t.handling_status)?`Diubah menjadi: ${e.new_data.handling_status}`:(null==(n=e.new_data)?void 0:n.assigned_to_id)?"Ditugaskan ke teknisi":(null==(r=e.new_data)?void 0:r.action_taken)?`Tindakan diambil: ${e.new_data.action_taken.substring(0,50)}...`:null})(r);return h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${n(r.status)}`}),!c&&h.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),h.jsxs("div",{className:"flex-1 pb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[t(r.status),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:r.status}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.date}),h.jsx("div",{className:"text-xs text-gray-500",children:l.time})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-gray-600",children:[h.jsx("strong",{children:"Changed by:"})," ",r.changed_by]}),r.duration&&"0 days"!==r.duration&&h.jsxs("span",{className:"text-blue-600 font-semibold",children:[" ",r.duration]})]}),r.duration&&"0 days"!==r.duration&&o>0&&h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),d&&h.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:d}),r.comments&&h.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[h.jsx("strong",{children:"Comments:"})," ",r.comments]}),"assigned"===r.status&&e.assigned_to&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Assigned to:"})," ",e.assigned_to.name,e.assigned_to.email&&` (${e.assigned_to.email})`]}),("resolved"===r.status||"closed"===r.status)&&e.action_taken&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Action taken:"})," ",e.action_taken.substring(0,100),"..."]})]}),c&&h.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),h.jsx("span",{className:"font-bold text-blue-600 text-lg",children:i(e.date,r.date)})]}),h.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",a(e.date).date,"  Current: ",l.date]})]})]})]},r.id)}),"Closed"===e.handling_status&&e.handling_date&&h.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),h.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",i(e.date,e.handling_date)]})]}),h.jsx(id,{className:"w-8 h-8 text-green-500"})]}),h.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:["Created: ",a(e.date).date]}),h.jsxs("div",{children:["Completed: ",a(e.handling_date).date]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("strong",{children:"Timeline:"})," ",s.length," status changes"]})]})]})]})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",e.work_order_no||e.id]}),h.jsx(c,{status:e.handling_status})]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Created: ",l(e.date)]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),h.jsx(d,{title:"General Information",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(u,{label:"Work Order No",value:o(e.work_order_no),icon:h.jsx(od,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Reception Method",value:o(e.reception_method),icon:h.jsx(Cu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Requester",value:o(null==(n=e.requester)?void 0:n.name),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Department",value:o(null==(r=e.department)?void 0:r.name),icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Known By",value:o(null==(i=e.known_by)?void 0:i.name),icon:h.jsx(gd,{className:"w-4 h-4"})})]})}),h.jsx(d,{title:"Service Details",icon:h.jsx(Pu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(u,{label:"Service Type",value:o(e.service_type.group_name),icon:h.jsx(mu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Service",value:o(e.service.service_name),icon:h.jsx(Pu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"No Asset",value:o(e.asset_no),icon:h.jsx(od,{className:"w-4 h-4"})})]})}),h.jsx(d,{title:"Device & Complaint",icon:h.jsx(ku,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(u,{label:"Device Information",value:o(e.device_info),icon:h.jsx(mu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(p,{label:"Complaint Details",htmlContent:e.complaint||"",icon:h.jsx(ku,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(d,{title:"Handling Information",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[h.jsx(u,{label:"Ticket Status",value:o(e.handling_status),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Handling Date",value:l(e.handling_date||"-"),icon:h.jsx(Yc,{className:"w-4 h-4"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[h.jsx(u,{label:"Assigned To",value:o(null==(a=e.assigned_to)?void 0:a.name),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(u,{label:"Received By",value:o(null==(s=e.received_by)?void 0:s.name),icon:h.jsx(id,{className:"w-4 h-4"})})]}),h.jsx(p,{label:"Action Taken",htmlContent:e.action_taken||"",icon:h.jsx(Pu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(p,{label:"Remarks",htmlContent:e.remarks||"",icon:h.jsx(od,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.status_history&&e.status_history.length>0&&h.jsx(d,{title:"Work Order Timeline",icon:h.jsx(Nd,{className:"w-5 h-5"}),children:h.jsx(m,{order:e})}),e.vendor&&h.jsx(d,{title:"Vendor Details",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(u,{label:"Vendor Name",value:o(e.vendor.name),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(u,{label:"Contact Person",value:o(e.vendor.contact_person),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(u,{label:"Email",value:o(e.vendor.email),icon:h.jsx(Gd,{className:"w-4 h-4"})}),h.jsx(u,{label:"Phone",value:o(e.vendor.telp),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Mobile",value:o(e.vendor.HP),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(u,{label:"Address",value:o(e.vendor.address),icon:h.jsx(Yd,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.attachment&&h.jsx(d,{title:"Attachment",icon:h.jsx(tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`${W.envVariables.VITE_BACKEND_API_URL}$ {order.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:e=>{e.currentTarget.style.display="none"}})})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(tu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),h.jsxs("a",{href:`${W.envVariables.VITE_BACKEND_API_URL}${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[h.jsx(fd,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})})]})};return L?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):F?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ku,{className:"text-red-600 text-5xl"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-lg text-red-800",children:F}),h.jsx("button",{onClick:()=>{(async()=>{try{R(!0),B(null);const e=(await ee()).filter(e=>e.requester_id===Number(null==Z?void 0:Z.id));D(e);const t=new Date;t.setMonth(t.getMonth()-1);const n=e.filter(e=>new Date(e.date)<t);V(n)}catch(e){B("Failed to load work orders. Please try again.")}finally{R(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:A,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>ae("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>ae("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ue?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>ae("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${de?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>ae("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${he?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>ae("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsxs(Ac.button,{onClick:()=>ae("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(iu,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),h.jsxs(Ac.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(jd,{className:"text-lg"}),h.jsx("span",{className:"font-semibold",children:"Filters"}),c?h.jsx(nd,{}):h.jsx(Zc,{})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(ite,{title:"Total IT Requests",currentCount:Ae.length,lastMonthCount:U.length,icon:h.jsx(od,{})}),h.jsx(ite,{title:"IT New WO",currentCount:Se(Ae).length,lastMonthCount:Se(U).length,icon:h.jsx(ld,{}),usePercentage:!1}),h.jsx(ite,{title:"IT Progress",currentCount:Ne(Ae).length,lastMonthCount:Ne(U).length,icon:h.jsx(Pu,{}),usePercentage:!1}),h.jsx(ite,{title:"IT Closed",currentCount:ke(Ae).length,lastMonthCount:ke(U).length,icon:h.jsx(id,{}),usePercentage:!1})]}),h.jsx(Ac.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:e=>s(e.target.value)})]}),h.jsx(Da,{children:c&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:o,onChange:e=>l(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"New",children:"New"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Cancel",children:"Cancel"}),h.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Name"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ee.length>0?Ee.map(e=>{const t=(e=>{var t;return e.vendor?`${e.vendor.name}`:(null==(t=e.assigned_to)?void 0:t.name)||"Unassigned"})(e),n=(e=>e.vendor?"vendor":e.assigned_to?"user":"unassigned")(e);return h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>fe(e.id),title:"Click to view details",children:e.work_order_no||"-"}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(e.date).toLocaleDateString()})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.device_info})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.asset_no||"-"})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.service_type.group_name||"N/A"})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${me(e.handling_status)}`,children:e.handling_status})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-sm font-medium "+("vendor"===n?"text-purple-600":"user"===n?"text-blue-600":"text-gray-500"),children:t}),"vendor"===n&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>fe(e.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:h.jsx(gd,{className:"text-base"})}),"New"===e.handling_status&&h.jsxs(h.Fragment,{children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ae(`/workorders/it/editworkorder/${e.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 p-1 rounded-full hover:bg-gray-50",title:"Edit Work Order",children:h.jsx(bu,{className:"text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>xe(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Cancel Work Order",children:h.jsx(Iu,{className:"text-base"})})]}),"Resolved"===e.handling_status&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t=>{be(e.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 p-1 rounded-full hover:bg-green-50",title:"Mark as Closed",children:h.jsx(id,{className:"text-base"})})]})]},e.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"px-5 py-8 text-center text-gray-600 text-base",children:"No IT work order requests found matching your criteria."})})})]})})}),Ae.length>S&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:_e+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(Ce,Ae.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:Ae.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Oe(N-1),disabled:1===N,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Te},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Oe(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n            ${N===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n          `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Oe(N+1),disabled:N===Te,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),m&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",m.id]}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{p(!1),f(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:h.jsx(Me,{order:m,onClose:()=>{p(!1),f(null)}})})]})})}),h.jsx(Da,{children:y&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>null!==w&&ge(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),H&&h.jsx(Ac.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:H}),h.jsx(Da,{children:$&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(id,{className:"text-green-500 text-5xl mx-auto"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>null!==Q&&we(Q),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),h.jsx(Da,{children:G&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-orange-500 text-5xl mx-auto"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Y(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>null!==J&&ve(J),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),F&&h.jsxs(Ac.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[F,h.jsx("button",{onClick:()=>B(null),className:"ml-2 underline",children:"Dismiss"})]})]})},lte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,cte=()=>{var e,t,n,r,i;const{updateWorkOrderIT:a,user:s,getUsers:o,getServices:l,getDepartment:c,getServiceGroups:d,getWorkOrderById:u}=xt(),p=je(),{id:m}=ke(),[f,g]=x.useState([]),[b,y]=x.useState([]),[v,w]=x.useState([]),[j,N]=x.useState([]),[k,S]=x.useState(window.innerWidth<768),[A,C]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[_,E]=x.useState(!1),[T,O]=x.useState(!1),[M,D]=x.useState(!1),[P,I]=x.useState(!1),[L,R]=x.useState(!0),[F,B]=x.useState(null),[H,z]=x.useState(null),[W,U]=x.useState(!1),[V,$]=x.useState(null),q=x.useRef(null),G=x.useRef(null),[Y,Q]=x.useState(!1),[K,J]=x.useState(null),X=x.useRef(null),Z=x.useRef(null),[ee,te]=x.useState([]),[ne,re]=x.useState([]),[ie,ae]=x.useState([]),[se,oe]=x.useState(!1),le={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==s?void 0:s.id)?parseInt(s.id):0,known_by_id:(null==(e=null==s?void 0:s.department)?void 0:e.head_id)||null,department_id:(null==s?void 0:s.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ce,de]=x.useState(le),ue="Electronic Work Order System"===ce.reception_method;x.useEffect(()=>{(async()=>{if(m)try{R(!0);const e=await u(parseInt(m));de({id:e.id,date:e.date.split("T")[0],reception_method:e.reception_method,requester_id:e.requester_id,known_by_id:e.known_by_id,department_id:e.department_id,service_group_id:e.service_group_id,service_catalogue_id:e.service_catalogue_id,asset_no:e.asset_no,device_info:e.device_info,complaint:e.complaint,attachment:e.attachment,received_by_id:e.received_by_id,handling_date:e.handling_date?e.handling_date.split("T")[0]:null,action_taken:e.action_taken,handling_status:e.handling_status,remarks:e.remarks})}catch(e){B(e.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{R(!1)}})()},[m,u]),x.useEffect(()=>{s&&(async()=>{try{const e=(await d(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});re(e),ae(e);const t=await c();y(t);const n=await o();if(g(n),s&&s.id){const e=await l(parseInt(s.id));w(e)}}catch(e){}})()},[s,o,l,c,d]),x.useEffect(()=>{var e;if("Electronic Work Order System"===ce.reception_method&&s){const t=(null==(e=s.department)?void 0:e.head_id)||null;de(e=>({...e,requester_id:parseInt(s.id),department_id:s.department_id||0,known_by_id:t}))}},[ce.reception_method,s]),x.useEffect(()=>{const e=()=>{S(window.innerWidth<768),window.innerWidth<768&&C(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{q.current&&!q.current.contains(e.target)&&O(!1),G.current&&!G.current.contains(e.target)&&D(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{if(ce.service_group_id&&v.length>0){const e=v.filter(e=>e.service_group.id===ce.service_group_id);te(e)}else te([])},[ce.service_group_id,v]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(A))},[A,_]);const he=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r=e.value;else{if(null!==e||!t)return;n=t,r=null}de(e=>({...e,[n]:r}))},[]),pe=e=>{de(t=>({...t,asset_no:e?e.value:""}))};x.useCallback(e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];$(t),de(e=>({...e,attachment:null}))}else $(null),de(e=>({...e,attachment:null}))},[]);const me=x.useCallback(()=>{$(null),de(e=>({...e,attachment:null}))},[]),fe=x.useCallback(()=>{U(!1),p("/workorders/it")},[p]),ge={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},xe=({selectedFile:e,attachment:t,onRemove:n})=>{if(!e&&!t)return null;const r=e&&e.type.startsWith("image/")?URL.createObjectURL(e):t&&t.startsWith("data:image")||t&&t.startsWith("blob:")?t:null,i=null!==r,a=e?e.name:"Existing attachment";return h.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"p-3 rounded-lg "+(e?"bg-blue-50":"bg-purple-50"),children:i?h.jsx(Qc,{className:"h-6 w-6 text-green-600"}):h.jsx(yd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:a}),h.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[h.jsx("p",{className:"text-xs text-gray-500",children:e?`${(e.size/1024/1024).toFixed(2)} MB`:"Existing file"}),h.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:e?"Ready to upload":"Attached"})]})]})]}),h.jsx(Ac.button,{type:"button",onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:h.jsx(Iu,{size:18})})]}),i&&r&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:r,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]})},be=x.useCallback(e=>{if(!e)return;const t=parseInt(e.value),n=f.find(e=>parseInt(e.id)===t);if(n){const e=b.find(e=>e.id===n.department_id);de(r=>({...r,requester_id:t,department_id:n.department_id||0,known_by_id:(null==e?void 0:e.head_id)||null}))}},[f,b]);return L?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Td,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:k,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!A)),C(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),h.jsxs(Ac.button,{onClick:()=>p("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(ed,{className:"text-lg"})," Back to Work Orders"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[F&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:F}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>B(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),I(!0),B(null);const t={id:ce.id,date:ce.date,reception_method:ce.reception_method,requester_id:ce.requester_id,known_by_id:ce.known_by_id,department_id:ce.department_id,service_group_id:ce.service_group_id,service_catalogue_id:ce.service_catalogue_id,asset_no:ce.asset_no,device_info:ce.device_info,complaint:ce.complaint,attachment:ce.attachment};try{await a(t,V),z({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ce.id}`}}),U(!0)}catch(n){B(n.message||"Gagal memperbarui work order. Silakan coba lagi.")}finally{I(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"date",name:"date",value:ce.date,onChange:he,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ce.reception_method,label:ce.reception_method},onChange:e=>{const t=(null==e?void 0:e.value)||"";de(e=>{var n,r;const i={...e,reception_method:t};return"Electronic Work Order System"===t&&s?{...i,requester_id:parseInt(s.id),department_id:(null==(n=s.department)?void 0:n.id)||0,known_by_id:(null==(r=s.department)?void 0:r.head_id)||null}:i})},placeholder:"Select Reception Method",styles:ge,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",h.jsx("span",{className:"text-red-500",children:"*"})]}),ue?h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==s?void 0:s.name)||"Current User"})}):h.jsx(aN,{id:"requester_id",name:"requester_id",options:f.map(e=>({value:String(e.id),label:e.name})),value:f.find(e=>parseInt(e.id)===ce.requester_id)?{value:String(ce.requester_id),label:(null==(t=f.find(e=>parseInt(e.id)===ce.requester_id))?void 0:t.name)||""}:null,onChange:be,placeholder:"Select Requester",styles:ge,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(ue){const e=b.find(e=>e.id===(null==s?void 0:s.department_id));return(null==e?void 0:e.name)||"No department assigned"}const e=b.find(e=>e.id===ce.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(()=>{if(ue){const e=b.find(e=>e.id===(null==s?void 0:s.department_id));if(e&&e.head_id){const t=f.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"}const e=b.find(e=>e.id===ce.department_id);if(e&&e.head_id){const t=f.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"service_group_id",name:"service_group_id",options:ne.map(e=>({value:String(e.id),label:e.name})),value:null!==ce.service_group_id?{value:String(ce.service_group_id),label:(null==(n=ne.find(e=>e.id===ce.service_group_id))?void 0:n.name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;de(e=>({...e,service_group_id:t,service_catalogue_id:null}))},placeholder:"Select Service Type",styles:ge,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"service_catalogue_id",name:"service_catalogue_id",options:ee.map(e=>({value:String(e.id),label:e.service_name})),value:null!==ce.service_catalogue_id?{value:String(ce.service_catalogue_id),label:(null==(r=ee.find(e=>e.id===ce.service_catalogue_id))?void 0:r.service_name)||""}:null,onChange:e=>{const t=e?parseInt(e.value):null;de(e=>({...e,service_catalogue_id:t}))},placeholder:null!==ce.service_group_id?0===ee.length?"No services available for selected type":"Select Service":"Please select Service Type first",styles:ge,isDisabled:null===ce.service_group_id||0===ee.length,required:!0}),0===ee.length&&ce.service_group_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),h.jsx(HL,{name:"asset_no",id:"asset_no",options:j,value:ce.asset_no?{value:ce.asset_no,label:ce.asset_no}:null,onChange:pe,onCreateOption:e=>{const t={value:e,label:e};N(e=>[...e,t]),pe(t)},placeholder:"Type or select Asset No.",styles:ge,isClearable:!0,required:!1})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Wd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{id:"device_info",name:"device_info",value:ce.device_info,onChange:he,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:ce.complaint,onChange:e=>{de(t=>({...t,complaint:e}))}})]})]})]}),h.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),V||ce.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(tu,{className:"h-5 w-5 text-blue-600"})}),h.jsx("p",{className:"text-sm font-medium text-blue-900",children:V?`File selected: ${V.name}`:"Existing attachment"}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:V?"File ready for upload. Click to change.":"Existing file attached. Click to change."})]})}):h.jsx(Ac.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),Q(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(tu,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}),h.jsx(xe,{selectedFile:V,attachment:ce.attachment,onRemove:me}),h.jsx(Da,{children:Y&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>Q(!1),children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Iu,{size:20})})]}),K?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:X,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:Z,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(X.current&&Z.current){const e=Z.current,t=e.getContext("2d");if(t){e.width=X.current.videoWidth,e.height=X.current.videoHeight,t.drawImage(X.current,0,0);const n=e.toDataURL("image/jpeg",.8);de(e=>({...e,attachment:n}));const r={name:`photo-${Date.now()}.jpg`,type:"image/jpeg",size:n.length,lastModified:Date.now(),data:n};$(r),K&&(K.getTracks().forEach(e=>e.stop()),J(null))}Q(!1)}},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{K&&(K.getTracks().forEach(e=>e.stop()),J(null)),Q(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];$(e),de(e=>({...e,attachment:null}))}Q(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(yd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});J(e),X.current&&(X.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(Qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:()=>p("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(Bc,{className:"mr-2 h-5 w-5"})," Cancel"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:P,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:P?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),h.jsx(lte,{isOpen:W,onClose:fe,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==H?void 0:H.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(i=null==H?void 0:H.work_order)?void 0:i.work_order_no]}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:fe,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},dte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,ute=()=>{var e,t,n;const{updateWorkOrderIT:r,user:i,getUsers:a,getServices:s,getDepartment:o,getServiceGroups:l,getWorkOrderById:c,getVendor:d}=xt(),u=je(),{id:p}=ke(),[m,f]=x.useState([]),[g,b]=x.useState([]),[y,v]=x.useState([]),[w,j]=x.useState(window.innerWidth<768),[N,k]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[S,A]=x.useState(!1),[C,_]=x.useState(!1),[E,T]=x.useState(!1),[O,M]=x.useState(!1),[D,P]=x.useState(!0),[I,L]=x.useState(null),[R,F]=x.useState(null),[B,H]=x.useState(!1),z=x.useRef(null),W=x.useRef(null),[U,V]=x.useState([]),[$,q]=x.useState([]),[G,Y]=x.useState(!1),[Q,K]=x.useState([]),[J,X]=x.useState(!1),[Z,ee]=x.useState(null),[te,ne]=x.useState(!1),re=({content:e,className:t=""})=>{if(!e)return h.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,children:h.jsx("span",{children:"-"})});const n=oy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return h.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,dangerouslySetInnerHTML:{__html:n}})},ie={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==i?void 0:i.id)?parseInt(i.id):0,known_by_id:(null==(e=null==i?void 0:i.department)?void 0:e.head_id)||null,department_id:(null==i?void 0:i.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[ae,se]=x.useState(ie);x.useEffect(()=>{const e="Escalated"===ae.handling_status,t="Vendor Handled"===ae.handling_status;Y(e),X(t),!e&&ae.assigned_to_id&&se(e=>({...e,assigned_to_id:null})),t||(se(e=>({...e,vendor_id:null})),ee(null),ne(!1))},[ae.handling_status]),x.useEffect(()=>{Q.length>0&&(async()=>{if(p)try{P(!0);const e=await c(parseInt(p));if(se({id:e.id,date:e.date.split("T")[0],reception_method:e.reception_method,requester_id:e.requester_id,known_by_id:e.known_by_id,department_id:e.department_id,service_group_id:e.service_group_id,service_catalogue_id:e.service_catalogue_id,asset_no:e.asset_no,device_info:e.device_info,complaint:e.complaint,attachment:e.attachment,received_by_id:e.received_by_id,handling_date:e.handling_date?e.handling_date.split("T")[0]:null,action_taken:e.action_taken,handling_status:e.handling_status,remarks:e.remarks,vendor_id:e.vendor_id||null}),e.vendor_id&&Q.length>0){const t=Q.find(t=>t.id===e.vendor_id);t&&ee(t)}}catch(e){L(e.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{P(!1)}})()},[p,c,Q]),x.useEffect(()=>{i&&(async()=>{try{const e=await d();K(e);const t=(await l(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});q(t);const n=await o();b(n);const r=await a();if(f(r),i&&i.id){const e=await s(parseInt(i.id));v(e)}}catch(e){}})()},[i,a,s,o,l,d]),x.useEffect(()=>{const e=()=>{j(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{z.current&&!z.current.contains(e.target)&&_(!1),W.current&&!W.current.contains(e.target)&&T(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{if(ae.service_group_id&&y.length>0){const e=y.filter(e=>e.service_group.id===ae.service_group_id);V(e)}else V([])},[ae.service_group_id,y]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const oe=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r="assigned_to_id"===t||"requester_id"===t||"known_by_id"===t?e.value?parseInt(e.value):null:e.value;else{if(null!==e||!t)return;n=t,r=null}se(e=>({...e,[n]:r}))},[]),le=x.useCallback(()=>{H(!1),u("/workorders/it/receiver")},[u]),ce={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return D?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Td,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:w,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),h.jsxs(Ac.button,{onClick:()=>u("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(ed,{className:"text-lg"})," Back to Receiver"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[I&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:I}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>L(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),M(!0),L(null),"Escalated"===ae.handling_status&&!ae.assigned_to_id)return L("Assigned To is required for Escalated status"),void M(!1);if("Vendor Handled"===ae.handling_status&&!ae.vendor_id)return L("Vendor selection is required for Vendor Handled status"),void M(!1);if(!ae.handling_status)return L("Handling status is required"),void M(!1);if(!ae.handling_date)return L("Handling date is required"),void M(!1);if(!ae.action_taken||ae.action_taken.length<5)return L("Action taken must be at least 5 characters"),void M(!1);const t={...ae,id:ae.id,received_by_id:(null==i?void 0:i.id)?parseInt(i.id):null,handling_date:ae.handling_date,action_taken:ae.action_taken,handling_status:ae.handling_status,remarks:ae.remarks,assigned_to_id:ae.assigned_to_id?parseInt(ae.assigned_to_id):null,vendor_id:ae.vendor_id};try{await r(t),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ae.id}`}}),H(!0)}catch(n){L(n.message||"Gagal memperbarui work order. Silakan coba lagi.")}finally{M(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.date})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.reception_method})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=m.find(e=>parseInt(e.id)===ae.requester_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ae.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ae.department_id);if(e&&e.head_id){const t=m.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=$.find(e=>e.id===ae.service_group_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=y.find(e=>e.id===ae.service_catalogue_id);return(null==e?void 0:e.service_name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.asset_no})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Wd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.device_info})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),h.jsx(re,{content:ae.complaint,className:"min-h-[100px]"})]})]})]}),ae.attachment&&h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(tu,{className:"mr-2 text-gray-500"})," Attachment"]}),h.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[h.jsx("span",{className:"text-gray-700",children:(()=>{if(!ae.attachment)return null;try{const e=new URL(ae.attachment).pathname;return e.substring(e.lastIndexOf("/")+1)}catch(Dw){return ae.attachment}})()}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ae.attachment&&window.open(ae.attachment,"_blank")},className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," Handling Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==i?void 0:i.name)||"Current User"})})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:ae.handling_date||"",onChange:oe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:ae.handling_status?{value:ae.handling_status,label:ae.handling_status}:null,onChange:e=>oe(e,"handling_status"),placeholder:"Select Handling Status",styles:ce,required:!0})]}),G&&h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"assigned_to_id",name:"assigned_to_id",options:m.map(e=>({value:String(e.id),label:e.name})),value:ae.assigned_to_id?{value:String(ae.assigned_to_id),label:(null==(t=m.find(e=>parseInt(e.id)===ae.assigned_to_id))?void 0:t.name)||"Unknown"}:null,onChange:e=>oe(e,"assigned_to_id"),placeholder:"Select Assignee",styles:ce,required:G})]}),J&&h.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-gray-600"})," Vendor Information"]}),Z?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ee(null),se(e=>({...e,vendor_id:null})),ne(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.contact_person})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.address||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.telp||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.HP||"-"})]})]})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(!te),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:te?"Hide Vendors":"Select Vendor"})]}),te&&h.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Q.length>0?Q.map(e=>h.jsxs(Ac.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>(e=>{ee(e),se(t=>({...t,vendor_id:e.id})),ne(!1)})(e),children:[h.jsx("div",{className:"font-medium text-gray-900",children:e.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:[e.contact_person,"  ",e.email]}),h.jsx("div",{className:"text-xs text-gray-500",children:e.address})]},e.id)):h.jsxs("div",{className:"p-4 text-center text-gray-600",children:[h.jsx(ku,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:ae.action_taken||"",onChange:e=>{se(t=>({...t,action_taken:e}))}})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:ae.remarks||"",onChange:e=>{se(t=>({...t,remarks:e}))}})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:()=>u("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(Bc,{className:"mr-2 h-5 w-5"})," Cancel"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:O,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:O?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),h.jsx(dte,{isOpen:B,onClose:le,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==R?void 0:R.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(n=null==R?void 0:R.work_order)?void 0:n.work_order_no]}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},hte=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},pte=()=>{const[e,t]=x.useState(!1),[r,i]=x.useState(!1),[a,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,p]=x.useState(!1),[m,f]=x.useState(null),[g,b]=x.useState(1),[y]=x.useState(5),[v,w]=x.useState(window.innerWidth<768),[j,N]=x.useState(!1),[k,S]=x.useState(!1),[A,C]=x.useState([]),[_,E]=x.useState(!0),[T,O]=x.useState(null),[M,D]=x.useState(!1),[P,I]=x.useState(null),[L,R]=x.useState(!1),[F,B]=x.useState(""),H=n(),z=je(),W=ye(),U=x.useRef(null),V=x.useRef(null),{user:$,getWorkOrdersIT:q,updateWorkOrderIT:G,hasPermission:Y}=xt(),Q="/workorders/it/assignment"===W.pathname,K="/workorders/it/reports"===W.pathname,J="/workorders/it/knowledgebase"===W.pathname,X="/workorders/it"===W.pathname,Z="/workorders/it/receiver"===W.pathname;W.pathname;const ee=({order:e,onClose:t})=>{var n,r,i,a,s,o,l,c,d,u;const p=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),m=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",f=({status:e})=>{const t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.New}`,children:e})},g=({priority:e})=>{const t={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return h.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${t[e]||t.Medium}`,children:e||"Medium"})},x=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),b=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),y=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(b,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const i=oy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:i}})]})]})})})},v=({order:e})=>{const n=!["Resolved","Cancel","Closed"].includes(e.handling_status)&&e.assigned_to_id===Number(null==$?void 0:$.id);return h.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[n&&h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>z(`/workorders/it/assignment/editassignment/${e.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(bu,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",e.work_order_no||e.id]}),h.jsx(f,{status:e.handling_status}),h.jsx(g,{priority:null==(n=e.service)?void 0:n.priority})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Created: ",m(e.date)]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(ld,{className:"w-4 h-4"}),e.handling_date?`Assigned: ${m(e.handling_date)}`:"Not yet assigned"]})]})]})})}),h.jsx(x,{title:"My Assignment Details",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(b,{label:"Assigned To",value:p((null==(r=e.assigned_to)?void 0:r.name)||(null==$?void 0:$.name)),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(b,{label:"Assignment Type",value:e.vendor?"Vendor":"Internal Technician",icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Current Status",value:p(e.handling_status),icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(b,{label:"Priority Level",value:p((null==(i=e.service)?void 0:i.priority)||"Medium"),icon:h.jsx(ku,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(x,{title:"Service & Technical Information",icon:h.jsx(Pu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(b,{label:"Service Type",value:p(null==(a=e.service_type)?void 0:a.group_name),icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Service Name",value:p(null==(s=e.service)?void 0:s.service_name),icon:h.jsx(od,{className:"w-4 h-4"})}),h.jsx(b,{label:"Service Owner",value:p(null==(l=null==(o=e.service)?void 0:o.owner)?void 0:l.name),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(b,{label:"Asset Number",value:p(e.asset_no),icon:h.jsx(od,{className:"w-4 h-4"})})]})}),h.jsx(x,{title:"Request Information",icon:h.jsx(od,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(b,{label:"Requester",value:p(null==(c=e.requester)?void 0:c.name),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(b,{label:"Requester Department",value:p(e.department_name||(null==(d=e.department)?void 0:d.name)),icon:h.jsx(mu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Reception Method",value:p(e.reception_method),icon:h.jsx(Cu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Known By",value:p(null==(u=e.known_by)?void 0:u.name),icon:h.jsx(gd,{className:"w-4 h-4"})})]})}),h.jsx(x,{title:"Problem Details",icon:h.jsx(ku,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(b,{label:"Device Information",value:p(e.device_info),icon:h.jsx(mu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(y,{label:"Complaint Description",htmlContent:e.complaint||"",icon:h.jsx(ku,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(x,{title:"Progress & Actions",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(y,{label:"Action Taken",htmlContent:e.action_taken||"No actions recorded yet",icon:h.jsx(Pu,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(y,{label:"Technical Notes & Remarks",htmlContent:e.remarks||"No remarks yet",icon:h.jsx(od,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.vendor&&h.jsx(x,{title:"Vendor Information",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(b,{label:"Vendor Name",value:p(e.vendor.name),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(b,{label:"Contact Person",value:p(e.vendor.contact_person),icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(b,{label:"Email",value:p(e.vendor.email),icon:h.jsx(Gd,{className:"w-4 h-4"})}),h.jsx(b,{label:"Phone",value:p(e.vendor.telp),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Mobile",value:p(e.vendor.HP),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(b,{label:"Address",value:p(e.vendor.address),icon:h.jsx(Yd,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(x,{title:"Timeline & Status History",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),h.jsx("span",{className:"text-sm text-green-600",children:m(e.date)})]}),e.handling_date&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),h.jsx("span",{className:"text-sm text-blue-600",children:m(e.handling_date)})]}),e.action_taken&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[h.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),h.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(e.handling_status)&&h.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[h.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),h.jsx("span",{className:"text-sm text-orange-600",children:e.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(e.handling_status)&&h.jsx(x,{title:"Next Steps",icon:h.jsx(id,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[h.jsx(id,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),"Assigned"===e.handling_status&&h.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[h.jsx(ld,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),"In Progress"===e.handling_status&&h.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[h.jsx(Pu,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),e.attachment&&h.jsx(x,{title:"Attachment",icon:h.jsx(tu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:`${H.envVariables.VITE_BACKEND_API_URL}$ {order.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:e=>{e.currentTarget.style.display="none"}})})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(tu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),h.jsxs("a",{href:`${H.envVariables.VITE_BACKEND_API_URL}${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[h.jsx(fd,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})}),h.jsx(v,{order:e})]})},te=x.useCallback(async()=>{E(!0),O(null);try{const e=(await q()).filter(e=>e.assigned_to_id===Number(null==$?void 0:$.id));C(e)}catch(e){O(e.message||"Failed to load work orders.")}finally{E(!1)}},[q,null==$?void 0:$.id]),ne=x.useCallback(async(e,t)=>{D(!0),I(null),R(!1);try{const n=await G({...t,id:e});return C(t=>t.map(t=>t.id===e?n:t)),R(!0),setTimeout(()=>R(!1),3e3),n}catch(n){throw I(n.message||"Failed to update work order."),n}finally{D(!1)}},[G]),re=()=>{w(window.innerWidth<768),window.innerWidth<768&&i(!1)},ie=e=>{U.current&&!U.current.contains(e.target)&&N(!1),V.current&&!V.current.contains(e.target)&&S(!1)};x.useEffect(()=>(window.addEventListener("resize",re),document.addEventListener("mousedown",ie),te(),()=>{window.removeEventListener("resize",re),document.removeEventListener("mousedown",ie)}),[te]);const ae=e=>{switch(e){case"New":default:return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":case"Cancel":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Closed":return"bg-gray-900 text-white"}},se=e=>{switch(null==e?void 0:e.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},oe=e=>{switch(e){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},le=e=>{switch(null==e?void 0:e.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},ce=x.useCallback(e=>{const t=A.find(t=>t.id===e);t&&(f(t),p(!0))},[A]);x.useCallback(async e=>{if(F.trim())try{await ne(e,{assigned_to_name:F.trim(),handling_status:"Vendor Handled",handling_date:(new Date).toISOString()}),B(""),R(!0)}catch(t){}else I("Vendor name is required")},[ne,F]),x.useCallback(async(e,t)=>{try{await ne(e,{handling_status:t,handling_date:(new Date).toISOString()})}catch(n){}},[ne]);const de=A.filter(e=>{var t,n,r,i;const s=(null==(n=null==(t=e.requester)?void 0:t.name)?void 0:n.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(i=e.complaint)?void 0:i.toLowerCase().includes(a.toLowerCase()))||String(e.id).includes(a),l="all"===o||e.handling_status===o;return s&&l}).sort((e,t)=>{var n,r;const i=oe(e.handling_status),a=oe(t.handling_status);if(i!==a)return i-a;const s=le(null==(n=e.service)?void 0:n.priority),o=le(null==(r=t.service)?void 0:r.priority);return s!==o?s-o:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}),ue=g*y,he=ue-y,pe=de.slice(he,ue),me=Math.ceil(de.length/y),fe=e=>b(e);return x.useEffect(()=>{b(1),document.documentElement.classList.toggle("dark",e)},[a,o,e]),_?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):T?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ku,{className:"text-red-600 text-5xl"}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-lg text-red-800",children:T}),h.jsx("button",{onClick:te,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:v,toggleSidebar:()=>{i(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),P&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:P}),h.jsx("button",{onClick:()=>I(null),className:"absolute top-0 right-0 p-3",children:h.jsx(Iu,{size:16})})]}),L&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[h.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),h.jsx("button",{onClick:()=>R(!1),className:"absolute top-0 right-0 p-3",children:h.jsx(Iu,{size:16})})]}),h.jsx(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(hte,{title:"Total Assignments",value:de.length.toString(),change:"+8%",icon:h.jsx(od,{})}),h.jsx(hte,{title:"In Progress",value:de.filter(e=>"In Progress"===e.handling_status).length.toString(),change:"-1",icon:h.jsx(Pu,{})}),h.jsx(hte,{title:"Resolved",value:de.filter(e=>"Resolved"===e.handling_status).length.toString(),change:"+1",icon:h.jsx(id,{})}),h.jsx(hte,{title:"Vendor Handled",value:de.filter(e=>"Vendor Handled"===e.handling_status).length.toString(),change:"+3",icon:h.jsx(ld,{})})]}),h.jsx(Ac.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:e=>s(e.target.value)})]}),h.jsx(Da,{children:c&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:h.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E\")",backgroundSize:"1.2rem"},value:o,onChange:e=>l(e.target.value),children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Cancel",children:"Cancel"}),h.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:pe.length>0?pe.map(e=>{var t,n;e.handling_status,["Resolved","Cancel","Closed"].includes(e.handling_status),e.handling_status;const r=(e=>{var t;return e.vendor?`${e.vendor.name}`:(null==(t=e.assigned_to)?void 0:t.name)||"Unassigned"})(e),i=(e=>e.vendor?"vendor":e.assigned_to?"user":"unassigned")(e);return h.jsxs(Ac.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>ce(e.id),title:"Click to view details",children:e.work_order_no||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.requester.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.handling_date?new Date(e.handling_date).toLocaleDateString():"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${se(null==(t=e.service)?void 0:t.priority)} shadow-sm`,children:(null==(n=e.service)?void 0:n.priority)||"Medium"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ae(e.handling_status)} shadow-sm`,children:e.handling_status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-sm font-medium "+("vendor"===i?"text-purple-600":"user"===i?"text-blue-600":"text-gray-500"),children:r}),"vendor"===i&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(e.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:h.jsx(gd,{className:"text-lg"})}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z(`/workorders/it/assignment/editassignment/${e.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:h.jsx(bu,{className:"text-lg"})})]})]},e.id)}):h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),de.length>y&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",h.jsx("span",{className:"font-semibold",children:he+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(ue,de.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:de.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(g-1),disabled:1===g,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:me},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(t+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm\n                          ${g===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}\n                        `,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fe(g+1),disabled:g===me,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),m&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",m.work_order_no||m.id]}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{p(!1),f(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:h.jsx(ee,{order:m,onClose:()=>{p(!1),f(null)}})})]})})})]})},mte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,fte=()=>{var e,t,n;const{updateWorkOrderIT:r,user:i,getUsers:a,getServices:s,getDepartment:o,getServiceGroups:l,getWorkOrderById:c,getVendor:d}=xt(),u=je(),{id:p}=ke(),[m,f]=x.useState([]),[g,b]=x.useState([]),[y,v]=x.useState([]),[w,j]=x.useState(window.innerWidth<768),[N,k]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[S,A]=x.useState(!1),[C,_]=x.useState(!1),[E,T]=x.useState(!1),[O,M]=x.useState(!1),[D,P]=x.useState(!0),[I,L]=x.useState(null),[R,F]=x.useState(null),[B,H]=x.useState(!1),z=x.useRef(null),W=x.useRef(null),[U,V]=x.useState([]),[$,q]=x.useState([]),[G,Y]=x.useState(!1),[Q,K]=x.useState([]),[J,X]=x.useState(!1),[Z,ee]=x.useState(null),[te,ne]=x.useState(!1),re=({content:e,className:t=""})=>{if(!e)return h.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,children:h.jsx("span",{children:"-"})});const n=oy.sanitize(e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return h.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${t}`,dangerouslySetInnerHTML:{__html:n}})},ie={date:(new Date).toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:(null==i?void 0:i.id)?parseInt(i.id):0,known_by_id:(null==(e=null==i?void 0:i.department)?void 0:e.head_id)||null,department_id:(null==i?void 0:i.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[ae,se]=x.useState(ie);x.useEffect(()=>{const e="New"!==ae.handling_status,t="Vendor Handled"===ae.handling_status;Y(e),X(t),!t&&ae.vendor_id&&(se(e=>({...e,vendor_id:null})),ee(null),ne(!1))},[ae.handling_status]),x.useEffect(()=>{Q.length>0&&(async()=>{if(p)try{P(!0);const e=await c(parseInt(p));if(se({id:e.id,date:e.date.split("T")[0],reception_method:e.reception_method,requester_id:e.requester_id,known_by_id:e.known_by_id,department_id:e.department_id,service_group_id:e.service_group_id,service_catalogue_id:e.service_catalogue_id,asset_no:e.asset_no,device_info:e.device_info,complaint:e.complaint,attachment:e.attachment,received_by_id:e.received_by_id,handling_date:e.handling_date?e.handling_date.split("T")[0]:null,action_taken:e.action_taken,handling_status:e.handling_status,remarks:e.remarks,assigned_to_id:e.assigned_to_id,vendor_id:e.vendor_id||null}),e.vendor_id&&Q.length>0){const t=Q.find(t=>t.id===e.vendor_id);t&&ee(t)}}catch(e){L(e.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{P(!1)}})()},[p,c,Q]),x.useEffect(()=>{i&&(async()=>{try{const e=await d();K(e);const t=(await l(0)).map(e=>{var t,n;return{id:Number(e.id),name:null!=(t=e.group_name)?t:"",description:null!=(n=e.group_description)?n:void 0}});q(t);const n=await o();b(n);const r=await a();if(f(r),i&&i.id){const e=await s(parseInt(i.id));v(e)}}catch(e){}})()},[i,a,s,o,l,d]),x.useEffect(()=>{const e=()=>{j(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{z.current&&!z.current.contains(e.target)&&_(!1),W.current&&!W.current.contains(e.target)&&T(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{if(ae.service_group_id&&y.length>0){const e=y.filter(e=>e.service_group.id===ae.service_group_id);V(e)}else V([])},[ae.service_group_id,y]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const oe=x.useCallback((e,t)=>{let n,r;if(e&&"target"in e)n=e.target.name,r=e.target.value;else if(e&&"object"==typeof e&&"value"in e&&t)n=t,r="assigned_to_id"===t||"requester_id"===t||"known_by_id"===t?e.value?parseInt(e.value):null:e.value;else{if(null!==e||!t)return;n=t,r=null}se(e=>({...e,[n]:r}))},[]),le=x.useCallback(()=>{H(!1),u("/workorders/it/assignment")},[u]),ce={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return D?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Td,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:w,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),h.jsxs(Ac.button,{onClick:()=>u("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(ed,{className:"text-lg"})," Back to Assignment"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[I&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:I}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>L(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),M(!0),L(null),ae.handling_status&&["In Progress","Escalated","Vendor Handled","Resolved"].includes(ae.handling_status)&&!ae.assigned_to_id)return L("Assigned To is required for this status"),void M(!1);if("Vendor Handled"===ae.handling_status&&!ae.vendor_id)return L("Vendor selection is required for Vendor Handled status"),void M(!1);if(!ae.handling_status)return L("Handling status is required"),void M(!1);if(!ae.handling_date)return L("Handling date is required"),void M(!1);if(!ae.action_taken||ae.action_taken.length<5)return L("Action taken must be at least 5 characters"),void M(!1);const t={...ae,id:ae.id,received_by_id:(null==i?void 0:i.id)?parseInt(i.id):null,handling_date:ae.handling_date,action_taken:ae.action_taken,handling_status:ae.handling_status,remarks:ae.remarks,assigned_to_id:ae.assigned_to_id?parseInt(ae.assigned_to_id):null,vendor_id:ae.vendor_id};try{await r(t),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ae.id}`}}),H(!0)}catch(n){L(n.message||"Gagal memperbarui work order. Silakan coba lagi.")}finally{M(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(ld,{className:"mr-2 text-blue-500"})," General Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.date})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.reception_method})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=m.find(e=>parseInt(e.id)===ae.requester_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ae.department_id);return(null==e?void 0:e.name)||"No department assigned"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=g.find(e=>e.id===ae.department_id);if(e&&e.head_id){const t=m.find(t=>parseInt(t.id)===e.head_id);return(null==t?void 0:t.name)||"No department head assigned"}return"No department head assigned"})()})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-green-500"})," Service Details"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=$.find(e=>e.id===ae.service_group_id);return(null==e?void 0:e.name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:(()=>{const e=y.find(e=>e.id===ae.service_catalogue_id);return(null==e?void 0:e.service_name)||"Unknown"})()})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.asset_no})})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Wd,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:h.jsx("span",{children:ae.device_info})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),h.jsx(re,{content:ae.complaint,className:"min-h-[100px]"})]})]})]}),ae.attachment&&h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(tu,{className:"mr-2 text-gray-500"})," Attachment"]}),h.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[h.jsx("span",{className:"text-gray-700",children:(()=>{if(!ae.attachment)return null;try{const e=new URL(ae.attachment).pathname;return e.substring(e.lastIndexOf("/")+1)}catch(Dw){return ae.attachment}})()}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ae.attachment&&window.open(ae.attachment,"_blank")},className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-500"})," Handling Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),h.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:h.jsx("span",{children:(null==i?void 0:i.name)||"Current User"})})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:ae.handling_date||"",onChange:oe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:ae.handling_status?{value:ae.handling_status,label:ae.handling_status}:null,onChange:e=>oe(e,"handling_status"),placeholder:"Select Handling Status",styles:ce,required:!0})]}),G&&h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{id:"assigned_to_id",name:"assigned_to_id",options:m.map(e=>({value:String(e.id),label:e.name})),value:ae.assigned_to_id?{value:String(ae.assigned_to_id),label:(null==(t=m.find(e=>parseInt(e.id)===ae.assigned_to_id))?void 0:t.name)||"Unknown"}:null,onChange:e=>oe(e,"assigned_to_id"),placeholder:"Select Assignee",styles:ce,required:G})]}),J&&h.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2 text-gray-600"})," Vendor Information"]}),Z?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ee(null),se(e=>({...e,vendor_id:null})),ne(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.contact_person})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.address||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.telp||"-"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),h.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:Z.HP||"-"})]})]})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(!te),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:te?"Hide Vendors":"Select Vendor"})]}),te&&h.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Q.length>0?Q.map(e=>h.jsxs(Ac.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>(e=>{ee(e),se(t=>({...t,vendor_id:e.id})),ne(!1)})(e),children:[h.jsx("div",{className:"font-medium text-gray-900",children:e.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:[e.contact_person,"  ",e.email]}),h.jsx("div",{className:"text-xs text-gray-500",children:e.address})]},e.id)):h.jsxs("div",{className:"p-4 text-center text-gray-600",children:[h.jsx(ku,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:ae.action_taken||"",onChange:e=>{se(t=>({...t,action_taken:e}))}})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:ae.remarks||"",onChange:e=>{se(t=>({...t,remarks:e}))}})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:()=>u("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(Bc,{className:"mr-2 h-5 w-5"})," Cancel"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:O,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:O?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),h.jsx(mte,{isOpen:B,onClose:le,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:null==R?void 0:R.message}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",null==(n=null==R?void 0:R.work_order)?void 0:n.work_order_no]}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:le,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},gte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,xte=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getActivity:o,updateActivity:l,getActivityById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{a&&k({name:a.name||"",description:a.description||""})},[a]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&A()},[e,A]);const C=()=>{y(!1),j("/maintenanceactivity/activity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Dc,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),h.jsxs(Ac.button,{onClick:()=>j("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Activity Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Activity update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Activity")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),h.jsx(gte,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},bte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,yte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addActivity:s,getActivity:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/activity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Dc,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Activity Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Activity created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Activity")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),h.jsx(bte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},vte=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),wte=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},jte=()=>{const[e,t]=x.useState([]),{getActivity:n,deleteActivity:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load activities")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const a=null==(t=e.name)?void 0:t.toLowerCase().includes(i),s=null==(n=e.description)?void 0:n.toLowerCase().includes(i);return"activity"===r?a:"description"===r?s:a||s})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:h.jsx(Dc,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Activity"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(wte,{title:"Total Activities",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Dc,{className:"w-6 h-6"})})}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search activities"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No activities found matching your search.":"No activities available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/activity/editactivity/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(vte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete activity. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Nte=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),kte=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Ste=()=>{const[e,t]=x.useState([]),{getTroubleItem:n,deleteTroubleItem:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load trouble items")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const a=null==(t=e.name)?void 0:t.toLowerCase().includes(i),s=null==(n=e.description)?void 0:n.toLowerCase().includes(i);return"trouble item"===r?a:"description"===r?s:a||s})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:h.jsx(ku,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Trouble Item"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(kte,{title:"Total Trouble Items",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(ku,{className:"w-6 h-6"})})}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search trouble items"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No trouble items found matching your search.":"No trouble items available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/maintenanceactivity/troubleitem/edittroubleitem/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Nte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete trouble item. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Ate=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Cte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addTroubleItem:s,getTroubleItem:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/troubleitem")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ku,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Trouble Item Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Trouble Item created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Trouble Item")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),h.jsx(Ate,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},_te=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ete=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addWorkUnit:s,getWorkUnit:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",is_production:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/worklocation/workunit")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Du,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Unit Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,is_production:w.is_production,description:w.description};await s(e),m("Work Unit created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Work Unit")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"is_production",id:"is_production",value:w.is_production,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Production",children:"Production"}),h.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(bL,{value:w.description,onChange:e=>{j(t=>({...t,description:e}))}})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),h.jsx(_te,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},Tte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ote=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getWorkUnit:o,updateWorkUnit:l,getWorkUnitById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",is_production:"",description:""});x.useEffect(()=>{a&&k({name:a.name||"",is_production:a.is_production||"",description:a.description||""})},[a]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&A()},[e,A]);const C=()=>{y(!1),j("/worklocation/workunit")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Du,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),h.jsxs(Ac.button,{onClick:()=>j("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Unit Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,is_production:N.is_production,description:N.description};await l(e,t),g("Work Unit update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Unit")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"is_production",id:"is_production",value:N.is_production,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[h.jsx("option",{value:"Production",children:"Production"}),h.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),h.jsx(Tte,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},Mte=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Dte=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Pte=()=>{const[e,t]=x.useState([]),{getWorkUnit:n,deleteWorkUnit:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load work units")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const a=null==(t=e.name)?void 0:t.toLowerCase().includes(i),s=null==(n=e.description)?void 0:n.toLowerCase().includes(i);return"work unit"===r?a:"description"===r?s:a||s})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(Du,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Work Unit"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Dte,{title:"Total Work Units",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Du,{className:"w-6 h-6"})}),h.jsx(Dte,{title:"Production Units",value:e.filter(e=>"1"===String(e.is_production)).length.toString(),change:`+${Math.floor(e.filter(e=>"1"===String(e.is_production)).length/e.length*100)}%`,icon:h.jsx(Du,{className:"w-6 h-6"})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work units"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work units found matching your search.":"No work units available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:"1"===String(e.is_production)?"Yes":"No"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/worklocation/workunit/editworkunit/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Mte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete work unit. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Ite=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Lte=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getWorkGroup:o,updateWorkGroup:l,getWorkGroupById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{a&&k({name:a.name||"",description:a.description||""})},[a]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&A()},[e,A]);const C=()=>{y(!1),j("/workarrangement/workgroup")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Mu,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),h.jsxs(Ac.button,{onClick:()=>j("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Group Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Work Group update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Group")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),h.jsx(Ite,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},Rte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Fte=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addWorkGroup:s,getWorkGroup:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/maintenanceactivity/activity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Mu,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Group Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Work Group created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Work Group")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),h.jsx(Rte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},Bte=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Hte=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},zte=()=>{const[e,t]=x.useState([]),{getWorkGroup:n,deleteWorkGroup:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load work groups")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const a=null==(t=e.name)?void 0:t.toLowerCase().includes(i),s=null==(n=e.description)?void 0:n.toLowerCase().includes(i);return"work group"===r?a:"description"===r?s:a||s})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:h.jsx(Mu,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Work Group"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Hte,{title:"Total Work Groups",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Mu,{className:"w-6 h-6"})}),h.jsx(Hte,{title:"Active Groups",value:e.filter(e=>e.description&&e.description.length>0).length.toString(),change:`+${Math.floor(e.filter(e=>e.description&&e.description.length>0).length/e.length*100)}%`,icon:h.jsx(Mu,{className:"w-6 h-6"})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work groups"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work groups found matching your search.":"No work groups available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/workarrangement/workgroup/editworkgroup/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(Bte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete work group. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Wte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ute=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getWorkShift:o,updateWorkShift:l,getWorkShiftById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",description:""});x.useEffect(()=>{a&&k({name:a.name||"",description:a.description||""})},[a]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&A()},[e,A]);const C=()=>{y(!1),j("/workarrangement/workshift")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ld,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),h.jsxs(Ac.button,{onClick:()=>j("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Shift Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,description:N.description};await l(e,t),g("Work Shift update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Shift")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:N.description,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),h.jsx(Wte,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},Vte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,$te=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addWorkShift:s,getWorkShift:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",description:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/workarrangement/workshift")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ld,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Shift Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,description:w.description};await s(e),m("Work Shift created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Work Shift")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"description",id:"description",value:w.description,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),h.jsx(Vte,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},qte=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Gte=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Yte=()=>{const[e,t]=x.useState([]),{getWorkShift:n,deleteWorkShift:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load work shifts")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(r=n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>{var t,n;const a=null==(t=e.name)?void 0:t.toLowerCase().includes(i),s=null==(n=e.description)?void 0:n.toLowerCase().includes(i);return"work shift"===r?a:"description"===r?s:a||s})},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(ld,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Work Shift"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Gte,{title:"Total Work Shifts",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(ld,{className:"w-6 h-6"})}),h.jsx(Gte,{title:"Active Shifts",value:e.filter(e=>e.description&&e.description.length>0).length.toString(),change:`+${Math.floor(e.filter(e=>e.description&&e.description.length>0).length/e.length*100)}%`,icon:h.jsx(ld,{className:"w-6 h-6"})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work shifts"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work shifts found matching your search.":"No work shifts available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.description||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/workarrangement/workshift/editworkshift/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(qte,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete work shift. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Qte=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Kte=()=>{const e=je(),{getAllMasterMonitoring:t,addMonitoringSchedule:n,addMonitoringActivities:r,getMesinDetail:i}=xt(),[a,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(!1),[u,p]=x.useState(null),[m,f]=x.useState(null),[g,b]=x.useState(!1),[y,v]=x.useState(null),[w,j]=x.useState(!0),[N,k]=x.useState(1),[S,A]=x.useState({startDate:null,endDate:null,units:[]}),C={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF"}),clearIndicator:e=>({...e,color:"#9CA3AF"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};x.useEffect(()=>{(async()=>{try{j(!0);const e=await t();v(e)}catch(e){p("Gagal memuat data master")}finally{j(!1)}})()},[t]);const _=x.useCallback(()=>{A(e=>({...e,units:[...e.units,{id:0,name:"",machines:[]}]}))},[]),E=x.useCallback(e=>{A(t=>({...t,units:t.units.filter((t,n)=>n!==e)}))},[]),T=x.useCallback((e,t)=>{var n;if(t){const r=null==(n=null==y?void 0:y.unitsWithMachines)?void 0:n.find(e=>e.id===t.value);r&&A(t=>{const n=[...t.units];return n[e]={id:r.id,name:r.name,machines:[]},{...t,units:n}})}else A(t=>{const n=[...t.units];return n[e]={id:0,name:"",machines:[]},{...t,units:n}})},[y]),O=x.useCallback(e=>{A(t=>{const n=[...t.units];return n[e].machines=[...n[e].machines,{id:0,name:"",intervalId:null,items:[]}],{...t,units:n}})},[]),M=x.useCallback((e,t)=>{A(n=>{const r=[...n.units];return r[e].machines=r[e].machines.filter((e,n)=>n!==t),{...n,units:r}})},[]),D=x.useCallback(async(e,t,n)=>{if(n)try{const r=await i(n.value);r&&A(n=>{const i=[...n.units];return i[e].machines[t]={id:r.id,name:r.name,intervalId:null,items:r.item_mesin.map(e=>({...e,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...n,units:i}})}catch(r){p("Gagal memuat detail mesin")}else A(n=>{const r=[...n.units];return r[e].machines[t]={id:0,name:"",intervalId:null,items:[]},{...n,units:r}})},[i]),P=x.useCallback((e,t,n)=>{var r,i,a;if(n&&(null==(i=null==(r=S.units[e])?void 0:r.machines[t])?void 0:i.id)){const r=null==(a=null==y?void 0:y.intervals)?void 0:a.find(e=>e.id_interval===n.value);r&&A(n=>{const i=[...n.units],a=i[e].machines[t],s=a.items.filter(e=>e.interval_id===r.id_interval);return i[e].machines[t]={...a,intervalId:r.id_interval,intervalType:r.type_interval,items:s.map(e=>({...e,interval_type:r.type_interval}))},{...n,units:i}})}else A(n=>{const r=[...n.units],i=r[e].machines[t];return r[e].machines[t]={...i,intervalId:null,intervalType:void 0,items:i.items.map(e=>({...e,interval_type:""}))},{...n,units:r}})},[y,S.units]);x.useCallback((e,t,n,r,i)=>{A(a=>{const s=[...a.units];return s[e].machines[t].items[n]={...s[e].machines[t].items[n],[r]:i},{...a,units:s}})},[]);const I=["January","February","March","April","May","June","July","August","September","October","November","December"],L=x.useCallback(()=>{b(!1),e("/monitoringmaintenance")},[e]),R=x.useMemo(()=>{switch(N){case 1:return!S.startDate||!S.endDate;case 2:return 0===S.units.length||S.units.every(e=>!e.id);case 3:return S.units.every(e=>0===e.machines.length||e.machines.every(e=>!e.id||!e.intervalId||0===e.items.length));case 4:return!S.units.some(e=>e.machines.some(e=>e.id&&e.intervalId&&e.items.length>0));default:return!0}},[N,S]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Kd,{}),isMobile:a,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),h.jsxs(Ac.button,{onClick:()=>e("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[u&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:u}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),h.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(e=>h.jsxs("button",{type:"button",onClick:()=>k(e),disabled:2===e&&(!S.startDate||!S.endDate)||3===e&&(0===S.units.length||S.units.every(e=>!e.id))||4===e&&S.units.every(e=>e.machines.every(e=>!e.id||!e.intervalId)),className:`px-4 py-2 font-medium ${N===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${2===e&&(!S.startDate||!S.endDate)||3===e&&(0===S.units.length||S.units.every(e=>!e.id))||4===e&&S.units.every(e=>e.machines.every(e=>!e.id||!e.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[e,". ",["Date","Unit","Machine & Interval","Item"][e-1]]},e))}),h.jsx(Da,{mode:"wait",children:(()=>{if(w)return h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(N){case 1:return h.jsxs(Ac.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),h.jsx(sb,{selected:S.startDate,onChange:e=>A(t=>({...t,startDate:e})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),h.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:h.jsx(Hc,{size:24})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),h.jsx(sb,{selected:S.endDate,onChange:e=>A(t=>({...t,endDate:e})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return h.jsxs(Ac.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),h.jsxs("div",{className:"space-y-4",children:[S.units.map((e,t)=>{var n;return h.jsxs(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[h.jsx("div",{className:"flex-1",children:h.jsx(aN,{options:(null==(n=null==y?void 0:y.unitsWithMachines)?void 0:n.map(e=>({value:e.id,label:e.name})))||[],value:e.id?{value:e.id,label:e.name}:null,onChange:e=>T(t,e),isClearable:!0,placeholder:"Pilih Unit",styles:C,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),S.units.length>1&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(t),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:h.jsx(ju,{size:20})})]},t)}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[h.jsx(iu,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return h.jsxs(Ac.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),h.jsx("div",{className:"space-y-6",children:S.units.map((e,t)=>e.id&&h.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:e.name}),h.jsx("div",{className:"space-y-4",children:e.machines.map((n,r)=>{var i,a,s,o;return h.jsxs(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),h.jsx(aN,{options:(null==(s=null==(a=null==(i=null==y?void 0:y.unitsWithMachines)?void 0:i.find(t=>t.id===e.id))?void 0:a.mesin)?void 0:s.map(e=>({value:e.id,label:e.name})))||[],value:n.id?{value:n.id,label:n.name}:null,onChange:e=>D(t,r,e),isClearable:!0,placeholder:"Select Machine",styles:C})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),h.jsx(aN,{options:(null==(o=null==y?void 0:y.intervals)?void 0:o.map(e=>({value:e.id_interval,label:e.type_interval})))||[],value:n.intervalId?{value:n.intervalId,label:n.intervalType}:null,onChange:e=>P(t,r,e),isClearable:!0,placeholder:n.id?"Select Interval":"Please Select Machine",isDisabled:!n.id||0===n.items.length,styles:C})]})]}),n.id&&h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",n.items.length," item monitoring tersedia"]}),n.intervalId&&h.jsxs("span",{className:"text-sm text-green-600",children:[n.items.filter(e=>e.interval_id===n.intervalId).length," item untuk interval ",n.intervalType]})]}),0===n.items.length&&h.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(t,r),className:"text-red-500 hover:text-red-700",children:h.jsx(ju,{size:20})})})]},r)})}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(t),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[h.jsx(iu,{size:20,className:"mr-2"})," Add Machine"]})]},t))})]},"step3");case 4:return h.jsxs(Ac.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),h.jsx("div",{className:"space-y-6",children:S.units.map((e,t)=>e.id&&e.machines.map((n,r)=>n.id&&h.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[e.name," - ",n.name]}),n.items.length>0?h.jsx("div",{className:"space-y-4",children:n.items.map((e,t)=>h.jsxs(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[h.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[e.item_mesin," (",e.satuan,")"]}),e.interval_type&&h.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:e.interval_type}),e.standard_min&&e.standard_max&&h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",e.standard_min," - ",e.standard_max]}),e.standard_visual&&h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",e.standard_visual]})]},t))}):h.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${t}-${r}`)))})]},"step4");default:return null}})()}),h.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[N>1&&h.jsxs(Ac.button,{type:"button",onClick:()=>k(e=>e-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[h.jsx(ed,{className:"mr-2 h-5 w-5"})," Back"]}),N<4?h.jsxs(Ac.button,{type:"button",onClick:()=>k(e=>e+1),disabled:R,whileHover:{scale:R?1:1.03},whileTap:{scale:R?1:.97},className:"ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center "+(R?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),children:["Lanjut ",h.jsx(td,{className:"ml-2 h-5 w-5"})]}):h.jsx(Ac.button,{type:"button",onClick:async e=>{e.preventDefault(),d(!0),p(null);try{if(!S.startDate||!S.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(0===S.units.length||S.units.some(e=>!e.id))throw new Error("Pilih setidaknya satu unit");const e=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,t=[];for(const r of S.units)for(const i of r.machines)if(i.id&&i.items.length>0){const a=i.items.map(e=>e.id),s={tahun:S.startDate.getFullYear(),bulan:I[S.startDate.getMonth()],tgl_start:e(S.startDate),tgl_end:e(S.endDate),unit:r.name,id_mesins:i.id,id_interval:i.intervalId||1,item_mesin_ids:a},o=await n(s);t.push(o)}if(0===t.length)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");f("Data monitoring berhasil disimpan!"),b(!0)}catch(t){p(t.message||"Gagal menyimpan data monitoring")}finally{d(!1)}},disabled:R||c,whileHover:{scale:R?1:1.03},whileTap:{scale:R?1:.97},className:"ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center "+(R||c?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),children:c?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),h.jsx(Qte,{isOpen:g,onClose:L,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},Jte={},Xte=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Jte)return;Jte[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,i&&r.setAttribute("nonce",i),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})};var Zte=Uint8Array,ene=Uint16Array,tne=Int32Array,nne=new Zte([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rne=new Zte([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ine=new Zte([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ane=function(e,t){for(var n=new ene(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new tne(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},sne=ane(nne,2),one=sne.b,lne=sne.r;one[28]=258,lne[258]=28;for(var cne=ane(rne,0).r,dne=new ene(32768),une=0;une<32768;++une){var hne=(43690&une)>>1|(21845&une)<<1;hne=(61680&(hne=(52428&hne)>>2|(13107&hne)<<2))>>4|(3855&hne)<<4,dne[une]=((65280&hne)>>8|(255&hne)<<8)>>1}var pne=function(e,t,n){for(var r=e.length,i=0,a=new ene(t);i<r;++i)e[i]&&++a[e[i]-1];var s,o=new ene(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;if(n){s=new ene(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],u=o[e[i]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)s[dne[u]>>l]=c}else for(s=new ene(r),i=0;i<r;++i)e[i]&&(s[i]=dne[o[e[i]-1]++]>>15-e[i]);return s},mne=new Zte(288);for(une=0;une<144;++une)mne[une]=8;for(une=144;une<256;++une)mne[une]=9;for(une=256;une<280;++une)mne[une]=7;for(une=280;une<288;++une)mne[une]=8;var fne=new Zte(32);for(une=0;une<32;++une)fne[une]=5;var gne=pne(mne,9,0),xne=pne(fne,5,0),bne=function(e){return(e+7)/8|0},yne=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},vne=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},wne=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:_ne,l:0};if(1==i){var s=new Zte(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=a[0].s;for(r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new ene(h+1),m=jne(n[d-1],p,0);if(m>t){r=0;var f=0,g=m-t,x=1<<g;for(a.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var b=a[r].s;if(!(p[b]>t))break;f+=x-(1<<m-p[b]),p[b]=t}for(f>>=g;f>0;){var y=a[r].s;p[y]<t?f-=1<<t-p[y]++-1:++r}for(;r>=0&&f;--r){var v=a[r].s;p[v]==t&&(--p[v],++f)}m=t}return{t:new Zte(p),l:m}},jne=function(e,t,n){return-1==e.s?Math.max(jne(e.l,t,n+1),jne(e.r,t,n+1)):t[e.s]=n},Nne=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ene(++t),r=0,i=e[0],a=1,s=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:n.subarray(0,r),n:t}},kne=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Sne=function(e,t,n){var r=n.length,i=bne(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},Ane=function(e,t,n,r,i,a,s,o,l,c,d){yne(t,d++,n),++i[256];for(var u=wne(i,15),h=u.t,p=u.l,m=wne(a,15),f=m.t,g=m.l,x=Nne(h),b=x.c,y=x.n,v=Nne(f),w=v.c,j=v.n,N=new ene(19),k=0;k<b.length;++k)++N[31&b[k]];for(k=0;k<w.length;++k)++N[31&w[k]];for(var S=wne(N,7),A=S.t,C=S.l,_=19;_>4&&!A[ine[_-1]];--_);var E,T,O,M,D=c+5<<3,P=kne(i,mne)+kne(a,fne)+s,I=kne(i,h)+kne(a,f)+s+14+3*_+kne(N,A)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&D<=P&&D<=I)return Sne(t,d,e.subarray(l,l+c));if(yne(t,d,1+(I<P)),d+=2,I<P){E=pne(h,p,0),T=h,O=pne(f,g,0),M=f;var L=pne(A,C,0);for(yne(t,d,y-257),yne(t,d+5,j-1),yne(t,d+10,_-4),d+=14,k=0;k<_;++k)yne(t,d+3*k,A[ine[k]]);d+=3*_;for(var R=[b,w],F=0;F<2;++F){var B=R[F];for(k=0;k<B.length;++k){var H=31&B[k];yne(t,d,L[H]),d+=A[H],H>15&&(yne(t,d,B[k]>>5&127),d+=B[k]>>12)}}}else E=gne,T=mne,O=xne,M=fne;for(k=0;k<o;++k){var z=r[k];if(z>255){vne(t,d,E[257+(H=z>>18&31)]),d+=T[H+257],H>7&&(yne(t,d,z>>23&31),d+=nne[H]);var W=31&z;vne(t,d,O[W]),d+=M[W],W>3&&(vne(t,d,z>>5&8191),d+=rne[W])}else vne(t,d,E[z]),d+=T[z]}return vne(t,d,E[256]),d+T[256]},Cne=new tne([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_ne=new Zte(0),Ene=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=0|n.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=n[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Tne=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function One(e,t){t||(t={});var n=Ene();n.p(e);var r=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Zte(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return function(e,t,n,r,i,a){var s=a.z||e.length,o=new Zte(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=a.l,d=7&(a.r||0);if(t){d&&(l[0]=a.r>>3);for(var u=Cne[t-1],h=u>>13,p=8191&u,m=(1<<n)-1,f=a.p||new ene(32768),g=a.h||new ene(m+1),x=Math.ceil(n/3),b=2*x,y=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<b)&m},v=new tne(25e3),w=new ene(288),j=new ene(32),N=0,k=0,S=a.i||0,A=0,C=a.w||0,_=0;S+2<s;++S){var E=y(S),T=32767&S,O=g[E];if(f[T]=O,g[E]=T,C<=S){var M=s-S;if((N>7e3||A>24576)&&(M>423||!c)){d=Ane(e,l,0,v,w,j,k,A,_,S-_,d),A=N=k=0,_=S;for(var D=0;D<286;++D)w[D]=0;for(D=0;D<30;++D)j[D]=0}var P=2,I=0,L=p,R=T-O&32767;if(M>2&&E==y(S-R))for(var F=Math.min(h,M)-1,B=Math.min(32767,S),H=Math.min(258,M);R<=B&&--L&&T!=O;){if(e[S+P]==e[S+P-R]){for(var z=0;z<H&&e[S+z]==e[S+z-R];++z);if(z>P){if(P=z,I=R,z>F)break;var W=Math.min(R,z-2),U=0;for(D=0;D<W;++D){var V=S-R+D&32767,$=V-f[V]&32767;$>U&&(U=$,O=V)}}}R+=(T=O)-(O=f[T])&32767}if(I){v[A++]=268435456|lne[P]<<18|cne[I];var q=31&lne[P],G=31&cne[I];k+=nne[q]+rne[G],++w[257+q],++j[G],C=S+P,++N}else v[A++]=e[S],++w[e[S]]}}for(S=Math.max(S,C);S<s;++S)v[A++]=e[S],++w[e[S]];d=Ane(e,l,c,v,w,j,k,A,_,S-_,d),c||(a.r=7&d|l[d/8|0]<<3,d-=7,a.h=g,a.p=f,a.i=S,a.w=C)}else{for(S=a.w||0;S<s+c;S+=65535){var Y=S+65535;Y>=s&&(l[d/8|0]=c,Y=s),d=Sne(l,d+1,e.subarray(S,Y))}a.i=s}return function(e,t,n){return(null==n||n>e.length)&&(n=e.length),new Zte(e.subarray(0,n))}(o,0,r+bne(d)+i)}(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,4,i)}(e,t,t.dictionary?6:2);return function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Ene();i.p(t.dictionary),Tne(e,2,i.d())}}(r,t),Tne(r,r.length-4,n.d()),r}var Mne="undefined"!=typeof TextDecoder&&new TextDecoder;try{Mne.decode(_ne,{stream:!0})}catch(Dw){}function Dne(e,t="utf8"){return new TextDecoder(t).decode(e)}const Pne=new TextEncoder,Ine=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),Lne={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rne{constructor(e=8192,n={}){t(this,"buffer"),t(this,"byteLength"),t(this,"byteOffset"),t(this,"length"),t(this,"offset"),t(this,"lastWrittenByte"),t(this,"littleEndian"),t(this,"_data"),t(this,"_mark"),t(this,"_marks");let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Rne)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=r?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=Lne[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,i=this.buffer.slice(r,r+n);if(this.littleEndian===Ine&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const i=new Lne[t](e.buffer);return this.offset+=n,i.reverse(),i}const a=new Lne[t](i);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return Dne(this.readBytes(e))}decodeText(e=1,t="utf8"){return Dne(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Pne.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Fne(e){let t=e.length;for(;--t>=0;)e[t]=0}Fne(new Array(576)),Fne(new Array(60)),Fne(new Array(512)),Fne(new Array(256)),Fne(new Array(29)),Fne(new Array(30));var Bne=(e,t,n,r)=>{let i=65535&e,a=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16};const Hne=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var zne=(e,t,n,r)=>{const i=Hne,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e},Wne={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Une={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Vne=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);let $ne=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Nxe){$ne=!1}const qne=new Uint8Array(256);for(let os=0;os<256;os++)qne[os]=os>=252?6:os>=248?5:os>=240?4:os>=224?3:os>=192?2:1;qne[254]=qne[254]=1;var Gne=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const a=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){a[i++]=t;continue}let s=qne[t];if(s>4)a[i++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?a[i++]=65533:t<65536?a[i++]=t:(t-=65536,a[i++]=55296|t>>10&1023,a[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&$ne)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(a,i)},Yne=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+qne[e[n]]>t?n:t},Qne=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Kne=16209;var Jne=function(e,t){let n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S;const A=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,S=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),o=A.dmax,l=A.wsize,c=A.whave,d=A.wnext,u=A.window,h=A.hold,p=A.bits,m=A.lencode,f=A.distcode,g=(1<<A.lenbits)-1,x=(1<<A.distbits)-1;e:do{p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),b=m[h&g];t:for(;;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,0===y)S[i++]=65535&b;else{if(!(16&y)){if(64&y){if(32&y){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=Kne;break e}b=m[(65535&b)+(h&(1<<y)-1)];continue t}for(v=65535&b,y&=15,y&&(p<y&&(h+=k[n++]<<p,p+=8),v+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),b=f[h&x];;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,16&y){if(w=65535&b,y&=15,p<y&&(h+=k[n++]<<p,p+=8,p<y&&(h+=k[n++]<<p,p+=8)),w+=h&(1<<y)-1,w>o){e.msg="invalid distance too far back",A.mode=Kne;break e}if(h>>>=y,p-=y,y=i-a,w>y){if(y=w-y,y>c&&A.sane){e.msg="invalid distance too far back",A.mode=Kne;break e}if(j=0,N=u,0===d){if(j+=l-y,y<v){v-=y;do{S[i++]=u[j++]}while(--y);j=i-w,N=S}}else if(d<y){if(j+=l+d-y,y-=d,y<v){v-=y;do{S[i++]=u[j++]}while(--y);if(j=0,d<v){y=d,v-=y;do{S[i++]=u[j++]}while(--y);j=i-w,N=S}}}else if(j+=d-y,y<v){v-=y;do{S[i++]=u[j++]}while(--y);j=i-w,N=S}for(;v>2;)S[i++]=N[j++],S[i++]=N[j++],S[i++]=N[j++],v-=3;v&&(S[i++]=N[j++],v>1&&(S[i++]=N[j++]))}else{j=i-w;do{S[i++]=S[j++],S[i++]=S[j++],S[i++]=S[j++],v-=3}while(v>2);v&&(S[i++]=S[j++],v>1&&(S[i++]=S[j++]))}break}if(64&y){e.msg="invalid distance code",A.mode=Kne;break e}b=f[(65535&b)+(h&(1<<y)-1)]}}break}}while(n<r&&i<s);v=p>>3,n-=v,p-=v<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<s?s-i+257:257-(i-s),A.hold=h,A.bits=p};const Xne=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ere=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tre=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var nre=(e,t,n,r,i,a,s,o)=>{const l=o.bits;let c,d,u,h,p,m,f=0,g=0,x=0,b=0,y=0,v=0,w=0,j=0,N=0,k=0,S=null;const A=new Uint16Array(16),C=new Uint16Array(16);let _,E,T,O=null;for(f=0;f<=15;f++)A[f]=0;for(g=0;g<r;g++)A[t[n+g]]++;for(y=l,b=15;b>=1&&0===A[b];b--);if(y>b&&(y=b),0===b)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(x=1;x<b&&0===A[x];x++);for(y<x&&(y=x),j=1,f=1;f<=15;f++)if(j<<=1,j-=A[f],j<0)return-1;if(j>0&&(0===e||1!==b))return-1;for(C[1]=0,f=1;f<15;f++)C[f+1]=C[f]+A[f];for(g=0;g<r;g++)0!==t[n+g]&&(s[C[t[n+g]]++]=g);if(0===e?(S=O=s,m=20):1===e?(S=Xne,O=Zne,m=257):(S=ere,O=tre,m=0),k=0,g=0,f=x,p=a,v=y,w=0,u=-1,N=1<<y,h=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){_=f-w,s[g]+1<m?(E=0,T=s[g]):s[g]>=m?(E=O[s[g]-m],T=S[s[g]-m]):(E=96,T=0),c=1<<f-w,d=1<<v,x=d;do{d-=c,i[p+(k>>w)+d]=_<<24|E<<16|T}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--A[f]){if(f===b)break;f=t[n+s[g]]}if(f>y&&(k&h)!==u){for(0===w&&(w=y),p+=x,v=f-w,j=1<<v;v+w<b&&(j-=A[v+w],!(j<=0));)v++,j<<=1;if(N+=1<<v,1===e&&N>852||2===e&&N>592)return 1;u=k&h,i[u]=y<<24|v<<16|p-a}}return 0!==k&&(i[p+k]=f-w<<24|64<<16),o.bits=y,0};const{Z_FINISH:rre,Z_BLOCK:ire,Z_TREES:are,Z_OK:sre,Z_STREAM_END:ore,Z_NEED_DICT:lre,Z_STREAM_ERROR:cre,Z_DATA_ERROR:dre,Z_MEM_ERROR:ure,Z_BUF_ERROR:hre,Z_DEFLATED:pre}=Une,mre=16180,fre=16190,gre=16191,xre=16192,bre=16194,yre=16199,vre=16200,wre=16206,jre=16209,Nre=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function kre(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sre=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<mre||t.mode>16211?1:0},Are=e=>{if(Sre(e))return cre;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=mre,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,sre},Cre=e=>{if(Sre(e))return cre;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Are(e)},_re=(e,t)=>{let n;if(Sre(e))return cre;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?cre:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Cre(e))},Ere=(e,t)=>{if(!e)return cre;const n=new kre;e.state=n,n.strm=e,n.window=null,n.mode=mre;const r=_re(e,t);return r!==sre&&(e.state=null),r};let Tre,Ore,Mre=!0;const Dre=e=>{if(Mre){Tre=new Int32Array(512),Ore=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(nre(1,e.lens,0,288,Tre,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;nre(2,e.lens,0,32,Ore,0,e.work,{bits:5}),Mre=!1}e.lencode=Tre,e.lenbits=9,e.distcode=Ore,e.distbits=5},Pre=(e,t,n,r)=>{let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),(r-=i)?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var Ire=Cre,Lre=Ere,Rre=(e,t)=>{let n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k=0;const S=new Uint8Array(4);let A,C;const _=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sre(e)||!e.output||!e.input&&0!==e.avail_in)return cre;n=e.state,n.mode===gre&&(n.mode=xre),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,N=sre;e:for(;;)switch(n.mode){case mre:if(0===n.wrap){n.mode=xre;break}for(;d<16;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=zne(n.check,S,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=jre;break}if((15&c)!==pre){e.msg="unknown compression method",n.mode=jre;break}if(c>>>=4,d-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=jre;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:gre,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==pre){e.msg="unknown compression method",n.mode=jre;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=jre;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=zne(n.check,S,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=zne(n.check,S,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=zne(n.check,S,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=zne(n.check,S,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),j)),512&n.flags&&4&n.wrap&&(n.check=zne(n.check,r,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do{j=r[a+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=zne(n.check,r,p,a)),o-=p,a+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do{j=r[a+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=zne(n.check,r,p,a)),o-=p,a+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=jre;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=gre;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}e.adler=n.check=Nre(c),c=0,d=0,n.mode=fre;case fre:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=d,lre;e.adler=n.check=1,n.mode=gre;case gre:if(t===ire||t===are)break e;case xre:if(n.last){c>>>=7&d,d-=7&d,n.mode=wre;break}for(;d<3;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(Dre(n),n.mode=yre,t===are){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=jre}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=jre;break}if(n.length=65535&c,c=0,d=0,n.mode=bre,t===are)break e;case bre:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;i.set(r.subarray(a,a+p),s),o-=p,a+=p,l-=p,s+=p,n.length-=p;break}n.mode=gre;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=jre;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}n.lens[_[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[_[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},N=nre(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,N){e.msg="invalid code lengths set",n.mode=jre;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(C=g+2;d<C;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=jre;break}j=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===b){for(C=g+3;d<C;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}c>>>=g,d-=g,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(C=g+7;d<C;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}c>>>=g,d-=g,j=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=jre;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===jre)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=jre;break}if(n.lenbits=9,A={bits:n.lenbits},N=nre(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,N){e.msg="invalid literal/lengths set",n.mode=jre;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},N=nre(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,N){e.msg="invalid distances set",n.mode=jre;break}if(n.mode=yre,t===are)break e;case yre:n.mode=vre;case vre:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=d,Jne(e,h),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===gre&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(x&&!(240&x)){for(y=g,v=x,w=b;k=n.lencode[w+((c&(1<<y+v)-1)>>y)],g=k>>>24,x=k>>>16&255,b=65535&k,!(y+g<=d);){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===x){n.mode=16205;break}if(32&x){n.back=-1,n.mode=gre;break}if(64&x){e.msg="invalid literal/length code",n.mode=jre;break}n.extra=15&x,n.mode=16201;case 16201:if(n.extra){for(C=n.extra;d<C;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,x=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(!(240&x)){for(y=g,v=x,w=b;k=n.distcode[w+((c&(1<<y+v)-1)>>y)],g=k>>>24,x=k>>>16&255,b=65535&k,!(y+g<=d);){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&x){e.msg="invalid distance code",n.mode=jre;break}n.offset=b,n.extra=15&x,n.mode=16203;case 16203:if(n.extra){for(C=n.extra;d<C;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=jre;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=jre;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=i,m=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{i[s++]=f[m++]}while(--p);0===n.length&&(n.mode=vre);break;case 16205:if(0===l)break e;i[s++]=n.length,l--,n.mode=vre;break;case wre:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=r[a++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?zne(n.check,i,h,s-h):Bne(n.check,i,h,s-h)),h=l,4&n.wrap&&(n.flags?c:Nre(c))!==n.check){e.msg="incorrect data check",n.mode=jre;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=r[a++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=jre;break}c=0,d=0}n.mode=16208;case 16208:N=ore;break e;case jre:N=dre;break e;case 16210:return ure;default:return cre}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<jre&&(n.mode<wre||t!==rre))&&Pre(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?zne(n.check,i,h,e.next_out-h):Bne(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===gre?128:0)+(n.mode===yre||n.mode===bre?256:0),(0===u&&0===h||t===rre)&&N===sre&&(N=hre),N},Fre=e=>{if(Sre(e))return cre;let t=e.state;return t.window&&(t.window=null),e.state=null,sre},Bre=(e,t)=>{if(Sre(e))return cre;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,sre):cre},Hre=(e,t)=>{const n=t.length;let r,i,a;return Sre(e)?cre:(r=e.state,0!==r.wrap&&r.mode!==fre?cre:r.mode===fre&&(i=1,i=Bne(i,t,n,0),i!==r.check)?dre:(a=Pre(e,t,n,n),a?(r.mode=16210,ure):(r.havedict=1,sre)))},zre=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Wre=Object.prototype.toString,{Z_NO_FLUSH:Ure,Z_FINISH:Vre,Z_OK:$re,Z_STREAM_END:qre,Z_NEED_DICT:Gre,Z_STREAM_ERROR:Yre,Z_DATA_ERROR:Qre,Z_MEM_ERROR:Kre}=Une;function Jre(e){this.options=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Vne(n,t)&&(e[t]=n[t])}}return e}({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qne,this.strm.avail_out=0;let n=Lre(this.strm,t.windowBits);if(n!==$re)throw new Error(Wne[n]);if(this.header=new zre,Bre(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=(e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t})(t.dictionary):"[object ArrayBuffer]"===Wre.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Hre(this.strm,t.dictionary),n!==$re)))throw new Error(Wne[n])}Jre.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Vre:Ure,"[object ArrayBuffer]"===Wre.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Rre(n,s),a===Gre&&i&&(a=Hre(n,i),a===$re?a=Rre(n,s):a===Qre&&(a=Gre));n.avail_in>0&&a===qre&&n.state.wrap>0&&0!==e[n.next_in];)Ire(n),a=Rre(n,s);switch(a){case Yre:case Qre:case Gre:case Kre:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||a===qre))if("string"===this.options.to){let e=Yne(n.output,n.next_out),t=n.next_out-e,i=Gne(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==$re||0!==o){if(a===qre)return a=Fre(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Jre.prototype.onData=function(e){this.chunks.push(e)},Jre.prototype.onEnd=function(e){e===$re&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=(e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let t=e[r];n.set(t,i),i+=t.length}return n})(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Xre={Inflate:Jre,inflate:function(e,t){const n=new Jre(t);if(n.push(e),n.err)throw n.msg||Wne[n.err];return n.result}};const{Inflate:Zre,inflate:eie}=Xre;var tie=Zre,nie=eie;const rie=[];for(let os=0;os<256;os++){let e=os;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;rie[os]=e}const iie=4294967295;function aie(e,t,n){const r=e.readUint32(),i=(function(e,t,n){let r=iie;for(let i=0;i<n;i++)r=rie[255&(r^t[i])]^r>>>8;return r}(0,new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t)^iie)>>>0;if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function sie(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function oie(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function lie(e,t,n,r){let i=0;if(0===n.length)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function cie(e,t,n,r,i){let a=0;if(0===n.length){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function die(e,t,n,r,i){let a=0;if(0===n.length){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+uie(t[a-i],n[a],n[a-i])&255}}function uie(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),s=Math.abs(r-n);return i<=a&&i<=s?e:a<=s?t:n}function hie(e,t,n,r,i,a){switch(e){case 0:sie(t,n,i);break;case 1:oie(t,n,i,a);break;case 2:lie(t,n,r,i);break;case 3:cie(t,n,r,i,a);break;case 4:die(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const pie=new Uint16Array([255]),mie=255===new Uint8Array(pie.buffer)[0];function fie(e){return(255&e)<<8|e>>8&255}const gie=new Uint16Array([255]),xie=255===new Uint8Array(gie.buffer)[0],bie=new Uint8Array(0);function yie(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*n),l=new Uint8Array(r*o);let c,d,u=bie,h=0;for(let p=0;p<r;p++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(p*o,(p+1)*o),t[h]){case 0:sie(c,d,o);break;case 1:oie(c,d,o,s);break;case 2:lie(c,d,u,o);break;case 3:cie(c,d,u,o,s);break;case 4:die(c,d,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=d,h+=o+1}if(16===a){const e=new Uint16Array(l.buffer);if(xie)for(let t=0;t<e.length;t++)e[t]=vie(e[t]);return e}return l}function vie(e){return(255&e)<<8|e>>8&255}const wie=Uint8Array.of(137,80,78,71,13,10,26,10);function jie(e){if(!function(e){if(e.length<wie.length)return!1;for(let t=0;t<wie.length;t++)if(e[t]!==wie[t])return!1;return!0}(e.readBytes(wie.length)))throw new Error("wrong PNG signature")}const Nie=new TextDecoder("latin1");const kie=/^[\u0000-\u00FF]*$/;function Sie(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=Nie.decode(e.readBytes(t-e.offset-1));return e.skip(1),function(e){if(function(e){if(!kie.test(e))throw new Error("invalid latin1 text")}(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}(n),n}class Aie extends Rne{constructor(e,n={}){super(e),t(this,"_checkCrc"),t(this,"_inflator"),t(this,"_png"),t(this,"_apng"),t(this,"_end"),t(this,"_hasPalette"),t(this,"_palette"),t(this,"_hasTransparency"),t(this,"_transparency"),t(this,"_compressionMethod"),t(this,"_filterMethod"),t(this,"_interlaceMethod"),t(this,"_colorType"),t(this,"_isAnimated"),t(this,"_numberOfFrames"),t(this,"_numberOfPlays"),t(this,"_frames"),t(this,"_writingDataChunks");const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new tie,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jie(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(jie(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":!function(e,t,n){const r=Sie(t);e[r]=function(e,t){return Nie.decode(e.readBytes(t))}(t,n-r.length-1)}(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?aie(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?aie(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case 0:case 3:n=1;break;case 2:n=3;break;case 4:n=2;break;case 6:n=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case 0:case 2:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case 3:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Sie(this),n=this.readUint8();if(0!==n)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:nie(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=yie({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case 0:break;case 1:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const i=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[i+e]=0}break;case 2:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case 0:for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){const{index:a,frameIndex:s}=r(n,i);for(let n=0;n<this._png.channels;n++)e.data[a+n]=t.data[s+n]}break;case 1:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:s,frameIndex:o}=r(i,a);for(let r=0;r<this._png.channels;r++){const i=t.data[o+this._png.channels-1]/n,a=r%(this._png.channels-1)==0?1:t.data[o+r],l=Math.floor(i*a+(1-i)*e.data[s+r]);e.data[s+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(null==(e=this._frames)?void 0:e.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=yie({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const e=s[d],i=Math.ceil((n-e.x)/e.xStep),a=Math.ceil((r-e.y)/e.yStep);if(i<=0||a<=0)continue;const u=i*o,h=new Uint8Array(u);for(let s=0;s<a;s++){const a=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);hie(a,d,p,h,u,o),h.set(p);for(let t=0;t<i;t++){const i=e.x+t*e.xStep,a=e.y+s*e.yStep;if(!(i>=n||a>=r))for(let e=0;e<o;e++)l[(a*n+i)*o+e]=p[t*o+e]}}}if(16===a){const e=new Uint16Array(l.buffer);if(mie)for(let t=0;t<e.length;t++)e[t]=fie(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:e}),this._inflator=new tie,this._writingDataChunks=!1}}var Cie,_ie;(_ie=Cie||(Cie={}))[_ie.UNKNOWN=0]="UNKNOWN",_ie[_ie.METRE=1]="METRE";var Eie=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function Tie(){Eie.console&&"function"==typeof Eie.console.log&&Eie.console.log.apply(Eie.console,arguments)}var Oie={log:Tie,warn:function(e){Eie.console&&("function"==typeof Eie.console.warn?Eie.console.warn.apply(Eie.console,arguments):Tie.call(null,arguments))},error:function(e){Eie.console&&("function"==typeof Eie.console.error?Eie.console.error.apply(Eie.console,arguments):Tie(e))}};function Mie(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Iie(r.response,t,n)},r.onerror=function(){Oie.error("could not download file")},r.send()}function Die(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function Pie(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Iie=Eie.saveAs||("object"!==("undefined"==typeof window?"undefined":fy(window))||window!==Eie?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Eie.URL||Eie.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?Die(i.href)?Mie(e,t,n):Pie(i,i.target="_blank"):Pie(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Pie(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Die(e))Mie(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Pie(r)})}else navigator.msSaveOrOpenBlob((i=e,void 0===(a=n)?a={autoBom:!1}:"object"!==fy(a)&&(Oie.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),t);var i,a}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Mie(e,t,n);var i="application/octet-stream"===e.type,a=/constructor/i.test(Eie.HTMLElement)||Eie.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&"object"===("undefined"==typeof FileReader?"undefined":fy(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=Eie.URL||Eie.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Lie(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var Rie=Eie.atob.bind(Eie),Fie=Eie.btoa.bind(Eie);function Bie(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=zie(n,r,i,a,t[0],7,-680876936),a=zie(a,n,r,i,t[1],12,-389564586),i=zie(i,a,n,r,t[2],17,606105819),r=zie(r,i,a,n,t[3],22,-1044525330),n=zie(n,r,i,a,t[4],7,-176418897),a=zie(a,n,r,i,t[5],12,1200080426),i=zie(i,a,n,r,t[6],17,-1473231341),r=zie(r,i,a,n,t[7],22,-45705983),n=zie(n,r,i,a,t[8],7,1770035416),a=zie(a,n,r,i,t[9],12,-1958414417),i=zie(i,a,n,r,t[10],17,-42063),r=zie(r,i,a,n,t[11],22,-1990404162),n=zie(n,r,i,a,t[12],7,1804603682),a=zie(a,n,r,i,t[13],12,-40341101),i=zie(i,a,n,r,t[14],17,-1502002290),n=Wie(n,r=zie(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Wie(a,n,r,i,t[6],9,-1069501632),i=Wie(i,a,n,r,t[11],14,643717713),r=Wie(r,i,a,n,t[0],20,-373897302),n=Wie(n,r,i,a,t[5],5,-701558691),a=Wie(a,n,r,i,t[10],9,38016083),i=Wie(i,a,n,r,t[15],14,-660478335),r=Wie(r,i,a,n,t[4],20,-405537848),n=Wie(n,r,i,a,t[9],5,568446438),a=Wie(a,n,r,i,t[14],9,-1019803690),i=Wie(i,a,n,r,t[3],14,-187363961),r=Wie(r,i,a,n,t[8],20,1163531501),n=Wie(n,r,i,a,t[13],5,-1444681467),a=Wie(a,n,r,i,t[2],9,-51403784),i=Wie(i,a,n,r,t[7],14,1735328473),n=Uie(n,r=Wie(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Uie(a,n,r,i,t[8],11,-2022574463),i=Uie(i,a,n,r,t[11],16,1839030562),r=Uie(r,i,a,n,t[14],23,-35309556),n=Uie(n,r,i,a,t[1],4,-1530992060),a=Uie(a,n,r,i,t[4],11,1272893353),i=Uie(i,a,n,r,t[7],16,-155497632),r=Uie(r,i,a,n,t[10],23,-1094730640),n=Uie(n,r,i,a,t[13],4,681279174),a=Uie(a,n,r,i,t[0],11,-358537222),i=Uie(i,a,n,r,t[3],16,-722521979),r=Uie(r,i,a,n,t[6],23,76029189),n=Uie(n,r,i,a,t[9],4,-640364487),a=Uie(a,n,r,i,t[12],11,-421815835),i=Uie(i,a,n,r,t[15],16,530742520),n=Vie(n,r=Uie(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Vie(a,n,r,i,t[7],10,1126891415),i=Vie(i,a,n,r,t[14],15,-1416354905),r=Vie(r,i,a,n,t[5],21,-57434055),n=Vie(n,r,i,a,t[12],6,1700485571),a=Vie(a,n,r,i,t[3],10,-1894986606),i=Vie(i,a,n,r,t[10],15,-1051523),r=Vie(r,i,a,n,t[1],21,-2054922799),n=Vie(n,r,i,a,t[8],6,1873313359),a=Vie(a,n,r,i,t[15],10,-30611744),i=Vie(i,a,n,r,t[6],15,-1560198380),r=Vie(r,i,a,n,t[13],21,1309151649),n=Vie(n,r,i,a,t[4],6,-145523070),a=Vie(a,n,r,i,t[11],10,-1120210379),i=Vie(i,a,n,r,t[2],15,718787259),r=Vie(r,i,a,n,t[9],21,-343485551),e[0]=Xie(n,e[0]),e[1]=Xie(r,e[1]),e[2]=Xie(i,e[2]),e[3]=Xie(a,e[3])}function Hie(e,t,n,r,i,a){return t=Xie(Xie(t,e),Xie(r,a)),Xie(t<<i|t>>>32-i,n)}function zie(e,t,n,r,i,a,s){return Hie(t&n|~t&r,e,t,i,a,s)}function Wie(e,t,n,r,i,a,s){return Hie(t&r|n&~r,e,t,i,a,s)}function Uie(e,t,n,r,i,a,s){return Hie(t^n^r,e,t,i,a,s)}function Vie(e,t,n,r,i,a,s){return Hie(n^(t|~r),e,t,i,a,s)}function $ie(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Bie(r,qie(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Bie(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Bie(r,i),r}function qie(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Gie="0123456789abcdef".split("");function Yie(e){for(var t="",n=0;n<4;n++)t+=Gie[e>>8*n+4&15]+Gie[e>>8*n&15];return t}function Qie(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Kie(e){return $ie(e).map(Qie).join("")}var Jie="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Yie(e[t]);return e.join("")}($ie("hello"));function Xie(e,t){if(Jie){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Zie(e,t){var n,r,i,a;if(e!==n){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,p=0,m="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}var eae={print:4,modify:8,copy:16,"annot-forms":32};function tae(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==eae.perm)throw new Error("Invalid permission: "+e);i+=eae[e]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=Kie(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Zie(this.encryptionKey,this.padding)}function nae(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function rae(e){if("object"!==fy(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,r)}catch(o){Eie.console&&Oie.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function iae(e){if(!(this instanceof iae))return new iae(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function aae(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sae(e,t,n,r,i){if(!(this instanceof sae))return new sae(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,aae.call(this,r,i)}function oae(e,t,n,r,i){if(!(this instanceof oae))return new oae(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,aae.call(this,r,i)}function lae(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",d=null;"object"===fy(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(!0===a?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=rae;var m="1.3",f=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var b="compat",y="advanced",v=b;function w(){this.saveGraphicsState(),J(new Oe(he,0,0,-he,0,pn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",v=y}function j(){this.restoreGraphicsState(),c="S",v=b}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.compatAPI=function(e){var t=v===y;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return v===y};var k,S=function(e){if(v!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,16)};var C=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return A(e,2)},_=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return A(e,3)},E=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b?e*he:v===y?e:void 0},T=function(e){return E((t=e,v===b?pn()-t:v===y?t:void 0));var t};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var O,M="00000000000000000000000000000000",D=p.__private__.getFileId=function(){return M},P=p.__private__.setFileId=function(e){return M=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(bt=new tae(d.userPermissions,d.userPassword,d.ownerPassword,M)),M};p.setFileId=function(e){return P(e),this},p.getFileId=function(){return D()};var I=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),a=[n,H(r),"'",H(i),"'"].join("");return["D:",e.getFullYear(),H(e.getMonth()+1),H(e.getDate()),H(e.getHours()),H(e.getMinutes()),H(e.getSeconds()),a].join("")},L=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,a,s,0)},R=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=I(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return O=t},F=p.__private__.getCreationDate=function(e){var t=O;return"jsDate"===e&&(t=L(O)),t};p.setCreationDate=function(e){return R(e),this},p.getCreationDate=function(e){return F(e)};var B,H=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},z=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},W=0,U=[],V=[],$=0,q=[],G=[],Y=!1,Q=V;p.__private__.setCustomOutputDestination=function(e){Y=!0,Q=e};var K=function(e){Y||(Q=e)};p.__private__.resetCustomOutputDestination=function(){Y=!1,Q=V};var J=p.__private__.out=function(e){return e=e.toString(),$+=e.length+1,Q.push(e),Q},X=p.__private__.write=function(e){return J(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=v===y?e/he:e,this};var ne,re=p.__private__.getFontSize=p.getFontSize=function(){return v===b?te:te*he},ie=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ie=e,this},p.__private__.getR2L=p.getR2L=function(){return ie};var ae,se=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};p.__private__.getZoomMode=function(){return ne};var oe,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};p.__private__.getPageMode=function(){return ae};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};p.__private__.getLayoutMode=function(){return oe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return se(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,me,fe,ge={},xe={},be=[],ye={},ve={},we={},je={},Ne=null,ke=0,Se=[],Ae=new rae(p),Ce=e.hotfixes||[],_e={},Ee={},Te=[],Oe=function e(t,n,r,i,a,s){if(!(this instanceof e))return new e(t,n,r,i,a,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,i,a,s]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Oe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Oe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Oe(t,n,r,i,a,s)},Oe.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*n+(t/=s)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new Oe(s,0,0,l,0,0),translate:new Oe(1,0,0,1,i,a),rotate:new Oe(e,t,-t,e,0,0),skew:new Oe(1,0,o,1,0,0)}},Oe.prototype.toString=function(e){return this.join(" ")},Oe.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,s=1/(e*r-t*n),o=r*s,l=-t*s,c=-n*s,d=e*s;return new Oe(o,l,c,d,-o*i-c*a,-l*i-d*a)},Oe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Oe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Oe.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty;return new Oe(e,t,n,r,i,a)},p.Matrix=Oe;var Me=p.matrixMult=function(e,t){return t.multiply(e)},De=new Oe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=De;var Pe=function(e,t){if(!ve[e]){var n=(t instanceof sae?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,ve[e]=n,ye[n]=t,Ae.publish("addPattern",t)}};p.ShadingPattern=sae,p.TilingPattern=oae,p.addShadingPattern=function(e,t){return S("addShadingPattern()"),Pe(e,t),this},p.beginTilingPattern=function(e){S("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=G[B].join("\n"),Pe(e,t),Ae.publish("endTilingPattern",t),Te.pop().restore()};var Ie,Le=p.__private__.newObject=function(){var e=Re();return Fe(e,!0),e},Re=p.__private__.newObjectDeferred=function(){return W++,U[W]=function(){return $},W},Fe=function(e,t){return t="boolean"==typeof t&&t,U[e]=$,t&&J(e+" 0 obj"),e},Be=p.__private__.newAdditionalObject=function(){var e={objId:Re(),content:""};return q.push(e),e},He=Re(),ze=Re(),We=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ue=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,a=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new Lie(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===a&&n===r&&r===i)t="string"==typeof n?n+" "+s[0]:2===e.precision?C(n/255)+" "+s[0]:_(n/255)+" "+s[0];else if(void 0===a||"object"===fy(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",s[1]].join(" ");t="string"==typeof n?[n,r,i,s[1]].join(" "):2===e.precision?[C(n/255),C(r/255),C(i/255),s[1]].join(" "):[_(n/255),_(r/255),_(i/255),s[1]].join(" ")}else t="string"==typeof n?[n,r,i,a,s[2]].join(" "):2===e.precision?[C(n),C(r),C(i),C(a),s[2]].join(" "):[_(n),_(r),_(i),_(a),s[2]].join(" ");return t},Ve=p.__private__.getFilters=function(){return s},$e=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ve(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,a=t.length,s=e.objectId,o=function(e){return e};if(null!==d&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=bt.encryptor(s,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==lae.API.processDataByFilters?lae.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:a})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}J("<<");for(var f=0;f<c.length;f++)J("/"+c[f].key+" "+c[f].value);J(">>"),0!==l.data.length&&(J("stream"),J(o(l.data)),J("endstream"))},qe=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Fe(r,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),Ae.publish("putPage",{objId:r,pageContext:Se[t],pageNumber:t,page:n}),J("/Contents "+i+" 0 R"),J(">>"),J("endobj");var a=n.join("\n");return v===y&&(a+="\nQ"),Fe(i,!0),$e({data:a,filters:Ve(),objectId:i}),J("endobj"),r},Ge=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Se[e].objId=Re(),Se[e].contentsObjId=Re();for(e=1;e<=ke;e++)n.push(qe({number:e,data:G[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:He,resourceDictionaryObjId:ze}));Fe(He,!0),J("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";J(r+"]"),J("/Count "+ke),J(">>"),J("endobj"),Ae.publish("postPutPages")},Ye=function(e){Ae.publish("putFont",{font:e,out:J,newObject:Le,putStream:$e}),!0!==e.isAlreadyPutted&&(e.objectNumber=Le(),J("<<"),J("/Type /Font"),J("/BaseFont /"+nae(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Qe=function(e){e.objectNumber=Le();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");$e({data:n,additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},Ke=function(e,t){t||(t=21);var n=Le(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=z(Math.round((1-u)*h[0]+u*p[0]).toString(16))+z(Math.round((1-u)*h[1]+u*p[1]).toString(16))+z(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),e.objectNumber=Le(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var a="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),J(a+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Je=function(e,t){var n=Re(),r=Le();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),i.push({key:"XStep",value:k(e.xStep)}),i.push({key:"YStep",value:k(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),$e({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),J("endobj")},Xe=function(e){for(var t in e.objectNumber=Le(),J("<<"),e)switch(t){case"opacity":J("/ca "+C(e[t]));break;case"stroke-opacity":J("/CA "+C(e[t]))}J(">>"),J("endobj")},Ze=function(e){Fe(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in J("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&J("/"+e+" "+ge[e].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in J("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof sae&&ye[e].objectNumber>=0&&J("/"+e+" "+ye[e].objectNumber+" 0 R");Ae.publish("putShadingPatternDict"),J(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in J("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof p.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&J("/"+t+" "+ye[t].objectNumber+" 0 R");Ae.publish("putTilingPatternDict"),J(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in J("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&J("/"+e+" "+we[e].objectNumber+" 0 R");Ae.publish("putGStateDict"),J(">>")}}(),function(){for(var e in J("/XObject <<"),_e)_e.hasOwnProperty(e)&&_e[e].objectNumber>=0&&J("/"+e+" "+_e[e].objectNumber+" 0 R");Ae.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},et=function(e){xe[e.fontName]=xe[e.fontName]||{},xe[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,i){var a={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Ae.publish("addFont",{font:a,instance:this}),ge[a.id]=a,et(a),a.id},nt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,i,a,s,o,l,c,d;if(i=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ge[ue].metadata&&ge[ue].metadata[i]&&ge[ue].metadata[i].encoding&&(a=ge[ue].metadata[i].encoding,!s&&ge[ue].encoding&&(s=ge[ue].encoding),!s&&a.codePages&&(s=a.codePages[0]),"string"==typeof s&&(s=a[s]),s)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=s[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=p.__private__.beginPage=function(e){G[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},st(ke),K(G[B])},it=function(e,t){var r,a,s;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(a=r[0],s=r[1])),Array.isArray(e)&&(a=e[0]*he,s=e[1]*he),isNaN(a)&&(a=i[0],s=i[1]),(a>14400||s>14400)&&(Oie.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),s=Math.min(14400,s)),i=[a,s],n.substr(0,1)){case"l":s>a&&(i=[s,a]);break;case"p":a>s&&(i=[s,a])}rt(i),Ft(Lt),J(qt),0!==Xt&&J(Xt+" J"),0!==Zt&&J(Zt+" j"),Ae.publish("addPage",{pageNumber:ke})},at=function(e){e>0&&e<=ke&&(G.splice(e,1),Se.splice(e,1),ke--,B>ke&&(B=ke),this.setPage(B))},st=function(e){e>0&&e<=ke&&(B=e)},ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return G.length-1},lt=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==xe[r]&&void 0!==xe[r][t]?i=xe[r][t]:void 0!==xe[e]&&void 0!==xe[e][t]?i=xe[e][t]:!1===n.disableWarning&&Oie.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=xe.times[t])&&(i=xe.times.normal),i},ct=p.__private__.putInfo=function(){var e=Le(),t=function(e){return e};for(var n in null!==d&&(t=bt.encryptor(e,0)),J("<<"),J("/Producer ("+nt(t("jsPDF "+lae.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(de[n]))+")");J("/CreationDate ("+nt(t(O))+")"),J(">>"),J("endobj")},dt=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||He;switch(Le(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&J("/OpenAction [3 0 R /XYZ null null "+C(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ae&&J("/PageMode /"+ae),Ae.publish("putCatalog"),J(">>"),J("endobj")},ut=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(W+1)),J("/Root "+W+" 0 R"),J("/Info "+(W-1)+" 0 R"),null!==d&&J("/Encrypt "+bt.oid+" 0 R"),J("/ID [ <"+M+"> <"+M+"> ]"),J(">>")},ht=p.__private__.putHeader=function(){J("%PDF-"+m),J("%")},pt=p.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+(W+1)),J("0000000000 65535 f ");for(var t=1;t<=W;t++)"function"==typeof U[t]?J((e+U[t]()).slice(-10)+" 00000 n "):void 0!==U[t]?J((e+U[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var e;W=0,$=0,V=[],U=[],q=[],He=Re(),ze=Re(),K(V),Ae.publish("buildDocument"),ht(),Ge(),function(){Ae.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Fe(t.objId,!0),J(t.content),J("endobj")}Ae.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Xe(we[e])}(),function(){for(var e in _e)_e.hasOwnProperty(e)&&Qe(_e[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof sae?Ke(ye[t]):ye[t]instanceof oae&&Je(ye[t],e))}(e),Ae.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:ze,objectOid:Number.MAX_SAFE_INTEGER}),Ae.publish("postPutResources"),null!==d&&(bt.oid=Le(),J("<<"),J("/Filter /Standard"),J("/V "+bt.v),J("/R "+bt.r),J("/U <"+bt.toHexString(bt.U)+">"),J("/O <"+bt.toHexString(bt.O)+">"),J("/P "+bt.P),J(">>"),J("endobj")),ct(),dt();var t=$;return pt(),ut(),J("startxref"),J(""+t),J("%%EOF"),K(G[B]),V.join("\n")},ft=p.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=p.output=p.__private__.output=(Ie=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":p.save(t.filename);break;case"arraybuffer":return Z(mt());case"blob":return ft(mt());case"bloburi":case"bloburl":if(void 0!==Eie.URL&&"function"==typeof Eie.URL.createObjectURL)return Eie.URL&&Eie.URL.createObjectURL(ft(mt()))||void 0;Oie.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=mt();try{n=Fie(r)}catch(m){n=Fie(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Eie)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,a="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=Eie.open();return null!==o&&o.document.write(s),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Eie)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Eie.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Eie))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=Eie.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return Eie.document.location.href=this.output("datauristring",t);default:return null}},Ie.foo=function(){try{return Ie.apply(this,arguments)}catch(n){var e=n.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+n.message;if(!Eie.console)throw new Error(t);Eie.console.error(t,n),Eie.alert&&alert(t)}},Ie.foo.bar=Ie,Ie.foo),xt=function(e){return!0===Array.isArray(Ce)&&Ce.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==xt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var bt=null;R(),P();var yt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},vt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return yt(t)},wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Se[B].objId,pageNumber:B,pageContext:Se[B]}};p.addPage=function(){return it.apply(this,arguments),this},p.setPage=function(){return st.apply(this,arguments),K.call(this,G[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Se[e];for(var i=e;i>t;i--)G[i]=G[i-1],Se[i]=Se[i-1];G[t]=n,Se[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Se[e];for(var a=e;a<t;a++)G[a]=G[a+1],Se[a]=Se[a+1];G[t]=n,Se[t]=r,this.setPage(t)}return this},p.deletePage=function(){return at.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,i){var a,s,o,l,c,d,u,p,m,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Oe==0?(o=arguments[4],l=arguments[5],"object"===fy(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),m=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var x,b="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:It,j=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function A(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function C(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,a=e.concat(),s=[],o=a.length;o--;)"string"==typeof(r=a.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),s.push([i[0],i[1],i[2]]));n=s}return n}var _=!1,T=!0;if("string"==typeof e)_=!0;else if(Array.isArray(e)){var O=e.concat();s=[];for(var M,D=O.length;D--;)("string"!=typeof(M=O.shift())||Array.isArray(M)&&"string"!=typeof M[0])&&(T=!1);_=T}if(!1===_)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var P=te/f.internal.scaleFactor,I=P*(w-1);switch(r.baseline){case"bottom":n-=I;break;case"top":n+=P-I;break;case"hanging":n+=P-2*I;break;case"middle":n+=P/2-I}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ae.publish("preProcessText",a),e=a.text,o=(r=a.options).angle,m instanceof Oe==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),v===y&&(o=-o);var L=Math.cos(o),R=Math.sin(o);m=new Oe(L,R,-R,L,0,0)}else o&&o instanceof Oe&&(m=o);v!==y||m||(m=De),void 0!==(c=r.charSpace||Kt)&&(b+=k(E(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=r.horizontalScale)&&(b+=k(100*p)+" Tz\n"),r.lang;var F=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,H=f.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var z=void 0!==H.usedRenderingMode?H.usedRenderingMode:-1;-1!==F?b+=F+" Tr\n":-1!==z&&(b+="0 Tr\n"),-1!==F&&(H.usedRenderingMode=F),l=r.align||"left";var W,U=te*w,V=f.internal.pageSize.getWidth(),$=ge[ue];c=r.charSpace||Kt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var q=[],G=function(e){return f.getStringUnitWidth(e,{font:$,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var Y;s=A(e),"left"!==l&&(W=s.map(G));var Q,K=0;if("right"===l){t-=W[0],e=[],D=s.length;for(var X=0;X<D;X++)0===X?(Q=Wt(t),Y=Ut(n)):(Q=E(K-W[X]),Y=-U),e.push([s[X],Q,Y]),K=W[X]}else if("center"===l){t-=W[0]/2,e=[],D=s.length;for(var Z=0;Z<D;Z++)0===Z?(Q=Wt(t),Y=Ut(n)):(Q=E((K-W[Z])/2),Y=-U),e.push([s[Z],Q,Y]),K=W[Z]}else if("left"===l){e=[],D=s.length;for(var ee=0;ee<D;ee++)e.push(s[ee])}else if("justify"===l&&"Identity-H"===$.encoding){e=[],D=s.length,d=0!==d?d:V;for(var ne=0,re=0;re<D;re++)if(Y=0===re?Ut(n):-U,Q=0===re?Wt(t):ne,re<D-1){var ae=E((d-W[re])/(s[re].split(" ").length-1)),se=s[re].split(" ");e.push([se[0]+" ",Q,Y]),ne=0;for(var oe=1;oe<se.length;oe++){var le=(G(se[oe-1]+" "+se[oe])-G(se[oe]))*j+ae;oe==se.length-1?e.push([se[oe],le,0]):e.push([se[oe]+" ",le,0]),ne-=le}}else e.push([s[re],Q,Y]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],D=s.length,d=0!==d?d:V,re=0;re<D;re++){Y=0===re?Ut(n):-U,Q=0===re?Wt(t):0;var ce=s[re].split(" ").length-1,de=ce>0?(d-W[re])/ce:0;re<D-1?q.push(k(E(de))):q.push(0),e.push([s[re],Q,Y])}}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=C(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ae.publish("postProcessText",a),e=a.text,x=a.mutex.isHex||!1;var he=ge[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=C(e,function(e,t,n){return[N(e),t,n]})),s=A(e),e=[];for(var pe,me,fe,xe=Array.isArray(s[0])?1:0,be="",ye=function(e,t,n){var i="";return n instanceof Oe?(n="number"==typeof r.angle?Me(n,new Oe(1,0,0,1,e,t)):Me(new Oe(1,0,0,1,e,t),n),v===y&&(n=Me(new Oe(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=k(e)+" "+k(t)+" Td\n",i},ve=0;ve<s.length;ve++){switch(be="",xe){case 1:fe=(x?"<":"(")+s[ve][0]+(x?">":")"),pe=parseFloat(s[ve][1]),me=parseFloat(s[ve][2]);break;case 0:fe=(x?"<":"(")+s[ve]+(x?">":")"),pe=Wt(t),me=Ut(n)}void 0!==q&&void 0!==q[ve]&&(be=q[ve]+" Tw\n"),0===ve?e.push(be+ye(pe,me,m)+fe):0===xe?e.push(be+fe):1===xe&&e.push(be+ye(pe,me,m)+fe)}e=0===xe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=k(te*w)+" TL\n",we+=Yt+"\n",we+=b,we+=e,J(we+="ET"),h[ue]=!0,f};var jt=p.__private__.clip=p.clip=function(e){return J("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return jt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var Nt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(e){return At("f",e),this},p.fillEvenOdd=function(e){return At("f*",e),this},p.fillStroke=function(e){return At("B",e),this},p.fillStrokeEvenOdd=function(e){return At("B*",e),this};var At=function(e,t){"object"===fy(t)?Et(t,e):J(e)},Ct=function(e){null===e||v===y&&void 0===e||(e=kt(e),J(e))};function _t(e,t,n,r,i){var a=new oae(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);a.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Pe(s,a),a}var Et=function(e,t){var n=ve[e.key],r=ye[n];if(r instanceof sae)J("q"),J(Tt(t)),r.gState&&p.setGState(r.gState),J(e.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof oae){var i=new Oe(1,0,0,-1,0,pn());e.matrix&&(i=i.multiply(e.matrix||De),n=_t.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&p.setGState(r.gState),J(t),J("Q")}},Tt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ot=p.moveTo=function(e,t){return J(k(E(e))+" "+k(T(t))+" m"),this},Mt=p.lineTo=function(e,t){return J(k(E(e))+" "+k(T(t))+" l"),this},Dt=p.curveTo=function(e,t,n,r,i,a){return J([k(E(e)),k(T(t)),k(E(n)),k(T(r)),k(E(i)),k(T(a)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.line");return v===b?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,i,a){var s,o,l,c,d,u,h,p,m,f,g,x;if("number"==typeof e&&(x=n,n=t,t=e,e=x),r=r||[1,1],a=a||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(i)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ot(t,n),s=r[0],o=r[1],c=e.length,f=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*s+f,g=d[1]*o+g,Mt(f,g)):(u=d[0]*s+f,h=d[1]*o+g,p=d[2]*s+f,m=d[3]*o+g,f=d[4]*s+f,g=d[5]*o+g,Dt(u,h,p,m,f,g));return a&&St(),Ct(i),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Ot(r[0],r[1]);break;case"l":Mt(r[0],r[1]);break;case"c":Dt.apply(this,r);break;case"h":St()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b&&(r=-r),J([k(E(e)),k(T(t)),k(E(n)),k(E(r)),"re"].join(" ")),Ct(i),this},p.__private__.triangle=p.triangle=function(e,t,n,r,i,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,a-r],[e-i,t-a]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,i,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*i,0],[i*o,0,i,a-a*o,i,a],[0,r-2*a],[0,a*o,-i*o,a,-i,a],[2*i-n,0],[-i*o,0,-i,-a*o,-i,-a],[0,2*a-r],[0,-a*o,i*o,-a,i,-a]],e+i,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return Ot(e+n,t),Dt(e+n,t-s,e+a,t-r,e,t-r),Dt(e-a,t-r,e-n,t-s,e-n,t),Dt(e-n,t+s,e-a,t+r,e,t+r),Dt(e+a,t+r,e+n,t+s,e+n,t),Ct(i),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=N(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Pt=p.__private__.getFont=p.getFont=function(){return ge[lt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in xe)if(xe.hasOwnProperty(e))for(t in n[e]=[],xe[e])xe[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,i){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=N(n,r)),tt.call(this,e,t,n,i=i||"Identity-H")};var It,Lt=e.lineWidth||.200025,Rt=p.__private__.getLineWidth=p.getLineWidth=function(){return Lt},Ft=p.__private__.setLineWidth=p.setLineWidth=function(e){return Lt=e,J(k(E(e))+" w"),this};p.__private__.setLineDash=lae.API.setLineDash=lae.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(E(e))}).join(" "),t=k(E(t)),J("["+e+"] "+t+" d"),this};var Bt=p.__private__.getLineHeight=p.getLineHeight=function(){return te*It};p.__private__.getLineHeight=p.getLineHeight=function(){return te*It};var Ht=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(It=e),this},zt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return It};Ht(e.lineHeight);var Wt=p.__private__.getHorizontalCoordinate=function(e){return E(e)},Ut=p.__private__.getVerticalCoordinate=function(e){return v===y?e:Se[B].mediaBox.topRightY-Se[B].mediaBox.bottomLeftY-E(e)},Vt=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(Wt(e))},$t=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(Ut(e))},qt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return We(qt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return qt=Ue({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(qt),this};var Gt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return We(Gt)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return Gt=Ue({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J(Gt),this};var Yt=e.textColor||"0 g",Qt=p.__private__.getTextColor=p.getTextColor=function(){return We(Yt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return Yt=Ue({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Kt=e.charSpace,Jt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Kt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kt=e,this};var Xt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xt=t,J(t+" J"),this};var Zt=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,J(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(k(E(e))+" M"),this},p.GState=iae,p.setGState=function(e){(e="string"==typeof e?we[je[e]]:en(null,e)).equals(Ne)||(J("/"+e.id+" gs"),Ne=e)};var en=function(e,t){if(!e||!je[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var i="GS"+(Object.keys(we).length+1).toString(10);we[i]=t,t.id=i}return e&&(je[e]=t.id),Ae.publish("addGState",t),t}};p.addGState=function(e,t){return en(e,t),this},p.saveGraphicsState=function(){return J("q"),be.push({key:ue,size:te,color:Yt}),this},p.restoreGraphicsState=function(){J("Q");var e=be.pop();return ue=e.key,te=e.size,Yt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},p.comment=function(e){return J("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},rn=function(){this.page=ke,this.currentPage=B,this.pages=G.slice(0),this.pagesContext=Se.slice(0),this.x=pe,this.y=me,this.matrix=fe,this.width=on(B),this.height=cn(B),this.outputDestination=Q,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){ke=this.page,B=this.currentPage,Se=this.pagesContext,G=this.pages,pe=this.x,me=this.y,fe=this.matrix,ln(B,this.width),dn(B,this.height),Q=this.outputDestination};var an=function(e,t,n,r,i){Te.push(new rn),ke=B=0,G=[],pe=e,me=t,fe=i,rt([n,r])};for(var sn in p.beginFormObject=function(e,t,n,r,i){return an(e,t,n,r,i),this},p.endFormObject=function(e){return function(e){if(Ee[e])Te.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(_e).length+1).toString(10);t.id=n,Ee[e]=n,_e[n]=t,Ae.publish("addFormObject",t),Te.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=_e[Ee[e]];return J("q"),J(t.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},p.getFormObject=function(e){var t=_e[Ee[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Iie(ft(mt()),e),"function"==typeof Iie.unload&&Eie.setTimeout&&setTimeout(Iie.unload,911),this):new Promise(function(t,n){try{var r=Iie(ft(mt()),e);"function"==typeof Iie.unload&&Eie.setTimeout&&setTimeout(Iie.unload,911),t(r)}catch(i){n(i.message)}})},lae.API)lae.API.hasOwnProperty(sn)&&("events"===sn&&lae.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ae,lae.API.events):p[sn]=lae.API[sn]);function on(e){return Se[e].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX}function ln(e,t){Se[e].mediaBox.topRightX=t+Se[e].mediaBox.bottomLeftX}function cn(e){return Se[e].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY}function dn(e,t){Se[e].mediaBox.topRightY=t+Se[e].mediaBox.bottomLeftY}var un=p.getPageWidth=function(e){return on(e=e||B)/he},hn=p.setPageWidth=function(e,t){ln(e,t*he)},pn=p.getPageHeight=function(e){return cn(e=e||B)/he},mn=p.setPageHeight=function(e,t){dn(e,t*he)};return p.internal={pdfEscape:nt,getStyle:kt,getFont:Pt,getFontSize:re,getCharSpace:Jt,getTextColor:Qt,getLineHeight:Bt,getLineHeightFactor:zt,getLineWidth:Rt,write:X,getHorizontalCoordinate:Wt,getVerticalCoordinate:Ut,getCoordinateString:Vt,getVerticalCoordinateString:$t,collections:{},newObject:Le,newAdditionalObject:Be,newObjectDeferred:Re,newObjectDeferredBegin:Fe,getFilters:Ve,putStream:$e,events:Ae,scaleFactor:he,pageSize:{getWidth:function(){return un(B)},setWidth:function(e){hn(B,e)},getHeight:function(){return pn(B)},setHeight:function(e){mn(B,e)}},encryptionOptions:d,encryption:bt,getEncryptor:function(e){return null!==d?bt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:ot,pages:G,out:J,f2:C,f3:_,getPageInfo:yt,getPageInfoByObjId:vt,getCurrentPageInfo:wt,getPDFVersion:f,Point:tn,Rectangle:nn,Matrix:Oe,hasHotfix:xt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return un(B)},set:function(e){hn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return pn(B)},set:function(e){mn(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var i=e[t][0].split("-");et({id:r,fontName:i[0],fontStyle:i[1]||""})}Ae.publish("addFonts",{fonts:ge,dictionary:xe})}.call(p,ee),ue="F1",it(i,n),Ae.publish("initialized"),p}tae.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},tae.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tae.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},tae.prototype.processOwnerPassword=function(e,t){return Zie(Kie(t).substr(0,5),e)},tae.prototype.encryptor=function(e,t){var n=Kie(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Zie(n,e)}},iae.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||fy(e)!==fy(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},lae.API={events:[]},lae.version="3.0.3";var cae=lae.API,dae=1,uae=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hae=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pae=function(e){return e.toFixed(2)},mae=function(e){return e.toFixed(5)};cae.__acroform__={};var fae=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gae=function(e){return e*dae},xae=function(e){var t=new Dae,n=Gae.internal.getHeight(e)||0,r=Gae.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pae(r)),Number(pae(n))],t},bae=cae.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},yae=cae.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},vae=cae.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wae=cae.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vae(e,t-1)},jae=cae.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bae(e,t-1)},Nae=cae.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return yae(e,t-1)},kae=cae.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(a)||0,[Number(pae(l.lowerLeft_X)),Number(pae(l.lowerLeft_Y)),Number(pae(l.upperRight_X)),Number(pae(l.upperRight_Y))]},Sae=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Aae(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+pae(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=xae(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},Aae=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var a=n,s=Gae.internal.getHeight(e)||0;s=s<0?-s:s;var o=Gae.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<i.length){var a=n+" "+i[t+1][0];return Cae(a,e,r).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,u=Cae("3",e,a).height,h=e.multiline?s-a:(s-u)/2,p=h+=2,m=0,f=0,g=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+Cae(t,e,a=12).width+", FieldWidth:"+o+"\n";break}for(var x="",b=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var v=!1;if(1!==i[y].length&&g!==i[y].length-1){if((u+2)*(b+2)+2>s)continue e;x+=i[y][g],v=!0,f=y,y--}else{x=" "==(x+=i[y][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(y),j=l(w,x,a),N=y>=i.length-1;if(j&&!N){x+=" ",g=0;continue}if(j||N){if(N)f=w;else if(e.multiline&&(u+2)*(b+2)+2>s)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>s)continue e;f=w}}for(var k="",S=m;S<=f;S++){var A=i[S];if(e.multiline){if(S===f){k+=A[g]+" ",g=(g+1)%A.length;continue}if(S===m){k+=A[A.length-1]+" ";continue}}k+=A[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=Cae(k,e,a).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=pae(c)+" "+pae(p)+" Td\n",t+="("+uae(k)+") Tj\n",t+=-pae(c)+" 0 Td\n",p=-(a+2),d=0,m=v?f:f+1,b++,x=""}break}return r.text=t,r.fontSize=a,r},Cae=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},_ae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Eae=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Tae=cae.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(0!==a&&(i+=" "),fy(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+uae(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Oae=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+uae(r(e))+")"},Mae=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mae.prototype.toString=function(){return this.objId+" 0 R"},Mae.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Mae.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Tae(i,this.objId,this.scope)}):i instanceof Mae?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var Dae=function(){Mae.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};fae(Dae,Mae);var Pae=function(){Mae.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+uae(t(e))+")"}},set:function(t){e=t}})};fae(Pae,Mae);var Iae=function e(){Mae.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(t,3))},set:function(e){!0===Boolean(e)?this.F=jae(t,3):this.F=Nae(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Uae)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+uae(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/dae:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Uae||this instanceof $ae))return Oae(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Hae==0?Oae(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Hae==0?"("===e.substr(0,1)?hae(e.substr(1,e.length-2)):hae(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hae==1?hae(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Hae==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Hae==0?Oae(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof Hae==0?"("===e.substr(0,1)?hae(e.substr(1,e.length-2)):hae(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hae==1?hae(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof Hae==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,1):this.Ff=Nae(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,2):this.Ff=Nae(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,3):this.Ff=Nae(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};fae(Iae,Mae);var Lae=function(){Iae.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Tae(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,18):this.Ff=Nae(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=jae(this.Ff,19):this.Ff=Nae(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=jae(this.Ff,20),t.sort()):this.Ff=Nae(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,22):this.Ff=Nae(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,23):this.Ff=Nae(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,27):this.Ff=Nae(this.Ff,27)}}),this.hasAppearanceStream=!1};fae(Lae,Iae);var Rae=function(){Lae.call(this),this.fontName="helvetica",this.combo=!1};fae(Rae,Lae);var Fae=function(){Rae.call(this),this.combo=!0};fae(Fae,Rae);var Bae=function(){Fae.call(this),this.edit=!0};fae(Bae,Fae);var Hae=function(){Iae.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,15):this.Ff=Nae(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,16):this.Ff=Nae(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,17):this.Ff=Nae(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,26):this.Ff=Nae(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+uae(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===fy(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};fae(Hae,Iae);var zae=function(){Hae.call(this),this.pushButton=!0};fae(zae,Hae);var Wae=function(){Hae.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};fae(Wae,Hae);var Uae=function(){var e,t;Iae.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+uae(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===fy(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gae.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fae(Uae,Iae),Wae.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Wae.prototype.createOption=function(e){var t=new Uae;return t.Parent=this,t.optionName=e,this.Kids.push(t),Yae.call(this.scope,t),t};var Vae=function(){Hae.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gae.CheckBox.createAppearanceStream()};fae(Vae,Hae);var $ae=function(){Iae.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,13):this.Ff=Nae(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,21):this.Ff=Nae(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,23):this.Ff=Nae(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,24):this.Ff=Nae(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,25):this.Ff=Nae(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,26):this.Ff=Nae(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fae($ae,Iae);var qae=function(){$ae.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(wae(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=jae(this.Ff,14):this.Ff=Nae(this.Ff,14)}}),this.password=!0};fae(qae,$ae);var Gae={CheckBox:{createAppearanceStream:function(){return{N:{On:Gae.CheckBox.YesNormal},D:{On:Gae.CheckBox.YesPushDown,Off:Gae.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=xae(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Aae(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+pae(Gae.internal.getWidth(e))+" "+pae(Gae.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pae(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=xae(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Gae.internal.getHeight(e),s=Gae.internal.getWidth(e),o=Aae(e,e.caption);return i.push("1 g"),i.push("0 0 "+pae(s)+" "+pae(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pae(s-1)+" "+pae(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+pae(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=xae(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pae(Gae.internal.getWidth(e))+" "+pae(Gae.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gae.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gae.RadioButton.Circle.YesNormal,t.D[e]=Gae.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=xae(e);t.scope=e.scope;var n=[],r=Gae.internal.getWidth(e)<=Gae.internal.getHeight(e)?Gae.internal.getWidth(e)/4:Gae.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Gae.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+mae(Gae.internal.getWidth(e)/2)+" "+mae(Gae.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=xae(e);t.scope=e.scope;var n=[],r=Gae.internal.getWidth(e)<=Gae.internal.getHeight(e)?Gae.internal.getWidth(e)/4:Gae.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Gae.internal.Bezier_C).toFixed(5)),s=Number((r*Gae.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mae(Gae.internal.getWidth(e)/2)+" "+mae(Gae.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+mae(Gae.internal.getWidth(e)/2)+" "+mae(Gae.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=xae(e);t.scope=e.scope;var n=[],r=Gae.internal.getWidth(e)<=Gae.internal.getHeight(e)?Gae.internal.getWidth(e)/4:Gae.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Gae.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mae(Gae.internal.getWidth(e)/2)+" "+mae(Gae.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gae.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gae.RadioButton.Cross.YesNormal,t.D[e]=Gae.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=xae(e);t.scope=e.scope;var n=[],r=Gae.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+pae(Gae.internal.getWidth(e)-2)+" "+pae(Gae.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pae(r.x1.x)+" "+pae(r.x1.y)+" m"),n.push(pae(r.x2.x)+" "+pae(r.x2.y)+" l"),n.push(pae(r.x4.x)+" "+pae(r.x4.y)+" m"),n.push(pae(r.x3.x)+" "+pae(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=xae(e);t.scope=e.scope;var n=Gae.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+pae(Gae.internal.getWidth(e))+" "+pae(Gae.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pae(Gae.internal.getWidth(e)-2)+" "+pae(Gae.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pae(n.x1.x)+" "+pae(n.x1.y)+" m"),r.push(pae(n.x2.x)+" "+pae(n.x2.y)+" l"),r.push(pae(n.x4.x)+" "+pae(n.x4.y)+" m"),r.push(pae(n.x3.x)+" "+pae(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=xae(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pae(Gae.internal.getWidth(e))+" "+pae(Gae.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Gae.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gae.internal.getWidth(e),n=Gae.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Gae.internal.getWidth=function(e){var t=0;return"object"===fy(e)&&(t=gae(e.Rect[2])),t},Gae.internal.getHeight=function(e){var t=0;return"object"===fy(e)&&(t=gae(e.Rect[3])),t};var Yae=cae.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Iae.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(_ae)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dae=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Pae,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Eae(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],a=[],s=i.Rect;if(i.Rect&&(i.Rect=kae(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Gae.createDefaultAppearanceStream(i),"object"===fy(i)&&"function"==typeof i.getKeyValueListForStream&&(a=i.getKeyValueListForStream()),i.Rect=s,i.hasAppearanceStream&&!i.appearanceStreamContent){var o=Sae(i);a.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var d=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,i)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,i)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===fy(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Iae))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function Qae(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}cae.AcroFormChoiceField=Lae,cae.AcroFormListBox=Rae,cae.AcroFormComboBox=Fae,cae.AcroFormEditBox=Bae,cae.AcroFormButton=Hae,cae.AcroFormPushButton=zae,cae.AcroFormRadioButton=Wae,cae.AcroFormCheckBox=Vae,cae.AcroFormTextField=$ae,cae.AcroFormPasswordField=qae,cae.AcroFormAppearance=Gae,cae.AcroForm={ChoiceField:Lae,ListBox:Rae,ComboBox:Fae,EditBox:Bae,Button:Hae,PushButton:zae,RadioButton:Wae,CheckBox:Vae,TextField:$ae,PasswordField:qae,Appearance:Gae},lae.AcroForm={ChoiceField:Lae,ListBox:Rae,ComboBox:Fae,EditBox:Bae,Button:Hae,PushButton:zae,RadioButton:Wae,CheckBox:Vae,TextField:$ae,PasswordField:qae,Appearance:Gae},lae.AcroForm,function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,a,s,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in r)for(s=r[l],i=0;i<s.length;i+=1){for(o=!0,a=0;a<s[i].length;a+=1)if(void 0!==s[i][a]&&s[i][a]!==e[a]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(s=r[l],i=0;i<s.length;i+=1){for(o=!0,a=0;a<s[i].length;a+=1)if(void 0!==s[i][a]&&s[i][a]!==e.charCodeAt(a)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";a.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===x.INDEXED){var p=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:p}),n("endobj")}},s=function(){var e=this.internal.collections[t+"images"];for(var n in e)a.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var i in n)r("/I"+(e=n[i]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===fy(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Rie(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return Rie(t.toDataURL(a,1).split("base64,").pop())}},m=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,a){var s=f.call(this,n,r,i),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=s[0],r=s[1],d[i.index]=i,a){a*=Math.PI/180;var u=Math.cos(a),h=Math.sin(a),p=function(e){return e.toFixed(4)},m=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,i,a,s,o,c,d;if("number"==typeof arguments[1]?(t=n,r=arguments[1],i=arguments[2],a=arguments[3],s=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],r=arguments[2],i=arguments[3],a=arguments[4],s=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===fy(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,i=u.y||i||0,a=u.w||u.width||a,s=u.h||u.height||s,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=S.call(this,e,t,o,c);return g.call(this,r,i,a,s,m,d),this};var S=function(t,r,a,s){var o,l,c,f;if("string"==typeof t&&i(t)===n){t=unescape(t);var g=A(t,!1);(""!==g||void 0!==(g=e.loadFile(t,!0)))&&(t=g)}if(h(t)&&(t=p(t,r)),r=i(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=a)||0===c.length)&&(a="string"==typeof(f=t)||j(f)?y(f):j(f.data)?y(f.data):null),(o=m.call(this,a))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),o=this["process"+r.toUpperCase()](t,d.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(s),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},A=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=w(e))&&void 0!==i?i:e;try{r=Rie(n)}catch(a){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,a,s="";if(h(t)&&(t=p(t)),"string"==typeof t&&i(t)===n&&(""===(s=A(t,!1))&&(s=e.loadFile(t)||""),t=s),a=i(t),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=a,r}}(lae.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};lae.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",i+=" /Popup "+f.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+h(g(x))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",f.content=i,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+s(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var w=s(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var a=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+n),h:o(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,a,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){a=r.maxWidth;var l=this.splitTextToSize(e,a).length;i=Math.ceil(o*l)}else a=s,i=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-o,a,i,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(lae.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&a(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",a=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(a++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,a=0),t===e.length-1&&(r=n,i+=e.charAt(t-(a-1)),t-=a-1,a=0)):(r=n,i+=e.charAt(t-a),t-=a,a=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===a(e)?-1:!c(e)||!s(t)&&!s(n)||!s(n)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&s(t)&&!o(t)&&s(n)&&c(n)?3:o(e)||!s(n)?1:2:-1},p=function(e){var n=0,r=0,i=0,a="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)a=c[n][r],o=c[n][r-1],l=c[n][r+1],s(a)?(i=h(a,o,l),d[n]+=-1!==i?String.fromCharCode(t[a.charCodeAt(0)][i]):a):d[n]+=a;d[n]=u(d[n])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(lae.API),lae.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lae.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:i})*n)&&(s=l);return 0!==s&&(o=e.length),{w:s/=a,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,m,f=[],g=[],x=[],b={},y={},v=[],w=[],j=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},t),A="number"==typeof d.padding?d.padding:3,C=d.headerBackgroundColor||"#c8c8c8",_=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=_,this.setFontSize(k),null==c)g=f=Object.keys(l[0]),x=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===fy(c[0]))for(f=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=f=c,x=f.map(function(){return"left"}));if(j||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(b[m=f[u]]=l.map(function(e){return e[m]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[m],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)v.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[m]=Math.max.apply(null,v)+A+A,v=[]}if(N){var E={};for(u=0;u<f.length;u+=1)E[f[u]]={},E[f[u]].text=g[u],E[f[u]].align=x[u];var T=o.call(this,E,y);w=f.map(function(t){return new a(e,n,y[t],T,E[t].text,void 0,E[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var O=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var M=o.call(this,l[u],y);for(p=0;p<f.length;p+=1){var D=l[u][f[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:D},this),s.call(this,new a(e,n,y[f[p]],M,D,u+2,O[f[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,i),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(lae.API);var Kae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Jae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xae=Qae(Jae),Zae=[100,200,300,400,500,600,700,800,900],ese=Qae(Zae);function tse(e){var t,n=e.family.replace(/"|'/g,"").toLowerCase(),r=(t=e.style,Kae[t=t||"normal"]?t:"normal"),i=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof Xae[e=e||"normal"]?e:"normal"}(e.stretch);return{family:n,style:r,weight:i,stretch:a,src:e.src||[],ref:e.ref||{name:n,style:[a,r,i].join(" ")}}}function nse(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var rse={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ise={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ase(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function sse(e){return e.trimLeft()}function ose(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function lse(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var cse,dse,use,hse,pse,mse,fse,gse,xse=["times"];function bse(e,t,n,r,i){var a=4,s=wse;switch(i){case lae.API.image_compression.FAST:a=1,s=vse;break;case lae.API.image_compression.MEDIUM:a=6,s=jse;break;case lae.API.image_compression.SLOW:a=9,s=Nse}e=function(e,t,n,r){for(var i,a=e.length/t,s=new Uint8Array(e.length+a),o=[yse,vse,wse,jse,Nse],l=0;l<a;l+=1){var c=l*t,d=e.subarray(c,c+t);if(r)s.set(r(d,n,i),c+l);else{for(var u=o.length,h=[],p=0;p<u;p+=1)h[p]=o[p](d,n,i);var m=Sse(h.concat());s.set(h[m],c+l)}i=d}return s}(e,t,Math.ceil(n*r/8),s);var o=One(e,{level:a});return lae.API.__addimage__.arrayBufferToBinaryString(o)}function yse(e){var t=Array.apply([],e);return t.unshift(0),t}function vse(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function wse(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=e[a]-s+256&255}return i}function jse(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=e[a-t]||0,o=n&&n[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function Nse(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=kse(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function kse(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function Sse(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function Ase(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return _se(e,i)>>a&s}function Cse(e,t,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),o=(1<<r)-1,l=(t&o)<<s;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,a,_se(e,a)&~(o<<s)&65535|l)}function _se(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Ese(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,p=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&f||(h=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++],w=v>>6&1,j=1<<1+(7&v),N=o,k=l,S=!1;v>>7&&(S=!0,N=t,k=j,t+=3*j);var A=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}d.push({x:g,y:x,width:b,height:y,has_local_palette:S,palette_offset:N,palette_size:k,data_offset:A,data_length:t-A,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,s=new Uint8Array(a);Tse(e,i.data_offset,s,a);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=n-c,u=c,h=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),m=h,f=4*d;!0===i.interlaced&&(f+=4*n*7);for(var g=8,x=0,b=s.length;x<b;++x){var y=s[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),y===l)m+=4;else{var v=e[o+3*y],w=e[o+3*y+1],j=e[o+3*y+2];r[m++]=j,r[m++]=w,r[m++]=v,r[m++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),a=i.width*i.height,s=new Uint8Array(a);Tse(e,i.data_offset,s,a);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,d=n-c,u=c,h=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),m=h,f=4*d;!0===i.interlaced&&(f+=4*n*7);for(var g=8,x=0,b=s.length;x<b;++x){var y=s[x];if(0===u&&(u=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=h+(c+d)*(g<<1),g>>=1)),y===l)m+=4;else{var v=e[o+3*y],w=e[o+3*y+1],j=e[o+3*y+2];r[m++]=v,r[m++]=w,r[m++]=j,r[m++]=255}--u}}}function Tse(e,t,n,r){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==a){if(g===s)break;for(var x=g<o?g:f,b=0,y=x;y>a;)y=m[y]>>8,++b;var v=y;if(h+b+(x!==g?1:0)>r)return void Oie.log("Warning, gif stream longer than expected.");n[h++]=v;var w=h+=b;for(x!==g&&(n[h++]=v),y=x;b--;)y=m[y],n[--w]=255&y,y>>=8;null!==f&&o<4096&&(m[o++]=f<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=g}else o=s+1,c=(1<<(l=i+1))-1,f=null}return h!==r&&Oie.log("Warning, gif stream shorter than expected."),n}function Ose(e){var t,n,r,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,x=7,b=new Array(64),y=new Array(64),v=new Array(64),w=new Array(256),j=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],O=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(e,t){for(var n=0,r=0,i=new Array,a=1;a<=16;a++){for(var s=1;s<=e[a];s++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=a,r++,n++;n*=2}return i}function D(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<x),n--,--x<0&&(255==g?(P(255),P(0)):P(g),x=7,g=0)}function P(e){f.push(e)}function I(e){P(e>>8&255),P(255&e)}function L(e,t,n,r,i){for(var a,s=i[0],o=i[240],l=function(e,t){var n,r,i,a,s,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],i=e[h+2],a=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var m=n+(c=e[h+7]),f=n-c,g=r+l,x=r-l,b=i+o,y=i-o,v=a+s,w=a-s,j=m+v,N=m-v,k=g+b,S=g-b;e[h]=j+k,e[h+4]=j-k;var A=.707106781*(S+N);e[h+2]=N+A,e[h+6]=N-A;var C=.382683433*((j=w+y)-(S=x+f)),_=.5411961*j+C,E=1.306562965*S+C,T=.707106781*(k=y+x),O=f+T,M=f-T;e[h+5]=M+_,e[h+3]=M-_,e[h+1]=O+E,e[h+7]=O-E,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],i=e[h+16],a=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var D=n+(c=e[h+56]),P=n-c,I=r+l,L=r-l,R=i+o,F=i-o,B=a+s,H=a-s,z=D+B,W=D-B,U=I+R,V=I-R;e[h]=z+U,e[h+32]=z-U;var $=.707106781*(V+W);e[h+16]=W+$,e[h+48]=W-$;var q=.382683433*((z=H+F)-(V=L+P)),G=.5411961*z+q,Y=1.306562965*V+q,Q=.707106781*(U=F+L),K=P+Q,J=P-Q;e[h+40]=J+G,e[h+24]=J-G,e[h+8]=K+Y,e[h+56]=K-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)m[N[c]]=l[c];var d=m[0]-n;n=m[0],0==d?D(r[0]):(D(r[h[a=32767+d]]),D(u[a]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return D(s),n;for(var g,x=1;x<=f;){for(var b=x;0==m[x]&&x<=f;)++x;var y=x-b;if(y>=16){g=y>>4;for(var v=1;v<=g;++v)D(o);y&=15}a=32767+m[x],D(i[(y<<4)+h[a]]),D(u[a]),x++}return 63!=f&&D(s),n}function R(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[N[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var u=s((i[a]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[a]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[N[p]]*h[m]*h[f]*8),d[p]=1/(l[N[p]]*h[m]*h[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){var s,u;a&&R(a),f=new Array,g=0,x=7,I(65496),I(65504),I(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),I(1),I(1),P(0),P(0),function(){I(65499),I(132),P(0);for(var e=0;e<64;e++)P(o[e]);P(1);for(var t=0;t<64;t++)P(l[t])}(),s=e.width,u=e.height,I(65472),I(17),P(8),I(u),I(s),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1),function(){I(65476),I(418),P(0);for(var e=0;e<16;e++)P(k[e+1]);for(var t=0;t<=11;t++)P(S[t]);P(16);for(var n=0;n<16;n++)P(A[n+1]);for(var r=0;r<=161;r++)P(C[r]);P(1);for(var i=0;i<16;i++)P(_[i+1]);for(var a=0;a<=11;a++)P(E[a]);P(17);for(var s=0;s<16;s++)P(T[s+1]);for(var o=0;o<=161;o++)P(O[o])}(),I(65498),I(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var h=0,p=0,m=0;g=0,x=7,this.encode.displayName="_encode_";for(var w,N,M,F,B,H,z,W,U,V=e.data,$=e.width,q=e.height,G=4*$,Y=0;Y<q;){for(w=0;w<G;){for(B=G*Y+w,z=-1,W=0,U=0;U<64;U++)H=B+(W=U>>3)*G+(z=4*(7&U)),Y+W>=q&&(H-=G*(Y+1+W-q)),w+z>=G&&(H-=w+z-G+4),N=V[H++],M=V[H++],F=V[H++],b[U]=(j[N]+j[M+256|0]+j[F+512|0]>>16)-128,y[U]=(j[N+768|0]+j[M+1024|0]+j[F+1280|0]>>16)-128,v[U]=(j[N+1280|0]+j[M+1536|0]+j[F+1792|0]>>16)-128;h=L(b,c,h,t,r),p=L(y,d,p,n,i),m=L(v,d,m,n,i),w+=32}Y+=8}if(x>=0){var Q=[];Q[1]=x+1,Q[0]=(1<<x+1)-1,D(Q)}return I(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=M(k,S),n=M(_,E),r=M(A,C),i=M(T,O),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,u[32767+i]=[],u[32767+i][1]=n,u[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),R(e)}function Mse(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Dse(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var a=0;a<i;a++)e[t+a]=n[r+a]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function a(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,i){for(var a=i[r],s=0;s<a&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));s++)e(n[s],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,a){t(!(i%r));do{e[n+(i-=r)]=a}while(0<i)}function d(e,n,r,i,s){if(t(2328>=s),512>=s)var o=a(512);else if(null==(o=a(s)))return 0;return function(e,n,r,i,s,o){var d,h,p=n,m=1<<r,f=a(16),g=a(16);for(t(0!=s),t(null!=i),t(null!=e),t(0<r),h=0;h<s;++h){if(15<i[h])return 0;++f[i[h]]}if(f[0]==s)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(h=0;h<s;++h)d=i[h],0<i[h]&&(o[g[d]++]=h);if(1==g[15])return(i=new u).g=0,i.value=o[0],c(e,p,1,m,i),m;var x,b=-1,y=m-1,v=0,w=1,j=1,N=1<<r;for(h=0,d=1,s=2;d<=r;++d,s<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d])(i=new u).g=d,i.value=o[h++],c(e,p+v,s,N,i),v=l(v,d)}for(d=r+1,s=2;15>=d;++d,s<<=1){if(w+=j<<=1,0>(j-=f[d]))return 0;for(;0<f[d];--f[d]){if(i=new u,(v&y)!=b){for(p+=N,x=1<<(b=d)-r;15>b&&!(0>=(x-=f[b]));)++b,x<<=1;m+=N=1<<(x=b-r),e[n+(b=v&y)].g=x+r,e[n+b].value=p-n-b}i.g=d-r,i.value=o[h++],c(e,p+(v>>r),s,N,i),v=l(v,d)}}return w!=2*g[15]-1?0:m}(e,n,r,i,s,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=s(5,u),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Fn,h)}function m(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,A(e)}function f(e,t){for(var n=0;0<t--;)n|=_(e,128)<<t;return n}function g(e,t){var n=f(e,t);return C(e)?-n:n}function x(e,n,r,i){var a,s=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),a=0;a<i;++a)s+=n[r+a]<<8*a;e.Ra=s,e.bb=i,e.oa=n,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Hn){var r=j(e)&Bn[n];return e.u+=n,b(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&zn-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function k(e,t){e.u=t,e.h=N(e)}function S(e){e.u>=Wn&&(t(e.u>=Wn),b(e))}function A(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function C(e){return f(e,1)}function _(e,t){var n=e.Ca;0>e.b&&A(e);var r=e.b,i=n*t>>>8,a=(e.I>>>r>i)+0;for(a?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Un[r],e.b-=r,e.Ca=(n<<r)-1,a}function E(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function T(e,t){return e[t+0]|e[t+1]<<8}function O(e,t){return T(e,t)|e[t+2]<<16}function M(e,t){return T(e,t)|T(e,t+2)<<16}function D(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=a(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function P(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function L(e,n,r,i){t(null!=r),t(null!=i);var a=r[0],s=i[0];return 0==a&&(a=(e*s+n/2)/n),0==s&&(s=(n*a+e/2)/e),0>=a||0>=s?0:(r[0]=a,i[0]=s,1)}function R(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,r,i,a,s,o,l){var c;for(c=0;c<s;++c){var d=e[t](o[l+c-1],i,a+c);o[l+c]=F(n[r+c],d)}}}function H(){this.ud=this.hd=this.jd=0}function z(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function W(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function U(e,t){return W(e+(e-t+.5>>1))}function V(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function $(e,t,n,r,i,a,s){for(r=a[s-1],n=0;n<i;++n)a[s+n]=r=F(e[t+n],r)}function q(e,t,n,r,i){var a;for(a=0;a<n;++a){var s=e[t+a],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));r[i+a]=(4278255360&s)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,r,i,a){var s;for(s=0;s<r;++s){var o=t[n+s],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),i[a+s]=(4278255360&o)+(d<<16)+c}}function Q(t,n,r,i,a){e[n]=function(e,t,n,r,s,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)s[o++]=a(n[i(e[t++])])},e[t]=function(t,n,s,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],m=t.w;if(8>u)for(t=(1<<t.b)-1,m=(1<<u)-1;n<s;++n){var f,g=0;for(f=0;f<h;++f)f&t||(g=i(o[l++])),c[d++]=a(p[g&m]),g>>=u}else e["VP8LMapColor"+r](o,l,p,m,c,d,n,s,h)}}function K(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a}}function J(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=255&a,r[i++]=a>>24&255}}function X(e,t,n,r,i){for(n=t+n;t<n;){var a=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;r[i++]=a,r[i++]=s}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var a=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[i++]=a,r[i++]=s}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var a=e[t++];r[i++]=255&a,r[i++]=a>>8&255,r[i++]=a>>16&255}}function te(e,t,n,i,a,s){if(0==s)for(n=t+n;t<n;)E(i,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),a+=32;else r(i,a,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Wr||e==Ur||e==Vr||e==$r}function ie(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new ae,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,i=t.ba.f.RGBA,a=i.eb,s=i.fb+e.ka*i.A,o=gi[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,m=t.cc,f=t.dc,g=t.Mc,x=t.Nc,b=e.ka,y=e.ka+e.T,v=e.U,w=v+1>>1;for(0==b?o(l,c,null,null,d,u,h,p,d,u,h,p,a,s,null,null,v):(o(t.ec,t.fc,l,c,m,f,g,x,d,u,h,p,a,s-i.A,a,s,v),++n);b+2<y;b+=2)m=d,f=u,g=h,x=p,u+=e.Rc,p+=e.Rc,s+=2*i.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,g,x,d,u,h,p,a,s-i.A,a,s,v);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,c,v),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,p,w),n--):1&y||o(l,c,null,null,d,u,h,p,d,u,h,p,a,s+i.A,null,null,v),n}function ue(e,n,r){var i=e.F,a=[e.J];if(null!=i){var s=e.U,o=n.ba.S,l=o==Br||o==Vr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=kr(i,a[0],e.width,s,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,s,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Lr||n==Fr||n==Br||n==Hr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!In(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,bn()}}else alert("todo:EmitYUV");i&&(t.Jb=ue,r&&gn())}if(r&&!Ei){for(e=0;256>e;++e)Ti[e]=89858*(e-128)+Si>>ki,Di[e]=-22014*(e-128)+Si,Mi[e]=-45773*(e-128),Oi[e]=113618*(e-128)+Si>>ki;for(e=Ai;e<Ci;++e)t=76283*(e-16)+Si>>ki,Pi[e-Ai]=$e(t,255),Ii[e-Ai]=$e(t+8>>4,15);Ei=1}return 1}function pe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function me(e){e.ma.memory=null}function fe(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function xe(e,t){return 120<t?t-120:1<=(n=((n=Jr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var r=j(n),i=e[t+=255&r].g-8;return 0<i&&(k(n,n.u+8),r=j(n),t+=e[t].value,t+=r&(1<<i)-1),k(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,a){var s=e.ab,o=e.c*n,l=e.C;n=l+n;var c=i,d=a;for(a=e.Ta,i=e.Ua;0<s--;){var u=e.gc[s],h=l,p=n,m=c,f=d,g=(d=a,c=i,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:qn(m,f,(p-h)*g,d,c);break;case 0:var x=h,b=p,y=d,v=c,w=(A=u).Ea;0==x&&(Vn(m,f,null,null,1,y,v),$(m,f+1,0,0,w-1,y,v+1),f+=w,v+=w,++x);for(var j=1<<A.b,N=j-1,k=R(w,A.b),S=A.K,A=A.w+(x>>A.b)*k;x<b;){var C=S,_=A,E=1;for($n(m,f,y,v-w,1,y,v);E<w;){var T=(E&~N)+j;T>w&&(T=w),(0,Jn[C[_++]>>8&15])(m,f+ +E,y,v+E-w,T-E,y,v+E),E=T}f+=w,v+=w,++x&N||(A+=k)}p!=u.nc&&r(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=m,b=f,w=(m=u.Ea)-(v=m&~(y=(f=1<<u.b)-1)),x=R(m,u.b),j=u.K,u=u.w+(h>>u.b)*x;h<p;){for(N=j,k=u,S=new H,A=b+v,C=b+m;b<A;)G(N[k++],S),Xn(S,g,b,f,d,c),b+=f,c+=f;b<C&&(G(N[k++],S),Xn(S,g,b,w,d,c),b+=w,c+=w),++h&y||(u+=x)}break;case 3:if(m==d&&f==c&&0<u.b){for(b=d,m=g=c+(p-h)*g-(v=(p-h)*R(u.Ea,u.b)),f=d,y=c,x=[],v=(w=v)-1;0<=v;--v)x[v]=f[y+v];for(v=w-1;0<=v;--v)b[m+v]=x[v];Gn(u,h,p,d,g,d,c)}else Gn(u,h,p,m,f,d,c)}c=a,d=i}d!=i&&r(a,i,c,d,o)}function je(e,n){var r=e.V,i=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var s=e.l,o=e.Ta,l=e.Ua,c=s.width;if(we(e,a,r,i),a=l=[l],t((r=e.C)<(i=n)),t(s.v<s.va),i>s.o&&(i=s.o),r<s.j){var d=s.j-r;r=s.j,a[0]+=d*c}if(r>=i?r=0:(a[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(i=r.S,a=s.U,s=s.T,d=u.eb,u.A),p=s;for(u=u.fb+e.Ma*u.A;0<p--;){var m=o,f=l,g=a,x=d,b=u;switch(i){case Ir:Zn(m,f,g,x,b);break;case Lr:er(m,f,g,x,b);break;case Wr:er(m,f,g,x,b),jr(x,b,0,g,1,0);break;case Rr:rr(m,f,g,x,b);break;case Fr:te(m,f,g,x,b,1);break;case Ur:te(m,f,g,x,b,1),jr(x,b,0,g,1,0);break;case Br:te(m,f,g,x,b,0);break;case Vr:te(m,f,g,x,b,0),jr(x,b,1,g,1,0);break;case Hr:tr(m,f,g,x,b);break;case $r:tr(m,f,g,x,b),Nr(x,b,g,1,0);break;case zr:nr(m,f,g,x,b);break;default:t(0)}l+=c,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,i,a,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fi[e.Z]);n<r;++n)fi[e.Z](o,l,i,a,i,a,s),o=i,l=a,a+=s;e.qd=o,e.rd=l}}function Se(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var a=e.l.width,s=r.ca,o=r.tb+a*i,l=e.V,c=e.Ba+e.c*i,d=e.gc;t(1==e.ab),t(3==d[0].hc),Qn(d[0],i,n,l,c,s,o),ke(r,i,n,s,o,a)}e.C=e.Ma=n}function Ae(e,n,r,i,a,s,o){var l=e.$/i,c=e.$%i,d=e.m,u=e.s,h=r+e.$,p=h;a=r+i*a;var m=r+i*s,f=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,b=u.wc,y=h<m?ve(u,c,l):null;t(e.C<s),t(m<=a);var v=!1;e:for(;;){for(;v||h<m;){var w=0;if(l>=g){var A=h-r;t((g=e).Pb),g.wd=g.m,g.xd=A,0<g.s.ua&&P(g.s.Wa,g.s.vb),g=l+Zr}if(c&b||(y=ve(u,c,l)),t(null!=y),y.Qb&&(n[h]=y.qb,v=!0),!v)if(S(d),y.jc){w=d,A=n;var C=h,_=y.pd[j(w)&Fn-1];t(y.jc),256>_.g?(k(w,w.u+_.g),A[C]=_.value,w=0):(k(w,w.u+_.g-256),t(256<=_.value),w=_.value),0==w&&(v=!0)}else w=be(y.G[0],y.H[0],d);if(d.h)break;if(v||256>w){if(!v)if(y.nd)n[h]=(y.qb|w<<8)>>>0;else{if(S(d),v=be(y.G[1],y.H[1],d),S(d),A=be(y.G[2],y.H[2],d),C=be(y.G[3],y.H[3],d),d.h)break;n[h]=(C<<24|v<<16|w<<8|A)>>>0}if(v=!1,++h,++c>=i&&(c=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=x))for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),A=be(y.G[4],y.H[4],d),S(d),A=xe(i,A=ge(A,d)),d.h)break;if(h-r<A||a-h<w)break e;for(C=0;C<w;++C)n[h+C]=n[h+C-A];for(h+=w,c+=w;c>=i;)c-=i,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=a),c&b&&(y=ve(u,c,l)),null!=x)for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<f))break e;for(v=w-280,t(null!=x);p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(v>>>(A=x).Xa)),n[w]=A.X[v],v=!0}v||t(d.h==N(d))}if(e.Pb&&d.h&&h<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&P(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ce(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function _e(){var t=new sn;return null==t?null:(t.a=0,t.xb=mi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),qn=q,Xn=Y,Zn=K,er=J,tr=X,nr=Z,rr=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Kn,t)}function Ee(e,n,r,o,l){var c=1,h=[e],m=[n],f=o.m,g=o.s,x=null,b=0;e:for(;;){if(r)for(;c&&y(f,1);){var v=h,w=m,N=o,A=1,C=N.m,_=N.gc[N.ab],E=y(C,2);if(N.Oc&1<<E)c=0;else{switch(N.Oc|=1<<E,_.hc=E,_.Ea=v[0],_.nc=w[0],_.K=[null],++N.ab,t(4>=N.ab),E){case 0:case 1:_.b=y(C,3)+2,A=Ee(R(_.Ea,_.b),R(_.nc,_.b),0,N,_.K),_.K=_.K[0];break;case 3:var T,O=y(C,8)+1,M=16<O?0:4<O?1:2<O?2:3;if(v[0]=R(_.Ea,M),_.b=M,T=A=Ee(O,1,0,N,_.K)){var P,I=O,L=_,B=1<<(8>>L.b),H=a(B);if(null==H)T=0;else{var z=L.K[0],W=L.w;for(H[0]=L.K[0][0],P=1;P<1*I;++P)H[P]=F(z[W+P],H[P-1]);for(;P<4*B;++P)H[P]=0;L.K[0]=null,L.K[0]=H,T=1}}A=T;break;case 2:break;default:t(0)}c=A}}if(h=h[0],m=m[0],c&&y(f,1)&&!(c=1<=(b=y(f,4))&&11>=b)){o.a=3;break e}var U;if(U=c)t:{var V,$,q,G=o,Y=h,Q=m,K=b,J=r,X=G.m,Z=G.s,ee=[null],te=1,ne=0,re=Xr[K];n:for(;;){if(J&&y(X,1)){var ie=y(X,3)+2,ae=R(Y,ie),se=R(Q,ie),oe=ae*se;if(!Ee(ae,se,0,G,ee))break n;for(ee=ee[0],Z.xc=ie,V=0;V<oe;++V){var le=ee[V]>>8&65535;ee[V]=le,le>=te&&(te=le+1)}}if(X.h)break n;for($=0;5>$;++$){var ce=Yr[$];!$&&0<K&&(ce+=1<<K),ne<ce&&(ne=ce)}var de=s(te*re,u),ue=te,he=s(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var me=a(ne);if(null==pe||null==me||null==de){G.a=1;break n}var fe=de;for(V=q=0;V<te;++V){var ge=pe[V],xe=ge.G,be=ge.H,ve=0,we=1,je=0;for($=0;5>$;++$){ce=Yr[$],xe[$]=fe,be[$]=q,!$&&0<K&&(ce+=1<<K);r:{var Ne,ke=ce,Se=G,_e=me,Te=fe,Oe=q,Me=0,De=Se.m,Pe=y(De,1);if(i(_e,0,0,ke),Pe){var Ie=y(De,1)+1,Le=y(De,1),Re=y(De,0==Le?1:8);_e[Re]=1,2==Ie&&(_e[Re=y(De,8)]=1);var Fe=1}else{var Be=a(19),He=y(De,4)+4;if(19<He){Se.a=3;var ze=0;break r}for(Ne=0;Ne<He;++Ne)Be[Kr[Ne]]=y(De,3);var We=void 0,Ue=void 0,Ve=Se,$e=Be,qe=ke,Ge=_e,Ye=0,Qe=Ve.m,Ke=8,Je=s(128,u);i:for(;d(Je,0,7,$e,19);){if(y(Qe,1)){var Xe=2+2*y(Qe,3);if((We=2+y(Qe,Xe))>qe)break i}else We=qe;for(Ue=0;Ue<qe&&We--;){S(Qe);var Ze=Je[0+(127&j(Qe))];k(Qe,Qe.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ue++]=et,0!=et&&(Ke=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],it=y(Qe,qr[nt])+rt;if(Ue+it>qe)break i;for(var at=tt?Ke:0;0<it--;)Ge[Ue++]=at}}Ye=1;break i}Ye||(Ve.a=3),Fe=Ye}(Fe=Fe&&!De.h)&&(Me=d(Te,Oe,8,_e,ke)),Fe&&0!=Me?ze=Me:(Se.a=3,ze=0)}if(0==ze)break n;if(we&&1==Qr[$]&&(we=0==fe[q].g),ve+=fe[q].g,q+=ze,3>=$){var st,ot=me[0];for(st=1;st<ce;++st)me[st]>ot&&(ot=me[st]);je+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][be[3]+0].value<<24|xe[1][be[1]+0].value<<16|xe[2][be[2]+0].value)>>>0,0==ve&&256>xe[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Fn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ye(ht,8,ut),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ut),ye(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=de,U=1;break t}U=0}if(!(c=U)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!D(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,mt=h,ft=m,gt=pt.s,xt=gt.xc;if(pt.c=mt,pt.i=ft,gt.md=R(mt,xt),gt.wc=0==xt?-1:(1<<xt)-1,r){o.xb=pi;break e}if(null==(x=a(h*m))){o.a=1,c=0;break e}c=(c=Ae(o,x,0,h,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(r)),o.$=0,r||Ce(g)):Ce(g),c}function Te(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Oe(e,n){var r=e.C,i=n-r,a=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var o=16<i?16:i,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,p=e.Ta,m=e.Ua;we(e,o,a,s),Sr(p,m,u,h,d),ke(l,r,r+o,u,h,c),i-=o,a+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Me(){this.ub=this.yd=this.td=this.Rb=0}function De(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ie(){var e;this.Yb=(function e(t,n,r){for(var i=r[n],a=0;a<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));a++)e(t[a],n+1,r)}(e=[],0,[3,11]),e)}function Le(){this.jb=a(3),this.Wc=o([4,8],Ie),this.Xc=o([4,17],Ie)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function He(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ze(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function We(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new ze),this.aa=0,this.l=new qe}function Ue(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ve(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Me,this.Kc=new De,this.ed=new Re,this.Qa=new Pe,this.Ic=this.$c=this.Aa=0,this.D=new We,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,v),this.ia=0,this.pb=s(4,He),this.Pa=new Le,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ue),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ze),this.L=this.aa=0,this.gd=o([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $e(e,t){return 0>e?0:e>t?t:e}function qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ve;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Je)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Qe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ke(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,a=n.w,s=n.ha;if(4>s)return Ye(e,7,"Truncated header.");var o=r[a+0]|r[a+1]<<8|r[a+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");a+=3,s-=3;var c=e.Kc;if(l.Rb){if(7>s)return Ye(e,7,"cannot parse picture header");if(!Qe(r,a,s))return Ye(e,3,"Bad code word");c.c=16383&(r[a+4]<<8|r[a+3]),c.Td=r[a+4]>>6,c.i=16383&(r[a+6]<<8|r[a+5]),c.Ud=r[a+6]>>6,a+=7,s-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,i(o.Zb,0,0,o.Zb.length),i(o.Lb,0,0,o.Lb)}if(l.ub>s)return Ye(e,7,"bad partition length");m(o=e.m,r,a,l.ub),a+=l.ub,s-=l.ub,l.Rb&&(c.Ld=C(o),c.Kd=C(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=C(o),c.Cb){if(c.Bb=C(o),C(o)){for(c.Fb=C(o),d=0;4>d;++d)c.Zb[d]=C(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=C(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=C(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=C(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=C(o),c.Pc&&C(o)){for(u=0;4>u;++u)C(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)C(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var h=s;if(s=d=a,a=d+h,c=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=r[s+0]|r[s+1]<<8|r[s+2]<<16;p>c&&(p=c),m(e.Jc[+h],r,d,p),d+=p,c-=p,s+=3}m(e.Jc[+u],r,d,c),r=d<a?0:5}if(0!=r)return Ye(e,r,"cannot parse partitions");for(r=f(d=e.m,7),s=C(d)?g(d,4):0,a=C(d)?g(d,4):0,c=C(d)?g(d,4):0,u=C(d)?g(d,4):0,d=C(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var x=h.Zb[p];h.Fb||(x+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}x=r}var b=e.pb[p];b.Sc[0]=ei[$e(x+s,127)],b.Sc[1]=ti[$e(x+0,127)],b.Eb[0]=2*ei[$e(x+a,127)],b.Eb[1]=101581*ti[$e(x+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ei[$e(x+u,117)],b.Qc[1]=ti[$e(x+d,127)],b.lc=x+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(C(o),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(a=0;3>a;++a)for(c=0;11>c;++c)u=_(o,li[r][s][a][c])?f(o,8):si[r][s][a][c],l.Wc[r][s].Yb[a][c]=u;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][ci[s]]}return e.kc=C(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Je(e,t,n,r,i,a,s){var o=t[i].Yb[n];for(n=0;16>i;++i){if(!_(e,o[n+0]))return i;for(;!_(e,o[n+1]);)if(o=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(_(e,o[n+2])){var c=e,d=0;if(_(c,(h=o)[(u=n)+3]))if(_(c,h[u+6])){for(o=0,u=2*(d=_(c,h[u+8]))+(h=_(c,h[u+9+d])),d=0,h=ri[u];h[o];++o)d+=d+_(c,h[o]);d+=3+(8<<u)}else _(c,h[u+7])?(d=7+2*_(c,165),d+=_(c,145)):d=5+_(c,159);else d=_(c,h[u+4])?3+_(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=s+ii[i],0>(c=e).b&&A(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,a[l]=((d^p)-p)*r[(0<i)+0]}return 16}function Xe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function et(e,t,n,r,i,a){Ze(e,t,0,n,r+i),Ze(e,t,1,n,r+a),Ze(e,t,2,n,r-a),Ze(e,t,3,n,r-i)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var i,s=0,o=a(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+u,o[s+1]=c+d,o[s+2]=c-d,o[s+3]=l-u,s+=4,t++}for(i=s=0;4>i;++i)l=(e=o[s+0]+4)+o[s+8],c=e-o[s+8],d=(35468*o[s+4]>>16)-tt(o[s+12]),Ze(n,r,0,0,l+(u=tt(o[s+4])+(35468*o[s+12]>>16))),Ze(n,r,1,0,c+d),Ze(n,r,2,0,c-d),Ze(n,r,3,0,l-u),s++,r+=32}function rt(e,t,n,r){var i=e[t+0]+4,a=35468*e[t+4]>>16,s=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,i+s,e=tt(e[t+1]),o),et(n,r,1,i+a,e,o),et(n,r,2,i-a,e,o),et(n,r,3,i-s,e,o)}function it(e,t,n,r,i){nt(e,t,n,r),i&&nt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)Ze(n,r,t,i,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var i,s=a(16);for(i=0;4>i;++i){var o=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],d=e[t+0+i]-e[t+12+i];s[0+i]=o+l,s[8+i]=o-l,s[4+i]=d+c,s[12+i]=d-c}for(i=0;4>i;++i)o=(e=s[0+4*i]+3)+s[3+4*i],l=s[1+4*i]+s[2+4*i],c=s[1+4*i]-s[2+4*i],d=e-s[3+4*i],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function ct(e,t,n){var r,i=t-32,a=Dr,s=255-e[i-1];for(r=0;r<n;++r){var o,l=a,c=s+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[i+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function ft(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];ft(r>>5,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];ft(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];ft(r>>4,e,t)}function yt(e,t){ft(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,i=t-32;for(i=new Uint8Array([vt(e[i-1],e[i+0],e[i+1]),vt(e[i+0],e[i+1],e[i+2]),vt(e[i+1],e[i+2],e[i+3]),vt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];E(e,t+0,16843009*vt(e[t-1-32],n,r)),E(e,t+32,16843009*vt(n,r,i)),E(e,t+64,16843009*vt(r,i,a)),E(e,t+96,16843009*vt(i,a,a))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(a,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(s,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,s,a),e[t+3+32]=e[t+2+0]=vt(l,o,s),e[t+3+0]=vt(c,l,o)}function St(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],a=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,i,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(i,a,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(a,s,o),e[t+3+64]=e[t+2+96]=vt(s,o,l),e[t+3+96]=vt(o,l,l)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(i,r,n),e[t+0+64]=vt(r,n,a),e[t+0+32]=e[t+1+96]=vt(n,a,s),e[t+1+32]=e[t+2+96]=vt(a,s,o),e[t+2+32]=e[t+3+96]=vt(s,o,l),e[t+3+32]=vt(o,l,c)}function Ct(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],a=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+a+1>>1,e[t+3+0]=e[t+2+64]=a+s+1>>1,e[t+0+32]=vt(n,r,i),e[t+1+32]=e[t+0+96]=vt(r,i,a),e[t+2+32]=e[t+1+96]=vt(i,a,s),e[t+3+32]=e[t+2+96]=vt(a,s,o),e[t+3+64]=vt(s,o,l),e[t+3+96]=vt(o,l,c)}function _t(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+a+1>>1,e[t+1+0]=vt(n,r,i),e[t+3+0]=e[t+1+32]=vt(r,i,a),e[t+3+32]=e[t+1+64]=vt(i,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],a=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=a+i+1>>1,e[t+3+0]=vt(o,l,c),e[t+2+0]=vt(s,o,l),e[t+1+0]=e[t+3+32]=vt(n,s,o),e[t+1+32]=e[t+3+64]=vt(r,n,s),e[t+1+64]=e[t+3+96]=vt(i,r,n),e[t+1+96]=vt(a,i,r)}function Tt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ot(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Mt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Dt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Mt(r>>4,e,t)}function Pt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Mt(r>>3,e,t)}function It(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Mt(r>>3,e,t)}function Lt(e,t){Mt(128,e,t)}function Rt(e,t,n){var r=e[t-n],i=e[t+0],a=3*(i-r)+Or[1020+e[t-2*n]-e[t+n]],s=Mr[112+(a+4>>3)];e[t-n]=Dr[255+r+Mr[112+(a+3>>3)]],e[t+0]=Dr[255+i-s]}function Ft(e,t,n,r){var i=e[t+0],a=e[t+n];return Pr[255+e[t-2*n]-e[t-n]]>r||Pr[255+a-i]>r}function Bt(e,t,n,r){return 4*Pr[255+e[t-n]-e[t+0]]+Pr[255+e[t-2*n]-e[t+n]]<=r}function Ht(e,t,n,r,i){var a=e[t-3*n],s=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Pr[255+o-l]+Pr[255+s-c]>r?0:Pr[255+e[t-4*n]-a]<=i&&Pr[255+a-s]<=i&&Pr[255+s-o]<=i&&Pr[255+u-d]<=i&&Pr[255+d-c]<=i&&Pr[255+c-l]<=i}function zt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Bt(e,t+r,n,i)&&Rt(e,t+r,n)}function Wt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Bt(e,t+r*n,1,i)&&Rt(e,t+r*n,1)}function Ut(e,t,n,r){var i;for(i=3;0<i;--i)zt(e,t+=4*n,n,r)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)Wt(e,t+=4,n,r)}function $t(e,t,n,r,i,a,s,o){for(a=2*a+1;0<i--;){if(Ht(e,t,n,a,s))if(Ft(e,t,n,o))Rt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],g=27*(b=Or[1020+3*(p-h)+Or[1020+u-m]])+63>>7,x=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=Dr[255+l[c-3*d]+b],l[c-2*d]=Dr[255+u+x],l[c-d]=Dr[255+h+g],l[c+0]=Dr[255+p-g],l[c+d]=Dr[255+m-x],l[c+2*d]=Dr[255+f-b]}t+=r}}function qt(e,t,n,r,i,a,s,o){for(a=2*a+1;0<i--;){if(Ht(e,t,n,a,s))if(Ft(e,t,n,o))Rt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],m=Mr[112+(4+(f=3*(h-u))>>3)],f=Mr[112+(f+3>>3)],g=m+1>>1;l[c-2*d]=Dr[255+l[c-2*d]+g],l[c-d]=Dr[255+u+f],l[c+0]=Dr[255+h-m],l[c+d]=Dr[255+p-g]}t+=r}}function Gt(e,t,n,r,i,a){$t(e,t,n,1,16,r,i,a)}function Yt(e,t,n,r,i,a){$t(e,t,1,n,16,r,i,a)}function Qt(e,t,n,r,i,a){var s;for(s=3;0<s;--s)qt(e,t+=4*n,n,1,16,r,i,a)}function Kt(e,t,n,r,i,a){var s;for(s=3;0<s;--s)qt(e,t+=4,1,n,16,r,i,a)}function Jt(e,t,n,r,i,a,s,o){$t(e,t,i,1,8,a,s,o),$t(n,r,i,1,8,a,s,o)}function Xt(e,t,n,r,i,a,s,o){$t(e,t,1,i,8,a,s,o),$t(n,r,1,i,8,a,s,o)}function Zt(e,t,n,r,i,a,s,o){qt(e,t+4*i,i,1,8,a,s,o),qt(n,r+4*i,i,1,8,a,s,o)}function en(e,t,n,r,i,a,s,o){qt(e,t+4,1,i,8,a,s,o),qt(n,r+4,1,i,8,a,s,o)}function tn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new qe,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=s(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,i,a,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)i[a+t]=e+n[r+t]&255,e=i[a+t]}function cn(e,t,n,r,i,a,s){var o;if(null==e)ln(null,null,n,r,i,a,s);else for(o=0;o<s;++o)i[a+o]=e[t+o]+n[r+o]&255}function dn(e,t,n,r,i,a,s){if(null==e)ln(null,null,n,r,i,a,s);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<s;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,i[a+o]=d}}function un(e,n,i,s){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=s||i+s>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,m=e.nb,f=u+1,g=h-1,b=c.l;if(t(null!=d&&null!=p&&null!=n),fi[0]=null,fi[1]=ln,fi[2]=cn,fi[3]=dn,c.ca=p,c.tb=m,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(b.put=pe,b.ac=he,b.bc=me,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=_e();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,x(n.m,d,f,g),!Ee(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ne(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Te(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:s=l-i}t(null!=e.ga),t(i+s<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,g=e.Vc,b=e.Fa,u=e.P+1+i*n,h=e.mb,p=e.nb+i*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=fi[d.Z]),c=0;c<s;++c)fi[d.Z](f,g,b,u,h,p,n),f=h,g=p,p+=n,u+=n;else for(c=0;c<s;++c)r(h,p,b,u,n),f=h,g=p,p+=n,u+=n;e.rc=f,e.Vc=g}else{if(t(null!=d.mc),n=i+s,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,f=c.Ba,g=c.c;var y=c.i,v=(b=1,u=c.$/g,h=c.$%g,p=c.m,m=c.s,c.$),w=g*y,j=g*n,k=m.wc,A=v<j?ve(m,h,u):null;t(v<=w),t(n<=y),t(Ne(m));t:for(;;){for(;!p.h&&v<j;){if(h&k||(A=ve(m,h,u)),t(null!=A),S(p),256>(y=be(A.G[0],A.H[0],p)))d[f+v]=y,++v,++h>=g&&(h=0,++u<=n&&!(u%16)&&Se(c,u));else{if(!(280>y)){b=0;break t}y=ge(y-256,p);var C,_=be(A.G[4],A.H[4],p);if(S(p),!(v>=(_=xe(g,_=ge(_,p)))&&w-v>=y)){b=0;break t}for(C=0;C<y;++C)d[f+v+C]=d[f+v+C-_];for(v+=y,h+=y;h>=g;)h-=g,++u<=n&&!(u%16)&&Se(c,u);v<j&&h&k&&(A=ve(m,h,u))}t(p.h==N(p))}Se(c,u>n?n:u);break t}!b||p.h&&v<w?(b=0,c.a=p.h?5:3):c.$=v,n=b}else n=Ae(c,c.V,c.Ba,c.c,c.i,n,Oe);if(!n){s=0;break e}}i+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*o}function hn(e,t,n,r,i,a){for(;0<i--;){var s,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(s=0;s<r;++s){var u=c[d+4*s];255!=u&&(u*=32897,o[l+4*s+0]=o[l+4*s+0]*u>>23,o[l+4*s+1]=o[l+4*s+1]*u>>23,o[l+4*s+2]=o[l+4*s+2]*u>>23)}t+=a}}function pn(e,t,n,r,i){for(;0<r--;){var a;for(a=0;a<n;++a){var s=e[t+2*a+0],o=15&(c=e[t+2*a+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*a+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*a+1]=240&c|o}t+=i}}function mn(e,t,n,r,i,a,s,o){var l,c,d=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var u=e[t+l];a[s+4*l]=u,d&=u}t+=n,s+=o}return 255!=d}function fn(e,t,n,r,i){var a;for(a=0;a<i;++a)n[r+a]=e[t+a]>>8}function gn(){jr=hn,Nr=pn,kr=mn,Sr=fn}function xn(n,r,i){e[n]=function(e,n,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y){var v,w=y-1>>1,j=o[l+0]|c[d+0]<<16,N=u[h+0]|p[m+0]<<16;t(null!=e);var k=3*j+N+131074>>2;for(r(e[n+0],255&k,k>>16,f,g),null!=a&&(k=3*N+j+131074>>2,r(a[s+0],255&k,k>>16,x,b)),v=1;v<=w;++v){var S=o[l+v]|c[d+v]<<16,A=u[h+v]|p[m+v]<<16,C=j+S+N+A+524296,_=C+2*(S+N)>>3;k=_+j>>1,j=(C=C+2*(j+A)>>3)+S>>1,r(e[n+2*v-1],255&k,k>>16,f,g+(2*v-1)*i),r(e[n+2*v-0],255&j,j>>16,f,g+(2*v-0)*i),null!=a&&(k=C+N>>1,j=_+A>>1,r(a[s+2*v-1],255&k,k>>16,x,b+(2*v-1)*i),r(a[s+2*v+0],255&j,j>>16,x,b+(2*v+0)*i)),j=S,N=A}1&y||(k=3*j+N+131074>>2,r(e[n+y-1],255&k,k>>16,f,g+(y-1)*i),null!=a&&(k=3*N+j+131074>>2,r(a[s+y-1],255&k,k>>16,x,b+(y-1)*i)))}}function bn(){gi[Ir]=xi,gi[Lr]=yi,gi[Rr]=bi,gi[Fr]=vi,gi[Br]=wi,gi[Hr]=ji,gi[zr]=Ni,gi[Wr]=yi,gi[Ur]=vi,gi[Vr]=wi,gi[$r]=ji}function yn(e){return-16384&e?0>e?0:255:e>>_i}function vn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,i){r[i+0]=vn(e,n),r[i+1]=wn(e,t,n),r[i+2]=jn(e,t)}function kn(e,t,n,r,i){r[i+0]=jn(e,t),r[i+1]=wn(e,t,n),r[i+2]=vn(e,n)}function Sn(e,t,n,r,i){var a=wn(e,t,n);t=a<<3&224|jn(e,t)>>3,r[i+0]=248&vn(e,n)|a>>5,r[i+1]=t}function An(e,t,n,r,i){var a=240&jn(e,t)|15;r[i+0]=240&vn(e,n)|wn(e,t,n)>>4,r[i+1]=a}function Cn(e,t,n,r,i){r[i+0]=255,Nn(e,t,n,r,i+1)}function _n(e,t,n,r,i){kn(e,t,n,r,i),r[i+3]=255}function En(e,t,n,r,i){Nn(e,t,n,r,i),r[i+3]=255}function $e(e,t){return 0>e?0:e>t?t:e}function Tn(t,n,r){e[t]=function(e,t,i,a,s,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],i[a+0],s[o+0],l,c),n(e[t+1],i[a+0],s[o+0],l,c+r),t+=2,++a,++o,c+=2*r;1&d&&n(e[t+0],i[a+0],s[o+0],l,c)}}function On(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Mn(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:sr(t,n,r,i);break;case 1:lr(t,n,r,i)}}function Dn(e,t){var n,a,s=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<s?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(i(l,c-32-1,127,21),i(d,u-32-1,127,9),i(h,p-32-1,127,9)),a=0;a<e.za;++a){var m=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,p+32*n-4,h,p+32*n+4,4)}var f=e.Gd,g=e.Hd+a,x=m.ad,b=m.Hc;if(0<s&&(r(l,c-32,f[g].y,0,16),r(d,u-32,f[g].f,0,8),r(h,p-32,f[g].ea,0,8)),m.Za){var y=l,v=c-32+16;for(0<s&&(a>=e.za-1?i(y,v,f[g].y[15],4):r(y,v,f[g+1].y,0,4)),n=0;4>n;n++)y[v+128+n]=y[v+256+n]=y[v+384+n]=y[v+0+n];for(n=0;16>n;++n,b<<=2)y=l,v=c+Li[n],ui[m.Ob[n]](y,v),Mn(b,x,16*+n,y,v)}else if(y=On(a,s,m.Ob[0]),di[y](l,c),0!=b)for(n=0;16>n;++n,b<<=2)Mn(b,x,16*+n,l,c+Li[n]);for(n=m.Gc,y=On(a,s,m.Dd),hi[y](d,u),hi[y](h,p),b=x,y=d,v=u,255&(m=0|n)&&(170&m?or(b,256,y,v):cr(b,256,y,v)),m=h,b=p,255&(n>>=8)&&(170&n?or(x,320,m,b):cr(x,320,m,b)),s<e.Ub-1&&(r(f[g].y,0,l,c+480,16),r(f[g].f,0,d,u+224,8),r(f[g].ea,0,h,p+224,8)),n=8*o*e.B,f=e.sa,g=e.ta+16*a+16*o*e.R,x=e.qa,m=e.ra+8*a+n,b=e.Ha,y=e.Ia+8*a+n,n=0;16>n;++n)r(f,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(x,m+n*e.B,d,u+32*n,8),r(b,y+n*e.B,h,p+32*n,8)}}function Pn(e,r,i,a,s,o,l,c,d){var u=[0],h=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new nn;if(null==e||12>i)return 7;f.data=e,f.w=r,f.ha=i,r=[r],i=[i],f.gb=[f.gb];e:{var g=r,b=i,y=f.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var v=M(e,g[0]+4);if(12>v||4294967286<v){y=3;break e}if(m&&v>b[0]-8){y=7;break e}y[0]=v,g[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(v=0<f.gb[0],i=i[0];;){e:{var j=e;b=r,y=i;var N=u,k=h,S=g=[0];if((_=p=[p])[0]=0,8>y[0])y=7;else{if(!n(j,b[0],"VP8X")){if(10!=M(j,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var A=M(j,b[0]+8),C=1+O(j,b[0]+12);if(2147483648<=C*(j=1+O(j,b[0]+15))){y=3;break e}null!=S&&(S[0]=A),null!=N&&(N[0]=C),null!=k&&(k[0]=j),b[0]+=18,y[0]-=18,_[0]=1}y=0}}if(p=p[0],g=g[0],0!=y)return y;if(b=!!(2&g),!v&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&b&&null==d){y=0;break}if(4>i){y=7;break}if(v&&p||!v&&!p&&!n(e,r[0],"ALPH")){i=[i],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{A=e,y=r,v=i;var _=f.gb;N=f.na,k=f.P,S=f.Sa,C=22,t(null!=A),t(null!=v),j=y[0];var E=v[0];for(t(null!=N),t(null!=S),N[0]=null,k[0]=null,S[0]=0;;){if(y[0]=j,v[0]=E,8>E){y=7;break e}var T=M(A,j+4);if(4294967286<T){y=3;break e}var D=8+T+1&-2;if(C+=D,0<_&&C>_){y=3;break e}if(!n(A,j,"VP8 ")||!n(A,j,"VP8L")){y=0;break e}if(E[0]<D){y=7;break e}n(A,j,"ALPH")||(N[0]=A,k[0]=j+8,S[0]=T),j+=D,E-=D}}if(i=i[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=y)break}i=[i],f.Ja=[f.Ja],f.xa=[f.xa];e:if(_=e,y=r,v=i,N=f.gb[0],k=f.Ja,S=f.xa,A=y[0],j=!n(_,A,"VP8 "),C=!n(_,A,"VP8L"),t(null!=_),t(null!=v),t(null!=k),t(null!=S),8>v[0])y=7;else{if(j||C){if(_=M(_,A+4),12<=N&&_>N-12){y=3;break e}if(m&&_>v[0]-8){y=7;break e}k[0]=_,y[0]+=8,v[0]-=8,S[0]=C}else S[0]=5<=v[0]&&47==_[A+0]&&!(_[A+4]>>5),k[0]=v[0];y=0}if(i=i[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=y)break;if(4294967286<f.Ja)return 3;if(null==c||b||(c[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>i){y=7;break}c=l,m=g,b=o,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],_=[0],N=[0],x(k=new w,e,r,i),fe(k,v,_,N)?(null!=c&&(c[0]=v[0]),null!=m&&(m[0]=_[0]),null!=b&&(b[0]=N[0]),e=1):e=0):e=0}else{if(10>i){y=7;break}c=g,null==e||10>i||!Qe(e,r+3,i-3)?e=0:(m=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=f,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-i));break}return 0==y||7==y&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=a&&(a[0]=l),null!=s&&(s[0]=g),0):y}function In(e,t,n){var r=t.width,i=t.height,a=0,s=0,o=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,a=e.v,s=e.j,11>n||(a&=-2,s&=-2),0>a||0>s||0>=o||0>=l||a+o>r||s+l>i))return 0;if(t.v=a,t.j=s,t.va=a+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!L(o,l,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Ln(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Rn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,s=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=i||0>=s||o+i>e||l+s>t)return 2;e=i,t=s}if(n.da){if(!L(e,t,i=[n.ib],s=[n.hb]))return 2;e=i[0],t=s[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Ir&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=s=i=t=0;var u=(l=c*Bi[e])*d;if(11>e||(s=(d+1)/2*(t=(c+1)/2),12==e&&(o=(i=c)*d)),null==(d=a(u+2*s+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=s,c.ea=d,c.W=0+u+s,c.Db=t,c.Ed=s,12==e&&(c.F=d,c.J=0+u+2*s),c.Tc=o,c.lb=i)}if(t=1,i=r.S,s=r.width,o=r.height,i>=Ir&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+s<=e.size,t&=l>=s*Bi[i],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+s;t&=c*(o-1)+s<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=s&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=p>=s,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Ln(r)),e}var Fn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hn=24,zn=32,Wn=8,Un=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return z(z(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return z(e,t[n-1])},e.Predictor7=function(e,t,n){return z(e,t[n+0])},e.Predictor8=function(e,t,n){return z(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return z(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return z(z(e,t[n-1]),z(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=V(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+V(r>>16&255,e>>16&255,t>>16&255)+V(r>>8&255,e>>8&255,t>>8&255)+V(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(W((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|W((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|W((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|W((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(U((e=z(e,t[n+0]))>>24&255,r>>24&255)<<24|U(e>>16&255,r>>16&255)<<16|U(e>>8&255,r>>8&255)<<8|U(255&e,255&r))>>>0};var Vn=e.PredictorAdd0;e.PredictorAdd1=$,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var $n=e.PredictorAdd2;Q("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Q("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var qn,Gn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Qn=e.VP8LColorIndexInverseTransformAlpha,Kn=e.MapAlpha,Jn=e.VP8LPredictorsAdd=[];Jn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Xn,Zn,er,tr,nr,rr,ir,ar,sr,or,lr,cr,dr,ur,hr,pr,mr,fr,gr,xr,br,yr,vr,wr,jr,Nr,kr,Sr,Ar=a(511),Cr=a(2041),_r=a(225),Er=a(767),Tr=0,Or=Cr,Mr=_r,Dr=Er,Pr=Ar,Ir=0,Lr=1,Rr=2,Fr=3,Br=4,Hr=5,zr=6,Wr=7,Ur=8,Vr=9,$r=10,qr=[2,3,7],Gr=[3,3,11],Yr=[280,256,256,256,40],Qr=[0,1,1,1,0],Kr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ti=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ii=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],di=[],ui=[],hi=[],pi=1,mi=2,fi=[],gi=[];xn("UpsampleRgbLinePair",Nn,3),xn("UpsampleBgrLinePair",kn,3),xn("UpsampleRgbaLinePair",En,4),xn("UpsampleBgraLinePair",_n,4),xn("UpsampleArgbLinePair",Cn,4),xn("UpsampleRgba4444LinePair",An,2),xn("UpsampleRgb565LinePair",Sn,2);var xi=e.UpsampleRgbLinePair,bi=e.UpsampleBgrLinePair,yi=e.UpsampleRgbaLinePair,vi=e.UpsampleBgraLinePair,wi=e.UpsampleArgbLinePair,ji=e.UpsampleRgba4444LinePair,Ni=e.UpsampleRgb565LinePair,ki=16,Si=1<<ki-1,Ai=-227,Ci=482,_i=6,Ei=0,Ti=a(256),Oi=a(256),Mi=a(256),Di=a(256),Pi=a(Ci-Ai),Ii=a(Ci-Ai);Tn("YuvToRgbRow",Nn,3),Tn("YuvToBgrRow",kn,3),Tn("YuvToRgbaRow",En,4),Tn("YuvToBgraRow",_n,4),Tn("YuvToArgbRow",Cn,4),Tn("YuvToRgba4444Row",An,2),Tn("YuvToRgb565Row",Sn,2);var Li=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ri=[0,2,8],Fi=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Lr,u=new tn,h=new se;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,m=h.height,f=new oe;if(null==f||null==e)var g=2;else t(null!=f),g=Pn(e,n,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new qe,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=Pn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=me,l.ma=u,c.xa){if(null==(e=_e())){u=1;break e}if(function(e,n){var r=[0],i=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,x(e.m,n.data,n.w,n.ha),!fe(e.m,r,i,a)){e.a=3;break t}if(e.xb=mi,n.width=r[0],n.height=i[0],!Ee(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Rn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!In(c.Oa,o,Fr)){l.a=2;break n}if(!Te(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!D(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ae(l,l.V,l.Ba,l.c,l.i,o.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Ke(e,l)){if(0==(n=Rn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(g=c.pb[m]).lc&&(g.ia=p*Fi[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ke(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ri[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ye(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+Ri[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=a(u),e.Fc=0,null==e.Ec){o=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=s(m,Ue),e.Hd=0,e.rb=s(f+1,Be),e.sb=1,e.wa=g?s(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(x,ze),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=Ri[e.L])*e.R,m=m/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Xe(e),i(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Tr){for(o=-255;255>=o;++o)Ar[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Cr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)_r[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Er[255+o]=0>o?0:255<o?255:o;Tr=1}ir=lt,ar=it,or=at,lr=st,cr=ot,sr=rt,dr=Gt,ur=Yt,hr=Jt,pr=Xt,mr=Qt,fr=Kt,gr=Zt,xr=en,br=zt,yr=Wt,vr=Ut,wr=Vt,ui[0]=Nt,ui[1]=dt,ui[2]=wt,ui[3]=jt,ui[4]=kt,ui[5]=At,ui[6]=St,ui[7]=Ct,ui[8]=Et,ui[9]=_t,di[0]=gt,di[1]=ht,di[2]=pt,di[3]=mt,di[4]=xt,di[5]=bt,di[6]=yt,hi[0]=Dt,hi[1]=ut,hi[2]=Tt,hi[3]=Ot,hi[4]=It,hi[5]=Pt,hi[6]=Lt,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(s=0;s<c.za;++s){var d=l,u=c,h=u.Ac,p=u.Bc+4*s,m=u.zc,f=u.ya[u.aa+s];if(u.Qa.Bb?f.$b=_(d,u.Pa.jb[0])?2+_(d,u.Pa.jb[2]):_(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=_(d,u.Bd)),f.Za=!_(d,145)+0,f.Za){var g=f.Ob,x=0;for(u=0;4>u;++u){var b,y=m[0+u];for(b=0;4>b;++b){y=oi[h[p+b]][y];for(var v=ai[_(d,y[0])];0<v;)v=ai[2*v+_(d,y[v])];y=-v,h[p+b]=y}r(g,x,h,p,4),x+=4,m[0+u]=y}}else y=_(d,156)?_(d,128)?1:3:_(d,163)?2:0,f.Ob[0]=y,i(h,p,y,4),i(m,0,y,4);f.Dd=_(d,142)?_(d,114)?_(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],p=l.kc?s.Ad:0)d.la=h.la=0,s.Za||(d.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],u=m.ad,g=0,x=l.rb[l.sb-1],y=b=0,i(u,g,0,384),m.Za)var N=0,k=p[3];else{v=a(16);var S=d.Na+x.Na;if(S=ni(h,p[1],S,f.Eb,0,v,0),d.Na=x.Na=(0<S)+0,1<S)ir(v,0,u,g);else{var A=v[0]+3>>3;for(v=0;256>v;v+=16)u[g+v]=A}N=1,k=p[0]}var C=15&d.la,E=15&x.la;for(v=0;4>v;++v){var T=1&E;for(A=j=0;4>A;++A)C=C>>1|(T=(S=ni(h,k,S=T+(1&C),f.Sc,N,u,g))>N)<<7,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;C>>=4,E=E>>1|T<<7,b=(b<<8|j)>>>0}for(k=C,N=E>>4,w=0;4>w;w+=2){for(j=0,C=d.la>>4+w,E=x.la>>4+w,v=0;2>v;++v){for(T=1&E,A=0;2>A;++A)S=T+(1&C),C=C>>1|(T=0<(S=ni(h,p[2],S,f.Qc,0,u,g)))<<3,j=j<<2|(3<S?3:1<S?2:0!=u[g+0]),g+=16;C>>=2,E=E>>1|T<<5}y|=j<<4*w,k|=C<<4<<w,N|=(240&E)<<w}d.la=k,x.la=N,m.Hc=b,m.Gc=y,m.ia=43690&y?0:f.ia,p=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Xe(e),l=n,c=1,s=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(s.M=o.M,s.uc=d,Dn(o,s),c=1,s=(j=o.D).Nb,d=(y=Ri[o.L])*o.R,h=y/2*o.B,v=16*s*o.R,A=8*s*o.B,p=o.sa,m=o.ta-d+v,f=o.qa,u=o.ra-h+A,g=o.Ha,x=o.Ia-h+A,E=0==(C=j.M),b=C>=o.Va-1,2==o.Aa&&Dn(o,j),j.uc)for(T=(S=o).D.M,t(S.D.uc),j=S.yb;j<S.Hb;++j){N=j,k=T;var O=(M=(z=S).D).Nb;w=z.R;var M=M.wa[M.Y+N],D=z.sa,P=z.ta+16*O*w+16*N,I=M.dd,L=M.tc;if(0!=L)if(t(3<=L),1==z.L)0<N&&yr(D,P,w,L+4),M.La&&wr(D,P,w,L),0<k&&br(D,P,w,L+4),M.La&&vr(D,P,w,L);else{var R=z.B,F=z.qa,B=z.ra+8*O*R+8*N,H=z.Ha,z=z.Ia+8*O*R+8*N;O=M.ld,0<N&&(ur(D,P,w,L+4,I,O),pr(F,B,H,z,R,L+4,I,O)),M.La&&(fr(D,P,w,L,I,O),xr(F,B,H,z,R,L,I,O)),0<k&&(dr(D,P,w,L+4,I,O),hr(F,B,H,z,R,L+4,I,O)),M.La&&(mr(D,P,w,L,I,O),gr(F,B,H,z,R,L,I,O))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*C,C=16*(C+1),E?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+A,l.ea=o.Ha,l.W=o.Ia+A):(j-=y,l.y=p,l.O=m,l.f=f,l.N=u,l.ea=g,l.W=x),b||(C-=y),C>l.o&&(C=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<C&&(l.J=un(o,l,j,C-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ye(o,3,"Could not decode alpha data.");break t}j<l.j&&(y=l.j-j,j=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),j<C&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=C-j,c=l.put(l))}s+1!=o.Ic||b||(r(o.sa,o.ta-d,p,m+16*o.R,d),r(o.qa,o.ra-h,f,u+8*o.B,h),r(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=Ln(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Bi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],m=[0],f=[],g=new l,x=e,b=function(e,t){var n={},r=0,i=!1,a=0,s=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?s:t-8,g.src_size=a+l+8,r++,i&&(i=!1,a=0,s=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+u(e,m),m+=3,g.canvas_height=1+u(e,m),m+=3;break;case"ALPH":i=!0,a=p+8,s=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),m=t+4,g.loop_count=d(e,m),m+=2;break;case"ANMF":var f,g;(g=n.frames[r]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,f=e[t++],g.dispose=1&f,g.blend=f>>1&1}"ANMF"!=o&&(t+=p)}return n}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,v=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],m=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var j=v[0],N=g.WebPDecodeRGBA(x,j.src_off,j.src_size,m,p);j.rgba=N,j.imgwidth=m[0],j.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)f[k]=N[k];return this.width=m,this.height=p,this.data=f,this}!function(e){var t,n,r,i,a,s,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){p=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var a=t[6],s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var o=function(e){var t,n,r=[],i=e.trim();if(""===i)return xse;if(i in ise)return[ise[i]];for(;""!==i;){switch(n=null,t=(i=sse(i)).charAt(0)){case'"':case"'":n=ose(i.substring(1),t);break;default:n=lse(i)}if(null===n)return xse;if(r.push(n[0]),""!==(i=sse(n[1]))&&","!==i.charAt(0))return xse;i=i.replace(/^,/,"")}return r}(a);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},rse,n.genericFontFamilies||{}),a=null,s=null,o=0;o<t.length;++o)if(i[(a=tse(t[o])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+ase(a)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=Xae[e],r=n<=Xae.normal?-1:1,i=nse(t,Jae,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(a.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=Kae[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(a.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=ese[e],r=nse(t,Zae,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+ase(a)+"'.");return s}(function(e,t){if(null===p){var n=(r=e.getFontList(),i=[],Object.keys(r).forEach(function(e){r[e].forEach(function(t){var n=null;switch(t){case"bold":n={family:e,weight:"bold"};break;case"italic":n={family:e,style:"italic"};break;case"bolditalic":n={family:e,weight:"bold",style:"italic"};break;case"":case"normal":n={family:e}}null!==n&&(n.ref={name:e,style:t},i.push(n))})}),i);p=function(e){for(var t={},n=0;n<e.length;++n){var r=tse(e[n]),i=r.family,a=r.stretch,s=r.style,o=r.weight;t[i]=t[i]||{},t[i][a]=t[i][a]||{},t[i][a][s]=t[i][a][s]||{},t[i][a][s][o]=r}return t}(n.concat(t))}var r,i;return p}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var m=0;m<o.length;m++)if(u[o[m]]){d=u[o[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Oie.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===fy(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Oie.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw Oie.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new s(n,r)),a=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},u.prototype.bezierCurveTo=function(e,t,n,r,i,a){if(isNaN(i)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Oie.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(i,a)),l=this.ctx.transform.applyToPoint(new s(e,t)),c=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},u.prototype.arc=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw Oie.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),c=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:a})},u.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Oie.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Oie.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Oie.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Oie.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new Lie(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Oie.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var i=P(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:a,angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Oie.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var i=P(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:a,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Oie.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Oie.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Oie.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Oie.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a))throw Oie.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,n,r,i,a);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,r,i,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new l(e,t,n,r,i,a)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,i,a,s,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,m=1,x=1;void 0!==r&&void 0!==c&&(m=c/r,x=d/i,h=u.width/r*c/r,p=u.height/i*d/i),void 0===a&&(a=t,s=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=i),void 0===r&&void 0===c&&(c=u.width,d=u.height);for(var v,j=this.ctx.transform.decompose(),N=P(j.rotate.shx),k=new l,S=(k=(k=(k=k.multiply(j.translate)).multiply(j.skew)).multiply(j.scale)).applyToRectangle(new o(a-t*m,s-n*x,r*h,i*p)),A=g.call(this,S),C=[],_=0;_<A.length;_+=1)-1===C.indexOf(A[_])&&C.push(A[_]);if(y(C),this.autoPaging)for(var E=C[0],T=C[C.length-1],O=E;O<T+1;O++){this.pdf.setPage(O);var M=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],D=1===O?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===O?0:I+(O-2)*L;if(0!==this.ctx.clip_path.length){var F=this.path;v=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(v,this.posX+this.margin[3],-R+D+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=F}var B=JSON.parse(JSON.stringify(S));B=b([B],this.posX+this.margin[3],-R+D+this.ctx.prevPageLastElemOffset)[0];var H=(O>E||O<T)&&f.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,L,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,N),H&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,N)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var a=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"bct":var s=L(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)x.call(this);return r},x=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=a},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){for(var n,r,i=this.fillStyle,a=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var m=g.call(this,u[p]),v=0;v<m.length;v+=1)-1===h.indexOf(m[v])&&h.push(m[v]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)x.call(this);if(y(h),this.autoPaging)for(var N=h[0],k=h[h.length-1],S=N;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=i,this.strokeStyle=a,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],C=1===S?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===S?0:_+(S-2)*E;if(0!==this.ctx.clip_path.length){var O=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-T+C+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=O}if(r=JSON.parse(JSON.stringify(d)),this.path=b(r,this.posX+this.margin[3],-T+C+this.ctx.prevPageLastElemOffset),!1===t||0===S){var M=(S>N||S<k)&&f.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,E,null).clip().discardPath()),w.call(this,e,t),M&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=d},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,i=[],a=this.path,s=0;s<a.length;s++){var o=a[s];switch(o.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:o,deltas:[],abs:[]});break;case"lt":var l=i.length;if(a[s-1]&&!isNaN(a[s-1].x)&&(n=[o.x-a[s-1].x,o.y-a[s-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(o);break}break;case"bct":n=[o.x1-a[s-1].x,o.y1-a[s-1].y,o.x2-a[s-1].x,o.y2-a[s-1].y,o.x-a[s-1].x,o.y-a[s-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=a[s-1].x+2/3*(o.x1-a[s-1].x),d=a[s-1].y+2/3*(o.y1-a[s-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),f=o.x,g=o.y;n=[c-a[s-1].x,d-a[s-1].y,u-a[s-1].x,h-a[s-1].y,f-a[s-1].x,g-a[s-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,b=0;b<i.length;b++)if(i[b].arc)for(var y=i[b].abs,v=0;v<y.length;v++){var w=y[v];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):E.call(this,w.x,w.y),x=!0}else if(!0===i[b].close)this.pdf.internal.out("h"),x=!1;else if(!0!==i[b].begin){var j=i[b].start.x,N=i[b].start.y;T.call(this,i[b].deltas,j,N),x=!0}r&&S.call(this,r),t&&A.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,i,a,s,o,l){for(var c=M.call(this,n,r,i,a),d=0;d<c.length;d++){var u=c[d];0===d&&(l?C.call(this,u.x1+e,u.y1+t):E.call(this,u.x1+e,u.y1+t)),O.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?A.call(this):S.call(this,s)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},_=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=j.call(this,e.y),i=N.call(this,r)-n.h,a=this.ctx.transform.applyToPoint(new s(e.x,r)),c=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,p,m=this.ctx.transform.applyToRectangle(new o(e.x,r,n.w,n.h)),x=d.applyToRectangle(new o(e.x,i,n.w,n.h)),v=g.call(this,x),k=[],S=0;S<v.length;S+=1)-1===k.indexOf(v[S])&&k.push(v[S]);if(y(k),this.autoPaging)for(var A=k[0],C=k[k.length-1],_=A;_<C+1;_++){this.pdf.setPage(_);var E=1===_?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[2],M=O-this.margin[0],D=this.pdf.internal.pageSize.width-this.margin[1],P=D-this.margin[3],I=1===_?0:T+(_-2)*M;if(0!==this.ctx.clip_path.length){var L=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*I+E),w.call(this,"fill",!0),this.path=L}var R=b([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-I+E+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var F="text"!==this.autoPaging;if(F||R.y+R.h<=O){if(F||R.y>=E&&R.x<=D){var B=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||D-R.x)[0],H=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-I+E+this.ctx.prevPageLastElemOffset)[0],z=F&&(_>A||_<C)&&f.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],P,M,null).clip().discardPath()),this.pdf.text(B,H.x,H.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),z&&this.pdf.restoreGraphicsState()}}else R.y<O&&(this.ctx.prevPageLastElemOffset+=O-R.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,a.x+this.posX,a.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)},E=function(e,t,i,a){i=i||0,a=a||0,this.pdf.internal.out(n(e+i)+" "+r(t+a)+" l")},T=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},O=function(e,n,r,s,o,l,c,d){this.pdf.internal.out([t(i(r+e)),t(a(s+n)),t(i(o+e)),t(a(l+n)),t(i(c+e)),t(a(d+n)),"c"].join(" "))},M=function(e,t,n,r){for(var i=2*Math.PI,a=Math.PI/2;t>n;)t-=i;var s=Math.abs(n-t);s<i&&r&&(s=i-s);for(var o=[],l=r?-1:1,c=t;s>1e-5;){var d=c+l*Math.min(s,a);o.push(D.call(this,e,c,d)),s-=Math.abs(d-c),c=d}return o},D=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),a=e*Math.sin(r),s=i,o=-a,l=s*s+o*o,c=l+s*i+o*a,d=4/3*(Math.sqrt(2*l*c)-c)/(s*a-o*i),u=s-d*o,h=o+d*s,p=u,m=-h,f=r+t,g=Math.cos(f),x=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:p*g-m*x,y3:p*x+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},P=function(e){return 180*e/Math.PI},I=function(e,t,n,r,i,a){var s=e+.5*(n-e),l=t+.5*(r-t),c=i+.5*(n-i),d=a+.5*(r-a),u=Math.min(e,i,s,c),h=Math.max(e,i,s,c),p=Math.min(t,a,l,d),m=Math.max(t,a,l,d);return new o(u,p,h-u,m-p)},L=function(e,t,n,r,i,a,s,l){var c,d,u,h,p,m,f,g,x,b,y,v,w,j,N=n-e,k=r-t,S=i-n,A=a-r,C=s-i,_=l-a;for(d=0;d<41;d++)x=(f=(u=e+(c=d/40)*N)+c*((p=n+c*S)-u))+c*(p+c*(i+c*C-p)-f),b=(g=(h=t+c*k)+c*((m=r+c*A)-h))+c*(m+c*(a+c*_-m)-g),0==d?(y=x,v=b,w=x,j=b):(y=Math.min(y,x),v=Math.min(v,b),w=Math.max(w,x),j=Math.max(j,b));return new o(Math.round(y),Math.round(v),Math.round(w-y),Math.round(j-v))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(lae.API),function(e){var t=function(e){var t,n,r,i,a,s,o,l,c,d;for(n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(a=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(a=((a=((a=((a=(a-(d=a%85))/85)-(c=a%85))/85)-(l=a%85))/85)-(o=a%85))/85)%85,n.push(s+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,a,s=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],i=0,a=(e+=t="uuuuu"[d](e[o]%5||5))[o];a>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),s.fromCharCode.apply(s,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=One(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,s){var o=0,l=e||"",c=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(lae.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,a=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(a(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return a(r.responseText)}(e,t,n)}catch(i){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(lae.API),function(e){function t(){return(Eie.html2canvas?Promise.resolve(Eie.html2canvas):Xte(()=>import("./html2canvas.esm-DVPEA5ss.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function n(){return(Eie.DOMPurify?Promise.resolve(Eie.DOMPurify):Xte(()=>Promise.resolve().then(()=>ly),void 0)).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var r=function(e){var t=fy(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(n).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var s=n[a],o=s.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},s.prototype.setMargin=function(e){return this.then(function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||lae.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:s.convert(Object.assign({},r),Promise.prototype),a=n.call(i,e,t);return s.convert(a,r.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw new Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lae.getPageSize=function(e,t,n){if("object"===fy(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,a=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(s.hasOwnProperty(a))l=s[a][1]/i,c=s[a][0]/i;else try{l=n[1],c=n[0]}catch(d){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(tse):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(lae.API),lae.API.addJS=function(e){return use=e,this.internal.events.subscribe("postPutResources",function(){cse=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cse+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dse=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+use+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==cse&&void 0!==dse&&this.internal.out("/Names <</JavaScript "+cse+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var a=r[i],s=n.exec(a);if(null!=s){var o=s[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line("/Count "+a),i.options&&i.options.pageNumber){var s=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(lae.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,a,s){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,a={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),a={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(lae.API),lae.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=new Aie(e,{checkCrc:!0}).decode(),s=a.width,o=a.height,l=a.channels,c=a.palette,d=a.depth;i=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,i=e.palette,a=e.depth,s=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<i.length;h++){var p=jy(i[h],4),m=p[0],f=p[1],g=p[2],x=p[3];o.push(m,f,g),null!=x&&(0===x?(u++,l.length<1&&l.push(h)):x<255&&(d=!0))}if(d||u>1){s=!0,l=void 0;var b=t*n;c=new Uint8Array(b);for(var y=new DataView(r.buffer),v=0;v<b;v++){var w=jy(i[Ase(y,v,a)],4)[3];c[v]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:s?8:void 0,colorBytes:r,alphaBytes:c,needSMask:s,palette:o,mask:l}}(a):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,i=e.channels,a=e.depth,s=2===i?"DeviceGray":"DeviceRGB",o=i-1,l=n*r,c=o,d=l*c,u=1*l,h=Math.ceil(d*a/8),p=Math.ceil(u*a/8),m=new Uint8Array(h),f=new Uint8Array(p),g=new DataView(t.buffer),x=new DataView(m.buffer),b=new DataView(f.buffer),y=!1,v=0;v<l;v++){for(var w=v*i,j=0;j<c;j++)Cse(x,Ase(g,w+j,a),v*c+j,a);var N=Ase(g,w+c,a);N<(1<<a)-1&&(y=!0),Cse(b,N,1*v,a)}return{colorSpace:s,colorsPerPixel:o,sMaskBitsPerComponent:y?a:void 0,colorBytes:m,alphaBytes:f,needSMask:y}}(a):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),i=0;i<t;i++)r.setUint16(2*i,e[i],!1);return n}(t):t,needSMask:!1}}(a);var u,h,p,m=i,f=m.colorSpace,g=m.colorsPerPixel,x=m.sMaskBitsPerComponent,b=m.colorBytes,y=m.alphaBytes,v=m.needSMask,w=m.palette,j=m.mask,N=null;return r!==lae.API.image_compression.NONE?(N=function(e){var t;switch(e){case lae.API.image_compression.FAST:t=11;break;case lae.API.image_compression.MEDIUM:t=13;break;case lae.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(N," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=bse(b,Math.ceil(s*g*d/8),g,d,r),v&&(p=bse(y,Math.ceil(s*x/8),1,x,r))):(u=void 0,h=void 0,e=b,v&&(p=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:j,palette:w,sMask:p,predictor:N,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:f}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new Ese(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new Ose(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(lae.API),Mse.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mse.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Oie.log("bit decode error:"+n)}},Mse.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Mse.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},Mse.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},Mse.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Mse.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Mse.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Mse.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=s}},Mse.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new Mse(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ose(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(lae.API),Dse.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new Dse(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Ose(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(lae.API),lae.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=r[c],u=r[c+1],h=r[c+2],p=r[c+3];a[o++]=d,a[o++]=u,a[o++]=h,s[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lae.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hse=lae.API,pse=hse.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,m=0,f=o[0]||l,g=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(h=u&&"object"===fy(c[r])&&!isNaN(parseInt(c[r][m],10))?c[r][m]/d:0,g.push((o[r]||f)/l+h)),m=r;return g},mse=hse.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return hse.processArabic&&(e=hse.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:pse.apply(this,arguments).reduce(function(e,t){return e+t},0)},fse=function(e,t,n,r){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<n;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>r&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},gse=function(e,t,n){n||(n={});var r,i,a,s,o,l,c,d=[],u=[d],h=n.textIndent||0,p=0,m=0,f=e.split(" "),g=pse.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),b=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),f=b,l=mse.apply(this,[x,n])}for(a=0,s=f.length;a<s;a++){var y=0;if(r=f[a],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+p+(m=(i=pse.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(m>t){for(o=fse.apply(this,[r,i,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);m=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=m+l,p=g}else d.push(r),h+=p+m,p=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},hse.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(gse.apply(this,[r[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var s=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,a,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(r=s(t).slice(3),a="-"):(r=s(t).slice(2),a=""),r=a+r.slice(0,-1)+i[r.slice(-1)];else{if("object"!==fy(t))throw new Error("Don't know what to do with value type "+fy(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,a,s={},o=1,l=s,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(a=e[p])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([l,i]),l={},i=void 0):"}"==a?((n=c.pop())[0][n[1]]=l,i=void 0,l=n[0]):"-"==a?o=-1:void 0===i?r.hasOwnProperty(a)?(d+=r[a],i=parseInt(d,16)*o,o=1,d=""):d+=a:r.hasOwnProperty(a)?(u+=r[a],l[i]=parseInt(u,16)*o,o=1,i=void 0,u=""):u+=a;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(lae.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r,i,a=void 0,s=n.font,o=n.instance;if(!s.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(a=!1===o.existsFileInVFS(s.postScriptName)?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");r=s,i=/^\x00\x01\x00\x00/.test(i=a)?t(i):t(Rie(i)),r.metadata=e.API.TTFFont.open(i),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}}])}(lae),lae.API.addSvgAsImage=function(e,t,n,r,i,a,s,o){if(isNaN(t)||isNaN(n))throw Oie.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Oie.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(Eie.canvg?Promise.resolve(Eie.canvg):Xte(()=>import("./index.es-dAQrvOLf.js"),__vite__mapDeps([0,1]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,s,o)})},lae.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},lae.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===fy(e))for(i in e)if(a=e[i],h(o,i)&&void 0!==a){if("boolean"===n[i].type&&"boolean"==typeof a)n[i].value=a;else if("name"===n[i].type&&h(n[i].valueSet,a))n[i].value=a;else if("integer"===n[i].type&&Number.isInteger(a))n[i].value=a;else if("array"===n[i].type){for(c=0;c<a.length;c+=1)if(r=!0,1===a[c].length&&"number"==typeof a[c][0])l.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)"number"!=typeof a[c][d]&&(r=!1);!0===r&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+i.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(lae.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],a=[""],s=0,o=e.length;s<o;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(i[4-n.length],n)}return a.join("")},r=function(e){var t,n,r,i,a,s,o;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=n[s],r.length>=100&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,a=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=a();s({data:c,addLength1:!0,objectId:u}),i("endobj");var h=a();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var p=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+nae(n.fontName)),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var m=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+nae(n.fontName)),i("/FontDescriptor "+p+" 0 R"),i("/W "+e.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+nae(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+m+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,a=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=a();s({data:l,addLength1:!0,objectId:d}),i("endobj");var u=a();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),i("endobj");var h=a();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+d+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+nae(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=a();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+nae(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,a=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,m="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:i,y:a,options:s,mutex:o};for(m=r,u=c,Array.isArray(r)&&(m=r[0]),p=0;p<m.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=m[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=n(h,d[u])),o.isHex=!0,{text:g,x:i,y:a,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?n.push([i(Object.assign({},r,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(i(Object.assign({},r,{text:t[a]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(lae),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(lae.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,a,s,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,s,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(i&&!a){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":g=!1,n=!0,h=x;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&j(r,n,{hiLevel:x}),r.reverse(),t&&t.reverse(),r.join("")},j=function(e,t,i){var a,s,o,l,c,p=-1,m=e.length,f=0,y=[],w=x?u:d,j=[];for(g=!1,n=!1,r=!1,s=0;s<m;s++)j[s]=b(e[s]);for(o=0;o<m;o++){if(c=f,y[o]=v(e,j,y,o),a=240&(f=w[c][h[y[o]]]),f&=15,t[o]=l=w[f][5],a>0)if(16===a){for(s=p;s<o;s++)t[s]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(s=p;s<o;s++)t[s]=l;p=-1}"B"===j[o]&&(t[o]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=x;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=x}}(j,t,m)},N=function(e,t,r,i,a){if(!(a.hiLevel<e)){if(1===e&&1===x&&!n)return t.reverse(),void(r&&r.reverse());for(var s,o,l,c,d=t.length,u=0;u<d;){if(i[u]>=e){for(l=u+1;l<d&&i[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)s=t[c],t[c]=t[o],t[o]=s,r&&(s=r[c],r[c]=r[o],r[o]=s);u=l}u++}}},k=function(e,t,n){var r=e.split(""),i={hiLevel:x};return n||(n=[]),j(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=m.indexOf(e[i]))>=0&&(e[i]=m[r+1])}(r,n,i),N(2,r,t,n,i),N(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===a&&(a=y(e)),void 0===o&&(o=y(e))}(e,t),i||!s||o)if(i&&s&&a^o)x=a?1:0,e=w(e,t,n);else if(!i&&s&&o)x=a?1:0,e=k(e,t,n),e=w(e,t);else if(!i||a||s||o){if(i&&!s&&a^o)e=w(e,t),a?(x=0,e=k(e,t,n)):(x=1,e=k(e,t,n),e=w(e,t));else if(i&&a&&!s&&o)x=1,e=k(e,t,n),e=w(e,t);else if(!i&&!s&&a^o){var r=l;a?(x=1,e=k(e,t,n),x=0,l=!1,e=k(e,t,n),l=r):(x=0,e=k(e,t,n),e=w(e,t),x=1,l=!1,e=k(e,t,n),l=r,e=w(e,t))}}else x=0,e=k(e,t,n);else x=a?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,s=e.isOutputVisual,a=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(i=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?i.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([n.doBidiReorder(t[a])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(lae),lae.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Ise(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eoe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Lse(this.contents),this.head=new Bse(this),this.name=new qse(this),this.cmap=new zse(this),this.toUnicode={},this.hhea=new Wse(this),this.maxp=new Gse(this),this.hmtx=new Yse(this),this.post=new Vse(this),this.os2=new Use(this),this.loca=new Zse(this),this.glyf=new Kse(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,a,s;for(a=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)r=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Pse,Ise=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,a,s,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^a)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*a+256*s+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),Lse=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,a,s,o,l,c,d,u,h,p,m;for(m in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),a=Math.floor(d/o),c=16*h-d,(r=new Ise).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(a),r.writeShort(c),i=16*h,l=r.pos+i,s=null,p=[],t)for(u=t[m],r.writeString(m),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===m&&(s=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=Qse.call(e);e.length%4;)e.push(0);for(r=new Ise(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Rse={}.hasOwnProperty,Fse=function(e,t){for(var n in t)Rse.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Pse=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Bse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Ise).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Hse=function(){function e(e,t){var n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,i=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,b=i.length;g<b;o=++g)for(f=i[o],n=x=p=m[o];p<=f?x<=f:x>=f;n=p<=f?++x:--x)0===c[o]?a=n+l[o]:0!==(a=s[c[o]/2+(n-p)-(u-o)]||0)&&(a+=l[o]),this.codeMap[n]=65535&a}e.pos=d}return e.encode=function(e,t){var n,r,i,a,s,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k,S,A,C,_,E,T,O,M,D,P,I,L,R,F,B,H,z,W,U,V,$,q,G;switch(E=new Ise,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),x={0:0},i={},T=0,P=a.length;T<P;T++)null==x[V=e[r=a[T]]]&&(x[V]=++m),i[r]={old:e[r],new:x[e[r]]},f[r]=x[e[r]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(f),{charMap:i,subtable:E.data,maxGlyphID:m+1};case"unicode":for(C=[],d=[],b=0,x={},n={},g=l=null,O=0,I=a.length;O<I;O++)null==x[v=e[r=a[O]]]&&(x[v]=++b),n[r]={old:v,new:x[v]},s=x[v]-r,null!=g&&s===l||(g&&d.push(g),C.push(r),l=s),g=r;for(g&&d.push(g),d.push(65535),C.push(65535),S=2*(k=C.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,j=2*k-N,o=[],w=[],h=[],p=M=0,L=C.length;M<L;p=++M){if(A=C[p],c=d[p],65535===A){o.push(0),w.push(0);break}if(A-(_=n[A].new)>=32768)for(o.push(0),w.push(2*(h.length+k-p)),r=D=A;A<=c?D<=c:D>=c;r=A<=c?++D:--D)h.push(n[r].new);else o.push(_-A),w.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*k+2*h.length),E.writeUInt16(0),E.writeUInt16(S),E.writeUInt16(N),E.writeUInt16(u),E.writeUInt16(j),W=0,R=d.length;W<R;W++)r=d[W],E.writeUInt16(r);for(E.writeUInt16(0),U=0,F=C.length;U<F;U++)r=C[U],E.writeUInt16(r);for($=0,B=o.length;$<B;$++)s=o[$],E.writeUInt16(s);for(q=0,H=w.length;q<H;q++)y=w[q],E.writeUInt16(y);for(G=0,z=h.length;G<z;G++)m=h[G],E.writeUInt16(m);return{charMap:n,subtable:E.data,maxGlyphID:b+1}}},e}(),zse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Hse(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Hse.encode(e,t),(r=new Ise).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Wse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Use=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Vse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),$se=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,a,s,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},i=c=0,d=n.length;c<d;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),a=new $se(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(a);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(h){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Gse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Yse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,a,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Qse=[].slice,Kse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,a,s,o,l,c,d;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,a=(s=new Ise(t.read(r))).readShort(),l=s.readShort(),d=s.readShort(),o=s.readShort(),c=s.readShort(),this.cache[e]=-1===a?new Xse(s,l,d,o,c):new Jse(s,a,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,a,s,o;for(a=[],i=[],s=0,o=t.length;s<o;s++)r=e[t[s]],i.push(a.length),r&&(a=a.concat(r.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),Jse=function(){function e(e,t,n,r,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Xse=function(){function e(e,t,n,r,i){var a,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Ise(Qse.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Zse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Fse(e,Pse),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,a=0;a<n.length;++a)if(n[a]=r,i<t.length&&t[i]==a){++i,n[a]=r;var s=this.offsets[a],o=this.offsets[a+1]-s;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),eoe=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,a,s,o;for(r={},a=0,s=e.length;a<s;a++)r[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in o=this.glyphsFor(t))n=o[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,a,s,o,l,c,d,u,h,p,m,f,g;for(r in n=zse.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(p in u=n.maxGlyphID,a)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)s=d[e],n.push(c[s]);return n}(),i=this.font.glyf.encode(a,m,h),l=this.font.loca.encode(i.offsets,m),f={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();function toe(e,t,n,r,i){r=r||{};var a=i.internal.scaleFactor,s=i.internal.getFontSize()/a,o=s*(i.getLineHeightFactor?i.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"==typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=s*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var d=s;if("center"===r.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)i.text(l[u],t-i.getStringUnitWidth(l[u])*d,n),n+=o;return i}t-=i.getStringUnitWidth(e)*d}return"justify"===r.halign?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}lae.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+function(){var e,i,a;for(a=[],e=0,i=n.length;e<i;e++)r=n[e],a.push(t.convert(r));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join("\n")}return""+n},t}();var noe={},roe=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:noe=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e,e]:"string"==typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,i,a;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(i=this.jsPDFDocument).setTextColor.apply(i,d),(d=e.unifyColor(t.lineColor))&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),"number"==typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,i){return this.jsPDFDocument.rect(e,t,n,r,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return noe||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),ioe=function(e,t){return(ioe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function aoe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ioe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}"function"==typeof SuppressedError&&SuppressedError;var soe=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return aoe(t,e),t}(Array);function ooe(e,t,n){return n.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)}function loe(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var s=coe(i,!1);s&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,s)}function coe(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function doe(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"==typeof e?("number"==typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"==typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(i=e.right)&&void 0!==i?i:t,bottom:null!==(a=e.bottom)&&void 0!==a?a:t}):("number"!=typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function uoe(e,t){var n=doe(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function hoe(e,t,n,r,i){var a={},s=96/72,o=poe(t,function(e){return i.getComputedStyle(e).backgroundColor});null!=o&&(a.fillColor=o);var l=poe(t,function(e){return i.getComputedStyle(e).color});null!=l&&(a.textColor=l);var c=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=doe(n.map(function(e){return parseInt(e||"0")/r}),0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}(r,n);c&&(a.cellPadding=c);var d="borderTopColor",u=s*n,h=r.borderTopWidth;if(r.borderBottomWidth===h&&r.borderRightWidth===h&&r.borderLeftWidth===h){var p=(parseFloat(h)||0)/u;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/u,right:(parseFloat(r.borderRightWidth)||0)/u,bottom:(parseFloat(r.borderBottomWidth)||0)/u,left:(parseFloat(r.borderLeftWidth)||0)/u},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var m=poe(t,function(e){return i.getComputedStyle(e)[d]});null!=m&&(a.lineColor=m);var f=["left","right","center","justify"];-1!==f.indexOf(r.textAlign)&&(a.halign=r.textAlign),-1!==(f=["middle","bottom","top"]).indexOf(r.verticalAlign)&&(a.valign=r.verticalAlign);var g=parseInt(r.fontSize||"");isNaN(g)||(a.fontSize=g/s);var x=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(r);x&&(a.fontStyle=x);var b=(r.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(a.font=b),a}function poe(e,t){var n=moe(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function moe(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:moe(e.parentElement,t):n}function foe(e,t,n,r,i){var a,s,o;void 0===r&&(r=!1),void 0===i&&(i=!1),o="string"==typeof t?n.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],h=[];if(!o)return{head:d,body:u,foot:h};for(var p=0;p<o.rows.length;p++){var m=o.rows[p],f=null===(s=null===(a=null==m?void 0:m.parentElement)||void 0===a?void 0:a.tagName)||void 0===s?void 0:s.toLowerCase(),g=goe(l,c,n,m,r,i);g&&("thead"===f?d.push(g):"tfoot"===f?h.push(g):u.push(g))}return{head:d,body:u,foot:h}}function goe(e,t,n,r,i,a){for(var s=new soe(r),o=0;o<r.cells.length;o++){var l=r.cells[o],c=n.getComputedStyle(l);if(i||"none"!==c.display){var d=void 0;a&&(d=hoe(e,l,t,c,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:xoe(l)})}}var u=n.getComputedStyle(r);if(s.length>0&&(i||"none"!==u.display))return s}function xoe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function boe(e,t,n,r,i){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function yoe(e,t){var n=new roe(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();!function(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a.startY&&"number"!=typeof a.startY&&delete a.startY}}(i,r,t);var a,s=boe({},i,r,t);"undefined"!=typeof window&&(a=window);var o=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(i){if("columnStyles"===i){var a=e[i],s=t[i],o=n[i];r.columnStyles=boe({},a,s,o)}else{var l=[e,t,n].map(function(e){return e[i]||{}});r[i]=boe({},l[0],l[1],l[2])}},a=0,s=Object.keys(r);a<s.length;a++)i(s[a]);return r}(i,r,t),l=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=[e,t,n];i<a.length;i++){var s=a[i];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.willDrawPage&&r.willDrawPage.push(s.willDrawPage),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}(i,r,t),c=function(e,t){var n,r,i,a,s,o,l,c,d,u,h,p,m,f,g=doe(t.margin,40/e.scaleFactor()),x=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;return n&&n.startPageNumber&&(a=n.startPageNumber+n.pageNumber-1===i),"number"==typeof t?t:null!=t&&!1!==t||!a||null==(null==n?void 0:n.finalY)?null:n.finalY+20/r}(e,t.startY))&&void 0!==n?n:g.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage",f=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(i=t.showHead)&&void 0!==i?i:"everyPage";var b=null!==(a=t.useCss)&&void 0!==a&&a,y=t.theme||(b?"plain":"striped"),v=!!t.horizontalPageBreak,w=null!==(s=t.horizontalPageBreakRepeat)&&void 0!==s?s:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:b,theme:y,startY:x,margin:g,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(d=t.tableWidth)&&void 0!==d?d:"auto",showHead:f,showFoot:m,tableLineWidth:null!==(u=t.tableLineWidth)&&void 0!==u?u:0,tableLineColor:null!==(h=t.tableLineColor)&&void 0!==h?h:200,horizontalPageBreak:v,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(p=t.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(n,s),d=function(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(n){var o=foe(e,t.html,n,s,t.useCss)||{};r=o.head||r,i=o.body||r,a=o.foot||r}}var l=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(e){return"_element"!==e}).forEach(function(e){var t,n=1;"object"!=typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null==t?void 0:t.colSpan)||1);for(var a=0;a<n;a++){var s={dataKey:Array.isArray(r)?i.length:e+(a>0?"_".concat(a):"")};i.push(s)}}),i}(r,i,a);return{columns:l,head:r,body:i,foot:a}}(n,s,a);return{id:t.tableId,content:d,hooks:l,styles:o,settings:c}}var voe,woe=function(){return function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}}(),joe=function(e){function t(t,n,r,i,a,s){var o=e.call(this,t,n,s)||this;return o.cell=r,o.row=i,o.column=a,o.section=i.section,o}return aoe(t,e),t}(woe),Noe=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,i,a){for(var s=0,o=t;s<o.length;s++){var l=!1===(0,o[s])(new joe(e,this,n,r,i,a));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new woe(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new woe(e,this,t))},e.prototype.getWidth=function(e){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),koe=function(){function e(e,t,n,r,i){void 0===i&&(i=!1),this.height=0,this.raw=e,e instanceof soe&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var i=n.cells[r.index];if(!i)return 0;var a=t.getLineHeight(i.styles.fontSize),s=i.padding("vertical")+a;return s>e?s:e},0)},e}(),Soe=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var i=e;null==e||"object"!=typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var a=null!=i?""+i:"";this.text=a.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=doe(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),Aoe=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var i=r[n].cells[this.index];i&&"number"==typeof i.styles.cellWidth&&(t=Math.max(t,i.styles.cellWidth))}return t},e}();function Coe(e,t,n){for(var r=t,i=e.reduce(function(e,t){return e+t.wrappedWidth},0),a=0;a<e.length;a++){var s=e[a],o=r*(s.wrappedWidth/i),l=s.width+o,c=n(s),d=l<c?c:l;t-=d-s.width,s.width=d}if(t=Math.round(1e10*t)/1e10){var u=e.filter(function(e){return!(t<0)||e.width>n(e)});u.length&&(t=Coe(u,t,n))}return t}function _oe(e,t,n,r,i){return e.map(function(e){return function(e,t,n,r,i){var a=1e4*r.scaleFactor();if((t=Math.ceil(t*a)/a)>=ooe(e,n,r))return e;for(;t<ooe(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}(e,t,n,r,i)})}function Eoe(e,t){var n=new roe(e),r=function(e,t){var n,r=e.content,i=function(e){return e.map(function(e,t){var n,r;return r="object"==typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new Aoe(r,e,t)})}(r.columns);(0===r.head.length&&(n=Ooe(i,"head"))&&r.head.push(n),0===r.foot.length)&&((n=Ooe(i,"foot"))&&r.foot.push(n));var a=e.settings.theme,s=e.styles;return{columns:i,head:Toe("head",r.head,i,s,a,t),body:Toe("body",r.body,i,s,a,t),foot:Toe("foot",r.foot,i,s,a,t)}}(t,n.scaleFactor()),i=new Noe(t,r);return function(e,t){!function(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=uoe(e,t);t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,a,l,null);var u=c.padding("horizontal");c.contentWidth=ooe(c.text,c.styles,e)+u;var h=ooe(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),"number"==typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===r)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/n;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var i=r[n],a=e.cells[i.index];if(a&&1===a.colSpan)i.wrappedWidth=Math.max(i.wrappedWidth,a.wrappedWidth),i.minWidth=Math.max(i.minWidth,a.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,a.minReadableWidth);else{var s=t.styles.columnStyles[i.dataKey]||t.styles.columnStyles[i.index]||{},o=s.cellWidth||s.minCellWidth;o&&"number"==typeof o&&(i.minWidth=o,i.wrappedWidth=o)}a&&(a.colSpan>1&&!i.minWidth&&(i.minWidth=a.minWidth),a.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=a.minWidth))}})}(e,t);var n=[],r=0;t.columns.forEach(function(e){var i=e.getMaxCustomCellWidth(t);i?e.width=i:(e.width=e.wrappedWidth,n.push(e)),r+=e.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=Coe(n,i,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),i&&(i=Coe(n,i,function(e){return e.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i)),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((s-=1)>1&&e.columns[o+1])a+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+a}else{if(!(c=r.cells[l.index]))continue;if(s=c.colSpan,a=0,c.colSpan>1){i=c,a+=l.width;continue}c.width=l.width+a}}}(t),function(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=_oe(c.text,d,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=_oe(c.text,d,c.styles,t,"");else if("function"==typeof c.styles.overflow){var u=c.styles.overflow(c.text,d);c.text="string"==typeof u?[u]:u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>a.height&&(a.height=h)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(n>1)n--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,n=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var u=r.length-i,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:a}}}}}(t)}(n,i),n.applyStyles(n.userStyles),i}function Toe(e,t,n,r,i,a){var s={};return t.map(function(t,o){for(var l=0,c={},d=0,u=0,h=0,p=n;h<p.length;h++){var m=p[h];if(null==s[m.index]||0===s[m.index].left)if(0===u){var f,g={};"object"!=typeof(f=Array.isArray(t)?t[m.index-d-l]:t[m.dataKey])||Array.isArray(f)||(g=(null==f?void 0:f.styles)||{});var x=Moe(e,m,o,i,r,a,g),b=new Soe(f,x,e);c[m.dataKey]=b,c[m.index]=b,u=b.colSpan-1,s[m.index]={left:b.rowSpan-1,times:u}}else u--,d++;else s[m.index].left--,u=s[m.index].times,l++}return new koe(t,o,e,c)})}function Ooe(e,t){var n={};return e.forEach(function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"==typeof t)return t.header||null;if("string"==typeof t||"number"==typeof t)return t}else if("foot"===e&&"object"==typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function Moe(e,t,n,r,i,a,s){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[r];"head"===e?o=i.headStyles:"body"===e?o=i.bodyStyles:"foot"===e&&(o=i.footStyles);var c=boe({},l.table,l[e],i.styles,o),d=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},u="body"===e?d:{},h="body"===e&&n%2==0?boe({},l.alternateRow,i.alternateRowStyles):{},p=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(a),m=boe({},p,c,h,u);return boe(m,s)}function Doe(e,t,n){var r;void 0===n&&(n={});var i=uoe(e,t),a=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!=typeof t.settings.horizontalPageBreakRepeat&&"number"!=typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!a.has(n.index)&&(a.set(n.index,!0),s.push(n.index),o.push(t.columns[n.index]),i-=n.wrappedWidth)});for(var c=!0,d=null!==(r=null==n?void 0:n.start)&&void 0!==r?r:0;d<t.columns.length;)if(a.has(d))d++;else{var u=t.columns[d].wrappedWidth;if(!(c||i>=u))break;c=!1,s.push(d),o.push(t.columns[d]),i-=u,d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function Poe(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=r+i.bottom+s;"avoid"===n.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new roe(e);("always"===n.pageBreak||null!=n.startY&&o>l.pageSize().height)&&(Voe(l),a.y=i.top),t.callWillDrawPageHooks(l,a);var c=boe({},a);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var i=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=Doe(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}(e,t);if("afterAllRows"===t.settings.horizontalPageBreakBehaviour)i.forEach(function(i,a){e.applyStyles(e.userStyles),a>0?Uoe(e,t,n,r,i.columns,!0):Ioe(e,t,r,i.columns),function(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var o=s===t.body.length-1;Boe(e,t,a,o,n,r,i)})}(e,t,n,r,i.columns),Roe(e,t,r,i.columns)});else for(var a=-1,s=i[0],o=function(){var o=a;if(s){e.applyStyles(e.userStyles);var l=s.columns;a>=0?Uoe(e,t,n,r,l,!0):Ioe(e,t,r,l),o=Loe(e,t,a+1,r,l),Roe(e,t,r,l)}var c=o-a;i.slice(1).forEach(function(i){e.applyStyles(e.userStyles),Uoe(e,t,n,r,i.columns,!0),Loe(e,t,a+1,r,i.columns,c),Roe(e,t,r,i.columns)}),a=o};a<t.body.length-1;)o()}(l,t,c,a):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach(function(e){return Hoe(l,t,e,a,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,n){var r=n===t.body.length-1;Boe(l,t,e,r,c,a,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach(function(e){return Hoe(l,t,e,a,t.columns)})),loe(l,t,c,a),t.callEndPageHooks(l,a),t.finalY=a.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function Ioe(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),"firstPage"!==i.showHead&&"everyPage"!==i.showHead||t.head.forEach(function(i){return Hoe(e,t,i,n,r)})}function Loe(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=null!=a?a:t.body.length;var s=Math.min(n+a,t.body.length),o=-1;return t.body.slice(n,s).forEach(function(a,s){var l=n+s===t.body.length-1,c=Woe(e,t,l,r);a.canEntireRowFit(c,i)&&(Hoe(e,t,a,r,i),o=n+s)}),o}function Roe(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),"lastPage"!==i.showFoot&&"everyPage"!==i.showFoot||t.foot.forEach(function(i){return Hoe(e,t,i,n,r)})}function Foe(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function Boe(e,t,n,r,i,a,s){var o=Woe(e,t,r,a);if(n.canEntireRowFit(o,s))Hoe(e,t,n,a,s);else if(function(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,s=i-(a.top+a.bottom);"body"===t.section&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=t.getMinimumRowHeight(r.columns,e);if(o>s)return!0;if(!(o<n))return!1;var l=t.hasRowSpan(r.columns);return!!(t.getMaxCellHeight(r.columns)>s)||!l&&"avoid"!==r.settings.rowPageBreak}(e,n,o,t)){var l=function(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,s=0,o=n.columns;s<o.length;s++){var l=o[s];if(g=e.cells[l.index]){Array.isArray(g.text)||(g.text=[g.text]),(f=boe(f=new Soe(g.raw,g.styles,g.section),g)).text=[];var c=Foe(g,t,r);g.text.length>c&&(f.text=g.text.splice(c,g.text.length));var d=r.scaleFactor(),u=r.getLineHeightFactor();g.contentHeight=g.getContentHeight(d,u),g.contentHeight>=t&&(g.contentHeight=t,f.styles.minCellHeight-=t),g.contentHeight>e.height&&(e.height=g.contentHeight),f.contentHeight=f.getContentHeight(d,u),f.contentHeight>a&&(a=f.contentHeight),i[l.index]=f}}var h=new koe(e.raw,-1,e.section,i,!0);h.height=a;for(var p=0,m=n.columns;p<m.length;p++){var f,g;l=m[p],(f=h.cells[l.index])&&(f.height=h.height),(g=e.cells[l.index])&&(g.height=e.height)}return h}(n,o,t,e);Hoe(e,t,n,a,s),Uoe(e,t,i,a,s),Boe(e,t,l,r,i,a,s)}else Uoe(e,t,i,a,s),Boe(e,t,n,r,i,a,s)}function Hoe(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=n.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=r.x,l.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,n,o,r)){zoe(e,l,r);var c=l.getTextPos();toe(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,o,r),r.x+=o.width}else r.x+=o.width;else r.x+=o.width}r.y+=n.height}function zoe(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"==typeof r.lineWidth){var i=coe(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else"object"==typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var i,a,s,o;function l(t,n,r,i,a){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,i,a,"S")}r.top&&(i=n.x,a=n.y,s=n.x+t.width,o=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,s,o)),r.bottom&&(i=n.x,a=n.y+t.height,s=n.x+t.width,o=n.y+t.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,s,o)),r.left&&(i=n.x,a=n.y,s=n.x,o=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,a,s,o)),r.right&&(i=n.x+t.width,a=n.y,s=n.x+t.width,o=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,a,s,o))}(e,t,n,r.lineWidth))}function Woe(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return("everyPage"===a||"lastPage"===a&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function Uoe(e,t,n,r,i,a){void 0===i&&(i=[]),void 0===a&&(a=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||a||t.foot.forEach(function(n){return Hoe(e,t,n,r,i)}),t.callEndPageHooks(e,r);var s=t.settings.margin;loe(e,t,n,r),Voe(e),t.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach(function(n){return Hoe(e,t,n,r,i)}),e.applyStyles(e.userStyles))}function Voe(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}function $oe(e,t){Poe(e,Eoe(e,yoe(e,t)))}try{if("undefined"!=typeof window&&window){var qoe=window,Goe=qoe.jsPDF||(null===(voe=qoe.jspdf)||void 0===voe?void 0:voe.jsPDF);Goe&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Poe(this,Eoe(this,yoe(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){toe(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return roe.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){roe.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"==typeof window)return null;var r=foe(new roe(this),e,window,t,!1),i=r.head,a=r.body;return{columns:(null===(n=i[0])||void 0===n?void 0:n.map(function(e){return e.content}))||[],rows:a,data:a}}}(Goe)}}catch(kxe){}const Yoe=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],Qoe=({isOpen:e,workOrder:t,onClose:n})=>{var r,i,a,s,o,l,c,d;if(!e||!t)return null;const u=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",p=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),m=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})}),f=({label:e,htmlContent:t,icon:n,fullWidth:r=!1})=>{if(!t)return h.jsx(m,{label:e,value:"-",icon:n,fullWidth:r,priority:"low"});const i=oy.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:e}),h.jsx("div",{className:"rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r\n                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r\n                          prose-li:my-1 prose-strong:font-semibold prose-em:italic",dangerouslySetInnerHTML:{__html:i}})]})]})})})},g=({workOrder:e})=>{const t=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return h.jsx(ad,{className:"w-4 h-4"});case"assigned":return h.jsx(Ou,{className:"w-4 h-4"});case"in progress":return h.jsx(ld,{className:"w-4 h-4"});case"resolved":return h.jsx(xu,{className:"w-4 h-4"});case"closed":return h.jsx(id,{className:"w-4 h-4"});case"cancel":return h.jsx(sd,{className:"w-4 h-4"});case"escalated":return h.jsx(ku,{className:"w-4 h-4"});case"vendor handled":return h.jsx(Pu,{className:"w-4 h-4"});default:return h.jsx(Dc,{className:"w-4 h-4"})}},n=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},r=(e,t)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(null==t?void 0:t.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"}[e.toLowerCase()]||`Status: ${e}`),i=(e,t)=>{const n=new Date(e),r=new Date(t),i=Math.abs(r.getTime()-n.getTime()),a=Math.ceil(i/864e5);if(0===a){const e=Math.ceil(i/36e5),t=Math.ceil(i/6e4);return t<60?`${t} minutes`:`${e} hours`}return`${a} day${a>1?"s":""}`},a=e=>{const t=new Date(e);return{date:t.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:t.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},s=(()=>{var t,n;const a=[];if(a.push({id:"created",status:"new",date:e.date,changed_by:(null==(t=e.requester)?void 0:t.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),e.status_history&&e.status_history.length>0&&[...e.status_history].sort((e,t)=>new Date(e.changed_at).getTime()-new Date(t.changed_at).getTime()).forEach((t,n)=>{var s,o;const l=a[a.length-1],c=i(l.date,t.changed_at);let d=t.action,u=r(t.action);"updated"===t.action&&(null==(s=t.new_data)?void 0:s.handling_status)&&(d=t.new_data.handling_status,u=r(t.new_data.handling_status,{assigned_to:null==(o=e.assigned_to)?void 0:o.name}));let h="System";h=55===t.user_id?"DevTest User 1":41===t.user_id?"Regular User QC":57===t.user_id?"DevTest User 2":36===t.user_id?"Super Admin User":37===t.user_id?"Admin User One":40===t.user_id?"Regular User IT":42===t.user_id||56===t.user_id?"Monitor":t.changed_by?t.changed_by:`User ${t.user_id}`,a.push({id:t.id.toString(),status:d,date:t.changed_at,changed_by:h,description:u,duration:c,comments:t.comments,old_data:t.old_data,new_data:t.new_data,isStatusChange:!0})}),(null==(n=e.received_by)?void 0:n.name)&&e.handling_date&&!a.some(e=>{var t,n;return"received"===e.status||(null==(t=e.new_data)?void 0:t.received_by_id)&&"Resolved"===(null==(n=e.new_data)?void 0:n.handling_status)})){const t=a[a.length-1],n=i(t.date,e.handling_date),r={id:"received",status:"received",date:e.handling_date,changed_by:e.received_by.name,description:"Diterima oleh teknisi",duration:n,isManualEvent:!0};a.push(r)}return a.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())})();return h.jsxs("div",{className:"space-y-6",children:[s.map((r,o)=>{const l=a(r.date),c=o===s.length-1,d=(e=>{var t,n,r;return(null==(t=e.new_data)?void 0:t.handling_status)?`Diubah menjadi: ${e.new_data.handling_status}`:(null==(n=e.new_data)?void 0:n.assigned_to_id)?"Ditugaskan ke teknisi":(null==(r=e.new_data)?void 0:r.action_taken)?`Tindakan diambil: ${e.new_data.action_taken.substring(0,50)}...`:null})(r);return h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${n(r.status)}`}),!c&&h.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),h.jsxs("div",{className:"flex-1 pb-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[t(r.status),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:r.status}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.date}),h.jsx("div",{className:"text-xs text-gray-500",children:l.time})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-gray-600",children:[h.jsx("strong",{children:"Changed by:"})," ",r.changed_by]}),r.duration&&"0 days"!==r.duration&&h.jsxs("span",{className:"text-blue-600 font-semibold",children:[" ",r.duration]})]}),r.duration&&"0 days"!==r.duration&&o>0&&h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),d&&h.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:d}),r.comments&&h.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[h.jsx("strong",{children:"Comments:"})," ",r.comments]}),"assigned"===r.status&&e.assigned_to&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Assigned to:"})," ",e.assigned_to.name,e.assigned_to.email&&` (${e.assigned_to.email})`]}),("resolved"===r.status||"closed"===r.status)&&e.action_taken&&h.jsxs("div",{className:"text-xs text-gray-700",children:[h.jsx("strong",{children:"Action taken:"})," ",e.action_taken.substring(0,100),"..."]})]}),c&&h.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),h.jsx("span",{className:"font-bold text-blue-600 text-lg",children:i(e.date,r.date)})]}),h.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",a(e.date).date,"  Current: ",l.date]})]})]})]},r.id)}),"Closed"===e.handling_status&&e.handling_date&&h.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),h.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",i(e.date,e.handling_date)]})]}),h.jsx(id,{className:"w-8 h-8 text-green-500"})]}),h.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:["Created: ",a(e.date).date]}),h.jsxs("div",{children:["Completed: ",a(e.handling_date).date]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("strong",{children:"Timeline:"})," ",s.length," status changes"]})]})]})]})};return h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:h.jsx(Iu,{size:24})})]}),h.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.work_order_no||"No Work Order Number"}),h.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full "+("New"===t.handling_status?"bg-gray-100 text-gray-800 border border-gray-300":"Assigned"===t.handling_status?"bg-blue-100 text-blue-800 border border-blue-300":"In Progress"===t.handling_status?"bg-yellow-100 text-yellow-800 border border-yellow-300":"Resolved"===t.handling_status||"Closed"===t.handling_status?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"),children:t.handling_status||"Unknown Status"})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Created: ",u(t.date)]}),t.handling_date&&h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(ld,{className:"w-4 h-4"}),"Handled: ",u(t.handling_date)]})]})]})})}),h.jsx(p,{title:"General Information",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(m,{label:"Work Order No",value:t.work_order_no||"-",icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Date",value:u(t.date),icon:h.jsx(Yc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Reception Method",value:t.reception_method||"-",icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(m,{label:"Requester",value:(null==(r=t.requester)?void 0:r.name)||"-",icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Known By",value:(null==(i=t.known_by)?void 0:i.name)||"-",icon:h.jsx(gd,{className:"w-4 h-4"})}),h.jsx(m,{label:"Department",value:(null==(a=t.department)?void 0:a.name)||"-",icon:h.jsx(Mu,{className:"w-4 h-4"})})]})}),h.jsx(p,{title:"Service Details",icon:h.jsx(Pu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(m,{label:"Service Type",value:(null==(s=t.service_type)?void 0:s.group_name)||"-",icon:h.jsx(Pu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Service",value:(null==(o=t.service)?void 0:o.service_name)||"-",icon:h.jsx(Pu,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Asset No",value:t.asset_no||"-",icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(m,{label:"Device Info",value:t.device_info||"-",icon:h.jsx(Pu,{className:"w-4 h-4"})}),h.jsx(f,{label:"Complaint",htmlContent:t.complaint||"",icon:h.jsx(ku,{className:"w-4 h-4"}),fullWidth:!0})]})}),h.jsx(p,{title:"Handling Information",icon:h.jsx(ld,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(m,{label:"Status",value:t.handling_status||"-",icon:h.jsx(ld,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Received By",value:(null==(l=t.received_by)?void 0:l.name)||"-",icon:h.jsx(Ou,{className:"w-4 h-4"})}),h.jsx(m,{label:"Assigned To",value:(null==(c=t.assigned_to)?void 0:c.name)||"-",icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"}),h.jsx(m,{label:"Handling Date",value:u(t.handling_date),icon:h.jsx(Yc,{className:"w-4 h-4"})}),h.jsx(f,{label:"Action Taken",htmlContent:t.action_taken||"",icon:h.jsx(id,{className:"w-4 h-4"}),fullWidth:!0}),h.jsx(f,{label:"Remarks",htmlContent:t.remarks||"",icon:h.jsx(Ou,{className:"w-4 h-4"}),fullWidth:!0})]})}),t.status_history&&t.status_history.length>0&&h.jsx(p,{title:"Work Order Timeline",icon:h.jsx(Nd,{className:"w-5 h-5"}),children:h.jsx(g,{workOrder:t})}),h.jsx(p,{title:"Performance Metrics",icon:h.jsx(Xc,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Resolution Time"}),h.jsx("p",{className:"text-lg font-bold text-blue-600",children:t.handling_date&&t.date?`${Math.ceil((new Date(t.handling_date).getTime()-new Date(t.date).getTime())/864e5)} days`:"Ongoing"})]}),h.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Priority Level"}),h.jsx("p",{className:"text-lg font-bold text-green-600",children:(null==(d=t.service)?void 0:d.priority)||"Not Set"})]})]})})]}),h.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:h.jsx(Ac.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},Koe=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(""),[i,a]=x.useState("all"),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[d,u]=x.useState("all"),[p,m]=x.useState(!1),[f,g]=x.useState(1),[b]=x.useState(5),[y,v]=x.useState(window.innerWidth<768),[w,j]=x.useState([]),[N,k]=x.useState(!0),[S,A]=x.useState(null),[C,_]=x.useState(),[E,T]=x.useState(!1),[O,M]=x.useState("30days"),{user:D,getWorkOrdersIT:P,hasPermission:I}=xt(),L=je(),R=ye(),F="/workorders/it"===R.pathname,B="/workorders/it/receiver"===R.pathname,H="/workorders/it/assignment"===R.pathname,z="/workorders/it/reports"===R.pathname,W="/workorders/it/knowledgebase"===R.pathname;x.useEffect(()=>{const e=()=>{v(window.innerWidth<768),window.innerWidth<768&&t(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const U=x.useCallback(async()=>{try{k(!0);const e=await P();j(e)}catch(e){A("Failed to load work orders data")}finally{k(!1)}},[P]);x.useEffect(()=>{U()},[U]);const V=e=>{if(!e.handling_date||!e.date)return 0;const t=new Date(e.date),n=new Date(e.handling_date);return Math.ceil((n.getTime()-t.getTime())/864e5)},$=x.useCallback(()=>{const e=new Date;let t=new Date;switch(O){case"7days":t.setDate(e.getDate()-7);break;case"30days":t.setDate(e.getDate()-30);break;case"90days":t.setDate(e.getDate()-90);break;case"all":t=new Date(0)}return w.filter(e=>{var r,a,o,c,u,h,p,m,f;const g=new Date(e.date)>=t,x=(null==(r=e.work_order_no)?void 0:r.toLowerCase().includes(n.toLowerCase()))||(null==(o=null==(a=e.requester)?void 0:a.name)?void 0:o.toLowerCase().includes(n.toLowerCase()))||(null==(c=e.complaint)?void 0:c.toLowerCase().includes(n.toLowerCase()))||(null==(h=null==(u=e.service)?void 0:u.service_name)?void 0:h.toLowerCase().includes(n.toLowerCase())),b="all"===i||e.handling_status===i,y="all"===s||(null==(p=e.department)?void 0:p.name)===s,v="all"===l||(null==(m=e.service)?void 0:m.priority)===l,w="all"===d||(null==(f=e.service_type)?void 0:f.group_name)===d;return g&&x&&b&&y&&v&&w})},[w,O,n,i,s,l,d])(),q=(()=>{const e=$.filter(e=>["Resolved","Closed"].includes(e.handling_status)),t=$.filter(e=>["New","Assigned","In Progress"].includes(e.handling_status)),n=e.length>0?e.reduce((e,t)=>e+V(t),0)/e.length:0,r=Object.entries($.reduce((e,t)=>{const n=t.handling_status||"Unknown";return e[n]=(e[n]||0)+1,e},{})).map(([e,t])=>({status:e,count:t,percentage:t/$.length*100})),i=Object.entries($.reduce((e,t)=>{var n;const r=(null==(n=t.service)?void 0:n.priority)||"Not Set";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({priority:e,count:t,percentage:t/$.length*100})),a=Object.entries($.reduce((e,t)=>{var n;const r=(null==(n=t.department)?void 0:n.name)||"Unknown";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({dept:e,count:t,percentage:t/$.length*100})).sort((e,t)=>t.count-e.count).slice(0,8),s=Object.entries($.reduce((e,t)=>{var n;const r=(null==(n=t.service_type)?void 0:n.group_name)||"Unknown";return e[r]=(e[r]||0)+1,e},{})).map(([e,t])=>({serviceType:e,count:t,percentage:t/$.length*100})),o=Array.from({length:12},(e,t)=>{const n=new Date;n.setMonth(n.getMonth()-(11-t));const r=n.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),i=$.filter(e=>{const t=new Date(e.date);return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}),a=i.filter(e=>["Resolved","Closed"].includes(e.handling_status));return{month:r,created:i.length,resolved:a.length,resolutionRate:i.length>0?a.length/i.length*100:0}}),l=["New","Assigned","In Progress","Resolved","Closed","Cancel"].map(e=>{const t=$.filter(t=>t.handling_status===e),n=t.length>0?t.reduce((t,n)=>{const r=(n.status_history||[]).find(t=>t.action===e);if(r){const e=(new Date).getTime()-new Date(r.changed_at).getTime();return t+Math.ceil(e/864e5)}return t},0)/t.length:0;return{status:e,avgTimeInStatus:Math.round(n),count:t.length}}),c=Object.entries($.reduce((e,t)=>{var n;const r=(null==(n=t.service_type)?void 0:n.group_name)||"Unknown";if(e[r]||(e[r]=[]),t.handling_date&&t.date){const n=V(t);e[r].push(n)}return e},{})).map(([e,t])=>({serviceType:e,avgResolutionTime:t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):0,totalRequests:t.length,maxResolutionTime:t.length>0?Math.max(...t):0,minResolutionTime:t.length>0?Math.min(...t):0})),d=Object.entries($.reduce((e,t)=>{var n;const r=(null==(n=t.service)?void 0:n.service_name)||"Unknown";if(e[r]||(e[r]=[]),t.handling_date&&t.date){const n=V(t);e[r].push(n)}return e},{})).map(([e,t])=>({service:e,avgResolutionTime:t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):0,totalRequests:t.length})),u=["Critical","High","Medium","Low"].map(e=>{const t=$.filter(t=>{var n;return(null==(n=t.service)?void 0:n.priority)===e}),n=t.filter(e=>["Resolved","Closed"].includes(e.handling_status)&&e.handling_date&&e.date),r=n.length>0?n.reduce((e,t)=>e+V(t),0)/n.length:0;return{priority:e,avgResolutionTime:Math.round(r),total:t.length,resolved:n.length}}),h=Array.from({length:30},(e,t)=>{const n=new Date;return n.setDate(n.getDate()-(29-t)),n.toISOString().split("T")[0]}).map(e=>{const t=$.filter(t=>t.date.startsWith(e)),n=t.filter(e=>["Resolved","Closed"].includes(e.handling_status));return{date:new Date(e).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),created:t.length,resolved:n.length,backlog:t.length-n.length}}),p=Object.entries($.reduce((e,t)=>{var n,r,i,a;const s=(null==(r=null==(n=t.service)?void 0:n.owner)?void 0:r.name)||"Unknown Owner";if(e[s]||(e[s]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),t.handling_date&&t.date){const n=V(t);e[s].workOrders.push({workOrderNo:t.work_order_no,priority:null==(i=t.service)?void 0:i.priority,resolutionTime:n,status:t.handling_status,service:null==(a=t.service)?void 0:a.service_name}),e[s].totalResolutionTime+=n,["Resolved","Closed"].includes(t.handling_status)&&e[s].resolvedCount++}return e},{})).map(([e,t])=>({owner:e,avgResolutionTime:t.resolvedCount>0?Math.round(t.totalResolutionTime/t.resolvedCount):0,totalWorkOrders:t.workOrders.length,resolvedWorkOrders:t.resolvedCount,workOrders:t.workOrders})),m=Object.entries($.reduce((e,t)=>{var n,r,i;const a=(null==(n=t.assigned_to)?void 0:n.name)||"Unassigned";if(e[a]||(e[a]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),t.handling_date&&t.date){const n=V(t);e[a].workOrders.push({workOrderNo:t.work_order_no,priority:null==(r=t.service)?void 0:r.priority,resolutionTime:n,status:t.handling_status,service:null==(i=t.service)?void 0:i.service_name}),e[a].totalResolutionTime+=n,["Resolved","Closed"].includes(t.handling_status)&&e[a].resolvedCount++}return e},{})).map(([e,t])=>({pic:e,avgResolutionTime:t.resolvedCount>0?Math.round(t.totalResolutionTime/t.resolvedCount):0,totalWorkOrders:t.workOrders.length,resolvedWorkOrders:t.resolvedCount,workOrders:t.workOrders}));return{total:$.length,resolved:e.length,active:t.length,avgResolutionTime:Math.round(n),resolutionRate:$.length>0?e.length/$.length*100:0,statusDistribution:r,priorityDistribution:i,departmentDistribution:a,serviceTypeDistribution:s,monthlyTrends:o,statusTimingAnalysis:l,serviceTypePerformance:c,servicePerformance:d,priorityTimingAnalysis:u,dailyTrends:h,serviceOwnerPerformance:p,picPerformance:m}})(),G=[{title:"Total Work Orders",value:q.total.toString(),change:"+12%",icon:h.jsx(bd,{})},{title:"Avg Resolution Time",value:`${q.avgResolutionTime} days`,change:q.avgResolutionTime<5?"-2 days":"+1 day",icon:h.jsx(ld,{})},{title:"Service Types",value:q.serviceTypePerformance.length.toString(),change:"+3%",icon:h.jsx(Ld,{})},{title:"Active Technicians",value:q.picPerformance.filter(e=>"Unassigned"!==e.pic).length.toString(),change:"+2%",icon:h.jsx(Mu,{})}],Y=x.useCallback(()=>{if(I("export_reports")){const e=new lae;e.setFontSize(20),e.setTextColor(40,40,40),e.text("IT WORK ORDER REPORT",105,20,{align:"center"}),e.setFontSize(12),e.setTextColor(100,100,100),e.text(`Generated on: ${(new Date).toLocaleDateString("id-ID")}`,105,30,{align:"center"}),e.text("Time Range: "+("7days"===O?"Last 7 Days":"30days"===O?"Last 30 Days":"90days"===O?"Last 90 Days":"All Time"),105,37,{align:"center"}),e.setFontSize(14),e.setTextColor(40,40,40),e.text("SUMMARY STATISTICS",20,55),e.setFontSize(10),e.setTextColor(80,80,80),e.text(`Total Work Orders: ${q.total}`,20,65),e.text(`Resolved: ${q.resolved}`,20,72),e.text(`Active: ${q.active}`,20,79),e.text(`Average Resolution Time: ${q.avgResolutionTime} days`,20,86),e.text(`Resolution Rate: ${q.resolutionRate.toFixed(1)}%`,20,93),e.setFontSize(14),e.setTextColor(40,40,40),e.text("WORK ORDER DETAILS",20,110),$oe(e,{head:[["WO No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"]],body:$.map(e=>{var t,n,r,i,a;return[e.work_order_no||"-",(null==(t=e.requester)?void 0:t.name)||"-",(null==(n=e.department)?void 0:n.name)||"-",ne(e.date),e.handling_status||"-",(null==(r=e.service)?void 0:r.priority)||"Not Set",(null==(i=e.service_type)?void 0:i.group_name)||"-",(null==(a=e.assigned_to)?void 0:a.name)||"-",e.handling_date?V(e).toString():"Ongoing"]}),startY:115,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:20,right:20}});const t=e.lastAutoTable.finalY+15;t<250&&(e.setFontSize(14),e.setTextColor(40,40,40),e.text("STATUS DISTRIBUTION",20,t),$oe(e,{head:[["Status","Count","Percentage"]],body:q.statusDistribution.map(e=>[e.status,e.count.toString(),`${e.percentage.toFixed(1)}%`]),startY:t+5,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"},margin:{left:20,right:20}}));const n=e.getNumberOfPages();for(let r=1;r<=n;r++)e.setPage(r),e.setFontSize(8),e.setTextColor(150,150,150),e.text(`Page ${r} of ${n}`,105,290,{align:"center"}),e.text("Confidential - IT Department Report",105,295,{align:"center"});e.save(`it-workorder-report-${(new Date).toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[I,$,q,O]),Q=x.useCallback(()=>{if(I("export_reports")){const e=new lae;e.setFillColor(59,130,246),e.rect(0,0,210,297,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.text("IT SERVICE MANAGEMENT",105,100,{align:"center"}),e.setFontSize(18),e.text("COMPREHENSIVE REPORT",105,120,{align:"center"}),e.setFontSize(14),e.text("Period: "+("7days"===O?"Last 7 Days":"30days"===O?"Last 30 Days":"90days"===O?"Last 90 Days":"All Time"),105,150,{align:"center"}),e.text(`Generated: ${(new Date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,105,160,{align:"center"}),e.setFontSize(10),e.text("Confidential Business Document - For Internal Use Only",105,280,{align:"center"}),e.addPage(),e.setFillColor(59,130,246),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.text("EXECUTIVE SUMMARY",105,20,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(12);const t=50;e.text("Performance Overview:",20,t),e.setFontSize(10),e.text(` Total Work Orders Processed: ${q.total}`,25,t+10),e.text(` Successfully Resolved: ${q.resolved} (${q.resolutionRate.toFixed(1)}%)`,25,t+17),e.text(` Average Resolution Time: ${q.avgResolutionTime} days`,25,t+24),e.text(` Active/Pending Work Orders: ${q.active}`,25,t+31),e.text("Key Metrics:",20,t+50),e.text(` Service Types Handled: ${q.serviceTypePerformance.length}`,25,t+60),e.text(` Departments Served: ${q.departmentDistribution.length}`,25,t+67),e.text(` Active Technicians: ${q.picPerformance.filter(e=>"Unassigned"!==e.pic).length}`,25,t+74),e.addPage(),e.setFillColor(59,130,246),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.text("PERFORMANCE ANALYSIS",105,20,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(12),e.text("Service Type Performance:",20,50),$oe(e,{head:[["Service Type","Avg Resolution (Days)","Total Requests"]],body:q.serviceTypePerformance.sort((e,t)=>t.avgResolutionTime-e.avgResolutionTime).map(e=>[e.serviceType,e.avgResolutionTime.toString(),e.totalRequests.toString()]),startY:60,styles:{fontSize:8},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"}});const n=e.lastAutoTable.finalY+15;e.setFontSize(12),e.text("Technician Performance:",20,n),$oe(e,{head:[["Technician","Avg Resolution (Days)","Total Assigned","Resolved"]],body:q.picPerformance.filter(e=>"Unassigned"!==e.pic).sort((e,t)=>t.totalWorkOrders-e.totalWorkOrders).map(e=>[e.pic,e.avgResolutionTime.toString(),e.totalWorkOrders.toString(),e.resolvedWorkOrders.toString()]),startY:n+5,styles:{fontSize:8},headStyles:{fillColor:[245,158,11],textColor:255,fontStyle:"bold"}}),e.addPage(),e.setFillColor(59,130,246),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.text("DETAILED WORK ORDERS",105,20,{align:"center"}),$oe(e,{head:[["Work Order No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"]],body:$.map(e=>{var t,n,r,i,a;return[e.work_order_no||"-",(null==(t=e.requester)?void 0:t.name)||"-",(null==(n=e.department)?void 0:n.name)||"-",ne(e.date),e.handling_status||"-",(null==(r=e.service)?void 0:r.priority)||"Not Set",(null==(i=e.service_type)?void 0:i.group_name)||"-",(null==(a=e.assigned_to)?void 0:a.name)||"-",e.handling_date?V(e).toString():"Ongoing"]}),startY:40,styles:{fontSize:6,cellPadding:1.5},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const r=e.getNumberOfPages();for(let i=1;i<=r;i++)e.setPage(i),e.setFontSize(8),e.setTextColor(150,150,150),e.text(`Page ${i} of ${r}`,105,290,{align:"center"}),e.text("Confidential IT Department Report",105,295,{align:"center"});e.save(`it-detailed-report-${(new Date).toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[I,$,q,O]),K=e=>{switch(null==e?void 0:e.toLowerCase()){case"new":default:return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white"}},J=f*b,X=J-b,Z=$.slice(X,J),ee=Math.ceil($.length/b),te=e=>g(e);x.useEffect(()=>{g(1)},[n,i,s,l,d,O]);const ne=e=>{if(!e)return"-";try{const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return"-"}};return N?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),h.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):S?h.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[h.jsx(ku,{className:"text-red-600 text-5xl"}),h.jsx("p",{className:"ml-4 text-lg text-red-800",children:S}),h.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"IT Work Order - Advanced Analytics",mainTitleHighlight:"Dashboard",description:"Comprehensive performance insights and operational analytics for IT service management.",icon:h.jsx(Xc,{}),isMobile:y,toggleSidebar:()=>{t(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>L("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${F?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>L("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${B?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>L("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${H?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>L("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),h.jsx(Ac.div,{whileTap:{scale:.98},onClick:()=>L("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Service Performance Analytics"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced insights and performance metrics for IT work order management"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs("select",{value:O,onChange:e=>M(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"7days",children:"Last 7 Days"}),h.jsx("option",{value:"30days",children:"Last 30 Days"}),h.jsx("option",{value:"90days",children:"Last 90 Days"}),h.jsx("option",{value:"all",children:"All Time"})]}),I("export_reports")&&h.jsxs(h.Fragment,{children:[h.jsxs(Ac.button,{onClick:Y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[h.jsx(au,{className:"mr-2"})," Export Summary PDF"]}),h.jsxs(Ac.button,{onClick:Q,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-green-600 text-white shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center",children:[h.jsx(au,{className:"mr-2"})," Export Detailed PDF"]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:G.map((e,t)=>h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 hover:shadow-lg transition-shadow duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e.title}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),h.jsxs("p",{className:"mt-2 text-xs font-semibold "+(e.change.startsWith("+")?"text-green-600":"text-red-600"),children:[e.change," from previous period"]})]}),h.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600 text-xl",children:e.icon})]})},e.title))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Nu,{className:"mr-2"})," Monthly Work Order Trends"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(fee,{data:q.monthlyTrends,children:[h.jsx(N8,{strokeDasharray:"3 3"}),h.jsx(c9,{dataKey:"month"}),h.jsx(b9,{}),h.jsx(AG,{}),h.jsx(e9,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Created"}),h.jsx(e9,{type:"monotone",dataKey:"resolved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Resolved"})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(rd,{className:"mr-2"})," Status Distribution"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(mee,{children:[h.jsx(A3,{data:q.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:e,percentage:t})=>`${e}: ${t.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:q.statusDistribution.map((e,t)=>h.jsx(PG,{fill:Yoe[t%Yoe.length]},`cell-${t}`))}),h.jsx(AG,{})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(rd,{className:"mr-2"})," Priority Resolution Time (Days)"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(pee,{data:q.priorityTimingAnalysis,children:[h.jsx(N8,{strokeDasharray:"3 3"}),h.jsx(c9,{dataKey:"priority"}),h.jsx(b9,{}),h.jsx(AG,{formatter:e=>[`${e} days`,"Avg Resolution Time"]}),h.jsx(E6,{dataKey:"avgResolutionTime",fill:"#ff7300",name:"Avg Resolution (Days)"})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Mu,{className:"mr-2"})," Department Distribution"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(pee,{data:q.departmentDistribution,layout:"vertical",children:[h.jsx(N8,{strokeDasharray:"3 3"}),h.jsx(c9,{type:"number"}),h.jsx(b9,{type:"category",dataKey:"dept",width:100}),h.jsx(AG,{}),h.jsx(E6,{dataKey:"count",fill:"#0088FE",name:"Work Orders"})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2"})," Status Timing Analysis"]}),h.jsx("div",{className:"space-y-4",children:q.statusTimingAnalysis.filter(e=>e.count>0).map((e,t)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${K(e.status).split(" ")[0]}`}),h.jsx("span",{className:"font-medium text-sm capitalize",children:e.status})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-semibold",children:[e.avgTimeInStatus,"d avg"]}),h.jsxs("div",{className:"text-xs text-gray-500",children:[e.count," tickets"]})]})]},e.status))})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(wu,{className:"mr-2"})," Service Type Performance (Days to Resolve)"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(pee,{data:q.serviceTypePerformance.sort((e,t)=>t.avgResolutionTime-e.avgResolutionTime).slice(0,8),layout:"vertical",children:[h.jsx(N8,{strokeDasharray:"3 3"}),h.jsx(c9,{type:"number"}),h.jsx(b9,{type:"category",dataKey:"serviceType",width:120}),h.jsx(AG,{formatter:e=>[`${e} days`,"Avg Resolution Time"]}),h.jsx(E6,{dataKey:"avgResolutionTime",fill:"#0088FE",name:"Avg Days to Resolve",children:q.serviceTypePerformance.map((e,t)=>h.jsx(PG,{fill:e.avgResolutionTime>10?"#FF8042":e.avgResolutionTime>5?"#FFBB28":"#00C49F"},`cell-${t}`))})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Nu,{className:"mr-2"})," Daily Work Order Trends (30 Days)"]}),h.jsx(DG,{width:"100%",height:300,children:h.jsxs(hee,{data:q.dailyTrends,children:[h.jsx(N8,{strokeDasharray:"3 3"}),h.jsx(c9,{dataKey:"date"}),h.jsx(b9,{}),h.jsx(AG,{}),h.jsx(Aq,{}),h.jsx(B8,{type:"monotone",dataKey:"created",stroke:"#8884d8",name:"Created",strokeWidth:2}),h.jsx(B8,{type:"monotone",dataKey:"resolved",stroke:"#82ca9d",name:"Resolved",strokeWidth:2})]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Ou,{className:"mr-2"})," Service Owner Performance"]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:q.serviceOwnerPerformance.sort((e,t)=>t.totalWorkOrders-e.totalWorkOrders).map((e,t)=>h.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900",children:e.owner}),h.jsxs("p",{className:"text-sm text-gray-600",children:[e.totalWorkOrders," work orders"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[e.avgResolutionTime," days avg"]}),h.jsxs("div",{className:"text-sm text-gray-500",children:[e.resolvedWorkOrders," resolved"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[e.workOrders.slice(0,3).map((e,t)=>h.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[h.jsx("span",{className:"font-medium",children:e.workOrderNo}),h.jsx("span",{className:"px-2 py-1 rounded text-xs "+("Critical"===e.priority?"bg-red-100 text-red-800":"High"===e.priority?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:e.priority}),h.jsxs("span",{children:[e.resolutionTime,"d"]})]},t)),e.workOrders.length>3&&h.jsxs("div",{className:"text-center text-gray-500 text-xs",children:["+",e.workOrders.length-3," more work orders"]})]})]},e.owner))})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Mu,{className:"mr-2"})," Technician Performance"]}),h.jsx("div",{className:"space-y-3",children:q.picPerformance.filter(e=>"Unassigned"!==e.pic).sort((e,t)=>t.totalWorkOrders-e.totalWorkOrders).slice(0,6).map((e,t)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-3"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-sm",children:e.pic}),h.jsxs("div",{className:"text-xs text-gray-500",children:[e.totalWorkOrders," orders  ",e.avgResolutionTime,"d avg"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-semibold",children:[e.resolvedWorkOrders,"/",e.totalWorkOrders]}),h.jsx("div",{className:"text-xs text-gray-500",children:"resolved"})]})]},e.pic))})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[h.jsxs("div",{className:"relative w-full md:w-1/3",children:[h.jsx(pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",placeholder:"Search work orders...",value:n,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsxs("select",{value:i,onChange:e=>a(e.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Statuses"}),h.jsx("option",{value:"New",children:"New"}),h.jsx("option",{value:"Assigned",children:"Assigned"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Escalated",children:"Escalated"}),h.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),h.jsx("option",{value:"Resolved",children:"Resolved"}),h.jsx("option",{value:"Cancel",children:"Cancel"}),h.jsx("option",{value:"Closed",children:"Closed"})]}),h.jsx(Zc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsxs("select",{value:s,onChange:e=>o(e.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(w.map(e=>{var t;return null==(t=e.department)?void 0:t.name}).filter(Boolean))).map(e=>h.jsx("option",{value:e,children:e},e))]}),h.jsx(Zc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),h.jsxs("div",{className:"relative w-full sm:w-auto",children:[h.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[h.jsx("option",{value:"all",children:"All Priorities"}),h.jsx("option",{value:"Critical",children:"Critical"}),h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"Low",children:"Low"})]}),h.jsx(Zc,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),h.jsxs(Ac.button,{onClick:()=>m(!p),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[h.jsx(jd,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),h.jsx(Da,{children:p&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),h.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"all",children:"All Service Types"}),Array.from(new Set(w.map(e=>{var t;return null==(t=e.service_type)?void 0:t.group_name}).filter(Boolean))).map(e=>h.jsx("option",{value:e,children:e},e))]})]})})})})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order Analytics"}),0===Z.length?h.jsxs("div",{className:"text-center py-10 text-gray-500",children:[h.jsx(bd,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),h.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resolution Time"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.jsx(Da,{children:Z.map((e,t)=>{var n,r,i,a,s,o,l;return h.jsxs(Ac.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X+t+1}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:e.work_order_no}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(null==(n=e.requester)?void 0:n.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(null==(r=e.department)?void 0:r.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ne(e.date)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-bold rounded-full "+("Critical"===(null==(i=e.service)?void 0:i.priority)?"bg-red-100 text-red-800":"High"===(null==(a=e.service)?void 0:a.priority)?"bg-orange-100 text-orange-800":"Medium"===(null==(s=e.service)?void 0:s.priority)?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:(null==(o=e.service)?void 0:o.priority)||"Not Set"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${K(e.handling_status)}`,children:e.handling_status||"Unknown"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(null==(l=e.assigned_to)?void 0:l.name)||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.handling_date?`${V(e)} days`:"Ongoing"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs(Ac.button,{onClick:()=>(e=>{_(e),T(!0)})(e),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[h.jsx(gd,{className:"mr-1",size:16})," View"]})})]},e.id)})})})]}),$.length>b&&h.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[h.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[h.jsx(Ac.button,{onClick:()=>te(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),h.jsx(Ac.button,{onClick:()=>te(f+1),disabled:f===ee,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",h.jsx("span",{className:"font-medium",children:X+1})," to ",h.jsx("span",{className:"font-medium",children:Math.min(J,$.length)})," of"," ",h.jsx("span",{className:"font-medium",children:$.length})," results"]})}),h.jsx("div",{children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsxs(Ac.button,{onClick:()=>te(f-1),disabled:1===f,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[h.jsx("span",{className:"sr-only",children:"Previous"}),h.jsx(ed,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ee)].map((e,t)=>h.jsx(Ac.button,{onClick:()=>te(t+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium "+(f===t+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:t+1},t)),h.jsxs(Ac.button,{onClick:()=>te(f+1),disabled:f===ee,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[h.jsx("span",{className:"sr-only",children:"Next"}),h.jsx(td,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),h.jsx(Qoe,{isOpen:E,onClose:()=>{T(!1),_(void 0)},workOrder:C})]})};var Joe,Xoe,Zoe,ele,tle,nle,rle,ile,ale,sle={},ole=[],lle=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function cle(e,t){for(var n in t)e[n]=t[n];return e}function dle(e){var t=e.parentNode;t&&t.removeChild(e)}function ule(e,t,n){var r,i,a,s={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?Joe.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return hle(e,s,r,i,null)}function hle(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++Zoe:i};return null==i&&null!=Xoe.vnode&&Xoe.vnode(a),a}function ple(e){return e.children}function mle(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||lle.test(t)?n:n+"px"}function fle(e,t,n,r,i){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||mle(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||mle(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?xle:gle,a):e.removeEventListener(t,a?xle:gle,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(s){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function gle(e){tle=!0;try{return this.l[e.type+!1](Xoe.event?Xoe.event(e):e)}finally{tle=!1}}function xle(e){tle=!0;try{return this.l[e.type+!0](Xoe.event?Xoe.event(e):e)}finally{tle=!1}}function ble(e,t){this.props=e,this.context=t}function yle(e,t){if(null==t)return e.__?yle(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?yle(e):null}function vle(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return vle(e)}}function wle(e){tle?setTimeout(e):ile(e)}function jle(e){(!e.__d&&(e.__d=!0)&&nle.push(e)&&!Nle.__r++||rle!==Xoe.debounceRendering)&&((rle=Xoe.debounceRendering)||wle)(Nle)}function Nle(){var e,t,n,r,i,a,s,o;for(nle.sort(function(e,t){return e.__v.__b-t.__v.__b});e=nle.shift();)e.__d&&(t=nle.length,r=void 0,i=void 0,s=(a=(n=e).__v).__e,(o=n.__P)&&(r=[],(i=cle({},a)).__v=a.__v+1,Ele(o,a,i,n.__n,void 0!==o.ownerSVGElement,null!=a.__h?[s]:null,r,null==s?yle(a):s,a.__h),Tle(r,a),a.__e!=s&&vle(a)),nle.length>t&&nle.sort(function(e,t){return e.__v.__b-t.__v.__b}));Nle.__r=0}function kle(e,t,n,r,i,a,s,o,l,c){var d,u,h,p,m,f,g,x=r&&r.__k||ole,b=x.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(p=n.__k[d]=null==(p=t[d])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?hle(null,p,null,null,p):Array.isArray(p)?hle(ple,{children:p},null,null,null):p.__b>0?hle(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(h=x[d])||h&&p.key==h.key&&p.type===h.type)x[d]=void 0;else for(u=0;u<b;u++){if((h=x[u])&&p.key==h.key&&p.type===h.type){x[u]=void 0;break}h=null}Ele(e,p,h=h||sle,i,a,s,o,l,c),m=p.__e,(u=p.ref)&&h.ref!=u&&(g||(g=[]),h.ref&&g.push(h.ref,null,p),g.push(u,p.__c||m,p)),null!=m?(null==f&&(f=m),"function"==typeof p.type&&p.__k===h.__k?p.__d=l=Sle(p,l,e):l=Cle(e,p,h,x,m,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=yle(h))}for(n.__e=f,d=b;d--;)null!=x[d]&&("function"==typeof n.type&&null!=x[d].__e&&x[d].__e==n.__d&&(n.__d=_le(r).nextSibling),Mle(x[d],x[d]));if(g)for(d=0;d<g.length;d++)Ole(g[d],g[++d],g[++d])}function Sle(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t="function"==typeof r.type?Sle(r,t,n):Cle(n,r,r,i,r.__e,t));return t}function Ale(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){Ale(e,t)}):t.push(e)),t}function Cle(e,t,n,r,i,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<r.length;l+=1)if(o==i)break e;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function _le(e){var t,n,r;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=_le(n)))return r;return null}function Ele(e,t,n,r,i,a,s,o,l){var c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,o=t.__e=n.__e,t.__h=null,a=[o]),(c=Xoe.__b)&&c(t);try{e:if("function"==typeof k){if(g=t.props,x=(c=k.contextType)&&r[c.__c],b=c?x?x.props.value:c.__:r,n.__c?f=(d=t.__c=n.__c).__=d.__E:("prototype"in k&&k.prototype.render?t.__c=d=new k(g,b):(t.__c=d=new ble(g,b),d.constructor=k,d.render=Dle),x&&x.sub(d),d.props=g,d.state||(d.state={}),d.context=b,d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=k.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=cle({},d.__s)),cle(d.__s,k.getDerivedStateFromProps(g,d.__s))),h=d.props,p=d.state,d.__v=t,u)null==k.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==k.getDerivedStateFromProps&&g!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,b)||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=b,d.props=g,d.__P=e,v=Xoe.__r,w=0,"prototype"in k&&k.prototype.render){for(d.state=d.__s,d.__d=!1,v&&v(t),c=d.render(d.props,d.state,d.context),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[]}else do{d.__d=!1,v&&v(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++w<25);d.state=d.__s,null!=d.getChildContext&&(r=cle(cle({},r),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(h,p)),N=null!=c&&c.type===ple&&null==c.key?c.props.children:c,kle(e,Array.isArray(N)?N:[N],t,n,r,i,a,s,o,l),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),f&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,a,s,o){var l,c,d,u=n.props,h=t.props,p=t.type,m=0;if("svg"===p&&(i=!0),null!=a)for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){e=l,a[m]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),a=null,o=!1}if(null===p)u===h||o&&e.data===h||(e.data=h);else{if(a=a&&Joe.call(e.childNodes),c=(u=n.props||sle).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(null!=a)for(u={},m=0;m<e.attributes.length;m++)u[e.attributes[m].name]=e.attributes[m].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,r,i){var a;for(a in n)"children"===a||"key"===a||a in t||fle(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||fle(e,a,t[a],n[a],r)}(e,h,u,i,o),d)t.__k=[];else if(m=t.props.children,kle(e,Array.isArray(m)?m:[m],t,n,r,i&&"foreignObject"!==p,a,s,a?a[0]:n.__k&&yle(n,0),o),null!=a)for(m=a.length;m--;)null!=a[m]&&dle(a[m]);o||("value"in h&&void 0!==(m=h.value)&&(m!==e.value||"progress"===p&&!m||"option"===p&&m!==u.value)&&fle(e,"value",m,u.value,!1),"checked"in h&&void 0!==(m=h.checked)&&m!==e.checked&&fle(e,"checked",m,u.checked,!1))}return e}(n.__e,t,n,r,i,a,s,l);(c=Xoe.diffed)&&c(t)}catch(S){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),Xoe.__e(S,t,n)}}function Tle(e,t){Xoe.__c&&Xoe.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(n){Xoe.__e(n,t.__v)}})}function Ole(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(r){Xoe.__e(r,n)}}function Mle(e,t,n){var r,i;if(Xoe.unmount&&Xoe.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ole(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Xoe.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Mle(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||dle(e.__e),e.__=e.__e=e.__d=void 0}function Dle(e,t,n){return this.constructor(e,n)}function Ple(e,t,n){var r,i;Xoe.__&&Xoe.__(e,t),r=t.__k,i=[],Ele(t,e=t.__k=ule(ple,null,[e]),r||sle,sle,void 0!==t.ownerSVGElement,r?null:t.firstChild?Joe.call(t.childNodes):null,i,r?r.__e:t.firstChild,!1),Tle(i,e)}Joe=ole.slice,Xoe={__e:function(e,t,n,r){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(o){e=o}throw e}},Zoe=0,ele=function(e){return null!=e&&void 0===e.constructor},tle=!1,ble.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=cle({},this.state),"function"==typeof e&&(e=e(cle({},n),this.props)),e&&cle(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),jle(this))},ble.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),jle(this))},ble.prototype.render=ple,nle=[],ile="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Nle.__r=0,ale=0;var Ile,Lle,Rle,Fle=[],Ble=[],Hle=Xoe.__b,zle=Xoe.__r,Wle=Xoe.diffed,Ule=Xoe.__c,Vle=Xoe.unmount;function $le(){for(var e;e=Fle.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Yle),e.__H.__h.forEach(Qle),e.__H.__h=[]}catch(t){e.__H.__h=[],Xoe.__e(t,e.__v)}}Xoe.__b=function(e){Ile=null,Hle&&Hle(e)},Xoe.__r=function(e){zle&&zle(e);var t=(Ile=e.__c).__H;t&&(Lle===Ile?(t.__h=[],Ile.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=Ble,e.__N=e.i=void 0})):(t.__h.forEach(Yle),t.__h.forEach(Qle),t.__h=[])),Lle=Ile},Xoe.diffed=function(e){Wle&&Wle(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Fle.push(t)&&Rle===Xoe.requestAnimationFrame||((Rle=Xoe.requestAnimationFrame)||Gle)($le)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==Ble&&(e.__=e.__V),e.i=void 0,e.__V=Ble})),Lle=Ile=null},Xoe.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Yle),e.__h=e.__h.filter(function(e){return!e.__||Qle(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],Xoe.__e(n,e.__v)}}),Ule&&Ule(e,t)},Xoe.unmount=function(e){Vle&&Vle(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Yle(e)}catch(n){t=n}}),n.__H=void 0,t&&Xoe.__e(t,n.__v))};var qle="function"==typeof requestAnimationFrame;function Gle(e){var t,n=function(){clearTimeout(r),qle&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);qle&&(t=requestAnimationFrame(n))}function Yle(e){var t=Ile,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Ile=t}function Qle(e){var t=Ile;e.__c=e.__(),Ile=t}function Kle(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Jle(e){this.props=e}(Jle.prototype=new ble).isPureReactComponent=!0,Jle.prototype.shouldComponentUpdate=function(e,t){return Kle(this.props,e)||Kle(this.state,t)};var Xle=Xoe.__b;Xoe.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Xle&&Xle(e)};var Zle=Xoe.__e;Xoe.__e=function(e,t,n,r){if(e.then)for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);Zle(e,t,n,r)};var ece=Xoe.unmount;function tce(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=function(e,t){for(var n in t)e[n]=t[n];return e}({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return tce(e,t,n)})),e}function nce(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return nce(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function rce(){this.__u=0,this.t=null,this.__b=null}function ice(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ace(){this.u=null,this.o=null}Xoe.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),ece&&ece(e)},(rce.prototype=new ble).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=ice(r.__v),a=!1,s=function(){a||(a=!0,n.__R=null,i?i(o):o())};n.__R=s;var o=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=nce(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},rce.prototype.componentWillUnmount=function(){this.t=[]},rce.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=tce(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&ule(ple,null,e.fallback);return i&&(i.__h=null),[ule(ple,null,t.__a?null:e.children),i]};var sce=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function oce(e){return this.getChildContext=function(){return e.context},e.children}function lce(e){var t=this,n=e.i;t.componentWillUnmount=function(){Ple(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Ple(ule(oce,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(ace.prototype=new ble).__a=function(e){var t=this,n=ice(t.__v),r=t.o.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),sce(t,e,r)):i()};n?n(a):a()}},ace.prototype.render=function(e){this.u=null,this.o=new Map;var t=Ale(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ace.prototype.componentDidUpdate=ace.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){sce(e,n,t)})};var cce="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,dce=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uce="undefined"!=typeof document,hce=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};ble.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ble.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var pce=Xoe.event;function mce(){}function fce(){return this.cancelBubble}function gce(){return this.defaultPrevented}Xoe.event=function(e){return pce&&(e=pce(e)),e.persist=mce,e.isPropagationStopped=fce,e.isDefaultPrevented=gce,e.nativeEvent=e};var xce={configurable:!0,get:function(){return this.class}},bce=Xoe.vnode;Xoe.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var a in r={},n){var s=n[a];uce&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==s||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===s?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!hce(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&dce.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Ale(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=Ale(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(xce.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",xce))}e.$$typeof=cce,bce&&bce(e)};var yce=Xoe.__r;Xoe.__r=function(e){yce&&yce(e),e.__c};const vce=[],wce=new Map;function jce(e){vce.push(e),wce.forEach(t=>{kce(t,e)})}function Nce(e){let t=wce.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=(void 0===Sce&&(Sce=function(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}()),Sce);n&&(t.nonce=n);const r=e===document?document.head:e,i=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,i)}wce.set(e,t),function(e){for(const t of vce)kce(e,t)}(t)}}function kce(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)})}let Sce;"undefined"!=typeof document&&Nce(document),jce(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class Ace{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Cce(e){e.parentNode&&e.parentNode.removeChild(e)}function _ce(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(Ece(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function Ece(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}const Tce=/(top|left|right|bottom|width|height)$/i;function Oce(e,t){for(let n in t)Mce(e,n,t[n])}function Mce(e,t,n){null==n?e.style[t]="":"number"==typeof n&&Tce.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function Dce(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}let Pce=0;function Ice(){return Pce+=1,"fc-dom-"+Pce}function Lce(e){e.preventDefault()}function Rce(e,t,n,r){let i=function(e,t){return n=>{let r=_ce(n.target,e);r&&t.call(r,n,r)}}(n,r);return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}const Fce=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Bce(e){return Object.assign({onClick:e},Hce(e))}function Hce(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let zce=0;function Wce(){return zce+=1,String(zce)}function Uce(){document.body.classList.add("fc-not-allowed")}function Vce(){document.body.classList.remove("fc-not-allowed")}function $ce(e,t,n){return n.func?n.func(e,t):(r=e[n.field],i=t[n.field],(r||i?null==i?-1:null==r?1:"string"==typeof r||"string"==typeof i?String(r).localeCompare(String(i)):r-i:0)*(n.order||1));var r,i}function qce(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function Gce(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,n)=>e.replace("$"+n,t||""),e):n}function Yce(e,t){return e-t}function Qce(e){return e%1==0}function Kce(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const Jce=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Xce(e,t){return"string"==typeof e?function(e){let t=Jce.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?Zce(e):"number"==typeof e?Zce({[t||"milliseconds"]:e}):null}function Zce(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function ede(e){return tde(e)/864e5}function tde(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function nde(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function rde(e,t,n){if(e===t)return!0;let r,i=e.length;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const ide=["sun","mon","tue","wed","thu","fri","sat"];function ade(e,t){let n=fde(e);return n[2]+=7*t,gde(n)}function sde(e,t){let n=fde(e);return n[2]+=t,gde(n)}function ode(e,t){let n=fde(e);return n[6]+=t,gde(n)}function lde(e,t){return(t.valueOf()-e.valueOf())/864e5}function cde(e,t){return bde(e)===bde(t)?Math.round(lde(e,t)):null}function dde(e){return gde([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function ude(e,t,n,r){let i=gde([t,0,1+hde(t,n,r)]),a=dde(e),s=Math.round(lde(i,a));return Math.floor(s/7)+1}function hde(e,t,n){let r=7+t-n;return-(7+gde([e,0,r]).getUTCDay()-t)%7+r-1}function pde(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function mde(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function fde(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function gde(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function xde(e){return!isNaN(e.valueOf())}function bde(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function yde(e){return e.toISOString().replace(/T.*$/,"")}function vde(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=Math.round(r%60);return t?`${n+qce(i,2)}:${qce(a,2)}`:`GMT${n}${i}${a?`:${qce(a,2)}`:""}`}function wde(e,t,n){let r,i;return function(...n){if(r){if(!rde(r,n)){let r=e.apply(this,n);t&&t(r,i)||(i=r)}}else i=e.apply(this,n);return r=n,i}}function jde(e,t,n){let r,i;return t=>{if(r){if(!eue(r,t)){let n=e.call(this,t);i=n}}else i=e.call(this,t);return r=t,i}}const Nde={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},kde={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Sde=/\s*([ap])\.?m\.?/i,Ade=/,/g,Cde=/\s+/g,_de=/\u200e/g,Ede=/UTC|GMT/;class Tde{constructor(e){let t={},n={},r=9;for(let i in e)i in Nde?(n[i]=e[i],Nde[i]<9&&(r=Math.min(Nde[i],r))):(t[i]=e[i],i in kde&&(r=Math.min(kde[i],r)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=wde(Ode)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:i,extendedSettings:a}=this,s=(o=e.marker,l=t.marker,(c=n.calendarSystem).getMarkerYear(o)!==c.getMarkerYear(l)?5:c.getMarkerMonth(o)!==c.getMarkerMonth(l)?4:c.getMarkerDay(o)!==c.getMarkerDay(l)?2:bde(o)!==bde(l)?1:0);var o,l,c;if(!s)return this.format(e,n);let d=s;!(d>1)||"numeric"!==i.year&&"2-digit"!==i.year||"numeric"!==i.month&&"2-digit"!==i.month||"numeric"!==i.day&&"2-digit"!==i.day||(d=1);let u=this.format(e,n),h=this.format(t,n);if(u===h)return u;let p=Ode(function(e,t){let n={};for(let r in e)(!(r in kde)||kde[r]<=t)&&(n[r]=e[r]);return n}(i,d),a,n),m=p(e),f=p(t),g=function(e,t,n,r){let i=0;for(;i<e.length;){let a=e.indexOf(t,i);if(-1===a)break;let s=e.substr(0,a);i=a+t.length;let o=e.substr(i),l=0;for(;l<n.length;){let e=n.indexOf(r,l);if(-1===e)break;let t=n.substr(0,e);l=e+r.length;let i=n.substr(l);if(s===t&&o===i)return{before:s,after:o}}}return null}(u,m,h,f),x=a.separator||r||n.defaultSeparator||"";return g?g.before+m+x+f+g.after:u+x+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Ode(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>vde(e.timeZoneOffset):0===r&&t.week?e=>function(e,t,n,r,i){let a=[];return"long"===i?a.push(n):"short"!==i&&"narrow"!==i||a.push(t),"long"!==i&&"short"!==i||a.push(" "),a.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&a.reverse(),a.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week):function(e,t,n){e=Object.assign({},e),t=Object.assign({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";let r,i=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,r=new Intl.DateTimeFormat(n.locale.codes,t)}return a=>{let s,{marker:o}=a;return s=r&&!o.getUTCMinutes()?r:i,function(e,t,n,r,i){return e=e.replace(_de,""),"short"===n.timeZoneName&&(e=function(e,t){let n=!1;return e=e.replace(Ede,()=>(n=!0,t)),n||(e+=` ${t}`),e}(e,"UTC"===i.timeZone||null==t.timeZoneOffset?"UTC":vde(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(Ade,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),!1===r.meridiem?e=e.replace(Sde,"").trim():"narrow"===r.meridiem?e=e.replace(Sde,(e,t)=>t.toLocaleLowerCase()):"short"===r.meridiem?e=e.replace(Sde,(e,t)=>`${t.toLocaleLowerCase()}m`):"lowercase"===r.meridiem&&(e=e.replace(Sde,e=>e.toLocaleLowerCase())),e=(e=e.replace(Cde," ")).trim()}(s.format(o),a,e,t,n)}}(e,t,n)}function Mde(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Dde(e,t,n,r){let i=Mde(e,n.calendarSystem);return{date:i,start:i,end:t?Mde(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class Pde{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,Dde(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,Dde(e,t,n,r))}}class Ide{constructor(e){this.func=e}format(e,t,n){return this.func(Dde(e,null,t,n))}formatRange(e,t,n,r){return this.func(Dde(e,t,n,r))}}function Lde(e){return"object"==typeof e&&e?new Tde(e):"string"==typeof e?new Pde(e):"function"==typeof e?new Ide(e):null}const Rde={navLinkDayClick:Gde,navLinkWeekClick:Gde,duration:Xce,bootstrapFontAwesome:Gde,buttonIcons:Gde,customButtons:Gde,defaultAllDayEventDuration:Xce,defaultTimedEventDuration:Xce,nextDayThreshold:Xce,scrollTime:Xce,scrollTimeReset:Boolean,slotMinTime:Xce,slotMaxTime:Xce,dayPopoverFormat:Lde,slotDuration:Xce,snapDuration:Xce,headerToolbar:Gde,footerToolbar:Gde,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Lde,dayHeaderClassNames:Gde,dayHeaderContent:Gde,dayHeaderDidMount:Gde,dayHeaderWillUnmount:Gde,dayCellClassNames:Gde,dayCellContent:Gde,dayCellDidMount:Gde,dayCellWillUnmount:Gde,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Gde,weekNumbers:Boolean,weekNumberClassNames:Gde,weekNumberContent:Gde,weekNumberDidMount:Gde,weekNumberWillUnmount:Gde,editable:Boolean,viewClassNames:Gde,viewDidMount:Gde,viewWillUnmount:Gde,nowIndicator:Boolean,nowIndicatorSnap:Gde,nowIndicatorClassNames:Gde,nowIndicatorContent:Gde,nowIndicatorDidMount:Gde,nowIndicatorWillUnmount:Gde,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Gde,locale:Gde,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Gde,eventOrder:function(e){let t,n,r=[],i=[];for("string"==typeof e?i=e.split(/\s*,\s*/):"function"==typeof e?i=[e]:Array.isArray(e)&&(i=e),t=0;t<i.length;t+=1)n=i[t],"string"==typeof n?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Gde,contentHeight:Gde,direction:String,weekNumberFormat:Lde,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Gde,initialDate:Gde,now:Gde,eventDataTransform:Gde,stickyHeaderDates:Gde,stickyFooterScrollbar:Gde,viewHeight:Gde,defaultAllDay:Boolean,eventSourceFailure:Gde,eventSourceSuccess:Gde,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Gde,eventConstraint:Gde,eventAllow:Gde,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Gde,eventContent:Gde,eventDidMount:Gde,eventWillUnmount:Gde,selectConstraint:Gde,selectOverlap:Gde,selectAllow:Gde,droppable:Boolean,unselectCancel:String,slotLabelFormat:Gde,slotLaneClassNames:Gde,slotLaneContent:Gde,slotLaneDidMount:Gde,slotLaneWillUnmount:Gde,slotLabelClassNames:Gde,slotLabelContent:Gde,slotLabelDidMount:Gde,slotLabelWillUnmount:Gde,dayMaxEvents:Gde,dayMaxEventRows:Gde,dayMinWidth:Number,slotLabelInterval:Xce,allDayText:String,allDayClassNames:Gde,allDayContent:Gde,allDayDidMount:Gde,allDayWillUnmount:Gde,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Lde,rerenderDelay:Number,moreLinkText:Gde,moreLinkHint:Gde,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Gde,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Xce,hiddenDays:Gde,fixedWeekCount:Boolean,validRange:Gde,visibleRange:Gde,titleFormat:Gde,eventInteractive:Boolean,noEventsText:String,viewHint:Gde,navLinkHint:Gde,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Gde,moreLinkClassNames:Gde,moreLinkContent:Gde,moreLinkDidMount:Gde,moreLinkWillUnmount:Gde,monthStartFormat:Lde,handleCustomRendering:Gde,customRenderingMetaMap:Gde,customRenderingReplaces:Boolean},Fde={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},Bde={datesSet:Gde,eventsSet:Gde,eventAdd:Gde,eventChange:Gde,eventRemove:Gde,windowResize:Gde,eventClick:Gde,eventMouseEnter:Gde,eventMouseLeave:Gde,select:Gde,unselect:Gde,loading:Gde,_unmount:Gde,_beforeprint:Gde,_afterprint:Gde,_noEventDrop:Gde,_noEventResize:Gde,_resize:Gde,_scrollRequest:Gde},Hde={buttonText:Gde,buttonHints:Gde,views:Gde,plugins:Gde,initialEvents:Gde,events:Gde,eventSources:Gde},zde={headerToolbar:Wde,footerToolbar:Wde,buttonText:Wde,buttonHints:Wde,buttonIcons:Wde,dateIncrement:Wde,plugins:Ude,events:Ude,eventSources:Ude,resources:Ude};function Wde(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?eue(e,t):e===t}function Ude(e,t){return Array.isArray(e)&&Array.isArray(t)?rde(e,t):e===t}const Vde={type:String,component:Gde,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Gde,usesMinMaxTime:Boolean,classNames:Gde,content:Gde,didMount:Gde,willUnmount:Gde};function $de(e){return Qde(e,zde)}function qde(e,t){let n={},r={};for(let i in t)i in e&&(n[i]=t[i](e[i]));for(let i in e)i in t||(r[i]=e[i]);return{refined:n,extra:r}}function Gde(e){return e}const{hasOwnProperty:Yde}=Object.prototype;function Qde(e,t){let n={};if(t)for(let r in t)if(t[r]===Wde){let t=[];for(let i=e.length-1;i>=0;i-=1){let a=e[i][r];if("object"==typeof a&&a)t.unshift(a);else if(void 0!==a){n[r]=a;break}}t.length&&(n[r]=Qde(t))}for(let r=e.length-1;r>=0;r-=1){let t=e[r];for(let e in t)e in n||(n[e]=t[e])}return n}function Kde(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function Jde(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function Xde(e){let t={};for(let n of e)t[n]=!0;return t}function Zde(e){let t=[];for(let n in e)t.push(e[n]);return t}function eue(e,t){if(e===t)return!0;for(let n in e)if(Yde.call(e,n)&&!(n in t))return!1;for(let n in t)if(Yde.call(t,n)&&e[n]!==t[n])return!1;return!0}const tue=/^on[A-Z]/;function nue(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e)||!rue(e[r],t[r],n[r]))return!1;for(let r in e)if(!(r in t))return!1;return!0}function rue(e,t,n){return e===t||!0===n||!!n&&n(e,t)}let iue={};var aue;aue=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return gde(e)}markerToArray(e){return fde(e)}},iue.gregory=aue;const sue=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class oue{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new iue[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):gde(pde(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=gde(e)),null!==t&&xde(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=sue.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(xde(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return bde(e)===bde(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return bde(e)===bde(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),null!==n?{unit:"month",value:n}:(n=function(e,t){let n=cde(e,t);return null!==n&&n%7==0?n/7:null}(e,t),null!==n?{unit:"week",value:n}:(n=cde(e,t),null!==n?{unit:"day",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),Qce(n)?{unit:"hour",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),Qce(n)?{unit:"minute",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),Qce(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),null!==r)?r/(ede(n)/365):n.months&&(r=this.diffWholeMonths(e,t),null!==r)?r/(ede(n)/30):n.days&&(r=cde(e,t),null!==r)?r/ede(n):(t.valueOf()-e.valueOf())/tde(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?dde(e):"hour"===t?function(e){return gde([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return gde([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return gde([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let r=e.getUTCFullYear(),i=ude(e,r,t,n);if(i<1)return ude(e,r-1,t,n);let a=ude(e,r+1,t,n);return a>=1?Math.min(i,a):i}(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=ode(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),function(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",vde(t,!0)))),r}(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?gde(pde(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?gde(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-mde(fde(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(fde(e)):null}toDate(e,t){return"local"===this.timeZone?mde(fde(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(fde(e))*60):new Date(e.valueOf()-(t||0))}}class lue{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function cue(e){e();let t=Xoe.debounceRendering,n=[];for(Xoe.debounceRendering=function(e){n.push(e)},Ple(ule(due,{}),document.createElement("div"));n.length;)n.shift()();Xoe.debounceRendering=t}lue.prototype.classes={},lue.prototype.iconClasses={},lue.prototype.baseIconClass="",lue.prototype.iconOverridePrefix="";class due extends ble{render(){return ule("div",{})}componentDidMount(){this.setState({})}}function uue(e){let t=(r={__c:n="__cC"+ale++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var t,r;return this.getChildContext||(t=[],(r={})[n]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(function(e){e.__e=!0,jle(e)})},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}}).Provider.__=r.Consumer.contextType=r;var n,r;let i=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=i.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}class hue{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const pue=uue({});function mue(e,t,n,r,i,a,s,o,l,c,d,u,h,p){return{dateEnv:i,nowManager:a,options:n,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:c,calendarApi:u,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:s,isRtl:"rtl"===n.direction,addResizeHandler(e){d.on("_resize",e)},removeResizeHandler(e){d.off("_resize",e)},createScrollResponder:e=>new hue(e,d,Xce(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class fue extends ble{shouldComponentUpdate(e,t){return!nue(this.props,e,this.propEquality)||!nue(this.state,t,this.stateEquality)}safeSetState(e){nue(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}fue.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},fue.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},fue.contextType=pue,fue.prototype.propEquality={},fue.prototype.stateEquality={};class gue extends fue{}function xue(e,t){"function"==typeof e?e(t):e&&(e.current=t)}gue.contextType=pue;class bue extends gue{constructor(){super(...arguments),this.id=Wce(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;t.customRenderingReplaces&&yue(n,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&xue(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:i,renderProps:a}=e,s=vue(e,[],this.handleEl);let o,l,c=!1,d=[];if(null!=r){const e="function"==typeof r?r(a,ule):r;if(!0===e)c=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?s.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?d=Array.prototype.slice.call(e.domNodes):(t?ele(e):"function"!=typeof e)?o=e:l=e}}else c=!yue(e.generatorName,n);return c&&i&&(o=i(a)),this.queuedDomNodes=d,this.currentGeneratorMeta=l,ule(e.elTag,s,o)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:a}=r.options;if(i){const r=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==a?void 0:a[n.generatorName];r&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(wue)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!rde(e,t)){t.forEach(Cce);for(let t of e)n.appendChild(t);this.currentDomNodes=e}}}function yue(e,t){var n;return Boolean(t.handleCustomRendering&&e&&(null===(n=t.customRenderingMetaMap)||void 0===n?void 0:n[e]))}function vue(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function wue(e){return Boolean(e)}bue.addPropsEquality({elClasses:rde,elStyle:eue,elAttrs:function(e,t){const n=function(e,t){let n=[];for(let r in e)Yde.call(e,r)&&(r in t||n.push(r));for(let r in t)Yde.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}(e,t);for(let r of n)if(!tue.test(r))return!1;return!0},renderProps:eue});const jue=uue(0);class Nue extends ble{constructor(){super(...arguments),this.InnerContent=kue.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(xue(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=function(e,t){const n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(e.children){const n=vue(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?ule(e.elTag,n,r):r}return ule(bue,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function kue(e,t){const n=e.props;return ule(bue,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}Nue.contextType=jue;class Sue extends gue{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return ule(Nue,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Aue(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function Aue(e){return[`fc-${e.type}-view`,"fc-view"]}function Cue(e,t){let n,r,i=[],{start:a}=t;for(e.sort(_ue),n=0;n<e.length;n+=1)r=e[n],r.start>a&&i.push({start:a,end:r.start}),r.end>a&&(a=r.end);return a<t.end&&i.push({start:a,end:t.end}),i}function _ue(e,t){return e.start.valueOf()-t.start.valueOf()}function Eue(e,t){let{start:n,end:r}=e,i=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(i={start:n,end:r}),i}function Tue(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function Oue(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Mue(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Due(e){let t=Math.floor(lde(e.start,e.end))||1,n=dde(e.start);return{start:n,end:sde(n,t)}}function Pue(e,t=Xce(0)){let n=null,r=null;if(e.end){r=dde(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=tde(t)&&(r=sde(r,1))}return e.start&&(n=dde(e.start),r&&r<=n&&(r=sde(n,1))),{start:n,end:r}}function Iue(e,t,n,r){return"year"===r?Xce(n.diffWholeYears(e,t),"year"):"month"===r?Xce(n.diffWholeMonths(e,t),"month"):function(e,t){let n=dde(e),r=dde(t);return{years:0,months:0,days:Math.round(lde(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}(e,t)}class Lue{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,i=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,i=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t,n=!0){let r,i,a,s,o,l,{props:c}=this;var d,u;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(d=e,e=null!=(u=r).start&&d<u.start?u.start:null!=u.end&&d>=u.end?new Date(u.end.valueOf()-1):d),i=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(i.unit),s=this.buildRenderRange(this.trimHiddenDays(i.range),i.unit,a),s=this.trimHiddenDays(s),o=s,c.showNonCurrentDates||(o=Eue(o,i.range)),o=this.adjustActiveRange(o),o=Eue(o,r),l=Tue(i.range,r),Mue(s,e)||(e=s.start),{currentDate:e,validRange:r,currentRange:i.range,currentRangeUnit:i.unit,isRangeAllDay:a,activeRange:o,renderRange:s,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(i.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,i=null,a=null,s=null;return r.duration?(i=r.duration,a=r.durationUnit,s=this.buildRangeFromDuration(e,t,i,a)):(n=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,t,n)):(s=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=nde(i).unit,s=this.buildRangeFromDuration(e,t,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Xce({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:a,end:s}=e;return n&&(ede(r)<0&&(a=dde(a),a=t.add(a,r)),ede(i)>1&&(s=dde(s),s=sde(s,-1),s=t.add(s,i))),{start:a,end:s}}buildRangeFromDuration(e,t,n,r){let i,a,s,{dateEnv:o,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&tde(e)<tde(n)?nde(e).unit:r}function c(){i=o.startOf(e,l),a=o.add(i,n),s={start:i,end:a}}return ede(n)<=1&&this.isHiddenDay(i)&&(i=this.skipHiddenDays(i,t),i=dde(i)),c(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),c()),s}buildRangeFromDayCount(e,t,n){let r,{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e;a&&(o=i.startOf(o,a)),o=dde(o),o=this.skipHiddenDays(o,t),r=o;do{r=sde(r,1),this.isHiddenDay(r)||(s+=1)}while(s<n);return{start:o,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(r);return!i||null!=i.start&&null!=i.end?i:null}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?Xce(1,t):e||Xce({days:1}))}refineRange(e){if(e){let t=function(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),n||r?n&&r&&r<n?null:{start:n,end:r}:null}(e,this.props.dateEnv);return t&&(t=Pue(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=sde(e,t);return e}}function Rue(e,t,n,r){return{instanceId:Wce(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function Fue(e,t,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:s,instances:o}=e;o=Kde(o,e=>!s[e.defId].recurringDef);for(let l in s){let e=s[l];if(e.recurringDef){let{duration:n}=e.recurringDef;n||(n=e.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let s=Bue(e,n,t,r,i.recurringTypes);for(let e of s){let t=Rue(l,{start:e,end:r.add(e,n)});o[t.instanceId]=t}}}return{defs:s,instances:o}}function Bue(e,t,n,r,i){let a=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(a=a.map(dde)),a}const Hue={id:String,groupId:String,title:String,url:String,interactive:Boolean},zue={start:Gde,end:Gde,date:Gde,allDay:Boolean},Wue=Object.assign(Object.assign(Object.assign({},Hue),zue),{extendedProps:Gde});function Uue(e,t,n,r,i=$ue(n),a,s){let{refined:o,extra:l}=Vue(e,n,i),c=function(e,t){let n=null;return e&&(n=e.defaultAllDay),null==n&&(n=t.options.defaultAllDay),n}(t,n),d=function(e,t,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(e,n);if(a){let{allDay:n}=e;return null==n&&(n=t,null==n&&(n=a.allDayGuess,null==n&&(n=!1))),{allDay:n,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}(o,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let e=que(o,l,t?t.sourceId:"",d.allDay,Boolean(d.duration),n,a);return e.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:e,instance:null}}let u=function(e,t,n,r){let i,a,{allDay:s}=e,o=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(d),i)o=i.marker;else if(!r)return null;return null!=e.end&&(a=n.dateEnv.createMarkerMeta(e.end)),null==s&&(s=null!=t?t:(!i||i.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),s&&o&&(o=dde(o)),a&&(c=a.marker,s&&(c=dde(c)),o&&c<=o&&(c=null)),c?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:l,range:{start:o,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}(o,c,n,r);if(u){let e=que(o,l,t?t.sourceId:"",u.allDay,u.hasEnd,n,a),r=Rue(e.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return s&&e.publicId&&s[e.publicId]&&(r.instanceId=s[e.publicId]),{def:e,instance:r}}return null}function Vue(e,t,n=$ue(t)){return qde(e,n)}function $ue(e){return Object.assign(Object.assign(Object.assign({},Zue),Wue),e.pluginHooks.eventRefiners)}function que(e,t,n,r,i,a,s){let o={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(s&&e.id?s[e.id]:"")||Wce(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:the(e,a),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(e));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function Gue(e,t,n,r,i,a){let s={defs:{},instances:{}},o=$ue(n);for(let l of e){let e=Uue(l,t,n,r,o,i,a);e&&Yue(e,s)}return s}function Yue(e,t={defs:{},instances:{}}){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function Que(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=Jue(e,e=>{return n=t,r=e,Boolean(n.groupId&&n.groupId===r.groupId);var n,r});return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return{defs:{},instances:{}}}function Kue(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function Jue(e,t){let n=Kde(e.defs,t),r=Kde(e.instances,e=>n[e.defId]);return{defs:n,instances:r}}function Xue(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const Zue={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Gde,overlap:Gde,allow:Gde,className:Xue,classNames:Xue,color:String,backgroundColor:String,borderColor:String,textColor:String},ehe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function the(e,t){let n=function(e,t){return Array.isArray(e)?Gue(e,null,t,!0):"object"==typeof e&&e?Gue([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function nhe(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const rhe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Gde,eventDataTransform:Gde,success:Gde,failure:Gde};function ihe(e,t,n=ahe(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:i,extra:a}=qde(r,n),s=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let t=n[r].parseMeta(e);if(t)return{sourceDefId:r,meta:t}}return null}(i,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Wce(),sourceDefId:s.sourceDefId,meta:s.meta,ui:the(i,t),extendedProps:a}}return null}function ahe(e){return Object.assign(Object.assign(Object.assign({},Zue),rhe),e.pluginHooks.eventSourceRefiners)}function she(e,t,n){let r=n.options.eventDataTransform,i=t?t.eventDataTransform:null;return i&&(e=ohe(e,i)),r&&(e=ohe(e,r)),e}function ohe(e,t){let n;if(t){n=[];for(let r of e){let e=t(r);e?n.push(e):null==e&&n.push(r)}}else n=e;return n}function lhe(e,t,n){let{defs:r}=e,i=Jde(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}));return{defs:r,instances:i}}function che(e,t){return Jue(e,e=>e.sourceId!==t)}class dhe{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)}off(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter(e=>e!==n)):delete e[t]}(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],r=this.options&&this.options[e],i=[].concat(r||[],n);for(let a of i)a.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const uhe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function hhe(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},phe(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function phe(e,t){let n={};for(let a of t.pluginHooks.dateSpanTransforms)Object.assign(n,a(e,t));var r,i;return Object.assign(n,(r=e,i=t.dateEnv,Object.assign(Object.assign({},Fhe(r.range,i,r.allDay)),{allDay:r.allDay}))),n}function mhe(e,t,n){let{dateEnv:r,options:i}=n,a=t;return e?(a=dde(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function fhe(e,t,n,r){let i=She(e.defs,t),a={defs:{},instances:{}};for(let s in e.defs){let t=e.defs[s];a.defs[s]=ghe(t,i[s],n,r)}for(let s in e.instances){let t=e.instances[s],o=a.defs[t.defId];a.instances[s]=xhe(t,o,i[t.defId],n,r)}return a}function ghe(e,t,n,r){let i=n.standardProps||{};null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function xhe(e,t,n,r,i){let{dateEnv:a}=i,s=r.standardProps&&!0===r.standardProps.allDay,o=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return s&&(l.range=Due(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:a.add(l.range.start,r.datesDelta),end:a.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:a.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:mhe(t.allDay,l.range.start,i)}),t.allDay&&(l.range={start:dde(l.range.start),end:dde(l.range.end)}),l.range.end<l.range.start&&(l.range.end=mhe(t.allDay,l.range.start,i)),l}class bhe{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class yhe{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in zue);else if("id"===e)t=Hue[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Hue)t=Hue[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Zue){let n=Zue[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=Iue(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:r}=this._context;if((null==e||(n=r.createMarker(e),n))&&this._instance)if(n){let e=Iue(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let r,{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e);var o,l;if(s&&(null==t||(r=i.createMarker(t),r))&&this._instance){let e=this._instance.range;!0===n.allDay&&(e=Due(e));let t=Iue(e.start,s,i,n.granularity);if(r){let s=Iue(e.end,r,i,n.granularity);l=s,(o=t).years===l.years&&o.months===l.months&&o.days===l.days&&o.milliseconds===l.milliseconds?this.mutate({datesDelta:t,standardProps:a}):this.mutate({startDelta:t,endDelta:s,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:t,standardProps:a})}}moveStart(e){let t=Xce(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Xce(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Xce(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=Lde(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:i}=r.getCurrentData(),a=Que(i,t.instanceId);a=fhe(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let s=new yhe(r,n,t);this._def=a.defs[n.defId],this._instance=a.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:a}),r.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:whe(a,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=vhe(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new bhe(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:i}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),r&&(a.start=r),i&&(a.end=i),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&"auto"!==n.display&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function vhe(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function whe(e,t,n){let{defs:r,instances:i}=e,a=[],s=n?n.instanceId:"";for(let o in i){let e=i[o],n=r[e.defId];e.instanceId!==s&&a.push(new yhe(t,n,e))}return a}function jhe(e,t,n,r){let i={},a={},s={},o=[],l=[],c=She(e.defs,t);for(let d in e.defs){let t=e.defs[d];"inverse-background"===c[t.defId].display&&(t.groupId?(i[t.groupId]=[],s[t.groupId]||(s[t.groupId]=t)):a[d]=[])}for(let d in e.instances){let t=e.instances[d],s=e.defs[t.defId],u=c[s.defId],h=t.range,p=!s.allDay&&r?Pue(h,r):h,m=Eue(p,n);m&&("inverse-background"===u.display?s.groupId?i[s.groupId].push(m):a[t.defId].push(m):"none"!==u.display&&("background"===u.display?o:l).push({def:s,ui:u,instance:t,range:m,isStart:p.start&&p.start.valueOf()===m.start.valueOf(),isEnd:p.end&&p.end.valueOf()===m.end.valueOf()}))}for(let d in i){let e=Cue(i[d],n);for(let t of e){let e=s[d],n=c[e.defId];o.push({def:e,ui:n,instance:null,range:t,isStart:!1,isEnd:!1})}}for(let d in a){let t=Cue(a[d],n);for(let n of t)o.push({def:e.defs[d],ui:c[d],instance:null,range:n,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function Nhe(e,t){e.fcSeg=t}function khe(e){return e.fcSeg||e.parentNode.fcSeg||null}function She(e,t){return Jde(e,e=>Ahe(e,t))}function Ahe(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),function(e){return e.reduce(nhe,ehe)}(n)}function Che(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:e})}function _he(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:i,ui:a}=e.eventRange,s=a.startEditable;for(let o of r)s=o(s,i,a,t);return s}function Ehe(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function The(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function Ohe(e,t,n,r,i,a,s){let{dateEnv:o,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==i);let p=h.range.start,m=h.range.end,f=e.start||e.eventRange.range.start,g=e.end||e.eventRange.range.end,x=dde(p).valueOf()===dde(f).valueOf(),b=dde(ode(m,-1)).valueOf()===dde(ode(g,-1)).valueOf();return c&&!u.allDay&&(x||b)?(f=x?p:f,g=b?m:g,d&&u.hasEnd?o.formatRange(f,g,t,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):o.format(f,t,{forcedTzo:h.forcedStartTzo})):""}function Mhe(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=t.start,isFuture:r.start>=t.end,isToday:t&&Mue(t,r.start)}}function Dhe(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function Phe(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function Ihe(e,t){let{def:n,instance:r}=e.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:s}=t,{eventInteractive:o}=s;return null==o&&(o=n.interactive,null==o&&(o=Boolean(a.hasHandlers("eventClick")))),o?Hce(e=>{a.trigger("eventClick",{el:e.target,event:new yhe(t,n,r),jsEvent:e,view:t.viewApi})}):{}}const Lhe={start:Gde,end:Gde,allDay:Boolean};function Rhe(e,t,n){return Object.assign(Object.assign({},Fhe(e,t,n)),{timeZone:t.timeZone})}function Fhe(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}class Bhe extends Error{constructor(e,t){super(e),this.response=t}}let Hhe;function zhe(){return null==Hhe&&(Hhe=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),Hhe}class Whe extends gue{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{cue(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{cue(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,i=r||null==t.height?"":t.height,a=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return zhe()||a.push("fc-liquid-hack"),e.children(a,i,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Uhe{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Vhe(e){return{[e.component.uid]:e}}const $he={};class qhe extends ble{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let e,t,{props:n,context:r}=this,i=r.nowManager.getDateMarker(),{nowIndicatorSnap:a}=r.options;return"auto"===a&&(a=/year|month|week|day/.test(n.unit)||1===(n.unitValue||1)),a?(e=r.dateEnv.startOf(i,n.unit),t=r.dateEnv.add(e,Xce(1,n.unit)).valueOf()-i.valueOf()):(e=i,t=6e4),t=Math.min(864e5,t),{state:{nowDate:e,todayRange:Ghe(e)},waitMs:t}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const e=this.computeTiming();this.setState(e.state,()=>{this.setTimeout(e.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function Ghe(e){let t=dde(e);return{start:t,end:sde(t,1)}}qhe.contextType=pue;class Yhe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]&&n.emitter.on(e,t)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:i}=this.getCurrentData(),a=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(let s in r)a.push(s);for(t=0;t<a.length;t+=1)if(n=r[a[t]],n&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=Xce(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),Lde(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),Lde(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),i=function(e,t,n){let r=function(e,t){let{refined:n,extra:r}=qde(e,Lhe),i=n.start?t.createMarkerMeta(n.start):null,a=n.end?t.createMarkerMeta(n.end):null,{allDay:s}=n;return null==s&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},r)}(e,t),{range:i}=r;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=t.add(i.start,n)}return r}(n,r.dateEnv,Xce({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),hhe(i,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){if(e instanceof yhe){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Yue({def:t,instance:n})}),this.triggerEventAdd(e)),e}let n,r=this.getCurrentData();if(t instanceof bhe)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=Zde(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return null;n=e.internalEventSource}let i=Uue(e,n,r,!1);if(i){let e=new yhe(r,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Yue(i)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:vhe(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;e=String(e);for(let i in n){let a=n[i];if(a.publicId===e){if(a.recurringDef)return new yhe(t,a,null);for(let e in r){let n=r[e];if(n.defId===a.defId)return new yhe(t,a,n)}}}return null}getEvents(){let e=this.getCurrentData();return whe(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new bhe(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let r in n)if(n[r].publicId===e)return new bhe(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof bhe)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=ihe(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new bhe(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Xce(e);t&&this.trigger("_scrollRequest",{time:t})}}function Qhe(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Khe(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Jhe(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&(!r.activeRange||!Mue(r.activeRange,e))),isOther:Boolean(r&&!Mue(r.currentRange,e)),isToday:Boolean(t&&Mue(t,e)),isPast:Boolean(!!t&&e<t.start),isFuture:Boolean(!!t&&e>=t.end)}}function Xhe(e,t){let n=["fc-day",`fc-day-${ide[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const Zhe=Lde({year:"numeric",month:"long",day:"numeric"}),epe=Lde({week:"long"});function tpe(e,t,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:s}=e;let o=i.format(t,"week"===n?epe:Zhe);if(a.navLinks){let e=i.toDate(t);const l=e=>{let r="day"===n?a.navLinkDayClick:"week"===n?a.navLinkWeekClick:null;"function"==typeof r?r.call(s,i.toDate(t),e):("string"==typeof r&&(n=r),s.zoomTo(t,n))};return Object.assign({title:Gce(a.navLinkHint,[o,e],o),"data-navlink":""},r?Bce(l):{onClick:l})}return{"aria-label":o}}let npe,rpe=null;function ipe(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function ape(e,t=!1,n){let r=spe(e),i=function(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,o=ipe(e),l=o.y-r-i,c={borderLeft:r,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:o.x-a-s,scrollbarLeft:0,scrollbarRight:0};return null===rpe&&(rpe=function(){let e=document.createElement("div");Oce(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return Cce(e),t}()),rpe&&"rtl"===n.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}(e,t),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return t&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function spe(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function ope(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class lpe{constructor(e,t,n,r){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),r&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let i=r.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return cpe(this.tops||[],e.tops||[])&&cpe(this.bottoms||[],e.bottoms||[])&&cpe(this.lefts||[],e.lefts||[])&&cpe(this.rights||[],e.rights||[])}}function cpe(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class dpe{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class upe extends dpe{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class hpe extends dpe{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ppe extends gue{constructor(){super(...arguments),this.uid=Wce()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!_ce(e,".fc-event-mirror")}isValidDateDownEl(e){return!(_ce(e,".fc-event:not(.fc-bg-event)")||_ce(e,".fc-more-link")||_ce(e,"a[data-navlink]")||_ce(e,".fc-popover"))}}class mpe{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:xpe(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,i=t.span;r.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:i.start}},n),r.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(bpe(r,t.level,t.levelCoord),bpe(n,t.level,[e])):bpe(n[t.level],t.lateral,e),this.stackCnts[gpe(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:i}=this,a=t.length,s=0,o=-1,l=-1,c=null,d=0;for(let p=0;p<a;p+=1){const a=t[p];if(!r&&a>=s+this.getEntryThickness(e))break;let u,h=n[p],m=ype(h,e.span.start,fpe),f=m[0]+m[1];for(;(u=h[f])&&u.span.start<e.span.end;){let e=a+this.getEntryThickness(u);e>s&&(s=e,c=u,o=p,l=f),e===s&&(d=Math.max(d,i[gpe(u)]+1)),f+=1}}let u=0;if(c)for(u=o+1;u<a&&t[u]<s;)u+=1;let h=-1;return u<a&&t[u]===s&&(h=ype(n[u],e.span.end,fpe)[0]),{touchingLevel:o,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:s,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let i=0;i<n;i+=1){let n=e[i],a=t[i];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:a}))}return r}}function fpe(e){return e.span.end}function gpe(e){return e.index+":"+e.span.start}function xpe(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function bpe(e,t,n){e.splice(t,0,n)}function ype(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),s=n(e[a]);if(t<s)i=a;else{if(!(t>s))return[a,1];r=a+1}}return[r,0]}class vpe{constructor(e,t){this.emitter=new dhe}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const wpe={},jpe="fc-col-header-cell";function Npe(e){return e.text}class kpe extends gue{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:a,dateProfile:s}=i,o=Jhe(a,i.todayRange,0,s),l=[jpe].concat(Xhe(o,n)),c=e.format(a,i.dayHeaderFormat),d=!o.isDisabled&&i.colCnt>1?tpe(this.context,a):{},u=e.toDate(a);e.namedTimeZoneImpl&&(u=ode(u,36e5));let h=Object.assign(Object.assign(Object.assign({date:u,view:r},i.extraRenderProps),{text:c}),o);return ule(Nue,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":o.isDisabled?void 0:yde(a)},i.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Npe,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>ule("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&ule(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const Spe=Lde({weekday:"long"});class Ape extends gue{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,a=sde(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=t.format(a,e.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:a},s),{view:r}),e.extraRenderProps),{text:o});return ule(Nue,{elTag:"th",elClasses:[jpe,...Xhe(s,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Npe,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},n=>ule("div",{className:"fc-scrollgrid-sync-inner"},ule(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(a,Spe)}})))}}class Cpe extends gue{constructor(){super(...arguments),this.createDayHeaderFormatter=wde(_pe)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return ule(qhe,{unit:"day"},(e,s)=>ule("tr",{role:"row"},i&&i("day"),t.map(e=>r?ule(kpe,{key:e.toISOString(),date:e,dateProfile:n,todayRange:s,colCnt:t.length,dayHeaderFormat:a}):ule(Ape,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:a}))))}}function _pe(e,t,n){return e||function(e,t){return Lde(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(t,n)}class Epe{constructor(e,t){let n=e.start,{end:r}=e,i=[],a=[],s=-1;for(;n<r;)t.isHiddenDay(n)?i.push(s+.5):(s+=1,i.push(s),a.push(n)),n=sde(n,1);this.dates=a,this.indices=i,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(sde(e.end,-1)),r=Math.max(0,t),i=Math.min(this.cnt-1,n);return r=Math.ceil(r),i=Math.floor(i),r<=i?{firstIndex:r,lastIndex:i,isStart:t===r,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(lde(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class Tpe{constructor(e,t){let n,r,i,{dates:a}=e;if(t){for(r=a[0].getUTCDay(),n=1;n<a.length&&a[n].getUTCDay()!==r;n+=1);i=Math.ceil(a.length/n)}else i=1,n=a.length;this.rowCnt=i,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:i}=n,a=e;for(;a<=i;){let s=Math.floor(a/t),o=Math.min((s+1)*t,i+1);r.push({row:s,firstCol:a%t,lastCol:(o-1)%t,isStart:n.isStart&&a===e,isEnd:n.isEnd&&o-1===i}),a=o}}return r}}class Ope{constructor(){this.sliceBusinessHours=wde(this._sliceBusinessHours),this.sliceDateSelection=wde(this._sliceDateSpan),this.sliceEventStore=wde(this._sliceEventStore),this.sliceEventDrag=wde(this._sliceInteraction),this.sliceEventResize=wde(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...i){let{eventUiBases:a}=e,s=this.sliceEventStore(e.eventStore,a,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,a,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...i),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,a,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...i){return this._sliceDateSpan({range:{start:e,end:ode(e,1)},allDay:!1},t,n,{},r,...i)}_sliceBusinessHours(e,t,n,r,...i){return e?this._sliceEventStore(Fue(e,Mpe(t,Boolean(n)),r),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,r,...i){if(e){let a=jhe(e,t,Mpe(n,Boolean(r)),r);return{bg:this.sliceEventRanges(a.bg,i),fg:this.sliceEventRanges(a.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...i){if(!e)return null;let a=jhe(e.mutatedEvents,t,Mpe(n,Boolean(r)),r);return{segs:this.sliceEventRanges(a.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,i,...a){if(!e)return[];let s=Mpe(t,Boolean(n)),o=Eue(e.range,s);if(o){let t=function(e,t,n){let r=Vue({editable:!1},n),i=que(r.refined,r.extra,"",e.allDay,!0,n);return{def:i,ui:Ahe(i,t),instance:Rue(i.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}(e=Object.assign(Object.assign({},e),{range:o}),r,i),n=this.sliceRange(e.range,...a);for(let e of n)e.eventRange=t;return n}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:sde(n.start,1)});let r=this.sliceRange(n,...t);for(let i of r)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return r}}function Mpe(e,t){let n=e.activeRange;return t?n:{start:ode(n.start,e.slotMinTime.milliseconds),end:ode(n.end,e.slotMaxTime.milliseconds-864e5)}}function Dpe(e,t,n){let{instances:r}=e.mutatedEvents;for(let i in r)if(!Oue(t.validRange,r[i].range))return!1;return Ppe({eventDrag:e},n)}function Ppe(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||Ipe)(r,t)}function Ipe(e,t,n={},r){return!(e.eventDrag&&!function(e,t,n,r){let i=t.getCurrentData(),a=e.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,c=She(o,a.isEvent?e.eventUiBases:{"":i.selectionConfig});r&&(c=Jde(c,r));let d=(m=e.eventStore,f=a.affectedEvents.instances,{defs:m.defs,instances:Kde(m.instances,e=>!f[e.instanceId])}),u=d.defs,h=d.instances,p=She(u,e.eventUiBases);var m,f;for(let g in l){let r=l[g],s=r.range,m=c[r.defId],f=o[r.defId];if(!Lpe(m.constraints,s,d,e.businessHours,t))return!1;let{eventOverlap:x}=t.options,b="function"==typeof x?x:null;for(let e in h){let n=h[e];if(Tue(s,n.range)){if(!1===p[n.defId].overlap&&a.isEvent)return!1;if(!1===m.overlap)return!1;if(b&&!b(new yhe(t,u[n.defId],n),new yhe(t,f,r)))return!1}}let y=i.eventStore;for(let e of m.allows){let i,a=Object.assign(Object.assign({},n),{range:r.range,allDay:f.allDay}),s=y.defs[f.defId],o=y.instances[g];if(i=s?new yhe(t,s,o):new yhe(t,f),!e(phe(a,t),i))return!1}}return!0}(e,t,n,r)||e.dateSelection&&!function(e,t,n,r){let i=e.eventStore,a=i.defs,s=i.instances,o=e.dateSelection,l=o.range,{selectionConfig:c}=t.getCurrentData();if(r&&(c=r(c)),!Lpe(c.constraints,l,i,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let h in s){let e=s[h];if(Tue(l,e.range)){if(!1===c.overlap)return!1;if(u&&!u(new yhe(t,a[e.defId],e),null))return!1}}for(let h of c.allows)if(!h(phe(Object.assign(Object.assign({},n),o),t),null))return!1;return!0}(e,t,n,r))}function Lpe(e,t,n,r,i){for(let a of e)if(!Bpe(Rpe(a,t,n,r,i),t))return!1;return!0}function Rpe(e,t,n,r,i){return"businessHours"===e?Fpe(Fue(r,t,i)):"string"==typeof e?Fpe(Jue(n,t=>t.groupId===e)):"object"==typeof e&&e?Fpe(Fue(e,t,i)):[]}function Fpe(e){let{instances:t}=e,n=[];for(let r in t)n.push(t[r].range);return n}function Bpe(e,t){for(let n of e)if(Oue(n,t))return!0;return!1}const Hpe=/^(visible|hidden)$/;class zpe extends gue{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,xue(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),ule("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Hpe.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Hpe.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Hpe.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Hpe.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Wpe{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,a=!1;null!==e?(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,a=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(t)),a&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return function(e,t=0,n,r=1){let i=[];null==n&&(n=Object.keys(e).length);for(let a=t;a<n;a+=r){let t=e[a];void 0!==t&&i.push(t)}return i}(this.currentMap,e,t,n)}getAll(){return Zde(this.currentMap)}}function Upe(e,t){return e.liquid&&t.liquid}function Vpe(e,t){return rde(e,t,eue)}function $pe(e,t){let n=[];for(let r of e){let e=r.span||1;for(let i=0;i<e;i+=1)n.push(ule("col",{style:{width:"shrink"===r.width?qpe(t):r.width||"",minWidth:r.minWidth||""}}))}return ule("colgroup",{},...n)}function qpe(e){return null==e?4:e}function Gpe(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Ype(e){return ule("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Qpe(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class Kpe extends gue{constructor(){super(...arguments),this.processCols=wde(e=>e,Vpe),this.renderMicroColGroup=wde($pe),this.scrollerRefs=new Wpe,this.scrollerElRefs=new Wpe(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],i=this.processCols(e.cols),a=this.renderMicroColGroup(i,t.shrinkWidth),s=function(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}(e.liquid,n);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let o,l=r.length,c=0,d=[],u=[],h=[];for(;c<l&&"header"===(o=r[c]).type;)d.push(this.renderSection(o,a,!0)),c+=1;for(;c<l&&"body"===(o=r[c]).type;)u.push(this.renderSection(o,a,!1)),c+=1;for(;c<l&&"footer"===(o=r[c]).type;)h.push(this.renderSection(o,a,!0)),c+=1;let p=!zhe();const m={role:"rowgroup"};return ule("table",{role:"grid",className:s.join(" "),style:{height:e.height}},Boolean(!p&&d.length)&&ule("thead",m,...d),Boolean(!p&&u.length)&&ule("tbody",m,...u),Boolean(!p&&h.length)&&ule("tfoot",m,...h),p&&ule("tbody",m,...d,...u,...h))}renderSection(e,t,n){return"outerContent"in e?ule(ple,{key:e.key},e.outerContent):ule("tr",{key:e.key,role:"presentation",className:Gpe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:a,scrollerClientWidths:s,scrollerClientHeights:o}=this.state,l=function(e,t){return null!=t.maxHeight||Upe(e,t)}(i,e),c=Upe(i,e),d=i.liquid?a?"scroll":l?"auto":"hidden":"visible",u=e.key,h=function(e,t,n,r){let{expandRows:i}=n;return"function"==typeof t.content?t.content(n):ule("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,ule(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===s[u]?null:s[u],clientHeight:void 0!==o[u]?o[u]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return ule(r?"th":"td",{ref:n.elRef,role:"presentation"},ule("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},ule(zpe,{ref:this.scrollerRefs.createRef(u),elRef:this.scrollerElRefs.createRef(u),overflowY:d,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&xue(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?function(e){let t=function(e){let t=e instanceof HTMLElement?[e]:e,n=[];for(let r=0;r<t.length;r+=1){let e=t[r].querySelectorAll(".fc-scrollgrid-shrink");for(let t=0;t<e.length;t+=1)n.push(e[t])}return n}(e),n=0;for(let r of t)n=Math.max(n,Kce(r));return Math.ceil(n)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=(npe||(npe=function(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=ipe(e);return document.body.removeChild(e),t}()),npe),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,i={},a={};for(let s in t.currentMap){let e=t.currentMap[s];if(e&&e.needsYScrolling()){r=!0;break}}for(let s of this.props.sections){let t=s.key,o=n.currentMap[t];if(o){let n=o.parentNode;i[t]=Math.floor(n.getBoundingClientRect().width-(r?e.y:0)),a[t]=Math.floor(n.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:i,scrollerClientHeights:a}}}Kpe.addStateEquality({scrollerClientWidths:eue,scrollerClientHeights:eue});class Jpe extends gue{constructor(){super(...arguments),this.buildPublicEvent=wde((e,t,n)=>new yhe(e,t,n)),this.handleEl=e=>{this.el=e,xue(this.props.elRef,e),e&&Nhe(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:i}=r,{ui:a}=i,s={event:this.buildPublicEvent(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&_he(r,t),isStartResizable:!e.disableResizing&&Ehe(r,t),isEndResizable:!e.disableResizing&&The(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return ule(Nue,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Dhe(s),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Nhe(this.el,this.props.seg)}}class Xpe extends gue{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,a=Ohe(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ule(Jpe,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:Ihe(r,t),defaultGenerator:Zpe,timeText:a}),(e,t)=>ule(ple,null,ule(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&ule("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&ule("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Zpe(e){return ule("div",{className:"fc-event-main-frame"},e.timeText&&ule("div",{className:"fc-event-time"},e.timeText),ule("div",{className:"fc-event-title-container"},ule("div",{className:"fc-event-title fc-sticky"},e.event.title||ule(ple,null,""))))}Xpe.addPropsEquality({seg:eue});const eme=Lde({day:"numeric"});class tme extends gue{constructor(){super(...arguments),this.refineRenderProps=jde(rme)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return ule(Nue,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":yde(e.date)}),elClasses:[...Xhe(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function nme(e){return Boolean(e.dayCellContent||yue("dayCellContent",e))}function rme(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,a=Jhe(t,e.todayRange,0,r),s=e.showDayNumber?n.format(t,i?e.monthStartFormat:eme):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},a),{isMonthStart:i,dayNumberText:s}),e.extraRenderProps)}class ime extends gue{render(){let{props:e}=this,{seg:t}=e;return ule(Jpe,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:ame,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function ame(e){let{title:t}=e.event;return t&&ule("div",{className:"fc-event-title"},e.event.title)}function sme(e){return ule("div",{className:`fc-${e}`})}const ome=e=>ule(pue.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:i}=e,a=r.weekNumberFormat||e.defaultFormat,s={num:n.computeWeekNumber(i),text:n.format(i,a),date:i};return ule(Nue,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:s,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:lme,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function lme(e){return e.text}class cme extends gue{constructor(){super(...arguments),this.state={titleId:Ice()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&xue(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Dce(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return function(e,t){var n=ule(lce,{__v:e,i:t});return n.containerInfo=t,n}(ule("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),ule("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ule("span",{className:"fc-popover-title",id:r.titleId},n.title),ule("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ule("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,i=function(e){let t=ope(e),n=e.getBoundingClientRect();for(let r of t){let e=Khe(n,r.getBoundingClientRect());if(!e)return null;n=e}return n}(t);if(i){let a=r.getBoundingClientRect(),s=n?_ce(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,o=e?i.right-a.width:i.left;s=Math.max(s,10),o=Math.min(o,document.documentElement.clientWidth-10-a.width),o=Math.max(o,10);let l=r.offsetParent.getBoundingClientRect();Oce(r,{top:s-l.top,left:o-l.left})}}}class dme extends ppe{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:a}=n,s=t.format(r,e.dayPopoverFormat);return ule(tme,{elRef:this.handleRootEl,date:r,dateProfile:a,todayRange:i},(t,r,i)=>ule(cme,{elRef:i.ref,id:n.id,title:s,extraClassNames:["fc-more-popover"].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},nme(e)&&ule(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:i,props:a}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class ume extends gue{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ice()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&xue(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,i=pme(t).start;function a(e){let{def:t,instance:r,range:i}=e.eventRange;return{event:new yhe(n,t,r),start:n.dateEnv.toDate(i.start),end:n.dateEnv.toDate(i.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:i,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(i,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return ule(pue.Consumer,null,n=>{let{viewApi:r,options:i,calendarApi:a}=n,{moreLinkText:s}=i,{moreCnt:o}=e,l=pme(e),c="function"==typeof s?s.call(a,o):`+${o} ${s}`,d=Gce(i.moreLinkHint,[o],c),u={num:o,shortText:`+${o}`,text:c,view:r};return ule(ple,null,Boolean(e.moreCnt)&&ule(Nue,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Bce(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:u,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||hme,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&ule(dme,{id:t.popoverId,startDate:l.start,endDate:l.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=_ce(this.linkEl,".fc-view-harness"))}}function hme(e){return e.text}function pme(e){if(e.allDayDate)return{start:e.allDayDate,end:sde(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:(n=t,n.reduce(mme).eventRange.range.start),end:fme(t)};var n}function mme(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function fme(e){return e.reduce(gme).eventRange.range.end}function gme(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class xme{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class bme extends xme{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const yme=[],vme={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},wme=Object.assign(Object.assign({},vme),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function jme(e){let t=e.length>0?e[0].code:"en",n=yme.concat(e),r={en:wme};for(let i of n)r[i.code]=i;return{map:r,defaultCode:t}}function Nme(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){let n=[].concat(e||[]),r=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}(n,t)||wme;return kme(e,n,r)}(e,t):kme(e.code,[e.code],e)}function kme(e,t,n){let r=Qde([vme,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function Sme(e){return{id:Wce(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function Ame(e,t){return{premiumReleaseDate:(n=e.premiumReleaseDate,r=t.premiumReleaseDate,void 0===n?r:void 0===r?n:new Date(Math.max(n.valueOf(),r.valueOf()))),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)};var n,r}class Cme extends lue{}function _me(e,t,n,r){if(t[e])return t[e];let i=function(e,t,n,r){let i=n[e],a=r[e],s=e=>i&&null!==i[e]?i[e]:a&&null!==a[e]?a[e]:null,o=s("component"),l=s("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=_me(l,t,n,r)}return!o&&c&&(o=c.component),o?{type:e,component:o,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),a?a.rawOptions:{})}:null}(e,t,n,r);return i&&(t[e]=i),i}function Eme(e){return Jde(e,Tme)}function Tme(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;return t.content?n=Ome(t):!n||n.prototype instanceof gue||(n=Ome(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function Ome(e){return t=>ule(pue.Consumer,null,n=>ule(Nue,{elTag:"div",elClasses:Aue(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function Mme(e,t,n,r){let i=Eme(e),a=Eme(t.views),s=function(e,t){let n,r={};for(n in e)_me(n,r,e,t);for(n in t)_me(n,r,e,t);return r}(i,a);return Jde(s,e=>function(e,t,n,r,i){let a=e.overrides.duration||e.defaults.duration||r.duration||n.duration,s=null,o="",l="",c={};if(a&&(s=function(e){let t=JSON.stringify(e),n=Dme[t];return void 0===n&&(n=Xce(e),Dme[t]=n),n}(a),s)){let e=nde(s);o=e.unit,1===e.value&&(l=o,c=t[o]?t[o].rawOptions:{})}let d=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[l]?n[l]:null},u=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[l]?n[l]:null};return{type:e.type,component:e.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},c),e.overrides),buttonTextOverride:d(r)||d(n)||e.overrides.buttonText,buttonTextDefault:d(i)||e.defaults.buttonText||d(Fde)||e.type,buttonTitleOverride:u(r)||u(n)||e.overrides.buttonHint,buttonTitleDefault:u(i)||e.defaults.buttonHint||u(Fde)}}(e,a,t,n,r))}Cme.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Cme.prototype.baseIconClass="fc-icon",Cme.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Cme.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Cme.prototype.iconOverrideOption="buttonIcons",Cme.prototype.iconOverrideCustomButtonOption="icon",Cme.prototype.iconOverridePrefix="fc-icon-";let Dme={};function Pme(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function Ime(e,t,n,r){let i={};for(let a of t)i[a.sourceId]=a;return n&&(i=Lme(i,n,r)),Object.assign(Object.assign({},e),i)}function Lme(e,t,n){return Rme(e,Kde(e,e=>function(e,t,n){return Hme(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}(e,t,n)),t,!1,n)}function Rme(e,t,n,r,i){let a={};for(let s in e){let o=e[s];t[s]?a[s]=Fme(o,n,r,i):a[s]=o}return a}function Fme(e,t,n,r){let{options:i,calendarApi:a}=r,s=r.pluginHooks.eventSourceDefs[e.sourceDefId],o=Wce();return s.fetch({eventSource:e,range:t,isRefetch:n,context:r},n=>{let{rawEvents:s}=n;i.eventSourceSuccess&&(s=i.eventSourceSuccess.call(a,s,n.response)||s),e.success&&(s=e.success.call(a,s,n.response)||s),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:o,fetchRange:t,rawEvents:s})},n=>{let s=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,n),s=!0),e.failure&&(e.failure(n),s=!0),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:o,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:o})}function Bme(e,t){return Kde(e,e=>Hme(e,t))}function Hme(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function zme(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function Wme(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function Ume(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Vme(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function $me(e,t,n,r,i){return{header:e.headerToolbar?qme(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?qme(e.footerToolbar,e,t,n,r,i):null}}function qme(e,t,n,r,i,a){let s={},o=[],l=!1;for(let c in e){let d=Gme(e[c],t,n,r,i,a);s[c]=d.widgets,o.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Gme(e,t,n,r,i,a){let s="rtl"===t.direction,o=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},d=n.buttonHints||{},u=t.buttonHints||{},h=e?e.split(" "):[],p=[],m=!1;return{widgets:h.map(e=>e.split(",").map(e=>{if("title"===e)return m=!0,{buttonName:e};let n,h,f,g,x,b;if(n=o[e])f=e=>{n.click&&n.click.call(e.target,e,e.target)},(g=r.getCustomButtonIconClass(n))||(g=r.getIconClass(e,s))||(x=n.text),b=n.hint||n.text;else if(h=i[e]){p.push(e),f=()=>{a.changeView(e)},(x=h.buttonTextOverride)||(g=r.getIconClass(e,s))||(x=h.buttonTextDefault);let n=h.buttonTextOverride||h.buttonTextDefault;b=Gce(h.buttonTitleOverride||h.buttonTitleDefault||t.viewHint,[n,e],n)}else if(a[e])if(f=()=>{a[e]()},(x=l[e])||(g=r.getIconClass(e,s))||(x=c[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";b=Gce(d[t]||u[t],[c.year||"year","year"],c[e])}else b=t=>Gce(d[e]||u[e],[c[t]||t,t],c[e]);return{buttonName:e,buttonClick:f,buttonIcon:g,buttonText:x,buttonHint:b}})),viewsWithButtons:p,hasTitle:m}}class Yme{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}const Qme={daysOfWeek:Gde,startTime:Xce,endTime:Xce,duration:Xce,startRecur:Gde,endRecur:Gde};function Kme(e,t){let n=Zde(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});let r=[];for(let i of e){let e=!1;for(let t=0;t<n.length;t+=1)if(n[t]._raw===i){n.splice(t,1),e=!0;break}e||r.push(i)}for(let i of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)t.calendarApi.addEventSource(i)}const Jme=[Sme({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),Sme({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){const{dateEnv:r}=e.context;!function(e,n,r){let i=!1,a=function(e){i||(i=!0,t({rawEvents:e}))},s=function(e){i||(i=!0,r(e))},o=e(a,s);o&&"function"==typeof o.then&&o.then(a,s)}(e.eventSource.meta.bind(null,Rhe(e.range,r)),0,n)}}]}),Sme({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Gde,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(e,t,n){const{meta:r}=e.eventSource,i=function(e,t,n){let r,i,a,s,{dateEnv:o,options:l}=n,c={};return r=e.startParam,null==r&&(r=l.startParam),i=e.endParam,null==i&&(i=l.endParam),a=e.timeZoneParam,null==a&&(a=l.timeZoneParam),s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},Object.assign(c,s),c[r]=o.formatIso(t.start),c[i]=o.formatIso(t.end),"local"!==o.timeZone&&(c[a]=o.timeZone),c}(r,e.range,e.context);(function(e,t,n){const r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new Bhe("Failure parsing JSON",e)});throw new Bhe("Request failed",e)})})(r.method,r.url,i).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]}),Sme({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let i,a={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t};return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(n=e.endTime,r=e.startTime,i={years:n.years-r.years,months:n.months-r.months,days:n.days-r.days,milliseconds:n.milliseconds-r.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:i,typeData:a}}var n,r;return null},expand(e,t,n){let r=Eue(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r,i){let a=e?Xde(e):null,s=dde(i.start),o=i.end,l=[];for(t&&(t.milliseconds<0?o=sde(o,1):t.milliseconds>=864e5&&(s=sde(s,-1)));s<o;){let e;a&&!a[s.getUTCDay()]||(e=t?r.add(s,t):s,l.push(r.createMarker(n.toDate(e)))),s=sde(s,1)}return l}(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}}],eventRefiners:Qme}),Sme({name:"change-handler",optionChangeHandlers:{events(e,t){Kme([e],t)},eventSources:Kme}}),Sme({name:"misc",isLoadingFuncs:[e=>Pme(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},Rhe(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",whe(e,t))}}})];class Xme{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ace(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Zme(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,Lde(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=cde(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class efe{constructor(){this.resetListeners=new Set}handleInput(e,t){const n=this.dateEnv;if(e!==n&&("function"==typeof t?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class tfe{constructor(e){this.computeCurrentViewData=wde(this._computeCurrentViewData),this.organizeRawLocales=wde(jme),this.buildLocale=wde(Nme),this.buildPluginHooks=function(){let e,t=[],n=[];return(r,i)=>(e&&rde(r,t)&&rde(i,n)||(e=function(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(e){for(let t of e){const e=t.name;void 0===n[e]?(n[e]=t.id,i(t.deps),r=Ame(r,t)):t.id}}return e&&i(e),i(t),r}(r,i)),t=r,n=i,e)}(),this.buildDateEnv=wde(nfe),this.buildTheme=wde(rfe),this.parseToolbars=wde($me),this.buildViewSpecs=wde(Mme),this.buildDateProfileGenerator=jde(ife),this.buildViewApi=wde(afe),this.buildViewUiProps=jde(lfe),this.buildEventUiBySource=wde(sfe,eue),this.buildEventUiBases=wde(ofe),this.parseContextBusinessHours=jde(dfe),this.buildTitle=wde(Zme),this.nowManager=new efe,this.emitter=new dhe,this.actionRunner=new Xme(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new efe;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let a={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=function(e,t,n){let r=e.initialDate;return null!=r?t.createMarker(r):n.getDateMarker()}(n.calendarOptions,n.dateEnv,this.nowManager),o=i.dateProfileGenerator.build(s);Mue(o.activeRange,s)||(s=o.currentRange.start);for(let u of n.pluginHooks.contextInit)u(a);let l=function(e,t,n){let r=t?t.activeRange:null;return Ime({},function(e,t){let n=ahe(t),r=[].concat(e.eventSources||[]),i=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(let a of r){let e=ihe(a,t,n);e&&i.push(e)}return i}(e,n),r,n)}(n.calendarOptions,o,a),c={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:o,businessHours:this.parseContextBusinessHours(a),eventSources:l,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},d=Object.assign(Object.assign({},a),c);for(let u of n.pluginHooks.reducers)Object.assign(c,u(null,null,d));cfe(c,a)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this,i=function(e,t){return"SET_OPTION"===t.type?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}(n.dynamicOptionOverrides,e),a=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),s=function(e,t){return"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType),e}(n.currentViewType,e),o=this.computeCurrentViewData(s,a,t.optionOverrides,i);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(o.options);let l={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=n;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(d=o.dateProfileGenerator.build(c)),c=function(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}(c,e),d=function(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(i=r.buildPrev(e,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(e,n),i.isValid)return i}return e}(d,e,c,o.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&Mue(d.currentRange,c)||(c=d.currentRange.start);let u=function(e,t,n,r){let i=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Ime(e,t.sources,i,r);case"REMOVE_EVENT_SOURCE":return a=e,s=t.sourceId,Kde(a,e=>e.sourceId!==s);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Lme(e,i,r):e;case"FETCH_EVENT_SOURCES":return Rme(e,t.sourceIds?Xde(t.sourceIds):Bme(e,r),i,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,r){let i=e[t];return i&&n===i.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}var a,s}(n.eventSources,e,d,l),h=function(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,i,a){if(t&&n===t.latestFetchId){let n=Gue(she(i,t,a),t,a);return r&&(n=Fue(n,r,a)),Kue(che(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,i);case"RESET_RAW_EVENTS":return function(e,t,n,r,i){const{defIdMap:a,instanceIdMap:s}=function(e){const{defs:t,instances:n}=e,r={},i={};for(let a in t){const e=t[a],{publicId:n}=e;n&&(r[n]=a)}for(let a in n){const e=t[n[a].defId],{publicId:r}=e;r&&(i[r]=a)}return{defIdMap:r,instanceIdMap:i}}(e);return Fue(Gue(she(n,t,i),t,i,!1,a,s),r,i)}(e,n[t.sourceId],t.rawEvents,r.activeRange,i);case"ADD_EVENTS":return function(e,t,n,r){return n&&(t=Fue(t,n,r)),Kue(e,t)}(e,t.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Kue(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Fue(e,r.activeRange,i):e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:r}=e,i={},a={};for(let s in n)t.defs[s]||(i[s]=n[s]);for(let s in r)!t.instances[s]&&i[r[s].defId]&&(a[s]=r[s]);return{defs:i,instances:a}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return che(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Jue(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}(n.eventStore,e,u,d,l),p=Pme(u)&&!o.options.progressiveEventRendering&&n.renderableEventStore||h,{eventUiSingleBase:m,selectionConfig:f}=this.buildViewUiProps(l),g=this.buildEventUiBySource(u),x={dynamicOptionOverrides:i,currentViewType:s,currentDate:c,dateProfile:d,eventSources:u,eventStore:h,renderableEventStore:p,selectionConfig:f,eventUiBases:this.buildEventUiBases(p.defs,m,g),businessHours:this.parseContextBusinessHours(l),dateSelection:zme(n.dateSelection,e),eventSelection:Wme(n.eventSelection,e),eventDrag:Ume(n.eventDrag,e),eventResize:Vme(n.eventResize,e)},b=Object.assign(Object.assign({},l),x);for(let w of a.pluginHooks.reducers)Object.assign(x,w(n,e,b));let y=cfe(n,l),v=cfe(x,l);!y&&v?r.trigger("loading",!0):y&&!v&&r.trigger("loading",!1),this.state=x,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),s=r.pluginHooks.optionChangeHandlers,o=n&&n.calendarOptions,l=r.calendarOptions;if(o&&o!==l){o.timeZone!==l.timeZone&&(t.eventSources=a.eventSources=function(e,t,n){let r=t?t.activeRange:null;return Rme(e,Bme(e,n),r,!0,n)}(a.eventSources,t.dateProfile,a),t.eventStore=a.eventStore=lhe(a.eventStore,n.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=lhe(a.renderableEventStore,n.dateEnv,a.dateEnv));for(let e in s)-1===this.optionsForHandling.indexOf(e)&&o[e]===l[e]||s[e](l[e],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:i,localeDefaults:a,availableLocaleData:s,extra:o}=this.processRawCalendarOptions(e,t);ufe(o);let l=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,i,s,r.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),d=this.buildTheme(r,i),u=this.parseToolbars(r,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:i,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:u,localeDefaults:a,availableRawLocales:s.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=$de([Fde,e,t]),i=this.organizeRawLocales(n),a=i.map,s=this.buildLocale(r||i.defaultCode,a).options,o=this.buildPluginHooks(e.plugins||[],Jme),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Rde),Bde),Hde),o.listenerRefiners),o.optionRefiners),c={},d=$de([Fde,s,e,t]),u={},h=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let f in d)-1===this.optionsForRefining.indexOf(f)&&(d[f]===h[f]||zde[f]&&f in h&&zde[f](h[f],d[f]))?u[f]=p[f]:l[f]?(u[f]=l[f](d[f]),m=!0):c[f]=h[f];return m&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=u,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:i,localeDefaults:s,extra:c}}_computeCurrentViewData(e,t,n,r){let i=t.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:s}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r);return ufe(s),this.nowManager.handleInput(t.dateEnv,a.now),{viewSpec:i,options:a,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,i){let a=$de([Fde,e.optionDefaults,n,r,e.optionOverrides,i]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Rde),Bde),Hde),Vde),t.listenerRefiners),t.optionRefiners),o={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,u={};for(let h in a)a[h]===l[h]||zde[h]&&zde[h](a[h],l[h])?o[h]=c[h]:(a[h]===this.currentCalendarOptionsInput[h]||zde[h]&&zde[h](a[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(o[h]=this.currentCalendarOptionsRefined[h]):s[h]?o[h]=s[h](a[h]):u[h]=a[h],d=!0);return d&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:u}}}function nfe(e,t,n,r,i,a,s,o){let l=Nme(t||s.defaultCode,s.map);return new oue({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function rfe(e,t){return new(t.themeClasses[e.themeSystem]||Cme)(e)}function ife(e){return new(e.dateProfileGeneratorClass||Lue)(e)}function afe(e,t,n){return new Yme(e,t,n)}function sfe(e){return Jde(e,e=>e.ui)}function ofe(e,t,n){let r={"":t};for(let i in e){let t=e[i];t.sourceId&&n[t.sourceId]&&(r[i]=n[t.sourceId])}return r}function lfe(e){let{options:t}=e;return{eventUiSingleBase:the({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:the({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function cfe(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function dfe(e){return t=e.options.businessHours,n=e,Gue(function(e){let t;return t=!0===e?[{}]:Array.isArray(e)?e.filter(e=>e.daysOfWeek):"object"==typeof e&&e?[e]:[],t=t.map(e=>Object.assign(Object.assign({},uhe),e)),t}(t),null,n);var t,n}function ufe(e,t){for(let n in e);}class hfe extends gue{render(){return ule("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],i=!0;for(let a of e){let{buttonName:e,buttonClick:s,buttonText:o,buttonIcon:l,buttonHint:c}=a;if("title"===e)i=!1,r.push(ule("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let i=e===t.activeButton,a=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,d=[`fc-${e}-button`,n.getClass("button")];i&&d.push(n.getClass("buttonActive")),r.push(ule("button",{type:"button",title:"function"==typeof c?c(t.navUnit):c,disabled:a,"aria-pressed":i,className:d.join(" "),onClick:s},o||(l?ule("span",{className:l,role:"img"}):"")))}}return r.length>1?ule("div",{className:i&&n.getClass("buttonGroup")||""},...r):r[0]}}class pfe extends gue{render(){let e,t,{model:n,extraClassName:r}=this.props,i=!1,a=n.sectionWidgets,s=a.center;return a.left?(i=!0,e=a.left):e=a.start,a.right?(i=!0,t=a.right):t=a.end,ule("div",{className:[r||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",s||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return ule(hfe,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class mfe extends gue{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,xue(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",a="";return n?null!==t.availableWidth?i=t.availableWidth/n:a=1/n*100+"%":i=e.height||"",ule("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class ffe extends Uhe{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,i=khe(t);if(i&&n.isValidSegDownEl(e.target)){let a=_ce(e.target,".fc-event-forced-url"),s=a?a.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new yhe(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi}),s&&!e.defaultPrevented&&(window.location.href=s)}},this.destroy=Rce(e.el,"click",".fc-event",this.handleSegClick)}}class gfe extends Uhe{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{khe(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=function(e,t,n,r){let i;return Rce(e,"mouseover",".fc-event",(e,t)=>{if(t!==i){i=t,n(e,t);let a=e=>{i=null,r(e,t),t.removeEventListener("mouseleave",a)};t.addEventListener("mouseleave",a)}})}(e.el,0,this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:i}=r,a=khe(n);t&&!r.isValidSegDownEl(t.target)||i.emitter.trigger(e,{el:n,event:new yhe(i,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:i.viewApi})}}class xfe extends fue{constructor(){super(...arguments),this.buildViewContext=wde(mue),this.buildViewPropTransformers=wde(yfe),this.buildToolbarProps=wde(bfe),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Ice()},this.registerInteractiveComponent=(e,t)=>{let n=function(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}(e,t),r=[ffe,gfe].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,$he[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete $he[e.uid]},this.resizeRunner=new Ace(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:r}=t,i=!1,a="";t.isHeightAuto||t.forPrint?a="":null!=r.height?i=!0:null!=r.contentHeight?a=r.contentHeight:e=Math.max(r.aspectRatio,.5);let s=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),o=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return ule(pue.Provider,{value:s},ule(qhe,{unit:"day"},r=>{let s=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,r,t.viewTitle);return ule(ple,null,n.header&&ule(pfe,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:o},s)),ule(mfe,{liquid:i,height:a,aspectRatio:e,labeledById:o},this.renderView(t),this.buildAppendContent()),n.footer&&ule(pfe,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},s)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;return ule(ple,{},...e.pluginHooks.viewContainerAppends.map(t=>t(e)))}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of i)Object.assign(r,a.transform(r,e));return ule(n.component,Object.assign({},r))}}function bfe(e,t,n,r,i,a){let s=n.build(i,void 0,!1),o=n.buildPrev(t,r,!1),l=n.buildNext(t,r,!1);return{title:a,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:s.isValid&&!Mue(t.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function yfe(e){return e.map(e=>new e)}class vfe extends Yhe{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;cue(()=>{Ple(ule(Whe,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,r,i)=>(this.setClassNames(t),this.setHeight(n),ule(jue.Provider,{value:this.customContentRenderId},ule(xfe,Object.assign({isHeightAuto:r,forPrint:i},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ple(null,this.el),this.setClassNames([]),this.setHeight(""))},function(e){e.isConnected&&e.getRootNode&&Nce(e.getRootNode())}(e),this.el=e,this.renderRunner=new Ace(this.handleRenderRequest),new tfe({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){cue(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!rde(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){Mce(this.el,"height",e)}}const wfe=parseInt(String(b.version).split(".")[0])<18;class jfe extends x.Component{constructor(){super(...arguments),this.elRef=x.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(b.createElement(Nfe,{key:t.id,customRendering:t}));return b.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new bme;let t;this.handleCustomRendering=e.handle.bind(e),this.calendar=new vfe(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{dt.flushSync(()=>{})}),e.subscribe(e=>{const n=Date.now(),r=!t;(wfe||r||this.isUpdating||this.isUnmounting||n-t<100?kfe:dt.flushSync)(()=>{this.setState({customRenderingMap:e},()=>{t=n,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}jfe.act=kfe;class Nfe extends x.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n="function"==typeof t?t(e.renderProps):t;return dt.createPortal(n,e.containerEl)}}function kfe(e){e()}class Sfe extends ppe{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(e,t){let{props:n,context:r}=this,i=[],a=Qpe(r.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ule(Sue,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},ule(Kpe,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,r){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:a,context:s}=this,o=!a.forPrint&&Qpe(s.options),l=!a.forPrint&&function(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}(s.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ype}]}),ule(Sue,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},ule(i,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}}function Afe(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.row].push(r);return n}function Cfe(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.firstCol].push(r);return n}function _fe(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let r=0;r<t;r+=1)n[r]=null;return n}const Efe=Lde({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Tfe(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class Ofe extends gue{render(){let{props:e}=this;return ule(Xpe,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Efe,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Mfe extends gue{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,i=Ohe(r,n.eventTimeFormat||Efe,t,!0,e.defaultDisplayEventEnd);return ule(Jpe,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Ihe(e.seg,t),defaultGenerator:Dfe,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function Dfe(e){return ule(ple,null,ule("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&ule("div",{className:"fc-event-time"},e.timeText),ule("div",{className:"fc-event-title"},e.event.title||ule(ple,null,"")))}class Pfe extends gue{constructor(){super(...arguments),this.compileSegs=wde(Ife)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return ule(ume,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ule(ple,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return ule("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},Tfe(t)?ule(Mfe,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},Mhe(t,e.todayRange))):ule(Ofe,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},Mhe(t,e.todayRange))))}))}})}}function Ife(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const Lfe=Lde({week:"narrow"});class Rfe extends ppe{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Ice()},this.handleRootEl=e=>{xue(this.rootElRef,e),xue(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:i,dateEnv:a}=e,{date:s,dateProfile:o}=t;const l=t.showDayNumber&&function(e,t,n){const{start:r,end:i}=t,a=ode(i,-1),s=n.getYear(r),o=n.getMonth(r),l=n.getYear(a),c=n.getMonth(a);return!(s===l&&o===c)&&Boolean(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<i.valueOf())}(s,o.currentRange,a);return ule(tme,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Ffe,date:s,dateProfile:o,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:l,extraRenderProps:t.extraRenderProps},(a,o)=>ule("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ule(ome,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:tpe(e,s,"week"),date:s,defaultFormat:Lfe}),!o.isDisabled&&(t.showDayNumber||nme(i)||t.forceDayTop)?ule("div",{className:"fc-daygrid-day-top"},ule(a,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},tpe(e,s)),{id:n.dayNumberId})})):t.showDayNumber?ule("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ule("a",{className:"fc-daygrid-day-number"},"")):void 0,ule("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ule("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ule(Pfe,{allDayDate:s,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ule("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Ffe(e){return e.dayNumberText||ule(ple,null,"")}function Bfe(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function Hfe(e){return Bfe(e)+":"+e.lastCol}function zfe(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,a=i.range,s=Eue(a,{start:r[t].date,end:sde(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:e.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&s.end.valueOf()===a.end.valueOf()})}class Wfe extends mpe{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[gpe(e)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(r);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:a,touchingLevel:s,touchingLateral:o}=e;if(this.hiddenConsumes&&a){const e=gpe(a);if(!i[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},a),{span:xpe(a.span,t.span)});i[gpe(e)]=!0,r[s][o]=e,n.push(e),this.splitEntry(a,t,n)}else i[e]=!0,n.push(a)}super.handleInvalidInsertion(e,t,n)}}class Ufe extends ppe{constructor(){super(...arguments),this.cellElRefs=new Wpe,this.frameElRefs=new Wpe,this.fgElRefs=new Wpe,this.segHarnessRefs=new Wpe,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=e.cells.length,a=Cfe(e.businessHourSegs,i),s=Cfe(e.bgEventSegs,i),o=Cfe(this.getHighlightSegs(),i),l=Cfe(this.getMirrorSegs(),i),{singleColPlacements:c,multiColPlacements:d,moreCnts:u,moreMarginTops:h}=function(e,t,n,r,i,a,s){let o=new Wfe(t=>{let n=e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1);return i[n]||1});o.allowReslicing=!0,o.strictOrder=r,!0===t||!0===n?(o.maxCoord=a,o.hiddenConsumes=!0):"number"==typeof t?o.maxStackCnt=t:"number"==typeof n&&(o.maxStackCnt=n,o.hiddenConsumes=!0);let l=[],c=[];for(let x=0;x<e.length;x+=1){let t=e[x],n=Hfe(t);null!=i[n]?l.push({index:x,span:{start:t.firstCol,end:t.lastCol+1}}):c.push(t)}let d=o.addSegs(l),u=o.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=function(e,t,n){let r=function(e,t){let n=[];for(let r=0;r<t;r+=1)n.push([]);for(let r of e)for(let e=r.span.start;e<r.span.end;e+=1)n[e].push(r);return n}(e,n.length),i=[],a=[],s=[];for(let o=0;o<n.length;o+=1){let e=r[o],l=[],c=0,d=0;for(let r of e){let e=t[r.index];l.push({seg:zfe(e,o,o+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let u=[];c=0,d=0;for(let r of e){let e=t[r.index],i=r.span.end-r.span.start>1,a=r.span.start===o;d+=r.levelCoord-c,c=r.levelCoord+r.thickness,i?(d+=r.thickness,a&&u.push({seg:zfe(e,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):a&&(u.push({seg:zfe(e,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:d}),d=0)}i.push(l),a.push(u),s.push(d)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}(u,e,s),f=[],g=[];for(let x of c){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=x.firstCol;e<=x.lastCol;e+=1)h[e].push({seg:zfe(x,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)f.push(0);for(let x of d){let t=e[x.index],n=x.span;p[n.start].push({seg:zfe(t,n.start,n.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=n.start;e<n.end;e+=1)f[e]+=1,h[e].push({seg:zfe(t,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(m[x]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:f,moreMarginTops:g}}(function(e,t){let n=e.map(Che);return n.sort((e,n)=>function(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(i=$ce(e,t,n[r]),i)return i;return 0}(e,n,t)),n.map(e=>e._seg)}(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ule("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?c[n]:d[n],e.todayRange,p),i=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}(l[n],d),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return ule(Rfe,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:u[n],moreMarginTop:h[n],singlePlacements:c[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:ule(ple,null,ule(ple,null,r),ule(ple,null,i)),bgContent:ule(ple,null,this.renderFillSegs(o[n],"highlight"),this.renderFillSegs(a[n],"non-business"),this.renderFillSegs(s[n],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!eue(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,i,a,s){let{context:o}=this,{eventSelection:l}=this.props,{framePositions:c}=this.state,d=1===this.props.cells.length,u=i||a||s,h=[];if(c)for(let p of t){let{seg:e}=p,{instanceId:t}=e.eventRange.instance,m=p.isVisible&&!r[t],f=p.isAbsolute,g="",x="";f&&(o.isRtl?(x=0,g=c.lefts[e.lastCol]-c.lefts[e.firstCol]):(g=0,x=c.rights[e.firstCol]-c.rights[e.lastCol])),h.push(ule("div",{className:"fc-daygrid-event-harness"+(f?" fc-daygrid-event-harness-abs":""),key:Bfe(e),ref:u?null:this.segHarnessRefs.createRef(Hfe(e)),style:{visibility:m?"":"hidden",marginTop:f?"":p.marginTop,top:f?p.absoluteTop:"",left:g,right:x}},Tfe(e)?ule(Mfe,Object.assign({seg:e,isDragging:i,isSelected:t===l,defaultDisplayEventEnd:d},Mhe(e,n))):ule(Ofe,Object.assign({seg:e,isDragging:i,isResizing:a,isDateSelecting:s,isSelected:t===l,defaultDisplayEventEnd:d},Mhe(e,n)))))}return h}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,a=[];if(i)for(let s of e){let e=n?{right:0,left:i.lefts[s.lastCol]-i.lefts[s.firstCol]}:{left:0,right:i.rights[s.firstCol]-i.rights[s.lastCol]};a.push(ule("div",{key:Phe(s.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?ule(ime,Object.assign({seg:s},Mhe(s,r))):sme(t)))}return ule(ple,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new lpe(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new lpe(t,e,!0,!1)})}}const i=this.state.segHeights,a=this.querySegHeights(),s=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},i),a),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}Ufe.addStateEquality({segHeights:eue});class Vfe extends ppe{constructor(){super(...arguments),this.splitBusinessHourSegs=wde(Afe),this.splitBgEventSegs=wde($fe),this.splitFgEventSegs=wde(Afe),this.splitDateSelectionSegs=wde(Afe),this.splitEventDrag=wde(_fe),this.splitEventResize=wde(_fe),this.rowRefs=new Wpe}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),s=this.splitDateSelectionSegs(e.dateSelectionSegs,n),o=this.splitEventDrag(e.eventDrag,n),l=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return ule(qhe,{unit:"day"},(t,d)=>ule(ple,null,e.cells.map((t,u)=>ule(Ufe,{ref:this.rowRefs.createRef(u),key:t.length?t[0].date.toISOString():u,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[u],eventSelection:e.eventSelection,bgEventSegs:i[u],fgEventSegs:a[u],dateSelectionSegs:s[u],eventDrag:o[u],eventResize:l[u],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new lpe(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new lpe(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),a=r.topToIndex(t);if(null!=a&&null!=i){let e=this.props.cells[a][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(a,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[a],bottom:r.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:sde(n,1)}}}function $fe(e,t){return Afe(e.filter(qfe),t)}function qfe(e){return e.eventRange.def.allDay}class Gfe extends ppe{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);let a=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return ule("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ule("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,ule("tbody",{role:"presentation"},ule(Vfe,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function(e,t){let n;var r;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${r=t.currentDate,r.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`)),n||(n=e.querySelector(`[data-date="${yde(t.currentDate)}"]`)),n}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class Yfe extends Ope{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class Qfe extends ppe{constructor(){super(...arguments),this.slicer=new Yfe,this.tableRef={current:null}}render(){let{props:e,context:t}=this;return ule(Gfe,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}function Kfe(e,t){let n=new Epe(e.renderRange,t);return new Tpe(n,/year|month|week/.test(e.currentRangeUnit))}jce(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var Jfe=Sme({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends Sfe{constructor(){super(...arguments),this.buildDayTableModel=wde(Kfe),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),i=e.dayHeaders&&ule(Cpe,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),a=t=>ule(Qfe,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,a,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,a)}},dateProfileGeneratorClass:class extends Lue{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:i}=this;return function(e){let t,{dateEnv:n,currentRange:r}=e,{start:i,end:a}=r;if(e.snapToWeek&&(i=n.startOfWeek(i),t=n.startOfWeek(a),t.valueOf()!==a.valueOf()&&(a=ade(t,1))),e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth(sde(r.end,-1)));a=ade(a,6-Math.ceil(lde(e,a)/7))}return{start:i,end:a}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});wpe.touchMouseIgnoreWait=500;let Xfe=0,Zfe=0,ege=!1;class tge{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let n=e.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,Xfe+=1,setTimeout(()=>{Xfe-=1},wpe.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new dhe,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Zfe+=1,1===Zfe&&window.addEventListener("touchmove",nge,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Zfe-=1,Zfe||window.removeEventListener("touchmove",nge,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!_ce(n,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){ege=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?_ce(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Xfe||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ege=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n,r,i=e.touches,a=0,s=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(a=n-this.origPageX,s=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:a,deltaY:s}}}function nge(e){ege&&e.preventDefault()}class rge{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Oce(n,{left:r.left,top:r.top}),function(e,t){let n=r=>{t(),Fce.forEach(t=>{e.removeEventListener(t,n)})};Fce.forEach(t=>{e.addEventListener(t,n)})}(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(Cce(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Oce(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Oce(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class ige extends dpe{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class age extends ige{constructor(e,t){super(new upe(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return ape(this.scrollController.el)}}class sge extends ige{constructor(e){super(new hpe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const oge="function"==typeof performance?performance.now:Date.now;class lge{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=oge();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,r=t-window.scrollY,i=null===this.pointerScreenY?0:r-this.pointerScreenY,a=null===this.pointerScreenX?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(oge()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,i=r-e.distance,a=i*i/(r*r)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+a*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+a*s)}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null,i=this.scrollCaches||[];for(let a of i){let i=a.clientRect,s=e-i.left,o=i.right-e,l=t-i.top,c=i.bottom-t;s>=0&&o>=0&&l>=0&&c>=0&&(l<=n&&this.everMovedUp&&a.canScrollUp()&&(!r||r.distance>l)&&(r={scrollCache:a,name:"top",distance:l}),c<=n&&this.everMovedDown&&a.canScrollDown()&&(!r||r.distance>c)&&(r={scrollCache:a,name:"bottom",distance:c}),s<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!r||r.distance>s)&&(r={scrollCache:a,name:"left",distance:s}),o<=n&&this.everMovedRight&&a.canScrollRight()&&(!r||r.distance>o)&&(r={scrollCache:a,name:"right",distance:o}))}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new sge(!1):new age(e,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)"object"==typeof n?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class cge extends vpe{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{var t;this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(t=document.body).style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Lce),document.body.addEventListener("contextmenu",Lce),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t,n=this.minDistance,{deltaX:r,deltaY:i}=e;t=r*r+i*i,t>=n*n&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{var t;this.isInteracting&&(this.isInteracting=!1,(t=document.body).style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Lce),document.body.removeEventListener("contextmenu",Lce),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new tge(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new rge,this.autoScroller=new lge}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class dge{constructor(e){this.el=e,this.origRect=spe(e),this.scrollCaches=ope(e).map(e=>new age(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let r of this.scrollCaches)if(!uge(r.getEventTarget())&&!Qhe(n,r.clientRect))return!1;return!0}}function uge(e){let t=e.tagName;return"HTML"===t||"BODY"===t}class hge{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new dhe}processFirstCoord(e){let t,n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl;var a,s;i instanceof HTMLElement&&(t=spe(i),a=r,s=t,r={left:Math.min(Math.max(a.left,s.left),s.right),top:Math.min(Math.max(a.top,s.top),s.bottom)});let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&t){let e=Khe(t,o.rect);e&&(r=function(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}(e))}this.coordAdjust=function(e,t){return{left:e.left-t.left,top:e.top-t.top}}(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&pge(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=Jde(this.droppableStore,e=>(e.component.prepareHits(),new dge(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,i=null;for(let a in n){let s=n[a].component,o=r[a];if(o&&o.isWithinClipping(e,t)){let n=o.computeLeft(),r=o.computeTop(),l=e-n,c=t-r,{origRect:d}=o,u=d.right-d.left,h=d.bottom-d.top;if(l>=0&&l<u&&c>=0&&c<h){let e=s.queryHit(l,c,u,h);e&&Oue(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(l+n-window.scrollX,c+r-window.scrollY)))&&(!i||e.layer>i.layer)&&(e.componentId=a,e.context=s.context,e.rect.left+=n,e.rect.right+=n,e.rect.top+=r,e.rect.bottom+=r,i=e)}}}return i}}function pge(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(n=e.dateSpan,r=t.dateSpan,i=n.range,a=r.range,(null===i.start?null:i.start.valueOf())===(null===a.start?null:a.start.valueOf())&&(null===i.end?null:i.end.valueOf())===(null===a.end?null:a.end.valueOf())&&n.allDay===r.allDay&&function(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}(n,r));var n,r,i,a}function mge(e,t){let n={};for(let a of t.pluginHooks.datePointTransforms)Object.assign(n,a(e,t));var r,i;return Object.assign(n,(r=e,{date:(i=t.dateEnv).toDate(r.range.start),dateStr:i.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay})),n}class fge extends Uhe{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:n,dragging:r}=this,{mirror:i}=r,{options:a}=n.context,s=n.context;this.subjectEl=e.subjectEl;let o=this.subjectSeg=khe(e.subjectEl),l=(this.eventRange=o.eventRange).instance.instanceId;this.relevantEvents=Que(s.getCurrentData().eventStore,l),r.minDistance=e.isTouch?0:a.eventDragMinDistance,r.delay=e.isTouch&&l!==n.props.eventSelection?function(e){let{options:t}=e.context,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(n):null,a.fixedMirrorParent?i.parentNode=a.fixedMirrorParent:i.parentNode=_ce(t,".fc"),i.revertDuration=a.dragRevertDuration;let c=n.isValidSegDownEl(t)&&!_ce(t,".fc-event-resizer");r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new yhe(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let n=this.relevantEvents,r=this.hitDragging.initialHit,i=this.component.context,a=null,s=null,o=null,l=!1,c={affectedEvents:n,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){a=e.context;let t=a.options;i===a||t.editable&&t.droppable?(s=function(e,t,n,r){let i=e.dateSpan,a=t.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,s=a.allDay?dde(n):n);let c=Iue(s,o,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let u of r)u(d,e,t);return d}(r,e,this.eventRange.instance.range.start,a.getCurrentData().pluginHooks.eventDragMutationMassagers),s&&(o=fhe(n,a.getCurrentData().eventUiBases,s,a),c.mutatedEvents=o,Dpe(c,e.dateProfile,a)||(l=!0,s=null,o=null,c.mutatedEvents={defs:{},instances:{}}))):a=null}this.displayDrag(a,c),l?Uce():Vce(),t||(i===a&&pge(r,e)&&(s=null),this.dragging.setMirrorNeedsRevert(!s),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=a,this.validMutation=s,this.mutatedRelevantEvents=o)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,n=t.viewApi,{receivingContext:r,validMutation:i}=this,a=this.eventRange.def,s=this.eventRange.instance,o=new yhe(t,a,s),l=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:d}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:o,jsEvent:e.origEvent,view:n}),i){if(r===t){let r=new yhe(t,c.defs[a.defId],s?c.instances[s.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let d={oldEvent:o,event:r,relatedEvents:whe(c,t,s),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}},u={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(u,e(i,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},d),u),{el:e.subjectEl,delta:i.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",d)}else if(r){let i={event:o,relatedEvents:whe(l,t,s),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},i),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:l}),t.emitter.trigger("eventRemove",i);let u=c.defs[a.defId],h=c.instances[s.instanceId],p=new yhe(r,u,h);r.dispatch({type:"MERGE_EVENTS",eventStore:c});let m={event:p,relatedEvents:whe(c,r,h),revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};r.emitter.trigger("eventAdd",m),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:s.instanceId}),r.emitter.trigger("drop",Object.assign(Object.assign({},mge(d.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:d.context.viewApi})),r.emitter.trigger("eventReceive",Object.assign(Object.assign({},m),{draggedEl:e.subjectEl,view:d.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,r=this.dragging=new cge(e.el);r.pointer.selector=fge.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new hge(this.dragging,$he);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}fge.SELECTOR=".fc-event-draggable, .fc-event-resizable";const gge={fixedMirrorParent:Gde},xge={dateClick:Gde,eventDragStart:Gde,eventDragStop:Gde,eventDrop:Gde,eventResizeStart:Gde,eventResizeStop:Gde,eventResize:Gde,drop:Gde,eventReceive:Gde,eventLeave:Gde};wpe.dataAttrPrefix="";var bge=Sme({name:"@fullcalendar/interaction",componentInteractions:[class extends Uhe{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,n=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(n))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:n}=this.dragging;if(!n.wasTouchScroll){let{initialHit:n,finalHit:r}=this.hitDragging;if(n&&r&&pge(n,r)){let{context:r}=t,i=Object.assign(Object.assign({},mge(n.dateSpan,r)),{dayEl:n.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger("dateClick",i)}}},this.dragging=new cge(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new hge(this.dragging,Vhe(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends Uhe{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:n}=this,{options:r}=t.context,i=r.selectable&&t.isValidDateDownEl(e.origEvent.target);n.setIgnoreMove(!i),n.delay=e.isTouch?function(e){let{options:t}=e.context,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:n}=this.component,r=null,i=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=function(e,t,n){let r=e.dateSpan,i=t.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(Yce);let s={};for(let o of n){let n=o(e,t);if(!1===n)return null;n&&Object.assign(s,n)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}(t,e,n.pluginHooks.dateSelectionTransformers)),r&&function(e,t,n){return!!Oue(t.validRange,e.range)&&Ppe({dateSelection:e},n)}(r,e.dateProfile,n)||(i=!0,r=null)}r?n.dispatch({type:"SELECT_DATES",selection:r}):t||n.dispatch({type:"UNSELECT_DATES"}),i?Uce():Vce(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(hhe(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new cge(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new hge(this.dragging,Vhe(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},fge,class extends Uhe{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,n=khe(this.querySegEl(e)),r=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==r.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,n=this.eventRange;this.relevantEvents=Que(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=khe(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new yhe(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let{context:r}=this.component,i=this.relevantEvents,a=this.hitDragging.initialHit,s=this.eventRange.instance,o=null,l=null,c=!1,d={affectedEvents:i,mutatedEvents:{defs:{},instances:{}},isEvent:!0};e&&(e.componentId===a.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(a,e)||(o=function(e,t,n,r){let i=e.context.dateEnv,a=Iue(e.dateSpan.range.start,t.dateSpan.range.start,i,e.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}(a,e,n.subjectEl.classList.contains("fc-event-resizer-start"),s.range))),o&&(l=fhe(i,r.getCurrentData().eventUiBases,o,r),d.mutatedEvents=l,Dpe(d,e.dateProfile,r)||(c=!0,o=null,l=null,d.mutatedEvents=null)),l?r.dispatch({type:"SET_EVENT_RESIZE",state:d}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?Uce():Vce(),t||(o&&pge(a,e)&&(o=null),this.validMutation=o,this.mutatedRelevantEvents=l)},this.handleDragEnd=e=>{let{context:t}=this.component,n=this.eventRange.def,r=this.eventRange.instance,i=new yhe(t,n,r),a=this.relevantEvents,s=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:i,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let o=new yhe(t,s.defs[n.defId],r?s.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:s});let l={oldEvent:i,event:o,relatedEvents:whe(s,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:a})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},l),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Xce(0),endDelta:this.validMutation.endDelta||Xce(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",l)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new cge(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new hge(this.dragging,Vhe(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return _ce(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,n=Dce(e.origEvent);this.matchesCancel=!!_ce(n,t),this.matchesEvent=!!_ce(n,fge.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:n}=this,r=t.getCurrentData();if(!n.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let n=t.options.unselectAuto;!n||n&&this.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new tge(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:cge,optionRefiners:gge,listenerRefiners:xge}),yge={code:"id",week:{dow:1,doy:7},buttonText:{prev:"mundur",next:"maju",today:"hari ini",year:"Tahun",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sehari penuh",moreLinkText:"lebih",noEventsText:"Tidak ada acara untuk ditampilkan"};const vge={Weekly:"bg-red-600 hover:bg-red-700",Monthly:"bg-blue-600 hover:bg-blue-700","3 Months":"bg-green-600 hover:bg-green-700","6 Months":"bg-yellow-600 hover:bg-yellow-700","1 Year":"bg-purple-600 hover:bg-purple-700",default:"bg-gray-500 hover:bg-gray-600"},wge=e=>null==e||""===e?"N/A":String(e),jge=({isOpen:e,onClose:t,title:n,children:r,className:i,maxWidth:a="max-w-xl"})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a} ${i||"w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Nge=({label:e,value:t,className:n="",valueColorClass:r="text-gray-900"})=>h.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${n}`,children:[h.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:e}),h.jsx("p",{className:`mt-1 text-sm font-semibold ${r}`,children:null!=t?t:"N/A"})]}),kge=({title:e})=>h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:e}),Sge=({record:e,onUpdateRecord:t})=>h.jsxs("div",{className:"space-y-6",children:[h.jsx(kge,{title:"Monitoring Details"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(Nge,{label:"Monitoring Interval",value:wge(e.interval)}),h.jsx(Nge,{label:"Unit",value:wge(e.unitWilayah)}),h.jsx(Nge,{label:"Machine",value:wge(e.mesin)}),h.jsx(Nge,{label:"Item",value:wge(e.item)}),h.jsx(Nge,{label:"Unit of Measure",value:wge(e.unitOfMeasure)}),h.jsx(Nge,{label:"Monitoring Result",value:wge(e.monitoringResult),valueColorClass:"MS"===e.msStatus?"text-green-600":"TMS"===e.msStatus?"text-red-600":"text-gray-900"}),h.jsx(Nge,{label:"MS Status",value:wge(e.msStatus),valueColorClass:"MS"===e.msStatus?"text-green-600":"TMS"===e.msStatus?"text-red-600":"text-gray-900"})]}),h.jsx(kge,{title:"Standard"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(Nge,{label:"Standard (Min)",value:wge(e.standardMin)}),h.jsx(Nge,{label:"Standard (Max)",value:wge(e.standardMax)}),h.jsx(Nge,{label:"Visual Standard",value:wge(e.standartVisual),className:"md:col-span-2"})]}),h.jsx(kge,{title:"Description"}),h.jsx("div",{className:"grid grid-cols-1",children:h.jsx(Nge,{label:"Notes",value:wge(e.notes)})})]}),Age=({records:e})=>{const[t,n]=x.useState(""),[r,i]=x.useState(""),a=x.useMemo(()=>e&&0!==e.length?["",...[...new Set(e.filter(e=>e.mesin&&"N/A"!==e.mesin&&""!==e.mesin.trim()).map(e=>e.mesin))].sort()]:[""],[e]),s=x.useMemo(()=>{if(!t||""===t)return[""];const n=e.filter(e=>e.mesin===t&&e.item&&"N/A"!==e.item&&""!==e.item.trim()).map(e=>e.item);return["",...[...new Set(n)].sort()]},[e,t]),o=x.useMemo(()=>t&&r&&""!==t&&""!==r?e.filter(e=>{const n=e.mesin===t,i=e.item===r,a=e.id.startsWith("activity-"),s=e.monitoringResult&&"N/A"!==e.monitoringResult&&"MS"!==e.monitoringResult&&"TMS"!==e.monitoringResult&&!isNaN(parseFloat(e.monitoringResult))&&isFinite(parseFloat(e.monitoringResult));return n&&i&&a&&s}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).map(e=>{const t=parseFloat(e.monitoringResult);return{date:new Date(e.date),dateString:new Date(e.date).toLocaleDateString("en-US"),result:t,msStatus:e.msStatus,notes:e.notes,machine:e.mesin,item:e.item,standardMin:e.standardMin,standardMax:e.standardMax,isActivity:e.id.startsWith("activity-")}}):[],[e,t,r]),l=x.useMemo(()=>{if(0===o.length)return null;try{const e=o.map(e=>e.result),t=e.reduce((e,t)=>e+t,0)/e.length,n=[...e].sort((e,t)=>e-t),r=n.length%2==0?(n[n.length/2-1]+n[n.length/2])/2:n[Math.floor(n.length/2)],i=e.reduce((e,n)=>e+Math.pow(n-t,2),0)/e.length,a=Math.sqrt(i),s=Math.min(...e),l=Math.max(...e),c=l-s,d=o.map(e=>e.date.getTime()),u=o.map(e=>e.result),h=d.length,p=d.reduce((e,t)=>e+t,0),m=u.reduce((e,t)=>e+t,0),f=d.reduce((e,t,n)=>e+t*u[n],0),g=h*d.reduce((e,t)=>e+t*t,0)-p*p,x=0!==g?(h*f-p*m)/g:0,b=x>.001?"increasing":x<-.001?"decreasing":"stable",y=a>0?Math.abs(x)/a:0,v=o.filter(e=>Math.abs(e.result-t)>2*a),w=o[0],j=null!==w.standardMin&&null!==w.standardMax?o.filter(e=>e.result>=(w.standardMin||0)&&e.result<=(w.standardMax||1/0)).length/o.length*100:null;return{mean:t,median:r,stdDev:a,min:s,max:l,range:c,count:e.length,trendDirection:b,trendStrength:1e3*y,slope:x,outliers:v,withinStandard:j,coefficientOfVariation:t>0?a/t*100:0}}catch(kxe){return null}},[o]),c=x.useMemo(()=>{const t=e.length,n=new Set(e.map(e=>e.mesin)).size,r=e.filter(e=>"MS"===e.msStatus).length,i=t>0?r/t*100:0;return[{title:"Total Monitoring Items",value:t.toLocaleString("id-ID"),icon:h.jsx(od,{})},{title:"Machines Monitored",value:n.toLocaleString("id-ID"),icon:h.jsx(Kd,{})},{title:"Success Rate",value:`${i.toFixed(1)}%`,icon:h.jsx(id,{})}]},[e]),d=x.useMemo(()=>{const t={};return e.forEach(e=>{e.mesin&&(t[e.mesin]=(t[e.mesin]||0)+1)}),Object.entries(t).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>({name:e,count:t}))},[e]),u=x.useMemo(()=>{const t={};return e.forEach(e=>{if(e.date){const n=new Date(e.date),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}`;t[r]=(t[r]||0)+1}}),Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{const[n,r]=e.split("-");return{name:`${new Date(Number(n),Number(r)-1,1).toLocaleString("en-US",{month:"short"})} ${n}`,"Monitoring Events":t}})},[e]),p=x.useMemo(()=>{const t={MS:0,TMS:0,"N/A":0};return e.forEach(e=>{const n=e.msStatus||"N/A";t[n]=(t[n]||0)+1}),[{name:"MS",value:t.MS},{name:"TMS",value:t.TMS},{name:"N/A",value:t["N/A"]}].filter(e=>e.value>0)},[e]),m=["#10B981","#EF4444","#6B7280"];return t&&r?0===o.length?h.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Dd,{className:"mx-auto text-gray-300 mb-4",size:48}),h.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),h.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',r,'" for machine "',t,"\" doesn't have numeric monitoring results."]}),h.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),h.jsx("button",{onClick:()=>{n(""),i("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):l?h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),h.jsxs("p",{className:"text-gray-600",children:[t,"  ",r]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx("select",{value:t,onChange:e=>{n(e.target.value),i("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:a.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))}),h.jsx("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:s.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.count})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:h.jsx(od,{className:"w-6 h-6"})})]})}),h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:h.jsx(Nu,{className:"w-6 h-6"})})]})}),h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:h.jsx(Dc,{className:"w-6 h-6"})})]})})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Nu,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),h.jsx("div",{className:"h-80",children:h.jsx(DG,{width:"100%",height:"100%",children:h.jsxs(hee,{data:o,children:[h.jsx(N8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(c9,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(b9,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(AG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:e=>[e,"Value"]}),h.jsx(B8,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Xc,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),h.jsx("p",{className:"text-xl font-bold text-gray-900",children:l.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[h.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",o.length," records)"]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e,t)=>h.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.dateString}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:e.result.toLocaleString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("MS"===e.msStatus?"bg-green-100 text-green-800":"TMS"===e.msStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.msStatus||"N/A"})}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:e.notes||"-"})]},t))})]})})]})]}):h.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ku,{className:"mx-auto text-yellow-500 mb-4",size:48}),h.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:c.map((e,t)=>h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e.title}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:e.icon})]})},e.title))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Xc,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),h.jsx("div",{className:"space-y-3",children:d.map((e,t)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:h.jsx("span",{className:"text-blue-600 font-bold text-sm",children:t+1})}),h.jsx("span",{className:"font-medium text-gray-800",children:e.name})]}),h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[e.count," events"]})]},e.name))})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(id,{className:"mr-2 text-blue-600"})," Status Distribution"]}),p.length>0?h.jsx("div",{className:"w-full h-64",children:h.jsx(DG,{width:"100%",height:"100%",children:h.jsxs(mee,{children:[h.jsx(A3,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:p.map((e,t)=>h.jsx(PG,{fill:m[t%m.length]},`cell-${t}`))}),h.jsx(AG,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:e=>[`${e} events`,"Count"]})]})})}):h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[h.jsx(Nu,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),u.length>0?h.jsx("div",{className:"h-80",children:h.jsx(DG,{width:"100%",height:"100%",children:h.jsxs(hee,{data:u,children:[h.jsx(N8,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),h.jsx(c9,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(b9,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),h.jsx(AG,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),h.jsx(B8,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):h.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(Nu,{className:"mx-auto text-gray-300 mb-4",size:64}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:0===e.length?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),e.length>0&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),h.jsxs("select",{value:t,onChange:e=>{n(e.target.value),i("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[h.jsx("option",{value:"",children:"Choose machine..."}),a.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))]}),t&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.length-1," item(s) available for this machine"]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),h.jsxs("select",{value:r,onChange:e=>{i(e.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!t,children:[h.jsx("option",{value:"",children:t?s.length>1?"Choose item...":"No items available":"Select machine first"}),s.slice(1).map(e=>h.jsx("option",{value:e,children:e},e))]}),r&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length," data point(s) available for analysis"]})]})]})]})]})},Cge=x.createContext(void 0),_ge=({isOpen:e,onClose:t,schedules:n,onSelectSchedule:r,titleDate:i})=>{const a=n.reduce((e,t)=>{const n=String(t.scheduleId||"unknown");return e[n]||(e[n]={scheduleId:n,machine:t.mesin,unit:t.unitWilayah,interval:t.interval,items:[]}),e[n].items.push(t),e},{}),s=({status:e})=>{const t={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:""},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:""},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:""},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:""}},n=t[e]||t.New;return h.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${n.color}`,children:[h.jsx("span",{className:"text-xs",children:n.icon}),e]})},o=({status:e})=>{const t={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:e};return h.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${t.color}`,children:t.label})};return h.jsx(jge,{isOpen:e,onClose:t,title:`Schedules for ${new Date(i).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),n.length," total items"]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(mu,{className:"w-4 h-4"}),Object.keys(a).length," schedules"]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[Object.values(a).some(e=>e.items.some(e=>"Done"===e.scheduleStatus))&&h.jsx(s,{status:"Done"}),Object.values(a).some(e=>e.items.some(e=>"On Progress"===e.scheduleStatus))&&h.jsx(s,{status:"On Progress"}),Object.values(a).some(e=>e.items.some(e=>"New"===e.scheduleStatus))&&h.jsx(s,{status:"New"})]})]})}),0===n.length?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Yc,{className:"text-gray-400 text-2xl"})}),h.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):h.jsx("div",{className:"space-y-4",children:Object.values(a).map(e=>h.jsxs(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[h.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:h.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h4",{className:"text-lg font-bold text-gray-900",children:e.machine}),e.items.every(t=>t.scheduleStatus===e.items[0].scheduleStatus)&&h.jsx(s,{status:e.items[0].scheduleStatus||"New"})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(od,{className:"w-4 h-4"}),e.items.length," item",e.items.length>1?"s":""]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(ld,{className:"w-4 h-4"}),e.interval]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx(Xd,{className:"w-4 h-4"}),e.unit]})]})]})})}),h.jsx("div",{className:"divide-y divide-gray-100",children:e.items.map((e,t)=>h.jsxs(Ac.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>{r(e)},className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:e.item}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(s,{status:e.scheduleStatus||"New"}),e.monitoringResult&&"N/A"!==e.monitoringResult&&h.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:[" Result: ",e.monitoringResult]})]})]}),h.jsx(o,{status:e.msStatus})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[null!==e.standardMin&&null!==e.standardMax&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Standard:"}),h.jsxs("span",{children:[e.standardMin," - ",e.standardMax]})]}),e.unitOfMeasure&&"N/A"!==e.unitOfMeasure&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Unit:"}),h.jsx("span",{children:e.unitOfMeasure})]}),e.notes&&"N/A"!==e.notes&&h.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),h.jsx("span",{className:"flex-1",children:e.notes})]})]})]}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:h.jsx(td,{className:"w-4 h-4"})})})]},`${e.id}-${t}`))})]},e.scheduleId))}),h.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:h.jsx(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},Ege=()=>{const e=je(),{getMonitoringSchedules:t,getAllMasterMonitoring:n,getMonitoringScheduleById:r}=xt(),[i,a]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[s,o]=x.useState(!1),[l,c]=x.useState(!0),[d,u]=x.useState(null),[p,m]=x.useState(window.innerWidth<768),[f,g]=x.useState(!1),[b,y]=x.useState(!1),[v,w]=x.useState(!1),[j,N]=x.useState(!1),[k,S]=x.useState(null),[A,C]=x.useState("calendar"),[_,E]=x.useState(null),[T,O]=x.useState(null),[M,D]=x.useState([]),[P,I]=x.useState([]),[L,R]=x.useState([]),[F,B]=x.useState(""),[H,z]=x.useState(!1),[W,U]=x.useState(1),[V,$]=x.useState([]),[q,G]=x.useState([]),[Y,Q]=x.useState([]),[K,J]=x.useState({startDate:null,endDate:null,selectedUnits:[]}),[X,Z]=x.useState(!1),[ee,te]=x.useState([]),[ne,re]=x.useState(""),ie=x.useRef(null),ae=x.useRef(null),[se,oe]=x.useState([]),[le,ce]=x.useState([]),[de,ue]=x.useState(!1),[he,pe]=x.useState(!1),me=x.useRef(null),[fe,ge]=x.useState(!1),xe=x.useRef(null),[be,ye]=x.useState(!1),ve=x.useRef(null),[we,Ne]=x.useState(new Date),ke=x.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);x.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const Se=x.useMemo(()=>V.map(e=>{var t;const n=q.flatMap(e=>e.mesin).find(t=>t.id===e.id_mesins),r=(null==n?void 0:n.name)||`Machine ${e.id_mesins}`,i=(null==(t=e.monitoring_interval)?void 0:t.type_interval)||"weekly";return{id:`schedule-${e.id_monitoring_schedule}`,mesin:r,item:"",interval:i,unitWilayah:e.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[V,q]),Ae=x.useCallback((e,t,n)=>{const r=[];return e.forEach(e=>{var t;const i=n.flatMap(e=>e.mesin).find(t=>t.id===e.id_mesins),a=(null==i?void 0:i.name)||`Machine ${e.id_mesins}`,s=(null==(t=e.monitoring_interval)?void 0:t.type_interval)||"weekly",o="weekly"===s?"Weekly":"monthly"===s?"Monthly":"3 month"===s?"3 Month":"6 month"===s?"6 Month":"1 year"===s?"1 Year":"Weekly",l=e.item_mesins&&e.item_mesins.length>0?e.item_mesins:(null==i?void 0:i.item_mesin)||[];e.monitoring_activities&&e.monitoring_activities.length>0?e.monitoring_activities.forEach(t=>{var i;let s=l.find(e=>e.id===t.id_item_mesin);if(!s)for(const e of n){for(const n of e.mesin){const e=null==(i=n.item_mesin)?void 0:i.find(e=>e.id===t.id_item_mesin);if(e){s=e;break}}if(s)break}s||(s={id:t.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:e.id_mesins,created_at:"",updated_at:""});let c="N/A";"ms"===t.hasil_ms_tms?c="MS":"tms"===t.hasil_ms_tms&&(c="TMS");let d=t.hasil_monitoring||"N/A";if(t.hasil_monitoring&&"N/A"!==t.hasil_monitoring){const e=parseFloat(t.hasil_monitoring);!isNaN(e)&&isFinite(e)&&(d=e.toString())}r.push({id:`activity-${t.id_monitoring_activity}`,mesin:a,date:t.tgl_monitoring,interval:o,unitWilayah:e.unit,item:s.item_mesin||"Unknown Item",unitOfMeasure:s.satuan||"N/A",standardMin:s.standard_min?parseFloat(s.standard_min):null,standardMax:s.standard_max?parseFloat(s.standard_max):null,standartVisual:s.standard_visual||"N/A",monitoringResult:d,msStatus:c,notes:t.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${a}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:e.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:e.id_monitoring_schedule,scheduleStatus:e.status||"New"})}):l.forEach(t=>{r.push({id:`schedule-${e.id_monitoring_schedule}-scheduled-${t.id}`,mesin:a,date:e.tgl_start,interval:o,unitWilayah:e.unit,item:t.item_mesin||"Unknown Item",unitOfMeasure:t.satuan||"N/A",standardMin:t.standard_min?parseFloat(t.standard_min):null,standardMax:t.standard_max?parseFloat(t.standard_max):null,standartVisual:t.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${a}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:e.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:e.id_monitoring_schedule,scheduleStatus:e.status||"New"})})}),r.filter(e=>e.monitoringResult&&"N/A"!==e.monitoringResult&&!isNaN(parseFloat(e.monitoringResult))),r},[]),[Ce,_e]=x.useState([]),[Ee,Te]=x.useState(null);x.useEffect(()=>{let e=!0;const r=new AbortController;return(async()=>{if(!e)return;const r=Date.now();if(Ee&&r-Ee.timestamp<3e5){$(Ee.schedules),G(Ee.masterData.unitsWithMachines||[]),Q(Ee.masterData.intervals||[]);const e=Ae(Ee.schedules,[],Ee.masterData.unitsWithMachines||[]);return _e(e),void c(!1)}try{c(!0),u(null);const[i,a]=await Promise.all([t(),n()]);if(!e)return;a.unitsWithMachines&&a.unitsWithMachines.length,Te({schedules:i,masterData:a,timestamp:r}),$(i),G(a.unitsWithMachines||[]),Q(a.intervals||[]);const s=Ae(i,[],a.unitsWithMachines||[]);_e(s)}catch(i){if(!e)return;u(i instanceof Error?i.message:"Failed to fetch data")}finally{e&&c(!1)}})(),()=>{e=!1,r.abort()}},[t,n,Ae,Ee]);const Oe=x.useMemo(()=>["",...new Set(Ce.map(e=>e.unitWilayah))],[Ce]),Me=x.useMemo(()=>["",...new Set(Ce.map(e=>e.mesin))],[Ce]);x.useMemo(()=>["",...new Set(Ce.map(e=>e.item))],[Ce]);const De=x.useMemo(()=>{if(0===Ce.length)return[];let e=Ce;if(F){const t=F.toLowerCase();if(e=e.filter(e=>e.mesin.toLowerCase().includes(t)||e.item.toLowerCase().includes(t)||e.unitWilayah.toLowerCase().includes(t)),0===e.length)return[]}if(_&&T){const t=_.toISOString().split("T")[0],n=T.toISOString().split("T")[0];if(e=e.filter(e=>e.date>=t&&e.date<=n),0===e.length)return[]}if(se.length>0){const t=new Set(se);if(e=e.filter(e=>t.has(e.msStatus)),0===e.length)return[]}if(M.length>0){const t=new Set(M);if(e=e.filter(e=>t.has(e.unitWilayah)),0===e.length)return[]}if(P.length>0){const t=new Set(P);if(e=e.filter(e=>t.has(e.mesin)),0===e.length)return[]}return e},[Ce,_,T,se,M,P,F]);x.useEffect(()=>{const e=()=>{m(window.innerWidth<768),window.innerWidth<768&&a(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{ie.current&&!ie.current.contains(e.target)&&g(!1),ae.current&&!ae.current.contains(e.target)&&y(!1),!me.current||me.current.contains(e.target)||e.target.closest(".status-filter-toggle")||pe(!1),!xe.current||xe.current.contains(e.target)||e.target.closest(".machine-filter-toggle")||ge(!1),!ve.current||ve.current.contains(e.target)||e.target.closest(".unit-filter-toggle")||ye(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Pe=x.useCallback(e=>{_e(t=>t.map(t=>t.id===e.id?e:t))},[]),Ie=x.useMemo(()=>new Date,[]),[Le,Re]=x.useState(Ie),Fe=t=>{let n;if(t.scheduleId)n=t.scheduleId;else if(t.id.startsWith("schedule-")){const e=t.id.split("-");e.length>=2&&(n=e[1])}else if(t.id.startsWith("activity-")){const e=t.id.split("-");if(e.length>=2)for(let t of e)if(/^\d+$/.test(t)){n=t;break}}n?(e(`/monitoringmaintenance/detailmonitoringmaintenance/${n}`),Z(!1)):alert("Error: Could not determine schedule ID")};x.useMemo(()=>{const e=Ce.filter(e=>e),t=[];return e.forEach(e=>{t.push({id:`approval-${e.id}`,icon:h.jsx(zc,{className:"text-orange-500"}),title:`Approval Needed: ${e.mesin} - ${e.item}`,description:`Record  for ${e.mesin} - ${e.item} is awaiting your approval ().`,date:new Date(e.date).toLocaleDateString("en-US")})}),t},[Ce,"Unit Head Engineering"]),x.useMemo(()=>(e=>{const t=e.reduce((e,t)=>{const n=String(t.scheduleId);e[n]||(e[n]={dates:[],status:t.scheduleStatus||"New",machine:t.mesin||"N/A",interval:t.interval||"default",items:0}),e[n].dates.push(new Date(t.date)),e[n].items+=1;const r=t.scheduleStatus||"New";return"Done"===r?e[n].status="Done":"On Progress"===r&&"Done"!==e[n].status&&(e[n].status="On Progress"),e},{});return Object.entries(t).map(([e,t])=>{t.dates.sort((e,t)=>e.getTime()-t.getTime());const n=t.dates[0],r=new Date(t.dates[t.dates.length-1]),i=t.interval,a=vge[i]||vge.default;return{scheduleId:e,startDate:n,endDate:r,label:`${t.machine} (${i})`,colorClass:a,status:t.status}})})(De),[De,Le]);const Be=x.useCallback(e=>{const t=String(e.id_monitoring_schedule),n=De.filter(e=>String(e.scheduleId)===t);if(n.length>0){const t=e.tgl_start;te(n),re(t),Z(!0)}},[De,te,re,Z]),He={weekly:"#93C5FD",monthly:"#60A5FA","3 month":"#3B82F6","6 month":"#2563EB","1 year":"#1D4ED8",default:"#6B7280"},ze=x.useMemo(()=>V&&0!==V.length?V.map(e=>{const t=e.monitoring_interval.type_interval,n=He[t]||He.default,r=(e=>{const[t,n,r]=e.split("-").map(Number),i=new Date(Date.UTC(t,n-1,r));return i.setUTCDate(i.getUTCDate()+1),i.toISOString().split("T")[0]})(e.tgl_end);return{id:String(e.id_monitoring_schedule),title:e.data_mesin.name+" - "+e.unit+" - "+e.monitoring_interval.type_interval,start:e.tgl_start,end:r,allDay:!0,backgroundColor:n,borderColor:n,extendedProps:e}}):[],[V]);return null!==K.startDate&&K.endDate,K.selectedUnits.length,K.selectedUnits.every(e=>e.machines.length>0&&e.machines.every(e=>null!==e.selectedInterval)),K.selectedUnits.every(e=>e.machines.every(e=>null===e.selectedInterval||null!==e.selectedInterval&&e.selectedItems.length>0)),h.jsx(Cge.Provider,{value:{records:Ce,setRecords:_e,routineSchedules:Se},children:h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Kd,{}),isMobile:p,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!i)),a(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",h.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs(Ac.button,{onClick:()=>e("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[h.jsx(iu,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),h.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[h.jsxs(Ac.button,{onClick:()=>C("calendar"),whileTap:{scale:.95},className:"flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 "+("calendar"===A?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"),children:[h.jsx(Yc,{className:"w-4 h-4 mr-2"})," Calendar"]}),h.jsxs(Ac.button,{onClick:()=>C("table"),whileTap:{scale:.95},className:"flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 "+("table"===A?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"),children:[h.jsx(od,{className:"w-4 h-4 mr-2"})," Table"]}),h.jsxs(Ac.button,{onClick:()=>C("trend"),whileTap:{scale:.95},className:"flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 "+("trend"===A?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"),children:[h.jsx(Nu,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),l?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):0===Ce.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Dd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):h.jsx(Da,{mode:"wait",children:h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:F,onChange:e=>B(e.target.value),"aria-label":"Search records"})]}),h.jsxs(Ac.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>z(!H),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filter"}),h.jsx(Ac.span,{animate:{rotate:H?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]}),h.jsx(Da,{children:H&&h.jsxs(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[h.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[h.jsx(Yc,{className:"text-gray-500 text-base"}),h.jsx(sb,{selected:_,onChange:e=>E(e),selectsStart:!0,startDate:_,endDate:T,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),h.jsx("span",{className:"text-gray-400",children:"-"}),h.jsx(sb,{selected:T,onChange:e=>O(e),selectsEnd:!0,startDate:_,endDate:T,minDate:_||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(_||T)&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{E(null),O(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:h.jsx(Iu,{className:"text-base"})})]}),h.jsxs("div",{ref:me,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),pe(!he)},"aria-expanded":he,"aria-haspopup":"true","aria-label":"Filter by Status",children:[h.jsx("span",{children:se.length>0?se.length===ke.length?"All Status":`Selected (${se.length})`:"All Status"}),h.jsx(Zc,{className:`transform transition-transform ${he?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Da,{children:he&&h.jsxs(Ac.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:se.length===ke.length&&ke.length>0,onChange:e=>{e.target.checked?oe(ke.map(e=>e.value)):oe([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ke.map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:se.includes(e.value),onChange:t=>{return n=e.value,r=t.target.checked,void oe(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e.label})]},e.value))]})})]}),h.jsxs("div",{ref:ve,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ye(!be)},"aria-expanded":be,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[h.jsx("span",{children:M.length>0?M.length===Oe.length-1?"All Units":`Selected (${M.length})`:"All Units"}),h.jsx(Zc,{className:`transform transition-transform ${be?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Da,{children:be&&h.jsxs(Ac.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:M.length===Oe.length-1&&Oe.length>1,onChange:e=>{e.target.checked?D(Oe.slice(1)):D([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Oe.slice(1).map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:M.includes(e),onChange:t=>{return n=e,r=t.target.checked,void D(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e})]},e))]})})]}),h.jsxs("div",{ref:xe,className:"relative w-full",children:[h.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:e=>{e.stopPropagation(),ge(!fe)},"aria-expanded":fe,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[h.jsx("span",{children:P.length>0?P.length===Me.length-1?"All Machines":`Selected (${P.length})`:"All Machines"}),h.jsx(Zc,{className:`transform transition-transform ${fe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),h.jsx(Da,{children:fe&&h.jsxs(Ac.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:P.length===Me.length-1&&Me.length>1,onChange:e=>{e.target.checked?I(Me.slice(1)):I([])}}),h.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Me.slice(1).map(e=>h.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[h.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:P.includes(e),onChange:t=>{return n=e,r=t.target.checked,void I(r?e=>[...e,n]:e=>e.filter(e=>e!==n));var n,r}}),h.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:e})]},e))]})})]})]})})]}),"calendar"===A&&h.jsxs("div",{className:"px-4 py-4 md:px-8 md:py-6",children:[h.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100 mb-6",children:h.jsx(jfe,{plugins:[Jfe,bge],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"},initialDate:Le,locale:yge,weekends:!0,events:ze,eventClick:e=>{const t=e.event.extendedProps;Be(t)},height:"auto"})}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Interval Legend"}),h.jsx("div",{className:"flex flex-wrap gap-x-8 gap-y-4",children:Object.entries(He).filter(([e])=>"default"!==e).map(([e,t])=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:t}}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e))})]})]}),"table"===A&&h.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),h.jsx("th",{className:"relative px-6 py-3",children:h.jsx("span",{className:"sr-only",children:"Actions"})})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:De.length>0?De.map(e=>h.jsxs(Ac.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.date}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.interval}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.unitWilayah}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.mesin}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.item}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.monitoringResult}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-semibold "+("MS"===e.msStatus?"bg-green-100 text-green-800":"TMS"===e.msStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.msStatus})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{S(e),w(!0)})(e),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:h.jsx(gd,{size:18})})})]},e.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),"trend"===A&&h.jsx(Age,{records:De})]},A)})]})]}),h.jsx(jge,{isOpen:v,onClose:()=>w(!1),title:"Monitoring Details",children:k&&h.jsxs(h.Fragment,{children:[h.jsx(Sge,{record:k,onUpdateRecord:Pe}),h.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:h.jsxs(Ac.button,{onClick:()=>Fe(k),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[h.jsx(gd,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),h.jsx(_ge,{isOpen:X,onClose:()=>Z(!1),schedules:ee,onSelectSchedule:Fe,titleDate:ne})]})})},Tge=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Oge=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Mge=({vendor:e,onClose:t})=>{const n=e=>null==e?"-":"object"==typeof e&&null!==e?e.name||e.title||e.id||"-":"string"==typeof e?""!==e.trim()?e.trim():"-":"number"==typeof e?e.toString():String(e),r=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=({title:e,children:t,icon:n})=>h.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:h.jsxs("div",{className:"flex items-center",children:[n&&h.jsx("div",{className:"mr-3 text-blue-600",children:n}),h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e})]})}),h.jsx("div",{className:"p-6",children:t})]}),a=({label:e,value:t,icon:n,fullWidth:r=!1,priority:i="medium"})=>h.jsx("div",{className:r?"col-span-full":"",children:h.jsx("div",{className:`p-4 rounded-lg ${{high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"}[i]} transition-all duration-200 hover:shadow-sm`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[n&&h.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:n}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),h.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:t})]})]})})});return h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[h.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"flex items-center gap-3 mb-2",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name})}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Yc,{className:"w-4 h-4"}),"Vendor ID: ",e.id,"  Created: ",r(e.created_at)]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[h.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),h.jsx(i,{title:"Basic Information",icon:h.jsx(Ou,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(a,{label:"Vendor ID",value:n(e.id),icon:h.jsx(od,{className:"w-4 h-4"}),priority:"high"}),h.jsx(a,{label:"Vendor Name",value:n(e.name),icon:h.jsx(Gc,{className:"w-4 h-4"}),priority:"high"}),h.jsx(a,{label:"Contact Person",value:n(e.contact_person),icon:h.jsx(Ou,{className:"w-4 h-4"}),priority:"high"})]})}),h.jsx(i,{title:"Contact Information",icon:h.jsx(nu,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(a,{label:"Email",value:n(e.email),icon:h.jsx(Gd,{className:"w-4 h-4"}),priority:"high"}),h.jsx(a,{label:"Telephone",value:n(e.telp),icon:h.jsx(nu,{className:"w-4 h-4"})}),h.jsx(a,{label:"Mobile Phone",value:n(e.HP),icon:h.jsx(nu,{className:"w-4 h-4"})})]})}),h.jsx(i,{title:"Address Information",icon:h.jsx(Yd,{className:"w-5 h-5"}),children:h.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.jsx(a,{label:"Full Address",value:n(e.address),icon:h.jsx(Yd,{className:"w-4 h-4"}),fullWidth:!0})})}),h.jsx(i,{title:"Additional Information",icon:h.jsx(Dd,{className:"w-5 h-5"}),children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(a,{label:"Created At",value:r(e.created_at),icon:h.jsx(Yc,{className:"w-4 h-4"})}),h.jsx(a,{label:"Updated At",value:r(e.updated_at),icon:h.jsx(Yc,{className:"w-4 h-4"})})]})})]})},Dge=()=>{ye();const[e,t]=x.useState([]),{getVendor:n,deleteVendor:r,user:i,hasPermission:a}=xt(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(""),[y,v]=x.useState(""),[w,j]=x.useState(!1),[N,k]=x.useState(null),[S,A]=x.useState(!1),[C,_]=x.useState(null),E=x.useRef(!0),[T,O]=x.useState(null),[M,D]=x.useState(null),P=x.useRef(null),[I,L]=x.useState(!1),[R,F]=x.useState(""),[B]=x.useState(window.innerWidth<768),[H,z]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[W,U]=x.useState(!1),[V,$]=x.useState(null),[q,G]=x.useState(!1),[Y,Q]=x.useState(null),K=je(),[J,X]=x.useState(!1),[Z,ee]=x.useState(!1),[te,ne]=x.useState(!1),re=x.useRef(null),ie=x.useRef(null),[ae,se]=x.useState(1),[oe]=x.useState(10),[le,ce]=x.useState({key:"name",direction:"ascending"}),de=function(e){const[t,n]=x.useState(e);return x.useEffect(()=>{const t=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(t)}},[e,300]),t}(R),ue=x.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),he=x.useCallback(async()=>{try{c(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e),o(e)}catch(e){_("Failed to load vendors")}finally{E.current&&c(!1)}},[n]);x.useEffect(()=>{he()},[he]),x.useEffect(()=>{let t=[...e];if(de.trim()){const e=de.toLowerCase().trim();t=t.filter(t=>{var n,r,i;const a=e.split(":");let s="all",o=e;a.length>1&&ue.some(e=>e.name.toLowerCase()===a[0].trim())&&(s=a[0].trim(),o=a.slice(1).join(":").trim());const l=null==(n=t.name)?void 0:n.toLowerCase().includes(o),c=null==(r=t.contact_person)?void 0:r.toLowerCase().includes(o),d=null==(i=t.email)?void 0:i.toLowerCase().includes(o),u=t.id.toString().includes(o);return"vendor name"===s?l:"contact person"===s?c:"email"===s?d:"vendor id"===s?u:l||c||d||u})}if(T){const e=new Date(T);e.setHours(0,0,0,0),t=t.filter(t=>{if(!t.created_at)return!0;const n=new Date(t.created_at);return n.setHours(0,0,0,0),n>=e})}if(M){const e=new Date(M);e.setHours(23,59,59,999),t=t.filter(t=>{if(!t.created_at)return!0;const n=new Date(t.created_at);return n.setHours(0,0,0,0),n<=e})}null!==le&&t.sort((e,t)=>{const n=fe(e[le.key]),r=fe(t[le.key]);return n<r?"ascending"===le.direction?-1:1:n>r?"ascending"===le.direction?1:-1:0}),o(t)},[e,de,T,M,le,ue]);const pe=b.useMemo(()=>{if(!R)return ue;const e=R.toLowerCase();return ue.filter(t=>t.name.toLowerCase().includes(e))},[R,ue]);x.useCallback(e=>{Q(e),A(!0)},[]);const me=e=>{let t="ascending";le&&le.key===e&&"ascending"===le.direction&&(t="descending"),ce({key:e,direction:t})},fe=e=>"object"==typeof e&&null!==e?e.name||e.toString():(null==e?void 0:e.toString())||"",ge=ae*oe,xe=ge-oe,be=s.slice(xe,ge),ve=Math.ceil(s.length/oe),we=e=>se(e);return x.useEffect(()=>{const e=e=>{re.current&&!re.current.contains(e.target)&&ee(!1),ie.current&&!ie.current.contains(e.target)&&ne(!1),!P.current||P.current.contains(e.target)||e.target.closest(".search-suggestions")||L(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:h.jsx(Vc,{}),isMobile:B,toggleSidebar:()=>{const e=!H;z(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a("view_vendors")&&h.jsxs(Ac.button,{onClick:()=>K("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Vendor"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>U(!W),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:W?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(Oge,{title:"Total Vendors",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Gc,{className:"w-6 h-6"})}),h.jsx(Oge,{title:"Vendors with Email",value:e.filter(e=>e.email).length.toString(),change:`+${Math.floor(e.filter(e=>e.email).length/e.length*100)}%`,icon:h.jsx(Gd,{className:"w-6 h-6"})}),h.jsx(Oge,{title:"Vendors with Contact",value:e.filter(e=>e.contact_person).length.toString(),change:`+${Math.floor(e.filter(e=>e.contact_person).length/e.length*100)}%`,icon:h.jsx(Mu,{className:"w-6 h-6"})}),h.jsx(Oge,{title:"Vendors with Phone",value:e.filter(e=>e.telp||e.HP).length.toString(),change:`+${Math.floor(e.filter(e=>e.telp||e.HP).length/e.length*100)}%`,icon:h.jsx(nu,{className:"w-6 h-6"})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:P,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:R,onChange:e=>{const t=e.target.value;F(t)},onFocus:()=>L(!0),"aria-label":"Search vendors"}),h.jsx(Da,{children:I&&pe.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:pe.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,F(`${t}: `),L(!1),void(null==(n=P.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:W&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:h.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[h.jsx(Yc,{className:"text-gray-500 text-base"}),h.jsx(sb,{selected:T,onChange:e=>O(e),selectsStart:!0,startDate:T,endDate:M,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),h.jsx("span",{className:"text-gray-400",children:"-"}),h.jsx(sb,{selected:M,onChange:e=>D(e),selectsEnd:!0,startDate:T,endDate:M,minDate:T||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(T||M)&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{O(null),D(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:h.jsx(Iu,{className:"text-base"})})]})})})]}),l?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):0===s.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Dd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:de||T||M?"No vendors found matching your filters.":"No vendors available."}),(de||T||M)&&h.jsx("button",{onClick:()=>{F(""),O(null),D(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>me("id"),children:["No","id"===(null==le?void 0:le.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===le.direction?"":""})]}),h.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>me("name"),children:["Vendor Name","name"===(null==le?void 0:le.key)&&h.jsx("span",{className:"ml-1",children:"ascending"===le.direction?"":""})]}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:be.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.address||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.contact_person||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.email||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.telp||"-"})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:e.HP||"-"})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{$(e),G(!0)})(e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${e.name}`,children:h.jsx(gd,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(`/vendors/editvendor/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${e.name}`,children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Q(e.id),A(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${e.name}`,children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})}),s.length>oe&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:xe+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(ge,s.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:s.length})," results"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(ae-1),disabled:1===ae,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:ve},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${ae===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,"aria-label":`Go to page ${t+1}`,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(ae+1),disabled:ae===ve,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),V&&h.jsx(Tge,{isOpen:q,onClose:()=>{G(!1),$(null)},title:"Vendor Details",className:"max-w-3xl",children:h.jsx(Mge,{vendor:V,onClose:()=>G(!1)})}),h.jsx(Tge,{isOpen:S,onClose:()=>A(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>A(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Y&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),A(!1),Q(null)}catch(i){_("Failed to delete vendor. Please try again.")}})(Y),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Pge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Ige=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),[i,a]=x.useState([]),{addVendor:s,getVendor:o}=xt(),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(null),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b,y]=x.useState(!1),v=je(),[w,j]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),N=e=>{const{name:t,value:n}=e.target;j(e=>({...e,[t]:"sla"===t?Number(n):n}))},k=x.useCallback(async()=>{try{const[e]=await Promise.all([o()]);r(e)}catch(e){u(e.message||"Failed to load form data")}},[o]);x.useEffect(()=>{k()},[k]);const S=()=>{g(!1),v("/vendors")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ld,{}),isMobile:e,toggleSidebar:()=>{c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),h.jsxs(Ac.button,{onClick:()=>v("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Vendors Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:d}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(!0),u(null);try{const e={name:w.name,address:w.address,contact_person:w.contact_person,email:w.email,telp:w.telp,HP:w.HP};await s(e),m("Vendor created successfully!"),g(!0)}catch(t){u(t.message||"Failed to create Vendor")}finally{y(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"address",id:"address",value:w.address,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:w.contact_person,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"email",id:"email",value:w.email,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"telp",id:"telp",value:w.telp,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"HP",id:"HP",value:w.HP,onChange:N,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>v("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),h.jsx(Pge,{isOpen:f,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},Lge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Rge=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getVendor:o,updateVendor:l,getVendorById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""});x.useEffect(()=>{a&&k({name:a.name||"",address:a.address||"",contact_person:a.contact_person||"",email:a.email||"",telp:a.telp||"",HP:a.HP||""})},[a]);const S=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},A=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&A()},[e,A]);const C=()=>{y(!1),j("/vendors")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(ld,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),h.jsxs(Ac.button,{onClick:()=>j("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Vendors Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={name:N.name,address:N.address,contact_person:N.contact_person,email:N.email,telp:N.telp,HP:N.HP};await l(e,t),g("Vendor update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Vendor")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:N.name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"address",id:"address",value:N.address,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:N.contact_person,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"email",id:"email",value:N.email,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"telp",id:"telp",value:N.telp,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"HP",id:"HP",value:N.HP,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),h.jsx(Lge,{isOpen:b,onClose:C,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:C,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},Fge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Bge=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmText:a="Confirm",cancelText:s="Cancel",type:o="approve"})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsx(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:h.jsxs("div",{className:"p-6 text-center",children:[h.jsxs("div",{className:"flex justify-center mb-4",children:["approve"===o&&h.jsx(id,{className:"text-green-500 text-5xl"}),"feedback"===o&&h.jsx(Qd,{className:"text-blue-500 text-5xl"}),"reject"===o&&h.jsx(ku,{className:"text-red-500 text-5xl"}),"edit"===o&&h.jsx(bu,{className:"text-purple-500 text-5xl"})]}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r}),h.jsx("p",{className:"text-gray-600 mb-6",children:i}),h.jsxs("div",{className:"flex justify-center space-x-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:t,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:s}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:n,className:"px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 "+("approve"===o?"bg-green-600 hover:bg-green-700":"feedback"===o?"bg-blue-600 hover:bg-blue-700":"reject"===o?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"),children:a})]})]})})})}),Hge=()=>{var e;ye();const t=je(),{id:n}=ke(),{user:r,getMonitoringScheduleById:i,addMonitoringActivities:a,hasPermission:s,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=xt(),[d,u]=x.useState(window.innerWidth<768),[p,m]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[f,g]=x.useState(null),[b,y]=x.useState(null),[v,w]=x.useState(!1),[j,N]=x.useState(!0),[k,S]=x.useState(null),[A,C]=x.useState("approval"),[_,E]=x.useState({}),[T,O]=x.useState(null),[M,D]=x.useState(!0),[P,I]=x.useState(null),[L,R]=x.useState(!1),[F,B]=x.useState(!1),[H,z]=x.useState(""),[W,U]=x.useState(""),[V,$]=x.useState(!0),[q,G]=x.useState(!1),[Y,Q]=x.useState(null);x.useEffect(()=>{(async()=>{var e,t,r,a;if(n)try{N(!0),S(null);const s=await i(parseInt(n));if(I(s),!s)throw new Error("Data monitoring schedule tidak ditemukan");s.approval_template&&O(s.approval_template);const o={id:s.id_monitoring_schedule.toString(),name:`${(null==(e=s.data_mesin)?void 0:e.name)||"Mesin"} - ${s.unit}`,interval:(null==(t=s.monitoring_interval)?void 0:t.type_interval)||"Weekly",period:`${s.tgl_start} - ${s.tgl_end}`,unit:s.unit,mesin:null==(r=s.data_mesin)?void 0:r.name,tahun:s.tahun,bulan:s.bulan,tgl_start:s.tgl_start,tgl_end:s.tgl_end,items:(null==(a=s.item_mesins)?void 0:a.map(e=>({id:e.id,name:e.item_mesin,uom:e.satuan,min:e.standard_min?parseFloat(e.standard_min):void 0,max:e.standard_max?parseFloat(e.standard_max):void 0,visual:e.standard_visual,standard_min:e.standard_min,standard_max:e.standard_max,standard_visual:e.standard_visual,satuan:e.satuan})))||[]};g(o);const l=s.monitoring_activities||[],c=s.schedule_approvals||[],d={};s.approval_template&&s.approval_template.approvers?s.approval_template.approvers.forEach(e=>{const t=`step_${e.step}`,n=c.find(t=>t.approval_step===e.step&&t.approver_id===e.approver_user_id);if(n){let e="Pending";switch(n.status){case"approved":e="Approved";break;case"rejected":e="Rejected";break;case"feedback_given":e="FeedbackGiven";break;default:e="Pending"}d[t]=e}else d[t]="Pending"}):c.forEach(e=>{const t=`step_${e.approval_step}`;let n="Pending";switch(e.status){case"approved":n="Approved";break;case"rejected":n="Rejected";break;case"feedback_given":n="FeedbackGiven";break;default:n="Pending"}d[t]=n});const u=c.map(e=>{var t;let n="approval",r="";switch(e.status){case"approved":n="approval",r=`Menyetujui laporan pada step ${e.approval_step}`;break;case"rejected":n="rejection",r=`Menolak laporan pada step ${e.approval_step}`;break;case"feedback_given":n="feedback",r=`Memberikan feedback pada step ${e.approval_step}`;break;default:n="submission",r=`Mengajukan approval pada step ${e.approval_step}`}return{type:n,timestamp:e.approved_at||e.created_at||(new Date).toISOString(),actor:(null==(t=e.approver)?void 0:t.name)||`Approver Step ${e.approval_step}`,description:r,details:e.comments||void 0}});if(l.length>0){const e=l[0].created_at;u.unshift({type:"submission",timestamp:e||(new Date).toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const h={machineId:o.id,itemResults:o.items.map(e=>{const t=l.find(t=>t.id_item_mesin===e.id);let n="Pending";if(null==t?void 0:t.hasil_ms_tms){const e=t.hasil_ms_tms.toLowerCase();n="ms"===e?"MS":"tms"===e?"TMS":"N/A"}return{itemId:e.id,result:(null==t?void 0:t.hasil_monitoring)||"",status:n,remarks:(null==t?void 0:t.hasil_keterangan)||""}}),approvalStatus:d,commentsHistory:[],activityHistory:u,isSaved:l.length>0,submissionDate:l.length>0?(new Date).toISOString():void 0,currentApprovalStep:Z(c,s.approval_template)};y(h)}catch(s){S(s instanceof Error?s.message:"Gagal memuat data monitoring")}finally{N(!1)}})()},[n,i]);const K=x.useMemo(()=>{var e,t,n,i,a,s;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:"3"===r.roleId}:"1"===r.roleId?{id:"1",name:"admin",isDepartmentHead:!0}:"3"===r.roleId?{id:"3",name:"superadmin",isSuperadmin:!0}:(null==(t=null==(e=r.department)?void 0:e.name)?void 0:t.toLowerCase().includes("engineering"))?(null==(n=r.position)?void 0:n.toLowerCase().includes("head"))?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(null==(a=null==(i=r.department)?void 0:i.name)?void 0:a.toLowerCase().includes("process"))&&(null==(s=r.position)?void 0:s.toLowerCase().includes("head"))?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),J=x.useCallback(e=>!!(T&&T.approvers&&r)&&!!T.approvers.find(t=>t.step===e&&t.approver_user_id.toString()===r.id),[T,r]),X=x.useCallback(()=>{if(!b||!(null==T?void 0:T.approvers))return 1;const e=[...T.approvers].sort((e,t)=>e.step-t.step);for(let t=0;t<e.length;t++){const n=e[t],r=`step_${n.step}`;if("Pending"===(b.approvalStatus[r]||"Pending"))return n.step}return e.length+1},[b,T]);x.useEffect(()=>{var e;b&&T&&r&&(null==(e=T.approvers)||e.forEach(e=>{const t=`step_${e.step}`,n=b.approvalStatus[t];ce(e.step,e,n)}))},[b,T,r]);const Z=(e,t)=>{if(!t||!t.approvers)return 1;const n=[...t.approvers].sort((e,t)=>e.step-t.step);for(let r=0;r<n.length;r++){const t=n[r],i=e.find(e=>e.approval_step===t.step&&e.approver_id===t.approver_user_id);if(!i||"approved"!==i.status)return t.step}return n.length+1},ee=x.useCallback(async()=>{var e,t,r,a;if(n)try{N(!0),S(null);const s=await i(parseInt(n));if(I(s),!s)throw new Error("Data monitoring schedule tidak ditemukan");s.approval_template&&O(s.approval_template);const o={id:s.id_monitoring_schedule.toString(),name:`${(null==(e=s.data_mesin)?void 0:e.name)||"Mesin"} - ${s.unit}`,interval:(null==(t=s.monitoring_interval)?void 0:t.type_interval)||"Weekly",period:`${s.tgl_start} - ${s.tgl_end}`,unit:s.unit,mesin:null==(r=s.data_mesin)?void 0:r.name,tahun:s.tahun,bulan:s.bulan,tgl_start:s.tgl_start,tgl_end:s.tgl_end,items:(null==(a=s.item_mesins)?void 0:a.map(e=>({id:e.id,name:e.item_mesin,uom:e.satuan,min:e.standard_min?parseFloat(e.standard_min):void 0,max:e.standard_max?parseFloat(e.standard_max):void 0,visual:e.standard_visual,standard_min:e.standard_min,standard_max:e.standard_max,standard_visual:e.standard_visual,satuan:e.satuan})))||[]};g(o);const l=s.monitoring_activities||[],c=s.schedule_approvals||[],d={};s.approval_template&&s.approval_template.approvers&&s.approval_template.approvers.forEach(e=>{const t=`step_${e.step}`,n=c.find(t=>t.approval_step===e.step&&t.approver_id===e.approver_user_id);if(n){let e="Pending";switch(n.status){case"approved":e="Approved";break;case"rejected":e="Rejected";break;case"feedback_given":e="FeedbackGiven";break;default:e="Pending"}d[t]=e}else d[t]="Pending"});const u=c.map(e=>{var t;let n="approval",r="";switch(e.status){case"approved":n="approval",r=`Menyetujui laporan pada step ${e.approval_step}`;break;case"rejected":n="rejection",r=`Menolak laporan pada step ${e.approval_step}`;break;case"feedback_given":n="feedback",r=`Memberikan feedback pada step ${e.approval_step}`;break;default:n="submission",r=`Mengajukan approval pada step ${e.approval_step}`}return{type:n,timestamp:e.approved_at||e.created_at||(new Date).toISOString(),actor:(null==(t=e.approver)?void 0:t.name)||`Approver Step ${e.approval_step}`,description:r,details:e.comments||void 0}});if(l.length>0){const e=l[0].created_at;u.unshift({type:"submission",timestamp:e||(new Date).toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const h={machineId:o.id,itemResults:o.items.map(e=>{const t=l.find(t=>t.id_item_mesin===e.id);let n="Pending";if(null==t?void 0:t.hasil_ms_tms){const e=t.hasil_ms_tms.toLowerCase();n="ms"===e?"MS":"tms"===e?"TMS":"N/A"}return{itemId:e.id,result:(null==t?void 0:t.hasil_monitoring)||"",status:n,remarks:(null==t?void 0:t.hasil_keterangan)||""}}),approvalStatus:d,commentsHistory:[],activityHistory:u,isSaved:l.length>0,submissionDate:l.length>0?(new Date).toISOString():void 0,currentApprovalStep:Z(c,s.approval_template)};y(h)}catch(s){S(s instanceof Error?s.message:"Gagal memuat data monitoring")}finally{N(!1)}},[n,i]),te=(e,t,n,r,i)=>{y(a=>a?{...a,itemResults:a.itemResults.map(a=>a.itemId===e?{...a,result:t,status:"numeric"===n?ne(Number(t),r,i):"MS"===t?"MS":"TMS"===t?"TMS":"Pending"}:a)}:null)},ne=(e,t,n)=>isNaN(e)||null==e?void 0===t||void 0===n?"N/A":"Pending":void 0!==t&&void 0!==n?e>=t&&e<=n?"MS":"TMS":"N/A",re=e=>{switch(e){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ie=e=>{switch(e){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};x.useCallback((e,t,n,r=null)=>{y(i=>{if(!i||i.machineId!==e)return i;const a={id:crypto.randomUUID(),role:t,comment:n,timestamp:(new Date).toLocaleString(),replies:[],parentId:r},s=(e,t)=>null===t.parentId?[...e,t]:e.map(e=>e.id===t.parentId?{...e,replies:e.replies?[...e.replies,t]:[t]}:{...e,replies:e.replies?s(e.replies,t):e.replies}),o=i.commentsHistory||[];return{...i,commentsHistory:s(o,a)}})},[]);const ae=(e,t,n)=>{let r="",i="",a="approve";switch(t){case"Approved":r="Confirm Approval",i=`Are you sure you want to approve this monitoring report for step ${e}?`,a="approve";break;case"FeedbackGiven":r="Confirm Feedback",i=`Are you sure you want to send feedback for step ${e}?`,a="feedback";break;case"Rejected":r="Confirm Rejection",i=`Are you sure you want to reject this monitoring report for step ${e}?`,a="reject";break;case"Edited":r="Confirm Edit",i=`Are you sure you want to mark this as edited for step ${e}?`,a="edit"}Q({type:a,step:e,title:r,message:i,feedbackText:n}),G(!0)},se=x.useCallback(()=>!!(T&&T.approvers&&b)&&[...T.approvers].sort((e,t)=>e.step-t.step).every(e=>{const t=`step_${e.step}`;return"Approved"===b.approvalStatus[t]}),[T,b]),oe=e=>{E(t=>{var n;return{...t,[`step_${e}`]:{...t[`step_${e}`],showInput:!(null==(n=t[`step_${e}`])?void 0:n.showInput)}}})},le=async()=>{if(f&&b&&n){w(!0);try{let e=!0;const t=[];if(b.itemResults.forEach(n=>{const r=f.items.find(e=>e.id===n.itemId);!r||""!==n.result&&"Pending"!==n.status||(e=!1,t.push({item:r.name}))}),!e)return void me("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${f.name}. Item yang belum diisi: `+t.map(e=>e.item).join(", "),!1);const r=b.itemResults.map(e=>{var t;const r=null==(t=null==P?void 0:P.monitoring_activities)?void 0:t.find(t=>t.id_item_mesin===e.itemId),i={id_monitoring_schedule:parseInt(n),id_item_mesin:e.itemId,tgl_monitoring:f.tgl_start||(new Date).toISOString().split("T")[0],hasil_monitoring:e.result.toString(),hasil_keterangan:e.remarks,hasil_ms_tms:"MS"===e.status?"ms":"TMS"===e.status?"tms":"na"};return r&&r.id_monitoring_activity?{id:r.id_monitoring_activity,data:i}:{id:0,data:i}}),i=r.filter(e=>0===e.id),s=r.filter(e=>e.id>0);if(i.length>0){const e=i.map(e=>e.data);await a(e)}s.length>0&&await c(s),y(e=>{if(!e)return null;const t=[...e.activityHistory],n=(new Date).toLocaleString(),r=e.isSaved?"edit":"submission",i=e.isSaved?`${K.name} mengedit hasil monitoring.`:`${K.name} mengisi hasil monitoring.`;return t.push({type:r,timestamp:n,actor:K.name,description:i}),{...e,isSaved:!0,submissionDate:(new Date).toISOString(),activityHistory:t}}),await ee();const o=b.isSaved?`Hasil monitoring untuk ${f.name} berhasil diupdate!`:`Hasil monitoring untuk ${f.name} berhasil disimpan!`;me("Success!",o,!0)}catch(e){const t=b.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";me("Error!",t,!1)}finally{w(!1)}}},ce=(e,t,n)=>{if(!r||!(null==b?void 0:b.isSaved))return!1;const i=t.approver_user_id.toString()===r.id,a="Pending"===n,s=X()===e;let o=!0;if(e>1){const t="step_"+(e-1);o="Approved"===b.approvalStatus[t]}return i&&a&&s&&o};x.useMemo(()=>{if(!(null==b?void 0:b.commentsHistory))return{};const e=(t,n=null)=>t.filter(e=>e.parentId===n).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()).map(n=>({...n,replies:e(t,n.id)})),t={};return(null==T?void 0:T.approvers)&&T.approvers.forEach(n=>{const r=b.commentsHistory.filter(e=>e.role===(e=>{if(!T||!T.approvers)return"Unknown Role";const t=T.approvers.find(t=>t.approver_user_id.toString()===e);return(null==t?void 0:t.approver.position)||"Unknown Position"})(n.approver_user_id.toString()));t[`step_${n.step}`]=e(r)}),t},[null==b?void 0:b.commentsHistory,T]);const de=x.useCallback(()=>{var e;b&&T&&(null==(e=T.approvers)||e.forEach(e=>{const t=`step_${e.step}`;b.approvalStatus[t],e.approver_user_id.toString(),null==r||r.id}))},[b,T,r,X]);x.useEffect(()=>{b&&T&&de()},[b,T,de]),x.useMemo(()=>K.name.toLowerCase().includes("technician")&&!J(1),[K,J]);const ue=J(1),he=x.useMemo(()=>!(null==b?void 0:b.isSaved)||("Pending"===b.approvalStatus.step_1||J(1)&&!se()),[null==b?void 0:b.isSaved,null==b?void 0:b.approvalStatus,J,se]),pe=J(X()),me=x.useCallback((e,t,n=!0)=>{U(e),z(t),$(n),n?R(!0):B(!0)},[]),fe=x.useCallback(()=>{R(!1),B(!1),ee()},[ee]);return j?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(Ac.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Bc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):k?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(Ac.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Bc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[h.jsx(ku,{className:"text-red-500 text-4xl mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),h.jsx("p",{className:"text-red-600 mb-4",children:k}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[h.jsx(cu,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):f&&b?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:h.jsx(Kd,{}),isMobile:d,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!p)),m(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsx(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",h.jsx("span",{className:"font-semibold text-gray-800",children:f.name})]}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",h.jsx("span",{className:"font-semibold text-gray-800",children:f.interval})]}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",h.jsx("span",{className:"font-semibold text-gray-800",children:f.period})]}),h.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:f.items.length})," Items"]}),T&&T.approvers&&T.approvers.length>0?h.jsxs("p",{children:["Template: ",h.jsx("span",{className:"font-semibold",children:T.name}),T.is_active&&h.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),se()&&h.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):h.jsxs("p",{children:["Template: ",h.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),T&&ue&&h.jsx("p",{className:"font-semibold "+(se()?"text-gray-500":"text-blue-600"),children:se()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),T&&pe&&!ue&&h.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",X(),")"]})]})]})}),h.jsx("div",{className:"space-y-6",children:h.jsxs(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[h.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.items.map(e=>{const t=b.itemResults.find(t=>t.itemId===e.id),n=(e=>e.satuan&&"Visual"!==e.satuan&&"Level"!==e.satuan&&"Kekencangan"!==e.satuan?"numeric":"visual")(e);return h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[e.name,!he&&(null==b?void 0:b.isSaved)&&h.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.standard_visual?`${e.standard_visual} (${e.satuan})`:`${e.standard_min} - ${e.standard_max} ${e.satuan}`}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:"visual"===n?h.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(null==t?void 0:t.result)||"",onChange:t=>te(e.id,t.target.value,"visual"),disabled:!he,children:[h.jsx("option",{value:"",children:"Pilih"}),h.jsx("option",{value:"MS",children:"MS"}),h.jsx("option",{value:"TMS",children:"TMS"})]}):h.jsx("input",{type:"number",step:"0.01",value:null==t?void 0:t.result,onChange:t=>te(e.id,t.target.value,"numeric",e.min,e.max),disabled:!he,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${re((null==t?void 0:t.status)||"Pending")}`,children:null==t?void 0:t.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.jsx("textarea",{rows:1,value:null==t?void 0:t.remarks,onChange:t=>{return n=e.id,r=t.target.value,void y(e=>e?{...e,itemResults:e.itemResults.map(e=>e.itemId===n?{...e,remarks:r}:e)}:null);var n,r},disabled:!he,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},e.id)})})]})}),h.jsxs("div",{className:"flex justify-end mt-6 relative",children:[h.jsx(Ac.button,{whileHover:{scale:he?1.05:1},whileTap:{scale:he?.95:1},onClick:ue?()=>(async()=>{if(b&&n)if(se())me("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);else try{await le(),y(e=>{if(!e)return null;const t={...e.approvalStatus,step_1:"Edited"},n=[...e.activityHistory],r=(new Date).toLocaleString();return n.push({type:"edit",timestamp:r,actor:K.name,description:`${K.name} (Approver Step 1) mengedit hasil monitoring.`}),{...e,approvalStatus:t,activityHistory:n}}),await ee(),me("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(e){me("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}})():le,disabled:!he||v||ue&&se(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"}),ue?se()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),ue&&se()&&h.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[h.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[h.jsxs(Ac.button,{whileHover:{scale:1.03},onClick:()=>C("approval"),className:"pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 "+("approval"===A?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:[h.jsx(Dd,{className:"h-5 w-5"}),h.jsx("span",{children:"Approval Status"})]}),h.jsxs(Ac.button,{whileHover:{scale:1.03},onClick:()=>C("history"),className:"pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 "+("history"===A?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:[h.jsx(Ed,{className:"h-5 w-5"}),h.jsx("span",{children:"History Activity"})]})]}),"approval"===A?h.jsx(Da,{mode:"wait",children:h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:T&&T.approvers&&0!==T.approvers.length?null==(e=T.approvers)?void 0:e.map(e=>{var t,n,i,a;const s=`step_${e.step}`,o=(null==b?void 0:b.approvalStatus[s])||"Pending",l=ce(e.step,e,o),c=((e,t)=>P?(P.schedule_approvals||[]).find(n=>n.approval_step===e&&n.approver_id===t.approver_user_id):null)(e.step,e),d=X(),u=e.approver_user_id.toString()===(null==r?void 0:r.id),p=e.step-1,m=`step_${p}`,f=null==b?void 0:b.approvalStatus[m];return h.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",e.step,": ",e.approver.name," (",e.approver.position,")"]}),h.jsx("p",{className:"text-xs text-gray-500",children:e.approver.department}),c&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.approved_at&&`Disetujui: ${new Date(c.approved_at).toLocaleString()}`,"feedback_given"===c.status&&" | Feedback diberikan"]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${ie(o)}`,children:o}),u&&h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(null==c?void 0:c.comments)&&h.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:h.jsxs("p",{className:"text-xs text-gray-400",children:[h.jsx("strong",{children:"Komentar:"})," ",c.comments]})}),d===e.step&&"Approved"!==o&&!l&&h.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:h.jsxs("p",{className:"text-yellow-700",children:[h.jsx("strong",{children:"Menunggu:"})," Step ",e.step," sedang menunggu approval dari ",e.approver.name,p>0&&"Approved"!==f&&h.jsxs("span",{children:[" (Step ",p," perlu disetujui terlebih dahulu)"]})]})}),"Approved"===o&&h.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:h.jsxs("p",{className:"text-green-700",children:[h.jsx("strong",{children:"Selesai:"})," Step ",e.step," telah disetujui"]})}),l&&h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(e.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[h.jsx(id,{size:16,className:"mr-1"}),"Approve"]}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(e.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[h.jsx(Qd,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),h.jsx(Da,{children:(null==(t=_[s])?void 0:t.showInput)&&h.jsxs(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[h.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),h.jsx("textarea",{rows:3,value:(null==(n=_[s])?void 0:n.text)||"",onChange:t=>{return n=e.step,r=t.target.value,void E(e=>({...e,[`step_${n}`]:{...e[`step_${n}`],text:r}}));var n,r},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),h.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var t;return ae(e.step,"FeedbackGiven",null==(t=_[s])?void 0:t.text)},disabled:!(null==(a=null==(i=_[s])?void 0:i.text)?void 0:a.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(Qd,{size:16,className:"mr-1"}),"Kirim Feedback"]}),h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(e.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},s)}):h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Dd,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),h.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),h.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]})},"approval-tab")}):h.jsx(Da,{mode:"wait",children:h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:b.activityHistory.length>0?b.activityHistory.slice().sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).map((e,t)=>h.jsxs(Ac.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"mt-1 flex-shrink-0",children:["approval"===e.type&&h.jsx(id,{size:20,className:"text-green-500"}),"rejection"===e.type&&h.jsx(sd,{size:20,className:"text-red-500"}),"feedback"===e.type&&h.jsx(Qd,{size:20,className:"text-blue-500"}),"submission"===e.type&&h.jsx(Ed,{size:20,className:"text-blue-500"}),"edit"===e.type&&h.jsx(hu,{size:20,className:"text-purple-500"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.description}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",e.actor]})," - ",new Date(e.timestamp).toLocaleString()]}),e.details&&h.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',e.details,'"']})]})]},t)):h.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),h.jsx(Bge,{isOpen:q,onClose:()=>{G(!1),Q(null)},onConfirm:async()=>{if(Y)try{await(async(e,t,i)=>{if(b&&n&&r)try{let r="";("FeedbackGiven"===t&&i||"Rejected"===t&&i)&&(r=i);const a=await o(parseInt(n),r);if(!a.success)throw new Error(a.message||"Approval failed");{y(n=>{if(!n)return null;const i={...n.approvalStatus,[`step_${e}`]:t},a=[...n.activityHistory],s=(new Date).toLocaleString();let o="";switch(t){case"Approved":o=`Menyetujui laporan pada step ${e}`;break;case"FeedbackGiven":o=`Memberikan feedback pada step ${e}`;break;case"Rejected":o=`Menolak laporan pada step ${e}`;break;default:o=`Melakukan aksi ${t} pada step ${e}`}return a.push({type:"Approved"===t?"approval":"Rejected"===t?"rejection":"FeedbackGiven"===t?"feedback":"edit",timestamp:s,actor:K.name,description:`${K.name} ${o}`,details:r||void 0}),"Edited"!==t&&E(t=>({...t,[`step_${e}`]:{showInput:!1,text:""}})),{...n,approvalStatus:i,activityHistory:a}});let n="";switch(t){case"Approved":n="Berhasil menyetujui laporan.";break;case"FeedbackGiven":n="Berhasil mengirim feedback.";break;case"Rejected":n="Berhasil menolak laporan.";break;case"Edited":n="Berhasil menyimpan perubahan."}me("Success!",n,!0)}}catch(a){me("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}})(Y.step,"approve"===Y.type?"Approved":"feedback"===Y.type?"FeedbackGiven":"reject"===Y.type?"Rejected":"Edited",Y.feedbackText),G(!1),Q(null),await ee()}catch(e){G(!1),Q(null)}},title:(null==Y?void 0:Y.title)||"Confirm Action",message:(null==Y?void 0:Y.message)||"Are you sure you want to proceed?",confirmText:"approve"===(null==Y?void 0:Y.type)?"Approve":"feedback"===(null==Y?void 0:Y.type)?"Send Feedback":"reject"===(null==Y?void 0:Y.type)?"Reject":"edit"===(null==Y?void 0:Y.type)?"Save & Mark as Edited":"Confirm",type:null==Y?void 0:Y.type}),h.jsx(Fge,{isOpen:L,onClose:fe,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:fe,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(Ac.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[h.jsx(Bc,{className:"text-xl"}),h.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[h.jsx(ku,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),h.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]})},zge=()=>{const e=je(),{id:t}=ke(),{getUsers:n,getTemplateApprovers:r,addApproverToTemplate:i,updateApprover:a,deleteApprover:s,getApprovalTemplateById:o}=xt(),[l,c]=x.useState(window.innerWidth<768),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[p,m]=x.useState([]),[f,g]=x.useState(null),[b,y]=x.useState([]),[v,w]=x.useState(!1),[j,N]=x.useState("");x.useEffect(()=>{t&&(k(),A())},[t]);const k=async()=>{if(t)try{w(!0);const e=await o(t);g(e),e.approvers&&e.approvers.length>0?await S(e.approvers):y([{order:1,role:"Select Position",assignee:""}])}catch(e){N("Failed to load template")}finally{w(!1)}else N("Template ID is missing")},S=async e=>{try{const t=e.map(e=>{var t,n;return{order:e.step,role:(null==(t=e.approver)?void 0:t.position)||`Approval Step ${e.step}`,assignee:(null==(n=e.approver)?void 0:n.name)||"",approver_user_id:e.approver_user_id}});y(t)}catch(t){y([{order:1,role:"Select Position",assignee:""}])}},A=async()=>{try{const e=(await n()).map(e=>{var t;return{id:parseInt(e.id),name:e.name,email:e.email,position:e.position||"No Position",department:(null==(t=e.department)?void 0:t.name)||e.department_name}});m(e)}catch(e){}},C=()=>{e("/workflowapproval/monitoringapproval")};return v&&!f?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx(Vd,{className:"animate-spin text-blue-600",size:32})})]}):f?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:h.jsx(Eu,{}),isMobile:l,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!d)),u(e=>!e)}}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Eu,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",h.jsx("span",{className:"text-blue-600 ml-2",children:null==f?void 0:f.name})]}),h.jsxs(Ac.button,{onClick:C,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:v,children:[h.jsx(Bc,{className:"mr-2",size:18})," Back to Template List"]})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),j&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:j}),h.jsx("div",{className:"space-y-4",children:b.map((e,t)=>{const n=(()=>{const e=p.map(e=>e.position).filter(e=>null!=e&&"No Position"!==e);return[...new Set(e)]})(),r=e.role&&"Select Position"!==e.role?(i=e.role,p.filter(e=>e.position===i)):[];var i;return h.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[h.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[e.order,"."]}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),h.jsxs("select",{value:e.role,onChange:e=>((e,t)=>{y(n=>n.map((n,r)=>r===e?{...n,role:t,assignee:""}:n))})(t,e.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"Select Position",children:"Select Position"}),n.map(e=>h.jsx("option",{value:e,children:e},e))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),h.jsxs("select",{value:e.approver_user_id||"",onChange:e=>((e,t)=>{const n=p.find(e=>e.id===t);n&&y(t=>t.map((t,r)=>r===e?{...t,assignee:n.name,approver_user_id:n.id}:t))})(t,parseInt(e.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!e.role||"Select Position"===e.role||0===r.length,children:[h.jsx("option",{value:"",children:"Select User"}),r.map(e=>h.jsxs("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]}),e.role&&"Select Position"!==e.role&&0===r.length&&h.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),b.length>1&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{y(t=>t.filter((t,n)=>n!==e).map((e,t)=>({...e,order:t+1})))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:v,children:h.jsx(ju,{size:20})})]},t)})}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=b.length>0?Math.max(...b.map(e=>e.order))+1:1;y(t=>[...t,{order:e,role:"Select Position",assignee:""}])},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:v,children:[h.jsx(iu,{size:18,className:"mr-2"})," Add Step"]}),h.jsxs(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(f)if(b.every(e=>e.role&&e.assignee&&e.approver_user_id&&"Select Position"!==e.role))try{w(!0),N("");const r=f.approvers||[],o=(b.map(e=>({approver_user_id:e.approver_user_id,step:e.order})),[]);for(const n of b){const s={approver_user_id:n.approver_user_id,step:n.order},l=r.find(e=>e.step===n.order);if(l){if(l.approver_user_id!==n.approver_user_id)try{await a(f.id,l.id,s)}catch(e){throw new Error(`Failed to update approver for step ${n.order}`)}}else try{await i(f.id,s)}catch(t){throw new Error(`Failed to add approver for step ${n.order}`)}o.push(n.order)}const l=r.filter(e=>!o.includes(e.step)).map(e=>({id:e.id,step:e.step}));for(const e of l)try{await s(f.id,e.id)}catch(n){}alert(` Approval flow for template "${f.name}" has been successfully saved!`),await k()}catch(r){N(r instanceof Error?r.message:"Failed to save approval flow")}finally{w(!1)}else N("Please complete all roles and assignees.")},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:v,children:[v?h.jsx(Vd,{className:"animate-spin mr-2",size:16}):h.jsx(hu,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),h.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",t]}),h.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},Wge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Uge=()=>{const{id:e}=ke(),[t,n]=x.useState(window.innerWidth<768),[r,i]=x.useState([]),[a,s]=x.useState(),{getWorkArea:o,updateWorkArea:l,getWorkAreaById:c}=xt(),[d,u]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[p,m]=x.useState(null),[f,g]=x.useState(null),[b,y]=x.useState(!1),[v,w]=x.useState(!1),j=je(),[N,k]=x.useState({work_area:""});x.useEffect(()=>{a&&k({work_area:a.work_area||""})},[a]);const S=x.useCallback(async()=>{try{if(e){const[t]=await Promise.all([c(e)]);s(t)}}catch(t){m(t.message||"Failed to load form data")}},[e,c]);x.useEffect(()=>{e&&S()},[e,S]);const A=()=>{y(!1),j("/worklocation/workarea")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Yd,{}),isMobile:t,toggleSidebar:()=>{u(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),h.jsxs(Ac.button,{onClick:()=>j("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Area Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:p}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),w(!0),m(null);try{const t={work_area:N.work_area};await l(e,t),g("Work Area update successfully!"),y(!0)}catch(n){m(n.message||"Failed to update Work Area")}finally{w(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>j("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),h.jsx(Wge,{isOpen:b,onClose:A,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},Vge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,$ge=()=>{const[e,t]=x.useState(window.innerWidth<768),[n,r]=x.useState([]),{addWorkArea:i,getWorkArea:a}=xt(),[s,o]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[l,c]=x.useState(null),[d,u]=x.useState(null),[p,m]=x.useState(!1),[f,g]=x.useState(!1),b=je(),[y,v]=x.useState({work_area:""}),w=x.useCallback(async()=>{try{const[e]=await Promise.all([a()]);r(e)}catch(e){c(e.message||"Failed to load form data")}},[a]);x.useEffect(()=>{w()},[w]);const j=()=>{m(!1),b("/worklocation/workarea")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:h.jsx(Yd,{}),isMobile:e,toggleSidebar:()=>{o(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),h.jsxs(Ac.button,{onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Work Area Management"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[l&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:l}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>c(null)})})]}),h.jsxs("form",{onSubmit:async e=>{e.preventDefault(),g(!0),c(null);try{const e={work_area:y.work_area};await i(e),u("Work Area created successfully!"),m(!0)}catch(t){c(t.message||"Failed to create Work Area")}finally{g(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"work_area",id:"work_area",value:y.work_area,onChange:e=>{const{name:t,value:n}=e.target;v(e=>({...e,[t]:"sla"===t?Number(n):n}))},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsx(Ac.button,{type:"button",onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),h.jsx(Vge,{isOpen:p,onClose:j,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:d}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:j,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},qge=({isOpen:e,onClose:t,title:n,children:r,className:i})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i||"max-w-xl w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:h.jsx(Iu,{className:"text-xl"})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Gge=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},Yge=()=>{const[e,t]=x.useState([]),{getWorkArea:n,deleteWorkArea:r}=xt(),[i,a]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState(!1),[p,m]=x.useState(null),[f,g]=x.useState(!1),[b]=x.useState(window.innerWidth<768),[y,v]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),w=je(),j=x.useRef(null),[N,k]=x.useState(!1),S=x.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),A=x.useCallback(async()=>{try{a(!0);const e=[...await n()].sort((e,t)=>e.id-t.id);t(e)}catch(e){o("Failed to load Work Area")}finally{a(!1)}},[n]);x.useEffect(()=>{A()},[A]);const C=x.useMemo(()=>{if(!l)return S;const e=l.toLowerCase();return S.filter(t=>t.name.toLowerCase().includes(e))},[l,S]),_=x.useMemo(()=>{if(!l.trim())return e;const t=l.toLowerCase().trim(),n=t.split(":");let r="all",i=t;return n.length>1&&S.some(e=>e.name.toLowerCase()===n[0].trim())&&(n[0].trim(),i=n.slice(1).join(":").trim()),e.filter(e=>e.work_area.toLowerCase().includes(i))},[e,l,S]),E=x.useCallback(e=>{m(e),u(!0)},[]);return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:h.jsx(Yd,{}),isMobile:b,toggleSidebar:()=>{const e=!y;v(e),localStorage.setItem("sidebarOpen",JSON.stringify(e))}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",h.jsx("span",{className:"text-blue-600",children:"Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>w("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{className:"text-base"}),h.jsx("span",{children:"Add Work Area"})]}),h.jsxs(Ac.button,{onClick:()=>{alert("Import functionality is not yet implemented.")},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(Cu,{className:"text-base"}),h.jsx("span",{children:"Import"})]}),h.jsxs(Ac.button,{onClick:()=>g(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{className:"text-base"}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:h.jsx(Zc,{className:"text-base"})})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:h.jsx(Gge,{title:"Total Work Area",value:e.length.toString(),change:`+${Math.floor(e.length/10*100)}%`,icon:h.jsx(Yd,{className:"w-6 h-6"})})}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{ref:j,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:l,onChange:e=>{const t=e.target.value;c(t)},onFocus:()=>k(!0),"aria-label":"Search work area"}),h.jsx(Da,{children:N&&C.length>0&&h.jsx(Ac.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:C.map(e=>h.jsx(Ac.button,{onClick:()=>{return t=e.name,c(`${t}: `),k(!1),void(null==(n=j.current)||n.focus());var t,n},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:h.jsx("span",{className:"font-semibold",children:e.name})},e.id))})})]})}),h.jsx(Da,{children:f&&h.jsx(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),i?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):0===_.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("p",{className:"text-gray-700 text-base font-medium",children:l?"No work area found matching your search.":"No work area available."}),l&&h.jsx("button",{onClick:()=>c(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_.map((e,t)=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t+1})}),h.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.work_area})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>w(`/worklocation/workarea/editworkarea/${e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{className:"inline text-base"})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{className:"inline text-base"})})]})]},e.id))})]})})})]})]}),h.jsx(qge,{isOpen:d,onClose:()=>u(!1),title:"Confirm Deletion",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>u(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&(async n=>{try{await r(n),t(e.filter(e=>e.id!==n)),u(!1),m(null)}catch(i){o("Failed to delete Work Area. Please try again.")}})(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Qge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Kge=()=>{const{addAsset:e}=xt(),t=je(),[n,r]=x.useState(!1),[i,a]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(window.innerWidth<768),p={id:0,name:"",category:"",location:"",purchase_date:(new Date).toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:(new Date).toISOString(),update_at:(new Date).toISOString()},[m,f]=x.useState(p),g=x.useCallback(e=>{const{name:t,value:n}=e.target;f(e=>({...e,[t]:n}))},[]),b=x.useCallback(()=>{f(p),a(null)},[p]),y=x.useCallback(()=>{o(!1),t("/assets")},[t]);return x.useEffect(()=>{const e=()=>{u(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:h.jsx(Xd,{}),isMobile:d,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),h.jsxs(Ac.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Assets"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:i}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>a(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),r(!0),a(null);try{const t={...m,id:0,created_at:(new Date).toISOString(),update_at:(new Date).toISOString()};await e(t),o(!0),b()}catch(n){a(n.message||"Failed to save asset data. Please try again.")}finally{r(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Xd,{className:"mr-2 text-blue-500"})," Basic Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:m.name,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"category",id:"category",value:m.category,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"location",id:"location",value:m.location,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:m.purchase_date,onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"description",id:"description",value:m.description,onChange:g,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(mu,{className:"mr-2 text-green-500"})," Technical Specifications"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),h.jsxs("select",{name:"type",id:"type",value:m.type||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Type"}),h.jsx("option",{value:"mechanical",children:"Mechanical"}),h.jsx("option",{value:"electrical",children:"Electrical"}),h.jsx("option",{value:"vehicle",children:"Vehicle"}),h.jsx("option",{value:"building",children:"Building"}),h.jsx("option",{value:"equipment",children:"Equipment"}),h.jsx("option",{value:"tool",children:"Tool"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),h.jsx("input",{type:"text",name:"make",id:"make",value:m.make||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),h.jsx("input",{type:"text",name:"model",id:"model",value:m.model||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{name:"status",id:"status",value:m.status||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Status"}),h.jsx("option",{value:"running",children:"Running"}),h.jsx("option",{value:"maintenance",children:"Maintenance"}),h.jsx("option",{value:"breakdown",children:"Breakdown"}),h.jsx("option",{value:"idle",children:"Idle"}),h.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Pu,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),h.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:m.last_maintenance||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),h.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:m.next_maintenance||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),h.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:m.work_orders||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),h.jsxs("select",{name:"health",id:"health",value:m.health||"",onChange:g,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Health Status"}),h.jsx("option",{value:"excellent",children:"Excellent"}),h.jsx("option",{value:"good",children:"Good"}),h.jsx("option",{value:"fair",children:"Fair"}),h.jsx("option",{value:"poor",children:"Poor"}),h.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:b,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),h.jsx(Qge,{isOpen:s,onClose:y,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},Jge=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,Xge=()=>{const{editAsset:e,getAssetsData:t}=xt(),n=je(),{id:r}=ke(),[i,a]=x.useState(!1),[s,o]=x.useState(!0),[l,c]=x.useState(null),[d,u]=x.useState(!1),[p,m]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[f,g]=x.useState(window.innerWidth<768),b=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!p)),m(e=>!e)},y={id:0,name:"",category:"",location:"",purchase_date:(new Date).toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:(new Date).toISOString(),update_at:(new Date).toISOString()},[v,w]=x.useState(y),j=x.useCallback(e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n}))},[]),N=x.useCallback(async()=>{if(r){o(!0);try{const e=(await t()).find(e=>String(e.id)===r);e?w({id:e.id,name:e.name,category:e.category,location:e.location,purchase_date:e.purchaseDate,description:e.description,type:e.type||"",make:e.make||"",model:e.model||"",status:e.status||"",last_maintenance:e.lastMaintenance||"",next_maintenance:e.nextMaintenance||"",work_orders:e.workOrders||"",health:e.health||"",created_at:e.createdAt,update_at:e.updateAt}):c("Asset not found")}catch(e){c("Failed to load asset data: "+e.message)}finally{o(!1)}}},[r,t]),k=x.useCallback(()=>{N(),c(null)},[N]),S=x.useCallback(()=>{u(!1),n("/assets")},[n]);return x.useEffect(()=>{const e=()=>{g(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{N()},[N]),s?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:h.jsx(Xd,{}),isMobile:f,toggleSidebar:b}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Td,{className:"animate-spin text-blue-600 mb-4",size:32}),h.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:h.jsx(Xd,{}),isMobile:f,toggleSidebar:b}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",v.name]})]}),h.jsxs(Ac.button,{onClick:()=>n("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{className:"text-lg"})," Back to Assets"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[l&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:l}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>c(null)})})]}),h.jsxs("form",{onSubmit:async t=>{t.preventDefault(),a(!0),c(null);try{const t={...v,update_at:(new Date).toISOString()};await e(t),u(!0)}catch(n){c(n.message||"Failed to update asset data. Please try again.")}finally{a(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Xd,{className:"mr-2 text-blue-500"})," Basic Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:v.name,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"category",id:"category",value:v.category,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"location",id:"location",value:v.location,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:v.purchase_date,onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"description",id:"description",value:v.description,onChange:j,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Xd,{className:"mr-2 text-green-500"})," Technical Specifications"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),h.jsxs("select",{name:"type",id:"type",value:v.type||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Type"}),h.jsx("option",{value:"mechanical",children:"Mechanical"}),h.jsx("option",{value:"electrical",children:"Electrical"}),h.jsx("option",{value:"vehicle",children:"Vehicle"}),h.jsx("option",{value:"building",children:"Building"}),h.jsx("option",{value:"equipment",children:"Equipment"}),h.jsx("option",{value:"tool",children:"Tool"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),h.jsx("input",{type:"text",name:"make",id:"make",value:v.make||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),h.jsx("input",{type:"text",name:"model",id:"model",value:v.model||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsxs("select",{name:"status",id:"status",value:v.status||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Status"}),h.jsx("option",{value:"running",children:"Running"}),h.jsx("option",{value:"maintenance",children:"Maintenance"}),h.jsx("option",{value:"breakdown",children:"Breakdown"}),h.jsx("option",{value:"idle",children:"Idle"}),h.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Xd,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),h.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:v.last_maintenance||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),h.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:v.next_maintenance||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),h.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:v.work_orders||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),h.jsxs("select",{name:"health",id:"health",value:v.health||"",onChange:j,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[h.jsx("option",{value:"",children:"Select Health Status"}),h.jsx("option",{value:"excellent",children:"Excellent"}),h.jsx("option",{value:"good",children:"Good"}),h.jsx("option",{value:"fair",children:"Fair"}),h.jsx("option",{value:"poor",children:"Poor"}),h.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:i,children:i?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(uu,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),h.jsx(Jge,{isOpen:d,onClose:S,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},Zge=()=>{const e=je(),{user:t,hasPermission:n}=xt(),[r,i]=x.useState(!1),[a,s]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[u,p]=x.useState(!1),m=x.useRef(null),f=x.useRef(null);x.useEffect(()=>{const e=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&d(!1),f.current&&!f.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const g=t=>{e(t)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Select Genba Menu",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:h.jsx(od,{}),isMobile:o,toggleSidebar:()=>{s(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Genba Menu"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the menu you wish to manage other for genba action."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[n("23")&&h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>g("/genba/soconfiguration"),children:[h.jsx(Mu,{size:64,className:"text-blue-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Organization Structure of 5S"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Manage structure organization templates."}),h.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to SO Configuration ",h.jsx(td,{size:18,className:"ml-1"})]})]}),n("23")&&h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>g("/genba/genbaarea"),children:[h.jsx(Gc,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Genba Work Area"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Handle Area for 5S."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Genba Work Area",h.jsx(td,{size:18,className:"ml-1"})]})]}),h.jsxs(Ac.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>g("/genba/genbaactivity"),children:[h.jsx(od,{size:64,className:"text-green-600 mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area Reporting"}),h.jsx("p",{className:"text-gray-700 mb-4",children:"Handle report daily tasks."}),h.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Work Area Reporting",h.jsx(td,{size:18,className:"ml-1"})]})]})]})]})]})]})},exe=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,txe=()=>{const e=je(),{getGenbaSOs:t,createGenbaSO:n,deleteGenbaSO:r,setGenbaSOActive:i}=xt(),[a,s]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[c,d]=x.useState(!1),[u,p]=x.useState(""),[m,f]=x.useState([]),[g,b]=x.useState(!1),[y,v]=x.useState(""),[w,j]=x.useState(!1),[N,k]=x.useState(null),S=(e,t,n)=>{k({type:e,templateId:t,templateName:n}),j(!0)};x.useEffect(()=>{A()},[]);const A=async()=>{try{b(!0);const e=await t();f(e||[])}catch(e){v("Failed to load structure organization templates")}finally{b(!1)}};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations.",icon:h.jsx(Mu,{}),isMobile:a,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Ud,{className:"mr-2 text-gray-700",size:24})," Structure Organization Templates"]}),h.jsxs(Ac.button,{onClick:()=>d(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:g,children:[h.jsx(vd,{size:18,className:"mr-2"})," Create New Template"]})]}),y&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:y}),g?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(Vd,{className:"animate-spin text-blue-600",size:32})}):h.jsx("div",{className:"space-y-4",children:m.length>0?m.map(t=>h.jsx(Ac.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[h.jsx(bd,{size:20,className:"mr-2 text-blue-500"}),t.name]}),h.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[h.jsx("span",{className:"text-xs font-medium px-2.5 py-1 rounded-full "+(t.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.is_active?"Active":"Inactive"}),h.jsxs("span",{className:"text-xs text-gray-500",children:["Effective: ",new Date(t.effective_date).toLocaleDateString()]}),h.jsxs("span",{className:"text-xs text-gray-500",children:["Roles: ",t.bridges.length]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{onClick:()=>(t=>{e(`/genba/soconfiguration/configure/${t.id}`)})(t),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:g,children:"Configure"}),!t.is_active&&h.jsx(Ac.button,{onClick:e=>{e.stopPropagation(),S("activate",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:g,children:"Activate"}),h.jsx(Ac.button,{onClick:e=>{e.stopPropagation(),S("delete",t.id,t.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:g,children:"Delete"})]})]})},t.id)):h.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),h.jsx(exe,{isOpen:w,onClose:()=>{j(!1),k(null)},title:"Confirm Action",children:h.jsxs("div",{className:"space-y-5 text-center py-3",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),h.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",null==N?void 0:N.type,' template "',null==N?void 0:N.templateName,'"?',"delete"===(null==N?void 0:N.type)&&" This action cannot be undone."]}),h.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{j(!1),k(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(N)try{b(!0),"activate"===N.type?(await i(N.templateId),f(e=>e.map(e=>({...e,is_active:e.id===N.templateId})))):"delete"===N.type&&(await r(N.templateId),await A()),j(!1),k(null),v("")}catch(e){v(`Failed to ${N.type} template`)}finally{b(!1)}},className:"px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm "+("delete"===(null==N?void 0:N.type)?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"),children:"delete"===(null==N?void 0:N.type)?"Delete":"Activate"})]})]})}),h.jsx(exe,{isOpen:c,onClose:()=>d(!1),title:"Create New Structure Organization Template",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),h.jsx("input",{type:"text",id:"templateName",value:u,onChange:e=>p(e.target.value),placeholder:"e.g., Production Structure 2024",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),y&&h.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:y}),h.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{d(!1),p(""),v("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),h.jsxs(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(u.trim())try{b(!0);const e=await n({name:u,effective_date:(new Date).toISOString().split("T")[0],is_active:!1,bridges:[]});f(t=>[...t,e]),d(!1),p(""),v("")}catch(e){v("Failed to create template")}finally{b(!1)}else v("Template name must be filled out.")},className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:g||!u.trim(),children:[g?h.jsx(Vd,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},nxe=({title:e,value:t,change:n,icon:r})=>{const i=n.startsWith("+");return h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t})]}),h.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),h.jsxs("p",{className:"mt-3 text-xs font-semibold "+(i?"text-green-600":"text-red-600"),children:[n," from last month"]})]})},rxe=({isOpen:e,onClose:t,title:n,children:r,className:i,maxWidth:a="max-w-xl"})=>h.jsx(Da,{children:e&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex justify-center items-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a} ${i||"w-full"}`,children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:h.jsx(Iu,{size:20})})]}),h.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),ixe=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmText:a="Delete",cancelText:s="Cancel"})=>h.jsx(rxe,{isOpen:e,onClose:t,title:r,maxWidth:"max-w-md",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(ku,{className:"text-red-500 text-5xl mx-auto"}),h.jsx("p",{className:"text-gray-700",children:i}),h.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[h.jsx(Ac.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:s}),h.jsx(Ac.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",children:a})]})]})}),axe=()=>{const e=je(),{getGenbaAreas:t,deleteGenbaAreas:n,getUsers:r,getDepartment:i}=xt(),[a,s]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState([]),[u,p]=x.useState(!0),[m,f]=x.useState(""),[g,b]=x.useState([]),[y,v]=x.useState(!1),[w,j]=x.useState(!1),[N,k]=x.useState(null),[S,A]=x.useState(!1),[C,_]=x.useState(null),[E,T]=x.useState(1),[O]=x.useState(10),[M,D]=x.useState([]),[P,I]=x.useState([]),L=({isOpen:e,onClose:t,area:n,onDownload:r,onShare:i})=>{const a=()=>{if(!(null==n?void 0:n.qr_code_base64))return;const e=document.createElement("a");e.download=`QR_${null==n?void 0:n.name.replace(/\s+/g,"_")}_${Date.now()}.png`,e.href=n.qr_code_base64,e.click(),r()};return h.jsx(rxe,{isOpen:e,onClose:t,title:"QR Code Area",maxWidth:"max-w-md",children:h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"bg-blue-50 rounded-2xl p-6",children:(null==n?void 0:n.qr_code_base64)?h.jsx("img",{src:n.qr_code_base64,alt:"QR Code",className:"w-64 h-64 mx-auto rounded-lg shadow-md"}):h.jsx("div",{className:"w-64 h-64 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:h.jsx(su,{className:"text-gray-400 w-16 h-16"})})}),h.jsxs("div",{className:"text-left bg-white rounded-lg p-4 border border-gray-200",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informasi Area"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Nama Area:"}),h.jsx("span",{className:"font-medium text-gray-900",children:null==n?void 0:n.name})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Department:"}),h.jsx("span",{className:"font-medium text-gray-900",children:null==n?void 0:n.department.name})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"PIC Area:"}),h.jsx("span",{className:"font-medium text-gray-900",children:null==n?void 0:n.pic.name})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Tipe Area:"}),h.jsx("span",{className:"font-medium text-gray-900",children:(null==n?void 0:n.is_default)?"Daily Reports":""})]})]}),(()=>{if(!(null==n?void 0:n.attachment)||Array.isArray(n.attachment)&&0===n.attachment.length)return null;let e=[];if("string"==typeof n.attachment)try{const t=JSON.parse(n.attachment);e=Array.isArray(t)?t:[t]}catch(kxe){e=[{path:n.attachment,filename:"Layout Area"}]}else e=Array.isArray(n.attachment)?n.attachment:[n.attachment];return h.jsxs("div",{className:"mt-4",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Layout Area"}),h.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map((e,t)=>{const n=(r=e.path)?r.startsWith("http")?r:`http://api.cmms.widatra.com:8181/storage/${r.startsWith("/")?"":"/"}${r}`:null;var r;return n?h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[h.jsx("img",{src:n,alt:e.filename||`Layout ${t+1}`,className:"w-full h-auto max-h-48 object-contain rounded-md",onError:e=>{e.target.style.display="none"}}),h.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center truncate",children:e.filename||`Layout ${t+1}`})]},t):null})})]})})()]}),h.jsxs("div",{className:"flex gap-3 justify-center",children:[h.jsxs(Ac.button,{onClick:a,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[h.jsx(md,{size:16}),"Download QR"]}),h.jsxs(Ac.button,{onClick:async()=>{if(null==n?void 0:n.qr_code_base64)try{if(navigator.share){const e=await fetch(n.qr_code_base64),t=await e.blob(),r=new File([t],`QR_${null==n?void 0:n.name}.png`,{type:"image/png"});await navigator.share({title:`QR Code Area - ${null==n?void 0:n.name}`,text:`QR Code untuk area ${null==n?void 0:n.name}, Department: ${null==n?void 0:n.department.name}`,files:[r]}),i()}else await navigator.clipboard.writeText(`Area: ${null==n?void 0:n.name}\nDepartment: ${null==n?void 0:n.department.name}\nPenanggung Jawab: ${null==n?void 0:n.pic.name}`),alert("Informasi area telah disalin ke clipboard!"),i()}catch(kxe){a()}},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[h.jsx(fu,{size:16}),"Share"]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"QR code berisi informasi lengkap area kerja untuk keperluan 5S dan maintenance"})]})})};x.useEffect(()=>{R(),F(),B()},[]);const R=async()=>{try{p(!0);const e=await t();d(e)}catch(kxe){}finally{p(!1)}},F=async()=>{try{const e=await i();D(e)}catch(kxe){}},B=async()=>{try{const e=await r();I(e)}catch(kxe){}};x.useEffect(()=>{const e=()=>{l(window.innerWidth<768),window.innerWidth<768&&s(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const H=x.useMemo(()=>c.filter(e=>{const t=e.name.toLowerCase().includes(m.toLowerCase())||e.department.name.toLowerCase().includes(m.toLowerCase())||e.pic.name.toLowerCase().includes(m.toLowerCase()),n=0===g.length||g.includes(e.department.name);return t&&n}),[c,m,g]),z=E*O,W=z-O,U=H.slice(W,z),V=Math.ceil(H.length/O),$=e=>T(e),q=()=>{f(""),b([]),T(1)};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Genba Area",mainTitleHighlight:"Management",description:"Manage work areas and their configurations for 5S implementation",icon:h.jsx(Yd,{}),isMobile:o,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),s(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",h.jsx("span",{className:"text-blue-600",children:"Area Management"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage and organize work areas for efficient 5S implementation and maintenance tracking."})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[h.jsxs(Ac.button,{onClick:()=>e("/genba/genbaarea/addgenbaarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[h.jsx(iu,{size:16}),h.jsx("span",{children:"Add Area"})]}),h.jsxs(Ac.button,{onClick:()=>v(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[h.jsx(jd,{size:16}),h.jsx("span",{children:"Filters"}),h.jsx(Ac.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:h.jsx(Zc,{size:16})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[h.jsx(nxe,{title:"Total Areas",value:c.length.toString(),change:"+12%",icon:h.jsx(Yd,{})}),h.jsx(nxe,{title:"Active Departments",value:new Set(c.map(e=>e.department.name)).size.toString(),change:"+2",icon:h.jsx(Gc,{})}),h.jsx(nxe,{title:"Assigned PIC",value:new Set(c.map(e=>e.pic.name)).size.toString(),change:"+5",icon:h.jsx(Mu,{})}),h.jsx(nxe,{title:"This Month",value:"3",change:"+1",icon:h.jsx(id,{})})]}),h.jsxs(Ac.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(pu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by area name, department, or PIC...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:e=>f(e.target.value)})]})}),h.jsx(Da,{children:y&&h.jsxs(Ac.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(e=>h.jsx("button",{onClick:()=>{return t=e.name,b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]),void T(1);var t},className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-colors "+(g.includes(e.name)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.id))})]}),(m||g.length>0)&&h.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:[H.length," areas found"]}),h.jsx("button",{onClick:q,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]})]})})]}),u?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),h.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading areas data..."})]}):0===H.length?h.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[h.jsx(Yd,{className:"text-blue-500 text-4xl mx-auto mb-4"}),h.jsx("p",{className:"text-gray-700 text-base font-medium",children:m||g.length>0?"No areas found matching your filters.":"No areas available. Create your first area to get started."}),(m||g.length>0)&&h.jsx("button",{onClick:q,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[h.jsx("thead",{className:"bg-blue-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Area Name"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PIC Area"}),h.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(t=>h.jsxs(Ac.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.department.name})}),h.jsx("td",{className:"px-5 py-3",children:h.jsx("div",{className:"text-sm text-gray-900",children:t.pic.name})}),h.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(`/genba/genbaarea/editgenbaarea/${t.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:h.jsx(bu,{size:16})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{_(e),A(!0)})(t),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200 p-1 rounded-full hover:bg-purple-50",title:"QR Code",children:h.jsx(su,{size:16})}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{k(t.id.toString()),j(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:h.jsx(ju,{size:16})})]})]},t.id))})]})})}),H.length>O&&h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",h.jsx("span",{className:"font-semibold",children:W+1})," to ",h.jsx("span",{className:"font-semibold",children:Math.min(z,H.length)})," of"," ",h.jsx("span",{className:"font-semibold",children:H.length})," areas"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>$(E-1),disabled:1===E,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Previous"}),Array.from({length:V},(e,t)=>h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>$(t+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm\n                      ${E===t+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}\n                    `,children:t+1},t+1)),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>$(E+1),disabled:E===V,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Next"})]})]})]})]}),h.jsx(L,{isOpen:S,onClose:()=>A(!1),area:C,onDownload:()=>{},onShare:()=>{}}),h.jsx(ixe,{isOpen:w,onClose:()=>j(!1),onConfirm:()=>N&&(async e=>{try{await n(parseInt(e)),d(t=>t.filter(t=>t.id.toString()!==e)),j(!1),k(null)}catch(kxe){}})(N),title:"Delete Area",message:"Are you sure you want to delete this area? This action cannot be undone."})]})},sxe=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,oxe=()=>{const e=je();x.useRef(null);const{createGenbaAreas:t,user:n,getUsers:r,getDepartment:i}=xt(),[a,s]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[u,p]=x.useState([]),[m,f]=x.useState(null),[g,b]=x.useState(null),[y,v]=x.useState(!1),[w,j]=x.useState([]),[N,k]=x.useState([]),[S,A]=x.useState(null),[C,_]=x.useState(null),E=x.useRef(null),T=x.useRef(null),[O,M]=x.useState({work_areas:[],department_id:"",pic_user_id:""});x.useEffect(()=>{D(),P()},[]),x.useEffect(()=>{if(O.department_id&&w.length>0){const e=w.filter(e=>{var t;return(null==(t=e.department_id)?void 0:t.toString())===O.department_id});k(e),O.pic_user_id&&!e.some(e=>e.id.toString()===O.pic_user_id)&&M(e=>({...e,pic_user_id:""}))}else k([]),M(e=>({...e,pic_user_id:""}))},[O.department_id,w]);const D=async()=>{try{const e=await i();p(e)}catch(e){}},P=async()=>{try{const e=await r();j(e)}catch(e){}},I=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)M(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;M(e=>({...e,[t]:n}))}},[]),L=x.useCallback(()=>{M({work_areas:[],department_id:"",pic_user_id:""}),f(null),b(null)},[]),R=x.useCallback(()=>{v(!1),e("/genba/genbaarea")},[e]),F=({file:e,onRemove:t})=>{if(!e)return null;const n=e.type.startsWith("image/");return n&&URL.createObjectURL(e),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200 mt-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[n?h.jsx(Md,{className:"w-6 h-6 text-blue-600"}):h.jsx(yd,{className:"w-6 h-6 text-blue-600"}),h.jsx("p",{className:"text-sm text-gray-800",children:e.name})]}),h.jsx("button",{type:"button",onClick:t,className:"text-red-600 hover:text-red-800 p-1 rounded-lg hover:bg-red-50",children:h.jsx(Iu,{size:16})})]})},B={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add Genba Area",mainTitleHighlight:"Genba Area",description:"Create new work area for 5S implementation",icon:h.jsx(Yd,{}),isMobile:o,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),s(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Genba Area"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Define a new work area for 5S implementation and maintenance"})]}),h.jsxs(Ac.button,{onClick:()=>e("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{size:16})," Back to Areas"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:m}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>f(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d(!0),f(null),b(null),!O.department_id||!O.pic_user_id)return f("Please fill in all required fields"),void d(!1);if(0===O.work_areas.length)return f("Please add at least one work area"),void d(!1);if(O.work_areas.some(e=>!e.name.trim()))return f("All work areas must have a name"),void d(!1);try{await t({work_areas:O.work_areas.map(e=>{var t;return{...e,is_default:null!=(t=e.is_default)&&t}}),department_id:parseInt(O.department_id),pic_user_id:parseInt(O.pic_user_id),attachment:null}),b("Area berhasil dibuat!"),v(!0),L()}catch(n){f(n.message||"Gagal membuat area. Silakan coba lagi.")}finally{d(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Gc,{className:"mr-2 text-blue-500"})," Department Information"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"department_id",id:"department_id",options:u.map(e=>({value:e.id.toString(),label:e.name})),value:u.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===O.department_id),onChange:e=>I(e,"department_id"),placeholder:"Select Department",styles:B,required:!0})]})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Yd,{className:"mr-2 text-green-500"})," Work Areas"]}),h.jsxs("div",{className:"mb-6",children:[h.jsx(Ac.button,{type:"button",onClick:()=>{M(e=>({...e,work_areas:[...e.work_areas,{name:"",attachment:null,is_default:!1}]}))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:h.jsx("span",{children:"+ Add Work Area"})}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Each work area can have its own layout attachment"})]}),h.jsx("div",{className:"space-y-6",children:O.work_areas.map((e,t)=>h.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("h3",{className:"font-medium text-gray-800",children:["Work Area ",t+1]}),h.jsx("button",{type:"button",onClick:()=>(e=>{M(t=>({...t,work_areas:t.work_areas.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 p-1 rounded-lg hover:bg-red-50",children:h.jsx(Iu,{size:16})})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",value:e.name,onChange:e=>((e,t)=>{M(n=>({...n,work_areas:n.work_areas.map((n,r)=>r===e?{...n,name:t}:n)}))})(t,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-2 focus:outline-none focus:border-blue-500 focus:ring-0",placeholder:"Enter area name",required:!0})]}),h.jsx("div",{className:"mt-4",children:h.jsxs("label",{className:"flex items-center space-x-3 text-sm font-medium text-gray-700",children:[h.jsx("input",{type:"checkbox",checked:e.is_default,onChange:e=>M(n=>({...n,work_areas:n.work_areas.map((n,r)=>r===t?{...n,is_default:e.target.checked}:n)}))}),h.jsx("span",{children:"Daily Reports (jadikan area default)"})]})}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Layout Attachment ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.attachment?h.jsx("div",{className:"w-full p-4 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsx(F,{file:e.attachment,onRemove:()=>(e=>{M(t=>({...t,work_areas:t.work_areas.map((t,n)=>n===e?{...t,attachment:null}:t)}))})(t)})}):h.jsx(Ac.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:()=>(e=>{A(e)})(t),children:h.jsxs("div",{className:"space-y-2 text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(tu,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add layout for this area"}),h.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})})]})]})]},t))}),0===O.work_areas.length&&h.jsx("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:h.jsx("p",{className:"text-gray-500",children:'No work areas added yet. Click "Add Work Area" to get started.'})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Yd,{className:"mr-2 text-green-500"})," Area Management"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"pic_user_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"pic_user_id",id:"pic_user_id",options:N.map(e=>({value:e.id.toString(),label:e.name})),value:N.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===O.pic_user_id),onChange:e=>I(e,"pic_user_id"),placeholder:O.department_id?"Select Penanggung Jawab":"Please select department first",styles:B,isDisabled:!O.department_id,required:!0}),!O.department_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"Please select a department first"})]})})]}),h.jsx(Da,{children:null!==S&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>A(null),children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Iu,{size:20})})]}),C?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:T,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(E.current&&T.current&&null!==S){const e=T.current,t=e.getContext("2d");t&&(e.width=E.current.videoWidth,e.height=E.current.videoHeight,t.drawImage(E.current,0,0),e.toBlob(e=>{if(e){const t=((e,t)=>Object.assign(new Blob([e],{type:"image/jpeg"}),{name:t,lastModified:Date.now()}))(e,`photo-${Date.now()}.jpg`),n=S;M(e=>({...e,work_areas:e.work_areas.map((e,r)=>r===n?{...e,attachment:t}:e)}))}},"image/jpeg",.8),C&&(C.getTracks().forEach(e=>e.stop()),_(null))),A(null)}},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{C&&(C.getTracks().forEach(e=>e.stop()),_(null)),A(null)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>(e=>{const t=document.createElement("input");t.type="file",t.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",t.onchange=t=>{const n=t.target;if(n.files&&n.files.length>0){const t=n.files[0];M(n=>({...n,work_areas:n.work_areas.map((n,r)=>r===e?{...n,attachment:t}:n)}))}A(null)},t.click()})(S),className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(yd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>(async e=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});_(t),E.current&&(E.current.srcObject=t),A(e)}catch(t){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}})(S),className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(Qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:L,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:c,children:c?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Creating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Create Area"]})})]})]})]})]})]}),h.jsx(sxe,{isOpen:y,onClose:R,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been created successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},lxe=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,cxe=()=>{const{id:e}=ke(),t=je(),{getGenbaAreas:n,updateGenbaAreas:r,getUsers:i,getDepartment:a}=xt(),[s,o]=x.useState([]),[l,c]=x.useState(()=>{const e=localStorage.getItem("si debarOpen");return!!e&&JSON.parse(e)}),[d,u]=x.useState(window.innerWidth<768),[p,m]=x.useState(!1),[f,g]=x.useState(!1),[b,y]=x.useState(null),[v,w]=x.useState(null),[j,N]=x.useState(!1),[k,S]=x.useState([]),[A,C]=x.useState([]),[_,E]=x.useState(!1),[T,O]=x.useState(null),M=x.useRef(null),D=x.useRef(null),[P,I]=x.useState(null),[L,R]=x.useState({name:"",department_id:"",pic_user_id:"",is_default:!1,attachment:null,existingLayouts:[]});x.useEffect(()=>{e&&F(),z(),H()},[e]),x.useEffect(()=>{if(L.department_id&&k.length>0){const e=k.filter(e=>{var t;return(null==(t=e.department_id)?void 0:t.toString())===L.department_id});C(e),L.pic_user_id&&!e.some(e=>e.id.toString()===L.pic_user_id)&&R(e=>({...e,pic_user_id:""}))}else L.department_id?C([]):(C([]),R(e=>({...e,pic_user_id:""})))},[L.department_id,k]);const F=async()=>{var t,r,i;if(e){m(!0);try{const s=(await n()).find(t=>t.id.toString()===e);if(!s)return void y("Area not found");let o=[];if(s.attachment)if("string"==typeof s.attachment)try{const e=JSON.parse(s.attachment);o=Array.isArray(e)?e:[e]}catch(a){o=[{path:s.attachment,filename:"Layout Area"}]}else o=Array.isArray(s.attachment)?s.attachment:[s.attachment];const l=(null==(t=s.pic_user_id)?void 0:t.toString())||"";R({name:s.name,department_id:(null==(r=s.department_id)?void 0:r.toString())||"",pic_user_id:(null==(i=s.pic_user_id)?void 0:i.toString())||"",attachment:null,is_default:s.is_default,existingLayouts:o}),s.pic&&l?I({value:l,label:s.pic.name}):I(null)}catch(s){y("Failed to load area data")}finally{m(!1)}}};let B=A.map(e=>({value:String(e.id),label:e.name})).find(e=>e.value===L.pic_user_id);!B&&P&&(B=P);const H=async()=>{try{const e=await a();o(e)}catch(e){}},z=async()=>{try{const e=await i();S(e)}catch(e){}},W=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)R(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;R(e=>({...e,[t]:n}))}},[]),U=A.map(e=>({value:e.id.toString(),label:e.name}));U.find(e=>e.value===L.pic_user_id);const V=x.useCallback(()=>{e&&(F(),y(null),w(null))},[e]),$=x.useCallback(()=>{N(!1),t("/genba/genbaarea")},[t]),q=({attachment:e,existingLayouts:t,onRemoveAttachment:n,onRemoveExisting:r})=>{const i=[...t.map((e,t)=>{return{type:"existing",index:t,name:e.filename||`Layout ${t+1}`,url:(n=e.path,n.startsWith("http")?n:`http://api.cmms.widatra.com:8181/storage/${n.startsWith("/")?"":"/"}${n}`)};var n}),...e?[{type:"new",index:0,name:e.name,file:e}]:[]];return 0===i.length?null:h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Attachments:"}),i.map(e=>{const t="existing"===e.type?e.url.startsWith("data:image")||e.url.match(/\.(jpg|jpeg|png|gif)$/i):e.file.type.startsWith("image/");return h.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border "+("existing"===e.type?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"),children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t?h.jsx(Md,{className:"w-8 h-8 text-blue-600"}):h.jsx(yd,{className:"w-8 h-8 text-blue-600"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),h.jsx("p",{className:"text-xs text-gray-500",children:"existing"===e.type?"Existing file":`${(e.file.size/1024/1024).toFixed(2)} MB`})]})]}),h.jsx("button",{type:"button",onClick:()=>"existing"===e.type?r(e.index):n(),className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded-lg hover:bg-red-50",title:"Remove attachment",children:h.jsx(Iu,{size:16})}),t&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 w-full",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:"existing"===e.type?e.url:URL.createObjectURL(e.file),alt:"Preview",className:"h-24 w-24 object-cover rounded-lg border shadow-sm"})})]})]},`${e.type}-${e.index}`)})]})},G={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:e=>({...e,padding:"0"}),singleValue:e=>({...e,color:"#374151"}),placeholder:e=>({...e,color:"#6B7280"}),dropdownIndicator:e=>({...e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:e=>({...e,display:"none"}),menu:e=>({...e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return p?h.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:h.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[h.jsx(Td,{className:"animate-spin mr-3 text-2xl"}),h.jsx("span",{className:"font-semibold text-lg",children:"Loading Area Data... Please wait."})]})}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Edit Genba Area",mainTitleHighlight:"Genba Area",description:"Update work area configuration for 5S implementation",icon:h.jsx(Yd,{}),isMobile:d,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Genba Area ",e&&`(ID: ${e})`]}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update work area configuration and details"})]}),h.jsxs(Ac.button,{onClick:()=>t("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[h.jsx(Bc,{size:16})," Back to Areas"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[b&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:b}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),h.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),m(!0),y(null),!L.name||!L.department_id||!L.pic_user_id)return y("Please fill in all required fields"),void m(!1);try{await r(e,{name:L.name,department_id:parseInt(L.department_id),is_default:L.is_default,pic_user_id:parseInt(L.pic_user_id)},L.attachment),w("Area berhasil diupdate!"),N(!0)}catch(n){y(n.message||"Gagal mengupdate area. Silakan coba lagi.")}finally{m(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Gc,{className:"mr-2 text-blue-500"})," Department Information"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"department_id",id:"department_id",options:s.map(e=>({value:e.id.toString(),label:e.name})),value:s.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===L.department_id),onChange:e=>W(e,"department_id"),placeholder:"Select Department",styles:G,required:!0})]})})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Yd,{className:"mr-2 text-green-500"})," Area Details"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"name",id:"name",value:L.name,onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"pic_user_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"pic_user_id",id:"pic_user_id",options:U,value:B,onChange:e=>W(e,"pic_user_id"),placeholder:L.department_id?"Select Penanggung Jawab":"Please select department first",styles:G,isDisabled:!L.department_id,required:!0}),!L.department_id&&h.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"Please select a department first"})]}),h.jsx("div",{children:h.jsxs("label",{className:"flex items-center space-x-3 text-sm font-medium text-gray-700",children:[h.jsx("input",{type:"checkbox",checked:L.is_default,onChange:e=>R(t=>({...t,is_default:e.target.checked})),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),h.jsx("span",{children:"Daily Reports (jadikan area default)"})]})})]})]}),h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Cu,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),h.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Layout Attachments ",h.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional, Multiple files allowed)"})]}),0!==L.existingLayouts.length||L.attachment?h.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:h.jsx(tu,{className:"h-5 w-5 text-blue-600"})}),h.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[L.existingLayouts.length+(L.attachment?1:0)," file(s) attached"]}),h.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Click to change attachment."})]})}):h.jsx(Ac.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:e=>{e.preventDefault(),e.stopPropagation(),E(!0)},children:h.jsxs("div",{className:"space-y-3 text-center",children:[h.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:h.jsx(tu,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}),h.jsx(q,{attachment:L.attachment,existingLayouts:L.existingLayouts,onRemoveAttachment:()=>{R(e=>({...e,attachment:null}))},onRemoveExisting:e=>{R(t=>({...t,existingLayouts:t.existingLayouts.filter((t,n)=>n!==e)}))}}),h.jsx(Da,{children:_&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>E(!1),children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),h.jsx("button",{type:"button",onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:h.jsx(Iu,{size:20})})]}),T?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[h.jsx("video",{ref:M,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),h.jsx("canvas",{ref:D,className:"hidden"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(M.current&&D.current){const e=D.current,t=e.getContext("2d");t&&(e.width=M.current.videoWidth,e.height=M.current.videoHeight,t.drawImage(M.current,0,0),e.toBlob(e=>{if(e){const t=((e,t)=>Object.assign(new Blob([e],{type:"image/jpeg"}),{name:t,lastModified:Date.now()}))(e,`photo-${Date.now()}.jpg`);R(e=>({...e,attachment:t}))}},"image/jpeg",.8),T&&(T.getTracks().forEach(e=>e.stop()),O(null))),E(!1)}},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),h.jsx(Ac.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{T&&(T.getTracks().forEach(e=>e.stop()),O(null)),E(!1)},className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",e.multiple=!1,e.onchange=e=>{const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];R(t=>({...t,attachment:e}))}E(!1)},e.click()},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:h.jsx(yd,{className:"h-6 w-6 text-blue-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Select Files"}),h.jsx("div",{className:"text-sm text-gray-500",children:"From your device (Multiple)"})]})]}),h.jsxs(Ac.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});O(e),M.current&&(M.current.srcObject=e)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:h.jsx(Qc,{className:"h-6 w-6 text-purple-600"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"button",onClick:V,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),h.jsx(Ac.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:f,children:f?h.jsxs(h.Fragment,{children:[h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hu,{className:"mr-2 h-5 w-5"})," Update Area"]})})]})]})]})]})]}),h.jsx(lxe,{isOpen:j,onClose:$,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been updated successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},dxe=()=>{const e=je(),{id:t}=ke(),{getGenbaSOById:n,updateGenbaSO:r,getGenbaRoles:i,getUsers:a,getDepartment:s}=xt(),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return JSON.parse(e||"false")}),[u,p]=x.useState(null),[m,f]=x.useState([]),[g,b]=x.useState([]),[y,v]=x.useState([]),[w,j]=x.useState({effective_date:(new Date).toISOString().split("T")[0],penanggung_jawab:"",koordinators:[],department_koordinators:[],department_komites:[]}),[N,k]=x.useState(!1),[S,A]=x.useState("");x.useEffect(()=>{const e=()=>l(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),x.useEffect(()=>{t&&(C(),_())},[t]);const C=async()=>{if(t)try{k(!0);const e=await n(t);p(e),e.bridges&&e.bridges.length>0&&await E(e.bridges)}catch(e){A("Failed to load template")}finally{k(!1)}else A("Template ID is missing")},_=async()=>{try{const[e,t,n]=await Promise.all([a(),s(),i()]);f(e),b(t),v(n)}catch(e){A("Failed to load master data")}},E=e=>{const t={effective_date:(null==u?void 0:u.effective_date)?u.effective_date.split("T")[0]:(new Date).toISOString().split("T")[0],penanggung_jawab:"",koordinators:[],department_koordinators:[],department_komites:[]};e.forEach(e=>{var n,r,i,a,s,o;const l=e.user,c=e.role.id;switch(e.role.name.toLowerCase(),c){case 1:t.penanggung_jawab=l.name,t.penanggung_jawab_id=l.id,t.penanggung_jawab_department=(null==(n=l.department)?void 0:n.name)||"";break;case 2:t.koordinators.push({id:e.id,name:l.name,user_id:l.id,department:(null==(r=l.department)?void 0:r.name)||""});break;case 3:t.department_koordinators.push({id:e.id,department:(null==(i=l.department)?void 0:i.name)||"",department_id:null==(a=l.department)?void 0:a.id,personnel:l.name,personnel_id:l.id});break;case 4:t.department_komites.push({id:e.id,department:(null==(s=l.department)?void 0:s.name)||"",department_id:null==(o=l.department)?void 0:o.id,personnel:l.name,personnel_id:l.id})}}),j(t)},T=(e,t,n)=>{j(r=>({...r,department_koordinators:r.department_koordinators.map((r,i)=>{if(i===e){if("department"===t){const e=g.find(e=>e.id===n||e.name===n);return{...r,department:(null==e?void 0:e.name)||n,department_id:null==e?void 0:e.id,personnel:"",personnel_id:void 0}}if("personnel"===t){const e=m.find(e=>e.id===n.toString());return{...r,personnel:(null==e?void 0:e.name)||"",personnel_id:"number"==typeof n?n:parseInt(n)}}}return r})}))},O=(e,t,n)=>{j(r=>({...r,department_komites:r.department_komites.map((r,i)=>{if(i===e){if("department"===t){const e=g.find(e=>e.id===n||e.name===n);return{...r,department:(null==e?void 0:e.name)||n,department_id:null==e?void 0:e.id,personnel:"",personnel_id:void 0}}if("personnel"===t){const e=m.find(e=>e.id===n.toString());return{...r,personnel:(null==e?void 0:e.name)||"",personnel_id:"number"==typeof n?n:parseInt(n)}}}return r})}))},M=(e,t)=>{const n=new Set;"penanggung_jawab"!==e&&w.penanggung_jawab_id&&n.add(w.penanggung_jawab_id),"koordinator"!==e&&w.koordinators.forEach(e=>{e.user_id&&n.add(e.user_id)}),"dept_coordinator"!==e&&w.department_koordinators.forEach(e=>{e.personnel_id&&n.add(e.personnel_id)}),"dept_komite"!==e&&w.department_komites.forEach(e=>{e.personnel_id&&n.add(e.personnel_id)});let r=m.filter(e=>!n.has(parseInt(e.id)));return t&&(r=r.filter(e=>{var n;return(null==(n=e.department)?void 0:n.name)===t||e.department_name===t})),r},D=()=>{e("/genba/soconfiguration")};return N&&!u?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx(Vd,{className:"animate-spin text-blue-600",size:32})})]}):u?h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations within the system.",icon:h.jsx(Mu,{}),isMobile:o,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(e=>!e)}}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[h.jsx(Mu,{className:"mr-2 text-gray-700",size:24}),"Configure Template: ",h.jsx("span",{className:"text-blue-600 ml-2",children:null==u?void 0:u.name})]}),h.jsxs(Ac.button,{onClick:D,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:N,children:[h.jsx(Bc,{className:"mr-2",size:18})," Back to Templates"]})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Assign roles and personnel for this structure organization template."}),S&&h.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:S}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"General Information"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"date",value:w.effective_date,onChange:e=>{return t=e.target.value,void j(e=>({...e,effective_date:t}));var t},className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),h.jsx(Yc,{className:"absolute right-3 top-3 text-gray-400",size:16})]})]})})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Penanggung Jawab 5S"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Penanggung Jawab 5S *"}),h.jsxs("select",{value:w.penanggung_jawab_id||"",onChange:e=>(e=>{const t=m.find(t=>t.id===e.toString());t&&j(n=>{var r;return{...n,penanggung_jawab:t.name,penanggung_jawab_id:e,penanggung_jawab_department:(null==(r=t.department)?void 0:r.name)||""}})})(parseInt(e.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Penanggung Jawab"}),M("penanggung_jawab").map(e=>h.jsxs("option",{value:e.id,children:[e.name," ",e.department_name?`(${e.department_name})`:""]},e.id))]})]})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Koordinator 5S"}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j(e=>({...e,koordinators:[...e.koordinators,{id:Date.now()+Math.random(),name:""}]}))},className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:N,children:[h.jsx(iu,{size:14,className:"mr-1"})," Add Coordinator"]})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Koordinator 5S (Minimal 3)"}),h.jsx("div",{className:"space-y-3",children:w.koordinators.map((e,t)=>h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200",children:[h.jsxs("span",{className:"text-gray-500 font-semibold min-w-6",children:[t+1,"."]}),h.jsx("div",{className:"flex-1",children:h.jsxs("select",{value:e.user_id||"",onChange:e=>((e,t)=>{const n=m.find(e=>e.id===t.toString());n&&j(r=>({...r,koordinators:r.koordinators.map((r,i)=>{var a;return i===e?{...r,name:n.name,user_id:t,department:(null==(a=n.department)?void 0:a.name)||""}:r})}))})(t,parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Coordinator"}),M("koordinator").map(e=>h.jsxs("option",{value:e.id,children:[e.name," ",e.department_name?`(${e.department_name})`:""]},e.id))]})}),w.koordinators.length>3&&h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{j(t=>({...t,koordinators:t.koordinators.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:N,children:h.jsx(ju,{size:16})})]},e.id))})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Koordinator 5S Department"}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j(e=>({...e,department_koordinators:[...e.department_koordinators,{id:Date.now()+Math.random(),department:"",personnel:""}]}))},className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:N,children:[h.jsx(iu,{size:14,className:"mr-1"})," Add Department"]})]}),h.jsxs("div",{className:"space-y-4",children:[w.department_koordinators.map((e,t)=>h.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsxs("h4",{className:"font-medium text-gray-800",children:["Department ",t+1]}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{j(t=>({...t,department_koordinators:t.department_koordinators.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:N,children:h.jsx(ju,{size:16})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),h.jsxs("select",{value:e.department,onChange:e=>T(t,"department",e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Department"}),g.map(e=>h.jsx("option",{value:e.name,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel *"}),h.jsxs("select",{value:e.personnel_id||"",onChange:e=>T(t,"personnel",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!e.department,children:[h.jsx("option",{value:"",children:"Select Personnel"}),e.department?M("dept_coordinator",e.department).map(e=>h.jsx("option",{value:e.id,children:e.name},e.id)):h.jsx("option",{value:"",children:"Select department first"})]})]})]})]},e.id)),0===w.department_koordinators.length&&h.jsxs("div",{className:"text-center text-gray-500 py-6 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[h.jsx(Mu,{size:32,className:"mx-auto text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm",children:"No department coordinators assigned yet."}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Department" to assign coordinators for specific departments.'})]})]})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Komite 5S Department"}),h.jsxs(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{j(e=>({...e,department_komites:[...e.department_komites,{id:Date.now()+Math.random(),department:"",personnel:""}]}))},className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:N,children:[h.jsx(iu,{size:14,className:"mr-1"})," Add Department"]})]}),h.jsxs("div",{className:"space-y-4",children:[w.department_komites.map((e,t)=>h.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsxs("h4",{className:"font-medium text-gray-800",children:["Department ",t+1]}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{j(t=>({...t,department_komites:t.department_komites.filter((t,n)=>n!==e)}))})(t),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:N,children:h.jsx(ju,{size:16})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),h.jsxs("select",{value:e.department,onChange:e=>O(t,"department",e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[h.jsx("option",{value:"",children:"Select Department"}),g.map(e=>h.jsx("option",{value:e.name,children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel *"}),h.jsxs("select",{value:e.personnel_id||"",onChange:e=>O(t,"personnel",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!e.department,children:[h.jsx("option",{value:"",children:"Select Personnel"}),e.department?M("dept_komite",e.department).map(e=>h.jsx("option",{value:e.id,children:e.name},e.id)):h.jsx("option",{value:"",children:"Select department first"})]})]})]})]},e.id)),0===w.department_komites.length&&h.jsxs("div",{className:"text-center text-gray-500 py-6 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[h.jsx(Mu,{size:32,className:"mx-auto text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm",children:"No department committees assigned yet."}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Department" to assign committees for specific departments.'})]})]})]})]}),h.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[h.jsx(Ac.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold text-sm",disabled:N,children:"Cancel"}),h.jsxs(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:async()=>{if(u&&(()=>{if(!w.effective_date)return A("Effective Date is required"),!1;if(!w.penanggung_jawab)return A("Penanggung Jawab 5S is required"),!1;if(w.koordinators.length<3)return A("Minimum 3 Koordinator 5S required"),!1;const e=new Set;w.penanggung_jawab_id&&e.add(w.penanggung_jawab_id);for(const t of w.koordinators){if(t.user_id){if(e.has(t.user_id))return A(`User sudah dipilih di role lain: ${t.name}`),!1;e.add(t.user_id)}if(!t.name)return A("All Koordinator 5S must be assigned"),!1}for(const t of w.department_koordinators){if(t.personnel_id){if(e.has(t.personnel_id))return A(`User sudah dipilih di role lain: ${t.personnel}`),!1;e.add(t.personnel_id)}if(!t.department||!t.personnel)return A("All Department Coordinators must have department and personnel assigned"),!1}for(const t of w.department_komites){if(t.personnel_id){if(e.has(t.personnel_id))return A(`User sudah dipilih di role lain: ${t.personnel}`),!1;e.add(t.personnel_id)}if(!t.department||!t.personnel)return A("All Department Komites must have department and personnel assigned"),!1}return!0})())try{k(!0),A("");const t=[];w.penanggung_jawab_id&&t.push({genba_role_id:1,user_ids:[w.penanggung_jawab_id]});const n=w.koordinators.map(e=>e.user_id).filter(Boolean);n.length>0&&t.push({genba_role_id:2,user_ids:n});const i=w.department_koordinators.map(e=>e.personnel_id).filter(Boolean);i.length>0&&t.push({genba_role_id:3,user_ids:i});const a=w.department_komites.map(e=>e.personnel_id).filter(Boolean);a.length>0&&t.push({genba_role_id:4,user_ids:a});const s={effective_date:w.effective_date,bridges:t};await r(u.id,s),alert(` Structure Organization template "${u.name}" has been successfully saved!`),e("/genba/soconfiguration")}catch(t){A(t instanceof Error?t.message:"Failed to save template")}finally{k(!1)}},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:N,children:[N?h.jsx(Vd,{className:"animate-spin mr-2",size:16}):h.jsx(hu,{size:18,className:"mr-2"}),"Save Template"]})]})]})})]})]}):h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),h.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",t]}),h.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})};function uxe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hxe,pxe={exports:{}},mxe=(hxe||(hxe=1,pxe.exports=function(){return function e(t,n,r){function i(s,o){if(!n[s]){if(!t[s]){if(!o&&uxe)return uxe(s);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return i(t[s][1][e]||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var a=uxe,s=0;s<r.length;s++)i(r[s]);return i}}()({1:[function(e,t,n){var r=e("multimath"),i=e("./mm_unsharp_mask"),a=e("./mm_resize");function s(e){var t=e||[],n={js:t.indexOf("js")>=0,wasm:t.indexOf("wasm")>=0};r.call(this,n),this.features={js:n.js,wasm:n.wasm&&this.has_wasm()},this.use(i),this.use(a)}s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.resizeAndUnsharp=function(e,t){var n=this.resize(e,t);return e.unsharpAmount&&this.unsharp_mask(n,e.toWidth,e.toHeight,e.unsharpAmount,e.unsharpRadius,e.unsharpThreshold),n},t.exports=s},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(e,t,n){function r(e){return e<0?0:e>255?255:e}function i(e){return e>=0?e:0}t.exports={convolveHor:function(e,t,n,r,a,s){var o,l,c,d,u,h,p,m,f,g,x,b=0,y=0;for(f=0;f<r;f++){for(u=0,g=0;g<a;g++){for(h=s[u++],p=s[u++],m=b+4*h|0,o=l=c=d=0;p>0;p--)d=d+(x=s[u++])*e[m+3]|0,c=c+x*e[m+2]|0,l=l+x*e[m+1]|0,o=o+x*e[m]|0,m=m+4|0;t[y+3]=i(d>>7),t[y+2]=i(c>>7),t[y+1]=i(l>>7),t[y]=i(o>>7),y=y+4*r|0}y=4*(f+1)|0,b=(f+1)*n*4|0}},convolveVert:function(e,t,n,i,a,s){var o,l,c,d,u,h,p,m,f,g,x,b=0,y=0;for(f=0;f<i;f++){for(u=0,g=0;g<a;g++){for(h=s[u++],p=s[u++],m=b+4*h|0,o=l=c=d=0;p>0;p--)d=d+(x=s[u++])*e[m+3]|0,c=c+x*e[m+2]|0,l=l+x*e[m+1]|0,o=o+x*e[m]|0,m=m+4|0;o>>=7,l>>=7,c>>=7,d>>=7,t[y+3]=r(d+8192>>14),t[y+2]=r(c+8192>>14),t[y+1]=r(l+8192>>14),t[y]=r(o+8192>>14),y=y+4*i|0}y=4*(f+1)|0,b=(f+1)*n*4|0}},convolveHorWithPre:function(e,t,n,r,a,s){var o,l,c,d,u,h,p,m,f,g,x,b,y=0,v=0;for(g=0;g<r;g++){for(h=0,x=0;x<a;x++){for(p=s[h++],m=s[h++],f=y+4*p|0,o=l=c=d=0;m>0;m--)d=d+(b=s[h++])*(u=e[f+3])|0,c=c+b*e[f+2]*u|0,l=l+b*e[f+1]*u|0,o=o+b*e[f]*u|0,f=f+4|0;c=c/255|0,l=l/255|0,o=o/255|0,t[v+3]=i(d>>7),t[v+2]=i(c>>7),t[v+1]=i(l>>7),t[v]=i(o>>7),v=v+4*r|0}v=4*(g+1)|0,y=(g+1)*n*4|0}},convolveVertWithPre:function(e,t,n,i,a,s){var o,l,c,d,u,h,p,m,f,g,x,b=0,y=0;for(f=0;f<i;f++){for(u=0,g=0;g<a;g++){for(h=s[u++],p=s[u++],m=b+4*h|0,o=l=c=d=0;p>0;p--)d=d+(x=s[u++])*e[m+3]|0,c=c+x*e[m+2]|0,l=l+x*e[m+1]|0,o=o+x*e[m]|0,m=m+4|0;o>>=7,l>>=7,c>>=7,(d=r(8192+(d>>=7)>>14))>0&&(o=255*o/d|0,l=255*l/d|0,c=255*c/d|0),t[y+3]=d,t[y+2]=r(c+8192>>14),t[y+1]=r(l+8192>>14),t[y]=r(o+8192>>14),y=y+4*i|0}y=4*(f+1)|0,b=(f+1)*n*4|0}}}},{}],3:[function(e,t,n){t.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(e,t,n){t.exports={name:"resize",fn:e("./resize"),wasm_fn:e("./resize_wasm"),wasm_src:e("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(e,t,n){var r=e("./resize_filter_gen"),i=e("./convolve"),a=i.convolveHor,s=i.convolveVert,o=i.convolveHorWithPre,l=i.convolveVertWithPre;t.exports=function(e){var t=e.src,n=e.width,i=e.height,c=e.toWidth,d=e.toHeight,u=e.scaleX||e.toWidth/e.width,h=e.scaleY||e.toHeight/e.height,p=e.offsetX||0,m=e.offsetY||0,f=e.dest||new Uint8Array(c*d*4),g=void 0===e.filter?"mks2013":e.filter,x=r(g,n,c,u,p),b=r(g,i,d,h,m),y=new Uint16Array(c*i*4);return function(e,t,n){for(var r=3,i=t*n*4|0;r<i;){if(255!==e[r])return!0;r=r+4|0}return!1}(t,n,i)?(o(t,y,n,i,c,x),l(y,f,i,c,d,b)):(a(t,y,n,i,c,x),s(y,f,i,c,d,b),function(e,t,n){for(var r=3,i=t*n*4|0;r<i;)e[r]=255,r=r+4|0}(f,c,d)),f}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(e,t,n){var r=e("./resize_filter_info");function i(e){return Math.round(16383*e)}t.exports=function(e,t,n,a,s){var o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,N,k=r.filter[e].fn,S=1/a,A=Math.min(1,a),C=r.filter[e].win/A,_=Math.floor(2*(C+1)),E=new Int16Array((_+2)*n),T=0,O=!E.subarray||!E.set;for(o=0;o<n;o++){for(l=(o+.5)*S+s,c=Math.max(0,Math.floor(l-C)),u=(d=Math.min(t-1,Math.ceil(l+C)))-c+1,h=new Float32Array(u),p=new Int16Array(u),m=0,f=c,g=0;f<=d;f++,g++)m+=x=k((f+.5-l)*A),h[g]=x;for(b=0,g=0;g<h.length;g++)b+=y=h[g]/m,p[g]=i(y);for(p[n>>1]+=i(1-b),v=0;v<p.length&&0===p[v];)v++;if(v<p.length){for(w=p.length-1;w>0&&0===p[w];)w--;if(j=c+v,N=w-v+1,E[T++]=j,E[T++]=N,O)for(g=v;g<=w;g++)E[T++]=p[g];else E.set(p.subarray(v,w+1),T),T+=N}else E[T++]=0,E[T++]=0}return E}},{"./resize_filter_info":7}],7:[function(e,t,n){var r={box:{win:.5,fn:function(e){return e<0&&(e=-e),e<.5?1:0}},hamming:{win:1,fn:function(e){if(e<0&&(e=-e),e>=1)return 0;if(e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*(.54+.46*Math.cos(t/1))}},lanczos2:{win:2,fn:function(e){if(e<0&&(e=-e),e>=2)return 0;if(e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/2)/(t/2)}},lanczos3:{win:3,fn:function(e){if(e<0&&(e=-e),e>=3)return 0;if(e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/3)/(t/3)}},mks2013:{win:2.5,fn:function(e){return e<0&&(e=-e),e>=2.5?0:e>=1.5?-.125*(e-2.5)*(e-2.5):e>=.5?.25*(4*e*e-11*e+7):1.0625-1.75*e*e}}};t.exports={filter:r,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(e,t,n){var r=e("./resize_filter_gen");var i=!0;try{i=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(Nxe){}function a(e,t,n){if(i)t.set(function(e){return new Uint8Array(e.buffer,0,e.byteLength)}(e),n);else for(var r=n,a=0;a<e.length;a++){var s=e[a];t[r++]=255&s,t[r++]=s>>8&255}}t.exports=function(e){var t=e.src,n=e.width,i=e.height,s=e.toWidth,o=e.toHeight,l=e.scaleX||e.toWidth/e.width,c=e.scaleY||e.toHeight/e.height,d=e.offsetX||0,u=e.offsetY||0,h=e.dest||new Uint8Array(s*o*4),p=void 0===e.filter?"mks2013":e.filter,m=r(p,n,s,l,d),f=r(p,i,o,c,u),g=Math.max(t.byteLength,h.byteLength),x=this.__align(0+g),b=i*s*4*2,y=this.__align(x+b),v=this.__align(y+m.byteLength),w=v+f.byteLength,j=this.__instance("resize",w),N=new Uint8Array(this.__memory.buffer),k=new Uint32Array(this.__memory.buffer),S=new Uint32Array(t.buffer);k.set(S),a(m,N,y),a(f,N,v);var A=j.exports.convolveHV||j.exports._convolveHV;return function(e,t,n){for(var r=3,i=t*n*4|0;r<i;){if(255!==e[r])return!0;r=r+4|0}return!1}(t,n,i)?A(y,v,x,n,i,s,o,1):(A(y,v,x,n,i,s,o,0),function(e,t,n){for(var r=3,i=t*n*4|0;r<i;)e[r]=255,r=r+4|0}(h,s,o)),new Uint32Array(h.buffer).set(new Uint32Array(this.__memory.buffer,0,o*s)),h}},{"./resize_filter_gen":6}],9:[function(e,t,n){t.exports={name:"unsharp_mask",fn:e("./unsharp_mask"),wasm_fn:e("./unsharp_mask_wasm"),wasm_src:e("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(e,t,n){var r=e("glur/mono16");t.exports=function(e,t,n,i,a,s){var o,l,c,d,u;if(!(0===i||a<.5)){a>2&&(a=2);var h=function(e,t,n){for(var r,i,a,s,o=t*n,l=new Uint16Array(o),c=0;c<o;c++)r=e[4*c],i=e[4*c+1],a=e[4*c+2],s=r>=i&&r>=a?r:i>=a&&i>=r?i:a,l[c]=s<<8;return l}(e,t,n),p=new Uint16Array(h);r(p,t,n,a);for(var m=i/100*4096+.5|0,f=s<<8,g=t*n,x=0;x<g;x++)d=(o=h[x])-p[x],Math.abs(d)>=f&&(c=((l=(l=(l=o+(m*d+2048>>12))>65280?65280:l)<0?0:l)<<12)/(o=0!==o?o:1)|0,e[u=4*x]=e[u]*c+2048>>12,e[u+1]=e[u+1]*c+2048>>12,e[u+2]=e[u+2]*c+2048>>12)}}},{"glur/mono16":18}],11:[function(e,t,n){t.exports=function(e,t,n,r,i,a){if(!(0===r||i<.5)){i>2&&(i=2);var s=t*n,o=4*s,l=2*s,c=2*s,d=4*Math.max(t,n),u=o,h=u+l,p=h+c,m=p+c,f=m+d,g=this.__instance("unsharp_mask",o+l+2*c+d+32,{exp:Math.exp}),x=new Uint32Array(e.buffer);new Uint32Array(this.__memory.buffer).set(x);var b=g.exports.hsv_v16||g.exports._hsv_v16;b(0,u,t,n),(b=g.exports.blurMono16||g.exports._blurMono16)(u,h,p,m,f,t,n,i),(b=g.exports.unsharp||g.exports._unsharp)(0,0,u,h,t,n,r,a),x.set(new Uint32Array(this.__memory.buffer,0,s))}}},{}],12:[function(e,t,n){t.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(e,t,n){function r(e,t){this.create=e,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=t||2e3}r.prototype.acquire=function(){var e,t=this;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},r.prototype.release=function(e){var t=this;delete this.acquired[e.id],e.lastUsed=Date.now(),this.available.push(e),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return t.gc()},100))},r.prototype.gc=function(){var e=this,t=Date.now();this.available=this.available.filter(function(n){return!(t-n.lastUsed>e.idle&&(n.destroy(),1))}),0!==this.available.length?this.timeoutId=setTimeout(function(){return e.gc()},100):this.timeoutId=0},t.exports=r},{}],14:[function(e,t,n){t.exports=function(e,t,n,r,i,a){var s=n/e,o=r/t,l=(2*a+2+1)/i;if(l>.5)return[[n,r]];var c=Math.ceil(Math.log(Math.min(s,o))/Math.log(l));if(c<=1)return[[n,r]];for(var d=[],u=0;u<c;u++){var h=Math.round(Math.pow(Math.pow(e,c-u-1)*Math.pow(n,u+1),1/c)),p=Math.round(Math.pow(Math.pow(t,c-u-1)*Math.pow(r,u+1),1/c));d.push([h,p])}return d}},{}],15:[function(e,t,n){var r=1e-5;function i(e){var t=Math.round(e);return Math.abs(e-t)<r?t:Math.floor(e)}function a(e){var t=Math.round(e);return Math.abs(e-t)<r?t:Math.ceil(e)}t.exports=function(e){var t,n,r,s,o,l,c=e.toWidth/e.width,d=e.toHeight/e.height,u=i(e.srcTileSize*c)-2*e.destTileBorder,h=i(e.srcTileSize*d)-2*e.destTileBorder;if(u<1||h<1)throw new Error("Internal error in pica: target tile width/height is too small.");var p,m=[];for(s=0;s<e.toHeight;s+=h)for(r=0;r<e.toWidth;r+=u)(t=r-e.destTileBorder)<0&&(t=0),t+(o=r+u+e.destTileBorder-t)>=e.toWidth&&(o=e.toWidth-t),(n=s-e.destTileBorder)<0&&(n=0),n+(l=s+h+e.destTileBorder-n)>=e.toHeight&&(l=e.toHeight-n),p={toX:t,toY:n,toWidth:o,toHeight:l,toInnerX:r,toInnerY:s,toInnerWidth:u,toInnerHeight:h,offsetX:t/c-i(t/c),offsetY:n/d-i(n/d),scaleX:c,scaleY:d,x:i(t/c),y:i(n/d),width:a(o/c),height:a(l/d)},m.push(p);return m}},{}],16:[function(e,t,n){function r(e){return Object.prototype.toString.call(e)}t.exports.isCanvas=function(e){var t=r(e);return"[object HTMLCanvasElement]"===t||"[object OffscreenCanvas]"===t||"[object Canvas]"===t},t.exports.isImage=function(e){return"[object HTMLImageElement]"===r(e)},t.exports.isImageBitmap=function(e){return"[object ImageBitmap]"===r(e)},t.exports.limiter=function(e){var t=0,n=[];function r(){t<e&&n.length&&(t++,n.shift()())}return function(e){return new Promise(function(i,a){n.push(function(){e().then(function(e){i(e),t--,r()},function(e){a(e),t--,r()})}),r()})}},t.exports.cib_quality_name=function(e){switch(e){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},t.exports.cib_support=function(e){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap)return!1;var t=e(100,100);return createImageBitmap(t,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(e){var n=10===e.width;return e.close(),t=null,n})}).catch(function(){return!1})},t.exports.worker_offscreen_canvas_support=function(){return new Promise(function(e,t){if("undefined"!=typeof OffscreenCanvas){var n=btoa("(".concat(function(e){"undefined"!=typeof createImageBitmap?Promise.resolve().then(function(){var e=new OffscreenCanvas(10,10);return e.getContext("2d").rect(0,0,1,1),createImageBitmap(e,0,0,1,1)}).then(function(){return e.postMessage(!0)},function(){return e.postMessage(!1)}):e.postMessage(!1)}.toString(),")(self);")),r=new Worker("data:text/javascript;base64,".concat(n));r.onmessage=function(t){return e(t.data)},r.onerror=t}else e(!1)}).then(function(e){return e},function(){return!1})},t.exports.can_use_canvas=function(e){var t=!1;try{var n=e(2,1).getContext("2d"),r=n.createImageData(2,1);r.data[0]=12,r.data[1]=23,r.data[2]=34,r.data[3]=255,r.data[4]=45,r.data[5]=56,r.data[6]=67,r.data[7]=255,n.putImageData(r,0,0),r=null,12===(r=n.getImageData(0,0,2,1)).data[0]&&23===r.data[1]&&34===r.data[2]&&255===r.data[3]&&45===r.data[4]&&56===r.data[5]&&67===r.data[6]&&255===r.data[7]&&(t=!0)}catch(i){}return t},t.exports.cib_can_use_region=function(){return new Promise(function(e){if("undefined"!=typeof Image&&"undefined"!=typeof createImageBitmap){var t=new Image;t.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",t.onload=function(){createImageBitmap(t,0,0,t.width,t.height).then(function(n){n.width===t.width&&n.height===t.height?e(!0):e(!1)},function(){return e(!1)})},t.onerror=function(){return e(!1)}}else e(!1)})}},{}],17:[function(e,t,n){t.exports=function(){var t,n=e("./mathlib");onmessage=function(e){var r=e.data.opts;if(!r.src&&r.srcBitmap){var i=new OffscreenCanvas(r.width,r.height),a=i.getContext("2d");a.drawImage(r.srcBitmap,0,0),r.src=a.getImageData(0,0,r.width,r.height).data,i.width=i.height=0,i=null,r.srcBitmap.close(),r.srcBitmap=null}t||(t=new n(e.data.features));var s=t.resizeAndUnsharp(r);postMessage({data:s},[s.buffer])}}},{"./mathlib":1}],18:[function(e,t,n){var r,i,a,s,o,l;function c(e,t,n,r,i,a){var s,o,l,c,d,u,h,p,m,f,g,x,b,y;for(m=0;m<a;m++){for(h=m,p=0,c=d=(s=e[u=m*i])*r[6],g=r[0],x=r[1],b=r[4],y=r[5],f=0;f<i;f++)l=(o=e[u])*g+s*x+c*b+d*y,d=c,c=l,s=o,n[p]=c,p++,u++;for(p--,h+=a*(i-1),c=d=(s=e[--u])*r[7],o=s,g=r[2],x=r[3],f=i-1;f>=0;f--)l=o*g+s*x+c*b+d*y,d=c,c=l,s=o,o=e[u],t[h]=n[p]+c,u--,p--,h-=a}}t.exports=function(e,t,n,d){if(d){var u=new Uint16Array(e.length),h=new Float32Array(Math.max(t,n)),p=function(e){e<.5&&(e=.5);var t=Math.exp(.527076)/e,n=Math.exp(-t),c=Math.exp(-2*t),d=(1-n)*(1-n)/(1+2*t*n-c);return r=d,i=d*(t-1)*n,a=d*(t+1)*n,s=-d*c,o=2*n,l=-c,new Float32Array([r,i,a,s,o,l,(r+i)/(1-o-l),(a+s)/(1-o-l)])}(d);c(e,u,h,p,t,n),c(u,e,h,p,n,t)}}},{}],19:[function(e,t,n){var r=e("object-assign"),i=e("./lib/base64decode"),a=e("./lib/wa_detect"),s={js:!0,wasm:!0};function o(e){if(!(this instanceof o))return new o(e);var t=r({},s,e||{});if(this.options=t,this.__cache={},this.__init_promise=null,this.__modules=t.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}o.prototype.has_wasm=a,o.prototype.use=function(e){return this.__modules[e.name]=e,this.options.wasm&&this.has_wasm()&&e.wasm_fn?this[e.name]=e.wasm_fn:this[e.name]=e.fn,this},o.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var e=this;return this.__init_promise=Promise.all(Object.keys(e.__modules).map(function(t){var n=e.__modules[t];return e.options.wasm&&e.has_wasm()&&n.wasm_fn?e.__wasm[t]?null:WebAssembly.compile(e.__base64decode(n.wasm_src)).then(function(n){e.__wasm[t]=n}):null})).then(function(){return e}),this.__init_promise},o.prototype.__base64decode=i,o.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/65536)}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/65536)),this.__memory},o.prototype.__instance=function(e,t,n){if(t&&this.__reallocate(t),!this.__wasm[e]){var i=this.__modules[e];this.__wasm[e]=new WebAssembly.Module(this.__base64decode(i.wasm_src))}if(!this.__cache[e]){var a={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:r(a,n||{})})}return this.__cache[e]},o.prototype.__align=function(e,t){var n=e%(t=t||8);return e+(n?t-n:0)},t.exports=o},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(e,t,n){t.exports=function(e){for(var t=e.replace(/[\r\n=]/g,""),n=t.length,r=new Uint8Array(3*n>>2),i=0,a=0,s=0;s<n;s++)s%4==0&&s&&(r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i),i=i<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(s));var o=n%4*6;return 0===o?(r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i):18===o?(r[a++]=i>>10&255,r[a++]=i>>2&255):12===o&&(r[a++]=i>>4&255),r}},{}],21:[function(e,t,n){var r;t.exports=function(){if(void 0!==r)return r;if(r=!1,"undefined"==typeof WebAssembly)return r;try{var e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)&&(r=!0),r}catch(Nxe){}return r}},{}],22:[function(e,t,n){var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(o[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(o[s[d]]=n[s[d]])}}return o}},{}],23:[function(e,t,n){var r=arguments[3],i=arguments[4],a=arguments[5],s=JSON.stringify;t.exports=function(e,t){for(var n,o=Object.keys(a),l=0,c=o.length;l<c;l++){var d=o[l],u=a[d].exports;if(u===e||u&&u.default===e){n=d;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(l=0,c=o.length;l<c;l++)h[d=o[l]]=d;i[n]=["function(require,module,exports){"+e+"(self); }",h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[n]=n,i[p]=["function(require,module,exports){var f = require("+s(n)+");(f.default ? f.default : f)(self);}",m];var f={};!function e(t){for(var n in f[t]=!0,i[t][1]){var r=i[t][1][n];f[r]||e(r)}}(p);var g="("+r+")({"+Object.keys(f).map(function(e){return s(e)+":["+i[e][0]+","+s(i[e][1])+"]"}).join(",")+"},{},["+s(p)+"])",x=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return b;var y=x.createObjectURL(b),v=new Worker(y);return v.objectURL=y,v}},{}],"/index.js":[function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(l){o=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=e("object-assign"),s=e("webworkify"),o=e("./lib/mathlib"),l=e("./lib/pool"),c=e("./lib/utils"),d=e("./lib/worker"),u=e("./lib/stepper"),h=e("./lib/tiler"),p=e("./lib/mm_resize/resize_filter_info"),m={},f=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(f=navigator.userAgent.indexOf("Safari")>=0)}catch(Dw){}var g=1;"undefined"!=typeof navigator&&(g=Math.min(navigator.hardwareConcurrency||1,4));var x={tile:1024,concurrency:g,features:["js","wasm","ww"],idle:2e3,createCanvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},b={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},y=!1,v=!1,w=!1,j=!1,N=!1;function k(){return{value:s(d),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;e&&e.revokeObjectURL&&this.value.objectURL&&e.revokeObjectURL(this.value.objectURL)}}}}function S(e){if(!(this instanceof S))return new S(e);this.options=a({},x,e||{});var t="lk_".concat(this.options.concurrency);this.__limit=m[t]||c.limiter(this.options.concurrency),m[t]||(m[t]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}S.prototype.init=function(){var t=this;if(this.__initPromise)return this.__initPromise;if("undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray)try{new ImageData(new Uint8ClampedArray(400),10,10),y=!0}catch(Nxe){}"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?v=!0:this.debug("ImageBitmap does not support .close(), disabled"));var n=this.options.features.slice();if(n.indexOf("all")>=0&&(n=["cib","wasm","js","ww"]),this.__requested_features=n,this.__mathlib=new o(n),n.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{e("webworkify")(function(){}).terminate(),this.features.ww=!0;var r="wp_".concat(JSON.stringify(this.options));m[r]?this.__workersPool=m[r]:(this.__workersPool=new l(k,this.options.idle),m[r]=this.__workersPool)}catch(Nxe){}var i,s,d=this.__mathlib.init().then(function(e){a(t.features,e.features)});i=v?c.cib_support(this.options.createCanvas).then(function(e){t.features.cib&&n.indexOf("cib")<0?t.debug("createImageBitmap() resize supported, but disabled by config"):n.indexOf("cib")>=0&&(t.features.cib=e)}):Promise.resolve(!1),w=c.can_use_canvas(this.options.createCanvas),s=(s=v&&y&&-1!==n.indexOf("ww")?c.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(e){j=e});var u=c.cib_can_use_region().then(function(e){N=e});return this.__initPromise=Promise.all([d,i,s,u]).then(function(){return t}),this.__initPromise},S.prototype.__invokeResize=function(e,t){var n=this;return t.__mathCache=t.__mathCache||{},Promise.resolve().then(function(){return n.features.ww?new Promise(function(r,i){var a=n.__workersPool.acquire();t.cancelToken&&t.cancelToken.catch(function(e){return i(e)}),a.value.onmessage=function(e){a.release(),e.data.err?i(e.data.err):r(e.data)};var s=[];e.src&&s.push(e.src.buffer),e.srcBitmap&&s.push(e.srcBitmap),a.value.postMessage({opts:e,features:n.__requested_features,preload:{wasm_nodule:n.__mathlib.__}},s)}):{data:n.__mathlib.resizeAndUnsharp(e,t.__mathCache)}})},S.prototype.__extractTileData=function(e,t,n,r,i){if(this.features.ww&&j&&(c.isCanvas(t)||N))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(r.srcImageBitmap||t,e.x,e.y,e.width,e.height).then(function(e){return i.srcBitmap=e,i});if(c.isCanvas(t))return r.srcCtx||(r.srcCtx=t.getContext("2d")),this.debug("Get tile pixel data"),i.src=r.srcCtx.getImageData(e.x,e.y,e.width,e.height).data,i;this.debug("Draw tile imageBitmap/image to temporary canvas");var a=this.options.createCanvas(e.width,e.height),s=a.getContext("2d");return s.globalCompositeOperation="copy",s.drawImage(r.srcImageBitmap||t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),this.debug("Get tile pixel data"),i.src=s.getImageData(0,0,e.width,e.height).data,a.width=a.height=0,i},S.prototype.__landTileData=function(e,t,n){var r;if(this.debug("Convert raw rgba tile result to ImageData"),t.bitmap)return n.toCtx.drawImage(t.bitmap,e.toX,e.toY),null;if(y)r=new ImageData(new Uint8ClampedArray(t.data),e.toWidth,e.toHeight);else if((r=n.toCtx.createImageData(e.toWidth,e.toHeight)).data.set)r.data.set(t.data);else for(var i=r.data.length-1;i>=0;i--)r.data[i]=t.data[i];return this.debug("Draw tile"),f?n.toCtx.putImageData(r,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):n.toCtx.putImageData(r,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null},S.prototype.__tileAndResize=function(e,t,n){var r=this,i={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(i.toCtx=t.getContext("2d"),c.isCanvas(e))return null;if(c.isImageBitmap(e))return i.srcImageBitmap=e,i.isImageBitmapReused=!0,null;if(c.isImage(e))return v?(r.debug("Decode image via createImageBitmap"),createImageBitmap(e).then(function(e){i.srcImageBitmap=e}).catch(function(e){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(n.canceled)return n.cancelToken;r.debug("Calculate tiles");var a=h({width:n.width,height:n.height,srcTileSize:r.options.tile,toWidth:n.toWidth,toHeight:n.toHeight,destTileBorder:n.__destTileBorder}).map(function(t){return function(t){return r.__limit(function(){if(n.canceled)return n.cancelToken;var a={width:t.width,height:t.height,toWidth:t.toWidth,toHeight:t.toHeight,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:t.offsetX,offsetY:t.offsetY,filter:n.filter,unsharpAmount:n.unsharpAmount,unsharpRadius:n.unsharpRadius,unsharpThreshold:n.unsharpThreshold};return r.debug("Invoke resize math"),Promise.resolve(a).then(function(a){return r.__extractTileData(t,e,n,i,a)}).then(function(e){return r.debug("Invoke resize math"),r.__invokeResize(e,n)}).then(function(e){return n.canceled?n.cancelToken:(i.srcImageData=null,r.__landTileData(t,e,i))})})}(t)});function s(e){e.srcImageBitmap&&(e.isImageBitmapReused||e.srcImageBitmap.close(),e.srcImageBitmap=null)}return r.debug("Process tiles"),Promise.all(a).then(function(){return r.debug("Finished!"),s(i),t},function(e){throw s(i),e})})},S.prototype.__processStages=function(e,t,n,i){var s=this;if(i.canceled)return i.cancelToken;var o,l,c=r(e.shift(),2),d=c[0],u=c[1],h=0===e.length;return o=h||p.q2f.indexOf(i.filter)<0?i.filter:"box"===i.filter?"box":"hamming",i=a({},i,{toWidth:d,toHeight:u,filter:o}),h||(l=this.options.createCanvas(d,u)),this.__tileAndResize(t,h?n:l,i).then(function(){return h?n:(i.width=d,i.height=u,s.__processStages(e,l,n,i))}).then(function(e){return l&&(l.width=l.height=0),e})},S.prototype.__resizeViaCreateImageBitmap=function(e,t,n){var r=this,i=t.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(e,{resizeWidth:n.toWidth,resizeHeight:n.toHeight,resizeQuality:c.cib_quality_name(p.f2q[n.filter])}).then(function(e){if(n.canceled)return n.cancelToken;if(!n.unsharpAmount)return i.drawImage(e,0,0),e.close(),i=null,r.debug("Finished!"),t;r.debug("Unsharp result");var a=r.options.createCanvas(n.toWidth,n.toHeight),s=a.getContext("2d");s.drawImage(e,0,0),e.close();var o=s.getImageData(0,0,n.toWidth,n.toHeight);return r.__mathlib.unsharp_mask(o.data,n.toWidth,n.toHeight,n.unsharpAmount,n.unsharpRadius,n.unsharpThreshold),i.putImageData(o,0,0),a.width=a.height=0,o=s=a=i=null,r.debug("Finished!"),t})},S.prototype.resize=function(e,t,n){var r=this;this.debug("Start resize...");var i=a({},b);if(isNaN(n)?n&&(i=a(i,n)):i=a(i,{quality:n}),i.toWidth=t.width,i.toHeight=t.height,i.width=e.naturalWidth||e.width,i.height=e.naturalHeight||e.height,Object.prototype.hasOwnProperty.call(i,"quality")){if(i.quality<0||i.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(i.quality));i.filter=p.q2f[i.quality]}if(0===t.width||0===t.height)return Promise.reject(new Error("Invalid output size: ".concat(t.width,"x").concat(t.height)));i.unsharpRadius>2&&(i.unsharpRadius=2),i.canceled=!1,i.cancelToken&&(i.cancelToken=i.cancelToken.then(function(e){throw i.canceled=!0,e},function(e){throw i.canceled=!0,e}));return i.__destTileBorder=Math.ceil(Math.max(3,2.5*i.unsharpRadius|0)),this.init().then(function(){if(i.canceled)return i.cancelToken;if(r.features.cib){if(p.q2f.indexOf(i.filter)>=0)return r.__resizeViaCreateImageBitmap(e,t,i);r.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!w){var n=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw n.code="ERR_GET_IMAGE_DATA",n}var a=u(i.width,i.height,i.toWidth,i.toHeight,r.options.tile,i.__destTileBorder);return r.__processStages(a,e,t,i)})},S.prototype.resizeBuffer=function(e){var t=this,n=a({},b,e);if(Object.prototype.hasOwnProperty.call(n,"quality")){if(n.quality<0||n.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(n.quality));n.filter=p.q2f[n.quality]}return this.init().then(function(){return t.__mathlib.resizeAndUnsharp(n)})},S.prototype.toBlob=function(e,t,n){return t=t||"image/png",new Promise(function(r){if(e.toBlob)e.toBlob(function(e){return r(e)},t,n);else if(e.convertToBlob)r(e.convertToBlob({type:t,quality:n}));else{for(var i=atob(e.toDataURL(t,n).split(",")[1]),a=i.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=i.charCodeAt(o);r(new Blob([s],{type:t}))}})},S.prototype.debug=function(){},t.exports=S},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")),pxe.exports);const fxe=a(mxe),gxe=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,xxe=({title:e,value:t,subtext:n,icon:r,color:i="blue"})=>h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5,scale:1.02,boxShadow:"0 10px 25px -5px rgba(0,0,0,0.1)"},className:"rounded-2xl shadow-md p-6 {} bg-white cursor-pointer transition-transform duration-200",children:h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),n&&h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]}),h.jsx("div",{className:`p-3 rounded-full ${{blue:"bg-blue-50 text-blue-600 border-blue-100",green:"bg-green-50 text-green-600 border-green-100",purple:"bg-purple-50 text-purple-600 border-purple-100",orange:"bg-orange-50 text-orange-600 border-orange-100"}[i]}`,children:r})]})}),bxe=()=>{var e,t,r,i;const a=je(),s=n(),{user:o,getGenbaActivities:l,getGenbaAreas:c,createGenbaActivity:d,updateGenbaActivity:u,deleteGenbaActivity:p,fetchUser:m,getDepartment:f,hasPermission:g,getGenbaSOs:b,token:y,fetchWithAuth:v,getGenbaActivitiesPhoto:w}=xt(),[j,N]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[k,S]=x.useState(window.innerWidth<768),[A,C]=x.useState(new Date),[_,E]=x.useState(!1),[T,O]=x.useState([]),[M,D]=x.useState([]),[P,I]=x.useState([]),[L,R]=x.useState([]),[F,B]=x.useState(""),[H,z]=x.useState(""),[W,U]=x.useState([]),[V,$]=x.useState(!1),[q,G]=x.useState("karyawan"),[Y,Q]=x.useState(null),[K,J]=x.useState(null),[X,Z]=x.useState(""),[ee,te]=x.useState((new Date).getFullYear()),[ne,re]=x.useState((new Date).getMonth()),[ie,ae]=x.useState(""),[se,oe]=x.useState(!0),[le,ce]=x.useState([]),[de,ue]=x.useState([]),[he,pe]=x.useState([]),[me,fe]=x.useState(""),ge=x.useRef(null),xe=x.useRef(null),[be,ye]=x.useState({}),[ve,we]=x.useState(!1),[Ne,ke]=x.useState([]),[Se,Ae]=x.useState(null),[Ce,_e]=x.useState(null),[Ee,Te]=x.useState(!1),Oe=x.useCallback(()=>{Te(!1),a("/genba/genbaactivity")},[a]);x.useEffect(()=>{(async()=>{oe(!0);try{const[e,t,n,r,i,a]=await Promise.all([c(),m(),f(),l(),b(),w()]);D(e),R(n),O(r),ce(i),ue(a);const s=r.map(e=>{const t=a.filter(t=>String(t.genba_activity_id)===String(e.id)).map(e=>({genba_activity_id:e.genba_activity_id,file_path:e.file_path,base64_data:e.base64_data}));return{...e,all_photos_base64:t}});if(O(s),O(s),e.length>0&&!F){const t=e.filter(e=>{var t;return e.pic_user_id.toString()===(null==(t=null==o?void 0:o.id)?void 0:t.toString())});t.length>0?B(t[0].id.toString()):B(e[0].id.toString())}const d=i.find(e=>e.is_active);if(d&&o){const e=d.bridges.filter(e=>e.user.id.toString()===o.id.toString()),t=[{id:"karyawan",name:"Karyawan",level:1}];e.forEach(e=>{const n=e.role.name.toLowerCase();t.find(e=>"karyawan"===e.id)||t.push({id:"karyawan",name:"Karyawan",level:1}),"komite 5s department"!==n||t.find(e=>"komite"===e.id)||t.push({id:"komite",name:"Komite 5S Department",level:2}),"koordinator 5s department"!==n&&"koordinator 5s"!==n||t.find(e=>"komite"===e.id)||t.push({id:"komite",name:"Koordinator 5S / Department",level:2}),"penanggung jawab 5s"!==n||t.find(e=>"management"===e.id)||t.push({id:"management",name:"Penanggung Jawab 5S",level:3})}),pe(t),t.length>1&&G("karyawan")}else pe([{id:"karyawan",name:"Karyawan",level:1}])}catch(e){alert("Gagal memuat data. Silakan refresh halaman.")}finally{oe(!1)}})()},[c,f,l,b,m,w]),x.useEffect(()=>{if(he.some(e=>e.name.toLowerCase().includes("komite 5s department"))){const e=new Date;re(e.getMonth()),te(e.getFullYear())}},[he]),x.useEffect(()=>{const e=()=>{S(window.innerWidth<768),window.innerWidth<768&&N(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const Me=e=>e.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),De=()=>M.find(e=>e.id.toString()===F),Pe=()=>M.filter(e=>{var t;return e.pic_user_id.toString()===(null==(t=null==o?void 0:o.id)?void 0:t.toString())}),Ie=()=>{let e=T;return F&&(e=e.filter(e=>{var t;return(null==(t=e.work_area)?void 0:t.id.toString())===F})),e=e.filter(e=>{const t=new Date(e.date);return t.getMonth()===ne&&t.getFullYear()===ee}),ie&&(e=e.filter(e=>{var t,n,r;return(null==(t=e.reporter)?void 0:t.name.toLowerCase().includes(ie.toLowerCase()))||(null==(n=e.work_area)?void 0:n.name.toLowerCase().includes(ie.toLowerCase()))||(null==(r=e.reporter)?void 0:r.nik.includes(ie))})),e},Le=(e,t,n)=>{const r=T.filter(r=>{var i,a;const s=new Date(r.date);return(null==(a=null==(i=r.work_area)?void 0:i.department)?void 0:a.name)===e&&s.getMonth()===t&&s.getFullYear()===n}),i=new Date(n,t+1,0).getDate(),a="Production"===e,s=new Set(r.filter(e=>{const r=new Date(e.date),i=r.getDay();return r.getMonth()===t&&r.getFullYear()===n&&(a||0!==i&&6!==i)}).map(e=>new Date(e.date).getDate())).size;let o=0;for(let c=1;c<=i;c++){const e=new Date(n,t,c).getDay();(a||0!==e&&6!==e)&&o++}const l=o>0?s/o*100:0;return Math.min(l,100)},Re=()=>{const e=M.find(e=>e.id.toString()===F);if(!(null==e?void 0:e.is_default))return 0;const t=Ie(),n=new Date(ee,ne+1,0).getDate();let r=0;for(let a=1;a<=n;a++){const e=new Date(ee,ne,a).getDay();0!==e&&6!==e&&r++}const i=new Set(t.filter(e=>{const t=new Date(e.date).getDay();return 0!==t&&6!==t}).map(e=>new Date(e.date).toLocaleDateString("id-ID"))).size;return r>0?Math.min(i/r*100,100):0},Fe=(e,t,n)=>{var r;const i=M.find(t=>t.id===e);if(!i)return 0;const a="Production"===(null==(r=i.department)?void 0:r.name),s=T.filter(r=>{var i;return(r.genba_work_area_id===e||(null==(i=r.work_area)?void 0:i.id)===e)&&new Date(r.date).getMonth()===t&&new Date(r.date).getFullYear()===n});if(!i.is_default)return s.length>0?100:0;const o=new Set(s.map(e=>new Date(e.date).toLocaleDateString("id-ID"))),l=new Date(n,t+1,0).getDate();let c=0;for(let h=1;h<=l;h++){const e=new Date(n,t,h).getDay();(a||0!==e&&6!==e)&&c++}let d=0;o.forEach(e=>{const[t,n,r]=e.split("/"),i=new Date(+r,+n-1,+t).getDay();(a||0!==i&&6!==i)&&d++});const u=c>0?d/c*100:0;return Math.floor(u)},Be=e=>e.startsWith("http")?e:`${s.envVariables.VITE_BACKEND_API_URL}/${e}`,He=fxe(),ze=1200,We=x.useCallback(async()=>{var e,t,n;const r=new lae;let i=T.filter(e=>{var t,n,r,i,a,s;const o=new Date(e.date);return o.getMonth()===ne&&o.getFullYear()===ee&&(!(ie&&!((null==(t=e.reporter)?void 0:t.name.toLowerCase().includes(ie.toLowerCase()))||(null==(n=e.work_area)?void 0:n.name.toLowerCase().includes(ie.toLowerCase()))||(null==(r=e.reporter)?void 0:r.nik.includes(ie))))&&!(X&&(null==(a=null==(i=e.work_area)?void 0:i.department)?void 0:a.name)!==X||!X&&me&&String(null==(s=e.work_area)?void 0:s.id)!==String(me)))});r.setFillColor(59,130,246),r.rect(0,0,210,297,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.text("LAPORAN AKTIVITAS GENBA",105,120,{align:"center"}),r.setFontSize(14),r.text(`Periode: ${new Date(ee,ne).toLocaleDateString("id-ID",{month:"long",year:"numeric"})}`,105,140,{align:"center"}),r.text(`Dibuat pada: ${(new Date).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}`,105,150,{align:"center"}),r.addPage();let a=20;r.setFillColor(59,130,246),r.rect(0,0,210,30,"F"),r.setTextColor(255,255,255),r.setFontSize(16),r.text("RINGKASAN STATISTIK DAN SKOR",105,20,{align:"center"}),r.setTextColor(0),r.setFontSize(11),r.text(`Periode: ${new Date(ee,ne).toLocaleDateString("id-ID",{month:"long",year:"numeric"})}`,14,40);const s=X?`Department: ${X}`:(null==(e=M.find(e=>e.id.toString()===me))?void 0:e.name)||"Semua Area";r.text(`Filter Area ${s}`,14,47),r.text(`Pencarian: ${ie||"-"}`,14,54),a=72,r.setFontSize(14),r.setTextColor(40,40,40),r.text("SKOR PER DEPARTMENT",14,a),a+=5;const o=L.map(e=>{const t=Le(e.name,ne,ee),n=t>=95?"SUCCESS":"FAIL";return[e.name,t.toFixed(2),"95%",n]});$oe(r,{head:[["Department","Score (%)","Target","Status"]],body:o,startY:a+5,headStyles:{fillColor:[59,130,246]},margin:{left:14,right:14},styles:{fontSize:9},columnStyles:{1:{cellWidth:25},2:{cellWidth:20},3:{cellWidth:20}},didDrawCell:e=>{if("body"===e.section&&3===e.column.index){const t=e.cell.text[0],n=e.cell.x+e.cell.width/2,i=e.cell.y+e.cell.height/2;"SUCCESS"===t?(r.setFillColor(180,250,180),r.setTextColor(0,128,0)):"FAIL"===t?(r.setFillColor(250,180,180),r.setTextColor(255,0,0)):(r.setFillColor(255,255,255),r.setTextColor(0,0,0)),r.rect(e.cell.x,e.cell.y,e.cell.width,e.cell.height,"F"),r.setFont("helvetica","bold"),r.setFontSize(8),r.text(t,n,i,{align:"center"}),r.setTextColor(0,0,0),r.setFont("helvetica","normal")}}}),a=r.lastAutoTable.finalY+10,r.setFontSize(14),r.setTextColor(40,40,40),r.text("SKOR PER AREA KERJA HARIAN (Daily)",14,a),a+=5;const l=M.map(e=>{var t,n;const r=Fe(e.id,ne,ee);return[e.name,(null==(t=e.department)?void 0:t.name)||"-",e.pic_user_id&&(null==(n=P.find(t=>String(t.id)===String(e.pic_user_id)))?void 0:n.name)||"-",r.toFixed(2)]});$oe(r,{head:[["Area Kerja","Department","PIC","Score (%)"]],body:l,startY:a+5,headStyles:{fillColor:[59,130,246]},margin:{left:14,right:14},styles:{fontSize:8}}),r.addPage(),r.setFillColor(59,130,246),r.rect(0,0,210,30,"F"),r.setTextColor(255,255,255),r.setFontSize(16),r.text("DETAIL LAPORAN AKTIVITAS",105,20,{align:"center"}),r.setTextColor(0),r.setFontSize(11),r.text(`Periode: ${new Date(ee,ne).toLocaleDateString("id-ID",{month:"long",year:"numeric"})}`,14,40),r.text(`Total Aktivitas: ${i.length}`,14,47);const c=i.map(e=>{var t,n,r,i;const a=e.attachment;let s="-";return a&&a.length>0&&(s=a.map((e,t)=>`${t+1}. ${e.file_name||"File Lampiran"}`).join("\n")),[Me(new Date(e.date)),(null==(t=e.reporter)?void 0:t.name)||"-",(null==(n=e.work_area)?void 0:n.name)||"-",(null==(i=null==(r=e.work_area)?void 0:r.department)?void 0:i.name)||"-",e.keterangan?e.keterangan.substring(0,70)+(e.keterangan.length>70?"...":""):"-",s]});$oe(r,{head:[["Tanggal","Reporter","Area Kerja","Department","Keterangan Singkat","Lampiran"]],body:c,startY:55,headStyles:{fillColor:[59,130,246]},margin:{top:10,left:14,right:14},styles:{fontSize:8},columnStyles:{4:{cellWidth:60},5:{cellWidth:40,overflow:"linebreak"}}});const d=r.internal.pageSize.getWidth(),u=r.internal.pageSize.getHeight(),h=d-28,p=i.flatMap(e=>{if(!e.all_photos_base64||0===e.all_photos_base64.length)return[];const t=e.id;return e.all_photos_base64.map(async e=>{let n=e.base64_data;if("string"!=typeof n||n.startsWith("data:image")||(n="data:image/png;base64,"+n),"string"==typeof n&&n.startsWith("data:image/"))try{const{resizedBase64:r,width:i,height:a}=await(async e=>{const t=await fetch(e),n=await t.blob(),r=new window.Image;await new Promise(e=>{r.onload=e,r.onerror=e,r.src=URL.createObjectURL(n)});let i=1,a=r.width,s=r.height;a>ze&&(i=ze/a),s*i>ze&&(i=ze/s);const o=r.width*i,l=r.height*i,c=document.createElement("canvas");c.width=r.width,c.height=r.height;const d=c.getContext("2d");d&&d.drawImage(r,0,0);const u=document.createElement("canvas");u.width=o,u.height=l;const h=(await He.resize(c,u)).toDataURL("image/png",.8);return URL.revokeObjectURL(r.src),{resizedBase64:h,width:o,height:l}})(n);let s=h,o=a/i*s;return o>80&&(s=i/a*80,o=80),{activityId:t,att:e,resizedBase64:r,displayWidth:s,displayHeight:o,error:null}}catch(r){return{activityId:t,att:e,resizedBase64:"",displayWidth:0,displayHeight:0,error:"Processing error"}}return{activityId:t,att:e,resizedBase64:"",displayWidth:0,displayHeight:0,error:"Invalid data"}})}),m=(await Promise.all(p)).reduce((e,t)=>{if(0===t.displayWidth&&null!==t.error)return e;const n=t.activityId;return e[n]||(e[n]=[]),e[n].push(t),e},{});for(const f of i){const e=m[f.id];if(e&&e.length>0){r.addPage();let i=40;r.setFillColor(59,130,246),r.rect(0,0,210,30,"F"),r.setTextColor(255,255,255),r.setFontSize(16),r.text("LAMPIRAN VISUAL AKTIVITAS",105,20,{align:"center"}),r.setTextColor(40,40,40),r.setFontSize(11),r.text(`Aktivitas: ${(null==(t=f.work_area)?void 0:t.name)||"-"} oleh ${(null==(n=f.reporter)?void 0:n.name)||"-"}`,14,i),r.text("Keterangan: "+(f.keterangan?f.keterangan.substring(0,70)+"...":"-"),14,i+7),i+=15;for(const t of e){if(i+t.displayHeight+20>u&&(r.addPage(),i=40),t.error){r.setTextColor(255,0,0),r.setFontSize(10);const e=t.att.file_path?t.att.file_path.split("/").pop()||"Unnamed File":"Unnamed File (Processing Error)";r.text(`[ERROR: ${t.error} for ${e}]`,14,i),i+=8;continue}const e=t.att.file_path&&t.att.file_path.split("/").pop()||"Unnamed File";r.setTextColor(40,40,40),r.setFontSize(9),r.text(`Nama File: ${e}`,14,i),i+=4,r.addImage(t.resizedBase64,(d-t.displayWidth)/2,i,t.displayWidth,t.displayHeight),i+=t.displayHeight+8}}}r.save(`Genba_Activity_Comprehensive_Report_${ee}_${ne+1}.pdf`)},[T,M,me,ne,ee,ie,Ie,L,P,Me,Le,Fe,de]),Ue=()=>{const e=new Map;return T.forEach(t=>{if(t.reporter){const n=`${t.reporter.nik}-${t.reporter.name}`;e.has(n)||e.set(n,t.reporter)}}),Array.from(e.values())},Ve=e=>{var t,n,r,i,a,s,o,l,c,d,u,p,m,f,g,x,b,y,v,w,j;const N=e.is_default,k=T.filter(t=>{var n;return t.genba_work_area_id===e.id||(null==(n=t.work_area)?void 0:n.id)===e.id}).filter(e=>{const t=new Date(e.date);return t.getMonth()===ne&&t.getFullYear()===ee}).sort((e,t)=>new Date(t.date||"").getTime()-new Date(e.date||"").getTime()),S=new Set(k.filter(e=>new Date(e.date).getMonth()===ne&&new Date(e.date).getFullYear()===ee).map(e=>new Date(e.date).getDate())),C=new Date(ee,ne+1,0).getDate(),_="Production"===(null==(t=e.department)?void 0:t.name);let E=0;for(let h=1;h<=C;h++){const e=new Date(ee,ne,h).getDay();(_||0!==e&&6!==e)&&E++}const O=Array.from(S).filter(e=>{const t=new Date(ee,ne,e).getDay();return _||0!==t&&6!==t}).length,M=N&&E>0?O/E*100:0,D=(e=>{const t=e||A,n=t.getFullYear(),r=t.getMonth(),i=new Date(n,r+1,0).getDate(),a=T.filter(e=>{var t;return e.genba_work_area_id===(null==Y?void 0:Y.data.id)||(null==(t=e.work_area)?void 0:t.id)===(null==Y?void 0:Y.data.id)}),s=[];for(let o=1;o<=i;o++){const e=new Date(n,r,o),t=Me(e),i=a.some(e=>new Date(e.date).toLocaleDateString("id-ID")===t),l=e.toDateString()===(new Date).toDateString(),c=e<new Date&&!l;s.push({date:o,hasReport:i,isToday:l,isPast:c,fullDate:e})}return s})(new Date(ee,ne)),P=S.size;return h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("button",{onClick:()=>Q(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Bc,{size:20})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Detail Laporan Area - ",e.name]}),h.jsxs("p",{className:"text-gray-600",children:["PIC: ",null!=(r=null==(n=e.pic)?void 0:n.name)?r:"-"," | Department: ",null!=(a=null==(i=e.department)?void 0:i.name)?a:"-"]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Bulan:"," ",new Date(ee,ne).toLocaleDateString("id-ID",{month:"long",year:"numeric"})," ","| Total Aktivitas: ",k.length]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsx(xxe,{title:"Score Bulan Ini",value:`${M.toFixed(0)}%`,icon:h.jsx(id,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Total Laporan",value:k.length,icon:h.jsx(Yc,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Hari Aktif",value:P,icon:h.jsx(Dc,{className:"w-6 h-6"}),color:"blue"})]}),h.jsxs("div",{className:"mb-6 bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:new Date(ee,ne).toLocaleDateString("id-ID",{month:"long",year:"numeric"})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{const e=new Date(ee,ne-1,1);re(e.getMonth()),te(e.getFullYear())},className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:h.jsx(ed,{size:16,className:"text-gray-700"})}),h.jsx("button",{onClick:()=>{const e=new Date(ee,ne+1,1);re(e.getMonth()),te(e.getFullYear())},className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:h.jsx(td,{size:16,className:"text-gray-700"})})]})]}),h.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(e=>h.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:e},e))}),h.jsx("div",{className:"grid grid-cols-7 gap-2",children:D.map((e,t)=>{const n=new Date(ee,ne,e.date).getDay(),r=0===t?n+1:void 0,i=k.find(t=>new Date(t.date).getDate()===e.fullDate.getDate()&&new Date(t.date).getMonth()===e.fullDate.getMonth()&&new Date(t.date).getFullYear()===e.fullDate.getFullYear()),a=!!i,s=e.fullDate.toDateString()===(new Date).toDateString(),o=e.fullDate<new Date&&!s;let l="empty";return l=N?a?"has-report":_||0!==n&&6!==n?s?"today-empty":o?"past-empty":"empty":"empty":a?"has-report":"empty",h.jsxs(Ac.div,{whileHover:{scale:1.05},onClick:()=>{i&&J(i)},className:"h-12 rounded-xl flex flex-col items-center justify-center transition-all cursor-pointer "+("has-report"===l?"bg-green-100 text-green-800 border border-green-200":"today-empty"===l?"bg-blue-100 text-blue-800 border border-blue-200":"past-empty"===l?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-500 border border-gray-200"),style:r?{gridColumnStart:r}:void 0,children:[h.jsx("span",{className:"text-sm font-medium",children:e.date}),"has-report"===l&&h.jsx(id,{size:12,className:"mt-1"}),"past-empty"===l&&h.jsx(rd,{size:12,className:"mt-1"})]},e.date)})})]}),h.jsx("div",{className:"overflow-x-auto mb-6",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Tanggal"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Reporter"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Keterangan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Attachment"})]})}),h.jsx("tbody",{children:(()=>{var e,t;const n=ee,r=ne,i=new Date(n,r+1,0).getDate(),a=new Date,s=[];for(let o=i;o>=1;o--){const i=new Date(n,r,o),l=i.toLocaleDateString("id-ID"),c=k.find(e=>new Date(e.date).toLocaleDateString("id-ID")===l),d=i.getDay();if(!_&&(0===d||6===d))continue;let u;u=N?c?h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Sudah Lapor"}):i.toDateString()===a.toDateString()?h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Belum Lapor"}):i<a?h.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Tidak Lapor"}):h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:"Belum Lapor"}):c?h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Sudah Lapor"}):h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-medium",children:"-"}),s.push(h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm",children:l}),h.jsx("td",{className:"py-3 text-sm",children:(null==(e=null==c?void 0:c.reporter)?void 0:e.name)||"-"}),h.jsx("td",{className:"py-3 text-sm",children:(null==c?void 0:c.keterangan)||"-"}),h.jsx("td",{className:"py-3",children:u}),h.jsx("td",{className:"py-3",children:(null==(t=null==c?void 0:c.attachment)?void 0:t.length)?h.jsxs("button",{onClick:()=>{return e=c.attachment,ke(e),void we(!0);var e},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium hover:bg-blue-200 transition-all",children:[" ",c.attachment.length," Lampiran"]}):h.jsx("span",{className:"text-gray-400 text-sm",children:"Tidak ada Attachment"})})]},l))}return s})()})]})}),h.jsx(Da,{children:ve&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 flex items-center justify-center z-50 p-6",children:h.jsxs(Ac.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto p-6 relative",children:[h.jsx("button",{onClick:()=>we(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition",children:h.jsx(Iu,{size:20})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Lampiran Gambar"}),Ne.length?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Ne.map((e,t)=>{const n=e.file_path||e.path,r=e.file_name||e.filename||`Lampiran ${t+1}`;return h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:Be(n),alt:r,className:"w-full h-auto rounded-lg shadow-md cursor-pointer",onClick:()=>window.open(Be(n),"_blank")}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r})]},t)})}):h.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Tidak ada lampiran"})]})})}),h.jsx(Da,{children:K&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Laporan Harian"}),h.jsx("button",{onClick:()=>J(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Iu,{size:20})})]}),h.jsxs("p",{className:"text-gray-900 text-sm mt-1",children:["Tanggal: ",(null==K?void 0:K.date)?new Date(K.date).toLocaleDateString("id-ID"):"-"]})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),h.jsx("input",{type:"text",value:null!=(o=null==(s=null==K?void 0:K.reporter)?void 0:s.name)?o:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIK"}),h.jsx("input",{type:"text",value:null!=(c=null==(l=null==K?void 0:K.reporter)?void 0:l.nik)?c:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),h.jsx("input",{type:"text",value:null!=(p=null==(u=null==(d=null==K?void 0:K.reporter)?void 0:d.department)?void 0:u.name)?p:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komite 5S"}),h.jsx("input",{type:"text",value:`${null!=(f=null==(m=null==K?void 0:K.committee_role)?void 0:m.name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))?f:"-"}`,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal *"}),h.jsx("input",{type:"text",value:(null==K?void 0:K.date)?new Date(K.date).toLocaleDateString("id-ID"):"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),h.jsx("input",{type:"text",value:null!=(x=null==(g=null==K?void 0:K.work_area)?void 0:g.name)?x:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penanggung Jawab Area"}),h.jsx("input",{type:"text",value:null!=(v=null==(y=null==(b=null==K?void 0:K.work_area)?void 0:b.pic)?void 0:y.name)?v:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),h.jsx("textarea",{value:null!=(w=null==K?void 0:K.keterangan)?w:"-",disabled:!0,rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900 resize-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lampiran Foto"}),(null==(j=null==K?void 0:K.attachment)?void 0:j.length)?h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:K.attachment.map((e,t)=>h.jsx("div",{className:"relative",children:h.jsx("img",{src:Be(e.file_path),alt:`Lampiran ${t+1}`,className:"w-full h-24 object-cover rounded-lg cursor-pointer",onClick:()=>window.open(Be(e.file_path),"_blank")})},t))}):h.jsx("p",{className:"text-gray-600 mt-1",children:"Tidak ada lampiran"})]})]}),h.jsx("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:h.jsx("button",{onClick:()=>J(null),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Tutup"})})]})})})]})},$e=De();return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Genba Activity",mainTitleHighlight:"Management",description:"Laporan "+("karyawan"===q?"harian penanggung jawab area kerja":"komite"===q?"department untuk komite 5S":"executive dashboard management"),icon:h.jsx(Yc,{}),isMobile:k,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!j)),N(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[Y&&h.jsx("div",{className:"mb-4",children:h.jsxs("button",{onClick:()=>Q(null),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",children:[h.jsx(Bc,{size:16}),"Kembali ke ","komite"===q?"Komite":"management"===q?"Management":"Karyawan"]})}),h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",h.jsx("span",{className:"text-blue-600",children:"Activity"})]}),h.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"karyawan"===q?"Effortlessly track, manage, and complete your daily tasks and activities to optimize productivity.":"komite"===q?"Monitor and manage 5S activities across your department with comprehensive reporting.":"Executive overview of all 5S activities across departments and areas."})]}),!Y&&he.length>1&&h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-5 py-2 sm:py-3 w-full sm:w-auto text-center sm:text-left",children:h.jsx("span",{className:"text-sm font-medium text-gray-700",children:null==(e=he.find(e=>e.id===q))?void 0:e.name})}),h.jsx("div",{className:"grid grid-cols-2 gap-3 sm:flex sm:flex-wrap w-full sm:w-auto",children:he.map(e=>{const t=q===e.id;return h.jsx(Ac.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>G(e.id),className:"text-sm font-medium px-4 py-2.5 rounded-xl shadow-sm border transition-all duration-200 "+(t?`bg-gradient-to-br ${{karyawan:"from-blue-500 to-blue-600",komite:"from-blue-500 to-blue-600",management:"from-blue-500 to-blue-600"}[e.id]||"from-gray-500 to-gray-600"} text-white border-transparent`:"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"),children:e.name},e.id)})})]})]}),(()=>{if(se)return h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(Y)return Ve(Y.data);switch(q){case"karyawan":default:return(()=>{var e,t,n,r,i,s,l,c,d,u,p,m,f,g,x,b,y,v,w;const j=e=>{const t=new Date(ee,ne+e,1);te(t.getFullYear()),re(t.getMonth()),C(t)},N=Pe(),k=(()=>{const e=ee,t=ne,n=new Date(e,t+1,0).getDate(),r=T.filter(n=>{var r,i,a;if(!n.date)return!1;const s=new Date(n.date);return(null==(r=n.reporter)?void 0:r.nik)===(null==o?void 0:o.nik)&&(null==(a=null==(i=n.work_area)?void 0:i.id)?void 0:a.toString())===F&&s.getMonth()===t&&s.getFullYear()===e}),i=[];for(let a=1;a<=n;a++){const n=new Date(e,t,a),s=n.toLocaleDateString("id-ID"),o=r.some(e=>new Date(e.date).toLocaleDateString("id-ID")===s),l=n.toDateString()===(new Date).toDateString(),c=n<new Date&&!l;i.push({date:a,hasReport:o,isToday:l,isPast:c})}return i})(),S=De();return h.jsxs(h.Fragment,{children:[h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[h.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 text-center sm:text-left",children:A.toLocaleDateString("id-ID",{month:"long",year:"numeric"})}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto",children:[N.length>1&&h.jsx("select",{value:F,onChange:e=>B(e.target.value),className:"w-full sm:w-auto px-3 py-2 sm:px-4 sm:py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",children:N.map(e=>h.jsx("option",{value:e.id.toString(),children:e.name},e.id))}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{onClick:()=>j(-1),className:"p-2 sm:p-3 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow active:scale-95",children:h.jsx(ed,{size:18,className:"text-gray-700 sm:w-5 sm:h-5"})}),h.jsx("button",{onClick:()=>j(1),className:"p-2 sm:p-3 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow active:scale-95",children:h.jsx(td,{size:18,className:"text-gray-700 sm:w-5 sm:h-5"})})]})]}),h.jsx("style",{children:"\n      @media (max-width: 640px) {\n        select {\n          font-size: 14px;\n          padding: 8px 10px;\n        }\n\n        button svg {\n          width: 16px;\n          height: 16px;\n        }\n      }\n    "})]}),h.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(e=>h.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:e},e))}),h.jsx("div",{className:"grid grid-cols-7 gap-2",children:k.map((e,t)=>{var n;const r=new Date(A.getFullYear(),A.getMonth(),e.date).getDay(),i=0===t?r+1:void 0,s=new Date(A.getFullYear(),A.getMonth(),e.date),l=M.find(e=>e.id.toString()===F),c=!!(null==l?void 0:l.is_default),d=T.find(e=>{var t;return(null==(t=e.work_area)?void 0:t.id.toString())===F&&new Date(e.date).toLocaleDateString("id-ID")===s.toLocaleDateString("id-ID")}),u="Production"===(null==(n=null==o?void 0:o.department)?void 0:n.name),p=0===r||6===r;let m="empty";c?e.hasReport?m="has-report":e.isToday&&!e.hasReport?m="today-empty":e.isPast&&!e.hasReport&&(m="past-empty"):e.hasReport?m="has-report":e.isToday&&!e.hasReport&&(m="today-empty");let f="";return f=!u&&p?"bg-gray-200 text-gray-400 border border-gray-300 cursor-not-allowed":"has-report"===m?"bg-green-100 text-green-800 border border-green-200":"today-empty"===m?"bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200":"past-empty"===m?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-500 border border-gray-200 hover:bg-gray-200",h.jsxs(Ac.div,{whileHover:{scale:1.05},whileTap:{scale:.97},onClick:()=>{if(e.hasReport&&d)J(d);else if(e.isToday&&!e.hasReport)s.toISOString().split("T")[0],a(`/genba/genbaactivity/formgenbaactivity?area=${F}`);else if(e.isPast&&!e.hasReport&&!c)return},className:`h-12 rounded-xl flex flex-col items-center justify-center transition-all cursor-pointer ${f}`,style:i?{gridColumnStart:i}:void 0,children:[h.jsx("span",{className:"text-sm font-medium",children:e.date}),!(!u&&p)&&h.jsxs(h.Fragment,{children:["has-report"===m&&h.jsx(id,{size:12,className:"mt-1"}),c&&"past-empty"===m&&h.jsx(rd,{size:12,className:"mt-1"})]})]},e.date)})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsx(xxe,{title:"Score Bulan Ini",value:`${Re().toFixed(0)}%`,icon:h.jsx(id,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Total Laporan",value:T.filter(e=>{var t;return(null==(t=e.work_area)?void 0:t.id.toString())===F&&new Date(e.date).getMonth()===ne}).length,icon:h.jsx(Yc,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Area Bertanggung Jawab",value:`${N.length} Area`,icon:h.jsx(Yd,{className:"w-6 h-6"}),color:"blue"})]}),h.jsx(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 mb-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Profile Pelapor"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(Ou,{className:"text-blue-600",size:20})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900",children:(null==o?void 0:o.name)||"User"}),h.jsxs("p",{className:"text-sm text-gray-500",children:["NIK: ",(null==o?void 0:o.nik)||"N/A"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"Department:"}),h.jsx("span",{className:"font-medium",children:(null==(e=null==o?void 0:o.department)?void 0:e.name)||"Unknown"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"Pengawas Area:"}),h.jsx("span",{className:"font-medium",children:(null==(t=null==S?void 0:S.pic)?void 0:t.name)||"Unknown"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"Komite 5S:"}),h.jsx("span",{className:"font-medium",children:(null==(n=null==o?void 0:o.genbaSoRole)?void 0:n.role_name)?o.genbaSoRole.role_name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Unkown"})]})]})]})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Map of the Path"}),h.jsx("div",{className:"bg-gray-100 rounded-xl w-full flex items-center justify-center overflow-hidden",children:(null==S?void 0:S.attachment)&&S.attachment.length>0?h.jsx("div",{className:((null==S?void 0:S.attachment)&&S.attachment.length>0?"bg-transparent":"bg-gray-100")+" rounded-xl w-full md:h-80 flex items-center justify-center overflow-hidden",children:S.attachment.map((e,t)=>{const n=Be(e.path);return h.jsx("div",{className:"w-full aspect-[4/3] flex items-center justify-center bg-white rounded-xl shadow-sm hover:shadow-md transition-all",children:h.jsx("img",{src:n,alt:e.filename,className:"w-full h-full object-contain rounded-xl cursor-pointer hover:opacity-90 transition",onClick:()=>window.open(n,"_blank")})},t)})}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500 text-sm",children:"Tidak ada denah area"})})})]})]})}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Score Overview Area Bertanggung Jawab"})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:N.map(e=>{const t=T.filter(t=>{var n;return(null==(n=t.work_area)?void 0:n.id.toString())===e.id.toString()&&new Date(t.date||"").getMonth()===ne}),n=new Date(ee,ne+1,0).getDate(),r=new Set(t.map(e=>new Date(e.date).toLocaleDateString("id-ID"))).size,i=e.is_default&&n>0?r/n*100:0;return h.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"flex justify-between items-start mb-3",children:h.jsx("h4",{className:"font-semibold text-gray-900",children:e.name})}),h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Math.min(i,100).toFixed(0),"%"]}),h.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(Jc,{size:20,className:"text-blue-600"})})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:h.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(i,100)}%`}})}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[h.jsxs("span",{children:[r," hari aktif"]}),h.jsxs("span",{children:[Math.round(i),"% tercover"]})]})]},e.id)})})]}),h.jsx(Da,{children:K&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Laporan Harian"}),h.jsx("button",{onClick:()=>J(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Iu,{size:20})})]}),h.jsxs("p",{className:"text-gray-900 text-sm mt-1",children:["Tanggal: ",(null==K?void 0:K.date)?new Date(K.date).toLocaleDateString("id-ID"):"-"]})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),h.jsx("input",{type:"text",value:null!=(i=null==(r=null==K?void 0:K.reporter)?void 0:r.name)?i:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIK"}),h.jsx("input",{type:"text",value:null!=(l=null==(s=null==K?void 0:K.reporter)?void 0:s.nik)?l:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),h.jsx("input",{type:"text",value:null!=(u=null==(d=null==(c=null==K?void 0:K.reporter)?void 0:c.department)?void 0:d.name)?u:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komite 5S"}),h.jsx("input",{type:"text",value:`${null!=(m=null==(p=null==K?void 0:K.committee_role)?void 0:p.name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))?m:"-"}`,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal *"}),h.jsx("input",{type:"text",value:(null==K?void 0:K.date)?new Date(K.date).toLocaleDateString("id-ID"):"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),h.jsx("input",{type:"text",value:null!=(g=null==(f=null==K?void 0:K.work_area)?void 0:f.name)?g:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penanggung Jawab Area"}),h.jsx("input",{type:"text",value:null!=(y=null==(b=null==(x=null==K?void 0:K.work_area)?void 0:x.pic)?void 0:b.name)?y:"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),h.jsx("textarea",{value:null!=(v=null==K?void 0:K.keterangan)?v:"-",disabled:!0,rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-900 resize-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lampiran Foto"}),(null==(w=null==K?void 0:K.attachment)?void 0:w.length)?h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:K.attachment.map((e,t)=>h.jsx("div",{className:"relative",children:h.jsx("img",{src:Be(e.file_path),alt:`Lampiran ${t+1}`,className:"w-full h-24 object-cover rounded-lg cursor-pointer",onClick:()=>window.open(Be(e.file_path),"_blank")})},t))}):h.jsx("p",{className:"text-gray-600 mt-1",children:"Tidak ada lampiran"})]})]}),h.jsx("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:h.jsx("button",{onClick:()=>J(null),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Tutup"})})]})})})]})})();case"komite":return(()=>{var e;const t=(null==(e=null==o?void 0:o.department)?void 0:e.name)||"-",n=Ue().filter(e=>{var n;return(null==(n=e.department)?void 0:n.name)===t}).filter(e=>e.name.toLowerCase().includes(ie.toLowerCase())||e.nik.includes(ie)),r=he.some(e=>e.name.toLowerCase().includes("komite 5s department"));return he.some(e=>e.name.toLowerCase().includes("koordinator 5s department")),Y&&"area"===Y.type?Ve(Y.data):h.jsx("div",{className:"space-y-6",children:h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Laporan Department ",t]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(pu,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:ie,onChange:e=>ae(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!r&&h.jsxs(h.Fragment,{children:[h.jsxs("select",{value:ee,onChange:e=>te(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:2023,children:"2023"}),h.jsx("option",{value:2024,children:"2024"}),h.jsx("option",{value:2025,children:"2025"})]}),h.jsx("select",{value:ne,onChange:e=>re(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(e,t)=>h.jsx("option",{value:t,children:new Date(2024,t).toLocaleDateString("id-ID",{month:"long"})},t))})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsx(xxe,{title:"Score Department",value:`${Le(t,ne,ee).toFixed(0)}%`,icon:h.jsx(Jc,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Total Karyawan",value:n.length,icon:h.jsx(Mu,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Karyawan Aktif",value:n.filter(e=>{const t=Me(new Date);return T.some(n=>{var r;return(null==(r=n.reporter)?void 0:r.nik)===e.nik&&new Date(n.date).toLocaleDateString("id-ID")===t})}).length,icon:h.jsx(id,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Rata-rata Score",value:n.length>0?`${(n.reduce((e,t)=>e+((e,t,n)=>{var r,i,a;const s=T.filter(r=>{var i;const a=new Date(r.date);return(null==(i=r.reporter)?void 0:i.nik)===e&&a.getMonth()===t&&a.getFullYear()===n}),o="Production"===((null==(a=null==(i=null==(r=s[0])?void 0:r.work_area)?void 0:i.department)?void 0:a.name)||""),l=new Date(n,t+1,0).getDate();let c=0;for(let h=1;h<=l;h++){const e=new Date(n,t,h).getDay();(o||0!==e&&6!==e)&&c++}const d=new Set(s.filter(e=>{const r=new Date(e.date),i=r.getDay();return r.getMonth()===t&&r.getFullYear()===n&&(o||0!==i&&6!==i)}).map(e=>new Date(e.date).getDate())).size,u=c>0?d/c*100:0;return Math.min(u,100)})(t.nik,ne,ee),0)/n.length).toFixed(0)}%`:"0%",icon:h.jsx(Jc,{className:"w-6 h-6"}),color:"blue"})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama PIC"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIK"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Area"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),h.jsx("tbody",{children:M.filter(e=>{var t,n,r,i,a,s;const l=(null==(n=null==(t=e.department)?void 0:t.id)?void 0:n.toString())===(null==(i=null==(r=null==o?void 0:o.department)?void 0:r.id)?void 0:i.toString()),c=e.name.toLowerCase().includes(ie.toLowerCase())||(null==(a=e.pic)?void 0:a.name.toLowerCase().includes(ie.toLowerCase())),d=!X||(null==(s=e.department)?void 0:s.name)===X;return l&&d&&c}).map(e=>{var t,n,r;const i=T.filter(t=>t.genba_work_area_id===e.id&&new Date(t.date).getMonth()===ne&&new Date(t.date).getFullYear()===ee),a=i.length,s=Fe(e.id,ne,ee),o=(new Date).toLocaleDateString("id-ID"),l=!!e.is_default,c=i.some(e=>new Date(e.date).toLocaleDateString("id-ID")===o),d=l?c?h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Sudah Lapor"}):h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"Belum Lapor"}):h.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded-full text-xs font-medium",children:"Non-Daily"});return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:(null==(t=e.pic)?void 0:t.name)||"-"}),h.jsx("td",{className:"py-3 text-sm",children:(null==(n=e.pic)?void 0:n.nik)||"-"}),h.jsx("td",{className:"py-3 text-sm",children:(null==(r=e.department)?void 0:r.name)||"-"}),h.jsx("td",{className:"py-3 text-sm font-semibold",children:e.name}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[s.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(s>=80?"bg-green-500":s>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${s}%`}})})]})}),h.jsx("td",{className:"py-3",children:d}),h.jsx("td",{className:"py-3 text-sm",children:a}),h.jsx("td",{className:"py-3",children:h.jsx("button",{onClick:()=>Q({type:"area",data:e}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},e.id)})})]})})]})})})();case"management":return(()=>{const e=Array.from(new Set(M.map(e=>{var t;return null==(t=e.department)?void 0:t.name}).filter(Boolean))),t=Ue();if(t.filter(e=>{var t;return!X||(null==(t=e.department)?void 0:t.name)===X}).filter(e=>e.name.toLowerCase().includes(ie.toLowerCase())||e.nik.includes(ie)),Y&&"area"===Y.type)return Ve(Y.data);const n=T.filter(e=>new Date(e.date).getMonth()===ne&&new Date(e.date).getFullYear()===ee),r=e.map(e=>Le(e,ne,ee)),i=r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Executive Dashboard 5S"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Ac.button,{onClick:We,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[h.jsx(md,{className:"mr-2 h-4 w-4"})," Export PDF"]}),h.jsxs("select",{value:ee,onChange:e=>te(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:2023,children:"2023"}),h.jsx("option",{value:2024,children:"2024"}),h.jsx("option",{value:2025,children:"2025"})]}),h.jsx("select",{value:ne,onChange:e=>re(Number(e.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"].map((e,t)=>h.jsx("option",{value:t,children:e},t))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsx(xxe,{title:"Total Department",value:e.length,subtext:"Active departments",icon:h.jsx(qc,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Total Karyawan",value:t.length,subtext:"Registered employees",icon:h.jsx(Mu,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Total Laporan",value:n.length,subtext:"This month",icon:h.jsx(bd,{className:"w-6 h-6"}),color:"blue"}),h.jsx(xxe,{title:"Rata-rata Score",value:`${i.toFixed(0)}%`,subtext:"Company wide",icon:h.jsx(Jc,{className:"w-6 h-6"}),color:"blue"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Performance Department"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Karyawan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Karyawan Aktif"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Trend"})]})}),h.jsx("tbody",{children:e.map(e=>{const n=Le(e,ne,ee),r=t.filter(t=>{var n;return(null==(n=t.department)?void 0:n.name)===e}),i=r.filter(e=>{const t=Me(new Date);return T.some(n=>{var r;return(null==(r=n.reporter)?void 0:r.nik)===e.nik&&new Date(n.date).toLocaleDateString("id-ID")===t})}).length;return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:e}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[n.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(n>=80?"bg-green-500":n>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${n}%`}})})]})}),h.jsx("td",{className:"py-3 text-sm",children:r.length}),h.jsx("td",{className:"py-3 text-sm",children:i}),h.jsx("td",{className:"py-3",children:h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(n>=80?"bg-green-100 text-green-800":n>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:n>=80?" Excellent":n>=60?" Good":" Need Improvement"})})]},e)})})]})})]})]}),h.jsxs(Ac.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Per Area"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(pu,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Cari area atau karyawan...",value:ie,onChange:e=>ae(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("select",{value:X,onChange:e=>Z(e.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Semua Department"}),e.map(e=>h.jsx("option",{value:e,children:e},e))]})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama PIC"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIK"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Area"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),h.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),h.jsx("tbody",{children:M.filter(e=>{var t,n;return(!X||(null==(t=e.department)?void 0:t.name)===X)&&(e.name.toLowerCase().includes(ie.toLowerCase())||(null==(n=e.pic)?void 0:n.name.toLowerCase().includes(ie.toLowerCase())))}).map(e=>{var t,n,r;const i=T.filter(t=>t.genba_work_area_id===e.id&&new Date(t.date).getMonth()===ne&&new Date(t.date).getFullYear()===ee),a=i.length,s=Fe(e.id,ne,ee),o=(new Date).toLocaleDateString("id-ID"),l=!!e.is_default,c=i.some(e=>new Date(e.date).toLocaleDateString("id-ID")===o),d=l?c?h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Sudah Lapor"}):h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"Belum Lapor"}):h.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded-full text-xs font-medium",children:"Non-Daily"});return h.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[h.jsx("td",{className:"py-3 text-sm font-medium",children:(null==(t=e.pic)?void 0:t.name)||"-"}),h.jsx("td",{className:"py-3 text-sm",children:(null==(n=e.pic)?void 0:n.nik)||"-"}),h.jsx("td",{className:"py-3 text-sm",children:(null==(r=e.department)?void 0:r.name)||"-"}),h.jsx("td",{className:"py-3 text-sm font-semibold",children:e.name}),h.jsx("td",{className:"py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold",children:[s.toFixed(0),"%"]}),h.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full "+(s>=80?"bg-green-500":s>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${s}%`}})})]})}),h.jsx("td",{className:"py-3",children:d}),h.jsx("td",{className:"py-3 text-sm",children:a}),h.jsx("td",{className:"py-3",children:h.jsx("button",{onClick:()=>Q({type:"area",data:e}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},e.id)})})]})})]})]})})()}})()]})]}),h.jsx(Da,{children:_&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Laporan Harian"}),h.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Iu,{size:20})})]}),h.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Tanggal: ",Me(A)]})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),h.jsx("input",{type:"text",value:(null==o?void 0:o.name)||"User",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIK"}),h.jsx("input",{type:"text",value:(null==o?void 0:o.nik)||"N/A",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),h.jsx("input",{type:"text",value:(null==(t=null==o?void 0:o.department)?void 0:t.name)||"-",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komite 5S"}),h.jsx("input",{type:"text",value:`${(null==(r=null==o?void 0:o.genbaSoRole)?void 0:r.role_name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))||"-"}`,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal *"}),h.jsx("input",{type:"text",value:Me(A),disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),h.jsxs("select",{value:F,onChange:e=>B(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Pilih Area Kerja ..."}),Pe().map(e=>h.jsx("option",{value:e.id.toString(),children:e.name},e.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penanggung Jawab Area"}),h.jsx("input",{type:"text",value:(null==(i=null==$e?void 0:$e.pic)?void 0:i.name)||"",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),h.jsx("textarea",{value:H,onChange:e=>z(e.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Tambahkan keterangan jika diperlukan..."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lampiran Foto * ",W.length>0&&`(${W.length} foto)`]}),W.length>0&&h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:W.map((e,t)=>h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:e,alt:`Lampiran ${t+1}`,className:"w-full h-24 object-cover rounded-lg"}),h.jsx("button",{onClick:()=>(e=>{U(t=>t.filter((t,n)=>n!==e))})(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:h.jsx(Iu,{size:14})})]},t))}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});xe.current=e,ge.current&&(ge.current.srcObject=e),$(!0)}catch(e){alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(Qc,{size:20}),"Buka Kamera"]}),W.length>0&&h.jsxs("button",{onClick:()=>U([]),className:"px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(ju,{size:20}),"Hapus Semua"]})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Photo Gallery Not Allowed - Hanya foto dari kamera yang diperbolehkan"})]})]}),h.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[h.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),h.jsxs("button",{onClick:async e=>{if(e.preventDefault(),oe(!0),Ae(null),_e(null),!F)return Ae("Area wajib diisi!"),void oe(!1);try{const e={date:A.toLocaleDateString("en-CA"),genba_work_area_id:parseInt(F),keterangan:H||""};let t=null;W.length>0&&(t=await Promise.all(W.map(async(e,t)=>{const n=await fetch(e),r=await n.blob();return new File([r],`photo_${t+1}.jpg`,{type:"image/jpeg"})}))),await d(e,null!=t?t:[]),_e("Laporan berhasil disimpan!"),Te(!0);const n=await l();O(n),B(""),z(""),U([]),E(!1)}catch(t){Ae(t.message||"Gagal menyimpan laporan. Silakan coba lagi.")}finally{oe(!1)}},disabled:!F||se,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h.jsx(hu,{size:20}),se?"Menyimpan...":"Save"]})]})]})})}),h.jsx(Da,{children:V&&h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:h.jsxs("div",{className:"relative w-full max-w-2xl",children:[h.jsx("video",{ref:ge,autoPlay:!0,playsInline:!0,className:"w-full h-auto"}),h.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-4",children:[h.jsx("button",{onClick:()=>{if(ge.current){const e=document.createElement("canvas");e.width=ge.current.videoWidth,e.height=ge.current.videoHeight;const t=e.getContext("2d");if(t){t.drawImage(ge.current,0,0);const n=e.toDataURL("image/jpeg");U(e=>[...e,n])}}},className:"w-16 h-16 bg-white rounded-full border-4 border-gray-300 hover:border-gray-400 transition-colors"}),h.jsx("button",{onClick:()=>{xe.current&&(xe.current.getTracks().forEach(e=>e.stop()),xe.current=null),$(!1)},className:"w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:h.jsx(Iu,{size:24})})]})]})})}),h.jsx(gxe,{isOpen:Ee,onClose:Oe,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been created successfully!"}),h.jsx(Ac.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Oe,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},yxe=({isOpen:e,onClose:t,title:n,children:r})=>e?h.jsx(Ac.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:h.jsxs(Ac.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[h.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),h.jsx(Ac.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-gray-500 hover:text-gray-700 text-2xl",children:h.jsx(Iu,{size:24})})]}),h.jsx("div",{children:r})]})}):null,vxe=()=>{var e,t,n,r,i,a,s;const o=je(),{createGenbaActivity:l,getGenbaAreas:c,user:d}=xt(),[u]=function(e){L("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Ue(e)),n=x.useRef(!1),r=ye(),i=x.useMemo(()=>function(e,t){let n=Ue(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),a=je(),s=x.useCallback((e,t)=>{const r=Ue("function"==typeof e?e(new URLSearchParams(i)):e);n.current=!0,a("?"+r,t)},[a,i]);return[i,s]}(),p=u.get("date"),m=u.get("area"),[f,g]=x.useState(p?new Date(p).toLocaleDateString("id-ID"):(new Date).toLocaleDateString("id-ID"));p||(new Date).toLocaleDateString("en-CA");const[b,y]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[v,w]=x.useState(window.innerWidth<768),[j,N]=x.useState(!1),[k,S]=x.useState([]),[A,C]=x.useState(null),[_,E]=x.useState(null),[T,O]=x.useState(!1),[M,D]=x.useState(null),P=x.useRef(null),I=x.useRef(null),[R,F]=x.useState({genba_work_area_id:m||"",keterangan:"",attachments:[]});x.useEffect(()=>{B()},[]);const B=async()=>{try{const e=await c();if(d&&d.id){const t=e.filter(e=>e.pic_user_id.toString()===d.id.toString());S(t)}else S([])}catch(e){}},H=x.useCallback((e,t)=>{if(e&&"object"==typeof e&&"value"in e&&t)F(n=>({...n,[t]:e.value}));else if(e&&"target"in e){const{name:t,value:n}=e.target;F(e=>({...e,[t]:n}))}},[]),z=()=>{O(!1),o("/genba/genbaactivity")};return h.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Hu,{mainTitle:"Add Genba Activity",mainTitleHighlight:"Genba Activity",description:"Create new daily report for Genba activity",icon:h.jsx(Yd,{}),isMobile:v,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!b)),y(e=>!e)}}),h.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[h.jsxs(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Genba Activity"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in daily Genba report with optional attachments"})]}),h.jsxs(Ac.button,{onClick:()=>o("/genba/genbaactivity"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[h.jsx(Bc,{size:16})," Back to Activities"]})]}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[A&&h.jsxs(Ac.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[h.jsx("strong",{className:"font-bold",children:"Error!"}),h.jsx("span",{className:"block sm:inline ml-2",children:A}),h.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:h.jsx(Iu,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>C(null)})})]}),h.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),N(!0),C(null),E(null),!R.genba_work_area_id)return C("Silakan pilih area kerja terlebih dahulu."),void N(!1);try{await l({date:(new Date).toLocaleDateString("en-CA"),genba_work_area_id:parseInt(R.genba_work_area_id),keterangan:R.keterangan},R.attachments),E("Laporan Genba berhasil dikirim!"),O(!0),F({genba_work_area_id:"",keterangan:"",attachments:[]})}catch(t){C(t.message||"Gagal mengirim laporan.")}finally{N(!1)}},className:"space-y-6",children:[h.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[h.jsx(Gc,{className:"mr-2 text-blue-500"})," Activity Information"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal"}),h.jsx("input",{type:"text",value:f,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama"}),h.jsx("input",{type:"text",value:null!=(e=null==d?void 0:d.name)?e:"-",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),h.jsx("input",{type:"text",value:null!=(t=null==d?void 0:d.nik)?t:"-",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx("input",{type:"text",value:null!=(r=null==(n=null==d?void 0:d.department)?void 0:n.name)?r:"-",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area Kerja ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(aN,{name:"genba_work_area_id",options:k.map(e=>({value:e.id.toString(),label:e.name})),value:k.map(e=>({value:e.id.toString(),label:e.name})).find(e=>e.value===R.genba_work_area_id),onChange:e=>H(e,"genba_work_area_id"),placeholder:"Select Work Area",styles:{control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3B82F6":"#D1D5DB",boxShadow:t.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"})},required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Penanggung Jawab Area"}),h.jsx("input",{type:"text",value:null!=(s=null==(a=null==(i=k.find(e=>e.id.toString()===R.genba_work_area_id))?void 0:i.pic)?void 0:a.name)?s:"-",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Keterangan Aktivitas ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"keterangan",value:R.keterangan,onChange:H,placeholder:"Masukkan keterangan aktivitas harian Anda",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-2 focus:outline-none focus:border-blue-500 focus:ring-0 h-28",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lampiran Foto"}),h.jsx("div",{className:"flex flex-wrap gap-3 mb-3",children:R.attachments.map((e,t)=>h.jsxs("div",{className:"relative w-24 h-24 border rounded-lg overflow-hidden",children:[h.jsx("img",{src:URL.createObjectURL(e),alt:"attachment",className:"w-full h-full object-cover"}),h.jsx("button",{type:"button",onClick:()=>(e=>{F(t=>({...t,attachments:t.attachments.filter((t,n)=>n!==e)}))})(t),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1",children:h.jsx(Iu,{size:14})})]},t))}),h.jsx("input",{type:"file",accept:"image/*",capture:"environment",multiple:!0,id:"native-camera-input",onChange:e=>{const t=e.target.files;if(t&&t.length>0){const n=Array.from(t);F(e=>({...e,attachments:[...e.attachments,...n]})),e.target.value=""}},style:{display:"none"}}),h.jsxs(Ac.label,{htmlFor:"native-camera-input",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(Qc,{size:18})," ",h.jsx("span",{children:"Open Camera"})]})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[h.jsxs(Ac.button,{type:"reset",onClick:()=>F({genba_work_area_id:"",keterangan:"",attachments:[]}),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 flex items-center justify-center",children:[h.jsx(ju,{className:"mr-2 h-5 w-5"})," Clear Form"]}),h.jsxs(Ac.button,{type:"submit",disabled:j,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:[j?h.jsx(Td,{className:"animate-spin mr-2 h-5 w-5"}):h.jsx(hu,{className:"mr-2 h-5 w-5"})," Submit Report"]})]})]})]})]})]}),h.jsx(Da,{children:M&&h.jsxs(Ac.div,{className:"fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50",children:[h.jsx("video",{ref:P,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full max-w-md h-[400px] rounded-lg bg-black"}),h.jsxs("div",{className:"mt-6 flex gap-4",children:[h.jsxs("button",{onClick:()=>{if(P.current&&I.current){const e=I.current,t=e.getContext("2d");t&&(e.width=P.current.videoWidth,e.height=P.current.videoHeight,t.drawImage(P.current,0,0),e.toBlob(e=>{if(e){const t=new File([e],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});F(e=>({...e,attachments:[...e.attachments,t]}))}},"image/jpeg"))}},className:"px-6 py-3 bg-green-600 text-white rounded-lg flex items-center gap-2",children:[h.jsx(Qc,{size:20})," Capture"]}),h.jsxs("button",{onClick:()=>{M&&(M.getTracks().forEach(e=>e.stop()),D(null))},className:"px-6 py-3 bg-red-600 text-white rounded-lg flex items-center gap-2",children:[h.jsx(Iu,{size:20})," Close"]})]})]})}),h.jsx(yxe,{isOpen:T,onClose:z,title:"Success!",children:h.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[h.jsx(id,{className:"text-green-500 text-6xl mb-4"}),h.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Laporan Genba berhasil dikirim!"}),h.jsx(Ac.button,{onClick:z,whileHover:{scale:1.03},whileTap:{scale:.97},className:"mt-6 px-6 py-3 rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:"Back to Activity"})]})})]})},wxe=()=>{var e,t,r;const{id:i}=ke(),a=je(),{getGenbaAreas2:s}=xt(),[o,l]=x.useState(null),[c,d]=x.useState(!0),[u,p]=x.useState(null),[m,f]=x.useState(()=>{const e=localStorage.getItem("sidebarOpen");return!!e&&JSON.parse(e)}),[g,b]=x.useState(window.innerWidth<768),y=x.useCallback(async()=>{if(!i)return p("Area ID is missing."),void d(!1);d(!0);try{const e=(await s()).find(e=>e.id.toString()===i);if(!e)return p("Area not found."),void d(!1);const t=e.attachment||[];l({...e,existingLayouts:t})}catch(e){p("Failed to load area data."),l(null)}finally{d(!1)}},[i,s]);x.useEffect(()=>{y()},[y]),x.useEffect(()=>{const e=()=>{b(window.innerWidth<768),window.innerWidth<768&&f(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const v=(null==o?void 0:o.name)||"-",w=(null==(e=null==o?void 0:o.department)?void 0:e.name)||"-",j=(null==(t=null==o?void 0:o.pic)?void 0:t.name)||"-",N=`https://ui-avatars.com/api/?name=${encodeURIComponent(j)}`,k=null!=(r=null==o?void 0:o.is_default)&&r?"Daily Reports":"Bebas Lapor",S=(null==o?void 0:o.existingLayouts.map(e=>(e=>{const t=n();return e.startsWith("http")?e:`${t.envVariables.VITE_BACKEND_API_URL}/${e}`})(e.path)).filter(Boolean))||[];return c?h.jsxs("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:[h.jsx(Td,{className:"animate-spin mr-2 h-10 w-10 text-blue-500"}),h.jsx("p",{className:"text-xl text-gray-700",children:"Loading data area..."})]}):u?h.jsxs("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-50 p-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),h.jsx("p",{className:"text-lg text-gray-700",children:u}),h.jsx(Ac.button,{onClick:()=>a("/genba/genbaarea"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-6 flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl shadow-md hover:bg-blue-700 transition-all",children:"Back to Areas"})]}):h.jsxs("div",{className:"flex h-screen overflow-hidden",children:[h.jsx(Ru,{}),h.jsxs("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:[h.jsx(Hu,{mainTitle:"Genba",mainTitleHighlight:"Area Information",description:"View public Genba area details",icon:h.jsx(Md,{}),isMobile:g,toggleSidebar:()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),f(e=>!e)}}),h.jsx("main",{children:h.jsxs("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10",children:[h.jsx(Ac.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[h.jsx(Md,{size:28,className:"text-blue-600"}),"Detail Area: ",v]})}),h.jsxs(Ac.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl overflow-hidden p-6 md:p-8 border border-blue-50",children:[h.jsxs("div",{className:"flex items-start space-x-6 mb-8",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("img",{src:N,alt:j,className:"w-24 h-24 object-cover rounded-full border-4 border-blue-100 shadow-md",onError:e=>{e.target.onerror=null,e.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(j)}})}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[h.jsx(Yd,{className:"h-6 w-6 text-red-500"}),v]}),h.jsxs("div",{className:"text-gray-600 flex items-center gap-2 text-lg",children:[h.jsx(Gc,{className:"h-5 w-5 text-gray-500"}),h.jsx("span",{className:"font-semibold",children:w})]}),h.jsxs("div",{className:"text-gray-600 flex items-center gap-2 text-lg",children:[h.jsx(Ou,{className:"h-5 w-5 text-gray-500"}),h.jsxs("span",{className:"font-medium",children:[j," (PIC)"]})]})]})]}),h.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:h.jsxs("div",{className:"text-gray-600 flex items-center gap-2 text-md",children:[h.jsx(xd,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"font-medium",children:"Tipe Pelaporan:"}),h.jsx("span",{className:"font-semibold",children:k})]})}),h.jsx("div",{className:"border-t border-gray-200 my-6"}),h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Layout Area"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:S.length>0?S.map((e,t)=>h.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-200 shadow-sm",children:[h.jsx("img",{src:e,alt:`Layout ${t+1}`,className:"w-full h-auto rounded-lg"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600 text-center",children:`Layout Area ${t+1}`})]},t)):h.jsx("div",{className:"col-span-full text-center py-6 bg-gray-50 rounded-lg border border-dashed border-gray-300 text-gray-500",children:"No layout image available."})}),h.jsx("div",{className:"border-t border-gray-200 my-6"}),h.jsx("div",{className:"flex justify-center",children:h.jsxs(Ac.button,{onClick:()=>{(null==o?void 0:o.id)?a(`/genba/genbaactivity/formgenbaactivity?area=${o.id}`):a("/genba/genbaactivity/formgenbaactivity")},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white text-lg rounded-xl shadow-md hover:bg-blue-700 transition-all",disabled:!o,children:[h.jsx(xd,{size:20}),"Buat Laporan Genba"]})})]})]})})]})]})};function jxe(){const{user:e}=xt();return h.jsx(h.Fragment,{children:h.jsxs(Fe,{children:[h.jsx(Le,{path:"/genbapublic/:id",element:h.jsx(wxe,{})}),h.jsx(Le,{path:"/monitoringmaintenance",element:h.jsx(Ege,{})}),h.jsx(Le,{path:"/login",element:h.jsx(zt,{})}),h.jsx(Le,{path:"/forgot-password",element:h.jsx($u,{})}),h.jsx(Le,{path:"/privacy-policy",element:h.jsx(qu,{})}),h.jsxs(Le,{element:h.jsx(Vu,{}),children:[h.jsx(Le,{index:!0,element:h.jsx(Wu,{})}),h.jsx(Le,{path:"/dashboard",element:h.jsx(Wu,{})})]}),h.jsx(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:h.jsx(Le,{path:"/audittrail",element:h.jsx(vee,{})})}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_genba_master"]}),children:[h.jsx(Le,{path:"/genba",element:h.jsx(Zge,{})}),h.jsx(Le,{path:"/genba/genbaactivity",element:h.jsx(bxe,{})}),h.jsx(Le,{path:"/genba/genbaactivity/formgenbaactivity",element:h.jsx(vxe,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/genba/genbaarea",element:h.jsx(axe,{})}),h.jsx(Le,{path:"/genba/genbaarea/addgenbaarea",element:h.jsx(oxe,{})}),h.jsx(Le,{path:"/genba/genbaarea/editgenbaarea/:id",element:h.jsx(cxe,{})}),h.jsx(Le,{path:"/genba/soconfiguration",element:h.jsx(txe,{})}),h.jsx(Le,{path:"/genba/soconfiguration/configure/:id",element:h.jsx(dxe,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/workflowapproval",element:h.jsx(wee,{})}),h.jsx(Le,{path:"/workflowapproval/monitoringapproval",element:h.jsx(Nee,{})}),h.jsx(Le,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:h.jsx(zge,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/worklocation",element:h.jsx(VL,{})}),h.jsx(Le,{path:"/worklocation/department",element:h.jsx(Bee,{})}),h.jsx(Le,{path:"/worklocation/department/adddepartment",element:h.jsx(zee,{})}),h.jsx(Le,{path:"/worklocation/department/editdepartment/:id",element:h.jsx(Uee,{})}),h.jsx(Le,{path:"/worklocation/workunit",element:h.jsx(Pte,{})}),h.jsx(Le,{path:"/worklocation/workunit/addworkunit",element:h.jsx(Ete,{})}),h.jsx(Le,{path:"/worklocation/workunit/editworkunit/:id",element:h.jsx(Ote,{})}),h.jsx(Le,{path:"/worklocation/workgroup",element:h.jsx(zte,{})}),h.jsx(Le,{path:"/worklocation/workgroup/addworkgroup",element:h.jsx(Fte,{})}),h.jsx(Le,{path:"/worklocation/workgroup/editworkgroup/:id",element:h.jsx(Lte,{})}),h.jsx(Le,{path:"/worklocation/workarea",element:h.jsx(Yge,{})}),h.jsx(Le,{path:"/worklocation/workarea/addworkarea",element:h.jsx($ge,{})}),h.jsx(Le,{path:"/worklocation/workarea/editworkarea/:id",element:h.jsx(Uge,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/workarrangement",element:h.jsx($L,{})}),h.jsx(Le,{path:"/workarrangement/workshift",element:h.jsx(Yte,{})}),h.jsx(Le,{path:"/workarrangement/workshift/addworkshift",element:h.jsx($te,{})}),h.jsx(Le,{path:"/workarrangement/workshift/editworkshift/:id",element:h.jsx(Ute,{})}),h.jsx(Le,{path:"/workarrangement/workgroup",element:h.jsx(zte,{})}),h.jsx(Le,{path:"/workarrangement/workgroup/addworkgroup",element:h.jsx(Fte,{})}),h.jsx(Le,{path:"/workarrangement/workgroup/editworkgroup/:id",element:h.jsx(Lte,{})})]}),h.jsx(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:h.jsx(Le,{path:"/sparepart",element:h.jsx(qL,{})})}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/assets",element:h.jsx(GL,{})}),h.jsx(Le,{path:"/assets/assetsdata",element:h.jsx(Xu,{})}),h.jsx(Le,{path:"/assets/assetsdata/addasset",element:h.jsx(Kge,{})}),h.jsx(Le,{path:"/assets/assetsdata/editasset/:id",element:h.jsx(Xge,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/vendors",element:h.jsx(Dge,{})}),h.jsx(Le,{path:"/vendors/addvendor",element:h.jsx(Ige,{})}),h.jsx(Le,{path:"/vendors/editvendor/:id",element:h.jsx(Rge,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/services",element:h.jsx(YL,{})}),h.jsx(Le,{path:"/services/servicegroups",element:h.jsx(See,{})}),h.jsx(Le,{path:"/services/servicegroups/addservicegroup",element:h.jsx(Tee,{})}),h.jsx(Le,{path:"/services/servicegroups/editservicegroup/:id",element:h.jsx(Mee,{})}),h.jsx(Le,{path:"/services/servicecatalogues",element:h.jsx(_ee,{})}),h.jsx(Le,{path:"/services/servicecatalogues/addservicecatalogue",element:h.jsx(Lee,{})}),h.jsx(Le,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:h.jsx(Pee,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/maintenanceactivity",element:h.jsx(QL,{})}),h.jsx(Le,{path:"/maintenanceactivity/stoptimes",element:h.jsx(qee,{})}),h.jsx(Le,{path:"/maintenanceactivity/stoptimes/addstoptime",element:h.jsx(Yee,{})}),h.jsx(Le,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:h.jsx(Kee,{})}),h.jsx(Le,{path:"/maintenanceactivity/activitytypes",element:h.jsx(Zee,{})}),h.jsx(Le,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:h.jsx(tte,{})}),h.jsx(Le,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:h.jsx(rte,{})}),h.jsx(Le,{path:"/maintenanceactivity/activity",element:h.jsx(jte,{})}),h.jsx(Le,{path:"/maintenanceactivity/activity/addactivity",element:h.jsx(yte,{})}),h.jsx(Le,{path:"/maintenanceactivity/activity/editactivity/:id",element:h.jsx(xte,{})}),h.jsx(Le,{path:"/maintenanceactivity/troubleitem",element:h.jsx(Ste,{})}),h.jsx(Le,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:h.jsx(Cte,{})}),h.jsx(Le,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:h.jsx(Cte,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_machinehistory"]}),children:[h.jsx(Le,{path:"/machinehistory",element:h.jsx(my,{})}),h.jsx(Le,{path:"/machinehistory/reports",element:h.jsx(yee,{})}),h.jsx(Le,{path:"/machinehistory/addmachinehistory",element:h.jsx(vL,{})}),h.jsx(Le,{path:"/machinehistory/edit/:id",element:h.jsx(jL,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_assets"]}),children:[h.jsx(Le,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:h.jsx(Hge,{})}),h.jsx(Le,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:h.jsx(Kte,{})}),h.jsx(Le,{path:"/monitoringmaintenance",element:h.jsx(Ege,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_workorders"]}),children:[h.jsx(Le,{path:"/workorders",element:h.jsx(UL,{})}),h.jsx(Le,{path:"/workorders/it",element:h.jsx(ote,{})}),h.jsx(Le,{path:"/workorders/it/addworkorder",element:h.jsx(WL,{})}),h.jsx(Le,{path:"/workorders/it/editworkorder/:id",element:h.jsx(cte,{})}),h.jsx(Le,{path:"/workorders/it/receiver",element:h.jsx(ML,{})}),h.jsx(Le,{path:"/workorders/it/receiver/editreceiver/:id",element:h.jsx(ute,{})}),h.jsx(Le,{path:"/workorders/it/assignment",element:h.jsx(pte,{})}),h.jsx(Le,{path:"/workorders/it/assignment/editassignment/:id",element:h.jsx(fte,{})}),h.jsx(Le,{path:"/workorders/it/reports",element:h.jsx(Koe,{})}),h.jsx(Le,{path:"/workorders/it/knowledgebase",element:h.jsx(IL,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_settings"]}),children:[h.jsx(Le,{path:"/settings",element:h.jsx(Zu,{})}),h.jsx(Le,{path:"/settings/change-password",element:h.jsx(SL,{})})]}),h.jsxs(Le,{element:h.jsx(Vu,{requiredPermissions:["view_permissions"]}),children:[h.jsx(Le,{path:"/permissions",element:h.jsx(kL,{})}),h.jsx(Le,{path:"/permissions/adduser",element:h.jsx(_L,{})})]}),h.jsx(Le,{path:"/logout",element:h.jsx(Yu,{})})]})})}D.createRoot(document.getElementById("root")).render(h.jsx(b.StrictMode,{children:h.jsx(it,{children:h.jsx(gt,{children:h.jsx(jxe,{})})})}));export{xy as _,i as c,a as g};
